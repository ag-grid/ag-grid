---
title: "Chart API"
enterprise: true
---

In addition to users creating their own charts from the grid, charts can also be generated by using the Chart API.

## Range Charts

Charts can be created programmatically from a range via the grid's `createRangeChart(params)` API.

<api-documentation source='grid-api/api.json' section='charts' names='["createRangeChart"]'></api-documentation>

<interface-documentation interfaceName='CreateRangeChartParams' overrideSrc='integrated-charts-api/resources/chart-api.json' ></interface-documentation>

The API returns a `ChartRef` object when a `chartContainer` is provided. This is the same structure
that is provided to the `createChartContainer(chartRef)` callback. The `ChartRef` provides the application
with the `destroyChart()` method that is required when the application wants to dispose the chart.

### Example: Charts in Grid Popup Window

This example shows how charts can be created in the grid's provided popup window. The following can be noted:

- Clicking **'Top 5 Medal Winners'** will chart the first five rows of Gold and Silver medals by Country.
- Clicking **'Bronze Medals by Country'** will chart Bronze by Country using all rows (the provided cell range does not specify rows).

- Note the **'Bronze Medals by Country'** chart is unlinked from the grid as `chartUnlinked=true`. Notice that sorting in the grid does not affect the chart and there is no chart range in the grid.

<grid-example title='Charts in Grid Popup Window' name='chart-api' type='generated' options='{ "enterprise": true, "modules": ["clientside", "menu", "charts"] }'></grid-example>

### Example: Charts in Dashboard

This example passes a `chartContainer` to the API to place the chart in a location other than the grid's popup window. The following can be noted:

- The charts are placed in `div` elements outside of the grid.
- The two pie charts are showing aggregations rather than charting individual rows.
- Clicking on a chart highlights the range in the grid for which the chart is based.
- The bar chart is sensitive to changes in the rows. For example if you sort, the chart updates to always chart the first five rows.

- All data is editable in the grid. Changes to the grid data is reflected in the charts.
- The two pie charts have legends beneath. This is configured in the `chartThemeOverrides`.


<grid-example title='Charts in Dashboard' name='dashboard' type='generated' options='{ "enterprise": true, "modules": ["clientside", "menu", "charts", "rowgrouping"], "exampleHeight": 700 }'></grid-example>

## Pivot Charts

You can also use the API to create a pivot chart. There are fewer parameters available as the pivot chart is always generated from all data in the grid:

<api-documentation source='grid-api/api.json' section='charts' names='["createPivotChart"]'></api-documentation>

The pivot chart params share the same behaviour as the [Range Chart Params](/integrated-charts-api/#range-charts) above.

This is an example showing the pivot chart API in action, using a specified chart container.

<grid-example title='Pivot Chart' name='pivot-chart-api' type='generated' options='{ "enterprise": true, "modules": ["clientside", "menu", "rowgrouping", "charts"], "exampleHeight": 900 }'></grid-example>

## Saving and Restoring Charts

A chart model that represent all the state information about the rendered charts can be obtained using `getChartModels()`. These models are returned in a format that can be easily used with the other API methods to later restore the chart.

<api-documentation source='grid-api/api.json' section='charts' names='["getChartModels"]'></api-documentation>

These models can then be supplied to the following grid api method to restore the charts:

<api-documentation source='grid-api/api.json' section='charts' names='["restoreChart"]'></api-documentation>

Note that an optional `chartContainer` can be specified when restoring a chart.

The example below demonstrates how you can save and then later restore a chart. You can make changes to the chart type, theme, data and formatting options and note how the restored chart looks the same as the chart that was saved.

- Create a range chart from the grid, which will be shown in a container below the grid.
- Change the chart type, theme, data and/or formatting in order to see the changes restored later.
- Click "Save chart" to persist a model of the visible chart into a local variable. An alert will be shown to confirm that this has happened.
- Click "Clear chart" to destroy the existing chart.
- Click "Restore chart" to restore the previously saved chart.

<grid-example title='Saving and Restoring Charts' name='saving-and-restoring-charts' type='generated' options='{ " exampleHeight": 800, "enterprise": true, "modules": ["clientside", "menu", "charts"] }'></grid-example>

## Downloading Chart Image

It is possible to retrieve a base64 encoded image rendered from the chart using the `getChartImageDataURL(params)` API. This API returns a string containing the requested data URL which is ideal for saving to a database and downloading the chart image.

<api-documentation source='grid-api/api.json' section='charts' names='["getChartImageDataURL"]'></api-documentation>

The example below demonstrates how you can retrieve images rendered from the chart in multiple formats.

- Click "Download chart PNG" to download a PNG format image.
- Click "Download chart JPEG" to download a JPEG format image.
- Click "Open PNG" to open a PNG format image of the chart in a new window.
- Click "Open JPEG" to open a JPEG format image of the chart in a new window.

<grid-example title='Downloading Chart Image' name='downloading-chart-image' type='generated' options='{ " exampleHeight": 800, "enterprise": true, "modules": ["clientside", "menu", "charts"] }'></grid-example>

## Next Up

Continue to the next section to learn about: [Chart Customisation](/integrated-charts-customisation/).


