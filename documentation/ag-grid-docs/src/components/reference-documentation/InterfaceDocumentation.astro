---
import { InterfaceDocumentation } from './InterfaceDocumentation';
import { getFrameworkFromPath } from '@features/docs/utils/urlPaths';
import { getInterfaceDocumentationModel } from './getInterfaceDocumentationModel';
import { getOverrides } from './getOverrides';
import { getJsonFile } from '@utils/pages';

const { interfaceName, overrideSrc, names, exclude, config } = Astro.props;

const framework = getFrameworkFromPath(Astro.url.pathname);

const overrides = getOverrides(overrideSrc);
const interfaceLookup = getJsonFile('reference/interfaces.AUTO.json');
const codeLookup = getJsonFile('reference/doc-interfaces.AUTO.json');
const model = getInterfaceDocumentationModel({
    framework,
    interfaceName,
    overrides,
    names,
    exclude,
    config,
    codeLookup,
    interfaceLookup,
});
---

<InterfaceDocumentation client:load interfaceName={interfaceName} framework={framework} model={model} config={config} />
