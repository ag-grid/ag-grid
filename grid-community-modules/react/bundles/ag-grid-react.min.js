!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("react-dom/server"),require("react-dom"),require("react"),require("@ag-grid-community/core")):"function"==typeof define&&define.amd?define(["exports","prop-types","react-dom/server","react-dom","react","@ag-grid-community/core"],t):t(e.AgGridReact={},e.PropTypes,e.ReactDOMServer,e.ReactDOM,e.React,e.agGrid)}(this,function(e,t,s,r,ne,se){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n="default"in r?r.default:r,ae="default"in ne?ne.default:ne;class a extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses)&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r,n=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):n?(r=n[e])?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let o=0;function i(){return"agPortalKey_"+ ++o}class l extends a{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new se.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=ne.createElement(this.reactComponent,e),e=r.createPortal(e,this.eParentElement,i());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=l.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=ne.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}l.SLOW_RENDERING_THRESHOLD=3;class c extends a{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=i(),this.portalKey=i()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new se.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=ne.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=r.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(ne.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){e=this[e+"Component"];if(e)return e.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class u{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||u.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}u.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const oe=ae.createContext({}),D=(e,s,a,o)=>{var i=!e||e.componentFromFramework;if(!i){i=e.newAgStackInstance();if(i){let t,r,n=!1;return i.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),p(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o)&&p(o,void 0)}}}},p=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},ie=e=>{const t=ne.useRef(e),r=ne.useRef(),n=ne.useRef(!1),s=ne.useRef(!1),[,a]=ne.useState(0);n.current&&(s.current=!0),ne.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{s.current&&r.current&&r.current()}),[])},le=e=>{const t=ne.useRef(e),r=ne.useRef(),n=ne.useRef(!1),s=ne.useRef(!1),[,a]=ne.useState(0);n.current&&(s.current=!0),ne.useLayoutEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{s.current&&r.current&&r.current()}),[])},Y=(...e)=>{return e.filter(e=>null!=e&&""!==e).join(" ")};class P{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){var r;return!!this.classesMap[e]==t?this:((r=new P).classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r)}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const ce=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},d=null!=n.createRoot&&null!=n.flushSync;var m=!0;const h={on:()=>m=!0,off:()=>m=!1};let C=0;const _=e=>{d&&m&&0===C?(C++,n.flushSync(e),C--):e()},A=ne.forwardRef((r,e)=>{const n=ne.useContext(oe).context,s=ne.useRef(null),t=ne.useRef(null),a=ne.useRef(null),o=ne.useRef(null),i=ne.useRef(null),[l,c]=ne.useState(),[u,p]=ne.useState(),[d,m]=ne.useState(),[h,C]=ne.useState(new P),[g,f]=ne.useState(new P("ag-hidden")),[R,E]=ne.useState(new P("ag-hidden")),[y,S]=ne.useState(new P("ag-invisible"));ne.useImperativeHandle(e,()=>({refresh(){return!1}})),ne.useLayoutEffect(()=>D(l,n,t.current),[l]),le(()=>{var e={setInnerRenderer:(e,t)=>{c(e),m(t)},setChildCount:e=>p(e),addOrRemoveCssClass:(t,r)=>C(e=>e.setClass(t,r)),setContractedDisplayed:t=>E(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>f(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>S(e=>e.setClass("ag-invisible",!t))};const t=n.createBean(new se.GroupCellRendererCtrl);return t.init(e,s.current,a.current,o.current,i.current,A,r),()=>{n.destroyBean(t)}});var e=ne.useMemo(()=>"ag-cell-wrapper "+h.toString(),[h]),w=ne.useMemo(()=>"ag-group-expanded "+g.toString(),[g]),v=ne.useMemo(()=>"ag-group-contracted "+R.toString(),[R]),O=ne.useMemo(()=>"ag-group-checkbox "+y.toString(),[y]),M=l&&l.componentFromFramework,T=M?l.componentClass:void 0,b=null==l&&null!=d,I=se._.escapeString(d,!0);return ae.createElement("span",Object.assign({className:e,ref:s},r.colDef?{}:{role:"gridcell"}),ae.createElement("span",{className:w,ref:o}),ae.createElement("span",{className:v,ref:i}),ae.createElement("span",{className:O,ref:a}),ae.createElement("span",{className:"ag-group-value",ref:t},b&&ae.createElement(ae.Fragment,null,I),M&&ae.createElement(T,Object.assign({},l.params))),ae.createElement("span",{className:"ag-group-child-count"},u))});var y=ne.memo(e=>{const t=ne.useContext(oe)["context"],[r,n]=ne.useState(),[s,a]=ne.useState(),[o,i]=ne.useState(),[l,c]=ne.useState(),[u,p]=ne.useState(),d=ne.useRef(null),m=ne.useRef(null),h=ne.useRef(null),C=ne.useRef(),g=e["ctrl"],f=ne.useMemo(()=>new se.CssClassManager(()=>d.current),[]);le(()=>{var e={setWidth:e=>d.current.style.width=e,addOrRemoveCssClass:(e,t)=>f.addOrRemoveCssClass(e,t),setColId:e=>a(e),setTitle:e=>n(e),setAriaDescription:e=>c(e),setAriaSort:e=>i(e),setUserCompDetails:e=>p(e),getUserCompInstance:()=>C.current||void 0},e=(g.setComp(e,d.current,m.current,h.current),g.getSelectAllGui());m.current.insertAdjacentElement("afterend",e)}),ne.useLayoutEffect(()=>D(u,t,h.current,C),[u]),ne.useEffect(()=>{g.setDragSource(d.current)},[u]);var e=ne.useMemo(()=>{return!!((null===u||void 0===u?void 0:u.componentFromFramework)&&ce(u.componentClass))},[u]),R=u&&u.componentFromFramework,E=u&&u.componentClass;return ae.createElement("div",{ref:d,className:"ag-header-cell",title:r,"col-id":s,"aria-sort":o,role:"columnheader",tabIndex:-1,"aria-description":l},ae.createElement("div",{ref:m,className:"ag-header-cell-resize",role:"presentation"}),ae.createElement("div",{ref:h,className:"ag-header-cell-comp-wrapper",role:"presentation"},R&&e&&ae.createElement(E,Object.assign({},u.params)),R&&!e&&ae.createElement(E,Object.assign({},u.params,{ref:C}))))}),w=ne.memo(e=>{const t=ne.useContext(oe)["context"],[r,n]=ne.useState(new P),[s,a]=ne.useState(new P),[o,i]=ne.useState("false"),[l,c]=ne.useState(),[u,p]=ne.useState(),[d,m]=ne.useState(),[h,C]=ne.useState(),g=ne.useRef(null),f=ne.useRef(null),R=e["ctrl"];le(()=>{var e={setWidth:e=>g.current.style.width=e,addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setColId:e=>p(e),setTitle:e=>c(e),setUserCompDetails:e=>C(e),setResizableDisplayed:t=>{a(e=>e.setClass("ag-hidden",!t)),i(t?"false":"true")},setAriaExpanded:e=>m(e)};R.setComp(e,g.current,f.current)}),ne.useLayoutEffect(()=>D(h,t,g.current),[h]),ne.useEffect(()=>{let t=void 0;g.current.childNodes.forEach(e=>{null!=e&&e!==f.current&&(t=e)}),t&&R.setDragSource(t)},[h]);var e=ne.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),E=ne.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),y=h&&h.componentFromFramework,S=h&&h.componentClass;return ae.createElement("div",{ref:g,className:e,title:l,"col-id":u,role:"columnheader",tabIndex:-1,"aria-expanded":d},y&&ae.createElement(S,Object.assign({},h.params)),ae.createElement("div",{ref:f,"aria-hidden":o,className:E}))}),v=ne.memo(e=>{const t=ne.useContext(oe)["context"],[r,n]=ne.useState(new P("ag-header-cell","ag-floating-filter")),[s,a]=ne.useState(new P),[o,i]=ne.useState(new P("ag-floating-filter-button","ag-hidden")),[l,c]=ne.useState("false"),[u,p]=ne.useState(),d=ne.useRef(null),m=ne.useRef(null);var h=ne.useRef(null);const C=ne.useRef(null),g=ne.useRef(!1),f=ne.useRef(),R=ne.useRef(),E=(le(()=>{R.current=new se.AgPromise(e=>{f.current=e})}),e=>{g.current||null!=e&&(f.current&&f.current(e),g.current=!0)}),y=e["ctrl"];le(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>a(e=>e.setClass(t,r)),setButtonWrapperDisplayed:t=>{i(e=>e.setClass("ag-hidden",!t)),c(t?"false":"true")},setWidth:e=>d.current.style.width=e,setCompDetails:e=>p(e),getFloatingFilterComp:()=>R.current||null,setMenuIcon:e=>C.current.appendChild(e)};y.setComp(e,d.current,C.current,m.current)}),ne.useLayoutEffect(()=>D(u,t,m.current,E),[u]);var e=ne.useMemo(()=>r.toString(),[r]),S=ne.useMemo(()=>s.toString(),[s]),w=ne.useMemo(()=>o.toString(),[o]),v=ne.useMemo(()=>{return!!(u&&u.componentFromFramework&&ce(u.componentClass))},[u]),O=u&&u.componentFromFramework,M=u&&u.componentClass;return ae.createElement("div",{ref:d,className:e,role:"gridcell",tabIndex:-1},ae.createElement("div",{ref:m,className:S,role:"presentation"},O&&v&&ae.createElement(M,Object.assign({},u.params)),O&&!v&&ae.createElement(M,Object.assign({},u.params,{ref:E}))),ae.createElement("div",{ref:h,"aria-hidden":l,className:w,role:"presentation"},ae.createElement("button",{ref:C,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))}),O=ne.memo(e=>{const o=ne.useContext(oe)["gridOptionsService"],[t,r]=ne.useState(),[n,s]=ne.useState(),[a,i]=ne.useState(),[l,c]=ne.useState(),[u,p]=ne.useState([]),d=ne.useRef(null),m=e["ctrl"],h=m.getType()===se.HeaderRowType.COLUMN,C=m.getType()===se.HeaderRowType.COLUMN_GROUP,g=m.getType()===se.HeaderRowType.FLOATING_FILTER,f=ne.useCallback((e,t)=>{var r=o.is("ensureDomOrder"),n=o.isDomLayout("print");if(r||n)return t;const s=se._.mapById(e,e=>e.getInstanceId()),a=se._.mapById(t,e=>e.getInstanceId());r=e.filter(e=>a.has(e.getInstanceId())),n=t.filter(e=>!s.has(e.getInstanceId()));return[...r,...n]},[]);le(()=>{var e={setTransform:e=>r(e),setHeight:e=>s(e),setTop:e=>i(e),setHeaderCtrls:t=>p(e=>f(e,t)),setWidth:e=>d.current.style.width=e,setAriaRowIndex:e=>c(e)};m.setComp(e)});var e=ne.useMemo(()=>({transform:t,height:n,top:a}),[t,n,a]),R=ne.useMemo(()=>{var e=["ag-header-row"];return h&&e.push("ag-header-row-column"),C&&e.push("ag-header-row-column-group"),g&&e.push("ag-header-row-column-filter"),e.join(" ")},[]),E=ne.useCallback(e=>{switch(m.getType()){case se.HeaderRowType.COLUMN_GROUP:return ae.createElement(w,{ctrl:e,key:e.getInstanceId()});case se.HeaderRowType.FLOATING_FILTER:return ae.createElement(v,{ctrl:e,key:e.getInstanceId()});default:return ae.createElement(y,{ctrl:e,key:e.getInstanceId()})}},[]);return ae.createElement("div",{ref:d,className:R,role:"row",style:e,"aria-rowindex":l},u.map(E))}),g=ne.memo(r=>{const[e,n]=ne.useState(new P),[t,s]=ne.useState(!1),[a,o]=ne.useState([]),i=ne.useContext(oe)["context"],l=ne.useRef(null),c=ne.useRef(null);var u="left"===r.pinned,p="right"===r.pinned,d=!u&&!p,m=(le(()=>{var e={setDisplayed:t=>{n(e=>e.setClass("ag-hidden",!t)),s(!t)},setCtrls:e=>o(e),setCenterWidth:e=>{c.current&&(c.current.style.width=e)},setViewportScrollLeft:e=>{l.current&&(l.current.scrollLeft=e)},setPinnedContainerWidth:e=>{l.current.style.width=e,l.current.style.minWidth=e,l.current.style.maxWidth=e}};const t=i.createBean(new se.HeaderRowContainerCtrl(r.pinned));return t.setComp(e,l.current),()=>{i.destroyBean(t)}}),ne.useMemo(()=>e.toString(),[e])),h=()=>a.map(e=>ae.createElement(O,{ctrl:e,key:e.getInstanceId()}));return ae.createElement(ae.Fragment,null,u&&ae.createElement("div",{ref:l,className:"ag-pinned-left-header "+m,"aria-hidden":t,role:"presentation"},h()),p&&ae.createElement("div",{ref:l,className:"ag-pinned-right-header "+m,"aria-hidden":t,role:"presentation"},h()),d&&ae.createElement("div",{ref:l,className:"ag-header-viewport "+m,role:"presentation"},ae.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},h())))}),q=ne.memo(()=>{const[e,n]=ne.useState(new P),[t,r]=ne.useState(),s=ne.useContext(oe)["context"],a=ne.useRef(null);le(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)};const t=s.createBean(new se.GridHeaderCtrl);return t.setComp(e,a.current,a.current),()=>{s.destroyBean(t)}});var o=ne.useMemo(()=>{return"ag-header "+e.toString()},[e]),i=ne.useMemo(()=>({height:t,minHeight:t}),[t]);return ae.createElement("div",{ref:a,className:o,style:i,role:"presentation"},ae.createElement(g,{pinned:"left"}),ae.createElement(g,{pinned:null}),ae.createElement(g,{pinned:"right"}))});const $=(n,s)=>{ie(()=>{var e=s.current;const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}})};var ue=ne.memo(c=>{const[e,u]=ne.useState(),{context:p,popupService:d,localeService:m,gridOptionsService:h}=ne.useContext(oe);return le(()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=h.is("stopEditingWhenCellsLoseFocus");const a=p.createBean(new se.PopupEditorWrapper(n.params));var n=a.getGui(),o=(c.jsChildComp&&(o=c.jsChildComp.getGui())&&n.appendChild(o),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:n,position:e.popupPosition,keepWithinBounds:!0}),o=d.positionPopupByComponent.bind(d,o),i=m.getLocaleTextFunc(),s=d.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:o,ariaLabel:i("ariaLabelCellEditor","Cell Editor")});const l=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=l&&l(),p.destroyBean(a)}}),ae.createElement(ae.Fragment,null,e&&c.wrappedContent&&r.createPortal(c.wrappedContent,e.getGui()))});var x=ne.memo(e=>{const s=ne.useContext(oe)["context"],{cellCtrl:u,printLayout:r,editingRow:n}=e,[p,a]=ne.useState(),[d,o]=ne.useState(),[m,i]=ne.useState(1),[t,l]=ne.useState(),[c,_]=ne.useState(),[x,B]=ne.useState(),[L,U]=ne.useState(),[j,H]=ne.useState(),[h,W]=ne.useState(!1),[C,V]=ne.useState(!1),[g,K]=ne.useState(!1),[Y,f]=ne.useState(),R=ne.useMemo(()=>u.isForceWrapper(),[]),E=ne.useRef(null),y=ne.useRef(null),S=ne.useRef(),w=ne.useRef(),v=ne.useRef(),[$,q]=ne.useState(0);e=ne.useCallback(e=>{v.current=e,q(e=>e+1)},[]);const O=ne.useRef(),[z,X]=ne.useState(0),Z=ne.useCallback(e=>{O.current=e,X(e=>e+1)},[]);var M=null!=p&&(h||g||C);const T=R||M,b=ne.useCallback((e,t)=>{if(w.current=t){var r=t,n=u,s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;se._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;se._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>{u.stopEditing(!0),u.focusCell(!0)})}},[]),J=ne.useCallback(e=>b(!0,e),[]),Q=ne.useCallback(e=>b(!1,e),[]),I=ne.useMemo(()=>new se.CssClassManager(()=>E.current),[]);{var P=p,A=T,N=O.current,G=(M=z,S),ee=E;const F=ne.useContext(oe)["context"],D=ne.useCallback(()=>{var e,t=G.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),F.destroyBean(t),G.current=void 0)},[]);ne.useEffect(()=>{var e=P&&P.compDetails&&!P.compDetails.componentFromFramework;if(null!=P&&e&&!(A&&null==N)){e=P.compDetails;if(G.current){const r=G.current;var t=null!=r.refresh&&0==P.force&&r.refresh(e.params);if(!0===t||void 0===t)return;D()}t=e.newAgStackInstance();if(t){const r=t.resolveNow(null,e=>e);r&&(e=r.getGui())&&((A?N:ee.current).appendChild(e),G.current=r)}}else D()},[P,A,M]),ie(()=>D)}const k=ne.useRef(),te=(ne.useLayoutEffect(()=>{var e=k.current,t=p;k.current=p,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass)&&null!=y.current&&null!=y.current.refresh&&1!=y.current.refresh(t.params)&&i(e=>e+1)},[p]),ne.useLayoutEffect(()=>{if(d&&!d.compDetails.componentFromFramework){var e=d.compDetails;const t=!0===d.popup,r=(e=>{e=e.newAgStackInstance();if(e)return e.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return b(t,r),t||(null!=(e=(R?v:E).current)&&e.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),f(r),()=>{s.destroyBean(r),b(t,void 0),f(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[d]),ne.useLayoutEffect(()=>{if(u&&s&&v.current&&T){const r=[];var e=e=>{if(e){const t=e.getGui();v.current.insertAdjacentElement("afterbegin",t),r.push(()=>{s.destroyBean(e),se._.removeFromParent(t)})}return e};return h&&e(u.createSelectionCheckbox()),g&&e(u.createDndSource()),C&&e(u.createRowDragComp()),()=>r.forEach(e=>e())}},[T,g,C,h,$]),le(()=>{var e,t;u&&(e={addOrRemoveCssClass:(e,t)=>I.addOrRemoveCssClass(e,t),setUserStyles:e=>l(e),getFocusableElement:()=>E.current,setTabIndex:e=>_(e),setRole:e=>B(e),setColId:e=>U(e),setTitle:e=>H(e),setIncludeSelection:e=>W(e),setIncludeRowDrag:e=>V(e),setIncludeDndSource:e=>K(e),getCellEditor:()=>w.current||null,getCellRenderer:()=>y.current||S.current,getParentOfValue:()=>O.current||v.current||E.current,setRenderDetails:(e,t,r)=>{a({value:t,compDetails:e,force:r})},setEditDetails:(e,t,r)=>{e?(o({compDetails:e,popup:t,popupPosition:r}),t||a(void 0)):o(void 0)}},t=v.current||void 0,u.setComp(e,E.current,t,r,n))}),ne.useMemo(()=>{return!!(p&&p.compDetails&&p.compDetails.componentFromFramework&&ce(p.compDetails.componentClass))},[p])),re=(ne.useEffect(()=>{var e;E.current&&(I.addOrRemoveCssClass("ag-cell-value",!T),I.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),I.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),I.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),null!=(e=u.getRowCtrl()))&&e.setInlineEditingCss(!!d)}),ne.useMemo(()=>u.getInstanceId(),[]));M=()=>{return ae.createElement(ae.Fragment,null,null!=p&&((e,t,r,n,s,a,o)=>{const{compDetails:i,value:l}=e,c=!i,u=i&&i.componentFromFramework,p=i&&i.componentClass,d=null!=l&&l.toString?l.toString():l;e=()=>ae.createElement(ae.Fragment,null,c&&ae.createElement(ae.Fragment,null,d),u&&!a&&ae.createElement(p,Object.assign({},i.params,{key:t,ref:n})),u&&a&&ae.createElement(p,Object.assign({},i.params,{key:t})));return ae.createElement(ae.Fragment,null,s?ae.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(p,m,re,y,T,te,Z),null!=d&&(e=d,t=Q,r=J,n=E.current,s=u,a=Y,o=e.compDetails,i=o.componentClass,l=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup,ae.createElement(ae.Fragment,null,l&&ae.createElement(i,Object.assign({},e.compDetails.params,{ref:t})),c&&ae.createElement(ue,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:ae.createElement(i,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&ae.createElement(ue,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))));var e,t,r,n,s,a,o,i,l,c};return ae.createElement("div",{ref:E,style:t,tabIndex:c,role:x,"col-id":L,title:j},T?ae.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:e},M()):M())});var M=ne.memo(e=>{const t=ne.useContext(oe)["context"],{rowCtrl:r,containerType:n}=e,[s,a]=ne.useState(),[o,i]=ne.useState(),[l,c]=ne.useState(),[u,p]=ne.useState(),[d,m]=ne.useState(),[h,C]=ne.useState(),[g,f]=ne.useState({list:[],instanceIdMap:new Map}),[R,E]=ne.useState(),[y,S]=ne.useState(!1),[w,v]=ne.useState(r.getInitialRowTop(n)),[O,M]=ne.useState(r.getInitialTransform(n)),T=ne.useRef(null),b=ne.useRef(),I=ne.useRef(!1),[P,A]=ne.useState(0),N=(ne.useEffect(()=>{var e;I.current||!R||10<P||((e=null==(e=T.current)?void 0:e.firstChild)?(r.setupDetailRowAutoHeight(e),I.current=!0):A(e=>e+1))},[R,P]),ne.useMemo(()=>new se.CssClassManager(()=>T.current),[]));le(()=>{var e;if(r.isAlive())return e={setTop:e=>v(e),setTransform:e=>M(e),addOrRemoveCssClass:(e,t)=>N.addOrRemoveCssClass(e,t),setDomOrder:e=>S(e),setRowIndex:e=>a(e),setRowId:e=>i(e),setRowBusinessKey:e=>p(e),setTabIndex:e=>m(e),setUserStyles:e=>C(e),setRole:e=>c(e),setCellCtrls:l=>{_(()=>{f(e=>{{var r=e,t;if(e=l,y){const i={list:e,instanceIdMap:new Map};return e.forEach(e=>i.instanceIdMap.set(e.getInstanceId(),e)),i}const n=[],s=[],a=new Map,o=new Map,i=(e.forEach(e=>o.set(e.getInstanceId(),e)),r.list.forEach(e=>{var t=e.getInstanceId();o.has(t)&&(n.push(e),a.set(t,e))}),e.forEach(e=>{var t=e.getInstanceId();r.instanceIdMap.has(t)||(s.push(e),a.set(t,e))}),{list:[...n,...s],instanceIdMap:a});return i}})})},showFullWidth:e=>E(e),getFullWidthCellRenderer:()=>b.current},r.setComp(e,T.current,n),()=>{r.unsetComp(n)}}),ne.useLayoutEffect(()=>D(R,t,T.current,b),[R]);var e=ne.useMemo(()=>{var e={top:w,transform:O};return Object.assign(e,h),e},[w,O,h]),G=R&&R.componentFromFramework,k=null!=g;const F=ne.useMemo(()=>{return!!((null===R||void 0===R?void 0:R.componentFromFramework)&&ce(R.componentClass))},[R]);return ae.createElement("div",{ref:T,role:l,style:e,"row-index":s,"row-id":o,"row-business-key":u,tabIndex:d},k&&g.list.map(e=>ae.createElement(x,{cellCtrl:e,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:e.getInstanceId()})),G&&(e=R.componentClass,ae.createElement(ae.Fragment,null,F&&ae.createElement(e,Object.assign({},R.params)),!F&&ae.createElement(e,Object.assign({},R.params,{ref:b})))))}),z=ne.memo(e=>{const n=ne.useContext(oe)["context"],[t,r]=ne.useState([]),s=e["name"],a=ne.useMemo(()=>se.getRowContainerTypeForName(s),[s]),o=ne.useRef(null),i=ne.useRef(null),l=ne.useRef(null),c=ne.useRef([]),u=ne.useRef(!1),p=ne.useMemo(()=>se.RowContainerCtrl.getRowContainerCssClasses(s),[s]);var e=ne.useMemo(()=>Y(p.wrapper),[]),d=ne.useMemo(()=>Y(p.viewport),[]);const m=ne.useMemo(()=>Y(p.container),[]);var h=s===se.RowContainerName.CENTER,C=s===se.RowContainerName.TOP_CENTER||s===se.RowContainerName.BOTTOM_CENTER||s===se.RowContainerName.STICKY_TOP_CENTER,g=!h&&!C,f=h?o:C?i:l;function R(){_(()=>{r(e=>{const t=c.current;if(u.current)return t;const r=e.filter(e=>0<=t.indexOf(e));e=t.filter(e=>r.indexOf(e)<0);return[...r,...e]})})}$(" AG Row Container "+s+" ",f),le(()=>{const e=[];var t={setViewportHeight:e=>i.current.style.height=e,setRowCtrls:e=>{c.current!==e&&(c.current=e,R())},setDomOrder:e=>{u.current!=e&&(u.current=e,R())},setContainerWidth:e=>l.current.style.width=e},r=n.createBean(new se.RowContainerCtrl(s));return e.push(r),r.setComp(t,l.current,i.current,o.current),()=>{n.destroyBeans(e)}});f=()=>ae.createElement("div",{className:m,ref:l,role:t.length?"rowgroup":"presentation"},t.map(e=>ae.createElement(M,{rowCtrl:e,containerType:a,key:e.getInstanceId()})));return ae.createElement(ae.Fragment,null,h&&ae.createElement("div",{className:e,ref:o,role:"presentation"},ae.createElement("div",{className:d,ref:i,role:"presentation"},f())),C&&ae.createElement("div",{className:d,ref:i,role:"presentation"},f()),g&&f())}),b=ne.memo(()=>{const{context:s,agStackComponentsRegistry:a,resizeObserverService:o}=ne.useContext(oe),[e,i]=ne.useState(""),[t,l]=ne.useState(0),[r,c]=ne.useState(0),[n,u]=ne.useState("0px"),[p,d]=ne.useState("0px"),[m,h]=ne.useState("100%"),[C,g]=ne.useState(""),[f,R]=ne.useState(""),[E,y]=ne.useState(null),[S,w]=ne.useState(""),[v,O]=ne.useState(null),[M,T]=ne.useState("ag-layout-normal"),b=ne.useMemo(()=>new se.CssClassManager(()=>I.current),[]),I=ne.useRef(null),P=ne.useRef(null),A=ne.useRef(null),N=ne.useRef(null),G=ne.useRef(null),k=ne.useRef(null);$(" AG Grid Body ",I),$(" AG Pinned Top ",P),$(" AG Sticky Top ",A),$(" AG Middle ",G),$(" AG Pinned Bottom ",k),le(()=>{const t=[],r=[];var e,n;if(s)return e=e=>{e=a.getComponentClass(e),e=s.createBean(new e);return t.push(e),e},I.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),I.current.appendChild(e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),I.current.appendChild(document.createComment(" AG Overlay Wrapper ")),I.current.appendChild(e("AG-OVERLAY-WRAPPER").getGui()),N.current.appendChild(document.createComment(" AG Fake Vertical Scroll ")),N.current.appendChild(e("AG-FAKE-VERTICAL-SCROLL").getGui()),e={setRowAnimationCssOnBodyViewport:i,setColumnCount:e=>se._.setAriaColCount(I.current,e),setRowCount:e=>se._.setAriaRowCount(I.current,e),setTopHeight:l,setBottomHeight:c,setStickyTopHeight:u,setStickyTopTop:d,setStickyTopWidth:h,setTopDisplay:g,setBottomDisplay:R,setColumnMovingCss:(e,t)=>b.addOrRemoveCssClass(e,t),updateLayoutClasses:T,setAlwaysVerticalScrollClass:y,setPinnedTopBottomOverflowY:w,setCellSelectableCss:O,setBodyViewportWidth:e=>G.current.style.width=e,registerBodyViewportResizeListener:e=>{const t=o.observeResize(G.current,e);r.push(()=>t())}},n=s.createBean(new se.GridBodyCtrl),t.push(n),n.setComp(e,I.current,G.current,P.current,k.current,A.current),()=>{s.destroyBeans(t),r.forEach(e=>e())}});var F=ne.useMemo(()=>Y("ag-root","ag-unselectable",M),[M]),_=ne.useMemo(()=>Y("ag-body-viewport",e,M,E,v),[e,M,E,v]),x=ne.useMemo(()=>Y("ag-body",M),[M]),B=ne.useMemo(()=>Y("ag-body-clipper",M),[M]),L=ne.useMemo(()=>Y("ag-floating-top",v),[v]),U=ne.useMemo(()=>Y("ag-sticky-top",v),[v]),j=ne.useMemo(()=>Y("ag-floating-bottom",v),[v]),H=ne.useMemo(()=>({height:t,minHeight:t,display:C,overflowY:S}),[t,C,S]),W=ne.useMemo(()=>({height:n,top:p,width:m}),[n,p,m]),V=ne.useMemo(()=>({height:r,minHeight:r,display:f,overflowY:S}),[r,f,S]);const K=e=>ae.createElement(z,{name:e,key:e+"-container"});var D=({section:e,children:t,className:r,style:n})=>ae.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(K));return ae.createElement("div",{ref:I,className:F,role:"treegrid"},ae.createElement(q,null),D({section:P,className:L,style:H,children:[se.RowContainerName.TOP_LEFT,se.RowContainerName.TOP_CENTER,se.RowContainerName.TOP_RIGHT,se.RowContainerName.TOP_FULL_WIDTH]}),ae.createElement("div",{className:x,ref:N,role:"presentation"},ae.createElement("div",{className:B,role:"presentation"},D({section:G,className:_,children:[se.RowContainerName.LEFT,se.RowContainerName.CENTER,se.RowContainerName.RIGHT,se.RowContainerName.FULL_WIDTH]}))),D({section:A,className:U,style:W,children:[se.RowContainerName.STICKY_TOP_LEFT,se.RowContainerName.STICKY_TOP_CENTER,se.RowContainerName.STICKY_TOP_RIGHT,se.RowContainerName.STICKY_TOP_FULL_WIDTH]}),D({section:k,className:j,style:V,children:[se.RowContainerName.BOTTOM_LEFT,se.RowContainerName.BOTTOM_CENTER,se.RowContainerName.BOTTOM_RIGHT,se.RowContainerName.BOTTOM_FULL_WIDTH]}))}),T=ne.forwardRef((e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:a,gridCtrl:o}=e,i=ne.useContext(oe)["context"],l=ne.useRef(null),c=ne.useRef(null),u=ne.useRef(),[n,p]=ne.useState();ne.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){u.current.forceFocusOutOfContainer()}})),le(()=>{var e=l.current,t=c.current,r={setTabIndex:e=>null==e?p(void 0):p(parseInt(e,10))};const n=u.current=i.createBean(new se.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:s,onTabKeyDown:a,focusInnerElement:e=>o.focusInnerElement(e)}));return()=>{i.destroyBean(n)}});e=e=>{var t="top"===e?se.TabGuardClassNames.TAB_GUARD_TOP:se.TabGuardClassNames.TAB_GUARD_BOTTOM;return ae.createElement("div",{className:se.TabGuardClassNames.TAB_GUARD+" "+t,role:"presentation",tabIndex:n,ref:"top"===e?l:c})};return ae.createElement(ae.Fragment,null,e("top"),r,e("bottom"))}),I=ne.memo(T),N=ne.memo(({context:p})=>{const[e,r]=ne.useState(""),[t,n]=ne.useState(""),[s,a]=ne.useState(""),[o,i]=ne.useState(null),[l,c]=ne.useState(null),[u,d]=ne.useState(!1),[m,h]=ne.useState(),C=ne.useRef(null),g=ne.useRef(null),f=ne.useRef(),R=ne.useRef(null),E=ne.useRef(()=>{});var y=ne.useCallback(()=>{},[]);const S=ne.useMemo(()=>p.getBean("beans"),[]);$(" AG Grid ",g),le(()=>{const e=C.current=p.createBean(new se.GridCtrl);return()=>{p.destroyBean(e),C.current=null}}),le(()=>{var e=C.current,t=(E.current=e.focusInnerElement.bind(e),{destroyGridUi:()=>{},setRtlClass:r,addOrRemoveKeyboardFocusClass:e=>n(e?se.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{f.current.forceFocusOutOfContainer()},updateLayoutClasses:a,getFocusableContainers:()=>{var e=[],t=g.current.querySelector(".ag-root"),r=g.current.querySelector(".ag-side-bar:not(.ag-hidden)");return t&&e.push(t),r&&e.push(r),e},setCursor:i,setUserSelect:c});e.setComp(t,g.current,g.current),d(!0)}),ne.useEffect(()=>{if(m){var e=C.current;const c=[];var t=S["agStackComponentsRegistry"],r=t.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),n=t.getComponentClass("AG-SIDE-BAR"),s=t.getComponentClass("AG-STATUS-BAR"),a=t.getComponentClass("AG-WATERMARK"),t=t.getComponentClass("AG-PAGINATION");const u=[];var o,i=g.current,l=R.current;return e.showDropZones()&&r&&(o=(r=p.createBean(new r)).getGui(),i.insertAdjacentElement("afterbegin",o),u.push(o),c.push(r)),e.showSideBar()&&n&&(r=(o=p.createBean(new n)).getGui(),(n=l.querySelector(".ag-tab-guard-bottom"))&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),c.push(o)),e.showStatusBar()&&s&&(n=(l=p.createBean(new s)).getGui(),i.insertAdjacentElement("beforeend",n),u.push(n),c.push(l)),t&&(o=(r=p.createBean(new t)).getGui(),i.insertAdjacentElement("beforeend",o),u.push(o),c.push(r)),e.showWatermark()&&a&&(n=(s=p.createBean(new a)).getGui(),i.insertAdjacentElement("beforeend",n),u.push(n),c.push(s)),()=>{p.destroyBeans(c),u.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[m]);var w=ne.useMemo(()=>Y("ag-root-wrapper",e,t,s),[e,t,s]),v=ne.useMemo(()=>Y("ag-root-wrapper-body","ag-focus-managed",s),[s]),O=ne.useMemo(()=>({userSelect:null!=l?l:"",WebkitUserSelect:null!=l?l:"",cursor:null!=o?o:""}),[l,o]),M=R.current,T=ne.useCallback(e=>{f.current=e,h(!0)},[]);return ae.createElement("div",{ref:g,className:w,style:O,role:"presentation"},ae.createElement("div",{className:v,ref:R,role:"presentation"},u&&M&&ae.createElement(oe.Provider,{value:S},ae.createElement(I,{ref:T,eFocusableElement:M,onTabKeyDown:y,gridCtrl:C.current},ae.createElement(b,null)))))});class S extends ne.Component{constructor(e){super(e),this.props=e,this.destroyFuncs=[],this.eGui=ae.createRef(),this.whenReadyFuncs=[],this.ready=!1,this.renderedAfterMount=!1,this.mounted=!1,this.state={context:void 0},this.portalManager=new u(this,e.componentWrappingElement,e.maxComponentCreationTimeMs),this.destroyFuncs.push(()=>this.portalManager.destroy())}render(){return this.state.context,this.state.context&&(this.renderedAfterMount=!0),h.off(),setTimeout(()=>h.on(),0),ae.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&ae.createElement(N,{context:this.state.context}),this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e;this.mounted||(this.mounted=!0,e=this.props.modules||[],e={providedBeanInstances:{frameworkComponentWrapper:new G(this.portalManager)},modules:e,frameworkOverrides:new f(!0)},this.gridOptions=this.props.gridOptions||{},this.gridOptions=se.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props),this.checkForDeprecations(this.props),(new se.GridCoreCreator).create(this.eGui.current,this.gridOptions,e=>{this.setState({context:e}),e.getBean(se.CtrlsService.NAME).whenReady(()=>{this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi),this.destroyFuncs.push(()=>this.api.destroy())})},e=>{e.getBean(se.CtrlsService.NAME).whenReady(()=>{this.whenReadyFuncs.forEach(e=>e()),this.whenReadyFuncs.length=0,this.ready=!0})},e))}checkForDeprecations(e){e.rowDataChangeDetectionStrategy&&se._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")}componentWillUnmount(){this.renderedAfterMount&&(this.destroyFuncs.forEach(e=>e()),this.destroyFuncs.length=0)}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.processChanges(r)}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{se.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),se.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}processChanges(e){this.processWhenReady(()=>se.ComponentUtil.processOnChange(e,this.api))}processWhenReady(e){this.ready?e():this.whenReadyFuncs.push(e)}}class G extends se.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new c(e,this.parent,t)}}var k=ne.forwardRef((n,e)=>{const{ctrlsFactory:s,context:a,gridOptionsService:o,resizeObserverService:i,clientSideRowModel:l,serverSideRowModel:c}=ne.useContext(oe),[t,u]=ne.useState(new P),[r,p]=ne.useState(new P),[d,m]=ne.useState(),[h,C]=ne.useState(),g=ne.useRef(),f=ne.useRef(null);var R=ne.useMemo(()=>t.toString()+" ag-details-row",[t]),E=ne.useMemo(()=>r.toString()+" ag-details-grid",[r]),e=(e&&ne.useImperativeHandle(e,()=>({refresh(){return g.current.refresh()}})),le(()=>{n.template&&"string"==typeof n.template&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")}),le(()=>{var t={addOrRemoveCssClass:(t,r)=>u(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>p(e=>e.setClass(t,r)),setDetailGrid:e=>m(e),setRowData:e=>C(e),getGui:()=>f.current};const r=s.getInstance("detailCellRenderer");if(r){a.createBean(r),r.init(t,n),g.current=r;let e;return o.is("detailRowAutoHeight")&&(t=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{n.node.setRowHeight(e),l?l.onRowHeightChanged():c&&c.onRowHeightChanged()},0)}},e=i.observeResize(f.current,t),t()),()=>{a.destroyBean(r),e&&e()}}}),ne.useCallback((e,t)=>{g.current.registerDetailWithMaster(e,t)},[]));return ae.createElement("div",{className:R,ref:f},d&&ae.createElement(S,Object.assign({className:E},d,{rowData:h,setGridApi:e})))});class f extends se.VanillaFrameworkOverrides{constructor(e){super(),this.frameworkComponents={agGroupCellRenderer:A,agGroupRowRenderer:A,agDetailCellRenderer:k},this.reactUi=e}frameworkComponent(e){if(this.reactUi)return this.frameworkComponents[e]}isFrameworkComponent(e){return!(!e||(e=e.prototype)&&"getGui"in e)}}class R extends ne.Component{constructor(e){super(e),this.props=e,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new u(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return ae.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new F(this,this.portalManager)},modules:e,frameworkOverrides:new f(!1)},t=this.props.gridOptions||{};this.gridOptions=se.ComponentUtil.copyAttributesToGridOptions(t,this.props),this.checkForDeprecations(this.props),new se.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}checkForDeprecations(e){e.rowDataChangeDetectionStrategy&&se._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{se.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),se.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&se.ComponentUtil.processOnChange(r,this.api)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&se.ComponentUtil.processOnChange(e,this.api)})}}function E(e,t){e.forEach(e=>{R[e]=t})}R.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,R.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:R.MAX_COMPONENT_CREATION_TIME_IN_MS},R.propTypes={gridOptions:t.object},E(se.ComponentUtil.EVENT_CALLBACKS,t.func),E(se.ComponentUtil.BOOLEAN_PROPERTIES,t.bool),E(se.ComponentUtil.STRING_PROPERTIES,t.string),E(se.ComponentUtil.OBJECT_PROPERTIES,t.object),E(se.ComponentUtil.ARRAY_PROPERTIES,t.array),E(se.ComponentUtil.NUMBER_PROPERTIES,t.number),E(se.ComponentUtil.FUNCTION_PROPERTIES,t.func);class F extends se.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new l(e,this.agGridReact,this.portalManager,t):new c(e,this.portalManager,t)}}class B extends ne.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){return this.props.suppressReactUi?ae.createElement(R,Object.assign({},this.props,{setGridApi:this.setGridApi})):ae.createElement(S,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}e.AgGridReact=B,e.AgGridReactLegacy=R,e.AgGridReactFire=S,Object.defineProperty(e,"__esModule",{value:!0})});
