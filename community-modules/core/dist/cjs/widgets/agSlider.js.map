{"version":3,"sources":["../../src/ts/widgets/agSlider.ts"],"names":[],"mappings":"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","file":"agSlider.js","sourcesContent":["import { RefSelector } from \"./componentAnnotations\";\nimport { AgInputRange } from \"./agInputRange\";\nimport { AgAbstractLabel, LabelAlignment } from \"./agAbstractLabel\";\nimport { AgInputNumberField } from \"./agInputNumberField\";\nimport { AgAbstractField } from \"./agAbstractField\";\nimport { _ } from \"../utils\";\nimport { PostConstruct } from \"../context/context\";\n\nexport class AgSlider extends AgAbstractLabel {\n    private static TEMPLATE =\n        `<div class=\"ag-slider\">\n            <label ref=\"eLabel\"></label>\n            <div class=\"ag-wrapper ag-slider-wrapper\">\n                <ag-input-range ref=\"eSlider\"></ag-input-range>\n                <ag-input-number-field ref=\"eText\"></ag-input-number-field>\n            </div>\n        </div>`;\n\n    @RefSelector('eLabel') protected eLabel: HTMLElement;\n    @RefSelector('eSlider') private eSlider: AgInputRange;\n    @RefSelector('eText') private eText: AgInputNumberField;\n\n    protected labelAlignment: LabelAlignment = 'top';\n\n    constructor() {\n        super(AgSlider.TEMPLATE);\n    }\n\n    @PostConstruct\n    private init() {\n        _.addCssClass(this.eSlider.getGui(), 'ag-slider-field');\n    }\n\n    public onValueChange(callbackFn: (newValue: number) => void) {\n        const eventChanged = AgAbstractField.EVENT_CHANGED;\n        this.addDestroyableEventListener(this.eText, eventChanged, () => {\n            const textValue = parseFloat(this.eText.getValue());\n            this.eSlider.setValue(textValue.toString(), true);\n            callbackFn(textValue || 0);\n        });\n\n        this.addDestroyableEventListener(this.eSlider, eventChanged, () => {\n            const sliderValue = this.eSlider.getValue();\n            this.eText.setValue(sliderValue, true);\n            callbackFn(parseFloat(sliderValue));\n        });\n\n        return this;\n    }\n\n    public setSliderWidth(width: number): this {\n        this.eSlider.setWidth(width);\n        return this;\n    }\n\n    public setTextFieldWidth(width: number): this {\n        this.eText.setWidth(width);\n        return this;\n    }\n\n    public setMinValue(minValue: number): this {\n        this.eSlider.setMinValue(minValue);\n        this.eText.setMin(minValue);\n\n        return this;\n    }\n\n    public setMaxValue(maxValue: number): this {\n        this.eSlider.setMaxValue(maxValue);\n        this.eText.setMax(maxValue);\n        return this;\n    }\n\n    public getValue(): string {\n        return this.eText.getValue();\n    }\n\n    public setValue(value: string): this {\n        if (this.getValue() === value) {\n            return this;\n        }\n\n        this.eText.setValue(value, true);\n        this.eSlider.setValue(value, true);\n\n        this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n\n        return this;\n    }\n\n    public setStep(step: number): this {\n        this.eSlider.setStep(step);\n        this.eText.setStep(step);\n        return this;\n    }\n}"]}