{"version":3,"sources":["../../../src/ts/widgets/agInputTextField.ts"],"names":[],"mappings":";;;;;;;;AAAA,iEAA2E;AAC3E,8CAA0C;AAM1C,MAAa,gBAAiB,SAAQ,2CAA+D;IACjG,YAAY,MAAwB,EAAE,SAAS,GAAG,eAAe,EAAE,SAAS,GAAG,MAAM;QACjF,KAAK,CAAC,MAAM,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;IACxC,CAAC;IAES,aAAa;QACnB,KAAK,CAAC,aAAa,EAAE,CAAC;QAEtB,IAAI,IAAI,CAAC,MAAM,CAAC,kBAAkB,EAAE;YAChC,IAAI,CAAC,2BAA2B,EAAE,CAAC;SACtC;IACL,CAAC;IAEM,QAAQ,CAAC,KAAqB,EAAE,MAAgB;QACnD,MAAM,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,KAAK,KAAK,EAAE;YAC7B,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,gBAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;SAClD;QAED,OAAO,GAAG,CAAC;IACf,CAAC;IAEO,2BAA2B;QAC/B,MAAM,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,kBAAkB,GAAG,CAAC,CAAC;QAElE,MAAM,2BAA2B,GAAG,CAAC,KAAoB,EAAE,EAAE;YACzD,IAAI,KAAK,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBACvC,KAAK,CAAC,cAAc,EAAE,CAAC;aAC1B;QACL,CAAC,CAAC;QAEF,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,2BAA2B,CAAC,CAAC;QAE9E,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC,EAAE;YAC9C,MAAM,IAAI,GAAG,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAE7C,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAS,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC5C,CAAC,CAAC,cAAc,EAAE,CAAC;aACtB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AA1CD,4CA0CC","file":"agInputTextField.js","sourcesContent":["import { AgAbstractInputField, IInputField } from './agAbstractInputField';\nimport { exists } from '../utils/generic';\n\nexport interface ITextInputField extends IInputField {\n    allowedCharPattern?: string;\n}\n\nexport class AgInputTextField extends AgAbstractInputField<HTMLInputElement, string, ITextInputField> {\n    constructor(config?: ITextInputField, className = 'ag-text-field', inputType = 'text') {\n        super(config, className, inputType);\n    }\n\n    protected postConstruct() {\n        super.postConstruct();\n\n        if (this.config.allowedCharPattern) {\n            this.preventDisallowedCharacters();\n        }\n    }\n\n    public setValue(value?: string | null, silent?: boolean): this {\n        const ret = super.setValue(value, silent);\n\n        if (this.eInput.value !== value) {\n            this.eInput.value = exists(value) ? value : '';\n        }\n\n        return ret;\n    }\n\n    private preventDisallowedCharacters(): void {\n        const pattern = new RegExp(`[${this.config.allowedCharPattern}]`);\n\n        const preventDisallowedCharacters = (event: KeyboardEvent) => {\n            if (event.key && !pattern.test(event.key)) {\n                event.preventDefault();\n            }\n        };\n\n        this.addManagedListener(this.eInput, 'keypress', preventDisallowedCharacters);\n\n        this.addManagedListener(this.eInput, 'paste', e => {\n            const text = e.clipboardData.getData('text');\n\n            if (text.some((c: string) => !pattern.test(c))) {\n                e.preventDefault();\n            }\n        });\n    }\n}\n"]}