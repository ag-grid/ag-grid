{"version":3,"sources":["../../../src/ts/grid.ts"],"names":[],"mappings":"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","file":"grid.js","sourcesContent":["import { GridOptions } from \"./entities/gridOptions\";\nimport { GridOptionsWrapper } from \"./gridOptionsWrapper\";\nimport { SelectionService } from \"./selectionService\";\nimport { ColumnApi } from \"./columns/columnApi\";\nimport { ColumnModel } from \"./columns/columnModel\";\nimport { RowRenderer } from \"./rendering/rowRenderer\";\nimport { GridHeaderComp } from \"./headerRendering/gridHeaderComp\";\nimport { FilterManager } from \"./filter/filterManager\";\nimport { ValueService } from \"./valueService/valueService\";\nimport { EventService } from \"./eventService\";\nimport { GridBodyComp } from \"./gridBodyComp/gridBodyComp\";\nimport { GridApi } from \"./gridApi\";\nimport { ColumnFactory } from \"./columns/columnFactory\";\nimport { DisplayedGroupCreator } from \"./columns/displayedGroupCreator\";\nimport { ExpressionService } from \"./valueService/expressionService\";\nimport { TemplateService } from \"./templateService\";\nimport { PopupService } from \"./widgets/popupService\";\nimport { Logger, LoggerFactory } from \"./logger\";\nimport { ColumnUtils } from \"./columns/columnUtils\";\nimport { AutoWidthCalculator } from \"./rendering/autoWidthCalculator\";\nimport { HorizontalResizeService } from \"./headerRendering/common/horizontalResizeService\";\nimport { ComponentMeta, Context, ContextParams } from \"./context/context\";\nimport { GridComp } from \"./gridComp/gridComp\";\nimport { DragAndDropService } from \"./dragAndDrop/dragAndDropService\";\nimport { DragService } from \"./dragAndDrop/dragService\";\nimport { SortController } from \"./sortController\";\nimport { FocusService } from \"./focusService\";\nimport { MouseEventService } from \"./gridBodyComp/mouseEventService\";\nimport { CellNavigationService } from \"./cellNavigationService\";\nimport { Events, GridReadyEvent } from \"./events\";\nimport { ValueFormatterService } from \"./rendering/valueFormatterService\";\nimport { AgCheckbox } from \"./widgets/agCheckbox\";\nimport { AgRadioButton } from \"./widgets/agRadioButton\";\nimport { VanillaFrameworkOverrides } from \"./vanillaFrameworkOverrides\";\nimport { IFrameworkOverrides } from \"./interfaces/iFrameworkOverrides\";\nimport { ScrollVisibleService } from \"./gridBodyComp/scrollVisibleService\";\nimport { StylingService } from \"./styling/stylingService\";\nimport { ColumnHoverService } from \"./rendering/columnHoverService\";\nimport { ColumnAnimationService } from \"./rendering/columnAnimationService\";\nimport { AutoGroupColService } from \"./columns/autoGroupColService\";\nimport { PaginationProxy } from \"./pagination/paginationProxy\";\nimport { PaginationAutoPageSizeService } from \"./pagination/paginationAutoPageSizeService\";\nimport { IRowModel } from \"./interfaces/iRowModel\";\nimport { Constants } from \"./constants/constants\";\nimport { ValueCache } from \"./valueService/valueCache\";\nimport { ChangeDetectionService } from \"./valueService/changeDetectionService\";\nimport { AlignedGridsService } from \"./alignedGridsService\";\nimport { UserComponentFactory } from \"./components/framework/userComponentFactory\";\nimport { UserComponentRegistry } from \"./components/framework/userComponentRegistry\";\nimport { AgComponentUtils } from \"./components/framework/agComponentUtils\";\nimport { ComponentMetadataProvider } from \"./components/framework/componentMetadataProvider\";\nimport { Beans } from \"./rendering/beans\";\nimport { Environment } from \"./environment\";\nimport { AnimationFrameService } from \"./misc/animationFrameService\";\nimport { NavigationService } from \"./gridBodyComp/navigationService\";\nimport { RowContainerHeightService } from \"./rendering/rowContainerHeightService\";\nimport { SelectableService } from \"./rowNodes/selectableService\";\nimport { PaginationComp } from \"./pagination/paginationComp\";\nimport { ResizeObserverService } from \"./misc/resizeObserverService\";\nimport { OverlayWrapperComponent } from \"./rendering/overlays/overlayWrapperComponent\";\nimport { Module } from \"./interfaces/iModule\";\nimport { AgGroupComponent } from \"./widgets/agGroupComponent\";\nimport { AgDialog } from \"./widgets/agDialog\";\nimport { AgPanel } from \"./widgets/agPanel\";\nimport { AgInputTextField } from \"./widgets/agInputTextField\";\nimport { AgInputTextArea } from \"./widgets/agInputTextArea\";\nimport { AgSlider } from \"./widgets/agSlider\";\nimport { AgColorPicker } from \"./widgets/agColorPicker\";\nimport { AgInputNumberField } from \"./widgets/agInputNumberField\";\nimport { AgInputRange } from \"./widgets/agInputRange\";\nimport { AgSelect } from \"./widgets/agSelect\";\nimport { AgAngleSelect } from \"./widgets/agAngleSelect\";\nimport { AgToggleButton } from \"./widgets/agToggleButton\";\nimport { RowPositionUtils } from \"./entities/rowPosition\";\nimport { CellPositionUtils } from \"./entities/cellPosition\";\nimport { PinnedRowModel } from \"./pinnedRowModel/pinnedRowModel\";\nimport { ModuleRegistry } from \"./modules/moduleRegistry\";\nimport { ModuleNames } from \"./modules/moduleNames\";\nimport { UndoRedoService } from \"./undoRedo/undoRedoService\";\nimport { AgStackComponentsRegistry } from \"./components/agStackComponentsRegistry\";\nimport { HeaderPositionUtils } from \"./headerRendering/common/headerPosition\";\nimport { HeaderNavigationService } from \"./headerRendering/common/headerNavigationService\";\nimport { exists, missing } from \"./utils/generic\";\nimport { iterateObject } from \"./utils/object\";\nimport { ColumnDefFactory } from \"./columns/columnDefFactory\";\nimport { RowCssClassCalculator } from \"./rendering/row/rowCssClassCalculator\";\nimport { RowNodeBlockLoader } from \"./rowNodeCache/rowNodeBlockLoader\";\nimport { RowNodeSorter } from \"./rowNodes/rowNodeSorter\";\nimport { CtrlsService } from \"./ctrlsService\";\nimport { CtrlsFactory } from \"./ctrlsFactory\";\nimport { FakeHScrollComp } from \"./gridBodyComp/fakeHScrollComp\";\nimport { PinnedWidthService } from \"./gridBodyComp/pinnedWidthService\";\nimport { RowContainerComp } from \"./gridBodyComp/rowContainer/rowContainerComp\";\nimport { RowNodeEventThrottle } from \"./entities/rowNodeEventThrottle\";\nimport { StandardMenuFactory } from \"./headerRendering/cells/column/standardMenu\";\n\nexport interface GridParams {\n    // used by Web Components\n    globalEventListener?: Function;\n\n    // these are used by ng1 only\n    $scope?: any;\n    $compile?: any;\n\n    // this allows the base frameworks (React, NG2, etc) to provide alternative cellRenderers and cellEditors\n    frameworkOverrides?: IFrameworkOverrides;\n\n    // bean instances to add to the context\n    providedBeanInstances?: { [key: string]: any; };\n\n    modules?: Module[];\n}\n\n// creates JavaScript vanilla Grid, including JavaScript (ag-stack) components, which can\n// be wrapped by the framework wrappers\nexport class Grid {\n\n    protected logger: Logger;\n\n    private readonly gridOptions: GridOptions;\n\n    constructor(eGridDiv: HTMLElement, gridOptions: GridOptions, params?: GridParams) {\n\n        if (!gridOptions) {\n            console.error('AG Grid: no gridOptions provided to the grid');\n            return;\n        }\n\n        this.gridOptions = gridOptions;\n\n        new GridCoreCreator().create(eGridDiv, gridOptions, context => {\n            const gridComp = new GridComp(eGridDiv);\n            context.createBean(gridComp);\n        }, undefined, params);\n    }\n\n    public destroy(): void {\n        if (this.gridOptions && this.gridOptions.api) {\n            this.gridOptions.api.destroy();\n        }\n    }\n}\n\n// created services of grid only, no UI, so frameworks can use this if providing\n// their own UI\nexport class GridCoreCreator {\n\n    public create(eGridDiv: HTMLElement, gridOptions: GridOptions, createUi: (context: Context) => void, acceptChanges?: (context: Context)=>void, params?: GridParams): void {\n\n        const debug = !!gridOptions.debug;\n\n        const registeredModules = this.getRegisteredModules(params);\n\n        const beanClasses = this.createBeansList(gridOptions.rowModelType, registeredModules);\n        const providedBeanInstances = this.createProvidedBeans(eGridDiv, gridOptions, params);\n\n        if (!beanClasses) { return; } // happens when no row model found\n\n        const contextParams: ContextParams = {\n            providedBeanInstances: providedBeanInstances,\n            beanClasses: beanClasses,\n            debug: debug\n        };\n\n        const logger = new Logger('AG Grid', () => gridOptions.debug);\n        const contextLogger = new Logger('Context', () => contextParams.debug);\n        const context = new Context(contextParams, contextLogger);\n        const beans = context.getBean('beans') as Beans;\n\n        this.registerModuleUserComponents(beans, registeredModules);\n        this.registerStackComponents(beans, registeredModules);\n        this.registerControllers(beans, registeredModules);\n\n        createUi(context);\n\n        // we wait until the UI has finished initialising before setting in columns and rows\n        beans.ctrlsService.whenReady(() => {\n            this.setColumnsAndData(beans);\n            this.dispatchGridReadyEvent(beans, gridOptions);\n            const isEnterprise = ModuleRegistry.isRegistered(ModuleNames.EnterpriseCoreModule);\n            logger.log(`initialised successfully, enterprise = ${isEnterprise}`);\n        });\n\n        if (acceptChanges) { acceptChanges(context); }\n    }\n\n    private registerControllers(beans: Beans, registeredModules: Module[]): void {\n        registeredModules.forEach(module => {\n            if (module.controllers) {\n                module.controllers.forEach(meta => beans.ctrlsFactory.register(meta));\n            }\n        });\n    }\n\n    private registerStackComponents(beans: Beans, registeredModules: Module[]): void {\n        const agStackComponents = this.createAgStackComponentsList(registeredModules);\n        beans.agStackComponentsRegistry.setupComponents(agStackComponents);\n    }\n\n    private getRegisteredModules(params?: GridParams): Module[] {\n        const passedViaConstructor: Module[] | undefined | null = params ? params.modules : null;\n        const registered = ModuleRegistry.getRegisteredModules();\n\n        const allModules: Module[] = [];\n        const mapNames: { [name: string]: boolean; } = {};\n\n        // adds to list and removes duplicates\n        function addModule(moduleBased: boolean, mod: Module) {\n            function addIndividualModule(currentModule: Module) {\n                if (!mapNames[currentModule.moduleName]) {\n                    mapNames[currentModule.moduleName] = true;\n                    allModules.push(currentModule);\n                    ModuleRegistry.register(currentModule, moduleBased);\n                }\n            }\n\n            addIndividualModule(mod);\n            if (mod.dependantModules) {\n                mod.dependantModules.forEach(addModule.bind(null, moduleBased));\n            }\n        }\n\n        if (passedViaConstructor) {\n            passedViaConstructor.forEach(addModule.bind(null, true));\n        }\n\n        if (registered) {\n            registered.forEach(addModule.bind(null, !ModuleRegistry.isPackageBased()));\n        }\n\n        return allModules;\n    }\n\n    private registerModuleUserComponents(beans: Beans, registeredModules: Module[]): void {\n        const moduleUserComps: { componentName: string, componentClass: any; }[]\n            = this.extractModuleEntity(registeredModules,\n                (module) => module.userComponents ? module.userComponents : []);\n\n        moduleUserComps.forEach(compMeta => {\n            beans.userComponentRegistry.registerDefaultComponent(compMeta.componentName, compMeta.componentClass);\n        });\n    }\n\n    private createProvidedBeans(eGridDiv: HTMLElement, gridOptions: GridOptions, params?: GridParams): any {\n        let frameworkOverrides = params ? params.frameworkOverrides : null;\n        if (missing(frameworkOverrides)) {\n            frameworkOverrides = new VanillaFrameworkOverrides();\n        }\n\n        const seed = {\n            gridOptions: gridOptions,\n            eGridDiv: eGridDiv,\n            $scope: params ? params.$scope : null,\n            $compile: params ? params.$compile : null,\n            globalEventListener: params ? params.globalEventListener : null,\n            frameworkOverrides: frameworkOverrides\n        };\n        if (params && params.providedBeanInstances) {\n            Object.assign(seed, params.providedBeanInstances);\n        }\n\n        return seed;\n    }\n\n    private createAgStackComponentsList(registeredModules: Module[]): any[] {\n        let components: ComponentMeta[] = [\n            { componentName: 'AgCheckbox', componentClass: AgCheckbox },\n            { componentName: 'AgRadioButton', componentClass: AgRadioButton },\n            { componentName: 'AgToggleButton', componentClass: AgToggleButton },\n            { componentName: 'AgInputTextField', componentClass: AgInputTextField },\n            { componentName: 'AgInputTextArea', componentClass: AgInputTextArea },\n            { componentName: 'AgInputNumberField', componentClass: AgInputNumberField },\n            { componentName: 'AgInputRange', componentClass: AgInputRange },\n            { componentName: 'AgSelect', componentClass: AgSelect },\n            { componentName: 'AgSlider', componentClass: AgSlider },\n            { componentName: 'AgAngleSelect', componentClass: AgAngleSelect },\n            { componentName: 'AgColorPicker', componentClass: AgColorPicker },\n            { componentName: 'AgGridBody', componentClass: GridBodyComp },\n            { componentName: 'AgHeaderRoot', componentClass: GridHeaderComp },\n            { componentName: 'AgPagination', componentClass: PaginationComp },\n            { componentName: 'AgOverlayWrapper', componentClass: OverlayWrapperComponent },\n            { componentName: 'AgGroupComponent', componentClass: AgGroupComponent },\n            { componentName: 'AgPanel', componentClass: AgPanel },\n            { componentName: 'AgDialog', componentClass: AgDialog },\n            { componentName: 'AgRowContainer', componentClass: RowContainerComp },\n            { componentName: 'AgFakeHorizontalScroll', componentClass: FakeHScrollComp }\n        ];\n\n        const moduleAgStackComps = this.extractModuleEntity(registeredModules,\n            (module) => module.agStackComponents ? module.agStackComponents : []);\n\n        components = components.concat(moduleAgStackComps);\n\n        return components;\n    }\n\n    private createBeansList(rowModelType: string | undefined, registeredModules: Module[]): any[] | undefined {\n        const rowModelClass = this.getRowModelClass(rowModelType, registeredModules);\n\n        if (!rowModelClass) { return; }\n\n        // beans should only contain SERVICES, it should NEVER contain COMPONENTS\n\n        const beans = [\n            rowModelClass, Beans, RowPositionUtils, CellPositionUtils, HeaderPositionUtils,\n            PaginationAutoPageSizeService, GridApi, UserComponentRegistry, AgComponentUtils,\n            ComponentMetadataProvider, ResizeObserverService, UserComponentFactory,\n            RowContainerHeightService, HorizontalResizeService,\n            PinnedRowModel, DragService, DisplayedGroupCreator, EventService, GridOptionsWrapper,\n            PopupService, SelectionService, FilterManager, ColumnModel, HeaderNavigationService,\n            PaginationProxy, RowRenderer, ExpressionService, ColumnFactory, TemplateService,\n            AlignedGridsService, NavigationService, ValueCache, ValueService, LoggerFactory,\n            ColumnUtils, AutoWidthCalculator, StandardMenuFactory, DragAndDropService, ColumnApi,\n            FocusService, MouseEventService, Environment, CellNavigationService, ValueFormatterService,\n            StylingService, ScrollVisibleService, SortController, ColumnHoverService, ColumnAnimationService,\n            SelectableService, AutoGroupColService, ChangeDetectionService, AnimationFrameService,\n            UndoRedoService, AgStackComponentsRegistry, ColumnDefFactory,\n            RowCssClassCalculator, RowNodeBlockLoader, RowNodeSorter, CtrlsService,\n            PinnedWidthService, RowNodeEventThrottle, CtrlsFactory\n        ];\n\n        const moduleBeans = this.extractModuleEntity(registeredModules, (module) => module.beans ? module.beans : []);\n        beans.push(...moduleBeans);\n\n        // check for duplicates, as different modules could include the same beans that\n        // they depend on, eg ClientSideRowModel in enterprise, and ClientSideRowModel in community\n        const beansNoDuplicates: any[] = [];\n        beans.forEach(bean => {\n            if (beansNoDuplicates.indexOf(bean) < 0) {\n                beansNoDuplicates.push(bean);\n            }\n        });\n\n        return beansNoDuplicates;\n    }\n\n    private extractModuleEntity(moduleEntities: any[], extractor: (module: any) => any) {\n        return [].concat(...moduleEntities.map(extractor));\n    }\n\n    private setColumnsAndData(beans: Beans): void {\n        const columnDefs = beans.gridOptionsWrapper.getColumnDefs();\n        beans.columnModel.setColumnDefs(columnDefs || [], \"gridInitializing\");\n        beans.rowModel.start();\n    }\n\n    private dispatchGridReadyEvent(beans: Beans, gridOptions: GridOptions): void {\n        const readyEvent: GridReadyEvent = {\n            type: Events.EVENT_GRID_READY,\n            api: gridOptions.api!,\n            columnApi: gridOptions.columnApi!\n        };\n        beans.eventService.dispatchEvent(readyEvent);\n    }\n\n    private getRowModelClass(rowModelType: string | undefined, registeredModules: Module[]): any {\n\n        // default to client side\n        if (!rowModelType) {\n            rowModelType = Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        }\n\n        const rowModelClasses: { [name: string]: { new(): IRowModel; }; } = {};\n        registeredModules.forEach(module => {\n            iterateObject(module.rowModels, (key: string, value: { new(): IRowModel; }) => {\n                rowModelClasses[key] = value;\n            });\n        });\n\n        const rowModelClass = rowModelClasses[rowModelType];\n\n        if (exists(rowModelClass)) { return rowModelClass; }\n\n        if (rowModelType === Constants.ROW_MODEL_TYPE_INFINITE) {\n            console.error(`AG Grid: Row Model \"Infinite\" not found. Please ensure the ${ModuleNames.InfiniteRowModelModule} is registered.';`);\n        }\n\n        console.error('AG Grid: could not find matching row model for rowModelType ' + rowModelType);\n        if (rowModelType === Constants.ROW_MODEL_TYPE_VIEWPORT) {\n            console.error(`AG Grid: Row Model \"Viewport\" not found. Please ensure the AG Grid Enterprise Module ${ModuleNames.ViewportRowModelModule} is registered.';`);\n        }\n\n        if (rowModelType === Constants.ROW_MODEL_TYPE_SERVER_SIDE) {\n            console.error(`AG Grid: Row Model \"Server Side\" not found. Please ensure the AG Grid Enterprise Module ${ModuleNames.ServerSideRowModelModule} is registered.';`);\n        }\n\n        if (rowModelType === Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            console.error(`AG Grid: Row Model \"Client Side\" not found. Please ensure the ${ModuleNames.ClientSideRowModelModule} is registered.';`);\n        }\n    }\n\n}\n"]}