!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("react-dom/server"),require("react-dom"),require("react"),require("@ag-grid-community/core")):"function"==typeof define&&define.amd?define(["exports","prop-types","react-dom/server","react-dom","react","@ag-grid-community/core"],t):t(e.AgGridReact={},e.PropTypes,e.ReactDOMServer,e.ReactDOM,e.React,e.agGrid)}(this,function(t,e,s,r,ae,oe){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var ie="default"in ae?ae.default:ae;class n extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e)))}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r,n=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):n?(r=n[e])?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let a=0;function o(){return"agPortalKey_"+ ++a}class i extends n{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new oe.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=ae.createElement(this.reactComponent,e),e=r.createPortal(e,this.eParentElement,o());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=i.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=ae.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}i.SLOW_RENDERING_THRESHOLD=3;class l extends ae.Component{render(){return null}static mapChildColumnDefs(e){return ie.Children.map(e,e=>e?l.toColDef(e.props):null)}static toColDef(e){var t=e["children"],e=function(e,t){var r={};for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}(e,["children"]);return l.hasChildColumns(t)&&(e.children=l.mapChildColumnDefs(t)),e}static hasChildColumns(e){return 0<ie.Children.count(e)}}function c(e,t){e.forEach(e=>{l[e]=t})}c(oe.ColDefUtil.BOOLEAN_PROPERTIES,e.bool),c(oe.ColDefUtil.STRING_PROPERTIES,e.string),c(oe.ColDefUtil.OBJECT_PROPERTIES,e.object),c(oe.ColDefUtil.ARRAY_PROPERTIES,e.array),c(oe.ColDefUtil.NUMBER_PROPERTIES,e.number),c(oe.ColDefUtil.FUNCTION_PROPERTIES,e.func),(f=t.ChangeDetectionStrategyType||(t.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",f.DeepValueCheck="DeepValueCheck",f.NoCheck="NoCheck";class u{constructor(e){this.strategy=e}areEqual(e,t){return this.strategy(e,t)}}class p{areEqual(e,t){return p.areEquivalent(p.copy(e),p.copy(t))}static unwrapStringOrNumber(e){return e instanceof Number||e instanceof String?e.valueOf():e}static copy(t){if(!t)return t;if(Array.isArray(t)){var r=[];for(let e=0;e<t.length;e++)r.push(this.copy(t[e]));return r}return"object"!=typeof t?t:[{},t].reduce((t,r)=>(Object.keys(r).forEach(function(e){t[e]=r[e]}),t),{})}static isNaN(e){return Number.isNaN?Number.isNaN(e):"number"==typeof e&&isNaN(e)}static areEquivalent(t,r){if(t=p.unwrapStringOrNumber(t),r=p.unwrapStringOrNumber(r),t===r)return!0;if(null===t||null===r||typeof t!=typeof r)return!1;if(p.isNaN(t)&&p.isNaN(r))return!0;if(t instanceof Date)return r instanceof Date&&t.valueOf()===r.valueOf();if("function"==typeof t)return!1;if("object"!=typeof t||t.$$typeof&&"Symbol(react.element)"===t.$$typeof.toString())return t==r;if(Object.isFrozen(t)||Object.isFrozen(r))return t===r;var n=void 0===t.areEquivPropertyTracking,s=void 0===r.areEquivPropertyTracking;try{let e;if(n)t.areEquivPropertyTracking=[];else if(t.areEquivPropertyTracking.some(function(e){return e===r}))return!0;if(s)r.areEquivPropertyTracking=[];else if(r.areEquivPropertyTracking.some(e=>e===t))return!0;t.areEquivPropertyTracking.push(r),r.areEquivPropertyTracking.push(t);var a={};for(e in t)"areEquivPropertyTracking"!=e&&(a[e]=null);for(e in r)"areEquivPropertyTracking"!=e&&(a[e]=null);for(e in a)if(!this.areEquivalent(t[e],r[e]))return!1;return!0}finally{n&&delete t.areEquivPropertyTracking,s&&delete r.areEquivPropertyTracking}}}class m{constructor(){this.strategyMap={[t.ChangeDetectionStrategyType.DeepValueCheck]:new p,[t.ChangeDetectionStrategyType.IdentityCheck]:new u((e,t)=>e===t),[t.ChangeDetectionStrategyType.NoCheck]:new u((e,t)=>!1)}}getStrategy(e){return this.strategyMap[e]}}class d extends n{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=o(),this.portalKey=o()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new oe.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=ae.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=r.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(ae.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){e=this[e+"Component"];if(e)return e.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class h{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||h.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}h.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const le=ie.createContext({}),G=(e,s,a,o)=>{var i=!e||e.componentFromFramework;if(!i){i=e.newAgStackInstance();if(i){let t,r,n=!1;return i.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),g(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o&&g(o,void 0))}}}},g=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},ce=e=>{const t=ae.useRef(e),r=ae.useRef(),n=ae.useRef(!1),s=ae.useRef(!1),[,a]=ae.useState(0);n.current&&(s.current=!0),ae.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{s.current&&r.current&&r.current()}),[])},ue=e=>{const t=ae.useRef(e),r=ae.useRef(),n=ae.useRef(!1),s=ae.useRef(!1),[,a]=ae.useState(0);n.current&&(s.current=!0),ae.useLayoutEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{s.current&&r.current&&r.current()}),[])},Y=(...e)=>{return e.filter(e=>null!=e&&""!==e).join(" ")};class P{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){var r;return!!this.classesMap[e]==t?this:((r=new P).classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r)}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const pe=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},D=ae.forwardRef((r,e)=>{const n=ae.useContext(le).context,s=ae.useRef(null),t=ae.useRef(null),a=ae.useRef(null),o=ae.useRef(null),i=ae.useRef(null),[l,c]=ae.useState(),[u,p]=ae.useState(),[m,d]=ae.useState(),[h,g]=ae.useState(new P),[C,f]=ae.useState(new P("ag-hidden")),[y,E]=ae.useState(new P("ag-hidden")),[R,S]=ae.useState(new P("ag-invisible"));ae.useImperativeHandle(e,()=>({refresh(){return!1}})),ae.useEffect(()=>G(l,n,t.current),[l]),ce(()=>{var e={setInnerRenderer:(e,t)=>{c(e),d(t)},setChildCount:e=>p(e),addOrRemoveCssClass:(t,r)=>g(e=>e.setClass(t,r)),setContractedDisplayed:t=>E(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>f(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>S(e=>e.setClass("ag-invisible",!t))};const t=n.createBean(new oe.GroupCellRendererCtrl);return t.init(e,s.current,a.current,o.current,i.current,D,r),()=>{n.destroyBean(t)}});var e=ae.useMemo(()=>"ag-cell-wrapper "+h.toString(),[h]),v=ae.useMemo(()=>"ag-group-expanded "+C.toString(),[C]),w=ae.useMemo(()=>"ag-group-contracted "+y.toString(),[y]),O=ae.useMemo(()=>"ag-group-checkbox "+R.toString(),[R]),T=l&&l.componentFromFramework,b=T?l.componentClass:void 0,M=null==l&&null!=m,I=oe._.escapeString(m,!0);return ie.createElement("span",Object.assign({className:e,ref:s},r.colDef?{}:{role:"gridcell"}),ie.createElement("span",{className:v,ref:o}),ie.createElement("span",{className:w,ref:i}),ie.createElement("span",{className:O,ref:a}),ie.createElement("span",{className:"ag-group-value",ref:t},M&&ie.createElement(ie.Fragment,null,I),T&&ie.createElement(b,Object.assign({},l.params))),ie.createElement("span",{className:"ag-group-child-count"},u))});var v=ae.memo(e=>{const t=ae.useContext(le)["context"],[r,n]=ae.useState(),[s,a]=ae.useState(),[o,i]=ae.useState(),[l,c]=ae.useState(),[u,p]=ae.useState(),[m,d]=ae.useState(),h=ae.useRef(null),g=ae.useRef(null),C=ae.useRef(null),f=ae.useRef(),y=e["ctrl"],E=ae.useMemo(()=>new oe.CssClassManager(()=>h.current),[]);ce(()=>{var e={setWidth:e=>n(e),addOrRemoveCssClass:(e,t)=>E.addOrRemoveCssClass(e,t),setColId:e=>i(e),setTitle:e=>a(e),setAriaDescription:e=>p(e),setAriaSort:e=>c(e),setUserCompDetails:e=>d(e),getUserCompInstance:()=>f.current||void 0},e=(y.setComp(e,h.current,g.current,C.current),y.getSelectAllGui());g.current.insertAdjacentElement("afterend",e)}),ae.useEffect(()=>G(m,t,C.current,f),[m]),ae.useEffect(()=>{y.setDragSource(h.current)},[m]);var e=ae.useMemo(()=>({width:r}),[r]),R=ae.useMemo(()=>{var e;return!!((null==(e=m)?void 0:e.componentFromFramework)&&pe(m.componentClass))},[m]),S=m&&m.componentFromFramework,v=m&&m.componentClass;return ie.createElement("div",{ref:h,className:"ag-header-cell",style:e,title:s,"col-id":o,"aria-sort":l,role:"columnheader",tabIndex:-1,"aria-description":u},ie.createElement("div",{ref:g,className:"ag-header-cell-resize",role:"presentation"}),ie.createElement("div",{ref:C,className:"ag-header-cell-comp-wrapper",role:"presentation"},S&&R&&ie.createElement(v,Object.assign({},m.params)),S&&!R&&ie.createElement(v,Object.assign({},m.params,{ref:f}))))}),w=ae.memo(e=>{const t=ae.useContext(le)["context"],[r,n]=ae.useState(new P),[s,a]=ae.useState(new P),[o,i]=ae.useState(),[l,c]=ae.useState(),[u,p]=ae.useState(),[m,d]=ae.useState(),[h,g]=ae.useState(),C=ae.useRef(null),f=ae.useRef(null),y=e["ctrl"];ce(()=>{var e={setWidth:e=>i(e),addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setColId:e=>p(e),setTitle:e=>c(e),setUserCompDetails:e=>g(e),addOrRemoveResizableCssClass:(t,r)=>a(e=>e.setClass(t,r)),setAriaExpanded:e=>d(e)};y.setComp(e,C.current,f.current)}),ae.useEffect(()=>G(h,t,C.current),[h]),ae.useEffect(()=>{let t=void 0;C.current.childNodes.forEach(e=>{null!=e&&e!==f.current&&(t=e)}),t&&y.setDragSource(t)},[h]);var e=ae.useMemo(()=>({width:o}),[o]),E=ae.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),R=ae.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),S=h&&h.componentFromFramework,v=h&&h.componentClass;return ie.createElement("div",{ref:C,className:E,style:e,title:l,"col-id":u,role:"columnheader",tabIndex:-1,"aria-expanded":m},S&&ie.createElement(v,Object.assign({},h.params)),ie.createElement("div",{ref:f,className:R}))}),O=ae.memo(e=>{const t=ae.useContext(le)["context"],[r,n]=ae.useState(new P),[s,a]=ae.useState(new P),[o,i]=ae.useState(new P),[l,c]=ae.useState(),[u,p]=ae.useState(),m=ae.useRef(null),d=ae.useRef(null);var h=ae.useRef(null);const g=ae.useRef(null),C=ae.useRef(!1),f=ae.useRef(),y=ae.useRef(),E=(ce(()=>{y.current=new oe.AgPromise(e=>{f.current=e})}),e=>{C.current||null!=e&&(f.current&&f.current(e),C.current=!0)}),R=e["ctrl"];ce(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>a(e=>e.setClass(t,r)),addOrRemoveButtonWrapperCssClass:(t,r)=>i(e=>e.setClass(t,r)),setWidth:e=>c(e),setCompDetails:e=>p(e),getFloatingFilterComp:()=>y.current||null,setMenuIcon:e=>g.current.appendChild(e)};R.setComp(e,m.current,g.current,d.current)}),ae.useEffect(()=>G(u,t,d.current,E),[u]);var e=ae.useMemo(()=>({width:l}),[l]),S=ae.useMemo(()=>"ag-header-cell ag-floating-filter "+r.toString(),[r]),v=ae.useMemo(()=>s.toString(),[s]),w=ae.useMemo(()=>"ag-floating-filter-button "+o.toString(),[s]),O=ae.useMemo(()=>{return!!(u&&u.componentFromFramework&&pe(u.componentClass))},[u]),T=u&&u.componentFromFramework,b=u&&u.componentClass;return ie.createElement("div",{ref:m,className:S,style:e,role:"gridcell",tabIndex:-1},ie.createElement("div",{ref:d,className:v,role:"presentation"},T&&O&&ie.createElement(b,Object.assign({},u.params)),T&&!O&&ie.createElement(b,Object.assign({},u.params,{ref:E}))),ie.createElement("div",{ref:h,className:w,role:"presentation"},ie.createElement("button",{ref:g,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))}),T=ae.memo(e=>{const s=ae.useContext(le)["gridOptionsWrapper"],[t,r]=ae.useState(),[n,a]=ae.useState(),[o,i]=ae.useState(),[l,c]=ae.useState(),[u,p]=ae.useState(),[m,d]=ae.useState([]);var h=ae.useRef(null);const g=e["ctrl"],C=g.getType()===oe.HeaderRowType.COLUMN,f=g.getType()===oe.HeaderRowType.COLUMN_GROUP,y=g.getType()===oe.HeaderRowType.FLOATING_FILTER,E=ae.useCallback((e,t)=>{if(s.isEnsureDomOrder())return t;const r=oe._.mapById(e,e=>e.getInstanceId()),n=oe._.mapById(t,e=>e.getInstanceId());e=e.filter(e=>n.has(e.getInstanceId())),t=t.filter(e=>!r.has(e.getInstanceId()));return[...e,...t]},[]);ce(()=>{var e={setTransform:e=>r(e),setHeight:e=>a(e),setTop:e=>i(e),setHeaderCtrls:t=>d(e=>E(e,t)),setWidth:e=>c(e),setAriaRowIndex:e=>p(e)};g.setComp(e)});var e=ae.useMemo(()=>({transform:t,height:n,top:o,width:l}),[t,n,o,l]),R=ae.useMemo(()=>{var e=["ag-header-row"];return C&&e.push("ag-header-row-column"),f&&e.push("ag-header-row-column-group"),y&&e.push("ag-header-row-column-filter"),e.join(" ")},[]),S=ae.useCallback(e=>{switch(g.getType()){case oe.HeaderRowType.COLUMN_GROUP:return ie.createElement(w,{ctrl:e,key:e.getInstanceId()});case oe.HeaderRowType.FLOATING_FILTER:return ie.createElement(O,{ctrl:e,key:e.getInstanceId()});default:return ie.createElement(v,{ctrl:e,key:e.getInstanceId()})}},[]);return ie.createElement("div",{ref:h,className:R,role:"row",style:e,"aria-rowindex":u},m.map(S))}),C=ae.memo(r=>{const[e,n]=ae.useState(new P),[t,s]=ae.useState(),[a,o]=ae.useState(),[i,l]=ae.useState(),[c,u]=ae.useState([]),p=ae.useContext(le)["context"],m=ae.useRef(null);var d=r.pinned===oe.Constants.PINNED_LEFT,h=r.pinned===oe.Constants.PINNED_RIGHT,g=!d&&!h,C=(ce(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setCtrls:e=>u(e),setCenterWidth:e=>s(e),setContainerTransform:e=>o(e),setPinnedContainerWidth:e=>l(e)};const t=p.createBean(new oe.HeaderRowContainerCtrl(r.pinned));return t.setComp(e,m.current),()=>{p.destroyBean(t)}}),ae.useMemo(()=>e.toString(),[e])),f=()=>c.map(e=>ie.createElement(T,{ctrl:e,key:e.getInstanceId()})),y=ae.useMemo(()=>({width:t,transform:a}),[t,a]),E=ae.useMemo(()=>({width:i,minWidth:i,maxWidth:i}),[i]);return ie.createElement(ie.Fragment,null,d&&ie.createElement("div",{ref:m,className:"ag-pinned-left-header "+C,role:"presentation",style:E},f()),h&&ie.createElement("div",{ref:m,className:"ag-pinned-right-header "+C,role:"presentation",style:E},f()),g&&ie.createElement("div",{ref:m,className:"ag-header-viewport "+C,role:"presentation"},ie.createElement("div",{className:"ag-header-container",role:"rowgroup",style:y},f())))}),X=ae.memo(()=>{const[e,n]=ae.useState(new P),[t,r]=ae.useState(),s=ae.useContext(le)["context"],a=ae.useRef(null);ce(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)};const t=s.createBean(new oe.GridHeaderCtrl);return t.setComp(e,a.current,a.current),()=>{s.destroyBean(t)}});var o=ae.useMemo(()=>{return"ag-header "+e.toString()},[e]),i=ae.useMemo(()=>({height:t,minHeight:t}),[t]);return ie.createElement("div",{ref:a,className:o,style:i,role:"presentation"},ie.createElement(C,{pinned:oe.Constants.PINNED_LEFT}),ie.createElement(C,{pinned:null}),ie.createElement(C,{pinned:oe.Constants.PINNED_RIGHT}))});const z=(n,s)=>{ce(()=>{var e=s.current;const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}})};var me=ae.memo(c=>{const[e,u]=ae.useState(),{context:p,popupService:m,gridOptionsWrapper:d}=ae.useContext(le);return ce(()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=d.isStopEditingWhenCellsLoseFocus();const a=p.createBean(new oe.PopupEditorWrapper(n.params));var n=a.getGui(),o=(!c.jsChildComp||(o=c.jsChildComp.getGui())&&n.appendChild(o),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:n,keepWithinBounds:!0}),o=("under"===e.popupPosition?m.positionPopupUnderComponent:m.positionPopupOverComponent).bind(m,o),i=d.getLocaleTextFunc(),s=m.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:o,ariaLabel:i("ariaLabelCellEditor","Cell Editor")});const l=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=l&&l(),p.destroyBean(a)}}),ie.createElement(ie.Fragment,null,e&&c.wrappedContent&&r.createPortal(c.wrappedContent,e.getGui()))});var x=ae.memo(e=>{const s=ae.useContext(le)["context"],{cellCtrl:u,printLayout:r,editingRow:n}=e,[p,a]=ae.useState(),[m,o]=ae.useState(),[d,i]=ae.useState(1),[t,l]=ae.useState(),[c,x]=ae.useState(),[_,B]=ae.useState(),[U,j]=ae.useState(),[L,H]=ae.useState(),[W,V]=ae.useState(),[h,q]=ae.useState(!1),[g,K]=ae.useState(!1),[C,$]=ae.useState(!1),[Y,f]=ae.useState();e=ae.useMemo(()=>u.isForceWrapper(),[]);const y=ae.useRef(null),E=ae.useRef(null),R=ae.useRef(),S=ae.useRef(),v=ae.useRef(),[w,z]=ae.useState(0);var X=ae.useCallback(e=>{v.current=e,z(e=>e+1)},[]);const O=ae.useRef(),[Z,J]=ae.useState(0),Q=ae.useCallback(e=>{O.current=e,J(e=>e+1)},[]);var T=null!=p&&(h||C||g);const b=e&&!u.isEditing()||T,M=ae.useCallback((e,t)=>{if(S.current=t){var r=t,n=u,s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;oe._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;oe._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>u.stopEditing(),0)}},[]),ee=ae.useCallback(e=>M(!0,e),[]),te=ae.useCallback(e=>M(!1,e),[]),I=ae.useMemo(()=>new oe.CssClassManager(()=>y.current),[]);{var P=p,D=b,N=O.current,k=(e=Z,R),re=y;const F=ae.useContext(le)["context"],G=ae.useCallback(()=>{var e,t=k.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),F.destroyBean(t),k.current=void 0)},[]);ae.useEffect(()=>{var e=P&&P.compDetails&&!P.compDetails.componentFromFramework;if(null!=P&&e&&!(D&&null==N)){e=P.compDetails;if(k.current){const r=k.current;var t=null!=r.refresh&&0==P.force&&r.refresh(e.params);if(!0===t||void 0===t)return;G()}t=e.newAgStackInstance();if(t){const r=t.resolveNow(null,e=>e);!r||(e=r.getGui())&&((D?N:re.current).appendChild(e),k.current=r)}}else G()},[P,D,e]),ce(()=>G)}const A=ae.useRef(),ne=(ae.useEffect(()=>{var e=A.current,t=p;A.current=p,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass&&null!=E.current&&null!=E.current.refresh&&1!=E.current.refresh(t.params)&&i(e=>e+1))},[p]),ae.useEffect(()=>{if(m&&!m.compDetails.componentFromFramework){var e=m.compDetails;const t=!0===m.popup,r=(e=>{e=e.newAgStackInstance();if(e)return e.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return M(t,r),t||(y.current.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),f(r),()=>{s.destroyBean(r),M(t,void 0),f(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[m]),ae.useEffect(()=>{if(u&&s&&(B(v.current?"cell-"+u.getInstanceId():void 0),v.current&&b)){const r=[];var e=e=>{if(e){const t=e.getGui();v.current.insertAdjacentElement("afterbegin",t),r.push(()=>{s.destroyBean(e),oe._.removeFromParent(t)})}return e};return h&&e(u.createSelectionCheckbox()),C&&e(u.createDndSource()),g&&e(u.createRowDragComp()),()=>r.forEach(e=>e())}},[b,C,g,h,w]),ae.useEffect(()=>{0<w&&v.current&&u.refreshAutoHeight(v.current)},[v,w]),ue(()=>{var e,t;u&&(e={addOrRemoveCssClass:(e,t)=>I.addOrRemoveCssClass(e,t),setUserStyles:e=>l(e),getFocusableElement:()=>y.current,setTabIndex:e=>x(e),setRole:e=>j(e),setColId:e=>H(e),setTitle:e=>V(e),setIncludeSelection:e=>q(e),setIncludeRowDrag:e=>K(e),setIncludeDndSource:e=>$(e),getCellEditor:()=>S.current||null,getCellRenderer:()=>E.current||R.current,getParentOfValue:()=>O.current||v.current||y.current,setRenderDetails:(e,t,r)=>{a({value:t,compDetails:e,force:r})},setEditDetails:(e,t,r)=>{e?(o({compDetails:e,popup:t,popupPosition:r}),t||a(void 0)):o(void 0)}},t=v.current||void 0,u.setComp(e,y.current,t,r,n))}),ae.useMemo(()=>{return!!(p&&p.compDetails&&p.compDetails.componentFromFramework&&pe(p.compDetails.componentClass))},[p])),se=(y.current&&!b&&I.addOrRemoveCssClass("ag-cell-value",!b),ae.useMemo(()=>u.getInstanceId(),[]));T=()=>{return ie.createElement(ie.Fragment,null,null!=p&&((e,t,r,n,s,a,o)=>{const{compDetails:i,value:l}=e,c=!i,u=i&&i.componentFromFramework,p=i&&i.componentClass,m=null!=(e=l)&&e.toString?l.toString():l;e=()=>ie.createElement(ie.Fragment,null,c&&ie.createElement(ie.Fragment,null,m),u&&!a&&ie.createElement(p,Object.assign({},i.params,{key:t,ref:n})),u&&a&&ie.createElement(p,Object.assign({},i.params,{key:t})));return ie.createElement(ie.Fragment,null,s?ie.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(p,d,se,E,b,ne,Q),null!=m&&(e=m,t=te,r=ee,n=y.current,s=u,a=Y,o=e.compDetails,i=o.componentClass,l=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup,ie.createElement(ie.Fragment,null,l&&ie.createElement(i,Object.assign({},e.compDetails.params,{ref:t})),c&&ie.createElement(me,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:ie.createElement(i,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&ie.createElement(me,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))));var e,t,r,n,s,a,o,i,l,c};return ie.createElement("div",{ref:y,style:t,tabIndex:c,role:U,"col-id":L,title:W,"aria-describedby":_},b?ie.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:X},T()):T())});var b=ae.memo(e=>{const t=ae.useContext(le)["context"],{rowCtrl:r,containerType:n}=e,[s,a]=ae.useState(),[o,i]=ae.useState(),[l,c]=ae.useState(),[u,p]=ae.useState(),[m,d]=ae.useState(),[h,g]=ae.useState(),[C,f]=ae.useState({list:[],instanceIdMap:new Map}),[y,E]=ae.useState(),[R,S]=ae.useState(!1),[v,w]=ae.useState(r.getInitialRowTop()),[O,T]=ae.useState(r.getInitialTransform()),b=ae.useRef(null),M=ae.useRef(),I=ae.useRef(!1),[P,D]=ae.useState(0),N=(ae.useEffect(()=>{var e;I.current||!y||10<P||((e=null==(e=b.current)?void 0:e.firstChild)?(r.setupDetailRowAutoHeight(e),I.current=!0):D(e=>e+1))},[y,P]),ae.useMemo(()=>new oe.CssClassManager(()=>b.current),[]));ue(()=>{var e;r.isAlive()&&(e={setTop:e=>w(e),setTransform:e=>T(e),addOrRemoveCssClass:(e,t)=>N.addOrRemoveCssClass(e,t),setDomOrder:e=>S(e),setRowIndex:e=>a(e),setRowId:e=>i(e),setRowBusinessKey:e=>p(e),setTabIndex:e=>d(e),setUserStyles:e=>g(e),setRole:e=>c(e),setCellCtrls:l=>f(e=>{{var r=e,t;if(e=l,R){const i={list:e,instanceIdMap:new Map};return e.forEach(e=>i.instanceIdMap.set(e.getInstanceId(),e)),i}const n=[],s=[],a=new Map,o=new Map,i=(e.forEach(e=>o.set(e.getInstanceId(),e)),r.list.forEach(e=>{var t=e.getInstanceId();o.has(t)&&(n.push(e),a.set(t,e))}),e.forEach(e=>{var t=e.getInstanceId();r.instanceIdMap.has(t)||(s.push(e),a.set(t,e))}),{list:[...n,...s],instanceIdMap:a});return i}}),showFullWidth:e=>E(e),getFullWidthCellRenderer:()=>M.current},r.setComp(e,b.current,n))}),ae.useEffect(()=>G(y,t,b.current,M),[y]);var e=ae.useMemo(()=>{var e={top:v,transform:O};return Object.assign(e,h),e},[v,O,h]),k=y&&y.componentFromFramework,A=null!=C;const F=ae.useMemo(()=>{var e;return!!((null==(e=y)?void 0:e.componentFromFramework)&&pe(y.componentClass))},[y]);return ie.createElement("div",{ref:b,role:l,style:e,"row-index":s,"row-id":o,"row-business-key":u,tabIndex:m},A&&C.list.map(e=>ie.createElement(x,{cellCtrl:e,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:e.getInstanceId()})),k&&(e=y.componentClass,ie.createElement(ie.Fragment,null,F&&ie.createElement(e,Object.assign({},y.params)),!F&&ie.createElement(e,Object.assign({},y.params,{ref:M})))))}),Z=ae.memo(e=>{const n=ae.useContext(le)["context"],[t,s]=ae.useState(""),[r,a]=ae.useState([]),[o,i]=ae.useState([]),[l,c]=ae.useState(!1),[u,p]=ae.useState(""),m=e["name"],d=ae.useMemo(()=>oe.getRowContainerTypeForName(m),[m]),h=ae.useRef(null),g=ae.useRef(null),C=ae.useRef(null),f=ae.useMemo(()=>oe.RowContainerCtrl.getRowContainerCssClasses(m),[m]);var e=ae.useMemo(()=>Y(f.wrapper),[]),y=ae.useMemo(()=>Y(f.viewport),[]);const E=ae.useMemo(()=>Y(f.container),[]);var R=m===oe.RowContainerName.CENTER,S=m===oe.RowContainerName.TOP_CENTER||m===oe.RowContainerName.BOTTOM_CENTER||m===oe.RowContainerName.STICKY_TOP_CENTER,v=!R&&!S,w=R?h:S?g:C,w=(z(" AG Row Container "+m+" ",w),ae.useEffect(()=>{a(e=>{if(l)return o;const t=e.filter(e=>0<=o.indexOf(e));e=o.filter(e=>t.indexOf(e)<0);return[...t,...e]})},[l,o]),ce(()=>{const e=[];var t={setViewportHeight:s,setRowCtrls:e=>i(e),setDomOrder:e=>c(e),setContainerWidth:e=>p(e)},r=n.createBean(new oe.RowContainerCtrl(m));return e.push(r),r.setComp(t,C.current,g.current,h.current),()=>{n.destroyBeans(e)}}),ae.useMemo(()=>({height:t}),[t]));const O=ae.useMemo(()=>({width:u}),[u]);var T=()=>ie.createElement("div",{className:E,ref:C,role:o.length?"rowgroup":"presentation",style:O},r.map(e=>ie.createElement(b,{rowCtrl:e,containerType:d,key:e.getInstanceId()})));return ie.createElement(ie.Fragment,null,R&&ie.createElement("div",{className:e,ref:h,role:"presentation"},ie.createElement("div",{className:y,ref:g,role:"presentation",style:w},T())),S&&ie.createElement("div",{className:y,ref:g,role:"presentation",style:w},T()),v&&T())}),M=ae.memo(()=>{const{context:s,agStackComponentsRegistry:a,resizeObserverService:o}=ae.useContext(le),[e,i]=ae.useState(""),[t,l]=ae.useState(0),[r,c]=ae.useState(0),[n,u]=ae.useState(0),[p,m]=ae.useState(0),[d,h]=ae.useState("0px"),[g,C]=ae.useState("0px"),[f,y]=ae.useState("100%"),[E,R]=ae.useState(""),[S,v]=ae.useState(""),[w,O]=ae.useState(null),[T,b]=ae.useState(null),[M,x]=ae.useState(""),[I,_]=ae.useState(null),[P,B]=ae.useState("ag-layout-normal"),D=ae.useRef(null),N=ae.useRef(null),k=ae.useRef(null),A=ae.useRef(null),F=ae.useRef(null);z(" AG Grid Body ",D),z(" AG Pinned Top ",N),z(" AG Sticky Top ",k),z(" AG Middle ",A),z(" AG Pinned Bottom ",F),ce(()=>{const t=[],r=[];var e,n;if(s)return e=e=>{e=a.getComponentClass(e),e=s.createBean(new e);return t.push(e),e},D.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),D.current.appendChild(e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),D.current.appendChild(document.createComment(" AG Overlay Wrapper ")),D.current.appendChild(e("AG-OVERLAY-WRAPPER").getGui()),e={setRowAnimationCssOnBodyViewport:i,setColumnCount:l,setRowCount:c,setTopHeight:u,setBottomHeight:m,setStickyTopHeight:h,setStickyTopTop:C,setStickyTopWidth:y,setTopDisplay:R,setBottomDisplay:v,setColumnMovingCss:O,updateLayoutClasses:B,setAlwaysVerticalScrollClass:b,setPinnedTopBottomOverflowY:x,setCellSelectableCss:_,registerBodyViewportResizeListener:e=>{const t=o.observeResize(A.current,e);r.push(()=>t())}},n=s.createBean(new oe.GridBodyCtrl),t.push(n),n.setComp(e,D.current,A.current,N.current,F.current,k.current),()=>{s.destroyBeans(t),r.forEach(e=>e())}});var U=ae.useMemo(()=>Y("ag-root","ag-unselectable",w,P),[w,P]),j=ae.useMemo(()=>Y("ag-body-viewport",e,P,T,I),[e,P,T,I]),L=ae.useMemo(()=>Y("ag-floating-top",I),[I]),H=ae.useMemo(()=>Y("ag-sticky-top",I),[I]),W=ae.useMemo(()=>Y("ag-floating-bottom",I),[I]),V=ae.useMemo(()=>({height:n,minHeight:n,display:E,overflowY:M}),[n,E,M]),q=ae.useMemo(()=>({height:d,top:g,width:f}),[d,g,f]),K=ae.useMemo(()=>({height:p,minHeight:p,display:S,overflowY:M}),[p,S,M]);const $=e=>ie.createElement(Z,{name:e,key:e+"-container"});var G=({section:e,children:t,className:r,style:n})=>ie.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map($));return ie.createElement("div",{ref:D,className:U,role:"grid","aria-colcount":t,"aria-rowcount":r},ie.createElement(X,null),G({section:N,className:L,style:V,children:[oe.RowContainerName.TOP_LEFT,oe.RowContainerName.TOP_CENTER,oe.RowContainerName.TOP_RIGHT,oe.RowContainerName.TOP_FULL_WIDTH]}),G({section:A,className:j,children:[oe.RowContainerName.LEFT,oe.RowContainerName.CENTER,oe.RowContainerName.RIGHT,oe.RowContainerName.FULL_WIDTH]}),G({section:k,className:H,style:q,children:[oe.RowContainerName.STICKY_TOP_LEFT,oe.RowContainerName.STICKY_TOP_CENTER,oe.RowContainerName.STICKY_TOP_RIGHT,oe.RowContainerName.STICKY_TOP_FULL_WIDTH]}),G({section:F,className:W,style:K,children:[oe.RowContainerName.BOTTOM_LEFT,oe.RowContainerName.BOTTOM_CENTER,oe.RowContainerName.BOTTOM_RIGHT,oe.RowContainerName.BOTTOM_FULL_WIDTH]}))}),f=ae.forwardRef((e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:a,gridCtrl:o}=e,i=ae.useContext(le)["context"],l=ae.useRef(null),c=ae.useRef(null),u=ae.useRef(),[n,p]=ae.useState();ae.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){u.current.forceFocusOutOfContainer()}})),ce(()=>{var e=l.current,t=c.current,r={setTabIndex:e=>null==e?p(void 0):p(parseInt(e,10))};const n=u.current=i.createBean(new oe.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:s,onTabKeyDown:a,focusInnerElement:e=>o.focusInnerElement(e)}));return()=>{i.destroyBean(n)}});e=e=>ie.createElement("div",{className:"ag-tab-guard ag-tab-guard-"+e,role:"presentation",tabIndex:n,ref:"top"===e?l:c});return ie.createElement(ie.Fragment,null,e("top"),r,e("bottom"))}),I=ae.memo(f),N=ae.memo(({context:p})=>{const[e,r]=ae.useState(""),[t,n]=ae.useState(""),[s,a]=ae.useState(""),[o,i]=ae.useState(null),[l,c]=ae.useState(null),[u,m]=ae.useState(!1),[d,h]=ae.useState(),g=ae.useRef(null),C=ae.useRef(null),f=ae.useRef(),y=ae.useRef(null),E=ae.useRef(()=>{});var R=ae.useCallback(()=>{},[]);const S=ae.useMemo(()=>p.getBean("beans"),[]);z(" AG Grid ",C),ce(()=>{const e=g.current=p.createBean(new oe.GridCtrl);return()=>{p.destroyBean(e),g.current=null}}),ce(()=>{var e=g.current,t=(E.current=e.focusInnerElement.bind(e),{destroyGridUi:()=>{},setRtlClass:r,addOrRemoveKeyboardFocusClass:e=>n(e?oe.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{f.current.forceFocusOutOfContainer()},updateLayoutClasses:a,getFocusableContainers:()=>{var e=[],t=C.current.querySelector(".ag-root"),r=C.current.querySelector(".ag-side-bar");return t&&e.push(t),r&&e.push(r),e},setCursor:i,setUserSelect:c});e.setComp(t,C.current,C.current),m(!0)}),ae.useEffect(()=>{if(d){var e=g.current;const c=[];var t=S["agStackComponentsRegistry"],r=t.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),n=t.getComponentClass("AG-SIDE-BAR"),s=t.getComponentClass("AG-STATUS-BAR"),a=t.getComponentClass("AG-WATERMARK"),t=t.getComponentClass("AG-PAGINATION");const u=[];var o,i=C.current,l=y.current;return e.showDropZones()&&r&&(o=(r=p.createBean(new r)).getGui(),i.insertAdjacentElement("afterbegin",o),u.push(o),c.push(r)),e.showSideBar()&&n&&(r=(o=p.createBean(new n)).getGui(),(n=l.querySelector(".ag-tab-guard-bottom"))&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),c.push(o)),e.showStatusBar()&&s&&(n=(l=p.createBean(new s)).getGui(),i.insertAdjacentElement("beforeend",n),u.push(n),c.push(l)),t&&(o=(r=p.createBean(new t)).getGui(),i.insertAdjacentElement("beforeend",o),u.push(o),c.push(r)),e.showWatermark()&&a&&(n=(s=p.createBean(new a)).getGui(),i.insertAdjacentElement("beforeend",n),u.push(n),c.push(s)),()=>{p.destroyBeans(c),u.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[d]);var v=ae.useMemo(()=>Y("ag-root-wrapper",e,t,s),[e,t,s]),w=ae.useMemo(()=>Y("ag-root-wrapper-body","ag-focus-managed",s),[s]),O=ae.useMemo(()=>({userSelect:null!=l?l:"",WebkitUserSelect:null!=l?l:"",cursor:null!=o?o:""}),[l,o]),T=y.current,b=ae.useCallback(e=>{f.current=e,h(!0)},[]);return ie.createElement("div",{ref:C,className:v,style:O,role:"presentation"},ie.createElement("div",{className:w,ref:y,role:"presentation"},u&&T&&ie.createElement(le.Provider,{value:S},ie.createElement(I,{ref:b,eFocusableElement:T,onTabKeyDown:R,gridCtrl:g.current},ie.createElement(M,null)))))});class R extends ae.Component{constructor(e){super(e),this.props=e,this.destroyFuncs=[],this.changeDetectionService=new m,this.eGui=ie.createRef(),this.whenReadyFuncs=[],this.ready=!1,this.renderedAfterMount=!1,this.mounted=!1,this.state={context:void 0},this.portalManager=new h(this,e.componentWrappingElement,e.maxComponentCreationTimeMs),this.destroyFuncs.push(()=>this.portalManager.destroy())}render(){return this.state.context,this.state.context&&(this.renderedAfterMount=!0),ie.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&ie.createElement(N,{context:this.state.context}),this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e,t;this.mounted||(this.mounted=!0,e=this.props.modules||[],e={providedBeanInstances:{frameworkComponentWrapper:new k(this.portalManager)},modules:e,frameworkOverrides:new y(!0)},t=(this.gridOptions=this.props.gridOptions||{},this.props)["children"],l.hasChildColumns(t)&&(this.gridOptions.columnDefs=l.mapChildColumnDefs(t)),this.gridOptions=oe.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props),(new oe.GridCoreCreator).create(this.eGui.current,this.gridOptions,e=>{this.setState({context:e}),e.getBean(oe.CtrlsService.NAME).whenReady(()=>{this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi),this.destroyFuncs.push(()=>this.api.destroy())})},e=>{e.getBean(oe.CtrlsService.NAME).whenReady(()=>{this.whenReadyFuncs.forEach(e=>e()),this.whenReadyFuncs.length=0,this.ready=!0})},e))}componentWillUnmount(){this.renderedAfterMount&&(this.destroyFuncs.forEach(e=>e()),this.destroyFuncs.length=0)}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processChanges(r)}extractDeclarativeColDefChanges(e,t){var r,n,s,a;this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs||(r=!!e.debug,n="columnDefs",s=this.gridOptions.columnDefs,l.hasChildColumns(e.children)?(a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n)),e=l.mapChildColumnDefs(e.children),a.areEqual(s,e)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:s,currentValue:e})):s&&0<s.length&&(t[n]={previousValue:s,currentValue:[]}))}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{oe._.includes(oe.ComponentUtil.ALL_PROPERTIES,e)&&!this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(e)).areEqual(t[e],r[e])&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),oe.ComponentUtil.getEventCallbacks().forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}processChanges(e){this.processWhenReady(()=>oe.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi))}processWhenReady(e){this.ready?e():this.whenReadyFuncs.push(e)}getStrategyTypeForProp(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return t.ChangeDetectionStrategyType.IdentityCheck}return t.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||null!=this.props.getRowId||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||null!=this.props.gridOptions.getRowId)}}class k extends oe.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new d(e,this.parent,t)}}var A=ae.forwardRef((n,e)=>{const{ctrlsFactory:s,context:a,gridOptionsWrapper:o,resizeObserverService:i,clientSideRowModel:l,serverSideRowModel:c}=ae.useContext(le),[t,u]=ae.useState(new P),[r,p]=ae.useState(new P),[m,d]=ae.useState(),[h,g]=ae.useState(),C=ae.useRef(),f=ae.useRef(null);var y=ae.useMemo(()=>t.toString()+" ag-details-row",[t]),E=ae.useMemo(()=>r.toString()+" ag-details-grid",[r]),e=(e&&ae.useImperativeHandle(e,()=>({refresh(){return C.current.refresh()}})),ce(()=>{n.template&&"string"==typeof n.template&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")}),ce(()=>{var t={addOrRemoveCssClass:(t,r)=>u(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>p(e=>e.setClass(t,r)),setDetailGrid:e=>d(e),setRowData:e=>g(e),getGui:()=>f.current};const r=s.getInstance("detailCellRenderer");if(r){a.createBean(r),r.init(t,n),C.current=r;let e;return o.isDetailRowAutoHeight()&&(t=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{n.node.setRowHeight(e),l?l.onRowHeightChanged():c&&c.onRowHeightChanged()},0)}},e=i.observeResize(f.current,t),t()),()=>{a.destroyBean(r),e&&e()}}}),ae.useCallback((e,t)=>{C.current.registerDetailWithMaster(e,t)},[]));return ie.createElement("div",{className:y,ref:f},m&&ie.createElement(R,Object.assign({className:E},m,{rowData:h,setGridApi:e})))});class y extends oe.VanillaFrameworkOverrides{constructor(e){super(),this.frameworkComponents={agGroupCellRenderer:D,agGroupRowRenderer:D,agDetailCellRenderer:A},this.reactUi=e}frameworkComponent(e){if(this.reactUi)return this.frameworkComponents[e]}isFrameworkComponent(e){return!!e&&!((e=e.prototype)&&"getGui"in e)}}class E extends ae.Component{constructor(e){super(e),this.props=e,this.changeDetectionService=new m,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new h(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return ie.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new F(this,this.portalManager)},modules:e,frameworkOverrides:new y(!1)},t=this.props.gridOptions||{},r=this.props["children"];l.hasChildColumns(r)&&(t.columnDefs=l.mapChildColumnDefs(r)),this.gridOptions=oe.ComponentUtil.copyAttributesToGridOptions(t,this.props),new oe.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}getStrategyTypeForProp(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return t.ChangeDetectionStrategyType.IdentityCheck}return t.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||null!=this.props.getRowId||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||null!=this.props.gridOptions.getRowId)}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractDeclarativeColDefChanges(e,t){var r,n,s,a;this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs||(r=!!e.debug,n="columnDefs",s=this.gridOptions.columnDefs,l.hasChildColumns(e.children)?(a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n)),e=l.mapChildColumnDefs(e.children),a.areEqual(s,e)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:s,currentValue:e})):s&&0<s.length&&(t[n]={previousValue:s,currentValue:[]}))}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{oe._.includes(oe.ComponentUtil.ALL_PROPERTIES,e)&&!this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(e)).areEqual(t[e],r[e])&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),oe.ComponentUtil.getEventCallbacks().forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&oe.ComponentUtil.processOnChange(r,this.gridOptions,this.api,this.columnApi)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&oe.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi)})}}function S(e,t){e.forEach(e=>{E[e]=t})}E.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,E.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:E.MAX_COMPONENT_CREATION_TIME_IN_MS},E.propTypes={gridOptions:e.object},S(oe.ComponentUtil.getEventCallbacks(),e.func),S(oe.ComponentUtil.BOOLEAN_PROPERTIES,e.bool),S(oe.ComponentUtil.STRING_PROPERTIES,e.string),S(oe.ComponentUtil.OBJECT_PROPERTIES,e.object),S(oe.ComponentUtil.ARRAY_PROPERTIES,e.array),S(oe.ComponentUtil.NUMBER_PROPERTIES,e.number),S(oe.ComponentUtil.FUNCTION_PROPERTIES,e.func);class F extends oe.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new i(e,this.agGridReact,this.portalManager,t):new d(e,this.portalManager,t)}}class _ extends ae.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){return this.props.suppressReactUi?ie.createElement(E,Object.assign({},this.props,{setGridApi:this.setGridApi})):ie.createElement(R,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}t.AgGridReact=_,t.AgGridReactLegacy=E,t.AgGridReactFire=R,t.AgGridColumn=l,Object.defineProperty(t,"__esModule",{value:!0})});
