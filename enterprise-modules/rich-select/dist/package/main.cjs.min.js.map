{
  "version": 3,
  "sources": ["<stdin>"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// enterprise-modules/rich-select/src/main.ts\nvar main_exports = {};\n__export(main_exports, {\n  RichSelectModule: () => RichSelectModule\n});\nmodule.exports = __toCommonJS(main_exports);\n\n// enterprise-modules/rich-select/src/richSelectModule.ts\nvar import_core3 = require(\"@ag-grid-community/core\");\nvar import_core4 = require(\"@ag-grid-enterprise/core\");\n\n// enterprise-modules/rich-select/src/richSelect/richSelectCellEditor.ts\nvar import_core = require(\"@ag-grid-community/core\");\nvar import_core2 = require(\"@ag-grid-enterprise/core\");\nvar RichSelectCellEditor = class extends import_core.PopupComponent {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-cell-edit-wrapper\"></div>`\n    );\n  }\n  init(params) {\n    this.params = params;\n    const { cellStartedEdit, values } = params;\n    if ((0, import_core._missing)(values)) {\n      (0, import_core._warnOnce)(\"agRichSelectCellEditor requires cellEditorParams.values to be set\");\n    }\n    const { params: richSelectParams, valuesPromise } = this.buildRichSelectParams();\n    this.richSelect = this.createManagedBean(new import_core2.AgRichSelect(richSelectParams));\n    this.richSelect.addCssClass(\"ag-cell-editor\");\n    this.appendChild(this.richSelect);\n    if (valuesPromise) {\n      valuesPromise.then((values2) => {\n        this.richSelect.setValueList({ valueList: values2, refresh: true });\n        const searchStringCallback = this.getSearchStringCallback(values2);\n        if (searchStringCallback) {\n          this.richSelect.setSearchStringCreator(searchStringCallback);\n        }\n      });\n    }\n    this.addManagedListeners(this.richSelect, {\n      fieldPickerValueSelected: this.onEditorPickerValueSelected.bind(this)\n    });\n    this.focusAfterAttached = cellStartedEdit;\n  }\n  onEditorPickerValueSelected(e) {\n    this.params.stopEditing(!e.fromEnterKey);\n  }\n  buildRichSelectParams() {\n    const {\n      cellRenderer,\n      cellHeight,\n      value,\n      values,\n      formatValue,\n      searchDebounceDelay,\n      valueListGap,\n      valueListMaxHeight,\n      valueListMaxWidth,\n      allowTyping,\n      filterList,\n      searchType,\n      highlightMatch,\n      valuePlaceholder,\n      eventKey,\n      multiSelect,\n      suppressDeselectAll,\n      suppressMultiSelectPillRenderer\n    } = this.params;\n    const ret = {\n      value,\n      cellRenderer,\n      cellRowHeight: cellHeight,\n      searchDebounceDelay,\n      valueFormatter: formatValue,\n      pickerAriaLabelKey: \"ariaLabelRichSelectField\",\n      pickerAriaLabelValue: \"Rich Select Field\",\n      pickerType: \"virtual-list\",\n      pickerGap: valueListGap,\n      allowTyping,\n      filterList,\n      searchType,\n      highlightMatch,\n      maxPickerHeight: valueListMaxHeight,\n      maxPickerWidth: valueListMaxWidth,\n      placeholder: valuePlaceholder,\n      initialInputValue: eventKey?.length === 1 ? eventKey : void 0,\n      multiSelect,\n      suppressDeselectAll,\n      suppressMultiSelectPillRenderer\n    };\n    let valuesResult;\n    let valuesPromise;\n    if (typeof values === \"function\") {\n      valuesResult = values(this.params);\n    } else {\n      valuesResult = values ?? [];\n    }\n    if (Array.isArray(valuesResult)) {\n      ret.valueList = valuesResult;\n      ret.searchStringCreator = this.getSearchStringCallback(valuesResult);\n    } else {\n      valuesPromise = valuesResult;\n    }\n    if (multiSelect && allowTyping) {\n      this.params.allowTyping = ret.allowTyping = false;\n      (0, import_core._warnOnce)(\n        \"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.\"\n      );\n    }\n    return { params: ret, valuesPromise };\n  }\n  getSearchStringCallback(values) {\n    const { colDef } = this.params;\n    if (typeof values[0] !== \"object\" || !colDef.keyCreator) {\n      return;\n    }\n    return (values2) => values2.map((value) => {\n      const keyParams = this.gos.addGridCommonParams({\n        value,\n        colDef: this.params.colDef,\n        column: this.params.column,\n        node: this.params.node,\n        data: this.params.data\n      });\n      return colDef.keyCreator(keyParams);\n    });\n  }\n  // we need to have the gui attached before we can draw the virtual rows, as the\n  // virtual row logic needs info about the gui state\n  afterGuiAttached() {\n    const { focusAfterAttached, params } = this;\n    setTimeout(() => {\n      if (!this.isAlive()) {\n        return;\n      }\n      if (focusAfterAttached) {\n        const focusableEl = this.richSelect.getFocusableElement();\n        focusableEl.focus();\n        const { allowTyping, eventKey: eventKey2 } = this.params;\n        if (allowTyping && (!eventKey2 || eventKey2.length !== 1)) {\n          focusableEl.select();\n        }\n      }\n      this.richSelect.showPicker();\n      const { eventKey } = params;\n      if (eventKey) {\n        if (eventKey?.length === 1) {\n          this.richSelect.searchTextFromString(eventKey);\n        }\n      }\n    });\n  }\n  focusIn() {\n    this.richSelect.getFocusableElement().focus();\n  }\n  getValue() {\n    return this.richSelect.getValue();\n  }\n  isPopup() {\n    return false;\n  }\n};\n\n// enterprise-modules/rich-select/src/version.ts\nvar VERSION = \"32.0.0\";\n\n// enterprise-modules/rich-select/src/richSelectModule.ts\nvar RichSelectModule = {\n  version: VERSION,\n  moduleName: import_core3.ModuleNames.RichSelectModule,\n  beans: [],\n  userComponents: [\n    { name: \"agRichSelect\", classImp: RichSelectCellEditor },\n    { name: \"agRichSelectCellEditor\", classImp: RichSelectCellEditor }\n  ],\n  dependantModules: [import_core4.EnterpriseCoreModule, import_core3._EditCoreModule]\n};\n"],
  "mappings": "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",
  "names": ["target", "all", "name", "to", "from", "except", "desc", "key", "mod", "params", "cellStartedEdit", "values", "richSelectParams", "valuesPromise", "values2", "searchStringCallback", "cellRenderer", "cellHeight", "value", "formatValue", "searchDebounceDelay", "valueListGap", "valueListMaxHeight", "valueListMaxWidth", "allowTyping", "filterList", "searchType", "highlightMatch", "valuePlaceholder", "eventKey", "multiSelect", "suppressDeselectAll", "suppressMultiSelectPillRenderer", "ret", "valuesResult", "colDef", "keyParams", "focusAfterAttached", "focusableEl", "eventKey2"]
}
