/**
          * @ag-grid-enterprise/filter-tool-panel - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v27.3.0
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
/**
          * @ag-grid-enterprise/filter-tool-panel - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v27.3.0
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
import{Events as e,_ as t,Autowired as o,RefSelector as i,PreConstruct as r,PostConstruct as n,Component as s,KeyCode as l,Column as a,ProvidedColumnGroup as p,AgGroupComponent as d,ModuleNames as c}from"@ag-grid-community/core";import{EnterpriseCoreModule as u}from"@ag-grid-enterprise/core";import{SideBarModule as h}from"@ag-grid-enterprise/side-bar";var f,y,m=(f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=function(e,t,o,i){var r,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(n<3?r(s):n>3?r(t,o,s):r(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(y||(y={}));var C=function(s){function l(){return null!==s&&s.apply(this,arguments)||this}return m(l,s),l.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},l.prototype.postConstruct=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(y.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,e.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},l.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},l.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=t.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=t.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=t.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},l.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,o=!this.params.suppressExpandAll,i=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(i("searchOoo","Search..."));var r=this.columnModel.getAllGridColumns().some((function(e){return e.getOriginalParent()&&e.isFilterAllowed()}));t.setDisplayed(this.eFilterTextField.getGui(),e),t.setDisplayed(this.eExpand,o&&r)},l.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=t.debounce((function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})}),300)),this.onSearchTextChangedDebounced()},l.prototype.onExpandClicked=function(){var e=this.currentExpandState===y.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(e)},l.prototype.setExpandState=function(e){this.currentExpandState=e,t.setDisplayed(this.eExpandChecked,this.currentExpandState===y.EXPANDED),t.setDisplayed(this.eExpandUnchecked,this.currentExpandState===y.COLLAPSED),t.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===y.INDETERMINATE)},g([o("columnModel")],l.prototype,"columnModel",void 0),g([i("eExpand")],l.prototype,"eExpand",void 0),g([i("eFilterTextField")],l.prototype,"eFilterTextField",void 0),g([r],l.prototype,"preConstruct",null),g([n],l.prototype,"postConstruct",null),l}(s),E=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),v=function(e,t,o,i){var r,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(n<3?r(s):n>3?r(t,o,s):r(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},F=function(r){function s(e){void 0===e&&(e=!1);var t=r.call(this,s.TEMPLATE)||this;return t.expanded=!1,t.hideHeader=e,t}return E(s,r),s.prototype.postConstruct=function(){this.eExpandChecked=t.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=t.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},s.prototype.setColumn=function(t){var o=this;this.column=t,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",(function(e){e.key===l.ENTER&&o.toggleExpanded()})),this.addManagedListener(this.eventService,e.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,a.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},s.prototype.getColumn=function(){return this.column},s.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},s.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},s.prototype.addInIcon=function(e,o,i){if(null!=o){var r=t.createIconNoSpan(e,this.gridOptionsWrapper,i);o.appendChild(r)}},s.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},s.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:a.EVENT_FILTER_CHANGED})},s.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},s.prototype.expand=function(){var e,o=this;if(!this.expanded){this.expanded=!0,t.setAriaExpanded(this.eFilterToolPanelHeader,!0);var i=t.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),r=null===(e=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===e?void 0:e.filterPromise;r&&r.then((function(e){o.underlyingFilter=e,e&&(i.appendChild(e.getGui()),o.agFilterToolPanelBody.appendChild(i),e.afterGuiAttached&&e.afterGuiAttached({container:"toolPanel"}))})),t.setDisplayed(this.eExpandChecked,!0),t.setDisplayed(this.eExpandUnchecked,!1)}},s.prototype.collapse=function(){this.expanded&&(this.expanded=!1,t.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),t.setDisplayed(this.eExpandChecked,!1),t.setDisplayed(this.eExpandUnchecked,!0))},s.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;e&&"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},s.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},s.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',v([i("eFilterToolPanelHeader")],s.prototype,"eFilterToolPanelHeader",void 0),v([i("eFilterName")],s.prototype,"eFilterName",void 0),v([i("agFilterToolPanelBody")],s.prototype,"agFilterToolPanelBody",void 0),v([i("eFilterIcon")],s.prototype,"eFilterIcon",void 0),v([i("eExpand")],s.prototype,"eExpand",void 0),v([o("filterManager")],s.prototype,"filterManager",void 0),v([o("columnModel")],s.prototype,"columnModel",void 0),v([n],s.prototype,"postConstruct",null),s}(s),T=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),x=function(e,t,o,i){var r,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(n<3?r(s):n>3?r(t,o,s):r(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},P=function(s){function l(e,t,o,i,r){var n=s.call(this)||this;return n.columnGroup=e,n.childFilterComps=t,n.depth=i,n.expandedCallback=o,n.showingColumn=r,n}return T(l,s),l.prototype.preConstruct=function(){this.setTemplate(l.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},l.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach((function(t){e.filterGroupComp.addItem(t),t.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")})),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},l.prototype.setupTooltip=function(){var t=this;if(this.showingColumn){var o=function(){var e=t.columnGroup.getColDef().headerTooltip;t.setTooltip(e)};o(),this.addManagedListener(this.eventService,e.EVENT_NEW_COLUMNS_LOADED,o)}},l.prototype.getTooltipParams=function(){var e=s.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},l.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},l.prototype.refreshFilters=function(){this.childFilterComps.forEach((function(e){e instanceof l?e.refreshFilters():e.refreshFilter()}))},l.prototype.isColumnGroup=function(){return this.columnGroup instanceof p},l.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},l.prototype.getChildren=function(){return this.childFilterComps},l.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},l.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},l.prototype.hideGroupItem=function(e,t){this.filterGroupComp.hideItem(e,t)},l.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},l.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach((function(t){t instanceof F&&e(t)}))},l.prototype.addExpandCollapseListeners=function(){var e=this,t=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild((function(e){return e.expand()}))},o=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild((function(e){return e.collapse()}))};this.addManagedListener(this.filterGroupComp,d.EVENT_EXPANDED,t),this.addManagedListener(this.filterGroupComp,d.EVENT_COLLAPSED,o)},l.prototype.getColumns=function(){return this.columnGroup instanceof p?this.columnGroup.getLeafColumns():[this.columnGroup]},l.prototype.addFilterChangedListeners=function(){var t=this;this.getColumns().forEach((function(e){t.addManagedListener(e,a.EVENT_FILTER_CHANGED,(function(){return t.refreshFilterClass()}))})),this.columnGroup instanceof p||this.addManagedListener(this.eventService,e.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},l.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some((function(e){return e.isFilterActive()})))},l.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},l.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},l.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},l.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof p?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},l.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},l.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},l.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),t.clearElement(this.getGui())},l.prototype.destroy=function(){this.destroyFilters(),s.prototype.destroy.call(this)},l.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',x([i("filterGroupComp")],l.prototype,"filterGroupComp",void 0),x([o("columnModel")],l.prototype,"columnModel",void 0),x([r],l.prototype,"preConstruct",null),x([n],l.prototype,"init",null),l}(s),G=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),L=function(e,t,o,i){var r,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(n<3?r(s):n>3?r(t,o,s):r(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},A=function(i){function r(){var e=i.call(this,r.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return G(r,i),r.prototype.init=function(o){var i=this;this.initialised=!0;var r={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};t.mergeDeep(r,o),this.params=r,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,e.EVENT_COLUMN_MOVED,(function(){return i.onColumnsChanged()})),this.addManagedListener(this.eventService,e.EVENT_NEW_COLUMNS_LOADED,(function(){return i.onColumnsChanged()})),this.addManagedListener(this.eventService,e.EVENT_TOOL_PANEL_VISIBLE_CHANGED,(function(e){"filters"===e.source&&i.refreshFilters()})),this.columnModel.isReady()&&this.onColumnsChanged()},r.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!e?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs()},r.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},r.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var o=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(o,0);var i=this.filterGroupComps.length;i&&(this.filterGroupComps.forEach((function(t){return e.appendChild(t)})),this.setFirstAndLastVisible(0,i-1)),t.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},r.prototype.setFiltersLayout=function(e){var o=this;this.destroyFilters();var i=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(i,0);var r=this.filterGroupComps.length;r&&(this.filterGroupComps.forEach((function(e){return o.appendChild(e)})),this.setFirstAndLastVisible(0,r-1)),t.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},r.prototype.recursivelyAddComps=function(e,o){var i=this;return t.flatten(e.map((function(e){if(e instanceof p)return t.flatten(i.recursivelyAddFilterGroupComps(e,o));var r=e;if(!i.shouldDisplayFilter(r))return[];var n=new F(0===o);if(i.getContext().createBean(n),n.setColumn(r),o>0)return n;var s=i.createBean(new P(r,[n],i.onGroupExpanded.bind(i),o,!0));return s.addCssClassToTitleBar("ag-filter-toolpanel-header"),s.collapse(),s})))},r.prototype.recursivelyAddFilterGroupComps=function(e,o){if(this.filtersExistInChildren(e.getChildren())){var i=e.getColGroupDef();if(i&&i.suppressFiltersToolPanel)return[];var r=e.isPadding()?o:o+1,n=t.flatten(this.recursivelyAddComps(e.getChildren(),r));if(e.isPadding())return n;var s=new P(e,n,this.onGroupExpanded.bind(this),o,!1);return this.getContext().createBean(s),s.addCssClassToTitleBar("ag-filter-toolpanel-header"),[s]}},r.prototype.filtersExistInChildren=function(e){var t=this;return e.some((function(e){return e instanceof p?t.filtersExistInChildren(e.getChildren()):t.shouldDisplayFilter(e)}))},r.prototype.shouldDisplayFilter=function(e){var t=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!t},r.prototype.refresh=function(){},r.prototype.setVisible=function(e){i.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},r.prototype.expandFilterGroups=function(e,o){var i=[],r=function(n){var s=n.getFilterGroupId();(!o||t.includes(o,s))&&(e&&n.isColumnGroup()?n.expand():n.collapse(),i.push(s)),n.getChildren().forEach((function(e){e instanceof P&&r(e)}))};if(this.filterGroupComps.forEach(r),this.onGroupExpanded(),o){var n=o.filter((function(e){return i.indexOf(e)<0}));n.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",n)}},r.prototype.expandFilters=function(e,o){var i=[],r=function(n){if(n instanceof P){var s=!1;return n.getChildren().forEach((function(t){r(t)&&(e?(n.expand(),s=!0):n.isColumnGroup()||n.collapse())})),s}var l=n.getColumn().getColId(),a=!o||t.includes(o,l);return a&&(e?n.expand():n.collapse(),i.push(l)),a};if(this.filterGroupComps.forEach(r),this.onGroupExpanded(),o){var n=o.filter((function(e){return i.indexOf(e)<0}));n.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",n)}},r.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},r.prototype.fireExpandedEvent=function(){var e,t=0,o=0,i=function(e){e.isColumnGroup()&&(e.isExpanded()?t++:o++,e.getChildren().forEach((function(e){e instanceof P&&i(e)})))};this.filterGroupComps.forEach(i),e=t>0&&o>0?y.INDETERMINATE:o>0?y.COLLAPSED:y.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:e})},r.prototype.performFilterSearch=function(e){this.searchFilterText=t.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},r.prototype.searchFilters=function(e){var o,i,r=function(o){return!t.exists(e)||-1!==o.toLowerCase().indexOf(e)},n=function(e,t){if(!(e instanceof P))return r(e.getColumnFilterName()||"");var o=e.getChildren(),i=r(e.getFilterGroupName()),s=t||i;if(s){e.hideGroup(!1);for(var l=0;l<o.length;l++)n(o[l],s),e.hideGroupItem(!1,l);return!0}var a=!1;return o.forEach((function(o,i){var r=n(o,t);e.hideGroupItem(!r,i),r&&(a=!0)})),e.hideGroup(!a),a};this.filterGroupComps.forEach((function(e,t){n(e,!1),void 0===o?e.containsCssClass("ag-hidden")||(o=t,i=t):e.containsCssClass("ag-hidden")||i===t||(i=t)})),this.setFirstAndLastVisible(o,i)},r.prototype.setFirstAndLastVisible=function(e,t){this.filterGroupComps.forEach((function(o,i){o.removeCssClass("ag-first-group-visible"),o.removeCssClass("ag-last-group-visible"),i===e&&o.addCssClass("ag-first-group-visible"),i===t&&o.addCssClass("ag-last-group-visible")}))},r.prototype.refreshFilters=function(){this.filterGroupComps.forEach((function(e){return e.refreshFilters()}))},r.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),t.clearElement(this.getGui())},r.prototype.destroy=function(){this.destroyFilters(),i.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-filter-list-panel"></div>',L([o("gridApi")],r.prototype,"gridApi",void 0),L([o("columnApi")],r.prototype,"columnApi",void 0),L([o("toolPanelColDefService")],r.prototype,"toolPanelColDefService",void 0),L([o("columnModel")],r.prototype,"columnModel",void 0),r}(s),O=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),D=function(e,t,o,i){var r,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(n<3?r(s):n>3?r(t,o,s):r(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},N=function(e){function r(){var t=e.call(this,r.TEMPLATE)||this;return t.initialised=!1,t.listenerDestroyFuncs=[],t}return O(r,e),r.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach((function(e){return e()})),this.listenerDestroyFuncs=[]),this.initialised=!0;var o={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};t.mergeDeep(o,e),this.params=o,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var i=this.params.suppressExpandAll,r=this.params.suppressFilterSearch;i&&r&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},r.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},r.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},r.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},r.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},r.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},r.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},r.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},r.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},r.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},r.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},r.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},r.prototype.refresh=function(){this.init(this.params)},r.prototype.destroy=function(){e.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',D([i("filtersToolPanelHeaderPanel")],r.prototype,"filtersToolPanelHeaderPanel",void 0),D([i("filtersToolPanelListPanel")],r.prototype,"filtersToolPanelListPanel",void 0),D([o("gridApi")],r.prototype,"gridApi",void 0),D([o("columnApi")],r.prototype,"columnApi",void 0),r}(s),b={moduleName:c.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:C},{componentName:"AgFiltersToolPanelList",componentClass:A}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:N}],dependantModules:[h,u]};export{b as FiltersToolPanelModule};