/**
          * @ag-grid-enterprise/menu - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v27.2.0
          * @link http://www.ag-grid.com/
          * @license Commercial
          */
/**
          * @ag-grid-enterprise/menu - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v27.2.0
          * @link http://www.ag-grid.com/
          * @license Commercial
          */
import{Column as e,BeanStub as t,Autowired as r,Bean as n,TabbedLayout as o,ModuleRegistry as i,ModuleNames as a,_ as u,Constants as s,AgMenuList as c,AgMenuItemComponent as p,AgPromise as l,PostConstruct as d,Optional as m,Component as h}from"@ag-grid-community/core";import{EnterpriseCoreModule as g}from"@ag-grid-enterprise/core";import{PrimaryColsPanel as v}from"@ag-grid-enterprise/column-tool-panel";var C,f=(C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),b=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},M=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return f(i,o),i.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},i.prototype.showMenuAfterMouseEvent=function(e,t,r){var n=this;this.showMenu(e,(function(o){var i=o.getGui();n.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:i}),r&&o.showTab(r)}),"columnMenu",r,void 0,t.target)},i.prototype.showMenuAfterButtonClick=function(e,t,r,n,o){var i=this,a=-1,u="left";this.gridOptionsWrapper.isEnableRtl()&&(a=1,u="right"),this.showMenu(e,(function(o){var s=o.getGui();i.popupService.positionPopupUnderComponent({type:r,column:e,eventSource:t,ePopup:s,alignSide:u,nudgeX:9*a,nudgeY:-23,keepWithinBounds:!0}),n&&o.showTab(n)}),r,n,o,t)},i.prototype.showMenu=function(r,n,o,i,a,s){var c=this,p=this.createBean(new y(r,this.lastSelectedTab,a)),l=p.getGui(),d=s||this.ctrlsService.getGridBodyCtrl().getGui(),m=[];m.push((function(e){if(c.destroyBean(p),r.setMenuVisible(!1,"contextMenu"),e instanceof KeyboardEvent&&s&&u.isVisible(s)){var t=c.focusService.findTabbableParent(s);t&&t.focus()}}));var h=this.gridOptionsWrapper.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(e){m.forEach((function(t){return t(e)}))},afterGuiAttached:function(e){return p.afterGuiAttached(Object.assign({},{container:o},e))},positionCallback:function(){return n(p)},anchorToElement:d,ariaLabel:h("ariaLabelColumnMenu","Column Menu")});if(g){var v=g.stopAnchoringPromise;v&&v.then((function(t){r.addEventListener(e.EVENT_LEFT_CHANGED,t),r.addEventListener(e.EVENT_VISIBLE_CHANGED,t),m.push((function(){r.removeEventListener(e.EVENT_LEFT_CHANGED,t),r.removeEventListener(e.EVENT_VISIBLE_CHANGED,t)}))}))}i||(p.showTabBasedOnPreviousSelection(),n(p)),p.addEventListener(y.EVENT_TAB_SELECTED,(function(e){c.lastSelectedTab=e.key})),r.setMenuVisible(!0,"contextMenu"),this.activeMenu=p,p.addEventListener(t.EVENT_DESTROYED,(function(){c.activeMenu===p&&(c.activeMenu=null)}))},i.prototype.isMenuEnabled=function(e){return e.getMenuTabs(y.TABS_DEFAULT).length>0},b([r("popupService")],i.prototype,"popupService",void 0),b([r("focusService")],i.prototype,"focusService",void 0),b([r("ctrlsService")],i.prototype,"ctrlsService",void 0),i=b([n("menuFactory")],i)}(t),y=function(e){function t(r,n,o){var i=e.call(this)||this;return i.tabFactories={},i.includeChecks={},i.column=r,i.initialSelection=n,i.tabFactories[t.TAB_GENERAL]=i.createMainPanel.bind(i),i.tabFactories[t.TAB_FILTER]=i.createFilterPanel.bind(i),i.tabFactories[t.TAB_COLUMNS]=i.createColumnsPanel.bind(i),i.includeChecks[t.TAB_GENERAL]=function(){return!0},i.includeChecks[t.TAB_FILTER]=function(){return r.isFilterAllowed()},i.includeChecks[t.TAB_COLUMNS]=function(){return!0},i.restrictTo=o,i}return f(t,e),t.prototype.init=function(){var e=this,t=this.getTabsToCreate().map((function(t){return e.createTab(t)}));this.tabbedLayout=new o({items:t,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter((function(t){return e.isValidMenuTabItem(t)})).filter((function(t){return e.isNotSuppressed(t)})).filter((function(t){return e.isModuleLoaded(t)}))},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||i.isRegistered(a.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var r=!0,n=t.TABS_DEFAULT;return null!=this.restrictTo&&(r=this.restrictTo.indexOf(e)>-1,n=this.restrictTo),(r=r&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+n+"]"),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL}r&&this.activateTab(r)},t.prototype.activateTab=function(e){var r={type:t.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(r)},t.prototype.getMenuItems=function(){var e,r=this.getDefaultMenuOptions(),n=this.gridOptionsWrapper.getMainMenuItemsFunc();return e=n?n({column:this.column,defaultItems:r}):r,u.removeRepeatsFromArray(e,t.MENU_ITEM_SEPARATOR),e},t.prototype.getDefaultMenuOptions=function(){var e=[],r=!this.column.getColDef().lockPinned,n=this.columnModel.getRowGroupColumns().length,o=n>0,i=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,a=this.column.isAllowValue(),u=this.column.isAllowRowGroup(),c=this.column.isPrimary(),p=this.columnModel.isPivotMode(),l=this.rowModel.getType()===s.ROW_MODEL_TYPE_CLIENT_SIDE,d=this.gridOptionsWrapper.isTreeData(),m=c&&o&&a||!c;return r&&e.push("pinSubMenu"),m&&e.push("valueAggSubMenu"),(r||m)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),u&&this.column.isPrimary()&&(i?e.push("rowUnGroup"):e.push("rowGroup")),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),l&&(d||n>(p?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new c);var e=this.getMenuItems(),r=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(r),this.mainMenuList.addEventListener(p.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:u.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:l.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var t;e&&e.event&&e.event instanceof KeyboardEvent&&(t=e.event),this.hidePopupFunc(t&&{keyboardEvent:t});var r=this.focusService.getFocusedCell(),n=this.gridOptionsWrapper.getDocument();if(n.activeElement===n.body&&r){var o=r.rowIndex,i=r.rowPinned,a=r.column;this.focusService.setFocusedCell(o,a,i,!0)}},t.prototype.createFilterPanel=function(){var e,r=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!r)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:u.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=r)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(e){var t;(null===(t=r)||void 0===t?void 0:t.filterPromise)&&r.filterPromise.then((function(t){t&&t.afterGuiAttached&&t.afterGuiAttached(e)}))},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new v);var r=this.column.getColDef().columnsMenuParams;r||(r={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!r.contractColumnSelection,suppressColumnExpandAll:!!r.suppressColumnExpandAll,suppressColumnFilter:!!r.suppressColumnFilter,suppressColumnSelectAll:!!r.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!r.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},"columnMenu");var n=this.columnSelectPanel.getGui();return n.classList.add("ag-menu-column-select"),e.appendChild(n),this.tabItemColumns={title:u.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:l.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var t=e.container,r=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:t,hidePopup:r}),r&&(this.hidePopupFunc=r,this.addDestroyFunc(r))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TAB_GENERAL="generalMenuTab",t.TAB_COLUMNS="columnsMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL,t.TAB_FILTER,t.TAB_COLUMNS],t.MENU_ITEM_SEPARATOR="separator",b([r("columnModel")],t.prototype,"columnModel",void 0),b([r("filterManager")],t.prototype,"filterManager",void 0),b([r("gridApi")],t.prototype,"gridApi",void 0),b([r("columnApi")],t.prototype,"columnApi",void 0),b([r("menuItemMapper")],t.prototype,"menuItemMapper",void 0),b([r("rowModel")],t.prototype,"rowModel",void 0),b([r("focusService")],t.prototype,"focusService",void 0),b([d],t.prototype,"init",null),t}(t),S=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),E=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},A=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return S(o,e),o.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},o.prototype.getMenuItems=function(e,t,r){var n=[];if(u.exists(e)&&i.isRegistered(a.ClipboardModule)&&t&&n.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&i.isRegistered(a.RangeSelectionModule)&&i.isRegistered(a.GridChartsModule)&&(this.columnModel.isPivotMode()&&n.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&n.push("chartRange")),u.exists(e)){var o=!i.isRegistered(a.CsvExportModule),s=!i.isRegistered(a.ExcelExportModule),c=this.gridOptionsWrapper.isSuppressExcelExport()||s,p=this.gridOptionsWrapper.isSuppressCsvExport()||o;!(u.isIOSUserAgent()||c&&p)&&n.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var l=this.gridOptionsWrapper.getContextMenuItemsFunc(),d={node:e,column:t,value:r,defaultItems:n.length?n:void 0};return l?l(d):void 0}return n},o.prototype.onContextMenu=function(e,t,r,n,o,i){if((this.gridOptionsWrapper.isAllowContextMenuWithControlKey()||!e||!e.ctrlKey&&!e.metaKey)&&(e&&this.blockMiddleClickScrollsIfNeeded(e),!this.gridOptionsWrapper.isSuppressContextMenu())){var a=e||t.touches[0];if(this.showMenu(r,n,o,a,i))(e||t).preventDefault()}},o.prototype.blockMiddleClickScrollsIfNeeded=function(e){var t=this.gridOptionsWrapper,r=e.which;t.isSuppressMiddleClickScrolls()&&2===r&&e.preventDefault()},o.prototype.showMenu=function(e,r,n,o,i){var a=this,s=this.getMenuItems(e,r,n),c=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===s||u.missingOrEmpty(s))return!1;var l=new T(s);this.createBean(l);var d=l.getGui(),m={column:r,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:d,nudgeY:1},h=this.gridOptionsWrapper.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:function(){c.classList.remove("ag-context-menu-open"),a.destroyBean(l)},click:o,positionCallback:function(){a.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:a.gridOptionsWrapper.isEnableRtl()?-1*(d.offsetWidth+1):1},m))},anchorToElement:i,ariaLabel:h("ariaLabelContextMenu","Context Menu")});return g&&(c.classList.add("ag-context-menu-open"),l.afterGuiAttached({container:"contextMenu",hidePopup:g.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(t.EVENT_DESTROYED,(function(){a.activeMenu===l&&(a.activeMenu=null)})),g&&l.addEventListener(p.EVENT_MENU_ITEM_SELECTED,g.hideFunc),!0},E([r("popupService")],o.prototype,"popupService",void 0),E([m("rangeService")],o.prototype,"rangeService",void 0),E([r("ctrlsService")],o.prototype,"ctrlsService",void 0),E([r("columnModel")],o.prototype,"columnModel",void 0),o=E([n("contextMenuFactory")],o)}(t),T=function(e){function t(t){var r=e.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return r.menuList=null,r.focusedCell=null,r.menuItems=t,r}return S(t,e),t.prototype.addMenuItems=function(){var e=this,t=this.createBean(new c),r=this.menuItemMapper.mapWithStockItems(this.menuItems,null);t.addMenuItems(r),this.appendChild(t),this.menuList=t,t.addEventListener(p.EVENT_MENU_ITEM_SELECTED,(function(t){return e.dispatchEvent(t)}))},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var t=this.focusedCell,r=t.rowIndex,n=t.rowPinned,o=t.column,i=this.gridOptionsWrapper.getDocument();i.activeElement===i.body&&this.focusService.setFocusedCell(r,o,n,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),e.prototype.destroy.call(this)},E([r("menuItemMapper")],t.prototype,"menuItemMapper",void 0),E([r("focusService")],t.prototype,"focusService",void 0),E([r("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),E([d],t.prototype,"addMenuItems",null),t}(h),L=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),P=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.mapWithStockItems=function(e,t){var r=this;if(!e)return[];var n=[];return e.forEach((function(e){var o;if(o="string"==typeof e?r.getStockMenuItem(e,t):e){var i=o,a=i.subMenu;a&&a instanceof Array&&(i.subMenu=r.mapWithStockItems(i.subMenu,t)),null!=o&&n.push(o)}})),n},t.prototype.getStockMenuItem=function(e,t){var r=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:n("pinColumn","Pin Column"),icon:u.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:n("pinLeft","Pin Left"),action:function(){return r.columnModel.setColumnPinned(t,s.PINNED_LEFT,"contextMenu")},checked:!!t&&t.isPinnedLeft()};case"pinRight":return{name:n("pinRight","Pin Right"),action:function(){return r.columnModel.setColumnPinned(t,s.PINNED_RIGHT,"contextMenu")},checked:!!t&&t.isPinnedRight()};case"clearPinned":return{name:n("noPin","No Pin"),action:function(){return r.columnModel.setColumnPinned(t,null,"contextMenu")},checked:!!t&&!t.isPinned()};case"valueAggSubMenu":return i.assertRegistered(a.RowGroupingModule,"Aggregation from Menu")?{name:n("valueAggregation","Value Aggregation"),icon:u.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:n("autosizeThiscolumn","Autosize This Column"),action:function(){return r.columnModel.autoSizeColumn(t,o,"contextMenu")}};case"autoSizeAll":return{name:n("autosizeAllColumns","Autosize All Columns"),action:function(){return r.columnModel.autoSizeAllColumns(o,"contextMenu")}};case"rowGroup":return{name:n("groupBy","Group by")+" "+u.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return r.columnModel.addRowGroupColumn(t,"contextMenu")},icon:u.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:n("ungroupBy","Un-Group by")+" "+u.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return r.columnModel.removeRowGroupColumn(t,"contextMenu")},icon:u.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:n("resetColumns","Reset Columns"),action:function(){return r.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:n("expandAll","Expand All"),action:function(){return r.gridApi.expandAll()}};case"contractAll":return{name:n("collapseAll","Collapse All"),action:function(){return r.gridApi.collapseAll()}};case"copy":return i.assertRegistered(a.ClipboardModule,"Copy from Menu")?{name:n("copy","Copy"),shortcut:n("ctrlC","Ctrl+C"),icon:u.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return r.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return i.assertRegistered(a.ClipboardModule,"Copy with Headers from Menu")?{name:n("copyWithHeaders","Copy with Headers"),icon:u.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return r.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return i.assertRegistered(a.ClipboardModule,"Copy with Group Headers from Menu")?{name:n("copyWithGroupHeaders","Copy with Group Headers"),icon:u.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return r.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return i.assertRegistered(a.ClipboardModule,"Paste from Clipboard")?{name:n("paste","Paste"),shortcut:n("ctrlV","Ctrl+V"),disabled:!0,icon:u.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return r.clipboardService.pasteFromClipboard()}}:null;case"export":var c=[],p=i.isRegistered(a.CsvExportModule),l=i.isRegistered(a.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&p&&c.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&l&&c.push("excelExport"),{name:n("export","Export"),subMenu:c,icon:u.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:n("csvExport","CSV Export"),icon:u.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return r.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:n("excelExport","Excel Export"),icon:u.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return r.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:var d=this.getChartItems(e);return d||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var t=this,r=this.gridOptionsWrapper.getLocaleTextFunc(),n=function(e,n,o){return{name:r(e,n),action:function(){return t.chartService.createPivotChart({chartType:o})}}},o=function(e,n,o){return{name:r(e,n),action:function(){return t.chartService.createChartFromCurrentRange(o)}}};switch(e){case"pivotChart":return{name:r("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:u.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:r("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:u.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:r("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return n("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return n("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return n("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:r("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return o("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return o("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return o("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:r("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return n("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return n("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return n("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:r("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return o("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return o("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return o("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:r("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return n("pie","Pie&lrm;","pie");case"pivotDoughnut":return n("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:r("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return o("pie","Pie&lrm;","pie");case"rangeDoughnut":return o("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return n("line","Line&lrm;","line");case"rangeLineChart":return o("line","Line&lrm;","line");case"pivotXYChart":return{name:r("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return n("scatter","Scatter&lrm;","scatter");case"pivotBubble":return n("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:r("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return o("scatter","Scatter&lrm;","scatter");case"rangeBubble":return o("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:r("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return n("area","Area&lrm;","area");case"pivotStackedArea":return n("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return n("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:r("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return o("area","Area&lrm;","area");case"rangeStackedArea":return o("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return o("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return o("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return o("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return o("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:r("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},t.prototype.createAggregationSubMenu=function(e){var t,r=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=e.isValueActive(),i=this.aggFuncService.getFuncNames(e);if(e.isPrimary())t=e;else{var a=e.getColDef().pivotValueColumn;t=u.exists(a)?a:void 0}var s=[];return i.forEach((function(e){s.push({name:n(e,e),action:function(){r.columnModel.setColumnAggFunc(t,e,"contextMenu"),r.columnModel.addValueColumn(t,"contextMenu")},checked:o&&t.getAggFunc()===e})})),s},P([r("columnModel")],t.prototype,"columnModel",void 0),P([r("gridApi")],t.prototype,"gridApi",void 0),P([m("clipboardService")],t.prototype,"clipboardService",void 0),P([m("aggFuncService")],t.prototype,"aggFuncService",void 0),P([m("chartService")],t.prototype,"chartService",void 0),t=P([n("menuItemMapper")],t)}(t),_={moduleName:a.MenuModule,beans:[M,A,I],dependantModules:[g]};export{_ as MenuModule};