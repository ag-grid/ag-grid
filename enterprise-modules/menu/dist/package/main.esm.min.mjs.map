{
  "version": 3,
  "sources": ["<stdin>"],
  "sourcesContent": ["// enterprise-modules/menu/src/menuModule.ts\nimport { ModuleNames as ModuleNames5, _CommunityMenuApiModule } from \"@ag-grid-community/core\";\nimport { AgMenuItemRenderer, EnterpriseCoreModule } from \"@ag-grid-enterprise/core\";\n\n// enterprise-modules/menu/src/menu/chartMenuItemMapper.ts\nimport { BeanStub, ModuleNames, ModuleRegistry, _createIconNoSpan, _warnOnce } from \"@ag-grid-community/core\";\nvar ChartMenuItemMapper = class _ChartMenuItemMapper extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"chartMenuItemMapper\";\n  }\n  wireBeans(beans) {\n    this.chartService = beans.chartService;\n  }\n  getChartItems(key) {\n    if (!this.chartService) {\n      ModuleRegistry.__assertRegistered(\n        ModuleNames.GridChartsModule,\n        `the Context Menu key \"${key}\"`,\n        this.gridId\n      );\n      return void 0;\n    }\n    const builder = key === \"pivotChart\" ? new PivotMenuItemMapper(this.gos, this.chartService, this.localeService) : new RangeMenuItemMapper(this.gos, this.chartService, this.localeService);\n    const isEnterprise = this.chartService.isEnterprise();\n    let topLevelMenuItem = builder.getMenuItem();\n    if (topLevelMenuItem && topLevelMenuItem.subMenu && !isEnterprise) {\n      const filterEnterpriseItems = (m) => ({\n        ...m,\n        subMenu: m.subMenu?.filter((menu) => !menu._enterprise).map((menu) => filterEnterpriseItems(menu))\n      });\n      topLevelMenuItem = filterEnterpriseItems(topLevelMenuItem);\n    }\n    const chartGroupsDef = this.gos.get(\"chartToolPanelsDef\")?.settingsPanel?.chartGroupsDef;\n    if (chartGroupsDef) {\n      topLevelMenuItem = _ChartMenuItemMapper.filterAndOrderChartMenu(\n        topLevelMenuItem,\n        chartGroupsDef,\n        builder.getConfigLookup()\n      );\n    }\n    return this.cleanInternals(topLevelMenuItem);\n  }\n  // Remove our internal _key and _enterprise properties so this does not leak out of the class on the menu items.\n  cleanInternals(menuItem) {\n    if (!menuItem) {\n      return menuItem;\n    }\n    const removeKeys = (m) => {\n      delete m?._key;\n      delete m?._enterprise;\n      m?.subMenu?.forEach((s) => removeKeys(s));\n      return m;\n    };\n    return removeKeys(menuItem);\n  }\n  static buildLookup(menuItem) {\n    const itemLookup = {};\n    const addItem = (item) => {\n      itemLookup[item._key] = item;\n      if (item.subMenu) {\n        item.subMenu.forEach((s) => addItem(s));\n      }\n    };\n    addItem(menuItem);\n    return itemLookup;\n  }\n  /**\n   * Make the MenuItem match the charts provided and their ordering on the ChartGroupsDef config object as provided by the user.\n   */\n  static filterAndOrderChartMenu(topLevelMenuItem, chartGroupsDef, configLookup) {\n    const menuItemLookup = this.buildLookup(topLevelMenuItem);\n    const orderedAndFiltered = { ...topLevelMenuItem, subMenu: [] };\n    Object.entries(chartGroupsDef).forEach(([group, chartTypes]) => {\n      const chartConfigGroup = configLookup[group];\n      if (chartConfigGroup === null)\n        return;\n      if (chartConfigGroup == void 0) {\n        _warnOnce(`invalid chartGroupsDef config '${group}'`);\n        return void 0;\n      }\n      const menuItem = menuItemLookup[chartConfigGroup._key];\n      if (menuItem) {\n        if (menuItem.subMenu) {\n          const subMenus = chartTypes.map((chartType) => {\n            const itemKey = chartConfigGroup[chartType];\n            if (itemKey == void 0) {\n              _warnOnce(`invalid chartGroupsDef config '${group}.${chartType}'`);\n              return void 0;\n            }\n            return menuItemLookup[itemKey];\n          }).filter((s) => s !== void 0);\n          if (subMenus.length > 0) {\n            menuItem.subMenu = subMenus;\n            orderedAndFiltered.subMenu?.push(menuItem);\n          }\n        } else {\n          orderedAndFiltered.subMenu?.push(menuItem);\n        }\n      }\n    });\n    if (orderedAndFiltered.subMenu?.length == 0) {\n      return void 0;\n    }\n    return orderedAndFiltered;\n  }\n};\nvar PivotMenuItemMapper = class {\n  constructor(gos, chartService, localeService) {\n    this.gos = gos;\n    this.chartService = chartService;\n    this.localeService = localeService;\n  }\n  getMenuItem() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const getMenuItem = (localeKey, defaultText, chartType, key, enterprise = false) => {\n      return {\n        name: localeTextFunc(localeKey, defaultText),\n        action: () => this.chartService.createPivotChart({ chartType }),\n        _key: key,\n        _enterprise: enterprise\n      };\n    };\n    return {\n      name: localeTextFunc(\"pivotChart\", \"Pivot Chart\"),\n      _key: \"pivotChart\",\n      subMenu: [\n        {\n          _key: \"pivotColumnChart\",\n          name: localeTextFunc(\"columnChart\", \"Column\"),\n          subMenu: [\n            getMenuItem(\"groupedColumn\", \"Grouped&lrm;\", \"groupedColumn\", \"pivotGroupedColumn\"),\n            getMenuItem(\"stackedColumn\", \"Stacked&lrm;\", \"stackedColumn\", \"pivotStackedColumn\"),\n            getMenuItem(\n              \"normalizedColumn\",\n              \"100% Stacked&lrm;\",\n              \"normalizedColumn\",\n              \"pivotNormalizedColumn\"\n            )\n          ]\n        },\n        {\n          _key: \"pivotBarChart\",\n          name: localeTextFunc(\"barChart\", \"Bar\"),\n          subMenu: [\n            getMenuItem(\"groupedBar\", \"Grouped&lrm;\", \"groupedBar\", \"pivotGroupedBar\"),\n            getMenuItem(\"stackedBar\", \"Stacked&lrm;\", \"stackedBar\", \"pivotStackedBar\"),\n            getMenuItem(\"normalizedBar\", \"100% Stacked&lrm;\", \"normalizedBar\", \"pivotNormalizedBar\")\n          ]\n        },\n        {\n          _key: \"pivotPieChart\",\n          name: localeTextFunc(\"pieChart\", \"Pie\"),\n          subMenu: [\n            getMenuItem(\"pie\", \"Pie&lrm;\", \"pie\", \"pivotPie\"),\n            getMenuItem(\"donut\", \"Donut&lrm;\", \"donut\", \"pivotDonut\")\n          ]\n        },\n        getMenuItem(\"line\", \"Line&lrm;\", \"line\", \"pivotLineChart\"),\n        {\n          _key: \"pivotXYChart\",\n          name: localeTextFunc(\"xyChart\", \"X Y (Scatter)\"),\n          subMenu: [\n            getMenuItem(\"scatter\", \"Scatter&lrm;\", \"scatter\", \"pivotScatter\"),\n            getMenuItem(\"bubble\", \"Bubble&lrm;\", \"bubble\", \"pivotBubble\")\n          ]\n        },\n        {\n          _key: \"pivotAreaChart\",\n          name: localeTextFunc(\"areaChart\", \"Area\"),\n          subMenu: [\n            getMenuItem(\"area\", \"Area&lrm;\", \"area\", \"pivotArea\"),\n            getMenuItem(\"stackedArea\", \"Stacked&lrm;\", \"stackedArea\", \"pivotStackedArea\"),\n            getMenuItem(\"normalizedArea\", \"100% Stacked&lrm;\", \"normalizedArea\", \"pivotNormalizedArea\")\n          ]\n        },\n        {\n          _key: \"pivotStatisticalChart\",\n          _enterprise: false,\n          // histogram chart is available in both community and enterprise distributions\n          name: localeTextFunc(\"statisticalChart\", \"Statistical\"),\n          subMenu: [getMenuItem(\"histogramChart\", \"Histogram&lrm;\", \"histogram\", \"pivotHistogram\", false)]\n        },\n        {\n          _key: \"pivotHierarchicalChart\",\n          _enterprise: true,\n          name: localeTextFunc(\"hierarchicalChart\", \"Hierarchical\"),\n          subMenu: [\n            getMenuItem(\"treemapChart\", \"Treemap&lrm;\", \"treemap\", \"pivotTreemap\", true),\n            getMenuItem(\"sunburstChart\", \"Sunburst&lrm;\", \"sunburst\", \"pivotSunburst\", true)\n          ]\n        },\n        {\n          _key: \"pivotCombinationChart\",\n          name: localeTextFunc(\"combinationChart\", \"Combination\"),\n          subMenu: [\n            getMenuItem(\"columnLineCombo\", \"Column & Line&lrm;\", \"columnLineCombo\", \"pivotColumnLineCombo\"),\n            getMenuItem(\"AreaColumnCombo\", \"Area & Column&lrm;\", \"areaColumnCombo\", \"pivotAreaColumnCombo\")\n          ]\n        }\n      ],\n      icon: _createIconNoSpan(\"chart\", this.gos, void 0)\n    };\n  }\n  getConfigLookup() {\n    return {\n      columnGroup: {\n        _key: \"pivotColumnChart\",\n        column: \"pivotGroupedColumn\",\n        stackedColumn: \"pivotStackedColumn\",\n        normalizedColumn: \"pivotNormalizedColumn\"\n      },\n      barGroup: {\n        _key: \"pivotBarChart\",\n        bar: \"pivotGroupedBar\",\n        stackedBar: \"pivotStackedBar\",\n        normalizedBar: \"pivotNormalizedBar\"\n      },\n      pieGroup: {\n        _key: \"pivotPieChart\",\n        pie: \"pivotPie\",\n        donut: \"pivotDonut\",\n        doughnut: \"pivotDonut\"\n      },\n      lineGroup: {\n        _key: \"pivotLineChart\",\n        line: \"pivotLineChart\"\n      },\n      scatterGroup: {\n        _key: \"pivotXYChart\",\n        bubble: \"pivotBubble\",\n        scatter: \"pivotScatter\"\n      },\n      areaGroup: {\n        _key: \"pivotAreaChart\",\n        area: \"pivotArea\",\n        stackedArea: \"pivotStackedArea\",\n        normalizedArea: \"pivotNormalizedArea\"\n      },\n      combinationGroup: {\n        _key: \"pivotCombinationChart\",\n        columnLineCombo: \"pivotColumnLineCombo\",\n        areaColumnCombo: \"pivotAreaColumnCombo\",\n        customCombo: null\n        // Not currently supported\n      },\n      hierarchicalGroup: {\n        _key: \"pivotHierarchicalChart\",\n        treemap: \"pivotTreemap\",\n        sunburst: \"pivotSunburst\"\n      },\n      statisticalGroup: {\n        _key: \"pivotStatisticalChart\",\n        histogram: \"pivotHistogram\",\n        // Some statistical charts do not currently support pivot mode\n        rangeBar: null,\n        rangeArea: null,\n        boxPlot: null\n      },\n      // Polar charts do not support pivot mode\n      polarGroup: null,\n      // Specialized charts do not currently support pivot mode\n      specializedGroup: null\n    };\n  }\n};\nvar RangeMenuItemMapper = class {\n  constructor(gos, chartService, localeService) {\n    this.gos = gos;\n    this.chartService = chartService;\n    this.localeService = localeService;\n  }\n  getMenuItem() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const getMenuItem = (localeKey, defaultText, chartType, key, enterprise = false) => {\n      return {\n        name: localeTextFunc(localeKey, defaultText),\n        action: () => this.chartService.createChartFromCurrentRange(chartType),\n        _key: key,\n        _enterprise: enterprise\n      };\n    };\n    return {\n      name: localeTextFunc(\"chartRange\", \"Chart Range\"),\n      _key: \"chartRange\",\n      subMenu: [\n        {\n          name: localeTextFunc(\"columnChart\", \"Column\"),\n          subMenu: [\n            getMenuItem(\"groupedColumn\", \"Grouped&lrm;\", \"groupedColumn\", \"rangeGroupedColumn\"),\n            getMenuItem(\"stackedColumn\", \"Stacked&lrm;\", \"stackedColumn\", \"rangeStackedColumn\"),\n            getMenuItem(\n              \"normalizedColumn\",\n              \"100% Stacked&lrm;\",\n              \"normalizedColumn\",\n              \"rangeNormalizedColumn\"\n            )\n          ],\n          _key: \"rangeColumnChart\"\n        },\n        {\n          name: localeTextFunc(\"barChart\", \"Bar\"),\n          subMenu: [\n            getMenuItem(\"groupedBar\", \"Grouped&lrm;\", \"groupedBar\", \"rangeGroupedBar\"),\n            getMenuItem(\"stackedBar\", \"Stacked&lrm;\", \"stackedBar\", \"rangeStackedBar\"),\n            getMenuItem(\"normalizedBar\", \"100% Stacked&lrm;\", \"normalizedBar\", \"rangeNormalizedBar\")\n          ],\n          _key: \"rangeBarChart\"\n        },\n        {\n          name: localeTextFunc(\"pieChart\", \"Pie\"),\n          subMenu: [\n            getMenuItem(\"pie\", \"Pie&lrm;\", \"pie\", \"rangePie\"),\n            getMenuItem(\"donut\", \"Donut&lrm;\", \"donut\", \"rangeDonut\")\n          ],\n          _key: \"rangePieChart\"\n        },\n        getMenuItem(\"line\", \"Line&lrm;\", \"line\", \"rangeLineChart\"),\n        {\n          name: localeTextFunc(\"xyChart\", \"X Y (Scatter)\"),\n          subMenu: [\n            getMenuItem(\"scatter\", \"Scatter&lrm;\", \"scatter\", \"rangeScatter\"),\n            getMenuItem(\"bubble\", \"Bubble&lrm;\", \"bubble\", \"rangeBubble\")\n          ],\n          _key: \"rangeXYChart\"\n        },\n        {\n          name: localeTextFunc(\"areaChart\", \"Area\"),\n          subMenu: [\n            getMenuItem(\"area\", \"Area&lrm;\", \"area\", \"rangeArea\"),\n            getMenuItem(\"stackedArea\", \"Stacked&lrm;\", \"stackedArea\", \"rangeStackedArea\"),\n            getMenuItem(\"normalizedArea\", \"100% Stacked&lrm;\", \"normalizedArea\", \"rangeNormalizedArea\")\n          ],\n          _key: \"rangeAreaChart\"\n        },\n        {\n          name: localeTextFunc(\"polarChart\", \"Polar\"),\n          subMenu: [\n            getMenuItem(\"radarLine\", \"Radar Line&lrm;\", \"radarLine\", \"rangeRadarLine\"),\n            getMenuItem(\"radarArea\", \"Radar Area&lrm;\", \"radarArea\", \"rangeRadarArea\"),\n            getMenuItem(\"nightingale\", \"Nightingale&lrm;\", \"nightingale\", \"rangeNightingale\"),\n            getMenuItem(\"radialColumn\", \"Radial Column&lrm;\", \"radialColumn\", \"rangeRadialColumn\"),\n            getMenuItem(\"radialBar\", \"Radial Bar&lrm;\", \"radialBar\", \"rangeRadialBar\")\n          ],\n          _key: \"rangePolarChart\",\n          _enterprise: true\n        },\n        {\n          name: localeTextFunc(\"statisticalChart\", \"Statistical\"),\n          subMenu: [\n            getMenuItem(\"boxPlot\", \"Box Plot&lrm;\", \"boxPlot\", \"rangeBoxPlot\", true),\n            getMenuItem(\"histogramChart\", \"Histogram&lrm;\", \"histogram\", \"rangeHistogram\", false),\n            getMenuItem(\"rangeBar\", \"Range Bar&lrm;\", \"rangeBar\", \"rangeRangeBar\", true),\n            getMenuItem(\"rangeArea\", \"Range Area&lrm;\", \"rangeArea\", \"rangeRangeArea\", true)\n          ],\n          _key: \"rangeStatisticalChart\",\n          _enterprise: false\n          // histogram chart is available in both community and enterprise distributions\n        },\n        {\n          name: localeTextFunc(\"hierarchicalChart\", \"Hierarchical\"),\n          subMenu: [\n            getMenuItem(\"treemap\", \"Treemap&lrm;\", \"treemap\", \"rangeTreemap\"),\n            getMenuItem(\"sunburst\", \"Sunburst&lrm;\", \"sunburst\", \"rangeSunburst\")\n          ],\n          _key: \"rangeHierarchicalChart\",\n          _enterprise: true\n        },\n        {\n          name: localeTextFunc(\"specializedChart\", \"Specialized\"),\n          subMenu: [\n            getMenuItem(\"heatmap\", \"Heatmap&lrm;\", \"heatmap\", \"rangeHeatmap\"),\n            getMenuItem(\"waterfall\", \"Waterfall&lrm;\", \"waterfall\", \"rangeWaterfall\")\n          ],\n          _key: \"rangeSpecializedChart\",\n          _enterprise: true\n        },\n        {\n          name: localeTextFunc(\"combinationChart\", \"Combination\"),\n          subMenu: [\n            getMenuItem(\"columnLineCombo\", \"Column & Line&lrm;\", \"columnLineCombo\", \"rangeColumnLineCombo\"),\n            getMenuItem(\"AreaColumnCombo\", \"Area & Column&lrm;\", \"areaColumnCombo\", \"rangeAreaColumnCombo\")\n          ],\n          _key: \"rangeCombinationChart\"\n        }\n      ],\n      icon: _createIconNoSpan(\"chart\", this.gos, void 0)\n    };\n  }\n  getConfigLookup() {\n    return {\n      columnGroup: {\n        _key: \"rangeColumnChart\",\n        column: \"rangeGroupedColumn\",\n        stackedColumn: \"rangeStackedColumn\",\n        normalizedColumn: \"rangeNormalizedColumn\"\n      },\n      barGroup: {\n        _key: \"rangeBarChart\",\n        bar: \"rangeGroupedBar\",\n        stackedBar: \"rangeStackedBar\",\n        normalizedBar: \"rangeNormalizedBar\"\n      },\n      pieGroup: {\n        _key: \"rangePieChart\",\n        pie: \"rangePie\",\n        donut: \"rangeDonut\",\n        doughnut: \"rangeDonut\"\n      },\n      lineGroup: {\n        _key: \"rangeLineChart\",\n        line: \"rangeLineChart\"\n      },\n      scatterGroup: {\n        _key: \"rangeXYChart\",\n        bubble: \"rangeBubble\",\n        scatter: \"rangeScatter\"\n      },\n      areaGroup: {\n        _key: \"rangeAreaChart\",\n        area: \"rangeArea\",\n        stackedArea: \"rangeStackedArea\",\n        normalizedArea: \"rangeNormalizedArea\"\n      },\n      polarGroup: {\n        _key: \"rangePolarChart\",\n        radarLine: \"rangeRadarLine\",\n        radarArea: \"rangeRadarArea\",\n        nightingale: \"rangeNightingale\",\n        radialColumn: \"rangeRadialColumn\",\n        radialBar: \"rangeRadialBar\"\n      },\n      statisticalGroup: {\n        _key: \"rangeStatisticalChart\",\n        boxPlot: \"rangeBoxPlot\",\n        histogram: \"rangeHistogram\",\n        rangeBar: \"rangeRangeBar\",\n        rangeArea: \"rangeRangeArea\"\n      },\n      hierarchicalGroup: {\n        _key: \"rangeHierarchicalChart\",\n        treemap: \"rangeTreemap\",\n        sunburst: \"rangeSunburst\"\n      },\n      specializedGroup: {\n        _key: \"rangeSpecializedChart\",\n        heatmap: \"rangeHeatmap\",\n        waterfall: \"rangeWaterfall\"\n      },\n      combinationGroup: {\n        _key: \"rangeCombinationChart\",\n        columnLineCombo: \"rangeColumnLineCombo\",\n        areaColumnCombo: \"rangeAreaColumnCombo\",\n        customCombo: null\n        // Not currently supported\n      }\n    };\n  }\n};\n\n// enterprise-modules/menu/src/menu/columnChooserFactory.ts\nimport { BeanStub as BeanStub2 } from \"@ag-grid-community/core\";\nimport { AgPrimaryCols } from \"@ag-grid-enterprise/column-tool-panel\";\nimport { AgDialog } from \"@ag-grid-enterprise/core\";\nvar ColumnChooserFactory = class extends BeanStub2 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnChooserFactory\";\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n    this.menuUtils = beans.menuUtils;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  createColumnSelectPanel(parent, column, draggable, params) {\n    const columnSelectPanel = parent.createManagedBean(new AgPrimaryCols());\n    const columnChooserParams = params ?? column?.getColDef().columnChooserParams ?? column?.getColDef().columnsMenuParams ?? {};\n    const {\n      contractColumnSelection,\n      suppressColumnExpandAll,\n      suppressColumnFilter,\n      suppressColumnSelectAll,\n      suppressSyncLayoutWithGrid,\n      columnLayout\n    } = columnChooserParams;\n    columnSelectPanel.init(\n      !!draggable,\n      this.gos.addGridCommonParams({\n        suppressColumnMove: false,\n        suppressValues: false,\n        suppressPivots: false,\n        suppressRowGroups: false,\n        suppressPivotMode: false,\n        contractColumnSelection: !!contractColumnSelection,\n        suppressColumnExpandAll: !!suppressColumnExpandAll,\n        suppressColumnFilter: !!suppressColumnFilter,\n        suppressColumnSelectAll: !!suppressColumnSelectAll,\n        suppressSyncLayoutWithGrid: !!columnLayout || !!suppressSyncLayoutWithGrid,\n        onStateUpdated: () => {\n        }\n      }),\n      \"columnMenu\"\n    );\n    if (columnLayout) {\n      columnSelectPanel.setColumnLayout(columnLayout);\n    }\n    return columnSelectPanel;\n  }\n  showColumnChooser({ column, chooserParams, eventSource }) {\n    this.hideActiveColumnChooser();\n    const columnSelectPanel = this.createColumnSelectPanel(this, column, true, chooserParams);\n    const translate = this.localeService.getLocaleTextFunc();\n    const columnIndex = this.visibleColsService.getAllCols().indexOf(column);\n    const headerPosition = column ? this.focusService.getFocusedHeader() : null;\n    this.activeColumnChooserDialog = this.createBean(\n      new AgDialog({\n        title: translate(\"chooseColumns\", \"Choose Columns\"),\n        component: columnSelectPanel,\n        width: 300,\n        height: 300,\n        resizable: true,\n        movable: true,\n        centered: true,\n        closable: true,\n        afterGuiAttached: () => {\n          this.focusService.findNextFocusableElement(columnSelectPanel.getGui())?.focus();\n          this.dispatchVisibleChangedEvent(true, column);\n        },\n        closedCallback: (event) => {\n          const eComp = this.activeColumnChooser.getGui();\n          this.destroyBean(this.activeColumnChooser);\n          this.activeColumnChooser = void 0;\n          this.activeColumnChooserDialog = void 0;\n          this.dispatchVisibleChangedEvent(false, column);\n          if (column) {\n            this.menuUtils.restoreFocusOnClose(\n              { column, headerPosition, columnIndex, eventSource },\n              eComp,\n              event,\n              true\n            );\n          }\n        }\n      })\n    );\n    this.activeColumnChooser = columnSelectPanel;\n  }\n  hideActiveColumnChooser() {\n    if (this.activeColumnChooserDialog) {\n      this.destroyBean(this.activeColumnChooserDialog);\n    }\n  }\n  dispatchVisibleChangedEvent(visible, column) {\n    const event = {\n      type: \"columnMenuVisibleChanged\",\n      visible,\n      switchingTab: false,\n      key: \"columnChooser\",\n      column: column ?? null\n    };\n    this.eventService.dispatchEvent(event);\n  }\n};\n\n// enterprise-modules/menu/src/menu/columnMenuFactory.ts\nimport { BeanStub as BeanStub3, _removeRepeatsFromArray } from \"@ag-grid-community/core\";\nimport { AgMenuList } from \"@ag-grid-enterprise/core\";\nvar MENU_ITEM_SEPARATOR = \"separator\";\nvar ColumnMenuFactory = class extends BeanStub3 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnMenuFactory\";\n  }\n  wireBeans(beans) {\n    this.menuItemMapper = beans.menuItemMapper;\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n    this.rowModel = beans.rowModel;\n    this.menuService = beans.menuService;\n  }\n  createMenu(parent, column, sourceElement) {\n    const menuList = parent.createManagedBean(\n      new AgMenuList(0, {\n        column: column ?? null,\n        node: null,\n        value: null\n      })\n    );\n    const menuItems = this.getMenuItems(column);\n    const menuItemsMapped = this.menuItemMapper.mapWithStockItems(\n      menuItems,\n      column ?? null,\n      sourceElement,\n      \"columnMenu\"\n    );\n    menuList.addMenuItems(menuItemsMapped);\n    return menuList;\n  }\n  getMenuItems(column) {\n    const defaultItems = this.getDefaultMenuOptions(column);\n    let result;\n    const columnMainMenuItems = column?.getColDef().mainMenuItems;\n    if (Array.isArray(columnMainMenuItems)) {\n      result = columnMainMenuItems;\n    } else if (typeof columnMainMenuItems === \"function\") {\n      result = columnMainMenuItems(\n        this.gos.addGridCommonParams({\n          column,\n          defaultItems\n        })\n      );\n    } else {\n      const userFunc = this.gos.getCallback(\"getMainMenuItems\");\n      if (userFunc && column) {\n        result = userFunc({\n          column,\n          defaultItems\n        });\n      } else {\n        result = defaultItems;\n      }\n    }\n    _removeRepeatsFromArray(result, MENU_ITEM_SEPARATOR);\n    return result;\n  }\n  getDefaultMenuOptions(column) {\n    const result = [];\n    const isLegacyMenuEnabled = this.menuService.isLegacyMenuEnabled();\n    if (!column) {\n      if (!isLegacyMenuEnabled) {\n        result.push(\"columnChooser\");\n      }\n      result.push(\"resetColumns\");\n      return result;\n    }\n    const allowPinning = !column.getColDef().lockPinned;\n    const rowGroupCount = this.funcColsService.getRowGroupColumns().length;\n    const doingGrouping = rowGroupCount > 0;\n    const allowValue = column.isAllowValue();\n    const allowRowGroup = column.isAllowRowGroup();\n    const isPrimary = column.isPrimary();\n    const pivotModeOn = this.columnModel.isPivotMode();\n    const isInMemoryRowModel = this.rowModel.getType() === \"clientSide\";\n    const usingTreeData = this.gos.get(\"treeData\");\n    const allowValueAgg = (\n      // if primary, then only allow aggValue if grouping and it's a value columns\n      isPrimary && doingGrouping && allowValue || // secondary columns can always have aggValue, as it means it's a pivot value column\n      !isPrimary\n    );\n    if (!isLegacyMenuEnabled && column.isSortable()) {\n      const sort = column.getSort();\n      if (sort !== \"asc\") {\n        result.push(\"sortAscending\");\n      }\n      if (sort !== \"desc\") {\n        result.push(\"sortDescending\");\n      }\n      if (sort) {\n        result.push(\"sortUnSort\");\n      }\n      result.push(MENU_ITEM_SEPARATOR);\n    }\n    if (this.menuService.isFilterMenuItemEnabled(column)) {\n      result.push(\"columnFilter\");\n      result.push(MENU_ITEM_SEPARATOR);\n    }\n    if (allowPinning) {\n      result.push(\"pinSubMenu\");\n    }\n    if (allowValueAgg) {\n      result.push(\"valueAggSubMenu\");\n    }\n    if (allowPinning || allowValueAgg) {\n      result.push(MENU_ITEM_SEPARATOR);\n    }\n    result.push(\"autoSizeThis\");\n    result.push(\"autoSizeAll\");\n    result.push(MENU_ITEM_SEPARATOR);\n    const showRowGroup = column.getColDef().showRowGroup;\n    if (showRowGroup) {\n      result.push(\"rowUnGroup\");\n    } else if (allowRowGroup && column.isPrimary()) {\n      if (column.isRowGroupActive()) {\n        const groupLocked = this.columnModel.isColGroupLocked(column);\n        if (!groupLocked) {\n          result.push(\"rowUnGroup\");\n        }\n      } else {\n        result.push(\"rowGroup\");\n      }\n    }\n    result.push(MENU_ITEM_SEPARATOR);\n    if (!isLegacyMenuEnabled) {\n      result.push(\"columnChooser\");\n    }\n    result.push(\"resetColumns\");\n    const allowExpandAndContract = isInMemoryRowModel && (usingTreeData || rowGroupCount > (pivotModeOn ? 1 : 0));\n    if (allowExpandAndContract) {\n      result.push(\"expandAll\");\n      result.push(\"contractAll\");\n    }\n    return result;\n  }\n};\n\n// enterprise-modules/menu/src/menu/contextMenu.ts\nimport {\n  BeanStub as BeanStub4,\n  Component,\n  ModuleNames as ModuleNames2,\n  ModuleRegistry as ModuleRegistry2,\n  _exists,\n  _isIOSUserAgent,\n  _missingOrEmpty\n} from \"@ag-grid-community/core\";\nimport { AgMenuList as AgMenuList2 } from \"@ag-grid-enterprise/core\";\nvar CSS_MENU = \"ag-menu\";\nvar CSS_CONTEXT_MENU_OPEN = \"ag-context-menu-open\";\nvar ContextMenuFactory = class extends BeanStub4 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"contextMenuFactory\";\n  }\n  wireBeans(beans) {\n    this.popupService = beans.popupService;\n    this.ctrlsService = beans.ctrlsService;\n    this.columnModel = beans.columnModel;\n    this.menuUtils = beans.menuUtils;\n    this.rangeService = beans.rangeService;\n  }\n  hideActiveMenu() {\n    this.destroyBean(this.activeMenu);\n  }\n  getMenuItems(node, column, value) {\n    const defaultMenuOptions = [];\n    if (_exists(node) && ModuleRegistry2.__isRegistered(ModuleNames2.ClipboardModule, this.gridId)) {\n      if (column) {\n        if (!this.gos.get(\"suppressCutToClipboard\")) {\n          defaultMenuOptions.push(\"cut\");\n        }\n        defaultMenuOptions.push(\"copy\", \"copyWithHeaders\", \"copyWithGroupHeaders\", \"paste\", \"separator\");\n      }\n    }\n    if (this.gos.get(\"enableCharts\") && ModuleRegistry2.__isRegistered(ModuleNames2.GridChartsModule, this.gridId)) {\n      if (this.columnModel.isPivotMode()) {\n        defaultMenuOptions.push(\"pivotChart\");\n      }\n      if (this.rangeService && !this.rangeService.isEmpty()) {\n        defaultMenuOptions.push(\"chartRange\");\n      }\n    }\n    if (_exists(node)) {\n      const csvModuleMissing = !ModuleRegistry2.__isRegistered(ModuleNames2.CsvExportModule, this.gridId);\n      const excelModuleMissing = !ModuleRegistry2.__isRegistered(ModuleNames2.ExcelExportModule, this.gridId);\n      const suppressExcel = this.gos.get(\"suppressExcelExport\") || excelModuleMissing;\n      const suppressCsv = this.gos.get(\"suppressCsvExport\") || csvModuleMissing;\n      const onIPad = _isIOSUserAgent();\n      const anyExport = !onIPad && (!suppressExcel || !suppressCsv);\n      if (anyExport) {\n        defaultMenuOptions.push(\"export\");\n      }\n    }\n    const defaultItems = defaultMenuOptions.length ? defaultMenuOptions : void 0;\n    const columnContextMenuItems = column?.getColDef().contextMenuItems;\n    if (Array.isArray(columnContextMenuItems)) {\n      return columnContextMenuItems;\n    }\n    if (typeof columnContextMenuItems === \"function\") {\n      return columnContextMenuItems(\n        this.gos.addGridCommonParams({\n          column,\n          node,\n          value,\n          defaultItems\n        })\n      );\n    }\n    const userFunc = this.gos.getCallback(\"getContextMenuItems\");\n    if (userFunc) {\n      return userFunc({ column, node, value, defaultItems });\n    }\n    return defaultMenuOptions;\n  }\n  onContextMenu(mouseEvent, touchEvent, rowNode, column, value, anchorToElement) {\n    this.menuUtils.onContextMenu(\n      mouseEvent,\n      touchEvent,\n      (eventOrTouch) => this.showMenu(rowNode, column, value, eventOrTouch, anchorToElement)\n    );\n  }\n  showMenu(node, column, value, mouseEvent, anchorToElement) {\n    const menuItems = this.getMenuItems(node, column, value);\n    const eGridBodyGui = this.ctrlsService.getGridBodyCtrl().getGui();\n    if (menuItems === void 0 || _missingOrEmpty(menuItems)) {\n      return false;\n    }\n    const menu = new ContextMenu(menuItems, column, node, value);\n    this.createBean(menu);\n    const eMenuGui = menu.getGui();\n    const positionParams = {\n      column,\n      rowNode: node,\n      type: \"contextMenu\",\n      mouseEvent,\n      ePopup: eMenuGui,\n      // move one pixel away so that accidentally double clicking\n      // won't show the browser's contextmenu\n      nudgeY: 1\n    };\n    const translate = this.localeService.getLocaleTextFunc();\n    const addPopupRes = this.popupService.addPopup({\n      modal: true,\n      eChild: eMenuGui,\n      closeOnEsc: true,\n      closedCallback: (e) => {\n        eGridBodyGui.classList.remove(CSS_CONTEXT_MENU_OPEN);\n        this.destroyBean(menu);\n        this.dispatchVisibleChangedEvent(false, e === void 0 ? \"api\" : \"ui\");\n      },\n      click: mouseEvent,\n      positionCallback: () => {\n        const isRtl = this.gos.get(\"enableRtl\");\n        this.popupService.positionPopupUnderMouseEvent({\n          ...positionParams,\n          nudgeX: isRtl ? (eMenuGui.offsetWidth + 1) * -1 : 1\n        });\n      },\n      // so when browser is scrolled down, or grid is scrolled, context menu stays with cell\n      anchorToElement,\n      ariaLabel: translate(\"ariaLabelContextMenu\", \"Context Menu\")\n    });\n    if (addPopupRes) {\n      eGridBodyGui.classList.add(CSS_CONTEXT_MENU_OPEN);\n      menu.afterGuiAttached({ container: \"contextMenu\", hidePopup: addPopupRes.hideFunc });\n    }\n    if (this.activeMenu) {\n      this.hideActiveMenu();\n    }\n    this.activeMenu = menu;\n    menu.addEventListener(\"destroyed\", () => {\n      if (this.activeMenu === menu) {\n        this.activeMenu = null;\n      }\n    });\n    if (addPopupRes) {\n      menu.addEventListener(\n        \"closeMenu\",\n        (e) => addPopupRes.hideFunc({\n          mouseEvent: e.mouseEvent ?? void 0,\n          keyboardEvent: e.keyboardEvent ?? void 0,\n          forceHide: true\n        })\n      );\n    }\n    const isApi = mouseEvent && mouseEvent instanceof MouseEvent && mouseEvent.type === \"mousedown\";\n    this.dispatchVisibleChangedEvent(true, isApi ? \"api\" : \"ui\");\n    return true;\n  }\n  dispatchVisibleChangedEvent(visible, source = \"ui\") {\n    const displayedEvent = {\n      type: \"contextMenuVisibleChanged\",\n      visible,\n      source\n    };\n    this.eventService.dispatchEvent(displayedEvent);\n  }\n};\nvar ContextMenu = class extends Component {\n  constructor(menuItems, column, node, value) {\n    super(\n      /* html */\n      `<div class=\"${CSS_MENU}\" role=\"presentation\"></div>`\n    );\n    this.menuItems = menuItems;\n    this.column = column;\n    this.node = node;\n    this.value = value;\n    this.menuList = null;\n    this.focusedCell = null;\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n    this.menuItemMapper = beans.menuItemMapper;\n    this.cellPositionUtils = beans.cellPositionUtils;\n  }\n  postConstruct() {\n    const menuList = this.createManagedBean(\n      new AgMenuList2(0, {\n        column: this.column,\n        node: this.node,\n        value: this.value\n      })\n    );\n    const menuItemsMapped = this.menuItemMapper.mapWithStockItems(\n      this.menuItems,\n      null,\n      () => this.getGui(),\n      \"contextMenu\"\n    );\n    menuList.addMenuItems(menuItemsMapped);\n    this.appendChild(menuList);\n    this.menuList = menuList;\n    menuList.addEventListener(\"closeMenu\", (e) => this.dispatchLocalEvent(e));\n  }\n  afterGuiAttached(params) {\n    if (params.hidePopup) {\n      this.addDestroyFunc(params.hidePopup);\n    }\n    this.focusedCell = this.focusService.getFocusedCell();\n    if (this.menuList) {\n      this.focusService.focusInto(this.menuList.getGui());\n    }\n  }\n  restoreFocusedCell() {\n    const currentFocusedCell = this.focusService.getFocusedCell();\n    if (currentFocusedCell && this.focusedCell && this.cellPositionUtils.equals(currentFocusedCell, this.focusedCell)) {\n      const { rowIndex, rowPinned, column } = this.focusedCell;\n      const doc = this.gos.getDocument();\n      const activeEl = this.gos.getActiveDomElement();\n      if (!activeEl || activeEl === doc.body) {\n        this.focusService.setFocusedCell({\n          rowIndex,\n          column,\n          rowPinned,\n          forceBrowserFocus: true,\n          preventScrollOnBrowserFocus: !this.focusService.isKeyboardMode()\n        });\n      }\n    }\n  }\n  destroy() {\n    this.restoreFocusedCell();\n    super.destroy();\n  }\n};\n\n// enterprise-modules/menu/src/menu/enterpriseMenu.ts\nimport {\n  AgPromise,\n  BeanStub as BeanStub5,\n  Component as Component2,\n  FilterWrapperComp,\n  ModuleNames as ModuleNames3,\n  ModuleRegistry as ModuleRegistry3,\n  RefPlaceholder,\n  _createIconNoSpan as _createIconNoSpan2,\n  _warnOnce as _warnOnce2\n} from \"@ag-grid-community/core\";\nimport { TabbedLayout } from \"@ag-grid-enterprise/core\";\nvar TAB_FILTER = \"filterMenuTab\";\nvar TAB_GENERAL = \"generalMenuTab\";\nvar TAB_COLUMNS = \"columnsMenuTab\";\nvar TABS_DEFAULT = [TAB_GENERAL, TAB_FILTER, TAB_COLUMNS];\nvar EnterpriseMenuFactory = class extends BeanStub5 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"enterpriseMenuFactory\";\n  }\n  wireBeans(beans) {\n    this.popupService = beans.popupService;\n    this.focusService = beans.focusService;\n    this.ctrlsService = beans.ctrlsService;\n    this.visibleColsService = beans.visibleColsService;\n    this.filterManager = beans.filterManager;\n    this.menuUtils = beans.menuUtils;\n    this.menuService = beans.menuService;\n  }\n  hideActiveMenu() {\n    this.destroyBean(this.activeMenu);\n  }\n  showMenuAfterMouseEvent(column, mouseEvent, containerType, filtersOnly) {\n    const defaultTab = filtersOnly ? \"filterMenuTab\" : void 0;\n    this.showMenu(\n      column,\n      (menu) => {\n        const ePopup = menu.getGui();\n        this.popupService.positionPopupUnderMouseEvent({\n          type: containerType,\n          column,\n          mouseEvent,\n          ePopup\n        });\n        if (defaultTab) {\n          menu.showTab?.(defaultTab);\n        }\n        this.dispatchVisibleChangedEvent(true, false, column, defaultTab);\n      },\n      containerType,\n      defaultTab,\n      void 0,\n      mouseEvent.target\n    );\n  }\n  showMenuAfterButtonClick(column, eventSource, containerType, filtersOnly) {\n    let multiplier = -1;\n    let alignSide = \"left\";\n    if (this.gos.get(\"enableRtl\")) {\n      multiplier = 1;\n      alignSide = \"right\";\n    }\n    const defaultTab = filtersOnly ? \"filterMenuTab\" : void 0;\n    const restrictToTabs = defaultTab ? [defaultTab] : void 0;\n    const isLegacyMenuEnabled = this.menuService.isLegacyMenuEnabled();\n    const nudgeX = (isLegacyMenuEnabled ? 9 : 4) * multiplier;\n    const nudgeY = isLegacyMenuEnabled ? -23 : 4;\n    this.showMenu(\n      column,\n      (menu) => {\n        const ePopup = menu.getGui();\n        this.popupService.positionPopupByComponent({\n          type: containerType,\n          column,\n          eventSource,\n          ePopup,\n          alignSide,\n          nudgeX,\n          nudgeY,\n          position: \"under\",\n          keepWithinBounds: true\n        });\n        if (defaultTab) {\n          menu.showTab?.(defaultTab);\n        }\n        this.dispatchVisibleChangedEvent(true, false, column, defaultTab);\n      },\n      containerType,\n      defaultTab,\n      restrictToTabs,\n      eventSource\n    );\n  }\n  showMenu(column, positionCallback, containerType, defaultTab, restrictToTabs, eventSource) {\n    const { menu, eMenuGui, anchorToElement, restoreFocusParams } = this.getMenuParams(\n      column,\n      restrictToTabs,\n      eventSource\n    );\n    const closedFuncs = [];\n    closedFuncs.push((e) => {\n      const eComp = menu.getGui();\n      this.destroyBean(menu);\n      if (column) {\n        column.setMenuVisible(false, \"contextMenu\");\n        this.menuUtils.restoreFocusOnClose(restoreFocusParams, eComp, e);\n      }\n    });\n    const translate = this.localeService.getLocaleTextFunc();\n    this.popupService.addPopup({\n      modal: true,\n      eChild: eMenuGui,\n      closeOnEsc: true,\n      closedCallback: (e) => {\n        closedFuncs.forEach((f) => f(e));\n        this.dispatchVisibleChangedEvent(false, false, column, defaultTab);\n      },\n      afterGuiAttached: (params) => menu.afterGuiAttached(Object.assign({}, { container: containerType }, params)),\n      // if defaultTab is not present, positionCallback will be called\n      // after `showTabBasedOnPreviousSelection` is called.\n      positionCallback: defaultTab ? () => positionCallback(menu) : void 0,\n      ariaLabel: translate(\"ariaLabelColumnMenu\", \"Column Menu\")\n    });\n    if (!defaultTab) {\n      menu.showTabBasedOnPreviousSelection?.();\n      positionCallback(menu);\n    }\n    if (this.menuService.isColumnMenuAnchoringEnabled()) {\n      const stopAnchoringPromise = this.popupService.setPopupPositionRelatedToElement(eMenuGui, anchorToElement);\n      if (stopAnchoringPromise && column) {\n        this.addStopAnchoring(stopAnchoringPromise, column, closedFuncs);\n      }\n    }\n    menu.addEventListener(\"tabSelected\", (event) => {\n      this.dispatchVisibleChangedEvent(false, true, column);\n      this.lastSelectedTab = event.key;\n      this.dispatchVisibleChangedEvent(true, true, column);\n    });\n    column?.setMenuVisible(true, \"contextMenu\");\n    this.activeMenu = menu;\n    menu.addEventListener(\"destroyed\", () => {\n      if (this.activeMenu === menu) {\n        this.activeMenu = null;\n      }\n    });\n  }\n  addStopAnchoring(stopAnchoringPromise, column, closedFuncsArr) {\n    stopAnchoringPromise.then((stopAnchoringFunc) => {\n      column.addEventListener(\"leftChanged\", stopAnchoringFunc);\n      column.addEventListener(\"visibleChanged\", stopAnchoringFunc);\n      closedFuncsArr.push(() => {\n        column.removeEventListener(\"leftChanged\", stopAnchoringFunc);\n        column.removeEventListener(\"visibleChanged\", stopAnchoringFunc);\n      });\n    });\n  }\n  getMenuParams(column, restrictToTabs, eventSource) {\n    const restoreFocusParams = {\n      column,\n      headerPosition: this.focusService.getFocusedHeader(),\n      columnIndex: this.visibleColsService.getAllCols().indexOf(column),\n      eventSource\n    };\n    const menu = this.createMenu(column, restoreFocusParams, restrictToTabs, eventSource);\n    return {\n      menu,\n      eMenuGui: menu.getGui(),\n      anchorToElement: eventSource || this.ctrlsService.getGridBodyCtrl().getGui(),\n      restoreFocusParams\n    };\n  }\n  createMenu(column, restoreFocusParams, restrictToTabs, eventSource) {\n    if (this.menuService.isLegacyMenuEnabled()) {\n      return this.createBean(\n        new TabbedColumnMenu(column, restoreFocusParams, this.lastSelectedTab, restrictToTabs, eventSource)\n      );\n    } else {\n      return this.createBean(new ColumnContextMenu(column, restoreFocusParams, eventSource));\n    }\n  }\n  dispatchVisibleChangedEvent(visible, switchingTab, column, defaultTab) {\n    const event = {\n      type: \"columnMenuVisibleChanged\",\n      visible,\n      switchingTab,\n      key: this.lastSelectedTab ?? defaultTab ?? (this.menuService.isLegacyMenuEnabled() ? TAB_GENERAL : \"columnMenu\"),\n      column: column ?? null\n    };\n    this.eventService.dispatchEvent(event);\n  }\n  isMenuEnabled(column) {\n    if (!this.menuService.isLegacyMenuEnabled()) {\n      return true;\n    }\n    const isFilterDisabled = !this.filterManager?.isFilterAllowed(column);\n    const tabs = column.getColDef().menuTabs ?? TABS_DEFAULT;\n    const numActiveTabs = isFilterDisabled && tabs.includes(TAB_FILTER) ? tabs.length - 1 : tabs.length;\n    return numActiveTabs > 0;\n  }\n  showMenuAfterContextMenuEvent(column, mouseEvent, touchEvent) {\n    this.menuUtils.onContextMenu(mouseEvent, touchEvent, (eventOrTouch) => {\n      this.showMenuAfterMouseEvent(column, eventOrTouch, \"columnMenu\");\n      return true;\n    });\n  }\n};\nvar TabbedColumnMenu = class extends BeanStub5 {\n  constructor(column, restoreFocusParams, initialSelection, restrictTo, sourceElement) {\n    super();\n    this.column = column;\n    this.restoreFocusParams = restoreFocusParams;\n    this.initialSelection = initialSelection;\n    this.restrictTo = restrictTo;\n    this.sourceElement = sourceElement;\n    this.tabFactories = {};\n    this.includeChecks = {};\n    this.tabFactories[TAB_GENERAL] = this.createMainPanel.bind(this);\n    this.tabFactories[TAB_FILTER] = this.createFilterPanel.bind(this);\n    this.tabFactories[TAB_COLUMNS] = this.createColumnsPanel.bind(this);\n    this.includeChecks[TAB_GENERAL] = () => true;\n    this.includeChecks[TAB_FILTER] = () => column ? !!this.filterManager?.isFilterAllowed(column) : false;\n    this.includeChecks[TAB_COLUMNS] = () => true;\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n    this.columnChooserFactory = beans.columnChooserFactory;\n    this.columnMenuFactory = beans.columnMenuFactory;\n    this.menuUtils = beans.menuUtils;\n  }\n  postConstruct() {\n    const tabs = this.getTabsToCreate().map((name) => this.createTab(name));\n    this.tabbedLayout = new TabbedLayout({\n      items: tabs,\n      cssClass: \"ag-menu\",\n      onActiveItemClicked: this.onHidePopup.bind(this),\n      onItemClicked: this.onTabItemClicked.bind(this)\n    });\n    this.createBean(this.tabbedLayout);\n    if (this.mainMenuList) {\n      this.mainMenuList.setParentComponent(this.tabbedLayout);\n    }\n    this.addDestroyFunc(() => this.destroyBean(this.tabbedLayout));\n  }\n  getTabsToCreate() {\n    if (this.restrictTo) {\n      return this.restrictTo;\n    }\n    return (this.column?.getColDef().menuTabs ?? TABS_DEFAULT).filter((tabName) => this.isValidMenuTabItem(tabName)).filter((tabName) => this.isNotSuppressed(tabName)).filter((tabName) => this.isModuleLoaded(tabName));\n  }\n  isModuleLoaded(menuTabName) {\n    if (menuTabName === TAB_COLUMNS) {\n      return ModuleRegistry3.__isRegistered(ModuleNames3.ColumnsToolPanelModule, this.gridId);\n    }\n    return true;\n  }\n  isValidMenuTabItem(menuTabName) {\n    let isValid = true;\n    let itemsToConsider = TABS_DEFAULT;\n    if (this.restrictTo != null) {\n      isValid = this.restrictTo.indexOf(menuTabName) > -1;\n      itemsToConsider = this.restrictTo;\n    }\n    isValid = isValid && TABS_DEFAULT.indexOf(menuTabName) > -1;\n    if (!isValid) {\n      _warnOnce2(\n        `Trying to render an invalid menu item '${menuTabName}'. Check that your 'menuTabs' contains one of [${itemsToConsider}]`\n      );\n    }\n    return isValid;\n  }\n  isNotSuppressed(menuTabName) {\n    return this.includeChecks[menuTabName]();\n  }\n  createTab(name) {\n    return this.tabFactories[name]();\n  }\n  showTabBasedOnPreviousSelection() {\n    this.showTab(this.initialSelection);\n  }\n  showTab(toShow) {\n    if (this.tabItemColumns && toShow === TAB_COLUMNS) {\n      this.tabbedLayout.showItem(this.tabItemColumns);\n    } else if (this.tabItemFilter && toShow === TAB_FILTER) {\n      this.tabbedLayout.showItem(this.tabItemFilter);\n    } else if (this.tabItemGeneral && toShow === TAB_GENERAL) {\n      this.tabbedLayout.showItem(this.tabItemGeneral);\n    } else {\n      this.tabbedLayout.showFirstItem();\n    }\n  }\n  onTabItemClicked(event) {\n    let key = null;\n    switch (event.item) {\n      case this.tabItemColumns:\n        key = TAB_COLUMNS;\n        break;\n      case this.tabItemFilter:\n        key = TAB_FILTER;\n        break;\n      case this.tabItemGeneral:\n        key = TAB_GENERAL;\n        break;\n    }\n    if (key) {\n      this.activateTab(key);\n    }\n  }\n  activateTab(tab) {\n    const ev = {\n      type: \"tabSelected\",\n      key: tab\n    };\n    this.dispatchLocalEvent(ev);\n  }\n  createMainPanel() {\n    this.mainMenuList = this.columnMenuFactory.createMenu(\n      this,\n      this.column,\n      () => this.sourceElement ?? this.getGui()\n    );\n    this.mainMenuList.addEventListener(\"closeMenu\", this.onHidePopup.bind(this));\n    this.tabItemGeneral = {\n      title: _createIconNoSpan2(\"menu\", this.gos, this.column),\n      titleLabel: TAB_GENERAL.replace(\"MenuTab\", \"\"),\n      bodyPromise: AgPromise.resolve(this.mainMenuList.getGui()),\n      name: TAB_GENERAL\n    };\n    return this.tabItemGeneral;\n  }\n  onHidePopup(event) {\n    this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc, this.restoreFocusParams, event);\n  }\n  createFilterPanel() {\n    const comp = this.column ? this.createBean(new FilterWrapperComp(this.column, \"COLUMN_MENU\")) : null;\n    this.filterComp = comp;\n    if (!comp?.hasFilter()) {\n      throw new Error(\"AG Grid - Unable to instantiate filter\");\n    }\n    const afterAttachedCallback = (params) => comp.afterGuiAttached(params);\n    const afterDetachedCallback = () => comp.afterGuiDetached();\n    this.tabItemFilter = {\n      title: _createIconNoSpan2(\"filter\", this.gos, this.column),\n      titleLabel: TAB_FILTER.replace(\"MenuTab\", \"\"),\n      bodyPromise: AgPromise.resolve(comp?.getGui()),\n      afterAttachedCallback,\n      afterDetachedCallback,\n      name: TAB_FILTER\n    };\n    return this.tabItemFilter;\n  }\n  createColumnsPanel() {\n    const eWrapperDiv = document.createElement(\"div\");\n    eWrapperDiv.classList.add(\"ag-menu-column-select-wrapper\");\n    const columnSelectPanel = this.columnChooserFactory.createColumnSelectPanel(this, this.column);\n    const columnSelectPanelGui = columnSelectPanel.getGui();\n    columnSelectPanelGui.classList.add(\"ag-menu-column-select\");\n    eWrapperDiv.appendChild(columnSelectPanelGui);\n    this.tabItemColumns = {\n      title: _createIconNoSpan2(\"columns\", this.gos, this.column),\n      //createColumnsIcon(),\n      titleLabel: TAB_COLUMNS.replace(\"MenuTab\", \"\"),\n      bodyPromise: AgPromise.resolve(eWrapperDiv),\n      name: TAB_COLUMNS\n    };\n    return this.tabItemColumns;\n  }\n  afterGuiAttached(params) {\n    const { container, hidePopup } = params;\n    this.tabbedLayout.setAfterAttachedParams({ container, hidePopup });\n    if (hidePopup) {\n      this.hidePopupFunc = hidePopup;\n      this.addDestroyFunc(hidePopup);\n    }\n  }\n  getGui() {\n    return this.tabbedLayout.getGui();\n  }\n  destroy() {\n    super.destroy();\n    this.destroyBean(this.filterComp);\n  }\n};\nvar ColumnContextMenu = class extends Component2 {\n  constructor(column, restoreFocusParams, sourceElement) {\n    super(\n      /* html */\n      `\n            <div data-ref=\"eColumnMenu\" role=\"presentation\" class=\"ag-menu ag-column-menu\"></div>\n        `\n    );\n    this.column = column;\n    this.restoreFocusParams = restoreFocusParams;\n    this.sourceElement = sourceElement;\n    this.eColumnMenu = RefPlaceholder;\n  }\n  wireBeans(beans) {\n    this.columnMenuFactory = beans.columnMenuFactory;\n    this.menuUtils = beans.menuUtils;\n    this.focusService = beans.focusService;\n  }\n  postConstruct() {\n    this.mainMenuList = this.columnMenuFactory.createMenu(\n      this,\n      this.column,\n      () => this.sourceElement ?? this.getGui()\n    );\n    this.mainMenuList.addEventListener(\"closeMenu\", this.onHidePopup.bind(this));\n    this.eColumnMenu.appendChild(this.mainMenuList.getGui());\n  }\n  onHidePopup(event) {\n    this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc, this.restoreFocusParams, event);\n  }\n  afterGuiAttached({ hidePopup }) {\n    if (hidePopup) {\n      this.hidePopupFunc = hidePopup;\n      this.addDestroyFunc(hidePopup);\n    }\n    this.focusService.focusInto(this.mainMenuList.getGui());\n  }\n};\n\n// enterprise-modules/menu/src/menu/menuApi.ts\nfunction showContextMenu(beans, params) {\n  const { rowNode, column, value, x, y } = params || {};\n  let { x: clientX, y: clientY } = beans.menuService.getContextMenuPosition(rowNode, column);\n  if (x != null) {\n    clientX = x;\n  }\n  if (y != null) {\n    clientY = y;\n  }\n  beans.menuService.showContextMenu({\n    mouseEvent: new MouseEvent(\"mousedown\", { clientX, clientY }),\n    rowNode,\n    column,\n    value\n  });\n}\nfunction showColumnChooser(beans, params) {\n  beans.menuService.showColumnChooser({ chooserParams: params });\n}\nfunction hideColumnChooser(beans) {\n  beans.menuService.hideColumnChooser();\n}\n\n// enterprise-modules/menu/src/menu/menuItemMapper.ts\nimport {\n  BeanStub as BeanStub6,\n  ModuleNames as ModuleNames4,\n  ModuleRegistry as ModuleRegistry4,\n  _createIconNoSpan as _createIconNoSpan3,\n  _escapeString,\n  _exists as _exists2,\n  _warnOnce as _warnOnce3\n} from \"@ag-grid-community/core\";\nvar MenuItemMapper = class extends BeanStub6 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"menuItemMapper\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.columnNameService = beans.columnNameService;\n    this.columnApplyStateService = beans.columnApplyStateService;\n    this.funcColsService = beans.funcColsService;\n    this.focusService = beans.focusService;\n    this.rowPositionUtils = beans.rowPositionUtils;\n    this.chartMenuItemMapper = beans.chartMenuItemMapper;\n    this.menuService = beans.menuService;\n    this.sortController = beans.sortController;\n    this.columnAutosizeService = beans.columnAutosizeService;\n    this.expansionService = beans.expansionService;\n    this.clipboardService = beans.clipboardService;\n    this.aggFuncService = beans.aggFuncService;\n    this.csvCreator = beans.csvCreator;\n    this.excelCreator = beans.excelCreator;\n  }\n  mapWithStockItems(originalList, column, sourceElement, source) {\n    if (!originalList) {\n      return [];\n    }\n    const resultList = [];\n    originalList.forEach((menuItemOrString) => {\n      let result;\n      if (typeof menuItemOrString === \"string\") {\n        result = this.getStockMenuItem(menuItemOrString, column, sourceElement, source);\n      } else {\n        result = { ...menuItemOrString };\n      }\n      if (!result) {\n        return;\n      }\n      const resultDef = result;\n      const { subMenu } = resultDef;\n      if (subMenu && subMenu instanceof Array) {\n        resultDef.subMenu = this.mapWithStockItems(subMenu, column, sourceElement, source);\n      }\n      if (result != null) {\n        resultList.push(result);\n      }\n    });\n    return resultList;\n  }\n  getStockMenuItem(key, column, sourceElement, source) {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const skipHeaderOnAutoSize = this.gos.get(\"skipHeaderOnAutoSize\");\n    switch (key) {\n      case \"pinSubMenu\":\n        return {\n          name: localeTextFunc(\"pinColumn\", \"Pin Column\"),\n          icon: _createIconNoSpan3(\"menuPin\", this.gos, null),\n          subMenu: [\"clearPinned\", \"pinLeft\", \"pinRight\"]\n        };\n      case \"pinLeft\":\n        return {\n          name: localeTextFunc(\"pinLeft\", \"Pin Left\"),\n          action: () => this.columnModel.setColsPinned([column], \"left\", source),\n          checked: !!column && column.isPinnedLeft()\n        };\n      case \"pinRight\":\n        return {\n          name: localeTextFunc(\"pinRight\", \"Pin Right\"),\n          action: () => this.columnModel.setColsPinned([column], \"right\", source),\n          checked: !!column && column.isPinnedRight()\n        };\n      case \"clearPinned\":\n        return {\n          name: localeTextFunc(\"noPin\", \"No Pin\"),\n          action: () => this.columnModel.setColsPinned([column], null, source),\n          checked: !!column && !column.isPinned()\n        };\n      case \"valueAggSubMenu\":\n        if (ModuleRegistry4.__assertRegistered(\n          ModuleNames4.RowGroupingModule,\n          \"Aggregation from Menu\",\n          this.gridId\n        )) {\n          if (!column?.isPrimary() && !column?.getColDef().pivotValueColumn) {\n            return null;\n          }\n          return {\n            name: localeTextFunc(\"valueAggregation\", \"Value Aggregation\"),\n            icon: _createIconNoSpan3(\"menuValue\", this.gos, null),\n            subMenu: this.createAggregationSubMenu(column, this.aggFuncService)\n          };\n        } else {\n          return null;\n        }\n      case \"autoSizeThis\":\n        return {\n          name: localeTextFunc(\"autosizeThisColumn\", \"Autosize This Column\"),\n          action: () => this.columnAutosizeService.autoSizeColumn(column, source, skipHeaderOnAutoSize)\n        };\n      case \"autoSizeAll\":\n        return {\n          name: localeTextFunc(\"autosizeAllColumns\", \"Autosize All Columns\"),\n          action: () => this.columnAutosizeService.autoSizeAllColumns(source, skipHeaderOnAutoSize)\n        };\n      case \"rowGroup\":\n        return {\n          name: localeTextFunc(\"groupBy\", \"Group by\") + \" \" + _escapeString(this.columnNameService.getDisplayNameForColumn(column, \"header\")),\n          disabled: this.gos.get(\"functionsReadOnly\") || column?.isRowGroupActive() || !column?.getColDef().enableRowGroup,\n          action: () => this.funcColsService.addRowGroupColumns([column], source),\n          icon: _createIconNoSpan3(\"menuAddRowGroup\", this.gos, null)\n        };\n      case \"rowUnGroup\": {\n        const icon = _createIconNoSpan3(\"menuRemoveRowGroup\", this.gos, null);\n        const showRowGroup = column?.getColDef().showRowGroup;\n        const lockedGroups = this.gos.get(\"groupLockGroupColumns\");\n        if (showRowGroup === true) {\n          return {\n            name: localeTextFunc(\"ungroupAll\", \"Un-Group All\"),\n            disabled: this.gos.get(\"functionsReadOnly\") || lockedGroups === -1 || lockedGroups >= this.funcColsService.getRowGroupColumns().length,\n            action: () => this.funcColsService.setRowGroupColumns(\n              this.funcColsService.getRowGroupColumns().slice(0, lockedGroups),\n              source\n            ),\n            icon\n          };\n        }\n        if (typeof showRowGroup === \"string\") {\n          const underlyingColumn = this.columnModel.getColDefCol(showRowGroup);\n          const ungroupByName = underlyingColumn != null ? _escapeString(this.columnNameService.getDisplayNameForColumn(underlyingColumn, \"header\")) : showRowGroup;\n          return {\n            name: localeTextFunc(\"ungroupBy\", \"Un-Group by\") + \" \" + ungroupByName,\n            disabled: this.gos.get(\"functionsReadOnly\") || underlyingColumn != null && this.columnModel.isColGroupLocked(underlyingColumn),\n            action: () => this.funcColsService.removeRowGroupColumns([showRowGroup], source),\n            icon\n          };\n        }\n        return {\n          name: localeTextFunc(\"ungroupBy\", \"Un-Group by\") + \" \" + _escapeString(this.columnNameService.getDisplayNameForColumn(column, \"header\")),\n          disabled: this.gos.get(\"functionsReadOnly\") || !column?.isRowGroupActive() || !column?.getColDef().enableRowGroup || this.columnModel.isColGroupLocked(column),\n          action: () => this.funcColsService.removeRowGroupColumns([column], source),\n          icon\n        };\n      }\n      case \"resetColumns\":\n        return {\n          name: localeTextFunc(\"resetColumns\", \"Reset Columns\"),\n          action: () => this.columnApplyStateService.resetColumnState(source)\n        };\n      case \"expandAll\":\n        return {\n          name: localeTextFunc(\"expandAll\", \"Expand All Row Groups\"),\n          action: () => this.expansionService.expandAll(true)\n        };\n      case \"contractAll\":\n        return {\n          name: localeTextFunc(\"collapseAll\", \"Collapse All Row Groups\"),\n          action: () => this.expansionService.expandAll(false)\n        };\n      case \"copy\":\n        if (ModuleRegistry4.__assertRegistered(ModuleNames4.ClipboardModule, \"Copy from Menu\", this.gridId)) {\n          return {\n            name: localeTextFunc(\"copy\", \"Copy\"),\n            shortcut: localeTextFunc(\"ctrlC\", \"Ctrl+C\"),\n            icon: _createIconNoSpan3(\"clipboardCopy\", this.gos, null),\n            action: () => this.clipboardService.copyToClipboard()\n          };\n        } else {\n          return null;\n        }\n      case \"copyWithHeaders\":\n        if (ModuleRegistry4.__assertRegistered(\n          ModuleNames4.ClipboardModule,\n          \"Copy with Headers from Menu\",\n          this.gridId\n        )) {\n          return {\n            name: localeTextFunc(\"copyWithHeaders\", \"Copy with Headers\"),\n            // shortcut: localeTextFunc('ctrlC','Ctrl+C'),\n            icon: _createIconNoSpan3(\"clipboardCopy\", this.gos, null),\n            action: () => this.clipboardService.copyToClipboard({ includeHeaders: true })\n          };\n        } else {\n          return null;\n        }\n      case \"copyWithGroupHeaders\":\n        if (ModuleRegistry4.__assertRegistered(\n          ModuleNames4.ClipboardModule,\n          \"Copy with Group Headers from Menu\",\n          this.gridId\n        )) {\n          return {\n            name: localeTextFunc(\"copyWithGroupHeaders\", \"Copy with Group Headers\"),\n            // shortcut: localeTextFunc('ctrlC','Ctrl+C'),\n            icon: _createIconNoSpan3(\"clipboardCopy\", this.gos, null),\n            action: () => this.clipboardService.copyToClipboard({ includeHeaders: true, includeGroupHeaders: true })\n          };\n        } else {\n          return null;\n        }\n      case \"cut\":\n        if (ModuleRegistry4.__assertRegistered(ModuleNames4.ClipboardModule, \"Cut from Menu\", this.gridId)) {\n          const focusedCell = this.focusService.getFocusedCell();\n          const rowNode = focusedCell ? this.rowPositionUtils.getRowNode(focusedCell) : null;\n          const isEditable = rowNode ? focusedCell?.column.isCellEditable(rowNode) : false;\n          return {\n            name: localeTextFunc(\"cut\", \"Cut\"),\n            shortcut: localeTextFunc(\"ctrlX\", \"Ctrl+X\"),\n            icon: _createIconNoSpan3(\"clipboardCut\", this.gos, null),\n            disabled: !isEditable || this.gos.get(\"suppressCutToClipboard\"),\n            action: () => this.clipboardService.cutToClipboard(void 0, \"contextMenu\")\n          };\n        } else {\n          return null;\n        }\n      case \"paste\":\n        if (ModuleRegistry4.__assertRegistered(ModuleNames4.ClipboardModule, \"Paste from Clipboard\", this.gridId)) {\n          return {\n            name: localeTextFunc(\"paste\", \"Paste\"),\n            shortcut: localeTextFunc(\"ctrlV\", \"Ctrl+V\"),\n            disabled: true,\n            icon: _createIconNoSpan3(\"clipboardPaste\", this.gos, null),\n            action: () => this.clipboardService.pasteFromClipboard()\n          };\n        } else {\n          return null;\n        }\n      case \"export\": {\n        const exportSubMenuItems = [];\n        const csvModuleLoaded = ModuleRegistry4.__isRegistered(ModuleNames4.CsvExportModule, this.gridId);\n        const excelModuleLoaded = ModuleRegistry4.__isRegistered(ModuleNames4.ExcelExportModule, this.gridId);\n        if (!this.gos.get(\"suppressCsvExport\") && csvModuleLoaded) {\n          exportSubMenuItems.push(\"csvExport\");\n        }\n        if (!this.gos.get(\"suppressExcelExport\") && excelModuleLoaded) {\n          exportSubMenuItems.push(\"excelExport\");\n        }\n        return {\n          name: localeTextFunc(\"export\", \"Export\"),\n          subMenu: exportSubMenuItems,\n          icon: _createIconNoSpan3(\"save\", this.gos, null)\n        };\n      }\n      case \"csvExport\":\n        return {\n          name: localeTextFunc(\"csvExport\", \"CSV Export\"),\n          icon: _createIconNoSpan3(\"csvExport\", this.gos, null),\n          action: () => this.csvCreator?.exportDataAsCsv()\n        };\n      case \"excelExport\":\n        return {\n          name: localeTextFunc(\"excelExport\", \"Excel Export\"),\n          icon: _createIconNoSpan3(\"excelExport\", this.gos, null),\n          action: () => this.excelCreator?.exportDataAsExcel()\n        };\n      case \"separator\":\n        return \"separator\";\n      case \"pivotChart\":\n      case \"chartRange\":\n        return this.chartMenuItemMapper.getChartItems(key) ?? null;\n      case \"columnFilter\":\n        if (column) {\n          return {\n            name: localeTextFunc(\"columnFilter\", \"Column Filter\"),\n            icon: _createIconNoSpan3(\"filter\", this.gos, null),\n            action: () => this.menuService.showFilterMenu({\n              column,\n              buttonElement: sourceElement(),\n              containerType: \"columnFilter\",\n              positionBy: \"button\"\n            })\n          };\n        } else {\n          return null;\n        }\n      case \"columnChooser\":\n        if (ModuleRegistry4.__isRegistered(ModuleNames4.ColumnsToolPanelModule, this.gridId)) {\n          return {\n            name: localeTextFunc(\"columnChooser\", \"Choose Columns\"),\n            icon: _createIconNoSpan3(\"columns\", this.gos, null),\n            action: () => this.menuService.showColumnChooser({ column, eventSource: sourceElement() })\n          };\n        } else {\n          return null;\n        }\n      case \"sortAscending\":\n        return {\n          name: localeTextFunc(\"sortAscending\", \"Sort Ascending\"),\n          icon: _createIconNoSpan3(\"sortAscending\", this.gos, null),\n          action: () => this.sortController.setSortForColumn(column, \"asc\", false, source)\n        };\n      case \"sortDescending\":\n        return {\n          name: localeTextFunc(\"sortDescending\", \"Sort Descending\"),\n          icon: _createIconNoSpan3(\"sortDescending\", this.gos, null),\n          action: () => this.sortController.setSortForColumn(column, \"desc\", false, source)\n        };\n      case \"sortUnSort\":\n        return {\n          name: localeTextFunc(\"sortUnSort\", \"Clear Sort\"),\n          icon: _createIconNoSpan3(\"sortUnSort\", this.gos, null),\n          action: () => this.sortController.setSortForColumn(column, null, false, source)\n        };\n      default: {\n        _warnOnce3(`unknown menu item type ${key}`);\n        return null;\n      }\n    }\n  }\n  createAggregationSubMenu(column, aggFuncService) {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    let columnToUse;\n    if (column.isPrimary()) {\n      columnToUse = column;\n    } else {\n      const pivotValueColumn = column.getColDef().pivotValueColumn;\n      columnToUse = _exists2(pivotValueColumn) ? pivotValueColumn : void 0;\n    }\n    const result = [];\n    if (columnToUse) {\n      const columnIsAlreadyAggValue = columnToUse.isValueActive();\n      const funcNames = aggFuncService.getFuncNames(columnToUse);\n      result.push({\n        name: localeTextFunc(\"noAggregation\", \"None\"),\n        action: () => {\n          this.funcColsService.removeValueColumns([columnToUse], \"contextMenu\");\n          this.funcColsService.setColumnAggFunc(columnToUse, void 0, \"contextMenu\");\n        },\n        checked: !columnIsAlreadyAggValue\n      });\n      funcNames.forEach((funcName) => {\n        result.push({\n          name: localeTextFunc(funcName, aggFuncService.getDefaultFuncLabel(funcName)),\n          action: () => {\n            this.funcColsService.setColumnAggFunc(columnToUse, funcName, \"contextMenu\");\n            this.funcColsService.addValueColumns([columnToUse], \"contextMenu\");\n          },\n          checked: columnIsAlreadyAggValue && columnToUse.getAggFunc() === funcName\n        });\n      });\n    }\n    return result;\n  }\n};\n\n// enterprise-modules/menu/src/menu/menuUtils.ts\nimport { BeanStub as BeanStub7, _isVisible, _last } from \"@ag-grid-community/core\";\nvar MenuUtils = class extends BeanStub7 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"menuUtils\";\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n    this.headerNavigationService = beans.headerNavigationService;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  restoreFocusOnClose(restoreFocusParams, eComp, e, restoreIfMouseEvent) {\n    const { eventSource } = restoreFocusParams;\n    const isKeyboardEvent = e instanceof KeyboardEvent;\n    if (!restoreIfMouseEvent && !isKeyboardEvent || !eventSource) {\n      return;\n    }\n    const eDocument = this.gos.getDocument();\n    const activeEl = this.gos.getActiveDomElement();\n    if (!eComp.contains(activeEl) && activeEl !== eDocument.body) {\n      return;\n    }\n    this.focusHeaderCell(restoreFocusParams);\n  }\n  closePopupAndRestoreFocusOnSelect(hidePopupFunc, restoreFocusParams, event) {\n    let keyboardEvent;\n    if (event && event.keyboardEvent) {\n      keyboardEvent = event.keyboardEvent;\n    }\n    hidePopupFunc(keyboardEvent && { keyboardEvent });\n    const focusedCell = this.focusService.getFocusedCell();\n    const eDocument = this.gos.getDocument();\n    const activeEl = this.gos.getActiveDomElement();\n    if (!activeEl || activeEl === eDocument.body) {\n      if (focusedCell) {\n        const { rowIndex, rowPinned, column } = focusedCell;\n        this.focusService.setFocusedCell({\n          rowIndex,\n          column,\n          rowPinned,\n          forceBrowserFocus: true,\n          preventScrollOnBrowserFocus: true\n        });\n      } else {\n        this.focusHeaderCell(restoreFocusParams);\n      }\n    }\n  }\n  onContextMenu(mouseEvent, touchEvent, showMenuCallback) {\n    if (!this.gos.get(\"allowContextMenuWithControlKey\")) {\n      if (mouseEvent && (mouseEvent.ctrlKey || mouseEvent.metaKey)) {\n        return;\n      }\n    }\n    if (mouseEvent) {\n      this.blockMiddleClickScrollsIfNeeded(mouseEvent);\n    }\n    if (this.gos.get(\"suppressContextMenu\")) {\n      return;\n    }\n    const eventOrTouch = mouseEvent ?? touchEvent.touches[0];\n    if (showMenuCallback(eventOrTouch)) {\n      const event = mouseEvent ?? touchEvent;\n      if (event && event.cancelable) {\n        event.preventDefault();\n      }\n    }\n  }\n  focusHeaderCell(restoreFocusParams) {\n    const { column, columnIndex, headerPosition, eventSource } = restoreFocusParams;\n    const isColumnStillVisible = this.visibleColsService.getAllCols().some((col) => col === column);\n    if (isColumnStillVisible && eventSource && _isVisible(eventSource)) {\n      const focusableEl = this.focusService.findTabbableParent(eventSource);\n      if (focusableEl) {\n        if (column) {\n          this.headerNavigationService.scrollToColumn(column);\n        }\n        focusableEl.focus();\n      }\n    } else if (headerPosition && columnIndex !== -1) {\n      const allColumns = this.visibleColsService.getAllCols();\n      const columnToFocus = allColumns[columnIndex] || _last(allColumns);\n      if (columnToFocus) {\n        this.focusService.focusHeaderPosition({\n          headerPosition: {\n            headerRowIndex: headerPosition.headerRowIndex,\n            column: columnToFocus\n          }\n        });\n      }\n    }\n  }\n  blockMiddleClickScrollsIfNeeded(mouseEvent) {\n    if (this.gos.get(\"suppressMiddleClickScrolls\") && mouseEvent.which === 2) {\n      mouseEvent.preventDefault();\n    }\n  }\n};\n\n// enterprise-modules/menu/src/version.ts\nvar VERSION = \"32.0.2\";\n\n// enterprise-modules/menu/src/menuModule.ts\nvar MenuCoreModule = {\n  version: VERSION,\n  moduleName: `${ModuleNames5.MenuModule}-core`,\n  beans: [\n    EnterpriseMenuFactory,\n    ContextMenuFactory,\n    MenuItemMapper,\n    ChartMenuItemMapper,\n    ColumnChooserFactory,\n    ColumnMenuFactory,\n    MenuUtils\n  ],\n  dependantModules: [EnterpriseCoreModule],\n  userComponents: [\n    {\n      name: \"agMenuItem\",\n      classImp: AgMenuItemRenderer\n    }\n  ]\n};\nvar MenuApiModule = {\n  version: VERSION,\n  moduleName: `${ModuleNames5.MenuModule}-api`,\n  apiFunctions: {\n    showContextMenu,\n    showColumnChooser,\n    hideColumnChooser\n  },\n  dependantModules: [MenuCoreModule, _CommunityMenuApiModule]\n};\nvar MenuModule = {\n  version: VERSION,\n  moduleName: ModuleNames5.MenuModule,\n  dependantModules: [MenuCoreModule, MenuApiModule]\n};\nexport {\n  MenuModule\n};\n"],
  "mappings": "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",
  "names": ["ModuleNames5", "_CommunityMenuApiModule", "AgMenuItemRenderer", "EnterpriseCoreModule", "BeanStub", "ModuleNames", "ModuleRegistry", "_createIconNoSpan", "_warnOnce", "ChartMenuItemMapper", "_ChartMenuItemMapper", "beans", "key", "builder", "PivotMenuItemMapper", "RangeMenuItemMapper", "isEnterprise", "topLevelMenuItem", "filterEnterpriseItems", "m", "menu", "chartGroupsDef", "menuItem", "removeKeys", "s", "itemLookup", "addItem", "item", "configLookup", "menuItemLookup", "orderedAndFiltered", "group", "chartTypes", "chartConfigGroup", "subMenus", "chartType", "itemKey", "gos", "chartService", "localeService", "localeTextFunc", "getMenuItem", "localeKey", "defaultText", "enterprise", "BeanStub2", "AgPrimaryCols", "AgDialog", "ColumnChooserFactory", "parent", "column", "draggable", "params", "columnSelectPanel", "columnChooserParams", "contractColumnSelection", "suppressColumnExpandAll", "suppressColumnFilter", "suppressColumnSelectAll", "suppressSyncLayoutWithGrid", "columnLayout", "chooserParams", "eventSource", "translate", "columnIndex", "headerPosition", "event", "eComp", "visible", "BeanStub3", "_removeRepeatsFromArray", "AgMenuList", "MENU_ITEM_SEPARATOR", "ColumnMenuFactory", "sourceElement", "menuList", "menuItems", "menuItemsMapped", "defaultItems", "result", "columnMainMenuItems", "userFunc", "isLegacyMenuEnabled", "allowPinning", "rowGroupCount", "doingGrouping", "allowValue", "allowRowGroup", "isPrimary", "pivotModeOn", "isInMemoryRowModel", "usingTreeData", "allowValueAgg", "sort", "BeanStub4", "Component", "ModuleNames2", "ModuleRegistry2", "_exists", "_isIOSUserAgent", "_missingOrEmpty", "AgMenuList2", "CSS_MENU", "CSS_CONTEXT_MENU_OPEN", "ContextMenuFactory", "node", "value", "defaultMenuOptions", "csvModuleMissing", "excelModuleMissing", "suppressExcel", "suppressCsv", "columnContextMenuItems", "mouseEvent", "touchEvent", "rowNode", "anchorToElement", "eventOrTouch", "eGridBodyGui", "ContextMenu", "eMenuGui", "positionParams", "addPopupRes", "e", "isRtl", "isApi", "source", "displayedEvent", "currentFocusedCell", "rowIndex", "rowPinned", "doc", "activeEl", "AgPromise", "BeanStub5", "Component2", "FilterWrapperComp", "ModuleNames3", "ModuleRegistry3", "RefPlaceholder", "_createIconNoSpan2", "_warnOnce2", "TabbedLayout", "TAB_FILTER", "TAB_GENERAL", "TAB_COLUMNS", "TABS_DEFAULT", "EnterpriseMenuFactory", "containerType", "filtersOnly", "defaultTab", "ePopup", "multiplier", "alignSide", "restrictToTabs", "nudgeX", "nudgeY", "positionCallback", "restoreFocusParams", "closedFuncs", "f", "stopAnchoringPromise", "closedFuncsArr", "stopAnchoringFunc", "TabbedColumnMenu", "ColumnContextMenu", "switchingTab", "isFilterDisabled", "tabs", "initialSelection", "restrictTo", "name", "tabName", "menuTabName", "isValid", "itemsToConsider", "toShow", "tab", "ev", "comp", "afterAttachedCallback", "afterDetachedCallback", "eWrapperDiv", "columnSelectPanelGui", "container", "hidePopup", "showContextMenu", "x", "y", "clientX", "clientY", "showColumnChooser", "hideColumnChooser", "BeanStub6", "ModuleNames4", "ModuleRegistry4", "_createIconNoSpan3", "_escapeString", "_exists2", "_warnOnce3", "MenuItemMapper", "originalList", "resultList", "menuItemOrString", "resultDef", "subMenu", "skipHeaderOnAutoSize", "icon", "showRowGroup", "lockedGroups", "underlyingColumn", "ungroupByName", "focusedCell", "isEditable", "exportSubMenuItems", "csvModuleLoaded", "excelModuleLoaded", "aggFuncService", "columnToUse", "pivotValueColumn", "columnIsAlreadyAggValue", "funcNames", "funcName", "BeanStub7", "_isVisible", "_last", "MenuUtils", "restoreIfMouseEvent", "isKeyboardEvent", "eDocument", "hidePopupFunc", "keyboardEvent", "showMenuCallback", "col", "focusableEl", "allColumns", "columnToFocus", "VERSION", "MenuCoreModule", "MenuApiModule", "MenuModule"]
}
