{
  "version": 3,
  "sources": ["<stdin>"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __knownSymbol = (name, symbol) => {\n  return (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __await = function(promise, isYieldStar) {\n  this[0] = promise;\n  this[1] = isYieldStar;\n};\nvar __yieldStar = (value) => {\n  var obj = value[__knownSymbol(\"asyncIterator\")];\n  var isAwait = false;\n  var method;\n  var it = {};\n  if (obj == null) {\n    obj = value[__knownSymbol(\"iterator\")]();\n    method = (k) => it[k] = (x) => obj[k](x);\n  } else {\n    obj = obj.call(value);\n    method = (k) => it[k] = (v) => {\n      if (isAwait) {\n        isAwait = false;\n        if (k === \"throw\")\n          throw v;\n        return v;\n      }\n      isAwait = true;\n      return {\n        done: false,\n        value: new __await(new Promise((resolve) => {\n          var x = obj[k](v);\n          if (!(x instanceof Object))\n            throw TypeError(\"Object expected\");\n          resolve(x);\n        }), 1)\n      };\n    };\n  }\n  return it[__knownSymbol(\"iterator\")] = () => it, method(\"next\"), \"throw\" in obj ? method(\"throw\") : it.throw = (x) => {\n    throw x;\n  }, \"return\" in obj && method(\"return\"), it;\n};\n\n// enterprise-modules/sparklines/src/sparklinesModule.ts\nimport { ModuleNames } from \"@ag-grid-community/core\";\nimport { EnterpriseCoreModule } from \"@ag-grid-enterprise/core\";\n\n// enterprise-modules/sparklines/src/sparklineCellRenderer.ts\nimport {\n  Autowired,\n  Component,\n  RefSelector\n} from \"@ag-grid-community/core\";\n\n// node_modules/ag-charts-community/dist/package/main.esm.mjs\nvar __defProp2 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc2 = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols2 = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum2 = Object.prototype.propertyIsEnumerable;\nvar __reflectGet = Reflect.get;\nvar __knownSymbol2 = (name, symbol) => {\n  return (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\n};\nvar __pow = Math.pow;\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp2.call(b, prop))\n      __defNormalProp2(a, prop, b[prop]);\n  if (__getOwnPropSymbols2)\n    for (var prop of __getOwnPropSymbols2(b)) {\n      if (__propIsEnum2.call(b, prop))\n        __defNormalProp2(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp2.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols2)\n    for (var prop of __getOwnPropSymbols2(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum2.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp2(target, name, { get: all[name], enumerable: true });\n};\nvar __decorateClass2 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc2(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp2(target, key, result);\n  return result;\n};\nvar __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar __await2 = function(promise, isYieldStar) {\n  this[0] = promise;\n  this[1] = isYieldStar;\n};\nvar __yieldStar2 = (value) => {\n  var obj = value[__knownSymbol2(\"asyncIterator\")];\n  var isAwait = false;\n  var method;\n  var it = {};\n  if (obj == null) {\n    obj = value[__knownSymbol2(\"iterator\")]();\n    method = (k) => it[k] = (x) => obj[k](x);\n  } else {\n    obj = obj.call(value);\n    method = (k) => it[k] = (v) => {\n      if (isAwait) {\n        isAwait = false;\n        if (k === \"throw\")\n          throw v;\n        return v;\n      }\n      isAwait = true;\n      return {\n        done: false,\n        value: new __await2(new Promise((resolve) => {\n          var x = obj[k](v);\n          if (!(x instanceof Object))\n            throw TypeError(\"Object expected\");\n          resolve(x);\n        }), 1)\n      };\n    };\n  }\n  return it[__knownSymbol2(\"iterator\")] = () => it, method(\"next\"), \"throw\" in obj ? method(\"throw\") : it.throw = (x) => {\n    throw x;\n  }, \"return\" in obj && method(\"return\"), it;\n};\nvar __MINI_CHART_SERIES_OPTIONS = {};\nvar __VERIFY_MINI_CHART_SERIES_OPTIONS = void 0;\n__VERIFY_MINI_CHART_SERIES_OPTIONS = __MINI_CHART_SERIES_OPTIONS;\nvar AgTooltipPositionType = /* @__PURE__ */ ((AgTooltipPositionType2) => {\n  AgTooltipPositionType2[\"POINTER\"] = \"pointer\";\n  AgTooltipPositionType2[\"NODE\"] = \"node\";\n  AgTooltipPositionType2[\"TOP\"] = \"top\";\n  AgTooltipPositionType2[\"RIGHT\"] = \"right\";\n  AgTooltipPositionType2[\"BOTTOM\"] = \"bottom\";\n  AgTooltipPositionType2[\"LEFT\"] = \"left\";\n  AgTooltipPositionType2[\"TOP_LEFT\"] = \"top-left\";\n  AgTooltipPositionType2[\"TOP_RIGHT\"] = \"top-right\";\n  AgTooltipPositionType2[\"BOTTOM_RIGHT\"] = \"bottom-right\";\n  AgTooltipPositionType2[\"BOTTOM_LEFT\"] = \"bottom-left\";\n  return AgTooltipPositionType2;\n})(AgTooltipPositionType || {});\nvar __THEME_OVERRIDES = {};\nvar __VERIFY_THEME_OVERRIDES = void 0;\n__VERIFY_THEME_OVERRIDES = __THEME_OVERRIDES;\nvar time_exports = {};\n__export(time_exports, {\n  day: () => day,\n  friday: () => friday,\n  hour: () => hour,\n  millisecond: () => millisecond,\n  minute: () => minute,\n  monday: () => monday,\n  month: () => month,\n  saturday: () => saturday,\n  second: () => second,\n  sunday: () => sunday,\n  thursday: () => thursday,\n  tuesday: () => tuesday,\n  utcDay: () => utcDay,\n  utcHour: () => utcHour,\n  utcMinute: () => utcMinute,\n  utcMonth: () => utcMonth,\n  utcYear: () => utcYear,\n  wednesday: () => wednesday,\n  year: () => year\n});\nvar doOnceState = /* @__PURE__ */ new Map();\nfunction doOnce(func, key) {\n  if (doOnceState.has(key))\n    return;\n  doOnceState.set(key, true);\n  func();\n}\ndoOnce.clear = () => doOnceState.clear();\nfunction identity(x) {\n  return x;\n}\nfunction* iterate(...iterators) {\n  for (const iterator of iterators) {\n    yield* __yieldStar(__yieldStar2(iterator));\n  }\n}\nfunction* iterateReverseArray(array) {\n  for (let j = array.length - 1; j >= 0; j--) {\n    yield array[j];\n  }\n}\nfunction throttle(callback, waitMs = 0, options) {\n  const { leading = true, trailing = true } = options != null ? options : {};\n  let timerId;\n  let lastArgs;\n  let shouldWait = false;\n  function timeoutHandler() {\n    if (trailing && lastArgs) {\n      timerId = setTimeout(timeoutHandler, waitMs);\n      callback(...lastArgs);\n    } else {\n      shouldWait = false;\n    }\n    lastArgs = null;\n  }\n  function throttleCallback(...args) {\n    if (shouldWait) {\n      lastArgs = args;\n    } else {\n      shouldWait = true;\n      timerId = setTimeout(timeoutHandler, waitMs);\n      if (leading) {\n        callback(...args);\n      } else {\n        lastArgs = args;\n      }\n    }\n  }\n  return Object.assign(throttleCallback, {\n    cancel() {\n      clearTimeout(timerId);\n      shouldWait = false;\n      lastArgs = null;\n    }\n  });\n}\nfunction joinFunctions(...fns) {\n  return () => {\n    for (const fn of fns) {\n      fn();\n    }\n  };\n}\nvar Logger = {\n  log(...logContent) {\n    console.log(...logContent);\n  },\n  warn(message, ...logContent) {\n    console.warn(`AG Charts - ${message}`, ...logContent);\n  },\n  error(message, ...logContent) {\n    if (typeof message === \"object\") {\n      console.error(`AG Charts error`, message, ...logContent);\n    } else {\n      console.error(`AG Charts - ${message}`, ...logContent);\n    }\n  },\n  table(...logContent) {\n    console.table(...logContent);\n  },\n  warnOnce(message, ...logContent) {\n    doOnce(() => Logger.warn(message, ...logContent), `Logger.warn: ${message}`);\n  },\n  errorOnce(message, ...logContent) {\n    doOnce(() => Logger.error(message, ...logContent), `Logger.error: ${message}`);\n  }\n};\nvar TimeInterval = class {\n  constructor(_encode, _decode, _rangeCallback) {\n    this._encode = _encode;\n    this._decode = _decode;\n    this._rangeCallback = _rangeCallback;\n  }\n  /**\n   * Returns a new date representing the latest interval boundary date before or equal to date.\n   * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n   * @param date\n   */\n  floor(date) {\n    const d = new Date(date);\n    const e = this._encode(d);\n    return this._decode(e);\n  }\n  /**\n   * Returns a new date representing the earliest interval boundary date after or equal to date.\n   * @param date\n   */\n  ceil(date) {\n    const d = new Date(Number(date) - 1);\n    const e = this._encode(d);\n    return this._decode(e + 1);\n  }\n  /**\n   * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n   * @param start Range start.\n   * @param stop Range end.\n   * @param extend If specified, the requested range will be extended to the closest \"nice\" values.\n   */\n  range(start, stop, extend) {\n    var _a;\n    const rangeCallback = (_a = this._rangeCallback) == null ? void 0 : _a.call(this, start, stop);\n    const e0 = this._encode(extend ? this.floor(start) : this.ceil(start));\n    const e1 = this._encode(extend ? this.ceil(stop) : this.floor(stop));\n    if (e1 < e0) {\n      return [];\n    }\n    const range3 = [];\n    for (let e = e0; e <= e1; e++) {\n      const d = this._decode(e);\n      range3.push(d);\n    }\n    rangeCallback == null ? void 0 : rangeCallback();\n    return range3;\n  }\n};\nvar CountableTimeInterval = class extends TimeInterval {\n  getOffset(snapTo, step) {\n    const s = typeof snapTo === \"number\" || snapTo instanceof Date ? this._encode(new Date(snapTo)) : 0;\n    return Math.floor(s) % step;\n  }\n  /**\n   * Returns a filtered view of this interval representing every step'th date.\n   * It can be a number of minutes, hours, days etc.\n   * Must be a positive integer.\n   * @param step\n   */\n  every(step, options) {\n    let offset4 = 0;\n    let rangeCallback;\n    const unsafeStep = step;\n    step = Math.max(1, Math.round(step));\n    if (unsafeStep !== step) {\n      Logger.warnOnce(`interval step of [${unsafeStep}] rounded to [${step}].`);\n    }\n    const { snapTo = \"start\" } = options != null ? options : {};\n    if (typeof snapTo === \"string\") {\n      const initialOffset = offset4;\n      rangeCallback = (start, stop) => {\n        const s = snapTo === \"start\" ? start : stop;\n        offset4 = this.getOffset(s, step);\n        return () => offset4 = initialOffset;\n      };\n    } else if (typeof snapTo === \"number\") {\n      offset4 = this.getOffset(new Date(snapTo), step);\n    } else if (snapTo instanceof Date) {\n      offset4 = this.getOffset(snapTo, step);\n    }\n    const encode13 = (date) => {\n      const e = this._encode(date);\n      return Math.floor((e - offset4) / step);\n    };\n    const decode13 = (encoded) => {\n      return this._decode(encoded * step + offset4);\n    };\n    return new TimeInterval(encode13, decode13, rangeCallback);\n  }\n};\nfunction encode(date) {\n  return date.getTime();\n}\nfunction decode(encoded) {\n  return new Date(encoded);\n}\nvar millisecond = new CountableTimeInterval(encode, decode);\nvar millisecond_default = millisecond;\nvar epochYear = (/* @__PURE__ */ new Date(0)).getFullYear();\nvar durationSecond = 1e3;\nvar durationMinute = durationSecond * 60;\nvar durationHour = durationMinute * 60;\nvar durationDay = durationHour * 24;\nvar durationWeek = durationDay * 7;\nvar durationMonth = durationDay * 30;\nvar durationYear = durationDay * 365;\nvar offset = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode2(date) {\n  return Math.floor((date.getTime() - offset) / durationSecond);\n}\nfunction decode2(encoded) {\n  return new Date(offset + encoded * durationSecond);\n}\nvar second = new CountableTimeInterval(encode2, decode2);\nvar second_default = second;\nvar offset2 = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode3(date) {\n  return Math.floor((date.getTime() - offset2) / durationMinute);\n}\nfunction decode3(encoded) {\n  return new Date(offset2 + encoded * durationMinute);\n}\nvar minute = new CountableTimeInterval(encode3, decode3);\nvar minute_default = minute;\nvar offset3 = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode4(date) {\n  return Math.floor((date.getTime() - offset3) / durationHour);\n}\nfunction decode4(encoded) {\n  return new Date(offset3 + encoded * durationHour);\n}\nvar hour = new CountableTimeInterval(encode4, decode4);\nvar hour_default = hour;\nfunction encode5(date) {\n  const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n  return Math.floor((date.getTime() - tzOffsetMs) / durationDay);\n}\nfunction decode5(encoded) {\n  const d = new Date(1970, 0, 1);\n  d.setDate(d.getDate() + encoded);\n  return d;\n}\nvar day = new CountableTimeInterval(encode5, decode5);\nvar day_default = day;\nfunction weekday(weekStart) {\n  const thursday2 = 4;\n  const dayShift = (7 + weekStart - thursday2) % 7;\n  function encode13(date) {\n    const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n    return Math.floor((date.getTime() - tzOffsetMs) / durationWeek - dayShift / 7);\n  }\n  function decode13(encoded) {\n    const d = new Date(1970, 0, 1);\n    d.setDate(d.getDate() + encoded * 7 + dayShift);\n    return d;\n  }\n  return new CountableTimeInterval(encode13, decode13);\n}\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar week_default = sunday;\nfunction encode6(date) {\n  return date.getFullYear() * 12 + date.getMonth();\n}\nfunction decode6(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(year2, month2, 1);\n}\nvar month = new CountableTimeInterval(encode6, decode6);\nvar month_default = month;\nfunction encode7(date) {\n  return date.getFullYear();\n}\nfunction decode7(encoded) {\n  const d = /* @__PURE__ */ new Date();\n  d.setFullYear(encoded);\n  d.setMonth(0, 1);\n  d.setHours(0, 0, 0, 0);\n  return d;\n}\nvar year = new CountableTimeInterval(encode7, decode7);\nvar year_default = year;\nfunction encode8(date) {\n  return Math.floor(date.getTime() / durationMinute);\n}\nfunction decode8(encoded) {\n  return new Date(encoded * durationMinute);\n}\nvar utcMinute = new CountableTimeInterval(encode8, decode8);\nfunction encode9(date) {\n  return Math.floor(date.getTime() / durationHour);\n}\nfunction decode9(encoded) {\n  return new Date(encoded * durationHour);\n}\nvar utcHour = new CountableTimeInterval(encode9, decode9);\nfunction encode10(date) {\n  return Math.floor(date.getTime() / durationDay);\n}\nfunction decode10(encoded) {\n  const d = /* @__PURE__ */ new Date(0);\n  d.setUTCDate(d.getUTCDate() + encoded);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcDay = new CountableTimeInterval(encode10, decode10);\nfunction encode11(date) {\n  return date.getUTCFullYear() * 12 + date.getUTCMonth();\n}\nfunction decode11(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(Date.UTC(year2, month2, 1));\n}\nvar utcMonth = new CountableTimeInterval(encode11, decode11);\nfunction encode12(date) {\n  return date.getUTCFullYear();\n}\nfunction decode12(encoded) {\n  const d = /* @__PURE__ */ new Date();\n  d.setUTCFullYear(encoded);\n  d.setUTCMonth(0, 1);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcYear = new CountableTimeInterval(encode12, decode12);\nvar enterpriseModule = {\n  isEnterprise: false\n};\nvar BaseModuleInstance = class {\n  constructor() {\n    this.destroyFns = [];\n  }\n  destroy() {\n    for (const destroyFn of this.destroyFns) {\n      destroyFn();\n    }\n  }\n};\nvar ModuleRegistry = class {\n  constructor() {\n    this.modules = [];\n    this.dependencies = /* @__PURE__ */ new Set();\n    this.dependents = /* @__PURE__ */ new Set();\n  }\n  register(...modules) {\n    for (const module of modules) {\n      this.registerDependencies(module);\n      const otherModule = this.modules.find(\n        (other) => module.type === other.type && module.optionsKey === other.optionsKey && module.identifier === other.identifier\n      );\n      if (otherModule) {\n        if (module.packageType === \"enterprise\" && otherModule.packageType === \"community\") {\n          const index = this.modules.indexOf(otherModule);\n          this.modules.splice(index, 1, module);\n        }\n      } else {\n        this.modules.push(module);\n      }\n    }\n  }\n  hasEnterpriseModules() {\n    return this.modules.some((m) => m.packageType === \"enterprise\");\n  }\n  *byType(...types) {\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependencies.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && !this.dependencies.has(module.optionsKey) && !this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n  }\n  registerDependencies(module) {\n    if (module.dependencies == null || module.dependencies.length === 0)\n      return;\n    if (this.dependencies.has(module.optionsKey)) {\n      throw new Error(\n        `Module [${module.optionsKey}] can not both be depended upon by any module and have dependencies of [${module.dependencies}].`\n      );\n    }\n    for (const dep of module.dependencies) {\n      if (this.dependents.has(dep)) {\n        throw new Error(\n          `Module [${dep}] can not both be depended upon by any module and have dependencies of [${module.optionsKey}].`\n        );\n      }\n      this.dependencies.add(dep);\n    }\n    this.dependents.add(module.optionsKey);\n  }\n};\nvar moduleRegistry = new ModuleRegistry();\nvar AxisRegistry = class {\n  constructor() {\n    this.axesMap = /* @__PURE__ */ new Map();\n    this.hidden = /* @__PURE__ */ new Set();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(axisType, module) {\n    this.axesMap.set(axisType, module.instanceConstructor);\n    if (module.themeTemplate) {\n      this.setThemeTemplate(axisType, module.themeTemplate);\n    }\n    if (module.hidden) {\n      this.hidden.add(axisType);\n    }\n  }\n  create(axisType, moduleContext) {\n    const AxisConstructor = this.axesMap.get(axisType);\n    if (AxisConstructor) {\n      return new AxisConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown axis type: ${axisType}`);\n  }\n  has(axisType) {\n    return this.axesMap.has(axisType);\n  }\n  keys() {\n    return this.axesMap.keys();\n  }\n  publicKeys() {\n    return [...this.keys()].filter((k) => !this.hidden.has(k));\n  }\n  setThemeTemplate(axisType, themeTemplate) {\n    this.themeTemplates.set(axisType, themeTemplate);\n    return this;\n  }\n  getThemeTemplate(axisType) {\n    return this.themeTemplates.get(axisType);\n  }\n};\nvar axisRegistry = new AxisRegistry();\nvar BREAK_TRANSFORM_CHAIN = Symbol(\"BREAK\");\nvar CONFIG_KEY = \"__decorator_config\";\nfunction initialiseConfig(target, propertyKeyOrSymbol) {\n  if (Object.getOwnPropertyDescriptor(target, CONFIG_KEY) == null) {\n    Object.defineProperty(target, CONFIG_KEY, { value: {} });\n  }\n  const config = target[CONFIG_KEY];\n  const propertyKey = propertyKeyOrSymbol.toString();\n  if (typeof config[propertyKey] !== \"undefined\") {\n    return config[propertyKey];\n  }\n  const valuesMap = /* @__PURE__ */ new WeakMap();\n  config[propertyKey] = { setters: [], getters: [], observers: [], valuesMap };\n  const descriptor = Object.getOwnPropertyDescriptor(target, propertyKeyOrSymbol);\n  const prevSet = descriptor == null ? void 0 : descriptor.set;\n  const prevGet = descriptor == null ? void 0 : descriptor.get;\n  const getter = function() {\n    let value = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    for (const transformFn of config[propertyKey].getters) {\n      value = transformFn(this, propertyKeyOrSymbol, value);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    return value;\n  };\n  const setter = function(value) {\n    const { setters, observers } = config[propertyKey];\n    let oldValue;\n    if (setters.some((f) => f.length > 2)) {\n      oldValue = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    }\n    for (const transformFn of setters) {\n      value = transformFn(this, propertyKeyOrSymbol, value, oldValue);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    if (prevSet) {\n      prevSet.call(this, value);\n    } else {\n      valuesMap.set(this, value);\n    }\n    for (const observerFn of observers) {\n      observerFn(this, value, oldValue);\n    }\n  };\n  Object.defineProperty(target, propertyKeyOrSymbol, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: false\n  });\n  return config[propertyKey];\n}\nfunction addTransformToInstanceProperty(setTransform, getTransform, configMetadata) {\n  return (target, propertyKeyOrSymbol) => {\n    const config = initialiseConfig(target, propertyKeyOrSymbol);\n    config.setters.push(setTransform);\n    if (getTransform) {\n      config.getters.unshift(getTransform);\n    }\n    if (configMetadata) {\n      Object.assign(config, configMetadata);\n    }\n  };\n}\nfunction addObserverToInstanceProperty(setObserver) {\n  return (target, propertyKeyOrSymbol) => {\n    initialiseConfig(target, propertyKeyOrSymbol).observers.push(setObserver);\n  };\n}\nfunction isDecoratedObject(target) {\n  return typeof target !== \"undefined\" && CONFIG_KEY in target;\n}\nfunction listDecoratedProperties(target) {\n  const targets = /* @__PURE__ */ new Set();\n  while (isDecoratedObject(target)) {\n    targets.add(target == null ? void 0 : target[CONFIG_KEY]);\n    target = Object.getPrototypeOf(target);\n  }\n  return Array.from(targets).flatMap((configMap) => Object.keys(configMap));\n}\nfunction extractDecoratedProperties(target) {\n  return listDecoratedProperties(target).reduce((result, key) => {\n    var _a;\n    result[key] = (_a = target[key]) != null ? _a : null;\n    return result;\n  }, {});\n}\nfunction extractDecoratedPropertyMetadata(target, propertyKeyOrSymbol) {\n  const propertyKey = propertyKeyOrSymbol.toString();\n  while (isDecoratedObject(target)) {\n    const config = target[CONFIG_KEY];\n    if (Object.hasOwn(config, propertyKey)) {\n      return config[propertyKey];\n    }\n    target = Object.getPrototypeOf(target);\n  }\n}\nfunction isDefined(val) {\n  return val != null;\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isDate(value) {\n  return value instanceof Date;\n}\nfunction isValidDate(value) {\n  return isDate(value) && !isNaN(Number(value));\n}\nfunction isRegExp(value) {\n  return value instanceof RegExp;\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !isArray(value);\n}\nfunction isObjectLike(value) {\n  return isArray(value) || isPlainObject(value);\n}\nfunction isPlainObject(value) {\n  return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isFiniteNumber(value) {\n  return isNumber(value) && Number.isFinite(value);\n}\nfunction isHtmlElement(value) {\n  return typeof window !== \"undefined\" && value instanceof HTMLElement;\n}\nfunction isEnumKey(enumObject, enumKey) {\n  return isString(enumKey) && Object.keys(enumObject).includes(enumKey);\n}\nfunction isEnumValue(enumObject, enumValue) {\n  return Object.values(enumObject).includes(enumValue);\n}\nfunction isSymbol(value) {\n  return typeof value === \"symbol\";\n}\nfunction deepMerge(...sources) {\n  return mergeDefaults(...sources.reverse());\n}\nfunction mergeDefaults(...sources) {\n  var _a;\n  const target = {};\n  for (const source of sources) {\n    if (!isObject(source))\n      continue;\n    const keys = isDecoratedObject(source) ? listDecoratedProperties(source) : Object.keys(source);\n    for (const key of keys) {\n      if (isPlainObject(target[key]) && isPlainObject(source[key])) {\n        target[key] = mergeDefaults(target[key], source[key]);\n      } else {\n        (_a = target[key]) != null ? _a : target[key] = source[key];\n      }\n    }\n  }\n  return target;\n}\nfunction mergeArrayDefaults(dataArray, ...itemDefaults) {\n  if (itemDefaults && isArray(dataArray)) {\n    return dataArray.map((item) => mergeDefaults(item, ...itemDefaults));\n  }\n  return dataArray;\n}\nfunction mapValues(object, mapper) {\n  return Object.entries(object).reduce(\n    (result, [key, value]) => {\n      result[key] = mapper(value, key, object);\n      return result;\n    },\n    {}\n  );\n}\nfunction without(object, keys) {\n  const clone = __spreadValues2({}, object);\n  for (const key of keys) {\n    delete clone[key];\n  }\n  return clone;\n}\nfunction getPath(object, path) {\n  const pathArray = isArray(path) ? path : path.split(\".\");\n  return pathArray.reduce((value, pathKey) => value[pathKey], object);\n}\nfunction setPath(object, path, newValue) {\n  const pathArray = isArray(path) ? path.slice() : path.split(\".\");\n  const lastKey = pathArray.pop();\n  const lastObject = pathArray.reduce((value, pathKey) => value[pathKey], object);\n  lastObject[lastKey] = newValue;\n}\nfunction partialAssign(keysToCopy, target, source) {\n  if (source === void 0) {\n    return target;\n  }\n  for (const key of keysToCopy) {\n    const value = source[key];\n    if (value !== void 0) {\n      target[key] = value;\n    }\n  }\n  return target;\n}\nvar ChartTypes = class extends Map {\n  get(seriesType) {\n    var _a;\n    return (_a = super.get(seriesType)) != null ? _a : \"unknown\";\n  }\n  isCartesian(seriesType) {\n    return this.get(seriesType) === \"cartesian\";\n  }\n  isPolar(seriesType) {\n    return this.get(seriesType) === \"polar\";\n  }\n  isHierarchy(seriesType) {\n    return this.get(seriesType) === \"hierarchy\";\n  }\n  isTopology(seriesType) {\n    return this.get(seriesType) === \"topology\";\n  }\n  get seriesTypes() {\n    return Array.from(this.keys());\n  }\n  get cartesianTypes() {\n    return this.seriesTypes.filter((t) => this.isCartesian(t));\n  }\n  get polarTypes() {\n    return this.seriesTypes.filter((t) => this.isPolar(t));\n  }\n  get hierarchyTypes() {\n    return this.seriesTypes.filter((t) => this.isHierarchy(t));\n  }\n  get topologyTypes() {\n    return this.seriesTypes.filter((t) => this.isTopology(t));\n  }\n};\nvar ChartDefaults = class extends Map {\n  set(chartType2, defaults) {\n    return super.set(chartType2, mergeDefaults(defaults, this.get(chartType2)));\n  }\n};\nvar chartTypes = new ChartTypes();\nvar publicChartTypes = new ChartTypes();\nvar chartDefaults = new ChartDefaults();\nvar EXPECTED_ENTERPRISE_MODULES = [\n  { type: \"root\", optionsKey: \"animation\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"annotations\", chartTypes: [\"cartesian\"] },\n  {\n    type: \"root\",\n    optionsKey: \"background\",\n    chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n    optionsInnerKey: \"image\"\n  },\n  { type: \"root\", optionsKey: \"contextMenu\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"dataSource\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"sync\", chartTypes: [\"cartesian\"] },\n  { type: \"root\", optionsKey: \"zoom\", chartTypes: [\"cartesian\", \"topology\"] },\n  {\n    type: \"legend\",\n    optionsKey: \"gradientLegend\",\n    chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n    identifier: \"gradient\"\n  },\n  { type: \"root\", optionsKey: \"navigator\", chartTypes: [\"cartesian\"], optionsInnerKey: \"miniChart\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"angle-category\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"angle-number\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"radius-category\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"radius-number\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"cartesian\"], identifier: \"ordinal-time\" },\n  { type: \"axis-option\", optionsKey: \"crosshair\", chartTypes: [\"cartesian\"] },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"box-plot\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"candlestick\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"ohlc\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"bullet\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"heatmap\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"range-area\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"range-bar\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"waterfall\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"nightingale\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radar-area\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radar-line\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radial-bar\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radial-column\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"hierarchy\"], identifier: \"sunburst\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"hierarchy\"], identifier: \"treemap\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-shape\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-line\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-marker\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-shape-background\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-line-background\" },\n  { type: \"series-option\", optionsKey: \"errorBar\", chartTypes: [\"cartesian\"], identifier: \"error-bars\" }\n];\nfunction isEnterpriseSeriesType(type) {\n  return EXPECTED_ENTERPRISE_MODULES.some((s) => s.type === \"series\" && s.identifier === type);\n}\nfunction getEnterpriseSeriesChartTypes(type) {\n  var _a;\n  return (_a = EXPECTED_ENTERPRISE_MODULES.find((s) => s.type === \"series\" && s.identifier === type)) == null ? void 0 : _a.chartTypes;\n}\nfunction isEnterpriseCartesian(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"cartesian\");\n  return type === \"cartesian\";\n}\nfunction isEnterprisePolar(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"polar\");\n  return type === \"polar\";\n}\nfunction isEnterpriseHierarchy(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"hierarchy\");\n  return type === \"hierarchy\";\n}\nfunction isEnterpriseTopology(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"topology\");\n  return type === \"topology\";\n}\nfunction isEnterpriseModule(module) {\n  return module.packageType === \"enterprise\";\n}\nfunction verifyIfModuleExpected(module) {\n  var _a;\n  if (!isEnterpriseModule(module)) {\n    throw new Error(\"AG Charts - internal configuration error, only enterprise modules need verification.\");\n  }\n  const stub = EXPECTED_ENTERPRISE_MODULES.find((s) => {\n    return s.type === module.type && s.optionsKey === module.optionsKey && s.identifier === module.identifier && module.chartTypes.every((t) => s.chartTypes.includes(t));\n  });\n  if (stub) {\n    (_a = stub.useCount) != null ? _a : stub.useCount = 0;\n    stub.useCount++;\n  }\n  return stub != null;\n}\nfunction getUnusedExpectedModules() {\n  return EXPECTED_ENTERPRISE_MODULES.filter(({ useCount }) => useCount == null || useCount === 0);\n}\nfunction optionsType(input) {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = input.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n}\nfunction isAgCartesianChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return true;\n  }\n  if (specifiedType === \"cartesian\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isCartesian(specifiedType) || isEnterpriseCartesian(specifiedType);\n}\nfunction isAgPolarChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"polar\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isPolar(specifiedType) || isEnterprisePolar(specifiedType);\n}\nfunction isAgHierarchyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"hierarchy\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isHierarchy(specifiedType) || isEnterpriseHierarchy(specifiedType);\n}\nfunction isAgTopologyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"topology\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isTopology(specifiedType) || isEnterpriseTopology(specifiedType);\n}\nfunction isAgPolarChartOptionsWithSeriesBasedLegend(input) {\n  const specifiedType = optionsType(input);\n  return isAgPolarChartOptions(input) && specifiedType !== \"pie\" && specifiedType !== \"donut\";\n}\nfunction isSeriesOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return chartTypes.has(input);\n}\nfunction isAxisOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return axisRegistry.has(input);\n}\nfunction removeUsedEnterpriseOptions(options) {\n  var _a, _b, _c, _d;\n  const usedOptions = [];\n  const optionsChartType = chartTypes.get(optionsType(options));\n  for (const {\n    type,\n    chartTypes: moduleChartTypes,\n    optionsKey,\n    optionsInnerKey,\n    identifier\n  } of EXPECTED_ENTERPRISE_MODULES) {\n    if (optionsChartType !== \"unknown\" && !moduleChartTypes.includes(optionsChartType))\n      continue;\n    if (type === \"root\" || type === \"legend\") {\n      const optionValue = options[optionsKey];\n      if (optionValue == null)\n        continue;\n      if (!optionsInnerKey) {\n        usedOptions.push(optionsKey);\n        delete options[optionsKey];\n      } else if (optionValue[optionsInnerKey]) {\n        usedOptions.push(`${optionsKey}.${optionsInnerKey}`);\n        delete optionValue[optionsInnerKey];\n      }\n    } else if (type === \"axis\") {\n      if (!(\"axes\" in options) || !((_a = options.axes) == null ? void 0 : _a.some((axis) => axis.type === identifier)))\n        continue;\n      usedOptions.push(`axis[type=${identifier}]`);\n      options.axes = options.axes.filter((axis) => axis.type !== identifier);\n    } else if (type === \"axis-option\") {\n      if (!(\"axes\" in options) || !((_b = options.axes) == null ? void 0 : _b.some((axis) => axis[optionsKey])))\n        continue;\n      usedOptions.push(`axis.${optionsKey}`);\n      options.axes.forEach((axis) => {\n        if (axis[optionsKey]) {\n          delete axis[optionsKey];\n        }\n      });\n    } else if (type === \"series\") {\n      if (!((_c = options.series) == null ? void 0 : _c.some((series) => series.type === identifier)))\n        continue;\n      usedOptions.push(`series[type=${identifier}]`);\n      options.series = options.series.filter((series) => series.type !== identifier);\n    } else if (type === \"series-option\") {\n      if (!((_d = options.series) == null ? void 0 : _d.some((series) => series[optionsKey])))\n        continue;\n      usedOptions.push(`series.${optionsKey}`);\n      options.series.forEach((series) => {\n        if (series[optionsKey]) {\n          delete series[optionsKey];\n        }\n      });\n    }\n  }\n  if (usedOptions.length) {\n    let enterprisePackageName = \"ag-charts-enterprise\";\n    let enterpriseReferenceUrl = \"https://charts.ag-grid.com/javascript/installation/\";\n    if (options.mode === \"integrated\") {\n      enterprisePackageName = \"ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise\";\n      enterpriseReferenceUrl = \"https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/\";\n    }\n    Logger.warnOnce(\n      [\n        `unable to use these enterprise features as '${enterprisePackageName}' has not been loaded:`,\n        \"\",\n        ...usedOptions,\n        \"\",\n        `See: ${enterpriseReferenceUrl}`\n      ].join(\"\\n\")\n    );\n  }\n}\nvar BaseProperties = class {\n  set(properties) {\n    const { className = this.constructor.name } = this.constructor;\n    if (typeof properties !== \"object\") {\n      Logger.warn(`unable to set ${className} - expecting a properties object`);\n      return this;\n    }\n    const keys = new Set(Object.keys(properties));\n    for (const propertyKey of listDecoratedProperties(this)) {\n      if (keys.has(propertyKey)) {\n        const value = properties[propertyKey];\n        const self = this;\n        if (isProperties(self[propertyKey])) {\n          self[propertyKey] = self[propertyKey] instanceof PropertiesArray ? self[propertyKey].reset(value) : self[propertyKey].set(value);\n        } else {\n          self[propertyKey] = value;\n        }\n        keys.delete(propertyKey);\n      }\n    }\n    for (const unknownKey of keys) {\n      Logger.warn(`unable to set [${unknownKey}] in ${className} - property is unknown`);\n    }\n    return this;\n  }\n  isValid() {\n    return listDecoratedProperties(this).every((propertyKey) => {\n      const { optional } = extractDecoratedPropertyMetadata(this, propertyKey);\n      const valid = optional || typeof this[propertyKey] !== \"undefined\";\n      if (!valid) {\n        Logger.warnOnce(`[${propertyKey}] is required.`);\n      }\n      return valid;\n    });\n  }\n  toJson() {\n    return listDecoratedProperties(this).reduce((object, propertyKey) => {\n      const propertyValue = this[propertyKey];\n      object[propertyKey] = isProperties(propertyValue) ? propertyValue.toJson() : propertyValue;\n      return object;\n    }, {});\n  }\n};\nvar PropertiesArray = class _PropertiesArray extends Array {\n  constructor(itemFactory, ...properties) {\n    super(properties.length);\n    Object.defineProperty(this, \"itemFactory\", { value: itemFactory, enumerable: false, configurable: false });\n    this.set(properties);\n  }\n  set(properties) {\n    if (isArray(properties)) {\n      this.length = properties.length;\n      for (let i = 0; i < properties.length; i++) {\n        this[i] = new this.itemFactory().set(properties[i]);\n      }\n    }\n    return this;\n  }\n  reset(properties) {\n    return new _PropertiesArray(this.itemFactory, ...properties);\n  }\n  toJson() {\n    return this.map((value) => {\n      var _a, _b;\n      return (_b = (_a = value == null ? void 0 : value.toJson) == null ? void 0 : _a.call(value)) != null ? _b : value;\n    });\n  }\n};\nfunction isProperties(value) {\n  return value instanceof BaseProperties || value instanceof PropertiesArray;\n}\nvar CLASS_INSTANCE_TYPE = \"class-instance\";\nfunction jsonDiff(source, target, skip) {\n  if (isArray(target)) {\n    if (!isArray(source) || source.length !== target.length || target.some((v, i) => jsonDiff(source[i], v) != null)) {\n      return target;\n    }\n  } else if (isPlainObject(target)) {\n    if (!isPlainObject(source)) {\n      return target;\n    }\n    const result = {};\n    const allKeys = /* @__PURE__ */ new Set([\n      ...Object.keys(source),\n      ...Object.keys(target)\n    ]);\n    for (const key of allKeys) {\n      if (source[key] === target[key] || (skip == null ? void 0 : skip.includes(key))) {\n        continue;\n      }\n      if (typeof source[key] === typeof target[key]) {\n        const diff2 = jsonDiff(source[key], target[key]);\n        if (diff2 !== null) {\n          result[key] = diff2;\n        }\n      } else {\n        result[key] = target[key];\n      }\n    }\n    return Object.keys(result).length ? result : null;\n  } else if (source !== target) {\n    return target;\n  }\n  return null;\n}\nfunction deepClone(source, options) {\n  if (isArray(source)) {\n    return source.map((item) => deepClone(item, options));\n  }\n  if (isPlainObject(source)) {\n    return mapValues(\n      source,\n      (value, key) => {\n        var _a;\n        return ((_a = options == null ? void 0 : options.shallow) == null ? void 0 : _a.includes(key)) ? shallowClone(value) : deepClone(value, options);\n      }\n    );\n  }\n  return shallowClone(source);\n}\nfunction shallowClone(source) {\n  if (isArray(source)) {\n    return [...source];\n  }\n  if (isPlainObject(source)) {\n    return __spreadValues2({}, source);\n  }\n  if (isDate(source)) {\n    return new Date(source);\n  }\n  if (isRegExp(source)) {\n    return new RegExp(source.source, source.flags);\n  }\n  return source;\n}\nfunction jsonWalk(json, visit, opts, ...jsons) {\n  var _a;\n  if (isArray(json)) {\n    visit(json, ...jsons);\n    json.forEach((node, index) => {\n      jsonWalk(node, visit, opts, ...keyMapper(jsons, index));\n    });\n  } else if (isPlainObject(json)) {\n    visit(json, ...jsons);\n    for (const key of Object.keys(json)) {\n      if ((_a = opts == null ? void 0 : opts.skip) == null ? void 0 : _a.includes(key)) {\n        continue;\n      }\n      const value = json[key];\n      if (isArray(value) || isPlainObject(value)) {\n        jsonWalk(value, visit, opts, ...keyMapper(jsons, key));\n      }\n    }\n  }\n}\nfunction jsonApply(target, source, params = {}) {\n  const { path, constructedArrays, matcherPath = path == null ? void 0 : path.replace(/(\\[[0-9+]+])/i, \"[]\"), skip = [] } = params;\n  if (target == null) {\n    throw new Error(`AG Charts - target is uninitialised: ${path != null ? path : \"<root>\"}`);\n  }\n  if (source == null) {\n    return target;\n  }\n  if (isProperties(target)) {\n    return target.set(source);\n  }\n  const targetAny = target;\n  const targetType = classify(target);\n  for (const property in source) {\n    const propertyMatcherPath = `${matcherPath ? matcherPath + \".\" : \"\"}${property}`;\n    if (skip.includes(propertyMatcherPath))\n      continue;\n    const newValue = source[property];\n    const propertyPath = `${path ? path + \".\" : \"\"}${property}`;\n    const targetClass = targetAny.constructor;\n    const currentValue = targetAny[property];\n    let ctr;\n    try {\n      const currentValueType = classify(currentValue);\n      const newValueType = classify(newValue);\n      if (targetType === CLASS_INSTANCE_TYPE && !(property in target)) {\n        Logger.warn(`unable to set [${propertyPath}] in ${targetClass == null ? void 0 : targetClass.name} - property is unknown`);\n        continue;\n      }\n      if (currentValueType != null && newValueType != null && newValueType !== currentValueType && (currentValueType !== CLASS_INSTANCE_TYPE || newValueType !== \"object\")) {\n        Logger.warn(\n          `unable to set [${propertyPath}] in ${targetClass == null ? void 0 : targetClass.name} - can't apply type of [${newValueType}], allowed types are: [${currentValueType}]`\n        );\n        continue;\n      }\n      if (isProperties(currentValue)) {\n        targetAny[property].set(newValue);\n      } else if (newValueType === \"array\") {\n        ctr != null ? ctr : ctr = constructedArrays == null ? void 0 : constructedArrays.get(currentValue);\n        if (ctr == null) {\n          targetAny[property] = newValue;\n        } else {\n          const newValueArray = newValue;\n          targetAny[property] = newValueArray.map(\n            (v) => jsonApply(new ctr(), v, __spreadProps(__spreadValues2({}, params), {\n              path: propertyPath,\n              matcherPath: propertyMatcherPath + \"[]\"\n            }))\n          );\n        }\n      } else if (newValueType === CLASS_INSTANCE_TYPE) {\n        targetAny[property] = newValue;\n      } else if (newValueType === \"object\") {\n        if (currentValue != null) {\n          jsonApply(currentValue, newValue, __spreadProps(__spreadValues2({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else if (ctr == null) {\n          targetAny[property] = {};\n          jsonApply(targetAny[property], newValue, __spreadProps(__spreadValues2({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else {\n          targetAny[property] = jsonApply(new ctr(), newValue, __spreadProps(__spreadValues2({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        }\n      } else {\n        targetAny[property] = newValue;\n      }\n    } catch (error) {\n      Logger.warn(`unable to set [${propertyPath}] in [${targetClass == null ? void 0 : targetClass.name}]; nested error is: ${error.message}`);\n    }\n  }\n  return target;\n}\nfunction keyMapper(data, key) {\n  return data.map((dataObject) => dataObject == null ? void 0 : dataObject[key]);\n}\nfunction classify(value) {\n  if (value == null) {\n    return null;\n  }\n  if (isHtmlElement(value) || isDate(value)) {\n    return \"primitive\";\n  }\n  if (isArray(value)) {\n    return \"array\";\n  }\n  if (isObject(value)) {\n    return isPlainObject(value) ? \"object\" : CLASS_INSTANCE_TYPE;\n  }\n  if (isFunction(value)) {\n    return \"function\";\n  }\n  return \"primitive\";\n}\nvar SeriesRegistry = class {\n  constructor() {\n    this.seriesMap = /* @__PURE__ */ new Map();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(seriesType, {\n    chartTypes: [chartType2],\n    instanceConstructor,\n    defaultAxes,\n    themeTemplate,\n    enterpriseThemeTemplate,\n    paletteFactory,\n    solo,\n    stackable,\n    groupable,\n    stackedByDefault,\n    swapDefaultAxesCondition,\n    hidden\n  }) {\n    this.setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate);\n    this.seriesMap.set(seriesType, {\n      instanceConstructor,\n      defaultAxes,\n      paletteFactory,\n      solo,\n      stackable,\n      groupable,\n      stackedByDefault,\n      swapDefaultAxesCondition\n    });\n    chartTypes.set(seriesType, chartType2);\n    if (!hidden) {\n      publicChartTypes.set(seriesType, chartType2);\n    }\n  }\n  create(seriesType, moduleContext) {\n    var _a;\n    const SeriesConstructor = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.instanceConstructor;\n    if (SeriesConstructor) {\n      return new SeriesConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown series type: ${seriesType}`);\n  }\n  cloneDefaultAxes(seriesType) {\n    var _a;\n    const defaultAxes = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.defaultAxes;\n    return defaultAxes ? { axes: deepClone(defaultAxes) } : null;\n  }\n  setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate = {}) {\n    const currentTemplate = this.themeTemplates.get(seriesType);\n    this.themeTemplates.set(seriesType, {\n      community: mergeDefaults(themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community),\n      enterprise: mergeDefaults(enterpriseThemeTemplate, themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community)\n    });\n  }\n  getThemeTemplate(seriesType) {\n    const themeTemplate = this.themeTemplates.get(seriesType);\n    return enterpriseModule.isEnterprise ? themeTemplate == null ? void 0 : themeTemplate.enterprise : themeTemplate == null ? void 0 : themeTemplate.community;\n  }\n  getPaletteFactory(seriesType) {\n    var _a;\n    return (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.paletteFactory;\n  }\n  isSolo(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.solo) != null ? _b : false;\n  }\n  isGroupable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.groupable) != null ? _b : false;\n  }\n  isStackable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackable) != null ? _b : false;\n  }\n  isStackedByDefault(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackedByDefault) != null ? _b : false;\n  }\n  isDefaultAxisSwapNeeded(options) {\n    var _a, _b, _c;\n    let result;\n    for (const series of (_a = options.series) != null ? _a : []) {\n      const { type = \"line\" } = series;\n      const isDefaultAxisSwapped = (_c = (_b = this.seriesMap.get(type)) == null ? void 0 : _b.swapDefaultAxesCondition) == null ? void 0 : _c.call(_b, series);\n      if (isDefaultAxisSwapped != null) {\n        if (result != null && result != isDefaultAxisSwapped) {\n          throw new Error(\"AG Charts - The provided series have incompatible directions\");\n        }\n        result = isDefaultAxisSwapped;\n      }\n    }\n    return result;\n  }\n};\nvar seriesRegistry = new SeriesRegistry();\nvar LegendRegistry = class {\n  constructor() {\n    this.legendMap = /* @__PURE__ */ new Map();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(legendType, { optionsKey, instanceConstructor, themeTemplate }) {\n    this.legendMap.set(legendType, { optionsKey, instanceConstructor });\n    this.themeTemplates.set(optionsKey, themeTemplate);\n  }\n  create(legendType, moduleContext) {\n    var _a;\n    const LegendConstructor = (_a = this.legendMap.get(legendType)) == null ? void 0 : _a.instanceConstructor;\n    if (LegendConstructor) {\n      return new LegendConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown legend type: ${legendType}`);\n  }\n  getThemeTemplates() {\n    return Object.fromEntries(this.themeTemplates);\n  }\n  getKeys() {\n    return Array.from(this.legendMap.entries()).reduce(\n      (result, [legendType, record]) => {\n        result[legendType] = record.optionsKey;\n        return result;\n      },\n      {}\n    );\n  }\n};\nvar legendRegistry = new LegendRegistry();\nvar FONT_SIZE = /* @__PURE__ */ ((FONT_SIZE2) => {\n  FONT_SIZE2[FONT_SIZE2[\"SMALL\"] = 12] = \"SMALL\";\n  FONT_SIZE2[FONT_SIZE2[\"MEDIUM\"] = 13] = \"MEDIUM\";\n  FONT_SIZE2[FONT_SIZE2[\"LARGE\"] = 17] = \"LARGE\";\n  return FONT_SIZE2;\n})(FONT_SIZE || {});\nvar FONT_WEIGHT = /* @__PURE__ */ ((FONT_WEIGHT3) => {\n  FONT_WEIGHT3[\"NORMAL\"] = \"normal\";\n  FONT_WEIGHT3[\"BOLD\"] = \"bold\";\n  FONT_WEIGHT3[\"BOLDER\"] = \"bolder\";\n  FONT_WEIGHT3[\"LIGHTER\"] = \"lighter\";\n  return FONT_WEIGHT3;\n})(FONT_WEIGHT || {});\nvar POSITION = /* @__PURE__ */ ((POSITION3) => {\n  POSITION3[\"TOP\"] = \"top\";\n  POSITION3[\"RIGHT\"] = \"right\";\n  POSITION3[\"BOTTOM\"] = \"bottom\";\n  POSITION3[\"LEFT\"] = \"left\";\n  return POSITION3;\n})(POSITION || {});\nvar CARTESIAN_AXIS_TYPE = /* @__PURE__ */ ((CARTESIAN_AXIS_TYPE2) => {\n  CARTESIAN_AXIS_TYPE2[\"CATEGORY\"] = \"category\";\n  CARTESIAN_AXIS_TYPE2[\"ORDINAL_TIME\"] = \"ordinal-time\";\n  CARTESIAN_AXIS_TYPE2[\"NUMBER\"] = \"number\";\n  CARTESIAN_AXIS_TYPE2[\"TIME\"] = \"time\";\n  CARTESIAN_AXIS_TYPE2[\"LOG\"] = \"log\";\n  return CARTESIAN_AXIS_TYPE2;\n})(CARTESIAN_AXIS_TYPE || {});\nvar POLAR_AXIS_TYPE = /* @__PURE__ */ ((POLAR_AXIS_TYPE2) => {\n  POLAR_AXIS_TYPE2[\"ANGLE_CATEGORY\"] = \"angle-category\";\n  POLAR_AXIS_TYPE2[\"ANGLE_NUMBER\"] = \"angle-number\";\n  POLAR_AXIS_TYPE2[\"RADIUS_CATEGORY\"] = \"radius-category\";\n  POLAR_AXIS_TYPE2[\"RADIUS_NUMBER\"] = \"radius-number\";\n  return POLAR_AXIS_TYPE2;\n})(POLAR_AXIS_TYPE || {});\nvar POLAR_AXIS_SHAPE = /* @__PURE__ */ ((POLAR_AXIS_SHAPE2) => {\n  POLAR_AXIS_SHAPE2[\"CIRCLE\"] = \"circle\";\n  POLAR_AXIS_SHAPE2[\"POLYGON\"] = \"polygon\";\n  return POLAR_AXIS_SHAPE2;\n})(POLAR_AXIS_SHAPE || {});\nvar DEFAULT_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_STROKES = {\n  BLUE: \"#2b5c95\",\n  ORANGE: \"#cc6f10\",\n  GREEN: \"#1e652e\",\n  CYAN: \"#18859e\",\n  YELLOW: \"#a69400\",\n  VIOLET: \"#603c88\",\n  GRAY: \"#575757\",\n  MAGENTA: \"#7d2f6d\",\n  BROWN: \"#4f3508\",\n  RED: \"#a82529\"\n};\nvar IS_DARK_THEME = Symbol(\"is-dark-theme\");\nvar EXTENDS_AXES_DEFAULTS = Symbol(\"extends-axes-defaults\");\nvar EXTENDS_AXES_LINE_DEFAULTS = Symbol(\"extends-axes-line-defaults\");\nvar EXTENDS_AXES_TICK_DEFAULTS = Symbol(\"extends-axes-tick-defaults\");\nvar EXTENDS_AXES_GRID_LINE_DEFAULTS = Symbol(\"extends-axes-grid-line-defaults\");\nvar EXTENDS_SERIES_DEFAULTS = Symbol(\"extends-series-defaults\");\nvar EXTENDS_CARTESIAN_MARKER_DEFAULTS = Symbol(\"extends-cartesian-marker-defaults\");\nvar DEFAULT_FONT_FAMILY = Symbol(\"default-font\");\nvar DEFAULT_LABEL_COLOUR = Symbol(\"default-label-colour\");\nvar DEFAULT_INVERTED_LABEL_COLOUR = Symbol(\"default-inverted-label-colour\");\nvar DEFAULT_INSIDE_SERIES_LABEL_COLOUR = Symbol(\"default-inside-series-label-colour\");\nvar DEFAULT_MUTED_LABEL_COLOUR = Symbol(\"default-muted-label-colour\");\nvar DEFAULT_AXIS_GRID_COLOUR = Symbol(\"default-axis-grid-colour\");\nvar DEFAULT_AXIS_LINE_COLOUR = Symbol(\"default-axis-line-colour\");\nvar DEFAULT_CROSS_LINES_COLOUR = Symbol(\"default-cross-lines-colour\");\nvar DEFAULT_BACKGROUND_COLOUR = Symbol(\"default-background-colour\");\nvar DEFAULT_SHADOW_COLOUR = Symbol(\"default-shadow-colour\");\nvar DEFAULT_COLOURS = Symbol(\"default-colours\");\nvar DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS = Symbol(\n  \"default-waterfall-series-positive-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS = Symbol(\n  \"default-waterfall-series-negative-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS = Symbol(\n  \"default-waterfall-series-total-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE = Symbol(\n  \"default-waterfall-series-connector-line-stroke\"\n);\nvar DEFAULT_POLAR_SERIES_STROKE = Symbol(\"default-polar-series-stroke\");\nvar DEFAULT_DIVERGING_SERIES_COLOUR_RANGE = Symbol(\n  \"default-diverging-series-colour-range\"\n);\nvar DEFAULT_HIERARCHY_FILLS = Symbol(\"default-hierarchy-fills\");\nvar DEFAULT_HIERARCHY_STROKES = Symbol(\"default-hierarchy-strokes\");\nvar DEFAULT_ANNOTATION_STROKE = Symbol(\"default-annotation-stroke\");\nvar DEFAULT_ANNOTATION_BACKGROUND_FILL = Symbol(\"default-annotation-background-fill\");\nvar DEFAULT_ANNOTATION_HANDLE_FILL = Symbol(\"default-annotation-handle-fill\");\nvar DEFAULT_BACKGROUND_FILL = \"white\";\nvar DEFAULT_PALETTE = {\n  fills: Object.values(DEFAULT_FILLS),\n  strokes: Object.values(DEFAULT_STROKES)\n};\nvar CHART_TYPE_CONFIG = {\n  get cartesian() {\n    return { seriesTypes: chartTypes.cartesianTypes, commonOptions: [\"zoom\", \"navigator\"] };\n  },\n  get polar() {\n    return { seriesTypes: chartTypes.polarTypes, commonOptions: [] };\n  },\n  get hierarchy() {\n    return { seriesTypes: chartTypes.hierarchyTypes, commonOptions: [] };\n  },\n  get topology() {\n    return { seriesTypes: chartTypes.topologyTypes, commonOptions: [] };\n  }\n};\nvar CHART_TYPE_SPECIFIC_COMMON_OPTIONS = Object.values(CHART_TYPE_CONFIG).reduce((r, { commonOptions }) => r.concat(commonOptions), []);\nvar _ChartTheme = class _ChartTheme2 {\n  getPalette() {\n    return DEFAULT_PALETTE;\n  }\n  static getAxisDefaults(overrideDefaults) {\n    return mergeDefaults(overrideDefaults, {\n      title: {\n        enabled: false,\n        text: \"Axis Title\",\n        spacing: 25,\n        fontWeight: \"normal\",\n        fontSize: 13,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      },\n      label: {\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        padding: 5,\n        color: DEFAULT_LABEL_COLOUR,\n        avoidCollisions: true\n      },\n      line: {\n        enabled: true,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      tick: {\n        enabled: false,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      gridLine: {\n        enabled: true,\n        style: [{ stroke: DEFAULT_AXIS_GRID_COLOUR, lineDash: [] }]\n      },\n      crossLines: {\n        enabled: false,\n        fill: DEFAULT_CROSS_LINES_COLOUR,\n        stroke: DEFAULT_CROSS_LINES_COLOUR,\n        fillOpacity: 0.1,\n        strokeWidth: 1,\n        label: {\n          enabled: false,\n          fontSize: 12,\n          fontFamily: DEFAULT_FONT_FAMILY,\n          padding: 5,\n          color: DEFAULT_LABEL_COLOUR\n        }\n      }\n    });\n  }\n  static getSeriesDefaults() {\n    return {\n      visible: true,\n      showInLegend: true,\n      highlightStyle: {\n        item: { fill: \"#ffffff54\", stroke: `#0006`, strokeWidth: 2 },\n        series: { dimOpacity: 1 }\n      },\n      nodeClickRange: \"exact\",\n      tooltip: { enabled: true }\n    };\n  }\n  static getCartesianSeriesMarkerDefaults() {\n    return { enabled: true, shape: \"circle\", size: 7, strokeWidth: 1 };\n  }\n  static getChartDefaults() {\n    return {\n      background: { visible: true, fill: DEFAULT_BACKGROUND_COLOUR },\n      padding: { top: 20, right: 20, bottom: 20, left: 20 },\n      keyboard: { enabled: true },\n      title: {\n        enabled: false,\n        text: \"Title\",\n        fontWeight: \"normal\",\n        fontSize: 17,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      subtitle: {\n        enabled: false,\n        text: \"Subtitle\",\n        spacing: 20,\n        fontSize: 13,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_MUTED_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      footnote: {\n        enabled: false,\n        text: \"Footnote\",\n        spacing: 20,\n        fontSize: 13,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: \"rgb(140, 140, 140)\",\n        wrapping: \"hyphenate\"\n      },\n      legend: {\n        position: \"bottom\",\n        spacing: 30,\n        listeners: {},\n        item: {\n          paddingX: 16,\n          paddingY: 8,\n          marker: { size: 15, padding: 8 },\n          toggleSeriesVisible: true,\n          label: {\n            color: DEFAULT_LABEL_COLOUR,\n            fontSize: 12,\n            fontFamily: DEFAULT_FONT_FAMILY\n          }\n        },\n        reverseOrder: false,\n        pagination: {\n          marker: { size: 12 },\n          activeStyle: { fill: DEFAULT_LABEL_COLOUR },\n          inactiveStyle: { fill: DEFAULT_MUTED_LABEL_COLOUR },\n          highlightStyle: { fill: DEFAULT_LABEL_COLOUR },\n          label: { color: DEFAULT_LABEL_COLOUR }\n        }\n      },\n      tooltip: {\n        enabled: true,\n        darkTheme: IS_DARK_THEME,\n        range: \"nearest\",\n        delay: 0\n      },\n      overlays: {\n        loading: { darkTheme: IS_DARK_THEME },\n        noData: { darkTheme: IS_DARK_THEME },\n        noVisibleSeries: { darkTheme: IS_DARK_THEME }\n      },\n      listeners: {}\n    };\n  }\n  constructor(options = {}) {\n    const { overrides, palette: palette10 } = deepClone(options);\n    const defaults = this.createChartConfigPerChartType(this.getDefaults());\n    if (overrides) {\n      this.mergeOverrides(defaults, overrides);\n    }\n    this.config = Object.freeze(this.templateTheme(defaults));\n    this.palette = mergeDefaults(palette10, this.getPalette());\n  }\n  mergeOverrides(defaults, overrides) {\n    for (const { seriesTypes, commonOptions } of Object.values(CHART_TYPE_CONFIG)) {\n      const cleanedCommon = __spreadValues2({}, overrides.common);\n      for (const commonKey of CHART_TYPE_SPECIFIC_COMMON_OPTIONS) {\n        if (!commonOptions.includes(commonKey)) {\n          delete cleanedCommon[commonKey];\n        }\n      }\n      if (!cleanedCommon)\n        continue;\n      for (const s of seriesTypes) {\n        const seriesType = s;\n        defaults[seriesType] = mergeDefaults(cleanedCommon, defaults[seriesType]);\n      }\n    }\n    chartTypes.seriesTypes.forEach((s) => {\n      const seriesType = s;\n      if (overrides[seriesType]) {\n        defaults[seriesType] = mergeDefaults(overrides[seriesType], defaults[seriesType]);\n      }\n    });\n  }\n  createChartConfigPerChartType(config) {\n    for (const [nextType, { seriesTypes }] of Object.entries(CHART_TYPE_CONFIG)) {\n      const typeDefaults = chartDefaults.get(nextType);\n      for (const seriesType of seriesTypes) {\n        config[seriesType] || (config[seriesType] = deepClone(typeDefaults));\n      }\n    }\n    return config;\n  }\n  getDefaults() {\n    const getOverridesByType = (chartType2, seriesTypes) => {\n      var _a;\n      const result = {};\n      const chartTypeDefaults = __spreadValues2(__spreadValues2(__spreadValues2({\n        axes: {}\n      }, legendRegistry.getThemeTemplates()), _ChartTheme2.getChartDefaults()), chartDefaults.get(chartType2));\n      for (const seriesType of seriesTypes) {\n        result[seriesType] = mergeDefaults(\n          seriesRegistry.getThemeTemplate(seriesType),\n          (_a = result[seriesType]) != null ? _a : deepClone(chartTypeDefaults)\n        );\n        const { axes } = result[seriesType];\n        for (const axisType of axisRegistry.keys()) {\n          axes[axisType] = mergeDefaults(\n            axes[axisType],\n            axisRegistry.getThemeTemplate(axisType),\n            chartType2 === \"cartesian\" && _ChartTheme2.cartesianAxisDefault[axisType]\n          );\n        }\n      }\n      return result;\n    };\n    return mergeDefaults(\n      getOverridesByType(\"cartesian\", chartTypes.cartesianTypes),\n      getOverridesByType(\"polar\", chartTypes.polarTypes),\n      getOverridesByType(\"hierarchy\", chartTypes.hierarchyTypes),\n      getOverridesByType(\"topology\", chartTypes.topologyTypes)\n    );\n  }\n  templateTheme(themeTemplate) {\n    const themeInstance = deepClone(themeTemplate);\n    const { extensions, properties } = this.getTemplateParameters();\n    jsonWalk(themeInstance, (node) => {\n      if (node[\"__extends__\"]) {\n        const extendsValue = node[\"__extends__\"];\n        const source = extensions.get(extendsValue);\n        if (source == null) {\n          throw new Error(`AG Charts - no template variable provided for: ${extendsValue}`);\n        }\n        Object.keys(source).forEach((key) => {\n          if (!(key in node)) {\n            node[key] = source[key];\n          } else if (isObject(node[key])) {\n            node[key] = mergeDefaults(node[key], source[key]);\n          }\n        });\n        delete node[\"__extends__\"];\n      }\n      if (isArray(node)) {\n        for (let i = 0; i < node.length; i++) {\n          const symbol = node[i];\n          if (properties.has(symbol)) {\n            node[i] = properties.get(symbol);\n          }\n        }\n      } else {\n        for (const [name, value] of Object.entries(node)) {\n          if (properties.has(value)) {\n            node[name] = properties.get(value);\n          }\n        }\n      }\n    });\n    return deepClone(themeInstance);\n  }\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_FILLS,\n      strokes: DEFAULT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_FILLS.BLUE,\n      stroke: DEFAULT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_FILLS.ORANGE,\n      stroke: DEFAULT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_FILLS.GRAY,\n      stroke: DEFAULT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const extensions = /* @__PURE__ */ new Map();\n    extensions.set(EXTENDS_AXES_DEFAULTS, _ChartTheme2.getAxisDefaults());\n    extensions.set(EXTENDS_AXES_LINE_DEFAULTS, _ChartTheme2.getAxisDefaults().line);\n    extensions.set(EXTENDS_AXES_TICK_DEFAULTS, _ChartTheme2.getAxisDefaults().tick);\n    extensions.set(EXTENDS_AXES_GRID_LINE_DEFAULTS, _ChartTheme2.getAxisDefaults().gridLine);\n    extensions.set(EXTENDS_SERIES_DEFAULTS, _ChartTheme2.getSeriesDefaults());\n    extensions.set(EXTENDS_CARTESIAN_MARKER_DEFAULTS, _ChartTheme2.getCartesianSeriesMarkerDefaults());\n    const properties = /* @__PURE__ */ new Map();\n    properties.set(IS_DARK_THEME, false);\n    properties.set(DEFAULT_FONT_FAMILY, \"Verdana, sans-serif\");\n    properties.set(DEFAULT_LABEL_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INVERTED_LABEL_COLOUR, \"white\");\n    properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"rgb(140, 140, 140)\");\n    properties.set(DEFAULT_AXIS_GRID_COLOUR, \"rgb(224,234,241)\");\n    properties.set(DEFAULT_AXIS_LINE_COLOUR, \"rgb(195, 195, 195)\");\n    properties.set(DEFAULT_CROSS_LINES_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_SHADOW_COLOUR, \"rgba(0, 0, 0, 0.5)\");\n    properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      DEFAULT_FILLS.ORANGE,\n      DEFAULT_FILLS.YELLOW,\n      DEFAULT_FILLS.GREEN\n    ]);\n    properties.set(DEFAULT_HIERARCHY_FILLS, [\"#ffffff\", \"#e0e5ea\", \"#c1ccd5\", \"#a3b4c1\", \"#859cad\"]);\n    properties.set(DEFAULT_HIERARCHY_STROKES, [\"#ffffff\", \"#c5cbd1\", \"#a4b1bd\", \"#8498a9\", \"#648096\"]);\n    properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_COLOURS, _ChartTheme2.getDefaultColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _ChartTheme2.getWaterfallSeriesDefaultPositiveColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _ChartTheme2.getWaterfallSeriesDefaultNegativeColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _ChartTheme2.getWaterfallSeriesDefaultTotalColors());\n    properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _ChartTheme2.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_STROKES.BLUE);\n    properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_FILLS.BLUE);\n    properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_BACKGROUND_FILL);\n    return {\n      extensions,\n      properties\n    };\n  }\n};\n_ChartTheme.cartesianAxisDefault = {\n  [\n    \"number\"\n    /* NUMBER */\n  ]: _ChartTheme.getAxisDefaults({ line: { enabled: false } }),\n  [\n    \"log\"\n    /* LOG */\n  ]: _ChartTheme.getAxisDefaults({ base: 10, line: { enabled: false } }),\n  [\n    \"category\"\n    /* CATEGORY */\n  ]: _ChartTheme.getAxisDefaults({\n    groupPaddingInner: 0.1,\n    label: { autoRotate: true },\n    gridLine: { enabled: false }\n  }),\n  [\n    \"time\"\n    /* TIME */\n  ]: _ChartTheme.getAxisDefaults({ gridLine: { enabled: false } }),\n  \"grouped-category\": _ChartTheme.getAxisDefaults()\n};\nvar ChartTheme = _ChartTheme;\nvar DEFAULT_DARK_BACKGROUND_FILL = \"#192232\";\nvar DEFAULT_DARK_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_DARK_STROKES = {\n  BLUE: \"#74a8e6\",\n  ORANGE: \"#ffbe70\",\n  GREEN: \"#6cb176\",\n  CYAN: \"#75d4ef\",\n  YELLOW: \"#f6e559\",\n  VIOLET: \"#aa86d8\",\n  GRAY: \"#a1a1a1\",\n  MAGENTA: \"#ce7ab9\",\n  BROWN: \"#997b52\",\n  RED: \"#ff7872\"\n};\nvar palette = {\n  fills: Object.values(DEFAULT_DARK_FILLS),\n  strokes: Object.values(DEFAULT_DARK_STROKES)\n};\nvar DarkTheme = class _DarkTheme extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_DARK_FILLS,\n      strokes: DEFAULT_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.BLUE,\n      stroke: DEFAULT_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.ORANGE,\n      stroke: DEFAULT_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.GRAY,\n      stroke: DEFAULT_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(IS_DARK_THEME, true);\n    result.properties.set(DEFAULT_COLOURS, _DarkTheme.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _DarkTheme.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _DarkTheme.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _DarkTheme.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _DarkTheme.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_LABEL_COLOUR, \"white\");\n    result.properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"#7D91A0\");\n    result.properties.set(DEFAULT_AXIS_GRID_COLOUR, \"#545A6E\");\n    result.properties.set(DEFAULT_CROSS_LINES_COLOUR, \"white\");\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      DEFAULT_DARK_FILLS.ORANGE,\n      DEFAULT_DARK_FILLS.YELLOW,\n      DEFAULT_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(DEFAULT_HIERARCHY_FILLS, [\"#192834\", \"#253746\", \"#324859\", \"#3f596c\", \"#4d6a80\"]);\n    result.properties.set(DEFAULT_HIERARCHY_STROKES, [\"#192834\", \"#3b5164\", \"#496275\", \"#577287\", \"#668399\"]);\n    result.properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_DARK_FILLS.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_DARK_BACKGROUND_FILL);\n    return result;\n  }\n  getPalette() {\n    return palette;\n  }\n  constructor(options) {\n    super(options);\n  }\n};\nvar MATERIAL_DARK_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_DARK_STROKES = {\n  BLUE: \"#90CAF9\",\n  ORANGE: \"#FFCC80\",\n  GREEN: \"#A5D6A7\",\n  CYAN: \"#80DEEA\",\n  YELLOW: \"#FFF9C4\",\n  VIOLET: \"#B39DDB\",\n  GRAY: \"#E0E0E0\",\n  MAGENTA: \"#F48FB1\",\n  BROWN: \"#A1887F\",\n  RED: \"#EF9A9A\"\n};\nvar palette2 = {\n  fills: Object.values(MATERIAL_DARK_FILLS),\n  strokes: Object.values(MATERIAL_DARK_STROKES)\n};\nvar MaterialDark = class _MaterialDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_DARK_FILLS,\n      strokes: MATERIAL_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.BLUE,\n      stroke: MATERIAL_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.RED,\n      stroke: MATERIAL_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.GRAY,\n      stroke: MATERIAL_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      MATERIAL_DARK_FILLS.ORANGE,\n      MATERIAL_DARK_FILLS.YELLOW,\n      MATERIAL_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _MaterialDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette2;\n  }\n};\nvar MATERIAL_LIGHT_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_LIGHT_STROKES = {\n  BLUE: \"#1565C0\",\n  ORANGE: \"#E65100\",\n  GREEN: \"#2E7D32\",\n  CYAN: \"#00838F\",\n  YELLOW: \"#F9A825\",\n  VIOLET: \"#4527A0\",\n  GRAY: \"#616161\",\n  MAGENTA: \"#C2185B\",\n  BROWN: \"#4E342E\",\n  RED: \"#B71C1C\"\n};\nvar palette3 = {\n  fills: Object.values(MATERIAL_LIGHT_FILLS),\n  strokes: Object.values(MATERIAL_LIGHT_STROKES)\n};\nvar MaterialLight = class _MaterialLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_LIGHT_FILLS,\n      strokes: MATERIAL_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.BLUE,\n      stroke: MATERIAL_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.RED,\n      stroke: MATERIAL_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.GRAY,\n      stroke: MATERIAL_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      MATERIAL_LIGHT_FILLS.ORANGE,\n      MATERIAL_LIGHT_FILLS.YELLOW,\n      MATERIAL_LIGHT_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _MaterialLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette3;\n  }\n};\nvar POLYCHROMA_DARK_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_DARK_STROKES = {\n  BLUE: \"#6698ff\",\n  PURPLE: \"#c0a3ff\",\n  MAGENTA: \"#fc8dfc\",\n  PINK: \"#ff82b1\",\n  RED: \"#ff9b70\",\n  ORANGE: \"#ffcf4e\",\n  YELLOW: \"#ffff58\",\n  GREEN: \"#58dd70\",\n  CYAN: \"#51e2c9\",\n  MODERATE_BLUE: \"#4fd7ff\"\n};\nvar POLYCHROMA_DARK_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_DARK_STROKE_GRAY = \"#eeeeee\";\nvar palette4 = {\n  fills: Object.values(POLYCHROMA_DARK_FILLS),\n  strokes: Object.values(POLYCHROMA_DARK_STROKES)\n};\nvar PolychromaDark = class _PolychromaDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_DARK_FILLS,\n      strokes: POLYCHROMA_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.BLUE,\n      stroke: POLYCHROMA_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.RED,\n      stroke: POLYCHROMA_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILL_GRAY,\n      stroke: POLYCHROMA_DARK_STROKE_GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      POLYCHROMA_DARK_FILLS.BLUE,\n      POLYCHROMA_DARK_FILLS.RED\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _PolychromaDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette4;\n  }\n};\nvar POLYCHROMA_LIGHT_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_LIGHT_STROKES = {\n  BLUE: \"#2346c9\",\n  PURPLE: \"#7653d4\",\n  MAGENTA: \"#a73da9\",\n  PINK: \"#c32d66\",\n  RED: \"#c84b1c\",\n  ORANGE: \"#c87f00\",\n  YELLOW: \"#c1b900\",\n  GREEN: \"#008c1c\",\n  CYAN: \"#00927c\",\n  MODERATE_BLUE: \"#0087bb\"\n};\nvar POLYCHROMA_LIGHT_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_LIGHT_STROKE_GRAY = \"#888888\";\nvar palette5 = {\n  fills: Object.values(POLYCHROMA_LIGHT_FILLS),\n  strokes: Object.values(POLYCHROMA_LIGHT_STROKES)\n};\nvar PolychromaLight = class _PolychromaLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_LIGHT_FILLS,\n      strokes: POLYCHROMA_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.BLUE,\n      stroke: POLYCHROMA_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.RED,\n      stroke: POLYCHROMA_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILL_GRAY,\n      stroke: POLYCHROMA_LIGHT_STROKE_GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      POLYCHROMA_LIGHT_FILLS.BLUE,\n      POLYCHROMA_LIGHT_FILLS.RED\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _PolychromaLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette5;\n  }\n};\nvar SHEETS_DARK_FILLS = {\n  BLUE: \"#4472C4\",\n  ORANGE: \"#ED7D31\",\n  GRAY: \"#A5A5A5\",\n  YELLOW: \"#FFC000\",\n  MODERATE_BLUE: \"#5B9BD5\",\n  GREEN: \"#70AD47\",\n  DARK_GRAY: \"#7B7B7B\",\n  DARK_BLUE: \"#264478\",\n  VERY_DARK_GRAY: \"#636363\",\n  DARK_YELLOW: \"#997300\"\n};\nvar SHEETS_DARK_STROKES = {\n  BLUE: \"#6899ee\",\n  ORANGE: \"#ffa55d\",\n  GRAY: \"#cdcdcd\",\n  YELLOW: \"#ffea53\",\n  MODERATE_BLUE: \"#82c3ff\",\n  GREEN: \"#96d56f\",\n  DARK_GRAY: \"#a1a1a1\",\n  DARK_BLUE: \"#47689f\",\n  VERY_DARK_GRAY: \"#878787\",\n  DARK_YELLOW: \"#c0993d\"\n};\nvar palette6 = {\n  fills: Object.values(SHEETS_DARK_FILLS),\n  strokes: Object.values(SHEETS_DARK_STROKES)\n};\nvar SheetsDark = class _SheetsDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues2({}, SHEETS_DARK_FILLS), { RED: SHEETS_DARK_FILLS.ORANGE }),\n      strokes: __spreadProps(__spreadValues2({}, SHEETS_DARK_STROKES), { RED: SHEETS_DARK_STROKES.ORANGE })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.BLUE,\n      stroke: SHEETS_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.ORANGE,\n      stroke: SHEETS_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.GRAY,\n      stroke: SHEETS_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      SHEETS_DARK_FILLS.ORANGE,\n      SHEETS_DARK_FILLS.YELLOW,\n      SHEETS_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _SheetsDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette6;\n  }\n};\nvar SHEETS_LIGHT_FILLS = {\n  BLUE: \"#5281d5\",\n  ORANGE: \"#ff8d44\",\n  GRAY: \"#b5b5b5\",\n  YELLOW: \"#ffd02f\",\n  MODERATE_BLUE: \"#6aabe6\",\n  GREEN: \"#7fbd57\",\n  DARK_GRAY: \"#8a8a8a\",\n  DARK_BLUE: \"#335287\",\n  VERY_DARK_GRAY: \"#717171\",\n  DARK_YELLOW: \"#a98220\"\n};\nvar SHEETS_LIGHT_STROKES = {\n  BLUE: \"#214d9b\",\n  ORANGE: \"#c25600\",\n  GRAY: \"#7f7f7f\",\n  YELLOW: \"#d59800\",\n  MODERATE_BLUE: \"#3575ac\",\n  GREEN: \"#4b861a\",\n  DARK_GRAY: \"#575757\",\n  DARK_BLUE: \"#062253\",\n  VERY_DARK_GRAY: \"#414141\",\n  DARK_YELLOW: \"#734f00\"\n};\nvar palette7 = {\n  fills: Object.values(SHEETS_LIGHT_FILLS),\n  strokes: Object.values(SHEETS_LIGHT_STROKES)\n};\nvar SheetsLight = class _SheetsLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues2({}, SHEETS_LIGHT_FILLS), { RED: SHEETS_LIGHT_FILLS.ORANGE }),\n      strokes: __spreadProps(__spreadValues2({}, SHEETS_LIGHT_STROKES), { RED: SHEETS_LIGHT_STROKES.ORANGE })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.BLUE,\n      stroke: SHEETS_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.ORANGE,\n      stroke: SHEETS_LIGHT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.GRAY,\n      stroke: SHEETS_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      SHEETS_LIGHT_FILLS.ORANGE,\n      SHEETS_LIGHT_FILLS.YELLOW,\n      SHEETS_LIGHT_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _SheetsLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette7;\n  }\n};\nvar VIVID_DARK_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_DARK_STROKES = {\n  BLUE: \"#67b7ff\",\n  ORANGE: \"#ffc24d\",\n  GREEN: \"#5cc86f\",\n  CYAN: \"#54ebff\",\n  VIOLET: \"#c18aff\",\n  YELLOW: \"#fff653\",\n  GRAY: \"#aeaeae\",\n  MAGENTA: \"#f078d4\",\n  BROWN: \"#ba8438\",\n  RED: \"#ff726e\"\n};\nvar palette8 = {\n  fills: Object.values(VIVID_DARK_FILLS),\n  strokes: Object.values(VIVID_DARK_STROKES)\n};\nvar VividDark = class _VividDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_DARK_FILLS,\n      strokes: VIVID_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_DARK_FILLS.BLUE,\n      stroke: VIVID_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_DARK_FILLS.ORANGE,\n      stroke: VIVID_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_DARK_FILLS.GRAY,\n      stroke: VIVID_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _VividDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _VividDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _VividDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      VIVID_DARK_FILLS.ORANGE,\n      VIVID_DARK_FILLS.YELLOW,\n      VIVID_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _VividDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette8;\n  }\n};\nvar VIVID_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_STROKES = {\n  BLUE: \"#0f68c0\",\n  ORANGE: \"#d47100\",\n  GREEN: \"#007922\",\n  CYAN: \"#009ac2\",\n  VIOLET: \"#bca400\",\n  YELLOW: \"#753cac\",\n  GRAY: \"#646464\",\n  MAGENTA: \"#9b2685\",\n  BROWN: \"#6c3b00\",\n  RED: \"#cb0021\"\n};\nvar palette9 = {\n  fills: Object.values(VIVID_FILLS),\n  strokes: Object.values(VIVID_STROKES)\n};\nvar VividLight = class _VividLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_FILLS,\n      strokes: VIVID_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_FILLS.BLUE,\n      stroke: VIVID_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_FILLS.ORANGE,\n      stroke: VIVID_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_FILLS.GRAY,\n      stroke: VIVID_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      VIVID_FILLS.ORANGE,\n      VIVID_FILLS.YELLOW,\n      VIVID_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _VividLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette9;\n  }\n};\nvar lightTheme = () => new ChartTheme();\nvar darkTheme = () => new DarkTheme();\nvar lightThemes = {\n  undefined: lightTheme,\n  null: lightTheme,\n  \"ag-default\": lightTheme,\n  \"ag-sheets\": () => new SheetsLight(),\n  \"ag-polychroma\": () => new PolychromaLight(),\n  \"ag-vivid\": () => new VividLight(),\n  \"ag-material\": () => new MaterialLight()\n};\nvar darkThemes = {\n  undefined: darkTheme,\n  null: darkTheme,\n  \"ag-default-dark\": darkTheme,\n  \"ag-sheets-dark\": () => new SheetsDark(),\n  \"ag-polychroma-dark\": () => new PolychromaDark(),\n  \"ag-vivid-dark\": () => new VividDark(),\n  \"ag-material-dark\": () => new MaterialDark()\n};\nvar themes = __spreadValues2(__spreadValues2({}, darkThemes), lightThemes);\nfunction validateChartThemeObject(unknownObject) {\n  if (unknownObject === null) {\n    return;\n  }\n  let valid = true;\n  const { baseTheme, palette: palette10, overrides } = unknownObject;\n  if (baseTheme !== void 0 && typeof baseTheme !== \"string\" && typeof baseTheme !== \"object\") {\n    Logger.warn(`invalid theme.baseTheme type ${typeof baseTheme}, expected (string | object).`);\n    valid = false;\n  }\n  if (overrides !== void 0 && typeof overrides !== \"object\") {\n    Logger.warn(`invalid theme.overrides type ${typeof overrides}, expected object.`);\n    valid = false;\n  }\n  if (typeof palette10 === \"object\") {\n    if (palette10 !== null) {\n      const { fills, strokes } = palette10;\n      if (fills !== void 0 && !Array.isArray(fills)) {\n        Logger.warn(`theme.overrides.fills must be undefined or an array`);\n        valid = false;\n      }\n      if (strokes !== void 0 && !Array.isArray(strokes)) {\n        Logger.warn(`theme.overrides.strokes must be undefined or an array`);\n        valid = false;\n      }\n    }\n  } else if (palette10 !== void 0) {\n    Logger.warn(`invalid theme.palette type ${typeof palette10}, expected object.`);\n    valid = false;\n  }\n  if (valid) {\n    return unknownObject;\n  }\n}\nfunction validateChartTheme(value) {\n  if (value === void 0 || typeof value === \"string\" || value instanceof ChartTheme) {\n    return value;\n  }\n  if (typeof value === \"object\") {\n    return validateChartThemeObject(value);\n  }\n  Logger.warn(`invalid theme value type ${typeof value}, expected object or string.`);\n}\nfunction getChartTheme(unvalidatedValue) {\n  let value = validateChartTheme(unvalidatedValue);\n  if (value instanceof ChartTheme) {\n    return value;\n  }\n  if (value == null || typeof value === \"string\") {\n    const stockTheme = themes[value];\n    if (stockTheme) {\n      return stockTheme();\n    }\n    Logger.warnOnce(`the theme [${value}] is invalid, using [ag-default] instead.`);\n    return lightTheme();\n  }\n  const overrides = [];\n  let palette10;\n  while (typeof value === \"object\") {\n    overrides.push(value.overrides);\n    palette10 != null ? palette10 : palette10 = value.palette;\n    value = value.baseTheme;\n  }\n  const flattenedTheme = {\n    baseTheme: value,\n    overrides: mergeDefaults(...overrides),\n    palette: palette10\n  };\n  const baseTheme = flattenedTheme.baseTheme ? getChartTheme(flattenedTheme.baseTheme) : lightTheme();\n  return new baseTheme.constructor(flattenedTheme);\n}\nfunction extent(values) {\n  if (values.length === 0) {\n    return;\n  }\n  let min = Infinity;\n  let max = -Infinity;\n  for (let n of values) {\n    if (n instanceof Date) {\n      n = n.getTime();\n    }\n    if (typeof n !== \"number\") {\n      continue;\n    }\n    if (n < min) {\n      min = n;\n    }\n    if (n > max) {\n      max = n;\n    }\n  }\n  const result = [min, max];\n  if (result.every(isFinite)) {\n    return result;\n  }\n}\nfunction normalisedExtent(d, min, max) {\n  return normalisedExtentWithMetadata(d, min, max).extent;\n}\nfunction normalisedExtentWithMetadata(d, min, max) {\n  var _a;\n  let clipped = false;\n  if (d.length > 2) {\n    d = (_a = extent(d)) != null ? _a : [NaN, NaN];\n  }\n  if (!isNaN(min)) {\n    clipped || (clipped = min > d[0]);\n    d = [min, d[1]];\n  }\n  if (!isNaN(max)) {\n    clipped || (clipped = max < d[1]);\n    d = [d[0], max];\n  }\n  if (d[0] > d[1]) {\n    d = [];\n  }\n  return { extent: d, clipped };\n}\nfunction arraysEqual(a, b) {\n  if (a == null || b == null || a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (Array.isArray(a[i]) && Array.isArray(b[i])) {\n      if (!arraysEqual(a[i], b[i])) {\n        return false;\n      }\n    } else if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toArray(value) {\n  if (typeof value === \"undefined\") {\n    return [];\n  }\n  return Array.isArray(value) ? value : [value];\n}\nfunction unique(array) {\n  return Array.from(new Set(array));\n}\nfunction groupBy(array, iteratee) {\n  return array.reduce((result, item) => {\n    var _a;\n    const groupKey = iteratee(item);\n    (_a = result[groupKey]) != null ? _a : result[groupKey] = [];\n    result[groupKey].push(item);\n    return result;\n  }, {});\n}\nfunction circularSliceArray(data, size, offset4 = 0) {\n  if (data.length === 0) {\n    return [];\n  }\n  const result = [];\n  for (let i = 0; i < size; i++) {\n    result.push(data.at((i + offset4) % data.length));\n  }\n  return result;\n}\nfunction bifurcate(isLeft, array) {\n  return array.reduce(\n    ([left, right], value) => isLeft(value) ? [[...left, value], right] : [left, [...right, value]],\n    [[], []]\n  );\n}\nfunction* mapIterable(src, predicate) {\n  for (const e of src) {\n    yield predicate(e);\n  }\n}\nfunction constStringsIncludes(array, value) {\n  const casting = array;\n  return casting.includes(value);\n}\nfunction isInStringUnion(unionValues, value) {\n  return constStringsIncludes(unionValues, value);\n}\nfunction allInStringUnion(unionValues, values) {\n  return !values.some((v) => !isInStringUnion(unionValues, v));\n}\nvar verifiedGlobals = {};\nvar injectCache = /* @__PURE__ */ new WeakMap();\nif (typeof window !== \"undefined\") {\n  verifiedGlobals.window = window;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.window = global.window;\n}\nif (typeof document !== \"undefined\") {\n  verifiedGlobals.document = document;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.document = global.document;\n}\nfunction getDocument(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.document) == null ? void 0 : _a[propertyName] : verifiedGlobals.document;\n}\nfunction getWindow(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.window) == null ? void 0 : _a[propertyName] : verifiedGlobals.window;\n}\nfunction createElement(tagName, className, style) {\n  const element2 = getDocument().createElement(tagName);\n  if (typeof className === \"object\") {\n    style = className;\n    className = void 0;\n  }\n  if (className) {\n    element2.classList.add(className);\n  }\n  if (style) {\n    Object.assign(element2.style, style);\n  }\n  return element2;\n}\nfunction downloadUrl(dataUrl, fileName) {\n  const { body } = getDocument();\n  const element2 = createElement(\"a\", { display: \"none\" });\n  element2.href = dataUrl;\n  element2.download = fileName;\n  body.appendChild(element2);\n  element2.click();\n  setTimeout(() => body.removeChild(element2));\n}\nfunction injectStyle(cssStyle, uniqueId) {\n  var _a, _b;\n  const document2 = getDocument();\n  if (uniqueId && ((_a = injectCache.get(document2)) == null ? void 0 : _a.has(uniqueId)))\n    return;\n  const styleElement = createElement(\"style\");\n  styleElement.innerHTML = cssStyle;\n  document2.head.insertBefore(styleElement, document2.head.querySelector(\"style\"));\n  if (uniqueId && !injectCache.has(document2)) {\n    injectCache.set(document2, /* @__PURE__ */ new Set([uniqueId]));\n  } else if (uniqueId) {\n    (_b = injectCache.get(document2)) == null ? void 0 : _b.add(uniqueId);\n  }\n}\nfunction setDocument(document2) {\n  verifiedGlobals.document = document2;\n}\nfunction setWindow(window2) {\n  verifiedGlobals.window = window2;\n}\nvar LONG_TIME_PERIOD_THRESHOLD = 2e3;\nvar timeOfLastLog = Date.now();\nvar logTimeGap = () => {\n  const timeSinceLastLog = Date.now() - timeOfLastLog;\n  if (timeSinceLastLog > LONG_TIME_PERIOD_THRESHOLD) {\n    const prettyDuration = (Math.floor(timeSinceLastLog / 100) / 10).toFixed(1);\n    Logger.log(`**** ${prettyDuration}s since last log message ****`);\n  }\n  timeOfLastLog = Date.now();\n};\nvar Debug = {\n  create(...debugSelectors) {\n    const resultFn = (...logContent) => {\n      if (Debug.check(...debugSelectors)) {\n        if (typeof logContent[0] === \"function\") {\n          logContent = toArray(logContent[0]());\n        }\n        logTimeGap();\n        Logger.log(...logContent);\n      }\n    };\n    return Object.assign(resultFn, { check: () => Debug.check(...debugSelectors) });\n  },\n  check(...debugSelectors) {\n    if (debugSelectors.length === 0) {\n      debugSelectors.push(true);\n    }\n    const chartDebug = toArray(getWindow(\"agChartsDebug\"));\n    return chartDebug.some((selector) => debugSelectors.includes(selector));\n  }\n};\nvar unthemedSeries = /* @__PURE__ */ new Set([\"map-shape-background\", \"map-line-background\"]);\nvar ChartOptions = class {\n  constructor(userOptions, specialOverrides) {\n    var _b, _c, _d;\n    const cloneOptions = { shallow: [\"data\"] };\n    const options = deepClone(userOptions, cloneOptions);\n    const chartType2 = this.optionsType(options);\n    this.sanityCheckAndCleanup(options);\n    this.userOptions = options;\n    this.activeTheme = getChartTheme(options.theme);\n    this.defaultAxes = this.getDefaultAxes(options);\n    this.specialOverrides = this.specialOverridesDefaults(__spreadValues2({}, specialOverrides));\n    const _a = this.getSeriesThemeConfig(chartType2), {\n      axes: axesThemes = {},\n      annotations: annotationsThemes = {},\n      series: _\n    } = _a, themeDefaults = __objRest(_a, [\n      \"axes\",\n      \"annotations\",\n      \"series\"\n    ]);\n    this.processedOptions = deepClone(\n      mergeDefaults(this.userOptions, themeDefaults, this.defaultAxes),\n      cloneOptions\n    );\n    this.processAxesOptions(this.processedOptions, axesThemes);\n    this.processSeriesOptions(this.processedOptions);\n    this.processMiniChartSeriesOptions(this.processedOptions);\n    this.processAnnotationsOptions(this.processedOptions, annotationsThemes);\n    if ((isAgCartesianChartOptions(this.processedOptions) || isAgPolarChartOptionsWithSeriesBasedLegend(this.processedOptions)) && ((_b = this.processedOptions.legend) == null ? void 0 : _b.enabled) == null) {\n      (_d = (_c = this.processedOptions).legend) != null ? _d : _c.legend = {};\n      this.processedOptions.legend.enabled = this.processedOptions.series.length > 1;\n    }\n    this.enableConfiguredOptions(this.processedOptions);\n    if (!enterpriseModule.isEnterprise) {\n      removeUsedEnterpriseOptions(this.processedOptions);\n    }\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.processedOptions) != null ? _a : {};\n  }\n  diffOptions(options) {\n    return jsonDiff(options, this.processedOptions);\n  }\n  getSeriesThemeConfig(seriesType) {\n    var _a, _b;\n    return deepClone((_b = (_a = this.activeTheme) == null ? void 0 : _a.config[seriesType]) != null ? _b : {});\n  }\n  getDefaultAxes(options) {\n    const optionsType2 = this.optionsType(options);\n    const axesDefaults = seriesRegistry.cloneDefaultAxes(optionsType2);\n    if (seriesRegistry.isDefaultAxisSwapNeeded(options)) {\n      this.swapAxesPosition(axesDefaults);\n    }\n    return axesDefaults;\n  }\n  optionsType(options) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = options.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n  }\n  sanityCheckAndCleanup(options) {\n    var _a;\n    this.deprecationWarnings(options);\n    this.axesTypeIntegrity(options);\n    this.seriesTypeIntegrity(options);\n    this.soloSeriesIntegrity(options);\n    this.removeDisabledOptions(options);\n    this.removeLeftoverSymbols(options);\n    if (((_a = options.series) == null ? void 0 : _a.some((s) => s.type === \"bullet\")) && options.sync != null && options.sync.enabled !== false) {\n      Logger.warnOnce(\"bullet series cannot be synced, disabling synchronization.\");\n      delete options.sync;\n    }\n  }\n  swapAxesPosition(options) {\n    var _a;\n    if (isAgCartesianChartOptions(options)) {\n      const [axis0, axis1] = (_a = options.axes) != null ? _a : [];\n      options.axes = [\n        __spreadProps(__spreadValues2({}, axis0), { position: axis1.position }),\n        __spreadProps(__spreadValues2({}, axis1), { position: axis0.position })\n      ];\n    }\n  }\n  processAxesOptions(options, axesThemes) {\n    if (!(\"axes\" in options))\n      return;\n    options.axes = options.axes.map((axis) => {\n      var _a, _c, _d;\n      const _b = mergeDefaults(\n        (_a = axesThemes[axis.type]) == null ? void 0 : _a[axis.position],\n        axesThemes[axis.type]\n      ), { crossLines: crossLinesTheme } = _b, axisTheme = __objRest(_b, [\"crossLines\"]);\n      if (axis.crossLines) {\n        axis.crossLines = mergeArrayDefaults(axis.crossLines, crossLinesTheme);\n      }\n      const gridLineStyle = (_c = axisTheme.gridLine) == null ? void 0 : _c.style;\n      if (((_d = axis.gridLine) == null ? void 0 : _d.style) && (gridLineStyle == null ? void 0 : gridLineStyle.length)) {\n        axis.gridLine.style = axis.gridLine.style.map(\n          (style, index) => style.stroke != null || style.lineDash != null ? mergeDefaults(style, gridLineStyle.at(index % gridLineStyle.length)) : style\n        );\n      }\n      const _e = mergeDefaults(axis, axisTheme), { top: _1, right: _2, bottom: _3, left: _4 } = _e, axisOptions = __objRest(_e, [\"top\", \"right\", \"bottom\", \"left\"]);\n      return axisOptions;\n    });\n  }\n  processSeriesOptions(options) {\n    const defaultSeriesType = this.getDefaultSeriesType(options);\n    const defaultTooltipPosition = this.getTooltipPositionDefaults(options);\n    const userPalette = Boolean(isObject(options.theme) && options.theme.palette);\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette\n    };\n    const processedSeries = options.series.map((series) => {\n      var _a, _b;\n      (_a = series.type) != null ? _a : series.type = defaultSeriesType;\n      const _c = (_b = this.getSeriesThemeConfig(series.type).series) != null ? _b : {}, { innerLabels: innerLabelsTheme } = _c, seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesPaletteOptions = unthemedSeries.has(series.type) ? { colourIndex: 0, userPalette } : paletteOptions;\n      const palette10 = this.getSeriesPalette(series.type, seriesPaletteOptions);\n      const seriesOptions = mergeDefaults(\n        this.getSeriesGroupingOptions(series),\n        series,\n        defaultTooltipPosition,\n        seriesTheme,\n        palette10\n      );\n      if (seriesOptions.innerLabels) {\n        seriesOptions.innerLabels = mergeArrayDefaults(seriesOptions.innerLabels, innerLabelsTheme);\n      }\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.series = this.setSeriesGroupingOptions(processedSeries);\n  }\n  processMiniChartSeriesOptions(options) {\n    var _a, _b;\n    let miniChartSeries = (_b = (_a = options.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series;\n    if (miniChartSeries == null)\n      return;\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette: Boolean(isObject(options.theme) && options.theme.palette)\n    };\n    miniChartSeries = miniChartSeries.map((series) => {\n      var _a2, _b2;\n      (_a2 = series.type) != null ? _a2 : series.type = \"line\";\n      const _c = (_b2 = this.getSeriesThemeConfig(series.type).series) != null ? _b2 : {}, { innerLabels: _ } = _c, seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesOptions = mergeDefaults(\n        this.getSeriesGroupingOptions(series),\n        series,\n        seriesTheme,\n        this.getSeriesPalette(series.type, paletteOptions)\n      );\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.navigator.miniChart.series = this.setSeriesGroupingOptions(miniChartSeries);\n  }\n  processAnnotationsOptions(options, _annotationsThemes) {\n    if (!isAgCartesianChartOptions(options))\n      return;\n  }\n  getSeriesPalette(seriesType, options) {\n    const paletteFactory = seriesRegistry.getPaletteFactory(seriesType);\n    const { colourIndex: colourOffset, userPalette } = options;\n    const { fills = [], strokes = [] } = this.activeTheme.palette;\n    return paletteFactory == null ? void 0 : paletteFactory({\n      userPalette,\n      colorsCount: Math.max(fills.length, strokes.length),\n      themeTemplateParameters: this.activeTheme.getTemplateParameters(),\n      takeColors(count) {\n        options.colourIndex += count;\n        return {\n          fills: circularSliceArray(fills, count, colourOffset),\n          strokes: circularSliceArray(strokes, count, colourOffset)\n        };\n      }\n    });\n  }\n  getSeriesGroupingOptions(series) {\n    const groupable = seriesRegistry.isGroupable(series.type);\n    const stackable = seriesRegistry.isStackable(series.type);\n    const stackedByDefault = seriesRegistry.isStackedByDefault(series.type);\n    if (series.grouped && !groupable) {\n      Logger.warnOnce(`unsupported grouping of series type \"${series.type}\".`);\n    }\n    if ((series.stacked || series.stackGroup) && !stackable) {\n      Logger.warnOnce(`unsupported stacking of series type \"${series.type}\".`);\n    }\n    let { grouped, stacked } = series;\n    stacked != null ? stacked : stacked = (stackedByDefault || series.stackGroup != null) && !(groupable && grouped);\n    grouped != null ? grouped : grouped = true;\n    return {\n      stacked: stackable && stacked,\n      grouped: groupable && grouped && !(stackable && stacked)\n    };\n  }\n  setSeriesGroupingOptions(allSeries) {\n    const seriesGroups = this.getSeriesGrouping(allSeries);\n    Debug.create(true, \"opts\")(\"setSeriesGroupingOptions() - series grouping: \", seriesGroups);\n    const groupIdx = {};\n    const groupCount2 = seriesGroups.reduce((countMap, seriesGroup) => {\n      var _a, _b;\n      if (seriesGroup.groupType === \"default\") {\n        return countMap;\n      }\n      (_b = countMap[_a = seriesGroup.seriesType]) != null ? _b : countMap[_a] = 0;\n      countMap[seriesGroup.seriesType] += seriesGroup.groupType === \"stack\" ? 1 : seriesGroup.series.length;\n      return countMap;\n    }, {});\n    return seriesGroups.flatMap((seriesGroup) => {\n      var _a, _b;\n      (_b = groupIdx[_a = seriesGroup.seriesType]) != null ? _b : groupIdx[_a] = 0;\n      switch (seriesGroup.groupType) {\n        case \"stack\":\n          const groupIndex = groupIdx[seriesGroup.seriesType]++;\n          return seriesGroup.series.map(\n            (series, stackIndex) => Object.assign(series, {\n              seriesGrouping: {\n                groupIndex,\n                groupCount: groupCount2[seriesGroup.seriesType],\n                stackIndex,\n                stackCount: seriesGroup.series.length\n              }\n            })\n          );\n        case \"group\":\n          return seriesGroup.series.map(\n            (series) => Object.assign(series, {\n              seriesGrouping: {\n                groupIndex: groupIdx[seriesGroup.seriesType]++,\n                groupCount: groupCount2[seriesGroup.seriesType],\n                stackIndex: 0,\n                stackCount: 0\n              }\n            })\n          );\n      }\n      return seriesGroup.series;\n    }).map((_a) => {\n      var _b = _a, { stacked: _, grouped: __ } = _b, seriesOptions = __objRest(_b, [\"stacked\", \"grouped\"]);\n      return seriesOptions;\n    });\n  }\n  getSeriesGroupId(series) {\n    var _a;\n    return [series.type, series.xKey, series.stacked ? (_a = series.stackGroup) != null ? _a : \"stacked\" : \"grouped\"].filter(Boolean).join(\"-\");\n  }\n  getSeriesGrouping(allSeries) {\n    const groupMap = /* @__PURE__ */ new Map();\n    return allSeries.reduce((result, series) => {\n      const seriesType = series.type;\n      if (!series.stacked && !series.grouped) {\n        result.push({ groupType: \"default\", seriesType, series: [series] });\n      } else {\n        const groupId = this.getSeriesGroupId(series);\n        if (!groupMap.has(groupId)) {\n          const groupType = series.stacked ? \"stack\" : \"group\";\n          const record = { groupType, seriesType, series: [] };\n          groupMap.set(groupId, record);\n          result.push(record);\n        }\n        groupMap.get(groupId).series.push(series);\n      }\n      return result;\n    }, []);\n  }\n  getDefaultSeriesType(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return \"line\";\n    } else if (isAgPolarChartOptions(options)) {\n      return \"pie\";\n    } else if (isAgHierarchyChartOptions(options)) {\n      return \"treemap\";\n    } else if (isAgTopologyChartOptions(options)) {\n      return \"map-shape\";\n    }\n    throw new Error(\"Invalid chart options type detected.\");\n  }\n  getTooltipPositionDefaults(options) {\n    var _a;\n    const position = (_a = options.tooltip) == null ? void 0 : _a.position;\n    if (!isPlainObject(position)) {\n      return;\n    }\n    const { type, xOffset, yOffset } = position;\n    const result = {};\n    if (isString(type) && isEnumValue(AgTooltipPositionType, type)) {\n      result.type = type;\n    }\n    if (isFiniteNumber(xOffset)) {\n      result.xOffset = xOffset;\n    }\n    if (isFiniteNumber(yOffset)) {\n      result.yOffset = yOffset;\n    }\n    return { tooltip: { position: result } };\n  }\n  deprecationWarnings(options) {\n    const deprecatedArrayProps = { yKeys: \"yKey\", yNames: \"yName\" };\n    Object.entries(deprecatedArrayProps).forEach(([oldProp, newProp]) => {\n      var _a;\n      if ((_a = options.series) == null ? void 0 : _a.some((s) => s[oldProp] != null)) {\n        Logger.warnOnce(\n          `Property [series.${oldProp}] is deprecated, please use [series.${newProp}] and multiple series instead.`\n        );\n      }\n    });\n  }\n  axesTypeIntegrity(options) {\n    var _a;\n    if (\"axes\" in options) {\n      const axes = (_a = options.axes) != null ? _a : [];\n      for (const { type } of axes) {\n        if (!isAxisOptionType(type)) {\n          delete options.axes;\n          const expectedTypes = Array.from(axisRegistry.publicKeys()).join(\", \");\n          Logger.warnOnce(`unknown axis type: ${type}; expected one of: ${expectedTypes}`);\n        }\n      }\n    }\n  }\n  seriesTypeIntegrity(options) {\n    var _a;\n    const series = (_a = options.series) != null ? _a : [];\n    options.series = series.filter(({ type }) => {\n      if (type == null || isSeriesOptionType(type) || isEnterpriseSeriesType(type)) {\n        return true;\n      }\n      Logger.warnOnce(\n        `unknown series type: ${type}; expected one of: ${publicChartTypes.seriesTypes.join(\", \")}`\n      );\n    });\n  }\n  soloSeriesIntegrity(options) {\n    const allSeries = options.series;\n    if (allSeries && allSeries.length > 1 && allSeries.some((series) => seriesRegistry.isSolo(series.type))) {\n      const mainSeriesType = this.optionsType(options);\n      if (seriesRegistry.isSolo(mainSeriesType)) {\n        Logger.warn(\n          `series[0] of type '${mainSeriesType}' is incompatible with other series types. Only processing series[0]`\n        );\n        options.series = allSeries.slice(0, 1);\n      } else {\n        const { solo, nonSolo } = groupBy(\n          allSeries,\n          (s) => seriesRegistry.isSolo(s.type) ? \"solo\" : \"nonSolo\"\n        );\n        const rejects = unique(solo.map((s) => s.type)).join(\", \");\n        Logger.warn(`Unable to mix these series types with the lead series type: ${rejects}`);\n        options.series = nonSolo;\n      }\n    }\n  }\n  enableConfiguredOptions(options) {\n    jsonWalk(\n      this.userOptions,\n      (visitingUserOpts, visitingMergedOpts) => {\n        if (visitingMergedOpts && \"enabled\" in visitingMergedOpts && !visitingMergedOpts._enabledFromTheme && visitingUserOpts.enabled == null) {\n          visitingMergedOpts.enabled = true;\n        }\n      },\n      { skip: [\"data\", \"theme\"] },\n      options\n    );\n    jsonWalk(\n      options,\n      (visitingMergedOpts) => {\n        if (visitingMergedOpts._enabledFromTheme != null) {\n          delete visitingMergedOpts._enabledFromTheme;\n        }\n      },\n      { skip: [\"data\", \"theme\"] }\n    );\n  }\n  removeDisabledOptions(options) {\n    jsonWalk(\n      options,\n      (optionsNode) => {\n        if (\"enabled\" in optionsNode && optionsNode.enabled === false) {\n          Object.keys(optionsNode).forEach((key) => {\n            if (key === \"enabled\")\n              return;\n            delete optionsNode[key];\n          });\n        }\n      },\n      { skip: [\"data\", \"theme\"] }\n    );\n  }\n  removeLeftoverSymbols(options) {\n    jsonWalk(\n      options,\n      (optionsNode) => {\n        if (!optionsNode || !isObject(optionsNode))\n          return;\n        for (const [key, value] of Object.entries(optionsNode)) {\n          if (isSymbol(value)) {\n            delete optionsNode[key];\n          }\n        }\n      },\n      { skip: [\"data\"] }\n    );\n  }\n  specialOverridesDefaults(options) {\n    if (options.window != null) {\n      setWindow(options.window);\n    } else if (typeof window !== \"undefined\") {\n      options.window = window;\n    } else if (typeof global !== \"undefined\") {\n      options.window = global.window;\n    }\n    if (options.document != null) {\n      setDocument(options.document);\n    } else if (typeof document !== \"undefined\") {\n      options.document = document;\n    } else if (typeof global !== \"undefined\") {\n      options.document = global.document;\n    }\n    if (options.window == null) {\n      throw new Error(\"AG Charts - unable to resolve global window\");\n    }\n    if (options.document == null) {\n      throw new Error(\"AG Charts - unable to resolve global document\");\n    }\n    return options;\n  }\n};\nfunction createDeprecationWarning() {\n  return (key, message) => {\n    const msg = [`Property [${key}] is deprecated.`, message].filter(Boolean).join(\" \");\n    Logger.warnOnce(msg);\n  };\n}\nfunction Deprecated(message, opts) {\n  const warnDeprecated = createDeprecationWarning();\n  const def = opts == null ? void 0 : opts.default;\n  return addTransformToInstanceProperty((_, key, value) => {\n    if (value !== def) {\n      warnDeprecated(key.toString(), message);\n    }\n    return value;\n  });\n}\nfunction DeprecatedAndRenamedTo(newPropName, mapValue) {\n  const warnDeprecated = createDeprecationWarning();\n  return addTransformToInstanceProperty(\n    (target, key, value) => {\n      if (value !== target[newPropName]) {\n        warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n        setPath(target, newPropName, mapValue ? mapValue(value) : value);\n      }\n      return BREAK_TRANSFORM_CHAIN;\n    },\n    (target, key) => {\n      warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n      return getPath(target, newPropName);\n    }\n  );\n}\nvar fromToMotion_exports = {};\n__export(fromToMotion_exports, {\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  fromToMotion: () => fromToMotion,\n  staticFromToMotion: () => staticFromToMotion\n});\nvar ID_MAP = /* @__PURE__ */ new Map();\nfunction resetIds() {\n  ID_MAP.clear();\n}\nfunction createId(instance) {\n  var _a;\n  const constructor = instance.constructor;\n  const className = Object.hasOwn(constructor, \"className\") ? constructor.className : constructor.name;\n  if (!className) {\n    throw new Error(`The ${constructor} is missing the 'className' property.`);\n  }\n  const nextId = ((_a = ID_MAP.get(className)) != null ? _a : 0) + 1;\n  ID_MAP.set(className, nextId);\n  return `${className}-${nextId}`;\n}\nvar interpolate = \"$interpolate\";\nvar isInterpolating = (x) => x[interpolate] != null;\nfunction clamp(min, value, max) {\n  return Math.min(max, Math.max(min, value));\n}\nfunction clampArray(value, array) {\n  const [min, max] = findMinMax(array);\n  return clamp(min, value, max);\n}\nfunction findMinMax(array) {\n  return array.length ? [Math.min(...array), Math.max(...array)] : [];\n}\nfunction findRangeExtent(array) {\n  const [min, max] = findMinMax(array);\n  return max - min;\n}\nfunction isEqual(a, b, epsilon2 = 1e-10) {\n  return Math.abs(a - b) < epsilon2;\n}\nfunction isNegative(value) {\n  return Math.sign(value) === -1 || Object.is(value, -0);\n}\nfunction round(value, decimals = 2) {\n  const base = __pow(10, decimals);\n  return Math.round(value * base) / base;\n}\nfunction toFixed(value, fractionOrSignificantDigits = 2) {\n  const power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n  if (power >= 0 || !isFinite(power)) {\n    return value.toFixed(fractionOrSignificantDigits);\n  }\n  return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits);\n}\nfunction mod(n, m) {\n  return Math.floor(n % m + (n < 0 ? m : 0));\n}\nfunction countFractionDigits(value, maximumFractionDigits = 10) {\n  const [, decimal = \"\"] = (Math.abs(value) % 1).toLocaleString(\"en-GB\", { minimumFractionDigits: 0, maximumFractionDigits }).split(\".\");\n  return decimal.length;\n}\nfunction nearestSquared(x, y, objects, maxDistanceSquared = Infinity) {\n  const result = { nearest: void 0, distanceSquared: maxDistanceSquared };\n  for (const obj of objects) {\n    const thisDistance = obj.distanceSquared(x, y);\n    if (thisDistance === 0) {\n      return { nearest: obj, distanceSquared: 0 };\n    } else if (thisDistance < result.distanceSquared) {\n      result.nearest = obj;\n      result.distanceSquared = thisDistance;\n    }\n  }\n  return result;\n}\nfunction nearestSquaredInContainer(x, y, container, maxDistanceSquared = Infinity) {\n  const { x: tx, y: ty } = container.transformPoint(x, y);\n  const result = { nearest: void 0, distanceSquared: maxDistanceSquared };\n  for (const child of container.children) {\n    const { nearest, distanceSquared: distanceSquared2 } = child.nearestSquared(tx, ty, result.distanceSquared);\n    if (distanceSquared2 === 0) {\n      return { nearest, distanceSquared: distanceSquared2 };\n    } else if (distanceSquared2 < result.distanceSquared) {\n      result.nearest = nearest;\n      result.distanceSquared = distanceSquared2;\n    }\n  }\n  return result;\n}\nvar _BBox = class _BBox2 {\n  constructor(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  clone() {\n    const { x, y, width, height } = this;\n    return new _BBox2(x, y, width, height);\n  }\n  equals(other) {\n    return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\n  }\n  containsPoint(x, y) {\n    return x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\n  }\n  collidesBBox(other) {\n    return this.x < other.x + other.width && this.x + this.width > other.x && this.y < other.y + other.height && this.y + this.height > other.y;\n  }\n  computeCenter() {\n    return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\n  }\n  isFinite() {\n    return Number.isFinite(this.x) && Number.isFinite(this.y) && Number.isFinite(this.width) && Number.isFinite(this.height);\n  }\n  distanceSquared(x, y) {\n    if (this.containsPoint(x, y)) {\n      return 0;\n    }\n    const dx = x - clamp(this.x, x, this.x + this.width);\n    const dy = y - clamp(this.y, y, this.y + this.height);\n    return dx * dx + dy * dy;\n  }\n  static nearestBox(x, y, boxes) {\n    return nearestSquared(x, y, boxes);\n  }\n  clip(clipRect) {\n    if (clipRect === void 0)\n      return this;\n    const x1 = Math.max(this.x, clipRect.x);\n    const y1 = Math.max(this.y, clipRect.y);\n    const x2 = Math.min(this.x + this.width, clipRect.x + clipRect.width);\n    const y2 = Math.min(this.y + this.height, clipRect.y + clipRect.height);\n    this.x = x1;\n    this.y = y1;\n    this.width = Math.max(0, x2 - x1);\n    this.height = Math.max(0, y2 - y1);\n    return this;\n  }\n  shrink(amount, position) {\n    const apply = (pos, amt) => {\n      switch (pos) {\n        case \"top\":\n          this.y += amt;\n        case \"bottom\":\n          this.height -= amt;\n          break;\n        case \"left\":\n          this.x += amt;\n        case \"right\":\n          this.width -= amt;\n          break;\n        case \"vertical\":\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        case \"horizontal\":\n          this.x += amt;\n          this.width -= amt * 2;\n          break;\n        case void 0:\n          this.x += amt;\n          this.width -= amt * 2;\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        default:\n      }\n    };\n    if (typeof amount === \"number\") {\n      apply(position, amount);\n    } else if (typeof amount === \"object\") {\n      Object.entries(amount).forEach(([pos, amt]) => apply(pos, amt));\n    }\n    return this;\n  }\n  grow(amount, position) {\n    if (typeof amount === \"number\") {\n      this.shrink(-amount, position);\n    } else {\n      const paddingCopy = __spreadValues2({}, amount);\n      for (const key in paddingCopy) {\n        paddingCopy[key] *= -1;\n      }\n      this.shrink(paddingCopy);\n    }\n    return this;\n  }\n  combine(other) {\n    const { x, y, width, height } = this;\n    this.x = Math.min(x, other.x);\n    this.y = Math.min(y, other.y);\n    this.width = Math.max(x + width, other.x + other.width) - this.x;\n    this.height = Math.max(y + height, other.y + other.height) - this.y;\n  }\n  static merge(boxes) {\n    let left = Infinity;\n    let top = Infinity;\n    let right = -Infinity;\n    let bottom = -Infinity;\n    for (const box of boxes) {\n      if (box.x < left) {\n        left = box.x;\n      }\n      if (box.y < top) {\n        top = box.y;\n      }\n      if (box.x + box.width > right) {\n        right = box.x + box.width;\n      }\n      if (box.y + box.height > bottom) {\n        bottom = box.y + box.height;\n      }\n    }\n    return new _BBox2(left, top, right - left, bottom - top);\n  }\n  [interpolate](other, d) {\n    return new _BBox2(\n      this.x * (1 - d) + other.x * d,\n      this.y * (1 - d) + other.y * d,\n      this.width * (1 - d) + other.width * d,\n      this.height * (1 - d) + other.height * d\n    );\n  }\n};\n_BBox.zero = new _BBox(0, 0, 0, 0);\n_BBox.NaN = new _BBox(NaN, NaN, NaN, NaN);\nvar BBox = _BBox;\nvar RedrawType = /* @__PURE__ */ ((RedrawType2) => {\n  RedrawType2[RedrawType2[\"NONE\"] = 0] = \"NONE\";\n  RedrawType2[RedrawType2[\"TRIVIAL\"] = 1] = \"TRIVIAL\";\n  RedrawType2[RedrawType2[\"MINOR\"] = 2] = \"MINOR\";\n  RedrawType2[RedrawType2[\"MAJOR\"] = 3] = \"MAJOR\";\n  return RedrawType2;\n})(RedrawType || {});\nfunction functionConstructorAvailable() {\n  try {\n    new Function(\"return true\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar STRING_FUNCTION_USEABLE = functionConstructorAvailable();\nfunction SceneChangeDetection(opts) {\n  const { changeCb, convertor } = opts != null ? opts : {};\n  return function(target, key) {\n    const privateKey = `__${key}`;\n    if (target[key]) {\n      return;\n    }\n    if (STRING_FUNCTION_USEABLE && changeCb == null && convertor == null) {\n      prepareFastGetSet(target, key, privateKey, opts);\n    } else {\n      prepareSlowGetSet(target, key, privateKey, opts);\n    }\n  };\n}\nfunction prepareFastGetSet(target, key, privateKey, opts) {\n  const { redraw = 1, type = \"normal\", checkDirtyOnAssignment = false } = opts != null ? opts : {};\n  const setterJs = new Function(\n    \"value\",\n    `\n        const oldValue = this.${privateKey};\n        if (value !== oldValue) {\n            this.${privateKey} = value;\n            ${type === \"normal\" ? `this.markDirty(this, ${redraw});` : \"\"}\n            ${type === \"transform\" ? `this.markDirtyTransform(${redraw});` : \"\"}\n            ${type === \"path\" ? `if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${redraw}); }` : \"\"}\n            ${type === \"font\" ? `if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${redraw}); }` : \"\"}\n        }\n        ${checkDirtyOnAssignment ? `if (value != null && value._dirty > ${0}) { this.markDirty(value, value._dirty); }` : \"\"}\n`\n  );\n  const getterJs = new Function(`return this.${privateKey};`);\n  Object.defineProperty(target, key, {\n    set: setterJs,\n    get: getterJs,\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction prepareSlowGetSet(target, key, privateKey, opts) {\n  const {\n    redraw = 1,\n    type = \"normal\",\n    changeCb,\n    convertor,\n    checkDirtyOnAssignment = false\n  } = opts != null ? opts : {};\n  const setter = function(value) {\n    const oldValue = this[privateKey];\n    value = convertor ? convertor(value) : value;\n    if (value !== oldValue) {\n      this[privateKey] = value;\n      if (type === \"normal\")\n        this.markDirty(this, redraw);\n      if (type === \"transform\")\n        this.markDirtyTransform(redraw);\n      if (type === \"path\" && !this._dirtyPath) {\n        this._dirtyPath = true;\n        this.markDirty(this, redraw);\n      }\n      if (type === \"font\" && !this._dirtyFont) {\n        this._dirtyFont = true;\n        this.markDirty(this, redraw);\n      }\n      changeCb == null ? void 0 : changeCb(this);\n    }\n    if (checkDirtyOnAssignment && value != null && value._dirty > 0)\n      this.markDirty(value, value._dirty);\n  };\n  const getter = function() {\n    return this[privateKey];\n  };\n  Object.defineProperty(target, key, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: true\n  });\n}\nvar ChangeDetectable = class {\n  constructor() {\n    this._dirty = 3;\n  }\n  markDirty(_source, type = 1) {\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0;\n  }\n  isDirty() {\n    return this._dirty > 0;\n  }\n};\nvar _Matrix = class _Matrix2 {\n  get e() {\n    return [...this.elements];\n  }\n  constructor(elements3 = [1, 0, 0, 1, 0, 0]) {\n    this.elements = elements3;\n  }\n  setElements(elements3) {\n    const e = this.elements;\n    e[0] = elements3[0];\n    e[1] = elements3[1];\n    e[2] = elements3[2];\n    e[3] = elements3[3];\n    e[4] = elements3[4];\n    e[5] = elements3[5];\n    return this;\n  }\n  get identity() {\n    const e = this.elements;\n    return e[0] === 1 && e[1] === 0 && e[2] === 0 && e[3] === 1 && e[4] === 0 && e[5] === 0;\n  }\n  /**\n   * Performs the AxB matrix multiplication and saves the result\n   * to `C`, if given, or to `A` otherwise.\n   */\n  AxB(A, B, C) {\n    const a = A[0] * B[0] + A[2] * B[1], b = A[1] * B[0] + A[3] * B[1], c = A[0] * B[2] + A[2] * B[3], d = A[1] * B[2] + A[3] * B[3], e = A[0] * B[4] + A[2] * B[5] + A[4], f = A[1] * B[4] + A[3] * B[5] + A[5];\n    C = C != null ? C : A;\n    C[0] = a;\n    C[1] = b;\n    C[2] = c;\n    C[3] = d;\n    C[4] = e;\n    C[5] = f;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns the current matrix.\n   * @param other\n   */\n  multiplySelf(other) {\n    this.AxB(this.elements, other.elements);\n    return this;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns a new matrix.\n   * @param other\n   */\n  multiply(other) {\n    const elements3 = new Array(6);\n    this.AxB(this.elements, other.elements, elements3);\n    return new _Matrix2(elements3);\n  }\n  preMultiplySelf(other) {\n    this.AxB(other.elements, this.elements, this.elements);\n    return this;\n  }\n  /**\n   * Returns the inverse of this matrix as a new matrix.\n   */\n  inverse() {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    return new _Matrix2([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n  }\n  /**\n   * Save the inverse of this matrix to the given matrix.\n   */\n  inverseTo(other) {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    return this;\n  }\n  invertSelf() {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    el[0] = d;\n    el[1] = -b;\n    el[2] = -c;\n    el[3] = a;\n    el[4] = c * f - d * e;\n    el[5] = b * e - a * f;\n    return this;\n  }\n  transformPoint(x, y) {\n    const e = this.elements;\n    return {\n      x: x * e[0] + y * e[2] + e[4],\n      y: x * e[1] + y * e[3] + e[5]\n    };\n  }\n  transformBBox(bbox, target) {\n    const elements3 = this.elements;\n    const xx = elements3[0];\n    const xy = elements3[1];\n    const yx = elements3[2];\n    const yy = elements3[3];\n    const h_w = bbox.width * 0.5;\n    const h_h = bbox.height * 0.5;\n    const cx = bbox.x + h_w;\n    const cy = bbox.y + h_h;\n    const w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n    const h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n    if (!target) {\n      target = new BBox(0, 0, 0, 0);\n    }\n    target.x = cx * xx + cy * yx + elements3[4] - w;\n    target.y = cx * xy + cy * yy + elements3[5] - h;\n    target.width = w + w;\n    target.height = h + h;\n    return target;\n  }\n  toContext(ctx) {\n    if (this.identity) {\n      return;\n    }\n    const e = this.elements;\n    ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n  }\n  static flyweight(sourceMatrix) {\n    return _Matrix2.instance.setElements(sourceMatrix.elements);\n  }\n  static updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, opts) {\n    const [bbcx, bbcy] = [0, 0];\n    const sx = scalingX;\n    const sy = scalingY;\n    let scx;\n    let scy;\n    if (sx === 1 && sy === 1) {\n      scx = 0;\n      scy = 0;\n    } else {\n      scx = (opts == null ? void 0 : opts.scalingCenterX) == null ? bbcx : opts == null ? void 0 : opts.scalingCenterX;\n      scy = (opts == null ? void 0 : opts.scalingCenterY) == null ? bbcy : opts == null ? void 0 : opts.scalingCenterY;\n    }\n    const r = rotation;\n    const cos = Math.cos(r);\n    const sin = Math.sin(r);\n    let rcx;\n    let rcy;\n    if (r === 0) {\n      rcx = 0;\n      rcy = 0;\n    } else {\n      rcx = (opts == null ? void 0 : opts.rotationCenterX) == null ? bbcx : opts == null ? void 0 : opts.rotationCenterX;\n      rcy = (opts == null ? void 0 : opts.rotationCenterY) == null ? bbcy : opts == null ? void 0 : opts.rotationCenterY;\n    }\n    const tx = translationX;\n    const ty = translationY;\n    const tx4 = scx * (1 - sx) - rcx;\n    const ty4 = scy * (1 - sy) - rcy;\n    matrix.setElements([\n      cos * sx,\n      sin * sx,\n      -sin * sy,\n      cos * sy,\n      cos * tx4 - sin * ty4 + rcx + tx,\n      sin * tx4 + cos * ty4 + rcy + ty\n    ]);\n    return matrix;\n  }\n  static fromContext(ctx) {\n    const domMatrix = ctx.getTransform();\n    return new _Matrix2([domMatrix.a, domMatrix.b, domMatrix.c, domMatrix.d, domMatrix.e, domMatrix.f]);\n  }\n};\n_Matrix.instance = new _Matrix();\nvar Matrix = _Matrix;\nvar PointerEvents = /* @__PURE__ */ ((PointerEvents2) => {\n  PointerEvents2[PointerEvents2[\"All\"] = 0] = \"All\";\n  PointerEvents2[PointerEvents2[\"None\"] = 1] = \"None\";\n  return PointerEvents2;\n})(PointerEvents || {});\nvar _Node = class _Node2 extends ChangeDetectable {\n  constructor({ isVirtual, tag, zIndex } = {}) {\n    super();\n    this.serialNumber = _Node2._nextSerialNumber++;\n    this.id = createId(this);\n    this.isContainerNode = false;\n    this._virtualChildren = [];\n    this._children = [];\n    this.childSet = {};\n    this.matrix = new Matrix();\n    this.dirtyTransform = false;\n    this.scalingX = 1;\n    this.scalingY = 1;\n    this.scalingCenterX = null;\n    this.scalingCenterY = null;\n    this.rotationCenterX = null;\n    this.rotationCenterY = null;\n    this.rotation = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this._childNodeCounts = {\n      groups: 0,\n      nonGroups: 0\n    };\n    this.visible = true;\n    this.dirtyZIndex = false;\n    this.zIndex = 0;\n    this.zIndexSubOrder = void 0;\n    this.pointerEvents = 0;\n    this.isVirtual = isVirtual != null ? isVirtual : false;\n    this.tag = tag != null ? tag : NaN;\n    this.zIndex = zIndex != null ? zIndex : 0;\n  }\n  /**\n   * Some arbitrary data bound to the node.\n   */\n  get datum() {\n    var _a, _b;\n    return (_b = this._datum) != null ? _b : (_a = this._parent) == null ? void 0 : _a.datum;\n  }\n  get previousDatum() {\n    return this._previousDatum;\n  }\n  set datum(datum) {\n    if (this._datum !== datum) {\n      this._previousDatum = this._datum;\n    }\n    this._datum = datum;\n  }\n  _setLayerManager(value) {\n    this._layerManager = value;\n    this._debug = value == null ? void 0 : value.debug;\n    for (const child of this._children) {\n      child._setLayerManager(value);\n    }\n    for (const child of this._virtualChildren) {\n      child._setLayerManager(value);\n    }\n  }\n  get layerManager() {\n    return this._layerManager;\n  }\n  *ancestors() {\n    let node = this;\n    while (node = node.parent) {\n      yield node;\n    }\n  }\n  *traverseUp() {\n    yield this;\n    yield* __yieldStar(__yieldStar2(this.ancestors()));\n  }\n  get parent() {\n    return this._parent;\n  }\n  get children() {\n    return this._virtualChildren.length ? this._children.concat(this._virtualChildren.flatMap((next) => next.children)) : this._children;\n  }\n  get virtualChildren() {\n    return this._virtualChildren;\n  }\n  hasVirtualChildren() {\n    return this._virtualChildren.length > 0;\n  }\n  // new Set<Node>()\n  setProperties(styles, pickKeys) {\n    const keys = pickKeys != null ? pickKeys : Object.keys(styles);\n    for (const key of keys) {\n      this[key] = styles[key];\n    }\n    return this;\n  }\n  /**\n   * Appends one or more new node instances to this parent.\n   * If one needs to:\n   * - move a child to the end of the list of children\n   * - move a child from one parent to another (including parents in other scenes)\n   * one should use the {@link insertBefore} method instead.\n   * @param nodes A node or nodes to append.\n   */\n  append(nodes) {\n    if (!Array.isArray(nodes)) {\n      nodes = [nodes];\n    }\n    for (const node of nodes) {\n      if (node.parent) {\n        throw new Error(`${node} already belongs to another parent: ${node.parent}.`);\n      }\n      if (node.layerManager) {\n        throw new Error(`${node} already belongs to a scene: ${node.layerManager}.`);\n      }\n      if (this.childSet[node.id]) {\n        throw new Error(`Duplicate ${node.constructor.name} node: ${node}`);\n      }\n      if (node.isVirtual) {\n        this._virtualChildren.push(node);\n      } else {\n        this._children.push(node);\n      }\n      this.childSet[node.id] = true;\n      node._parent = this;\n      node._setLayerManager(this.layerManager);\n    }\n    this.dirtyZIndex = true;\n    this.markDirty(\n      this,\n      3\n      /* MAJOR */\n    );\n  }\n  appendChild(node) {\n    this.append(node);\n    return node;\n  }\n  removeChild(node) {\n    const error = () => {\n      throw new Error(`The node to be removed is not a child of this node.`);\n    };\n    if (node.parent !== this) {\n      error();\n    }\n    if (node.isVirtual) {\n      const i = this._virtualChildren.indexOf(node);\n      if (i < 0)\n        error();\n      this._virtualChildren.splice(i, 1);\n    } else {\n      const i = this._children.indexOf(node);\n      if (i < 0)\n        error();\n      this._children.splice(i, 1);\n    }\n    delete this.childSet[node.id];\n    node._parent = void 0;\n    node._setLayerManager();\n    this.dirtyZIndex = true;\n    this.markDirty(\n      node,\n      3\n      /* MAJOR */\n    );\n    return node;\n  }\n  calculateCumulativeMatrix() {\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    return matrix;\n  }\n  transformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformPoint(x, y);\n  }\n  inverseTransformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformPoint(x, y);\n  }\n  transformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformBBox(bbox);\n  }\n  inverseTransformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformBBox(bbox);\n  }\n  markDirtyTransform() {\n    this.dirtyTransform = true;\n    this.markDirty(\n      this,\n      3\n      /* MAJOR */\n    );\n  }\n  containsPoint(_x, _y) {\n    return false;\n  }\n  /**\n   * Hit testing method.\n   * Recursively checks if the given point is inside this node or any of its children.\n   * Returns the first matching node or `undefined`.\n   * Nodes that render later (show on top) are hit tested first.\n   */\n  pickNode(x, y) {\n    var _a;\n    if (!this.visible || this.pointerEvents === 1 || !this.containsPoint(x, y)) {\n      return;\n    }\n    const { children } = this;\n    if (children.length > 1e3) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const containsPoint = (_a = child.computeTransformedBBox()) == null ? void 0 : _a.containsPoint(x, y);\n        const hit = containsPoint ? child.pickNode(x, y) : void 0;\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (children.length) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const hit = children[i].pickNode(x, y);\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (!this.isContainerNode) {\n      return this;\n    }\n  }\n  getCachedBBox() {\n    var _a;\n    return (_a = this.cachedBBox) != null ? _a : BBox.zero;\n  }\n  computeBBox() {\n    return;\n  }\n  computeTransformedBBox() {\n    const bbox = this.computeBBox();\n    if (!bbox) {\n      return;\n    }\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    matrix.transformBBox(bbox, bbox);\n    return bbox;\n  }\n  computeTransformMatrix() {\n    if (!this.dirtyTransform) {\n      return;\n    }\n    const {\n      matrix,\n      scalingX,\n      scalingY,\n      rotation,\n      translationX,\n      translationY,\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    } = this;\n    Matrix.updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, {\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    });\n    this.dirtyTransform = false;\n  }\n  /** Perform any pre-rendering initialization. */\n  preRender() {\n    this._childNodeCounts.groups = 0;\n    this._childNodeCounts.nonGroups = 1;\n    for (const child of this.children) {\n      const childCounts = child.preRender();\n      this._childNodeCounts.groups += childCounts.groups;\n      this._childNodeCounts.nonGroups += childCounts.nonGroups;\n    }\n    return this._childNodeCounts;\n  }\n  render(renderCtx) {\n    const { stats } = renderCtx;\n    this._dirty = 0;\n    this.cachedBBox = this.computeBBox();\n    if (stats) {\n      stats.nodesRendered++;\n    }\n  }\n  markDirty(_source, type = 1, parentType = type) {\n    if (this._dirty > type || this._dirty === type && type === parentType) {\n      return;\n    }\n    this._dirty = type;\n    if (this.parent) {\n      this.parent.markDirty(this, parentType);\n    } else if (this.layerManager) {\n      this.layerManager.markDirty();\n    }\n  }\n  get dirty() {\n    return this._dirty;\n  }\n  markClean(opts) {\n    const { force = false, recursive = true } = opts != null ? opts : {};\n    if (this._dirty === 0 && !force) {\n      return;\n    }\n    this._dirty = 0;\n    if (recursive !== false) {\n      for (const child of this._virtualChildren) {\n        child.markClean({ force });\n      }\n    }\n    if (recursive === true) {\n      for (const child of this._children) {\n        child.markClean({ force });\n      }\n    }\n  }\n  onVisibleChange() {\n  }\n  get nodeCount() {\n    let count = 1;\n    let dirtyCount = this._dirty >= 0 || this.dirtyTransform ? 1 : 0;\n    let visibleCount = this.visible ? 1 : 0;\n    const countChild = (child) => {\n      const { count: childCount, visibleCount: childVisibleCount, dirtyCount: childDirtyCount } = child.nodeCount;\n      count += childCount;\n      visibleCount += childVisibleCount;\n      dirtyCount += childDirtyCount;\n    };\n    for (const child of this._children) {\n      countChild(child);\n    }\n    for (const child of this._virtualChildren) {\n      countChild(child);\n    }\n    return { count, visibleCount, dirtyCount };\n  }\n  onZIndexChange() {\n    if (this.parent) {\n      this.parent.dirtyZIndex = true;\n    }\n  }\n};\n_Node._nextSerialNumber = 0;\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingX\", 2);\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingY\", 2);\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingCenterX\", 2);\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingCenterY\", 2);\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotationCenterX\", 2);\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotationCenterY\", 2);\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotation\", 2);\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"translationX\", 2);\n__decorateClass2([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"translationY\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3,\n    changeCb: (target) => target.onVisibleChange()\n  })\n], _Node.prototype, \"visible\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 1,\n    changeCb: (target) => target.onZIndexChange()\n  })\n], _Node.prototype, \"zIndex\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 1,\n    changeCb: (target) => target.onZIndexChange()\n  })\n], _Node.prototype, \"zIndexSubOrder\", 2);\nvar Node = _Node;\nvar srgbToLinear = (value) => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs <= 0.04045)\n    return value / 12.92;\n  return sign * __pow((abs + 0.055) / 1.055, 2.4);\n};\nvar srgbFromLinear = (value) => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs > 31308e-7) {\n    return sign * (1.055 * __pow(abs, 1 / 2.4) - 0.055);\n  }\n  return 12.92 * value;\n};\nvar _Color = class _Color2 {\n  /**\n   * Every color component should be in the [0, 1] range.\n   * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n   * So, when animating colors, if the source or target color components are already near\n   * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n   * component value to end up outside of that range mid-animation. For this reason the constructor\n   * performs range checking/constraining.\n   * @param r Red component.\n   * @param g Green component.\n   * @param b Blue component.\n   * @param a Alpha (opacity) component.\n   */\n  constructor(r, g, b, a = 1) {\n    this.r = clamp(0, r || 0, 1);\n    this.g = clamp(0, g || 0, 1);\n    this.b = clamp(0, b || 0, 1);\n    this.a = clamp(0, a || 0, 1);\n  }\n  /**\n   * A color string can be in one of the following formats to be valid:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   */\n  static validColorString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return !!_Color2.parseHex(str);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return !!_Color2.stringToRgba(str);\n    }\n    return !!_Color2.nameToHex[str.toLowerCase()];\n  }\n  /**\n   * The given string can be in one of the following formats:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   * @param str\n   */\n  static fromString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return _Color2.fromHexString(str);\n    }\n    const hex = _Color2.nameToHex[str.toLowerCase()];\n    if (hex) {\n      return _Color2.fromHexString(hex);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return _Color2.fromRgbaString(str);\n    }\n    throw new Error(`Invalid color string: '${str}'`);\n  }\n  static tryParseFromString(str) {\n    try {\n      return _Color2.fromString(str);\n    } catch (e) {\n      Logger.warnOnce(`invalid color string: '${str}'.`);\n      return _Color2.fromArray([0, 0, 0]);\n    }\n  }\n  // See https://drafts.csswg.org/css-color/#hex-notation\n  static parseHex(input) {\n    input = input.replace(/ /g, \"\").slice(1);\n    let parts;\n    switch (input.length) {\n      case 6:\n      case 8:\n        parts = [];\n        for (let i = 0; i < input.length; i += 2) {\n          parts.push(parseInt(`${input[i]}${input[i + 1]}`, 16));\n        }\n        break;\n      case 3:\n      case 4:\n        parts = input.split(\"\").map((p) => parseInt(p, 16)).map((p) => p + p * 16);\n        break;\n    }\n    if ((parts == null ? void 0 : parts.length) >= 3 && parts.every((p) => p >= 0)) {\n      if (parts.length === 3) {\n        parts.push(255);\n      }\n      return parts;\n    }\n  }\n  static fromHexString(str) {\n    const values = _Color2.parseHex(str);\n    if (values) {\n      const [r, g, b, a] = values;\n      return new _Color2(r / 255, g / 255, b / 255, a / 255);\n    }\n    throw new Error(`Malformed hexadecimal color string: '${str}'`);\n  }\n  static stringToRgba(str) {\n    let [po, pc] = [NaN, NaN];\n    for (let i = 0; i < str.length; i++) {\n      const c = str[i];\n      if (!po && c === \"(\") {\n        po = i;\n      } else if (c === \")\") {\n        pc = i;\n        break;\n      }\n    }\n    const contents = po && pc && str.substring(po + 1, pc);\n    if (!contents) {\n      return;\n    }\n    const parts = contents.split(\",\");\n    const rgba = [];\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n      let value = parseFloat(part);\n      if (isNaN(value)) {\n        return;\n      }\n      if (part.indexOf(\"%\") >= 0) {\n        value = clamp(0, value, 100);\n        value /= 100;\n      } else if (i === 3) {\n        value = clamp(0, value, 1);\n      } else {\n        value = clamp(0, value, 255);\n        value /= 255;\n      }\n      rgba.push(value);\n    }\n    return rgba;\n  }\n  static fromRgbaString(str) {\n    const rgba = _Color2.stringToRgba(str);\n    if (rgba) {\n      if (rgba.length === 3) {\n        return new _Color2(rgba[0], rgba[1], rgba[2]);\n      } else if (rgba.length === 4) {\n        return new _Color2(rgba[0], rgba[1], rgba[2], rgba[3]);\n      }\n    }\n    throw new Error(`Malformed rgb/rgba color string: '${str}'`);\n  }\n  static fromArray(arr) {\n    if (arr.length === 4) {\n      return new _Color2(arr[0], arr[1], arr[2], arr[3]);\n    }\n    if (arr.length === 3) {\n      return new _Color2(arr[0], arr[1], arr[2]);\n    }\n    throw new Error(\"The given array should contain 3 or 4 color components (numbers).\");\n  }\n  static fromHSB(h, s, b, alpha = 1) {\n    const rgb = _Color2.HSBtoRGB(h, s, b);\n    return new _Color2(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromHSL(h, s, l, alpha = 1) {\n    const rgb = _Color2.HSLtoRGB(h, s, l);\n    return new _Color2(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromOKLCH(l, c, h, alpha = 1) {\n    const rgb = _Color2.OKLCHtoRGB(l, c, h);\n    return new _Color2(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static padHex(str) {\n    return str.length === 1 ? \"0\" + str : str;\n  }\n  toHexString() {\n    let hex = \"#\" + _Color2.padHex(Math.round(this.r * 255).toString(16)) + _Color2.padHex(Math.round(this.g * 255).toString(16)) + _Color2.padHex(Math.round(this.b * 255).toString(16));\n    if (this.a < 1) {\n      hex += _Color2.padHex(Math.round(this.a * 255).toString(16));\n    }\n    return hex;\n  }\n  toRgbaString(fractionDigits = 3) {\n    const components = [Math.round(this.r * 255), Math.round(this.g * 255), Math.round(this.b * 255)];\n    const k = Math.pow(10, fractionDigits);\n    if (this.a !== 1) {\n      components.push(Math.round(this.a * k) / k);\n      return `rgba(${components.join(\", \")})`;\n    }\n    return `rgb(${components.join(\", \")})`;\n  }\n  toString() {\n    if (this.a === 1) {\n      return this.toHexString();\n    }\n    return this.toRgbaString();\n  }\n  toHSB() {\n    return _Color2.RGBtoHSB(this.r, this.g, this.b);\n  }\n  static RGBtoOKLCH(r, g, b) {\n    const LSRGB0 = srgbToLinear(r);\n    const LSRGB1 = srgbToLinear(g);\n    const LSRGB2 = srgbToLinear(b);\n    const LMS0 = Math.cbrt(0.4122214708 * LSRGB0 + 0.5363325363 * LSRGB1 + 0.0514459929 * LSRGB2);\n    const LMS1 = Math.cbrt(0.2119034982 * LSRGB0 + 0.6806995451 * LSRGB1 + 0.1073969566 * LSRGB2);\n    const LMS2 = Math.cbrt(0.0883024619 * LSRGB0 + 0.2817188376 * LSRGB1 + 0.6299787005 * LSRGB2);\n    const OKLAB0 = 0.2104542553 * LMS0 + 0.793617785 * LMS1 - 0.0040720468 * LMS2;\n    const OKLAB1 = 1.9779984951 * LMS0 - 2.428592205 * LMS1 + 0.4505937099 * LMS2;\n    const OKLAB2 = 0.0259040371 * LMS0 + 0.7827717662 * LMS1 - 0.808675766 * LMS2;\n    const hue = Math.atan2(OKLAB2, OKLAB1) * 180 / Math.PI;\n    const OKLCH0 = OKLAB0;\n    const OKLCH1 = Math.hypot(OKLAB1, OKLAB2);\n    const OKLCH2 = hue >= 0 ? hue : hue + 360;\n    return [OKLCH0, OKLCH1, OKLCH2];\n  }\n  static OKLCHtoRGB(l, c, h) {\n    const OKLAB0 = l;\n    const OKLAB1 = c * Math.cos(h * Math.PI / 180);\n    const OKLAB2 = c * Math.sin(h * Math.PI / 180);\n    const LMS0 = __pow(OKLAB0 + 0.3963377774 * OKLAB1 + 0.2158037573 * OKLAB2, 3);\n    const LMS1 = __pow(OKLAB0 - 0.1055613458 * OKLAB1 - 0.0638541728 * OKLAB2, 3);\n    const LMS2 = __pow(OKLAB0 - 0.0894841775 * OKLAB1 - 1.291485548 * OKLAB2, 3);\n    const LSRGB0 = 4.0767416621 * LMS0 - 3.3077115913 * LMS1 + 0.2309699292 * LMS2;\n    const LSRGB1 = -1.2684380046 * LMS0 + 2.6097574011 * LMS1 - 0.3413193965 * LMS2;\n    const LSRGB2 = -0.0041960863 * LMS0 - 0.7034186147 * LMS1 + 1.707614701 * LMS2;\n    const SRGB0 = srgbFromLinear(LSRGB0);\n    const SRGB1 = srgbFromLinear(LSRGB1);\n    const SRGB2 = srgbFromLinear(LSRGB2);\n    return [SRGB0, SRGB1, SRGB2];\n  }\n  static RGBtoHSL(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const l = (max + min) / 2;\n    let h;\n    let s;\n    if (max === min) {\n      h = NaN;\n      s = 0;\n    } else {\n      const delta2 = max - min;\n      s = l > 0.5 ? delta2 / (2 - max - min) : delta2 / (max + min);\n      if (max === r) {\n        h = (g - b) / delta2 + (g < b ? 6 : 0);\n      } else if (max === g) {\n        h = (b - r) / delta2 + 2;\n      } else {\n        h = (r - g) / delta2 + 4;\n      }\n      h *= 360 / 6;\n    }\n    return [h, s, l];\n  }\n  static HSLtoRGB(h, s, l) {\n    if (s === 0) {\n      return [l, l, l];\n    }\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    function hueToRgb(t) {\n      if (t < 0)\n        t += 1;\n      if (t > 1)\n        t -= 1;\n      if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n      if (t < 1 / 2)\n        return q;\n      if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n    const r = hueToRgb(h / 360 + 1 / 3);\n    const g = hueToRgb(h / 360);\n    const b = hueToRgb(h / 360 - 1 / 3);\n    return [r, g, b];\n  }\n  /**\n   * Converts the given RGB triple to an array of HSB (HSV) components.\n   * The hue component will be `NaN` for achromatic colors.\n   */\n  static RGBtoHSB(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const S = max === 0 ? 0 : (max - min) / max;\n    let H = NaN;\n    if (min !== max) {\n      const delta2 = max - min;\n      const rc = (max - r) / delta2;\n      const gc = (max - g) / delta2;\n      const bc = (max - b) / delta2;\n      if (r === max) {\n        H = bc - gc;\n      } else if (g === max) {\n        H = 2 + rc - bc;\n      } else {\n        H = 4 + gc - rc;\n      }\n      H /= 6;\n      if (H < 0) {\n        H = H + 1;\n      }\n    }\n    return [H * 360, S, max];\n  }\n  /**\n   * Converts the given HSB (HSV) triple to an array of RGB components.\n   */\n  static HSBtoRGB(H, S, B) {\n    if (isNaN(H)) {\n      H = 0;\n    }\n    H = (H % 360 + 360) % 360 / 360;\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    if (S === 0) {\n      r = g = b = B;\n    } else {\n      const h = (H - Math.floor(H)) * 6;\n      const f = h - Math.floor(h);\n      const p = B * (1 - S);\n      const q = B * (1 - S * f);\n      const t = B * (1 - S * (1 - f));\n      switch (h >> 0) {\n        case 0:\n          r = B;\n          g = t;\n          b = p;\n          break;\n        case 1:\n          r = q;\n          g = B;\n          b = p;\n          break;\n        case 2:\n          r = p;\n          g = B;\n          b = t;\n          break;\n        case 3:\n          r = p;\n          g = q;\n          b = B;\n          break;\n        case 4:\n          r = t;\n          g = p;\n          b = B;\n          break;\n        case 5:\n          r = B;\n          g = p;\n          b = q;\n          break;\n      }\n    }\n    return [r, g, b];\n  }\n  derive(hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n    const hsb = _Color2.RGBtoHSB(this.r, this.g, this.b);\n    let b = hsb[2];\n    if (b == 0 && brightnessFactor > 1) {\n      b = 0.05;\n    }\n    const h = ((hsb[0] + hueShift) % 360 + 360) % 360;\n    const s = clamp(0, hsb[1] * saturationFactor, 1);\n    b = clamp(0, b * brightnessFactor, 1);\n    const a = clamp(0, this.a * opacityFactor, 1);\n    const rgba = _Color2.HSBtoRGB(h, s, b);\n    rgba.push(a);\n    return _Color2.fromArray(rgba);\n  }\n  brighter() {\n    return this.derive(0, 1, 1 / 0.7, 1);\n  }\n  darker() {\n    return this.derive(0, 1, 0.7, 1);\n  }\n  static interpolate(color, other) {\n    const c0 = _Color2.tryParseFromString(color);\n    const c1 = _Color2.tryParseFromString(other);\n    return (t) => {\n      const i = (x, y) => x * (1 - t) + y * t;\n      const c = new _Color2(i(c0.r, c1.r), i(c0.g, c1.g), i(c0.b, c1.b), i(c0.a, c1.a));\n      return c.toString();\n    };\n  }\n};\n_Color.didDebug = false;\n_Color.nameToHex = Object.freeze({\n  aliceblue: \"#F0F8FF\",\n  antiquewhite: \"#FAEBD7\",\n  aqua: \"#00FFFF\",\n  aquamarine: \"#7FFFD4\",\n  azure: \"#F0FFFF\",\n  beige: \"#F5F5DC\",\n  bisque: \"#FFE4C4\",\n  black: \"#000000\",\n  blanchedalmond: \"#FFEBCD\",\n  blue: \"#0000FF\",\n  blueviolet: \"#8A2BE2\",\n  brown: \"#A52A2A\",\n  burlywood: \"#DEB887\",\n  cadetblue: \"#5F9EA0\",\n  chartreuse: \"#7FFF00\",\n  chocolate: \"#D2691E\",\n  coral: \"#FF7F50\",\n  cornflowerblue: \"#6495ED\",\n  cornsilk: \"#FFF8DC\",\n  crimson: \"#DC143C\",\n  cyan: \"#00FFFF\",\n  darkblue: \"#00008B\",\n  darkcyan: \"#008B8B\",\n  darkgoldenrod: \"#B8860B\",\n  darkgray: \"#A9A9A9\",\n  darkgreen: \"#006400\",\n  darkgrey: \"#A9A9A9\",\n  darkkhaki: \"#BDB76B\",\n  darkmagenta: \"#8B008B\",\n  darkolivegreen: \"#556B2F\",\n  darkorange: \"#FF8C00\",\n  darkorchid: \"#9932CC\",\n  darkred: \"#8B0000\",\n  darksalmon: \"#E9967A\",\n  darkseagreen: \"#8FBC8F\",\n  darkslateblue: \"#483D8B\",\n  darkslategray: \"#2F4F4F\",\n  darkslategrey: \"#2F4F4F\",\n  darkturquoise: \"#00CED1\",\n  darkviolet: \"#9400D3\",\n  deeppink: \"#FF1493\",\n  deepskyblue: \"#00BFFF\",\n  dimgray: \"#696969\",\n  dimgrey: \"#696969\",\n  dodgerblue: \"#1E90FF\",\n  firebrick: \"#B22222\",\n  floralwhite: \"#FFFAF0\",\n  forestgreen: \"#228B22\",\n  fuchsia: \"#FF00FF\",\n  gainsboro: \"#DCDCDC\",\n  ghostwhite: \"#F8F8FF\",\n  gold: \"#FFD700\",\n  goldenrod: \"#DAA520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#ADFF2F\",\n  grey: \"#808080\",\n  honeydew: \"#F0FFF0\",\n  hotpink: \"#FF69B4\",\n  indianred: \"#CD5C5C\",\n  indigo: \"#4B0082\",\n  ivory: \"#FFFFF0\",\n  khaki: \"#F0E68C\",\n  lavender: \"#E6E6FA\",\n  lavenderblush: \"#FFF0F5\",\n  lawngreen: \"#7CFC00\",\n  lemonchiffon: \"#FFFACD\",\n  lightblue: \"#ADD8E6\",\n  lightcoral: \"#F08080\",\n  lightcyan: \"#E0FFFF\",\n  lightgoldenrodyellow: \"#FAFAD2\",\n  lightgray: \"#D3D3D3\",\n  lightgreen: \"#90EE90\",\n  lightgrey: \"#D3D3D3\",\n  lightpink: \"#FFB6C1\",\n  lightsalmon: \"#FFA07A\",\n  lightseagreen: \"#20B2AA\",\n  lightskyblue: \"#87CEFA\",\n  lightslategray: \"#778899\",\n  lightslategrey: \"#778899\",\n  lightsteelblue: \"#B0C4DE\",\n  lightyellow: \"#FFFFE0\",\n  lime: \"#00FF00\",\n  limegreen: \"#32CD32\",\n  linen: \"#FAF0E6\",\n  magenta: \"#FF00FF\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66CDAA\",\n  mediumblue: \"#0000CD\",\n  mediumorchid: \"#BA55D3\",\n  mediumpurple: \"#9370DB\",\n  mediumseagreen: \"#3CB371\",\n  mediumslateblue: \"#7B68EE\",\n  mediumspringgreen: \"#00FA9A\",\n  mediumturquoise: \"#48D1CC\",\n  mediumvioletred: \"#C71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#F5FFFA\",\n  mistyrose: \"#FFE4E1\",\n  moccasin: \"#FFE4B5\",\n  navajowhite: \"#FFDEAD\",\n  navy: \"#000080\",\n  oldlace: \"#FDF5E6\",\n  olive: \"#808000\",\n  olivedrab: \"#6B8E23\",\n  orange: \"#FFA500\",\n  orangered: \"#FF4500\",\n  orchid: \"#DA70D6\",\n  palegoldenrod: \"#EEE8AA\",\n  palegreen: \"#98FB98\",\n  paleturquoise: \"#AFEEEE\",\n  palevioletred: \"#DB7093\",\n  papayawhip: \"#FFEFD5\",\n  peachpuff: \"#FFDAB9\",\n  peru: \"#CD853F\",\n  pink: \"#FFC0CB\",\n  plum: \"#DDA0DD\",\n  powderblue: \"#B0E0E6\",\n  purple: \"#800080\",\n  rebeccapurple: \"#663399\",\n  red: \"#FF0000\",\n  rosybrown: \"#BC8F8F\",\n  royalblue: \"#4169E1\",\n  saddlebrown: \"#8B4513\",\n  salmon: \"#FA8072\",\n  sandybrown: \"#F4A460\",\n  seagreen: \"#2E8B57\",\n  seashell: \"#FFF5EE\",\n  sienna: \"#A0522D\",\n  silver: \"#C0C0C0\",\n  skyblue: \"#87CEEB\",\n  slateblue: \"#6A5ACD\",\n  slategray: \"#708090\",\n  slategrey: \"#708090\",\n  snow: \"#FFFAFA\",\n  springgreen: \"#00FF7F\",\n  steelblue: \"#4682B4\",\n  tan: \"#D2B48C\",\n  teal: \"#008080\",\n  thistle: \"#D8BFD8\",\n  tomato: \"#FF6347\",\n  transparent: \"#00000000\",\n  turquoise: \"#40E0D0\",\n  violet: \"#EE82EE\",\n  wheat: \"#F5DEB3\",\n  white: \"#FFFFFF\",\n  whitesmoke: \"#F5F5F5\",\n  yellow: \"#FFFF00\",\n  yellowgreen: \"#9ACD32\"\n});\nvar Color = _Color;\nfunction interpolateNumber(a, b) {\n  return (d) => Number(a) * (1 - d) + Number(b) * d;\n}\nfunction interpolateColor(a, b) {\n  if (typeof a === \"string\") {\n    try {\n      a = Color.fromString(a);\n    } catch (e) {\n      a = Color.fromArray([0, 0, 0]);\n    }\n  }\n  if (typeof b === \"string\") {\n    try {\n      b = Color.fromString(b);\n    } catch (e) {\n      b = Color.fromArray([0, 0, 0]);\n    }\n  }\n  const red = interpolateNumber(a.r, b.r);\n  const green = interpolateNumber(a.g, b.g);\n  const blue = interpolateNumber(a.b, b.b);\n  const alpha = interpolateNumber(a.a, b.a);\n  return (d) => Color.fromArray([red(d), green(d), blue(d), alpha(d)]).toRgbaString();\n}\nvar easing_exports = {};\n__export(easing_exports, {\n  easeIn: () => easeIn,\n  easeInOut: () => easeInOut,\n  easeInOutQuad: () => easeInOutQuad,\n  easeInQuad: () => easeInQuad,\n  easeOut: () => easeOut,\n  easeOutQuad: () => easeOutQuad,\n  inverseEaseOut: () => inverseEaseOut,\n  linear: () => linear\n});\nvar linear = (n) => n;\nvar easeIn = (n) => 1 - Math.cos(n * Math.PI / 2);\nvar easeOut = (n) => Math.sin(n * Math.PI / 2);\nvar easeInOut = (n) => -(Math.cos(n * Math.PI) - 1) / 2;\nvar easeInQuad = (n) => n * n;\nvar easeOutQuad = (n) => 1 - __pow(1 - n, 2);\nvar easeInOutQuad = (n) => n < 0.5 ? 2 * n * n : 1 - __pow(-2 * n + 2, 2) / 2;\nvar inverseEaseOut = (x) => 2 * Math.asin(x) / Math.PI;\nvar QUICK_TRANSITION = 0.2;\nvar PHASE_ORDER = [\"initial\", \"remove\", \"update\", \"add\", \"trailing\", \"end\", \"none\"];\nvar PHASE_METADATA = {\n  initial: {\n    animationDuration: 1,\n    animationDelay: 0\n  },\n  add: {\n    animationDuration: 0.25,\n    animationDelay: 0.75\n  },\n  remove: {\n    animationDuration: 0.25,\n    animationDelay: 0\n  },\n  update: {\n    animationDuration: 0.5,\n    animationDelay: 0.25\n  },\n  trailing: {\n    animationDuration: QUICK_TRANSITION,\n    animationDelay: 1,\n    skipIfNoEarlierAnimations: true\n  },\n  end: {\n    animationDelay: 1 + QUICK_TRANSITION,\n    animationDuration: 0,\n    skipIfNoEarlierAnimations: true\n  },\n  none: {\n    animationDuration: 0,\n    animationDelay: 0\n  }\n};\nvar RepeatType = /* @__PURE__ */ ((RepeatType2) => {\n  RepeatType2[\"Loop\"] = \"loop\";\n  RepeatType2[\"Reverse\"] = \"reverse\";\n  return RepeatType2;\n})(RepeatType || {});\nfunction isNodeArray(array) {\n  return array.every((n) => n instanceof Node);\n}\nfunction deconstructSelectionsOrNodes(selectionsOrNodes) {\n  return isNodeArray(selectionsOrNodes) ? { nodes: selectionsOrNodes, selections: [] } : { nodes: [], selections: selectionsOrNodes };\n}\nvar Animation = class {\n  constructor(opts) {\n    this.isComplete = false;\n    this.elapsed = 0;\n    this.iteration = 0;\n    this.isPlaying = false;\n    this.isReverse = false;\n    var _a, _b, _c, _d, _e, _f, _g;\n    this.id = opts.id;\n    this.groupId = opts.groupId;\n    this.autoplay = (_a = opts.autoplay) != null ? _a : true;\n    this.ease = (_b = opts.ease) != null ? _b : linear;\n    this.phase = opts.phase;\n    const durationProportion = (_c = opts.duration) != null ? _c : PHASE_METADATA[this.phase].animationDuration;\n    this.duration = durationProportion * opts.defaultDuration;\n    this.delay = ((_d = opts.delay) != null ? _d : 0) * opts.defaultDuration;\n    this.onComplete = opts.onComplete;\n    this.onPlay = opts.onPlay;\n    this.onStop = opts.onStop;\n    this.onUpdate = opts.onUpdate;\n    this.interpolate = this.createInterpolator(opts.from, opts.to);\n    this.from = opts.from;\n    if (opts.skip === true) {\n      (_e = this.onUpdate) == null ? void 0 : _e.call(this, opts.to, false, this);\n      (_f = this.onStop) == null ? void 0 : _f.call(this, this);\n      (_g = this.onComplete) == null ? void 0 : _g.call(this, this);\n      this.isComplete = true;\n    }\n    if (opts.collapsable !== false) {\n      this.duration = this.checkCollapse(opts, this.duration);\n    }\n  }\n  checkCollapse(opts, calculatedDuration) {\n    if (opts.from === opts.to)\n      return 0;\n    const diff2 = typeof opts.from === \"object\" ? jsonDiff(opts.from, opts.to) : null;\n    if (diff2) {\n      return calculatedDuration;\n    }\n    return 0;\n  }\n  play(initialUpdate = false) {\n    var _a, _b;\n    if (this.isPlaying || this.isComplete)\n      return;\n    this.isPlaying = true;\n    (_a = this.onPlay) == null ? void 0 : _a.call(this, this);\n    if (!this.autoplay)\n      return;\n    this.autoplay = false;\n    if (!initialUpdate)\n      return;\n    (_b = this.onUpdate) == null ? void 0 : _b.call(this, this.from, true, this);\n  }\n  pause() {\n    this.isPlaying = false;\n  }\n  stop() {\n    var _a;\n    this.isPlaying = false;\n    if (!this.isComplete) {\n      this.isComplete = true;\n      (_a = this.onStop) == null ? void 0 : _a.call(this, this);\n    }\n  }\n  update(time2) {\n    var _a, _b;\n    if (this.isComplete)\n      return time2;\n    if (!this.isPlaying && this.autoplay) {\n      this.play(true);\n    }\n    const previousElapsed = this.elapsed;\n    this.elapsed += time2;\n    if (this.delay > this.elapsed)\n      return 0;\n    const value = this.interpolate(this.isReverse ? 1 - this.delta : this.delta);\n    (_a = this.onUpdate) == null ? void 0 : _a.call(this, value, false, this);\n    const totalDuration = this.delay + this.duration;\n    if (this.elapsed >= totalDuration) {\n      this.stop();\n      this.isComplete = true;\n      (_b = this.onComplete) == null ? void 0 : _b.call(this, this);\n      return time2 - (totalDuration - previousElapsed);\n    }\n    return 0;\n  }\n  get delta() {\n    return this.ease(clamp(0, (this.elapsed - this.delay) / this.duration, 1));\n  }\n  createInterpolator(from, to) {\n    if (typeof to !== \"object\" || isInterpolating(to)) {\n      return this.interpolateValue(from, to);\n    }\n    const interpolatorEntries = [];\n    for (const key in to) {\n      const interpolator = this.interpolateValue(from[key], to[key]);\n      if (interpolator != null) {\n        interpolatorEntries.push([key, interpolator]);\n      }\n    }\n    return (d) => {\n      const result = {};\n      for (const [key, interpolator] of interpolatorEntries) {\n        result[key] = interpolator(d);\n      }\n      return result;\n    };\n  }\n  interpolateValue(a, b) {\n    if (a === void 0 || b === void 0) {\n      return;\n    } else if (isInterpolating(a)) {\n      return (d) => a[interpolate](b, d);\n    }\n    try {\n      switch (typeof a) {\n        case \"number\":\n          return interpolateNumber(a, b);\n        case \"string\":\n          return interpolateColor(a, b);\n        case \"boolean\":\n          if (a === b)\n            return () => a;\n          break;\n      }\n    } catch (e) {\n    }\n    throw new Error(`Unable to interpolate values: ${a}, ${b}`);\n  }\n};\nvar NODE_UPDATE_STATE_TO_PHASE_MAPPING = {\n  added: \"add\",\n  updated: \"update\",\n  removed: \"remove\",\n  unknown: \"initial\",\n  \"no-op\": \"none\"\n};\nfunction fromToMotion(groupId, subId, animationManager, selectionsOrNodes, fns, getDatumId, diff2) {\n  const { fromFn, toFn, intermediateFn } = fns;\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const processNodes = (liveNodes, subNodes) => {\n    var _c;\n    let prevFromProps;\n    let liveNodeIndex = 0;\n    let nodeIndex = 0;\n    for (const node of subNodes) {\n      const isLive = liveNodes[liveNodeIndex] === node;\n      const ctx = {\n        last: nodeIndex >= subNodes.length - 1,\n        lastLive: liveNodeIndex >= liveNodes.length - 1,\n        prev: subNodes[nodeIndex - 1],\n        prevFromProps,\n        prevLive: liveNodes[liveNodeIndex - 1],\n        next: subNodes[nodeIndex + 1],\n        nextLive: liveNodes[liveNodeIndex + (isLive ? 1 : 0)]\n      };\n      const animationId = `${groupId}_${subId}_${node.id}`;\n      animationManager.stopByAnimationId(animationId);\n      let status = \"unknown\";\n      if (!isLive) {\n        status = \"removed\";\n      } else if (getDatumId && diff2) {\n        status = calculateStatus(node, node.datum, getDatumId, diff2);\n      }\n      const _a = fromFn(node, node.datum, status, ctx), { phase, start, finish, delay, duration } = _a, from = __objRest(_a, [\"phase\", \"start\", \"finish\", \"delay\", \"duration\"]);\n      const _b = toFn(node, node.datum, status, ctx), {\n        phase: toPhase,\n        start: toStart,\n        finish: toFinish,\n        delay: toDelay,\n        duration: toDuration\n      } = _b, to = __objRest(_b, [\n        \"phase\",\n        \"start\",\n        \"finish\",\n        \"delay\",\n        \"duration\"\n      ]);\n      const collapsable = finish == null && toFinish == null;\n      animationManager.animate({\n        id: animationId,\n        groupId,\n        phase: (_c = phase != null ? phase : toPhase) != null ? _c : \"update\",\n        duration: duration != null ? duration : toDuration,\n        delay: delay != null ? delay : toDelay,\n        from,\n        to,\n        ease: easeOut,\n        collapsable,\n        onPlay: () => {\n          node.setProperties(__spreadValues2(__spreadValues2({}, start), toStart));\n        },\n        onUpdate(props) {\n          node.setProperties(props);\n          if (intermediateFn) {\n            node.setProperties(intermediateFn(node, node.datum, status, ctx));\n          }\n        },\n        onStop: () => {\n          node.setProperties(__spreadValues2(__spreadValues2(__spreadValues2(__spreadValues2(__spreadValues2(__spreadValues2({}, start), toStart), from), to), finish), toFinish));\n        }\n      });\n      if (isLive) {\n        liveNodeIndex++;\n      }\n      nodeIndex++;\n      prevFromProps = from;\n    }\n  };\n  let selectionIndex = 0;\n  for (const selection of selections) {\n    const selectionNodes = selection.nodes();\n    const liveNodes = selectionNodes.filter((n) => !selection.isGarbage(n));\n    processNodes(liveNodes, selectionNodes);\n    animationManager.animate({\n      id: `${groupId}_${subId}_selection_${selectionIndex}`,\n      groupId,\n      phase: \"end\",\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      onStop() {\n        selection.cleanup();\n      }\n    });\n    selectionIndex++;\n  }\n  processNodes(nodes, nodes);\n}\nfunction staticFromToMotion(groupId, subId, animationManager, selectionsOrNodes, from, to, extraOpts) {\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const { start, finish, phase } = extraOpts;\n  const collapsable = finish == null;\n  animationManager.animate({\n    id: `${groupId}_${subId}`,\n    groupId,\n    phase: phase != null ? phase : \"update\",\n    from,\n    to,\n    ease: easeOut,\n    collapsable,\n    onPlay: () => {\n      if (!start)\n        return;\n      for (const node of nodes) {\n        node.setProperties(start);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(start);\n        }\n      }\n    },\n    onUpdate(props) {\n      for (const node of nodes) {\n        node.setProperties(props);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(props);\n        }\n      }\n    },\n    onStop: () => {\n      for (const node of nodes) {\n        node.setProperties(__spreadValues2(__spreadValues2({}, to), finish));\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(__spreadValues2(__spreadValues2({}, to), finish));\n        }\n      }\n    }\n  });\n}\nfunction calculateStatus(node, datum, getDatumId, diff2) {\n  const id = getDatumId(node, datum);\n  if (diff2.added.has(id)) {\n    return \"added\";\n  }\n  if (diff2.removed.has(id)) {\n    return \"removed\";\n  }\n  return \"updated\";\n}\nvar twoPi = Math.PI * 2;\nfunction normalizeAngle360(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  radians %= twoPi;\n  return radians;\n}\nfunction normalizeAngle360Inclusive(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  if (radians !== twoPi) {\n    radians %= twoPi;\n  }\n  return radians;\n}\nfunction normalizeAngle180(radians) {\n  radians %= twoPi;\n  if (radians < -Math.PI) {\n    radians += twoPi;\n  } else if (radians >= Math.PI) {\n    radians -= twoPi;\n  }\n  return radians;\n}\nfunction isBetweenAngles(targetAngle, startAngle, endAngle) {\n  const t = normalizeAngle360(targetAngle);\n  const a0 = normalizeAngle360(startAngle);\n  const a1 = normalizeAngle360Inclusive(endAngle);\n  if (a0 <= a1) {\n    return a0 <= t && t <= a1;\n  } else {\n    return a0 <= t || t <= a1;\n  }\n}\nfunction toRadians(degrees) {\n  return degrees / 180 * Math.PI;\n}\nfunction toDegrees(radians) {\n  return radians / Math.PI * 180;\n}\nfunction angleBetween(angle0, angle1) {\n  angle0 = normalizeAngle360(angle0);\n  angle1 = normalizeAngle360(angle1);\n  return angle1 - angle0 + (angle0 > angle1 ? 2 * Math.PI : 0);\n}\nfunction displacePointFromVector(centerX, centerY, radius, angle) {\n  const x = centerX + radius * Math.cos(angle);\n  const y = centerY + radius * Math.sin(angle);\n  return { x, y };\n}\nvar Invalidating = (target, propertyKey) => {\n  const mappedProperty = Symbol(String(propertyKey));\n  target[mappedProperty] = void 0;\n  Object.defineProperty(target, propertyKey, {\n    get() {\n      return this[mappedProperty];\n    },\n    set(newValue) {\n      const oldValue = this[mappedProperty];\n      if (oldValue !== newValue) {\n        this[mappedProperty] = newValue;\n        this.invalid = true;\n      }\n    },\n    enumerable: true,\n    configurable: false\n  });\n};\nvar _BandScale = class _BandScale2 {\n  constructor() {\n    this.type = \"band\";\n    this.invalid = true;\n    this.interval = void 0;\n    this.index = /* @__PURE__ */ new Map();\n    this.ordinalRange = [];\n    this._domain = [];\n    this.range = [0, 1];\n    this._bandwidth = 1;\n    this._step = 1;\n    this._rawBandwidth = 1;\n    this._paddingInner = 0;\n    this._paddingOuter = 0;\n    this.round = false;\n  }\n  static is(value) {\n    return value instanceof _BandScale2;\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  set domain(values) {\n    this.invalid = true;\n    const domain = [];\n    this.index = /* @__PURE__ */ new Map();\n    const index = this.index;\n    values.forEach((value) => {\n      if (this.getIndex(value) === void 0) {\n        index.set(value, domain.push(value) - 1);\n      }\n    });\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  ticks() {\n    this.refresh();\n    let { interval = 1 } = this;\n    if (typeof interval !== \"number\") {\n      interval = Number(interval);\n    }\n    const step = Math.abs(Math.round(interval));\n    return this._domain.filter((_, i) => i % step === 0);\n  }\n  convert(d) {\n    this.refresh();\n    const i = this.getIndex(d);\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  invert(position) {\n    this.refresh();\n    const index = this.ordinalRange.findIndex((p) => p === position);\n    return this.domain[index];\n  }\n  invertNearest(position) {\n    var _a;\n    this.refresh();\n    let nearest = -1;\n    let minDistance = Infinity;\n    const index = this.ordinalRange.findIndex((p, i) => {\n      if (p === position)\n        return true;\n      const distance2 = Math.abs(position - p);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        nearest = i;\n      }\n      return false;\n    });\n    return (_a = this.domain[index]) != null ? _a : this.domain[nearest];\n  }\n  get bandwidth() {\n    this.refresh();\n    return this._bandwidth;\n  }\n  get step() {\n    this.refresh();\n    return this._step;\n  }\n  get rawBandwidth() {\n    this.refresh();\n    return this._rawBandwidth;\n  }\n  set padding(value) {\n    value = clamp(0, value, 1);\n    this._paddingInner = value;\n    this._paddingOuter = value;\n  }\n  get padding() {\n    return this._paddingInner;\n  }\n  set paddingInner(value) {\n    this._paddingInner = clamp(0, value, 1);\n  }\n  get paddingInner() {\n    return this._paddingInner;\n  }\n  set paddingOuter(value) {\n    this._paddingOuter = clamp(0, value, 1);\n  }\n  get paddingOuter() {\n    return this._paddingOuter;\n  }\n  update() {\n    const count = this._domain.length;\n    if (count === 0) {\n      return;\n    }\n    const round3 = this.round;\n    const paddingInner = this._paddingInner;\n    const paddingOuter = this._paddingOuter;\n    const [r0, r1] = this.range;\n    const width = r1 - r0;\n    const rawStep = width / Math.max(1, count + 2 * paddingOuter - paddingInner);\n    const step = round3 ? Math.floor(rawStep) : rawStep;\n    const fullBandWidth = step * (count - paddingInner);\n    const x0 = r0 + (width - fullBandWidth) / 2;\n    const start = round3 ? Math.round(x0) : x0;\n    const bw = step * (1 - paddingInner);\n    const bandwidth = round3 ? Math.round(bw) : bw;\n    const rawBandwidth = rawStep * (1 - paddingInner);\n    const values = [];\n    for (let i = 0; i < count; i++) {\n      values.push(start + step * i);\n    }\n    this._bandwidth = bandwidth;\n    this._rawBandwidth = rawBandwidth;\n    this._step = step;\n    this.ordinalRange = values;\n  }\n  getIndex(value) {\n    if (!(value instanceof Date)) {\n      return this.index.get(value);\n    }\n    const valueOf = value.valueOf();\n    let index = 0;\n    for (const key of this.index.keys()) {\n      if (key instanceof Date && key.valueOf() === valueOf) {\n        return index;\n      }\n      index++;\n    }\n  }\n};\n__decorateClass2([\n  Invalidating\n], _BandScale.prototype, \"interval\", 2);\n__decorateClass2([\n  Invalidating\n], _BandScale.prototype, \"range\", 2);\n__decorateClass2([\n  Invalidating\n], _BandScale.prototype, \"round\", 2);\nvar BandScale = _BandScale;\nfunction Default(defaultValue, replaces = [void 0]) {\n  return addTransformToInstanceProperty((_, __, v) => {\n    if (replaces.includes(v)) {\n      return isFunction(defaultValue) ? defaultValue(v) : defaultValue;\n    }\n    return v;\n  });\n}\nfunction Validate(predicate, options = {}) {\n  const { optional = false, property: overrideProperty } = options;\n  return addTransformToInstanceProperty(\n    (target, property, value) => {\n      var _a;\n      const context = __spreadProps(__spreadValues2({}, options), { target, property });\n      if (optional && typeof value === \"undefined\" || predicate(value, context)) {\n        if (isProperties(target[property]) && !isProperties(value)) {\n          target[property].set(value);\n          return target[property];\n        }\n        return value;\n      }\n      const cleanKey = overrideProperty != null ? overrideProperty : String(property).replace(/^_*/, \"\");\n      const targetName = (_a = target.constructor.className) != null ? _a : target.constructor.name.replace(/Properties$/, \"\");\n      let valueString = stringify(value);\n      const maxLength = 50;\n      if (valueString != null && valueString.length > maxLength) {\n        const excessCharacters = valueString.length - maxLength;\n        valueString = valueString.slice(0, maxLength) + `... (+${excessCharacters} characters)`;\n      }\n      Logger.warn(\n        `Property [${cleanKey}] of [${targetName}] cannot be set to [${valueString}]${predicate.message ? `; expecting ${getPredicateMessage(predicate, context)}` : \"\"}, ignoring.`\n      );\n      return BREAK_TRANSFORM_CHAIN;\n    },\n    void 0,\n    { optional }\n  );\n}\nvar AND = (...predicates) => {\n  const messages = [];\n  return predicateWithMessage(\n    (value, ctx) => {\n      messages.length = 0;\n      return predicates.every((predicate) => {\n        const isValid = predicate(value, ctx);\n        if (!isValid) {\n          messages.push(getPredicateMessage(predicate, ctx));\n        }\n        return isValid;\n      });\n    },\n    () => messages.filter(Boolean).join(\" AND \")\n  );\n};\nvar OR = (...predicates) => predicateWithMessage(\n  (value, ctx) => predicates.some((predicate) => predicate(value, ctx)),\n  (ctx) => predicates.map(getPredicateMessageMapper(ctx)).filter(Boolean).join(\" OR \")\n);\nvar OBJECT = attachObjectRestrictions(\n  predicateWithMessage(\n    (value, ctx) => isProperties(value) || isObject(value) && isProperties(ctx.target[ctx.property]),\n    \"a properties object\"\n  )\n);\nvar PLAIN_OBJECT = attachObjectRestrictions(predicateWithMessage((value) => isObject(value), \"an object\"));\nvar BOOLEAN = predicateWithMessage(isBoolean, \"a boolean\");\nvar FUNCTION = predicateWithMessage(isFunction, \"a function\");\nvar STRING = predicateWithMessage(isString, \"a string\");\nvar NUMBER = attachNumberRestrictions(predicateWithMessage(isFiniteNumber, \"a number\"));\nvar NAN = predicateWithMessage((value) => isNumber(value) && isNaN(value), \"NaN\");\nvar POSITIVE_NUMBER = NUMBER.restrict({ min: 0 });\nvar RATIO = NUMBER.restrict({ min: 0, max: 1 });\nvar DEGREE = NUMBER.restrict({ min: -360, max: 360 });\nvar NUMBER_OR_NAN = OR(NUMBER, NAN);\nvar ARRAY = attachArrayRestrictions(predicateWithMessage(isArray, \"an array\"));\nvar ARRAY_OF = (predicate, message) => predicateWithMessage(\n  (value, ctx) => isArray(value) && value.every((item) => predicate(item, ctx)),\n  (ctx) => {\n    var _a;\n    const arrayMessage = (_a = getPredicateMessage(ARRAY, ctx)) != null ? _a : \"\";\n    return message ? `${arrayMessage} of ${message}` : arrayMessage;\n  }\n);\nvar isComparable = (value) => isFiniteNumber(value) || isValidDate(value);\nvar LESS_THAN = (otherField) => predicateWithMessage(\n  (v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v < ctx.target[otherField],\n  `to be less than ${otherField}`\n);\nvar GREATER_THAN = (otherField) => predicateWithMessage(\n  (v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v > ctx.target[otherField],\n  `to be greater than ${otherField}`\n);\nvar DATE = predicateWithMessage(isValidDate, \"Date object\");\nvar DATE_OR_DATETIME_MS = OR(DATE, POSITIVE_NUMBER);\nvar colorMessage = `A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc`;\nvar COLOR_STRING = predicateWithMessage(\n  (v) => isString(v) && Color.validColorString(v),\n  `color String. ${colorMessage}`\n);\nvar COLOR_STRING_ARRAY = predicateWithMessage(ARRAY_OF(COLOR_STRING), `color strings. ${colorMessage}`);\nvar BOOLEAN_ARRAY = ARRAY_OF(BOOLEAN, \"boolean values\");\nvar NUMBER_ARRAY = ARRAY_OF(NUMBER, \"numbers\");\nvar STRING_ARRAY = ARRAY_OF(STRING, \"strings\");\nvar DATE_ARRAY = predicateWithMessage(ARRAY_OF(DATE), \"Date objects\");\nvar OBJECT_ARRAY = predicateWithMessage(ARRAY_OF(OBJECT), \"objects\");\nvar LINE_CAP = UNION([\"butt\", \"round\", \"square\"], \"a line cap\");\nvar LINE_JOIN = UNION([\"round\", \"bevel\", \"miter\"], \"a line join\");\nvar LINE_DASH = predicateWithMessage(\n  ARRAY_OF(POSITIVE_NUMBER),\n  \"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.\"\n);\nvar POSITION2 = UNION([\"top\", \"right\", \"bottom\", \"left\"], \"a position\");\nvar FONT_STYLE = UNION([\"normal\", \"italic\", \"oblique\"], \"a font style\");\nvar FONT_WEIGHT2 = OR(\n  UNION([\"normal\", \"bold\", \"bolder\", \"lighter\"], \"a font weight\"),\n  NUMBER.restrict({ min: 1, max: 1e3 })\n);\nvar TEXT_WRAP = UNION([\"never\", \"always\", \"hyphenate\", \"on-space\"], \"a text wrap strategy\");\nvar TEXT_ALIGN = UNION([\"left\", \"center\", \"right\"], \"a text align\");\nvar VERTICAL_ALIGN = UNION([\"top\", \"middle\", \"bottom\"], \"a vertical align\");\nvar OVERFLOW_STRATEGY = UNION([\"ellipsis\", \"hide\"], \"an overflow strategy\");\nvar DIRECTION = UNION([\"horizontal\", \"vertical\"], \"a direction\");\nvar PLACEMENT = UNION([\"inside\", \"outside\"], \"a placement\");\nvar INTERACTION_RANGE = OR(UNION([\"exact\", \"nearest\"], \"interaction range\"), NUMBER);\nvar LABEL_PLACEMENT = UNION([\"top\", \"bottom\", \"left\", \"right\"]);\nfunction UNION(options, message = \"a\") {\n  return predicateWithMessage(\n    (v) => options.includes(v),\n    `${message} keyword such as ${joinUnionOptions(options)}`\n  );\n}\nvar MIN_SPACING = OR(AND(NUMBER.restrict({ min: 1 }), LESS_THAN(\"maxSpacing\")), NAN);\nvar MAX_SPACING = OR(AND(NUMBER.restrict({ min: 1 }), GREATER_THAN(\"minSpacing\")), NAN);\nfunction predicateWithMessage(predicate, message) {\n  predicate.message = message;\n  return predicate;\n}\nfunction joinUnionOptions(options) {\n  const values = options.map((option) => `'${option}'`);\n  if (values.length === 1) {\n    return values[0];\n  }\n  const lastValue = values.pop();\n  return `${values.join(\", \")} or ${lastValue}`;\n}\nfunction getPredicateMessage(predicate, ctx) {\n  return isFunction(predicate.message) ? predicate.message(ctx) : predicate.message;\n}\nfunction getPredicateMessageMapper(ctx) {\n  return (predicate) => getPredicateMessage(predicate, ctx);\n}\nfunction attachArrayRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict({ length, minLength } = {}) {\n      let message = \"an array\";\n      if (isNumber(minLength) && minLength > 0) {\n        message = \"a non-empty array\";\n      } else if (isNumber(length)) {\n        message = `an array of length ${length}`;\n      }\n      return predicateWithMessage(\n        (value) => isArray(value) && (isNumber(length) ? value.length === length : true) && (isNumber(minLength) ? value.length >= minLength : true),\n        message\n      );\n    }\n  });\n}\nfunction attachNumberRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict({ min, max } = {}) {\n      const message = [\"a number\"];\n      const hasMin = isNumber(min);\n      const hasMax = isNumber(max);\n      if (hasMin && hasMax) {\n        message.push(`between ${min} and ${max} inclusive`);\n      } else if (hasMin) {\n        message.push(`greater than or equal to ${min}`);\n      } else if (hasMax) {\n        message.push(`less than or equal to ${max}`);\n      }\n      return predicateWithMessage(\n        (value) => isFiniteNumber(value) && (hasMin ? value >= min : true) && (hasMax ? value <= max : true),\n        message.join(\" \")\n      );\n    }\n  });\n}\nfunction attachObjectRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict(objectType) {\n      return predicateWithMessage(\n        (value) => value instanceof objectType,\n        (ctx) => {\n          var _a;\n          return (_a = getPredicateMessage(predicate, ctx)) != null ? _a : `an instance of ${objectType.name}`;\n        }\n      );\n    }\n  });\n}\nfunction stringify(value) {\n  if (typeof value === \"number\") {\n    if (isNaN(value))\n      return \"NaN\";\n    if (value === Infinity)\n      return \"Infinity\";\n    if (value === -Infinity)\n      return \"-Infinity\";\n  }\n  return JSON.stringify(value);\n}\nvar TICK_INTERVAL = predicateWithMessage(\n  (value) => isFiniteNumber(value) && value > 0 || value instanceof TimeInterval,\n  `a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'`\n);\nvar AxisTick = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.width = 1;\n    this.size = 6;\n    this.color = void 0;\n    this.interval = void 0;\n    this.values = void 0;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], AxisTick.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], AxisTick.prototype, \"width\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], AxisTick.prototype, \"size\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], AxisTick.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(TICK_INTERVAL, { optional: true })\n], AxisTick.prototype, \"interval\", 2);\n__decorateClass2([\n  Validate(ARRAY, { optional: true })\n], AxisTick.prototype, \"values\", 2);\nvar ChartAxisDirection = /* @__PURE__ */ ((ChartAxisDirection2) => {\n  ChartAxisDirection2[\"X\"] = \"x\";\n  ChartAxisDirection2[\"Y\"] = \"y\";\n  return ChartAxisDirection2;\n})(ChartAxisDirection || {});\nvar JSON_APPLY_PLUGINS = {\n  constructedArrays: /* @__PURE__ */ new WeakMap()\n};\nfunction assignJsonApplyConstructedArray(array, ctor) {\n  var _a;\n  (_a = JSON_APPLY_PLUGINS.constructedArrays) == null ? void 0 : _a.set(array, ctor);\n}\nvar _ContinuousScale = class _ContinuousScale2 {\n  constructor(domain, range3) {\n    this.invalid = true;\n    this.nice = false;\n    this.interval = void 0;\n    this.tickCount = _ContinuousScale2.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.niceDomain = [];\n    this.defaultClampMode = \"raw\";\n    this.domain = domain;\n    this.range = range3;\n  }\n  static is(value) {\n    return value instanceof _ContinuousScale2;\n  }\n  transform(x) {\n    return x;\n  }\n  transformInvert(x) {\n    return x;\n  }\n  calcBandwidth(smallestInterval = 1) {\n    const { range: range3 } = this;\n    const domain = this.getDomain();\n    const rangeDistance = Math.abs(range3[1] - range3[0]);\n    const intervals = Math.abs(domain[1] - domain[0]) / smallestInterval + 1;\n    const maxBands = Math.floor(rangeDistance);\n    const bands = Math.min(intervals, maxBands);\n    return rangeDistance / Math.max(1, bands);\n  }\n  getDomain() {\n    if (this.nice) {\n      this.refresh();\n      if (this.niceDomain.length) {\n        return this.niceDomain;\n      }\n    }\n    return this.domain;\n  }\n  convert(x, opts) {\n    var _a;\n    const clampMode = (_a = opts == null ? void 0 : opts.clampMode) != null ? _a : this.defaultClampMode;\n    if (!this.domain || this.domain.length < 2) {\n      return NaN;\n    }\n    this.refresh();\n    const domain = this.getDomain().map((d) => this.transform(d));\n    const [d0, d1] = domain;\n    const { range: range3 } = this;\n    const [r0, r1] = range3;\n    x = this.transform(x);\n    if (clampMode === \"clamped\") {\n      const [start, stop] = findMinMax(domain.map(Number));\n      if (Number(x) < start) {\n        return r0;\n      } else if (Number(x) > stop) {\n        return r1;\n      }\n    }\n    if (d0 === d1) {\n      return (r0 + r1) / 2;\n    } else if (x === d0) {\n      return r0;\n    } else if (x === d1) {\n      return r1;\n    }\n    return r0 + (Number(x) - Number(d0)) / (Number(d1) - Number(d0)) * (r1 - r0);\n  }\n  invert(x) {\n    this.refresh();\n    const domain = this.getDomain().map((d2) => this.transform(d2));\n    const [d0, d1] = domain;\n    const { range: range3 } = this;\n    const [r0, r1] = range3;\n    const isReversed = r0 > r1;\n    const rMin = isReversed ? r1 : r0;\n    const rMax = isReversed ? r0 : r1;\n    let d;\n    if (x < rMin) {\n      return isReversed ? d1 : d0;\n    } else if (x > rMax) {\n      return isReversed ? d0 : d1;\n    } else if (r0 === r1) {\n      d = this.toDomain((Number(d0) + Number(d1)) / 2);\n    } else {\n      d = this.toDomain(Number(d0) + (x - r0) / (r1 - r0) * (Number(d1) - Number(d0)));\n    }\n    return this.transformInvert(d);\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  getPixelRange() {\n    const [a, b] = this.range;\n    return Math.abs(b - a);\n  }\n};\n_ContinuousScale.defaultTickCount = 5;\n_ContinuousScale.defaultMaxTickCount = 6;\n__decorateClass2([\n  Invalidating\n], _ContinuousScale.prototype, \"domain\", 2);\n__decorateClass2([\n  Invalidating\n], _ContinuousScale.prototype, \"range\", 2);\n__decorateClass2([\n  Invalidating\n], _ContinuousScale.prototype, \"nice\", 2);\n__decorateClass2([\n  Invalidating\n], _ContinuousScale.prototype, \"interval\", 2);\n__decorateClass2([\n  Invalidating\n], _ContinuousScale.prototype, \"tickCount\", 2);\n__decorateClass2([\n  Invalidating\n], _ContinuousScale.prototype, \"minTickCount\", 2);\n__decorateClass2([\n  Invalidating\n], _ContinuousScale.prototype, \"maxTickCount\", 2);\nvar ContinuousScale = _ContinuousScale;\nvar CONSTANTS = {\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n};\nfunction dayOfYear(date, startOfYear = new Date(date.getFullYear(), 0, 1)) {\n  const startOffset = date.getTimezoneOffset() - startOfYear.getTimezoneOffset();\n  const timeDiff = date.getTime() - startOfYear.getTime() + startOffset * 6e4;\n  const timeOneDay = 36e5 * 24;\n  return Math.floor(timeDiff / timeOneDay);\n}\nfunction weekOfYear(date, startDay) {\n  const startOfYear = new Date(date.getFullYear(), 0, 1);\n  const startOfYearDay = startOfYear.getDay();\n  const firstWeekStartOffset = (startDay - startOfYearDay + 7) % 7;\n  const startOffset = new Date(date.getFullYear(), 0, firstWeekStartOffset + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return 0;\n}\nvar SUNDAY = 0;\nvar MONDAY = 1;\nvar THURSDAY = 4;\nfunction isoWeekOfYear(date, year2 = date.getFullYear()) {\n  const firstOfYear = new Date(year2, 0, 1);\n  const firstOfYearDay = firstOfYear.getDay();\n  const firstThursdayOffset = (THURSDAY - firstOfYearDay + 7) % 7;\n  const startOffset = new Date(year2, 0, firstThursdayOffset - (THURSDAY - MONDAY) + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return isoWeekOfYear(date, year2 - 1);\n}\nfunction timezone(date) {\n  const offset4 = date.getTimezoneOffset();\n  const unsignedOffset = Math.abs(offset4);\n  const sign = offset4 > 0 ? \"-\" : \"+\";\n  return `${sign}${pad(Math.floor(unsignedOffset / 60), 2, \"0\")}${pad(Math.floor(unsignedOffset % 60), 2, \"0\")}`;\n}\nvar FORMATTERS = {\n  a: (d) => CONSTANTS.shortDays[d.getDay()],\n  A: (d) => CONSTANTS.days[d.getDay()],\n  b: (d) => CONSTANTS.shortMonths[d.getMonth()],\n  B: (d) => CONSTANTS.months[d.getMonth()],\n  c: \"%x, %X\",\n  d: (d, p) => pad(d.getDate(), 2, p != null ? p : \"0\"),\n  e: \"%_d\",\n  f: (d, p) => pad(d.getMilliseconds() * 1e3, 6, p != null ? p : \"0\"),\n  H: (d, p) => pad(d.getHours(), 2, p != null ? p : \"0\"),\n  I: (d, p) => {\n    const hours = d.getHours() % 12;\n    return hours === 0 ? \"12\" : pad(hours, 2, p != null ? p : \"0\");\n  },\n  j: (d, p) => pad(dayOfYear(d) + 1, 3, p != null ? p : \"0\"),\n  m: (d, p) => pad(d.getMonth() + 1, 2, p != null ? p : \"0\"),\n  M: (d, p) => pad(d.getMinutes(), 2, p != null ? p : \"0\"),\n  L: (d, p) => pad(d.getMilliseconds(), 3, p != null ? p : \"0\"),\n  p: (d) => d.getHours() < 12 ? \"AM\" : \"PM\",\n  Q: (d) => String(d.getTime()),\n  s: (d) => String(Math.floor(d.getTime() / 1e3)),\n  S: (d, p) => pad(d.getSeconds(), 2, p != null ? p : \"0\"),\n  u: (d) => {\n    let day2 = d.getDay();\n    if (day2 < 1)\n      day2 += 7;\n    return String(day2 % 7);\n  },\n  U: (d, p) => pad(weekOfYear(d, SUNDAY), 2, p != null ? p : \"0\"),\n  V: (d, p) => pad(isoWeekOfYear(d), 2, p != null ? p : \"0\"),\n  w: (d, p) => pad(d.getDay(), 2, p != null ? p : \"0\"),\n  W: (d, p) => pad(weekOfYear(d, MONDAY), 2, p != null ? p : \"0\"),\n  x: \"%-m/%-d/%Y\",\n  X: \"%-I:%M:%S %p\",\n  y: (d, p) => pad(d.getFullYear() % 100, 2, p != null ? p : \"0\"),\n  Y: (d, p) => pad(d.getFullYear(), 4, p != null ? p : \"0\"),\n  Z: (d) => timezone(d),\n  \"%\": () => \"%\"\n};\nvar PADS = {\n  _: \" \",\n  \"0\": \"0\",\n  \"-\": \"\"\n};\nfunction pad(value, size, padChar) {\n  const output = String(Math.floor(value));\n  if (output.length >= size) {\n    return output;\n  }\n  return `${padChar.repeat(size - output.length)}${output}`;\n}\nfunction buildFormatter(formatString) {\n  const formatParts = [];\n  while (formatString.length > 0) {\n    let nextEscapeIdx = formatString.indexOf(\"%\");\n    if (nextEscapeIdx !== 0) {\n      const literalPart = nextEscapeIdx > 0 ? formatString.substring(0, nextEscapeIdx) : formatString;\n      formatParts.push(literalPart);\n    }\n    if (nextEscapeIdx < 0)\n      break;\n    const maybePadSpecifier = formatString[nextEscapeIdx + 1];\n    const maybePad = PADS[maybePadSpecifier];\n    if (maybePad != null) {\n      nextEscapeIdx++;\n    }\n    const maybeFormatterSpecifier = formatString[nextEscapeIdx + 1];\n    const maybeFormatter = FORMATTERS[maybeFormatterSpecifier];\n    if (typeof maybeFormatter === \"function\") {\n      formatParts.push([maybeFormatter, maybePad]);\n    } else if (typeof maybeFormatter === \"string\") {\n      const formatter = buildFormatter(maybeFormatter);\n      formatParts.push([formatter, maybePad]);\n    } else {\n      formatParts.push(`${maybePad != null ? maybePad : \"\"}${maybeFormatterSpecifier}`);\n    }\n    formatString = formatString.substring(nextEscapeIdx + 2);\n  }\n  return (dateTime) => {\n    const dateTimeAsDate = typeof dateTime === \"number\" ? new Date(dateTime) : dateTime;\n    return formatParts.map((c) => typeof c === \"string\" ? c : c[0](dateTimeAsDate, c[1])).join(\"\");\n  };\n}\nfunction dateToNumber(x) {\n  return x instanceof Date ? x.getTime() : x;\n}\nfunction defaultTimeTickFormat(ticks, domain) {\n  const formatString = calculateDefaultTimeTickFormat(ticks, domain);\n  return (date) => buildFormatter(formatString)(date);\n}\nfunction calculateDefaultTimeTickFormat(ticks = [], domain = ticks) {\n  let defaultTimeFormat = 8;\n  const updateFormat = (format2) => {\n    if (format2 < defaultTimeFormat) {\n      defaultTimeFormat = format2;\n    }\n  };\n  for (const value of ticks) {\n    const format2 = getLowestGranularityFormat(value);\n    updateFormat(format2);\n  }\n  const startDomain = dateToNumber(domain[0]);\n  const endDomain = dateToNumber(domain.at(-1));\n  const startYear = new Date(startDomain).getFullYear();\n  const stopYear = new Date(endDomain).getFullYear();\n  const yearChange = stopYear - startYear > 0;\n  return formatStringBuilder(defaultTimeFormat, yearChange, ticks);\n}\nfunction getLowestGranularityFormat(value) {\n  if (second_default.floor(value) < value) {\n    return 0;\n  } else if (minute_default.floor(value) < value) {\n    return 1;\n  } else if (hour_default.floor(value) < value) {\n    return 2;\n  } else if (day_default.floor(value) < value) {\n    return 3;\n  } else if (month_default.floor(value) < value) {\n    if (week_default.floor(value) < value) {\n      return 4;\n    }\n    return 5;\n  } else if (year_default.floor(value) < value) {\n    return 6;\n  }\n  return 8;\n}\nfunction formatStringBuilder(defaultTimeFormat, yearChange, ticks) {\n  const firstTick = dateToNumber(ticks[0]);\n  const lastTick = dateToNumber(ticks.at(-1));\n  const extent22 = Math.abs(lastTick - firstTick);\n  const activeYear = yearChange || defaultTimeFormat === 8;\n  const activeDate = extent22 === 0;\n  const parts = [\n    [\"hour\", 6 * durationHour, 14 * durationDay, 3, \"%I %p\"],\n    [\"hour\", durationMinute, 6 * durationHour, 3, \"%I:%M\"],\n    [\"second\", 1e3, 6 * durationHour, 1, \":%S\"],\n    [\"ms\", 0, 6 * durationHour, 0, \".%L\"],\n    [\"am/pm\", durationMinute, 6 * durationHour, 3, \"%p\"],\n    \" \",\n    [\"day\", durationDay, 1 * durationWeek, 4, \"%a\"],\n    [\"month\", activeDate ? 0 : durationWeek, 52 * durationWeek, 5, \"%b %d\"],\n    [\"month\", 5 * durationWeek, 10 * durationYear, 6, \"%B\"],\n    \" \",\n    [\"year\", activeYear ? 0 : durationYear, Infinity, 8, \"%Y\"]\n  ];\n  const formatParts = parts.filter((v) => {\n    if (typeof v === \"string\")\n      return true;\n    const [_, min, max, format2] = v;\n    return format2 >= defaultTimeFormat && min <= extent22 && extent22 < max;\n  }).reduce(\n    (r, next) => {\n      if (typeof next === \"string\") {\n        r.result.push(next);\n      } else if (!r.used.has(next[0])) {\n        r.result.push(next);\n        r.used.add(next[0]);\n      }\n      return r;\n    },\n    { result: [], used: /* @__PURE__ */ new Set() }\n  ).result;\n  const firstFormat = formatParts.findIndex((v) => typeof v !== \"string\");\n  const lastFormat = formatParts.length - [...formatParts].reverse().findIndex((v) => typeof v !== \"string\");\n  return formatParts.slice(firstFormat, lastFormat).map((v) => typeof v === \"string\" ? v : v[4]).join(\"\").replaceAll(/\\s+/g, \" \").trim();\n}\nvar createNumericTicks = (fractionDigits, takingValues = []) => Object.assign(takingValues, { fractionDigits });\nfunction ticks_default(start, stop, count, minCount, maxCount) {\n  if (count < 2) {\n    return range(start, stop, stop - start);\n  }\n  const step = tickStep(start, stop, count, minCount, maxCount);\n  if (isNaN(step)) {\n    return createNumericTicks(0);\n  }\n  start = Math.ceil(start / step) * step;\n  stop = Math.floor(stop / step) * step;\n  return range(start, stop, step);\n}\nvar tickMultipliers = [1, 2, 5, 10];\nfunction tickStep(a, b, count, minCount = 0, maxCount = Infinity) {\n  const extent22 = Math.abs(b - a);\n  const rawStep = extent22 / count;\n  const power = Math.floor(Math.log10(rawStep));\n  const step = Math.pow(10, power);\n  const m = tickMultipliers.map((multiplier) => {\n    const s = multiplier * step;\n    const c = Math.ceil(extent22 / s);\n    const isWithinBounds = c >= minCount && c <= maxCount;\n    const diffCount = Math.abs(c - count);\n    return { multiplier, isWithinBounds, diffCount };\n  }).sort((a2, b2) => {\n    if (a2.isWithinBounds !== b2.isWithinBounds) {\n      return a2.isWithinBounds ? -1 : 1;\n    }\n    return a2.diffCount - b2.diffCount;\n  })[0].multiplier;\n  if (!m || isNaN(m)) {\n    return NaN;\n  }\n  return m * step;\n}\nfunction singleTickDomain(a, b) {\n  const extent22 = Math.abs(b - a);\n  const power = Math.floor(Math.log10(extent22));\n  const step = Math.pow(10, power);\n  const roundStart = a > b ? Math.ceil : Math.floor;\n  const roundStop = b < a ? Math.floor : Math.ceil;\n  return tickMultipliers.map((multiplier) => {\n    const s = multiplier * step;\n    const start = roundStart(a / s) * s;\n    const end = roundStop(b / s) * s;\n    const error = 1 - extent22 / Math.abs(end - start);\n    const domain = [start, end];\n    return { error, domain };\n  }).sort((a2, b2) => a2.error - b2.error)[0].domain;\n}\nfunction range(start, stop, step) {\n  const d0 = Math.min(start, stop);\n  const d1 = Math.max(start, stop);\n  const fractionalDigits = countFractionDigits(step);\n  const f = Math.pow(10, fractionalDigits);\n  const n = Math.ceil((d1 - d0) / step);\n  const values = createNumericTicks(fractionalDigits);\n  for (let i = 0; i <= n; i++) {\n    const value = d0 + step * i;\n    values.push(Math.round(value * f) / f);\n  }\n  return values;\n}\nfunction isDenseInterval({\n  start,\n  stop,\n  interval,\n  count,\n  availableRange\n}) {\n  const domain = stop - start;\n  const step = typeof interval === \"number\" ? interval : 1;\n  count != null ? count : count = domain / step;\n  if (count >= availableRange) {\n    Logger.warnOnce(\n      `the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration`\n    );\n    return true;\n  }\n  return false;\n}\nvar _TimeScale = class _TimeScale2 extends ContinuousScale {\n  constructor() {\n    super([], [0, 1]);\n    this.type = \"time\";\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  /**\n   * @param options Tick interval options.\n   * @param options.start The start time (timestamp).\n   * @param options.stop The end time (timestamp).\n   * @param options.count Number of intervals between ticks.\n   */\n  static getTickInterval({\n    start,\n    stop,\n    count,\n    minCount,\n    maxCount,\n    target\n  }) {\n    let countableTimeInterval;\n    let step;\n    const tickCount = count != null ? count : ContinuousScale.defaultTickCount;\n    const targetInterval = target != null ? target : Math.abs(stop - start) / Math.max(tickCount, 1);\n    const i = _TimeScale2.getIntervalIndex(targetInterval);\n    if (i === 0) {\n      step = Math.max(tickStep(start, stop, tickCount, minCount, maxCount), 1);\n      countableTimeInterval = millisecond_default;\n    } else if (i === _TimeScale2.tickIntervals.length) {\n      const y0 = start / durationYear;\n      const y1 = stop / durationYear;\n      step = target === void 0 ? tickStep(y0, y1, tickCount, minCount, maxCount) : 1;\n      countableTimeInterval = year_default;\n    } else {\n      const diff0 = targetInterval - _TimeScale2.tickIntervals[i - 1][2];\n      const diff1 = _TimeScale2.tickIntervals[i][2] - targetInterval;\n      const index = diff0 < diff1 ? i - 1 : i;\n      [countableTimeInterval, step] = _TimeScale2.tickIntervals[index];\n    }\n    return countableTimeInterval.every(step);\n  }\n  static getIntervalIndex(target) {\n    let i = 0;\n    while (i < _TimeScale2.tickIntervals.length && target > _TimeScale2.tickIntervals[i][2]) {\n      i++;\n    }\n    return i;\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  /**\n   * Returns uniformly-spaced dates that represent the scale's domain.\n   */\n  ticks() {\n    if (!this.domain || this.domain.length < 2) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = this.getDomain().map(dateToNumber);\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const { interval, nice, tickCount, minTickCount, maxTickCount } = this;\n    if (interval !== void 0) {\n      const availableRange = this.getPixelRange();\n      const ticks = _TimeScale2.getTicksForInterval({ start, stop, interval, availableRange });\n      return ticks != null ? ticks : _TimeScale2.getDefaultTicks({ start, stop, tickCount, minTickCount, maxTickCount });\n    }\n    if (nice) {\n      if (tickCount === 2) {\n        return this.niceDomain;\n      }\n      if (tickCount === 1) {\n        return this.niceDomain.slice(0, 1);\n      }\n    }\n    return _TimeScale2.getDefaultTicks({ start, stop, tickCount, minTickCount, maxTickCount });\n  }\n  static getDefaultTicks({\n    start,\n    stop,\n    tickCount,\n    minTickCount,\n    maxTickCount\n  }) {\n    const t = _TimeScale2.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount\n    });\n    return t ? t.range(new Date(start), new Date(stop)) : [];\n  }\n  static getTicksForInterval({\n    start,\n    stop,\n    interval,\n    availableRange\n  }) {\n    if (!interval) {\n      return [];\n    }\n    if (interval instanceof TimeInterval) {\n      const ticks2 = interval.range(new Date(start), new Date(stop));\n      if (isDenseInterval({ start, stop, interval, count: ticks2.length, availableRange })) {\n        return;\n      }\n      return ticks2;\n    }\n    const absInterval = Math.abs(interval);\n    if (isDenseInterval({ start, stop, interval: absInterval, availableRange })) {\n      return;\n    }\n    const reversedInterval = [..._TimeScale2.tickIntervals];\n    reversedInterval.reverse();\n    const timeInterval = reversedInterval.find((tickInterval) => absInterval % tickInterval[2] === 0);\n    if (timeInterval) {\n      const i = timeInterval[0].every(absInterval / (timeInterval[2] / timeInterval[1]));\n      return i.range(new Date(start), new Date(stop));\n    }\n    let date = new Date(start);\n    const stopDate = new Date(stop);\n    const ticks = [];\n    while (date <= stopDate) {\n      ticks.push(date);\n      date = new Date(date);\n      date.setMilliseconds(date.getMilliseconds() + absInterval);\n    }\n    return ticks;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat({\n    ticks,\n    domain,\n    specifier\n  }) {\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   * This method typically modifies the scale\u2019s domain, and may only extend the bounds to the nearest round value.\n   */\n  updateNiceDomain() {\n    const maxAttempts = 4;\n    let [d0, d1] = this.domain;\n    for (let i = 0; i < maxAttempts; i++) {\n      this.updateNiceDomainIteration(d0, d1);\n      const [n0, n1] = this.niceDomain;\n      if (dateToNumber(d0) === dateToNumber(n0) && dateToNumber(d1) === dateToNumber(n1)) {\n        break;\n      }\n      d0 = n0;\n      d1 = n1;\n    }\n  }\n  updateNiceDomainIteration(d0, d1) {\n    const start = Math.min(dateToNumber(d0), dateToNumber(d1));\n    const stop = Math.max(dateToNumber(d0), dateToNumber(d1));\n    const isReversed = d0 > d1;\n    const { interval } = this;\n    let i;\n    if (interval instanceof TimeInterval) {\n      i = interval;\n    } else {\n      const tickCount = typeof interval === \"number\" ? (stop - start) / Math.max(interval, 1) : this.tickCount;\n      i = _TimeScale2.getTickInterval({\n        start,\n        stop,\n        count: tickCount,\n        minCount: this.minTickCount,\n        maxCount: this.maxTickCount\n      });\n    }\n    if (i) {\n      const intervalRange = i.range(new Date(start), new Date(stop), true);\n      const domain = isReversed ? [...intervalRange].reverse() : intervalRange;\n      const n0 = domain[0];\n      const n1 = domain.at(-1);\n      this.niceDomain = [n0, n1];\n    }\n  }\n};\n_TimeScale.tickIntervals = [\n  [second_default, 1, durationSecond],\n  [second_default, 5, 5 * durationSecond],\n  [second_default, 15, 15 * durationSecond],\n  [second_default, 30, 30 * durationSecond],\n  [minute_default, 1, durationMinute],\n  [minute_default, 5, 5 * durationMinute],\n  [minute_default, 15, 15 * durationMinute],\n  [minute_default, 30, 30 * durationMinute],\n  [hour_default, 1, durationHour],\n  [hour_default, 3, 3 * durationHour],\n  [hour_default, 6, 6 * durationHour],\n  [hour_default, 12, 12 * durationHour],\n  [day_default, 1, durationDay],\n  [day_default, 2, 2 * durationDay],\n  [week_default, 1, durationWeek],\n  [week_default, 2, 2 * durationWeek],\n  [week_default, 3, 3 * durationWeek],\n  [month_default, 1, durationMonth],\n  [month_default, 2, 2 * durationMonth],\n  [month_default, 3, 3 * durationMonth],\n  [month_default, 4, 4 * durationMonth],\n  [month_default, 6, 6 * durationMonth],\n  [year_default, 1, durationYear]\n];\nvar TimeScale = _TimeScale;\nvar _OrdinalTimeScale = class _OrdinalTimeScale2 extends BandScale {\n  constructor() {\n    super(...arguments);\n    this.type = \"ordinal-time\";\n    this.tickCount = ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.interval = void 0;\n    this.index = /* @__PURE__ */ new Map();\n    this._domain = [];\n  }\n  static is(value) {\n    return value instanceof _OrdinalTimeScale2;\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  set domain(values) {\n    this.invalid = true;\n    if (values.length === 0) {\n      this._domain = [];\n      return;\n    }\n    const domain = this.updateIndex(values);\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  updateIndex(values) {\n    this.index = /* @__PURE__ */ new Map();\n    const { index } = this;\n    const domain = [];\n    const extents = [];\n    const isReversed = values[0] > values.at(-1);\n    const indexShift = isReversed ? 0 : 1;\n    values.forEach((value, i2) => {\n      const nextValue = values[i2 + 1];\n      const e02 = isReversed ? value : this.toDomain(dateToNumber(value) + 1);\n      const e12 = isReversed ? this.toDomain(dateToNumber(nextValue) + 1) : nextValue;\n      const dateRange2 = isReversed ? [e12, e02] : [e02, e12];\n      domain.push(value);\n      if (nextValue !== void 0 && index.get(dateRange2) === void 0) {\n        extents.push(Math.abs(dateToNumber(e12) - dateToNumber(e02)));\n        index.set(dateRange2, i2 + indexShift);\n      }\n    });\n    extents.sort((a, b) => a - b);\n    const bands = extents.length;\n    const middleIndex = Math.floor(bands / 2);\n    this.medianInterval = bands > 2 && bands % 2 === 0 ? (extents[middleIndex - 1] + extents[middleIndex + 1]) / 2 : extents[middleIndex];\n    const intervalIndex = Math.max(0, TimeScale.getIntervalIndex(this.medianInterval) - 1);\n    const [countableTimeInterval, step] = TimeScale.tickIntervals[intervalIndex];\n    const interval = countableTimeInterval.every(step);\n    const i = isReversed ? values.length - 1 : 0;\n    const e1 = values[i];\n    const e0 = interval.floor(values[i]);\n    const dateRange = [e0, e1];\n    index.set(dateRange, i);\n    return domain;\n  }\n  ticks() {\n    if (!this.domain) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = [dateToNumber(this.domain[0]), dateToNumber(this.domain.at(-1))];\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const isReversed = t0 > t1;\n    let ticks;\n    if (this.interval !== void 0) {\n      ticks = this.getTicksForInterval({ start, stop, interval: this.interval });\n    }\n    const n = this.domain.length;\n    const { maxTickCount, tickCount } = this;\n    let { minTickCount } = this;\n    let medianInterval;\n    if (isFinite(maxTickCount) && n <= maxTickCount) {\n      minTickCount = Math.max(1, n);\n      medianInterval = this.medianInterval;\n    }\n    ticks != null ? ticks : ticks = this.getDefaultTicks({\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount,\n      isReversed,\n      interval: medianInterval\n    });\n    const tickPositions = /* @__PURE__ */ new Set();\n    return ticks.filter((tick) => {\n      const position = this.convert(tick);\n      if (isNaN(position) || tickPositions.has(position)) {\n        return false;\n      }\n      tickPositions.add(position);\n      return true;\n    });\n  }\n  getDefaultTicks({\n    start,\n    stop,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    isReversed,\n    interval\n  }) {\n    const tickInterval = TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount,\n      target: interval\n    });\n    if (!tickInterval) {\n      return [];\n    }\n    const tickEvery = Math.ceil(this.domain.length / maxTickCount);\n    const ticks = [];\n    for (const [dateRange, index] of this.index.entries()) {\n      if (index % tickEvery > 0) {\n        continue;\n      }\n      const tick = isReversed ? tickInterval.ceil(dateRange[0]) : tickInterval.floor(dateRange[1]);\n      ticks.splice(index, 0, tick);\n    }\n    return ticks;\n  }\n  getTicksForInterval({\n    start,\n    stop,\n    interval\n  }) {\n    var _a;\n    const [r0, r1] = this.range;\n    const availableRange = Math.abs(r1 - r0);\n    return (_a = TimeScale.getTicksForInterval({ start, stop, interval, availableRange })) != null ? _a : [];\n  }\n  convert(d) {\n    if (typeof d === \"number\") {\n      d = new Date(d);\n    }\n    if (!(d instanceof Date)) {\n      return NaN;\n    }\n    this.refresh();\n    let i;\n    for (const [dateRange, index] of this.index.entries()) {\n      if (d >= dateRange[0] && d <= dateRange[1]) {\n        i = index;\n        break;\n      }\n    }\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat({\n    ticks,\n    domain,\n    specifier\n  }) {\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  invertNearest(y) {\n    return new Date(super.invertNearest(y));\n  }\n};\n__decorateClass2([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"tickCount\", 2);\n__decorateClass2([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"minTickCount\", 2);\n__decorateClass2([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"maxTickCount\", 2);\n__decorateClass2([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"interval\", 2);\nvar OrdinalTimeScale = _OrdinalTimeScale;\nfunction ascendingStringNumberUndefined(a, b) {\n  if (typeof a === \"number\" && typeof b === \"number\") {\n    return a - b;\n  } else if (typeof a === \"string\" && typeof b === \"string\") {\n    return a.localeCompare(b);\n  } else if (a == null && b == null) {\n    return 0;\n  } else if (a == null) {\n    return -1;\n  } else if (b == null) {\n    return 1;\n  }\n  return String(a).localeCompare(String(b));\n}\nfunction toLiteral(v) {\n  return typeof v === \"function\" ? v() : v;\n}\nfunction compoundAscending(a, b, comparator) {\n  for (const idx in a) {\n    const diff2 = comparator(toLiteral(a[idx]), toLiteral(b[idx]));\n    if (diff2 !== 0) {\n      return diff2;\n    }\n  }\n  return 0;\n}\nvar _Group = class _Group2 extends Node {\n  constructor(opts) {\n    var _a;\n    super({ isVirtual: opts == null ? void 0 : opts.isVirtual });\n    this.opts = opts;\n    this.opacity = 1;\n    this.lastBBox = void 0;\n    const { zIndex, zIndexSubOrder } = opts != null ? opts : {};\n    this.isContainerNode = true;\n    if (zIndex !== void 0) {\n      this.zIndex = zIndex;\n    }\n    if (zIndexSubOrder !== void 0) {\n      this.zIndexSubOrder = zIndexSubOrder;\n    }\n    this.name = (_a = this.opts) == null ? void 0 : _a.name;\n  }\n  static is(value) {\n    return value instanceof _Group2;\n  }\n  onZIndexChange() {\n    var _a;\n    super.onZIndexChange();\n    if (this.layer) {\n      (_a = this._layerManager) == null ? void 0 : _a.moveLayer(this.layer, this.zIndex, this.zIndexSubOrder);\n    }\n  }\n  isLayer() {\n    return this.layer != null;\n  }\n  _setLayerManager(layersManager) {\n    if (this._layerManager && this.layer) {\n      this._layerManager.removeLayer(this.layer);\n      this.layer = void 0;\n    }\n    if (this.layer) {\n      throw new Error(\"AG Charts - unable to deregister scene rendering layer!\");\n    }\n    super._setLayerManager(layersManager);\n  }\n  initialiseLayer() {\n    var _a;\n    if (this.layer)\n      return;\n    if (!this._layerManager || ((_a = this.opts) == null ? void 0 : _a.layer) !== true)\n      return;\n    this.layer = this._layerManager.addLayer({\n      name: this.name,\n      zIndex: this.zIndex,\n      zIndexSubOrder: this.zIndexSubOrder,\n      getComputedOpacity: () => this.getComputedOpacity(),\n      getVisibility: () => this.getVisibility()\n    });\n  }\n  getComputedOpacity() {\n    let opacity = 1;\n    for (const node of this.traverseUp()) {\n      if (node instanceof _Group2) {\n        opacity *= node.opacity;\n      }\n    }\n    return opacity;\n  }\n  getVisibility() {\n    for (const node of this.traverseUp()) {\n      if (!node.visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n  onVisibleChange() {\n    if (this.layer) {\n      this.layer.enabled = this.visible;\n    }\n  }\n  markDirty(source, type = 1) {\n    if (this.isVirtual) {\n      super.markDirty(source, type);\n      return;\n    }\n    let parentType = type;\n    if (type < 2 || this.layer != null) {\n      parentType = 1;\n    }\n    super.markDirty(source, type, parentType);\n  }\n  // We consider a group to be boundless, thus any point belongs to it.\n  containsPoint(_x, _y) {\n    return true;\n  }\n  computeBBox() {\n    this.computeTransformMatrix();\n    return _Group2.computeBBox(this.children);\n  }\n  computeTransformedBBox() {\n    return this.computeBBox();\n  }\n  preRender() {\n    var _a, _b;\n    const counts = super.preRender();\n    counts.groups += 1;\n    counts.nonGroups -= 1;\n    if (((_a = this.opts) == null ? void 0 : _a.layer) !== true || this.layer != null)\n      return counts;\n    if (counts.nonGroups > 0) {\n      this.initialiseLayer();\n    }\n    if (((_b = this.opts) == null ? void 0 : _b.nonEmptyChildDerivedZIndex) && counts.nonGroups > 0) {\n      this.deriveZIndexFromChildren();\n    }\n    return counts;\n  }\n  deriveZIndexFromChildren() {\n    var _a;\n    const children = this.children.filter((c) => c._childNodeCounts.nonGroups > 0);\n    this.sortChildren(children);\n    const lastChild = children.at(-1);\n    this.zIndex = (_a = lastChild == null ? void 0 : lastChild.zIndex) != null ? _a : -Infinity;\n    this.zIndexSubOrder = lastChild == null ? void 0 : lastChild.zIndexSubOrder;\n  }\n  render(renderCtx) {\n    var _a, _b;\n    const { opts: { name = void 0 } = {}, _debug: debug3 } = this;\n    const { dirty, dirtyZIndex, layer, children, clipRect, dirtyTransform } = this;\n    let { ctx, forceRender, clipBBox } = renderCtx;\n    const { resized, stats } = renderCtx;\n    const canvasCtxTransform = ctx.getTransform();\n    const isDirty = dirty >= 2 || dirtyZIndex || resized;\n    let isChildDirty = isDirty;\n    let isChildLayerDirty = false;\n    for (const child of children) {\n      isChildDirty || (isChildDirty = child.layerManager == null && child.dirty >= 1);\n      isChildLayerDirty || (isChildLayerDirty = child.layerManager != null && child.dirty >= 1);\n      if (isChildDirty) {\n        break;\n      }\n    }\n    if (name) {\n      debug3 == null ? void 0 : debug3({ name, group: this, isDirty, isChildDirty, dirtyTransform, renderCtx, forceRender });\n    }\n    if (dirtyTransform) {\n      forceRender = \"dirtyTransform\";\n    } else if (layer) {\n      const currentBBox = this.computeBBox();\n      if (this.lastBBox === void 0 || !this.lastBBox.equals(currentBBox)) {\n        forceRender = \"dirtyTransform\";\n        this.lastBBox = currentBBox;\n      }\n    }\n    if (!isDirty && !isChildDirty && !isChildLayerDirty && !forceRender) {\n      if (name && stats) {\n        debug3 == null ? void 0 : debug3({ name, result: \"skipping\", renderCtx, counts: this.nodeCount, group: this });\n      }\n      if (layer && stats) {\n        stats.layersSkipped++;\n        stats.nodesSkipped += this.nodeCount.count;\n      }\n      this.markClean({ recursive: false });\n      return;\n    }\n    const groupVisible = this.visible;\n    if (layer) {\n      ctx = layer.context;\n      ctx.save();\n      ctx.setTransform(layer.pixelRatio, 0, 0, layer.pixelRatio, 0, 0);\n      if (forceRender !== \"dirtyTransform\") {\n        forceRender = isChildDirty || dirtyZIndex;\n      }\n      if (forceRender)\n        layer.clear();\n      if (clipBBox) {\n        const { width, height, x, y } = clipBBox;\n        debug3 == null ? void 0 : debug3(() => ({\n          name,\n          clipBBox,\n          ctxTransform: ctx.getTransform(),\n          renderCtx,\n          group: this\n        }));\n        ctx.beginPath();\n        ctx.rect(x, y, width, height);\n        ctx.clip();\n      }\n      ctx.setTransform(canvasCtxTransform);\n    } else {\n      ctx.globalAlpha *= this.opacity;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (clipRect) {\n      const { x, y, width, height } = clipRect;\n      ctx.save();\n      debug3 == null ? void 0 : debug3(() => ({ name, clipRect, ctxTransform: ctx.getTransform(), renderCtx, group: this }));\n      ctx.beginPath();\n      ctx.rect(x, y, width, height);\n      ctx.clip();\n      clipBBox = this.matrix.transformBBox(clipRect);\n    }\n    const hasVirtualChildren = this.hasVirtualChildren();\n    if (dirtyZIndex) {\n      this.sortChildren(children);\n      if (forceRender !== \"dirtyTransform\")\n        forceRender = true;\n    } else if (hasVirtualChildren) {\n      this.sortChildren(children);\n    }\n    const renderContextChanged = forceRender !== renderCtx.forceRender || clipBBox !== renderCtx.clipBBox || ctx !== renderCtx.ctx;\n    const childRenderContext = renderContextChanged ? __spreadProps(__spreadValues2({}, renderCtx), { ctx, forceRender, clipBBox }) : renderCtx;\n    let skipped = 0;\n    for (const child of children) {\n      if (!child.visible || !groupVisible) {\n        child.markClean();\n        if (stats)\n          skipped += child.nodeCount.count;\n        continue;\n      }\n      if (!forceRender && child.dirty === 0) {\n        if (stats)\n          skipped += child.nodeCount.count;\n        continue;\n      }\n      ctx.save();\n      child.render(childRenderContext);\n      ctx.restore();\n    }\n    if (stats)\n      stats.nodesSkipped += skipped;\n    super.render(renderCtx);\n    if (clipRect) {\n      ctx.restore();\n    }\n    if (hasVirtualChildren) {\n      for (const child of this.virtualChildren) {\n        child.markClean({ recursive: \"virtual\" });\n      }\n    }\n    if (layer) {\n      if (stats)\n        stats.layersRendered++;\n      ctx.restore();\n      if (forceRender)\n        layer.snapshot();\n      (_b = (_a = layer.context).verifyDepthZero) == null ? void 0 : _b.call(_a);\n    }\n    if (name && stats) {\n      debug3 == null ? void 0 : debug3({ name, result: \"rendered\", skipped, renderCtx, counts: this.nodeCount, group: this });\n    }\n  }\n  sortChildren(children) {\n    this.dirtyZIndex = false;\n    children.sort(\n      (a, b) => {\n        var _a, _b;\n        return compoundAscending(\n          [a.zIndex, ...(_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0], a.serialNumber],\n          [b.zIndex, ...(_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0], b.serialNumber],\n          ascendingStringNumberUndefined\n        );\n      }\n    );\n  }\n  static computeBBox(nodes) {\n    let left = Infinity;\n    let right = -Infinity;\n    let top = Infinity;\n    let bottom = -Infinity;\n    for (const n of nodes) {\n      if (!n.visible)\n        continue;\n      const bbox = n.computeTransformedBBox();\n      if (!bbox)\n        continue;\n      const { x, y, width, height } = bbox;\n      if (x < left) {\n        left = x;\n      }\n      if (y < top) {\n        top = y;\n      }\n      if (x + width > right) {\n        right = x + width;\n      }\n      if (y + height > bottom) {\n        bottom = y + height;\n      }\n    }\n    return new BBox(left, top, right - left, bottom - top);\n  }\n  /**\n   * Transforms bbox given in the canvas coordinate space to bbox in this group's coordinate space and\n   * sets this group's clipRect to the transformed bbox.\n   * @param bbox clipRect bbox in the canvas coordinate space.\n   */\n  setClipRectInGroupCoordinateSpace(bbox) {\n    this.clipRect = bbox ? this.transformBBox(bbox) : void 0;\n  }\n};\n_Group.className = \"Group\";\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3,\n    convertor: (v) => clamp(0, v, 1)\n  })\n], _Group.prototype, \"opacity\", 2);\nvar Group = _Group;\nvar Gradient = class {\n  constructor(stops = []) {\n    this.stops = stops;\n  }\n};\nvar LinearGradient = class extends Gradient {\n  constructor(stops, angle = 0) {\n    super(stops);\n    this.angle = angle;\n  }\n  createGradient(ctx, bbox) {\n    const angleOffset = 90;\n    const { stops, angle } = this;\n    const radians = normalizeAngle360(toRadians(angle + angleOffset));\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    const w = bbox.width;\n    const h = bbox.height;\n    const cx = bbox.x + w * 0.5;\n    const cy = bbox.y + h * 0.5;\n    if (w > 0 && h > 0) {\n      const diagonal = Math.sqrt(h * h + w * w) / 2;\n      const diagonalAngle = Math.atan2(h, w);\n      let quarteredAngle;\n      if (radians < Math.PI / 2) {\n        quarteredAngle = radians;\n      } else if (radians < Math.PI) {\n        quarteredAngle = Math.PI - radians;\n      } else if (radians < 1.5 * Math.PI) {\n        quarteredAngle = radians - Math.PI;\n      } else {\n        quarteredAngle = 2 * Math.PI - radians;\n      }\n      const l = diagonal * Math.abs(Math.cos(quarteredAngle - diagonalAngle));\n      const gradient = ctx.createLinearGradient(cx + cos * l, cy + sin * l, cx - cos * l, cy - sin * l);\n      for (const stop of stops) {\n        gradient.addColorStop(stop.offset, stop.color);\n      }\n      return gradient;\n    }\n    return \"black\";\n  }\n};\nvar LINEAR_GRADIENT_REGEXP = /^linear-gradient\\((.*?)deg,\\s*(.*?)\\s*\\)$/i;\nvar _Shape = class _Shape2 extends Node {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.fill = _Shape2.defaultStyles.fill;\n    this.stroke = _Shape2.defaultStyles.stroke;\n    this.strokeWidth = _Shape2.defaultStyles.strokeWidth;\n    this.lineDash = _Shape2.defaultStyles.lineDash;\n    this.lineDashOffset = _Shape2.defaultStyles.lineDashOffset;\n    this.lineCap = _Shape2.defaultStyles.lineCap;\n    this.lineJoin = _Shape2.defaultStyles.lineJoin;\n    this.opacity = _Shape2.defaultStyles.opacity;\n    this.fillShadow = _Shape2.defaultStyles.fillShadow;\n  }\n  /**\n   * Restores the default styles introduced by this subclass.\n   */\n  restoreOwnStyles() {\n    const { defaultStyles } = this.constructor;\n    Object.assign(this, defaultStyles);\n  }\n  onFillChange() {\n    const { fill } = this;\n    let linearGradientMatch;\n    if ((fill == null ? void 0 : fill.startsWith(\"linear-gradient\")) && (linearGradientMatch = LINEAR_GRADIENT_REGEXP.exec(fill))) {\n      const angle = parseFloat(linearGradientMatch[1]);\n      const colors = [];\n      const colorsPart = linearGradientMatch[2];\n      const colorRegex = /(#[0-9a-f]+)|(rgba?\\(.+?\\))|([a-z]+)/gi;\n      let c;\n      while (c = colorRegex.exec(colorsPart)) {\n        colors.push(c[0]);\n      }\n      this.gradient = new LinearGradient(\n        colors.map((color, index) => ({ color, offset: index / (colors.length - 1) })),\n        angle\n      );\n    } else {\n      this.gradient = void 0;\n    }\n  }\n  /**\n   * Returns a device-pixel aligned coordinate (or length if length is supplied).\n   *\n   * NOTE: Not suitable for strokes, since the stroke needs to be offset to the middle\n   * of a device pixel.\n   */\n  align(start, length) {\n    var _a, _b, _c;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    const alignedStart = Math.round(start * pixelRatio) / pixelRatio;\n    if (length == null) {\n      return alignedStart;\n    } else if (length === 0) {\n      return 0;\n    } else if (length < 1) {\n      return Math.ceil(length * pixelRatio) / pixelRatio;\n    }\n    return Math.round((length + start) * pixelRatio) / pixelRatio - alignedStart;\n  }\n  fillStroke(ctx, path) {\n    this.renderFill(ctx, path);\n    this.renderStroke(ctx, path);\n  }\n  renderFill(ctx, path) {\n    if (this.fill) {\n      const { globalAlpha } = ctx;\n      this.applyFill(ctx);\n      this.applyFillAlpha(ctx);\n      this.applyShadow(ctx);\n      this.executeFill(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n    ctx.shadowColor = \"rgba(0, 0, 0, 0)\";\n  }\n  executeFill(ctx, path) {\n    path ? ctx.fill(path) : ctx.fill();\n  }\n  applyFill(ctx) {\n    var _a, _b;\n    ctx.fillStyle = (_b = (_a = this.gradient) == null ? void 0 : _a.createGradient(ctx, this.computeBBox())) != null ? _b : this.fill;\n  }\n  applyFillAlpha(ctx) {\n    ctx.globalAlpha *= this.opacity * this.fillOpacity;\n  }\n  applyShadow(ctx) {\n    var _a, _b;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const fillShadow = this.fillShadow;\n    if (fillShadow == null ? void 0 : fillShadow.enabled) {\n      ctx.shadowColor = fillShadow.color;\n      ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n      ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n      ctx.shadowBlur = fillShadow.blur * pixelRatio;\n    }\n  }\n  renderStroke(ctx, path) {\n    if (this.stroke && this.strokeWidth) {\n      const { globalAlpha } = ctx;\n      ctx.strokeStyle = this.stroke;\n      ctx.globalAlpha *= this.opacity * this.strokeOpacity;\n      ctx.lineWidth = this.strokeWidth;\n      if (this.lineDash) {\n        ctx.setLineDash(this.lineDash);\n      }\n      if (this.lineDashOffset) {\n        ctx.lineDashOffset = this.lineDashOffset;\n      }\n      if (this.lineCap) {\n        ctx.lineCap = this.lineCap;\n      }\n      if (this.lineJoin) {\n        ctx.lineJoin = this.lineJoin;\n      }\n      this.executeStroke(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n  executeStroke(ctx, path) {\n    path ? ctx.stroke(path) : ctx.stroke();\n  }\n  containsPoint(x, y) {\n    return this.isPointInPath(x, y);\n  }\n};\n_Shape.defaultStyles = {\n  fill: \"black\",\n  stroke: void 0,\n  strokeWidth: 0,\n  lineDash: void 0,\n  lineDashOffset: 0,\n  lineCap: void 0,\n  lineJoin: void 0,\n  opacity: 1,\n  fillShadow: void 0\n};\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], _Shape.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], _Shape.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  SceneChangeDetection({ redraw: 2, changeCb: (s) => s.onFillChange() })\n], _Shape.prototype, \"fill\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], _Shape.prototype, \"stroke\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], _Shape.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], _Shape.prototype, \"lineDash\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], _Shape.prototype, \"lineDashOffset\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], _Shape.prototype, \"lineCap\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], _Shape.prototype, \"lineJoin\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2,\n    convertor: (v) => clamp(0, v, 1)\n  })\n], _Shape.prototype, \"opacity\", 2);\n__decorateClass2([\n  SceneChangeDetection({ redraw: 2, checkDirtyOnAssignment: true })\n], _Shape.prototype, \"fillShadow\", 2);\nvar Shape = _Shape;\nvar Range = class extends Shape {\n  constructor(opts = {}) {\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    this.restoreOwnStyles();\n  }\n  computeBBox() {\n    return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n  }\n  isPointInPath(_x, _y) {\n    return false;\n  }\n  render(renderCtx) {\n    var _a;\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let { x1, y1, x2, y2 } = this;\n    x1 = this.align(x1);\n    y1 = this.align(y1);\n    x2 = this.align(x2);\n    y2 = this.align(y2);\n    const { fill, opacity, isRange } = this;\n    const fillActive = !!(isRange && fill);\n    if (fillActive) {\n      const { fillOpacity } = this;\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = opacity * fillOpacity;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y1);\n      ctx.lineTo(x2, y2);\n      ctx.lineTo(x1, y2);\n      ctx.closePath();\n      ctx.fill();\n    }\n    const { stroke, strokeWidth, startLine, endLine } = this;\n    const strokeActive = !!((startLine || endLine) && stroke && strokeWidth);\n    if (strokeActive) {\n      const { strokeOpacity, lineDash, lineDashOffset, lineCap, lineJoin } = this;\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha = opacity * strokeOpacity;\n      ctx.lineWidth = strokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.beginPath();\n      if (startLine) {\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y1);\n      }\n      if (endLine) {\n        ctx.moveTo(x2, y2);\n        ctx.lineTo(x1, y2);\n      }\n      ctx.stroke();\n    }\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nRange.className = \"Range\";\nRange.defaultStyles = __spreadProps(__spreadValues2({}, Shape.defaultStyles), {\n  strokeWidth: 1\n});\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], Range.prototype, \"x1\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], Range.prototype, \"y1\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], Range.prototype, \"x2\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], Range.prototype, \"y2\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], Range.prototype, \"startLine\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], Range.prototype, \"endLine\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 2\n    /* MINOR */\n  })\n], Range.prototype, \"isRange\", 2);\nvar memorizedFns = /* @__PURE__ */ new WeakMap();\nvar memorizedMap = /* @__PURE__ */ new WeakMap();\nfunction memo(params, fnGenerator) {\n  var _a, _b, _c;\n  const serialisedParams = JSON.stringify(params, null, 0);\n  if (!memorizedFns.has(fnGenerator)) {\n    memorizedFns.set(fnGenerator, /* @__PURE__ */ new Map());\n  }\n  if (!((_a = memorizedFns.get(fnGenerator)) == null ? void 0 : _a.has(serialisedParams))) {\n    (_b = memorizedFns.get(fnGenerator)) == null ? void 0 : _b.set(serialisedParams, fnGenerator(params));\n  }\n  return (_c = memorizedFns.get(fnGenerator)) == null ? void 0 : _c.get(serialisedParams);\n}\nfunction memoizeFunction(baseFn) {\n  return (params, ...rest) => {\n    var _a, _b, _c;\n    const serialisedParams = JSON.stringify(params, null, 0);\n    if (!memorizedMap.has(baseFn)) {\n      memorizedMap.set(baseFn, /* @__PURE__ */ new Map());\n    }\n    if (!((_a = memorizedMap.get(baseFn)) == null ? void 0 : _a.has(serialisedParams))) {\n      (_b = memorizedMap.get(baseFn)) == null ? void 0 : _b.set(serialisedParams, baseFn(params, ...rest));\n    }\n    return (_c = memorizedMap.get(baseFn)) == null ? void 0 : _c.get(serialisedParams);\n  };\n}\nvar ellipsis = \"\\u2026\";\nfunction SceneFontChangeDetection(opts) {\n  const { redraw = 3, changeCb } = opts != null ? opts : {};\n  return SceneChangeDetection({ redraw, type: \"font\", changeCb });\n}\nvar _Text = class _Text2 extends Shape {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.lines = [];\n    this.text = void 0;\n    this._dirtyFont = true;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.textAlign = _Text2.defaultStyles.textAlign;\n    this.textBaseline = _Text2.defaultStyles.textBaseline;\n  }\n  onTextChange() {\n    var _a, _b;\n    this.lines = (_b = (_a = this.text) == null ? void 0 : _a.split(\"\\n\").map((s) => s.trim())) != null ? _b : [];\n  }\n  get font() {\n    if (this._font == null || this._dirtyFont) {\n      this._dirtyFont = false;\n      this._font = getFont(this);\n    }\n    return this._font;\n  }\n  computeBBox() {\n    const { x, y, lines, lineHeight, textBaseline, textAlign } = this;\n    const { top, left, width, height } = _Text2.getTextSizeMultiline(\n      lines,\n      getFont(this),\n      textBaseline,\n      textAlign,\n      lineHeight\n    );\n    return new BBox(x - left, y - top, width, height);\n  }\n  getLineHeight(line) {\n    var _a, _b;\n    if (this.lineHeight) {\n      return this.lineHeight;\n    }\n    const metrics = _Text2.measureText(line, this.font, this.textBaseline, this.textAlign);\n    return (\n      // Fallback to emHeightAscent + emHeightDescent is needed for server-side rendering.\n      ((_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent) + ((_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent)\n    );\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox ? bbox.containsPoint(point.x, point.y) : false;\n  }\n  render(renderCtx) {\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    if (!this.lines.length || !this.layerManager) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const { fill, stroke, strokeWidth } = this;\n    ctx.font = this.font;\n    ctx.textAlign = this.textAlign;\n    ctx.textBaseline = this.textBaseline;\n    const pixelRatio = this.layerManager.canvas.pixelRatio || 1;\n    const { globalAlpha } = ctx;\n    if (fill) {\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n      const { fillShadow } = this;\n      if (fillShadow == null ? void 0 : fillShadow.enabled) {\n        ctx.shadowColor = fillShadow.color;\n        ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n        ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n        ctx.shadowBlur = fillShadow.blur * pixelRatio;\n      }\n      this.renderLines((line, x, y) => ctx.fillText(line, x, y));\n    }\n    if (stroke && strokeWidth) {\n      ctx.strokeStyle = stroke;\n      ctx.lineWidth = strokeWidth;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n      const { lineDash, lineDashOffset, lineCap, lineJoin } = this;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      this.renderLines((line, x, y) => ctx.strokeText(line, x, y));\n    }\n    super.render(renderCtx);\n  }\n  renderLines(renderCallback) {\n    const { lines, x, y } = this;\n    const lineHeights = lines.map((line) => this.getLineHeight(line));\n    const totalHeight = lineHeights.reduce((a, b) => a + b, 0);\n    let offsetY = (lineHeights[0] - totalHeight) * _Text2.getVerticalModifier(this.textBaseline);\n    for (let i = 0; i < lines.length; i++) {\n      renderCallback(lines[i], x, y + offsetY);\n      offsetY += lineHeights[i];\n    }\n  }\n  static wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow) {\n    const canOverflow = overflow !== \"hide\";\n    const measurer = new TextMeasurer(textProps);\n    const lines = text.split(/\\r?\\n/g);\n    if (lines.length === 0) {\n      return { lines: void 0, truncated: false };\n    }\n    if (wrapping === \"never\") {\n      const { text: truncText, truncated: truncated2 } = _Text2.truncateLine(\n        lines[0],\n        maxWidth,\n        measurer,\n        canOverflow ? \"auto\" : \"never\"\n      );\n      return { lines: truncText != null ? [truncText] : void 0, truncated: truncated2 };\n    }\n    const wrappedLines = [];\n    let cumulativeHeight = 0;\n    let truncated = false;\n    for (const line of lines) {\n      const wrappedLine = _Text2.wrapLine(\n        line,\n        maxWidth,\n        maxHeight,\n        measurer,\n        textProps,\n        wrapping,\n        cumulativeHeight,\n        canOverflow\n      );\n      if (wrappedLine == null) {\n        return { lines: void 0, truncated: false };\n      }\n      wrappedLines.push(...wrappedLine.result);\n      cumulativeHeight = wrappedLine.cumulativeHeight;\n      if (wrappedLine.truncated) {\n        truncated = true;\n        break;\n      }\n    }\n    return { lines: wrappedLines, truncated };\n  }\n  static wrap(text, maxWidth, maxHeight, textProps, wrapping, overflow = \"ellipsis\") {\n    var _a;\n    const { lines, truncated } = _Text2.wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow);\n    return { text: (_a = lines == null ? void 0 : lines.join(\"\\n\").trim()) != null ? _a : \"\", truncated };\n  }\n  static wrapLine(text, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    text = text.trim();\n    if (!text) {\n      return { result: [], truncated: false, cumulativeHeight };\n    }\n    const initialSize = measurer.size(text);\n    if (initialSize.width <= maxWidth) {\n      return {\n        result: [text],\n        truncated: false,\n        cumulativeHeight: cumulativeHeight + initialSize.height\n      };\n    }\n    if (initialSize.height > maxHeight || measurer.width(\"W\") > maxWidth) {\n      return canOverflow ? { result: [], truncated: true, cumulativeHeight } : void 0;\n    }\n    const words = text.split(/\\s+/g);\n    const wrapResult = _Text2.wrapLineSequentially(\n      words,\n      maxWidth,\n      maxHeight,\n      measurer,\n      textProps,\n      wrapping,\n      cumulativeHeight,\n      canOverflow\n    );\n    if (wrapResult == null) {\n      return;\n    }\n    cumulativeHeight = wrapResult.cumulativeHeight;\n    let { lines } = wrapResult;\n    if (!(wrapResult.wordsBrokenOrTruncated || wrapResult.linesTruncated)) {\n      const linesCount = wrapResult.lines.length;\n      const balanced = _Text2.wrapLineBalanced(words, maxWidth, measurer, linesCount);\n      if (balanced.length === lines.length) {\n        lines = balanced;\n      }\n    }\n    const wrappedText = lines.map((ln) => ln.join(\" \"));\n    return { result: wrappedText, truncated: wrapResult.linesTruncated, cumulativeHeight };\n  }\n  static breakWord(word, firstLineWidth, maxWidth, hyphens, measurer) {\n    const isPunctuationAt = (index) => _Text2.punctuationMarks.includes(word[index]);\n    const h = hyphens ? measurer.width(\"-\") : 0;\n    const breaks = [];\n    let partWidth = 0;\n    let p = 0;\n    for (let i = 0; i < word.length; i++) {\n      const c = word[i];\n      const w = measurer.width(c);\n      const limit = p === 0 ? firstLineWidth : maxWidth;\n      if (partWidth + w + h > limit) {\n        breaks.push(i);\n        partWidth = 0;\n        p++;\n      }\n      partWidth += w;\n    }\n    const parts = [];\n    let start = 0;\n    for (const index of breaks) {\n      let part = word.substring(start, index);\n      if (hyphens && part.length > 0 && !isPunctuationAt(index - 1) && !isPunctuationAt(index)) {\n        part += \"-\";\n      }\n      parts.push(part);\n      start = index;\n    }\n    parts.push(word.substring(start));\n    return parts;\n  }\n  static truncateLine(text, maxWidth, measurer, ellipsisMode) {\n    text = text.trimEnd();\n    const lineWidth = measurer.width(text);\n    if (lineWidth > maxWidth && ellipsisMode === \"never\") {\n      return { text: void 0, truncated: false };\n    } else if (lineWidth <= maxWidth && ellipsisMode !== \"force\") {\n      return { text, truncated: false };\n    }\n    const ellipsisWidth = measurer.width(ellipsis);\n    let trunc = text;\n    let truncWidth = lineWidth;\n    while (trunc.length > 0 && truncWidth + ellipsisWidth > maxWidth) {\n      trunc = trunc.slice(0, -1).trimEnd();\n      truncWidth = measurer.width(trunc);\n    }\n    if (truncWidth + ellipsisWidth <= maxWidth) {\n      return { text: `${trunc}${ellipsis}`, truncated: true };\n    } else {\n      return { text: void 0, truncated: false };\n    }\n  }\n  static wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    const { fontSize = 0, lineHeight = fontSize * _Text2.defaultLineHeightRatio } = textProps;\n    const breakWord = wrapping === \"always\" || wrapping === \"hyphenate\";\n    const hyphenate = wrapping === \"hyphenate\";\n    const spaceWidth = measurer.width(\" \");\n    let wordsBrokenOrTruncated = false;\n    let linesTruncated = false;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = 0;\n    const getReturnValue = () => ({\n      lines,\n      linesTruncated,\n      wordsBrokenOrTruncated,\n      cumulativeHeight\n    });\n    const truncateLastLine = () => {\n      if (!canOverflow) {\n        return;\n      }\n      const lastLine = currentLine.join(\" \");\n      const { text } = _Text2.truncateLine(lastLine, maxWidth, measurer, \"force\");\n      if (text == null) {\n        return;\n      }\n      currentLine.splice(0, currentLine.length, text);\n      linesTruncated = true;\n      return getReturnValue();\n    };\n    const addNewLine = () => {\n      const expectedHeight = cumulativeHeight + lineHeight;\n      if (expectedHeight >= maxHeight) {\n        return false;\n      }\n      currentLine = [];\n      lineWidth = 0;\n      cumulativeHeight = expectedHeight;\n      lines.push(currentLine);\n      return true;\n    };\n    if (!addNewLine()) {\n      return truncateLastLine();\n    }\n    for (let i = 0; i < words.length; i++) {\n      const word = words[i];\n      const wordWidth = measurer.width(word);\n      const expectedSpaceWidth = currentLine.length === 0 ? 0 : spaceWidth;\n      const expectedLineWidth = lineWidth + expectedSpaceWidth + wordWidth;\n      if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n        continue;\n      }\n      if (wordWidth <= maxWidth) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        currentLine.push(word);\n        lineWidth = wordWidth;\n        continue;\n      }\n      wordsBrokenOrTruncated = true;\n      if (breakWord) {\n        const availWidth = maxWidth - lineWidth - expectedSpaceWidth;\n        const parts = _Text2.breakWord(word, availWidth, maxWidth, hyphenate, measurer);\n        for (let p = 0; p < parts.length; p++) {\n          const part = parts[p];\n          part && currentLine.push(part);\n          if (p === parts.length - 1) {\n            lineWidth = measurer.width(part);\n          } else if (!addNewLine()) {\n            return truncateLastLine();\n          }\n        }\n      } else if (canOverflow) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        const { text } = _Text2.truncateLine(word, maxWidth, measurer, \"force\");\n        if (text == null) {\n          return;\n        }\n        currentLine.push(text);\n        if (i < words.length - 1) {\n          linesTruncated = true;\n        }\n        break;\n      } else {\n        return;\n      }\n    }\n    return getReturnValue();\n  }\n  static wrapLineBalanced(words, maxWidth, measurer, linesCount) {\n    const totalWordsWidth = words.reduce((sum2, w) => sum2 + measurer.width(w), 0);\n    const spaceWidth = measurer.width(\" \");\n    const totalSpaceWidth = spaceWidth * (words.length - linesCount - 2);\n    const averageLineWidth = (totalWordsWidth + totalSpaceWidth) / linesCount;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = measurer.width(words[0]);\n    let newLine = true;\n    for (const word of words) {\n      const width = measurer.width(word);\n      if (newLine) {\n        currentLine = [];\n        currentLine.push(word);\n        lineWidth = width;\n        newLine = false;\n        lines.push(currentLine);\n        continue;\n      }\n      const expectedLineWidth = lineWidth + spaceWidth + width;\n      if (expectedLineWidth <= averageLineWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n      } else if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        newLine = true;\n      } else {\n        currentLine = [word];\n        lineWidth = width;\n        lines.push(currentLine);\n      }\n    }\n    return lines;\n  }\n  setFont(props) {\n    this.fontFamily = props.fontFamily;\n    this.fontSize = props.fontSize;\n    this.fontStyle = props.fontStyle;\n    this.fontWeight = props.fontWeight;\n  }\n  setAlign(props) {\n    this.textAlign = props.textAlign;\n    this.textBaseline = props.textBaseline;\n  }\n  static getVerticalModifier(textBaseline) {\n    switch (textBaseline) {\n      case \"top\":\n      case \"hanging\":\n        return 0;\n      case \"bottom\":\n      case \"alphabetic\":\n      case \"ideographic\":\n        return 1;\n      case \"middle\":\n        return 0.5;\n    }\n  }\n  static get textContext() {\n    if (!this._textContext) {\n      const canvasElement = createElement(\"canvas\");\n      canvasElement.width = 0;\n      canvasElement.height = 0;\n      this._textContext = canvasElement.getContext(\"2d\");\n    }\n    return this._textContext;\n  }\n  static measureText(text, font, textBaseline, textAlign) {\n    return this._measureText({ text, font, textBaseline, textAlign });\n  }\n  /**\n   * Returns the width and height of the measured text.\n   * @param text The single-line text to measure.\n   * @param font The font shorthand string.\n   */\n  static getTextSize(text, font) {\n    return this._getTextSize({ text, font });\n  }\n  static getTextSizeMultiline(lines, font, textBaseline = _Text2.defaultStyles.textBaseline, textAlign = _Text2.defaultStyles.textAlign, lineHeight) {\n    var _a, _b;\n    let top = 0;\n    let left = 0;\n    let width = 0;\n    let height = 0;\n    let baselineDistance = 0;\n    for (const [i, text] of lines.entries()) {\n      const metrics = this._measureText({ text, font, textBaseline, textAlign });\n      left = Math.max(left, metrics.actualBoundingBoxLeft);\n      width = Math.max(width, metrics.width);\n      if (i == 0) {\n        top += metrics.actualBoundingBoxAscent;\n        height += metrics.actualBoundingBoxAscent;\n      } else {\n        baselineDistance += (_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent;\n      }\n      if (i == lines.length - 1) {\n        height += metrics.actualBoundingBoxDescent;\n      } else {\n        baselineDistance += (_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent;\n      }\n    }\n    if (lineHeight != null) {\n      baselineDistance = (lines.length - 1) * lineHeight;\n    }\n    height += baselineDistance;\n    top += baselineDistance * _Text2.getVerticalModifier(textBaseline);\n    return { top, left, width, height };\n  }\n};\n_Text.className = \"Text\";\n_Text.defaultLineHeightRatio = 1.15;\n_Text.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  textAlign: \"start\",\n  fontStyle: void 0,\n  fontWeight: void 0,\n  fontSize: 10,\n  fontFamily: \"sans-serif\",\n  textBaseline: \"alphabetic\"\n});\n_Text.ellipsis = ellipsis;\n_Text.punctuationMarks = [\".\", \",\", \"-\", \":\", \";\", \"!\", \"?\", `'`, '\"', \"(\", \")\"];\n_Text._measureText = memoizeFunction(\n  ({\n    text,\n    font,\n    textBaseline,\n    textAlign\n  }) => {\n    const ctx = _Text.textContext;\n    if (ctx.font !== font) {\n      ctx.font = font;\n    }\n    if (ctx.textBaseline !== textBaseline) {\n      ctx.textBaseline = textBaseline;\n    }\n    if (ctx.textAlign !== textAlign) {\n      ctx.textAlign = textAlign;\n    }\n    return ctx.measureText(text);\n  }\n);\n_Text._getTextSize = memoizeFunction(({ text, font }) => {\n  const ctx = _Text.textContext;\n  if (ctx.font !== font) {\n    ctx.font = font;\n  }\n  const metrics = ctx.measureText(text);\n  return {\n    width: metrics.width,\n    height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n  };\n});\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], _Text.prototype, \"x\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], _Text.prototype, \"y\", 2);\n__decorateClass2([\n  SceneChangeDetection({ redraw: 3, changeCb: (o) => o.onTextChange() })\n], _Text.prototype, \"text\", 2);\n__decorateClass2([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontSize\", 2);\n__decorateClass2([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontFamily\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], _Text.prototype, \"textAlign\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], _Text.prototype, \"textBaseline\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], _Text.prototype, \"lineHeight\", 2);\nvar Text = _Text;\nvar TextMeasurer = class {\n  constructor(font) {\n    this.font = isString(font) ? font : getFont(font);\n  }\n  size(text) {\n    return text.includes(\"\\n\") ? Text.getTextSizeMultiline(\n      text.split(\"\\n\").map((s) => s.trim()),\n      this.font\n    ) : Text.getTextSize(text, this.font);\n  }\n  width(text) {\n    const { width } = this.size(text);\n    return width;\n  }\n};\nfunction getFont(fontProps) {\n  const { fontFamily, fontSize, fontStyle, fontWeight } = fontProps;\n  return [fontStyle != null ? fontStyle : \"\", fontWeight != null ? fontWeight : \"\", fontSize + \"px\", fontFamily].join(\" \").trim();\n}\nvar Label = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n  getFont() {\n    return getFont(this);\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], Label.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], Label.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(FONT_STYLE, { optional: true })\n], Label.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  Validate(FONT_WEIGHT2, { optional: true })\n], Label.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Label.prototype, \"fontSize\", 2);\n__decorateClass2([\n  Validate(STRING)\n], Label.prototype, \"fontFamily\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], Label.prototype, \"formatter\", 2);\nfunction calculateLabelRotation(opts) {\n  const { parallelFlipRotation = 0, regularFlipRotation = 0 } = opts;\n  const configuredRotation = opts.rotation ? normalizeAngle360(toRadians(opts.rotation)) : 0;\n  const parallelFlipFlag = !configuredRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n  const regularFlipFlag = !configuredRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n  let defaultRotation = 0;\n  if (opts.parallel) {\n    defaultRotation = parallelFlipFlag * Math.PI / 2;\n  } else if (regularFlipFlag === -1) {\n    defaultRotation = Math.PI;\n  }\n  return { configuredRotation, defaultRotation, parallelFlipFlag, regularFlipFlag };\n}\nfunction getLabelSpacing(minSpacing, rotated) {\n  if (!isNaN(minSpacing)) {\n    return minSpacing;\n  }\n  return rotated ? 0 : 10;\n}\nfunction getTextBaseline(parallel, labelRotation, sideFlag, parallelFlipFlag) {\n  if (parallel && !labelRotation) {\n    return sideFlag * parallelFlipFlag === -1 ? \"hanging\" : \"bottom\";\n  }\n  return \"middle\";\n}\nfunction getTextAlign(parallel, labelRotation, labelAutoRotation, sideFlag, regularFlipFlag) {\n  const labelRotated = labelRotation > 0 && labelRotation <= Math.PI;\n  const labelAutoRotated = labelAutoRotation > 0 && labelAutoRotation <= Math.PI;\n  const alignFlag = labelRotated || labelAutoRotated ? -1 : 1;\n  if (parallel) {\n    if (labelRotation || labelAutoRotation) {\n      if (sideFlag * alignFlag === -1) {\n        return \"end\";\n      }\n    } else {\n      return \"center\";\n    }\n  } else if (sideFlag * regularFlipFlag === -1) {\n    return \"end\";\n  }\n  return \"start\";\n}\nfunction calculateLabelBBox(text, bbox, labelX, labelY, labelMatrix) {\n  const { width, height } = bbox;\n  const translatedBBox = new BBox(labelX, labelY, 0, 0);\n  labelMatrix.transformBBox(translatedBBox, bbox);\n  const { x, y } = bbox;\n  bbox.width = width;\n  bbox.height = height;\n  return {\n    point: { x, y },\n    label: { text, width, height }\n  };\n}\nvar Layers = /* @__PURE__ */ ((Layers2) => {\n  Layers2[Layers2[\"SERIES_BACKGROUND_ZINDEX\"] = 0] = \"SERIES_BACKGROUND_ZINDEX\";\n  Layers2[Layers2[\"AXIS_GRID_ZINDEX\"] = 1] = \"AXIS_GRID_ZINDEX\";\n  Layers2[Layers2[\"AXIS_ZINDEX\"] = 2] = \"AXIS_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_RANGE_ZINDEX\"] = 3] = \"SERIES_CROSSLINE_RANGE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LAYER_ZINDEX\"] = 4] = \"SERIES_LAYER_ZINDEX\";\n  Layers2[Layers2[\"SERIES_HIGHLIGHT_ZINDEX\"] = 5] = \"SERIES_HIGHLIGHT_ZINDEX\";\n  Layers2[Layers2[\"AXIS_FOREGROUND_ZINDEX\"] = 6] = \"AXIS_FOREGROUND_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSHAIR_ZINDEX\"] = 7] = \"SERIES_CROSSHAIR_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LABEL_ZINDEX\"] = 8] = \"SERIES_LABEL_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_LINE_ZINDEX\"] = 9] = \"SERIES_CROSSLINE_LINE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_ANNOTATION_ZINDEX\"] = 10] = \"SERIES_ANNOTATION_ZINDEX\";\n  Layers2[Layers2[\"LEGEND_ZINDEX\"] = 11] = \"LEGEND_ZINDEX\";\n  Layers2[Layers2[\"NAVIGATOR_ZINDEX\"] = 12] = \"NAVIGATOR_ZINDEX\";\n  return Layers2;\n})(Layers || {});\nfunction isStringObject(value) {\n  return value != null && Object.hasOwn(value, \"toString\") && isString(value.toString());\n}\nfunction isNumberObject(value) {\n  return value != null && Object.hasOwn(value, \"valueOf\") && isFiniteNumber(value.valueOf());\n}\nfunction isContinuous(value) {\n  return isFiniteNumber(value) || isValidDate(value) || isNumberObject(value);\n}\nfunction checkDatum(value, isContinuousScale) {\n  return value != null && (!isContinuousScale || isContinuous(value));\n}\nfunction transformIntegratedCategoryValue(value) {\n  if (isStringObject(value) && Object.hasOwn(value, \"id\")) {\n    return value.id;\n  }\n  return value;\n}\nvar MATCHING_CROSSLINE_TYPE = (property) => {\n  return property === \"value\" ? predicateWithMessage(\n    (_, ctx) => ctx.target[\"type\"] === \"line\",\n    (ctx) => ctx.target[\"type\"] === \"range\" ? `crossLine type 'range' to have a 'range' property instead of 'value'` : `crossLine property 'type' to be 'line'`\n  ) : predicateWithMessage(\n    (_, ctx) => ctx.target[\"type\"] === \"range\",\n    (ctx) => ctx.target.type === \"line\" ? `crossLine type 'line' to have a 'value' property instead of 'range'` : `crossLine property 'type' to be 'range'`\n  );\n};\nvar validateCrossLineValues = (type, value, range3, scale2) => {\n  const lineCrossLine = type === \"line\" && value !== void 0;\n  const rangeCrossLine = type === \"range\" && range3 !== void 0;\n  if (!lineCrossLine && !rangeCrossLine) {\n    return true;\n  }\n  const [start, end] = range3 != null ? range3 : [value, void 0];\n  const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n  const validStart = checkDatum(start, isContinuous2) && !isNaN(scale2.convert(start));\n  const validEnd = checkDatum(end, isContinuous2) && !isNaN(scale2.convert(end));\n  if (lineCrossLine && validStart || rangeCrossLine && validStart && validEnd) {\n    return true;\n  }\n  const message = [`Expecting crossLine`];\n  if (rangeCrossLine) {\n    if (!validStart) {\n      message.push(`range start ${stringify(start)}`);\n    }\n    if (!validEnd) {\n      message.push(`${validStart ? \"\" : \"and \"}range end ${stringify(end)}`);\n    }\n  } else {\n    message.push(`value ${stringify(start)}`);\n  }\n  message.push(`to match the axis scale domain.`);\n  Logger.warnOnce(message.join(\" \"));\n  return false;\n};\nvar horizontalCrosslineTranslationDirections = {\n  top: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  bottom: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  left: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  right: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  topLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  topRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  bottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  bottomRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n  insideLeft: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  insideRight: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  insideTop: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  insideBottom: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  insideTopLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  insideTopRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  insideBottomRight: { xTranslationDirection: -1, yTranslationDirection: -1 }\n};\nvar verticalCrossLineTranslationDirections = {\n  top: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  bottom: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  left: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  right: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  topLeft: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  topRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  bottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  bottomRight: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n  insideLeft: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  insideRight: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  insideTop: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  insideBottom: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  insideTopLeft: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  insideTopRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  insideBottomRight: { xTranslationDirection: 1, yTranslationDirection: -1 }\n};\nfunction calculateLabelTranslation({\n  yDirection,\n  padding = 0,\n  position = \"top\",\n  bbox\n}) {\n  const crossLineTranslationDirections = yDirection ? horizontalCrosslineTranslationDirections : verticalCrossLineTranslationDirections;\n  const { xTranslationDirection, yTranslationDirection } = crossLineTranslationDirections[position];\n  const w = yDirection ? bbox.width : bbox.height;\n  const h = yDirection ? bbox.height : bbox.width;\n  const xTranslation = xTranslationDirection * (padding + w / 2);\n  const yTranslation = yTranslationDirection * (padding + h / 2);\n  return {\n    xTranslation,\n    yTranslation\n  };\n}\nfunction calculateLabelChartPadding({\n  yDirection,\n  bbox,\n  padding = 0,\n  position = \"top\"\n}) {\n  const chartPadding = {};\n  if (position.startsWith(\"inside\"))\n    return chartPadding;\n  if (position === \"top\" && !yDirection) {\n    chartPadding.top = padding + bbox.height;\n  } else if (position === \"bottom\" && !yDirection) {\n    chartPadding.bottom = padding + bbox.height;\n  } else if (position === \"left\" && yDirection) {\n    chartPadding.left = padding + bbox.width;\n  } else if (position === \"right\" && yDirection) {\n    chartPadding.right = padding + bbox.width;\n  }\n  return chartPadding;\n}\nvar POSITION_TOP_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd / 2, y: yStart };\n  } else {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  }\n};\nvar POSITION_LEFT_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  } else {\n    return { x: xEnd / 2, y: yStart };\n  }\n};\nvar POSITION_RIGHT_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  } else {\n    return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar POSITION_BOTTOM_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  }\n};\nvar POSITION_INSIDE_COORDINATES = ({ xEnd, yStart, yEnd }) => {\n  return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n};\nvar POSITION_TOP_LEFT_COORDINATES = ({ yDirection, xStart, xEnd, yStart }) => {\n  if (yDirection) {\n    return { x: xStart / 2, y: yStart };\n  } else {\n    return { x: xEnd, y: yStart };\n  }\n};\nvar POSITION_BOTTOM_LEFT_COORDINATES = ({ yDirection, xStart, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: yStart };\n  }\n};\nvar POSITION_TOP_RIGHT_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: yStart };\n  } else {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar POSITION_BOTTOM_RIGHT_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar labelDirectionHandling = {\n  top: { c: POSITION_TOP_COORDINATES },\n  bottom: { c: POSITION_BOTTOM_COORDINATES },\n  left: { c: POSITION_LEFT_COORDINATES },\n  right: { c: POSITION_RIGHT_COORDINATES },\n  topLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n  topRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n  bottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n  bottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES },\n  inside: { c: POSITION_INSIDE_COORDINATES },\n  insideLeft: { c: POSITION_LEFT_COORDINATES },\n  insideRight: { c: POSITION_RIGHT_COORDINATES },\n  insideTop: { c: POSITION_TOP_COORDINATES },\n  insideBottom: { c: POSITION_BOTTOM_COORDINATES },\n  insideTopLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n  insideBottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n  insideTopRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n  insideBottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES }\n};\nvar CROSSLINE_LABEL_POSITION = UNION(\n  [\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"topLeft\",\n    \"topRight\",\n    \"bottomLeft\",\n    \"bottomRight\",\n    \"inside\",\n    \"insideLeft\",\n    \"insideRight\",\n    \"insideTop\",\n    \"insideBottom\",\n    \"insideTopLeft\",\n    \"insideBottomLeft\",\n    \"insideTopRight\",\n    \"insideBottomRight\"\n  ],\n  \"crossLine label position\"\n);\nvar CartesianCrossLineLabel = class {\n  constructor() {\n    this.enabled = void 0;\n    this.text = void 0;\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 14;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.position = void 0;\n    this.rotation = void 0;\n    this.parallel = void 0;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], CartesianCrossLineLabel.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], CartesianCrossLineLabel.prototype, \"text\", 2);\n__decorateClass2([\n  Validate(FONT_STYLE, { optional: true })\n], CartesianCrossLineLabel.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  Validate(FONT_WEIGHT2, { optional: true })\n], CartesianCrossLineLabel.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], CartesianCrossLineLabel.prototype, \"fontSize\", 2);\n__decorateClass2([\n  Validate(STRING)\n], CartesianCrossLineLabel.prototype, \"fontFamily\", 2);\n__decorateClass2([\n  Validate(NUMBER)\n], CartesianCrossLineLabel.prototype, \"padding\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], CartesianCrossLineLabel.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(CROSSLINE_LABEL_POSITION, { optional: true })\n], CartesianCrossLineLabel.prototype, \"position\", 2);\n__decorateClass2([\n  Validate(DEGREE, { optional: true })\n], CartesianCrossLineLabel.prototype, \"rotation\", 2);\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], CartesianCrossLineLabel.prototype, \"parallel\", 2);\nvar _CartesianCrossLine = class _CartesianCrossLine2 {\n  constructor() {\n    this.id = createId(this);\n    this.enabled = void 0;\n    this.type = void 0;\n    this.range = void 0;\n    this.value = void 0;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = void 0;\n    this.strokeOpacity = void 0;\n    this.lineDash = void 0;\n    this.label = new CartesianCrossLineLabel();\n    this.scale = void 0;\n    this.clippedRange = [-Infinity, Infinity];\n    this.gridLength = 0;\n    this.sideFlag = -1;\n    this.parallelFlipRotation = 0;\n    this.regularFlipRotation = 0;\n    this.direction = \"x\";\n    this.group = new Group({ name: `${this.id}`, layer: true, zIndex: _CartesianCrossLine2.LINE_LAYER_ZINDEX });\n    this.labelGroup = new Group({ name: `${this.id}`, layer: true, zIndex: _CartesianCrossLine2.LABEL_LAYER_ZINDEX });\n    this.crossLineRange = new Range();\n    this.crossLineLabel = new Text();\n    this.labelPoint = void 0;\n    this.data = [];\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    const { group: group2, labelGroup, crossLineRange, crossLineLabel } = this;\n    group2.append(crossLineRange);\n    labelGroup.append(crossLineLabel);\n    crossLineRange.pointerEvents = 1;\n  }\n  update(visible) {\n    const { enabled, data, type, value, range: range3, scale: scale2 } = this;\n    if (!type || !scale2 || !enabled || !visible || !validateCrossLineValues(type, value, range3, scale2) || data.length === 0) {\n      this.group.visible = false;\n      this.labelGroup.visible = false;\n      return;\n    }\n    this.group.visible = visible;\n    this.labelGroup.visible = visible;\n    this.group.zIndex = this.getZIndex(this.isRange);\n    this.updateNodes();\n  }\n  calculateLayout(visible, reversedAxis) {\n    if (!visible) {\n      return;\n    }\n    const dataCreated = this.createNodeData(reversedAxis);\n    if (!dataCreated) {\n      return;\n    }\n    const { sideFlag, gridLength, data } = this;\n    const boxes = [];\n    const x1 = 0;\n    const x2 = sideFlag * gridLength;\n    const y1 = data[0];\n    const y2 = data[1];\n    const crossLineBox = new BBox(Math.min(x1, x2), Math.min(y1, y2), Math.abs(x1 - x2), Math.abs(y1 - y2));\n    boxes.push(crossLineBox);\n    const labelBox = this.computeLabelBBox();\n    if (labelBox) {\n      boxes.push(labelBox);\n    }\n    return BBox.merge(boxes);\n  }\n  updateNodes() {\n    this.updateRangeNode();\n    if (this.label.enabled) {\n      this.updateLabel();\n      this.positionLabel();\n    }\n  }\n  createNodeData(reversedAxis) {\n    var _a, _b, _c;\n    const {\n      scale: scale2,\n      gridLength,\n      sideFlag,\n      direction,\n      label: { position = \"top\" },\n      clippedRange,\n      strokeWidth = 0\n    } = this;\n    this.data = [];\n    if (!scale2) {\n      return false;\n    }\n    const bandwidth = (_a = scale2.bandwidth) != null ? _a : 0;\n    const step = (_b = scale2.step) != null ? _b : 0;\n    const padding = (reversedAxis ? -1 : 1) * (scale2 instanceof BandScale ? (step - bandwidth) / 2 : 0);\n    const [xStart, xEnd] = [0, sideFlag * gridLength];\n    let [yStart, yEnd] = this.getRange();\n    const ordinalTimeScalePadding = yEnd === void 0 && OrdinalTimeScale.is(scale2) ? bandwidth / 2 + padding : 0;\n    let [clampedYStart, clampedYEnd] = [\n      Number(scale2.convert(yStart, { clampMode: \"clamped\" })) - padding + ordinalTimeScalePadding,\n      scale2.convert(yEnd, { clampMode: \"clamped\" }) + bandwidth + padding\n    ];\n    clampedYStart = clampArray(clampedYStart, clippedRange);\n    clampedYEnd = clampArray(clampedYEnd, clippedRange);\n    [yStart, yEnd] = [Number(scale2.convert(yStart)) + ordinalTimeScalePadding, scale2.convert(yEnd) + bandwidth];\n    const validRange = (yStart === clampedYStart || yEnd === clampedYEnd || clampedYStart !== clampedYEnd) && Math.abs(clampedYEnd - clampedYStart) > 0;\n    if (validRange && clampedYStart > clampedYEnd) {\n      [clampedYStart, clampedYEnd] = [clampedYEnd, clampedYStart];\n      [yStart, yEnd] = [yEnd, yStart];\n    }\n    if (yStart - padding >= clampedYStart)\n      yStart -= padding;\n    if (yEnd + padding <= clampedYEnd)\n      yEnd += padding;\n    this.isRange = validRange;\n    this.startLine = strokeWidth > 0 && yStart >= clampedYStart && yStart <= clampedYStart + padding;\n    this.endLine = strokeWidth > 0 && yEnd >= clampedYEnd - bandwidth - padding && yEnd <= clampedYEnd;\n    if (!validRange && !this.startLine && !this.endLine) {\n      return false;\n    }\n    this.data = [clampedYStart, clampedYEnd];\n    if (this.label.enabled) {\n      const yDirection = direction === \"y\";\n      const { c = POSITION_TOP_COORDINATES } = (_c = labelDirectionHandling[position]) != null ? _c : {};\n      const { x: labelX, y: labelY } = c({\n        yDirection,\n        xStart,\n        xEnd,\n        yStart: clampedYStart,\n        yEnd: clampedYEnd\n      });\n      this.labelPoint = {\n        x: labelX,\n        y: labelY\n      };\n    }\n    return true;\n  }\n  updateRangeNode() {\n    var _a;\n    const {\n      crossLineRange,\n      sideFlag,\n      gridLength,\n      data,\n      startLine,\n      endLine,\n      isRange,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      lineDash\n    } = this;\n    crossLineRange.x1 = 0;\n    crossLineRange.x2 = sideFlag * gridLength;\n    crossLineRange.y1 = data[0];\n    crossLineRange.y2 = data[1];\n    crossLineRange.startLine = startLine;\n    crossLineRange.endLine = endLine;\n    crossLineRange.isRange = isRange;\n    crossLineRange.fill = fill;\n    crossLineRange.fillOpacity = fillOpacity != null ? fillOpacity : 1;\n    crossLineRange.stroke = stroke;\n    crossLineRange.strokeWidth = strokeWidth != null ? strokeWidth : 1;\n    crossLineRange.strokeOpacity = (_a = this.strokeOpacity) != null ? _a : 1;\n    crossLineRange.lineDash = lineDash;\n  }\n  updateLabel() {\n    const { crossLineLabel, label } = this;\n    if (!label.text) {\n      return;\n    }\n    crossLineLabel.fontStyle = label.fontStyle;\n    crossLineLabel.fontWeight = label.fontWeight;\n    crossLineLabel.fontSize = label.fontSize;\n    crossLineLabel.fontFamily = label.fontFamily;\n    crossLineLabel.fill = label.color;\n    crossLineLabel.text = label.text;\n  }\n  positionLabel() {\n    const {\n      crossLineLabel,\n      labelPoint: { x = void 0, y = void 0 } = {},\n      label: { parallel, rotation, position = \"top\", padding = 0 },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const { defaultRotation, configuredRotation } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    crossLineLabel.rotation = defaultRotation + configuredRotation;\n    crossLineLabel.textBaseline = \"middle\";\n    crossLineLabel.textAlign = \"center\";\n    const bbox = crossLineLabel.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\";\n    const { xTranslation, yTranslation } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    crossLineLabel.translationX = x + xTranslation;\n    crossLineLabel.translationY = y + yTranslation;\n  }\n  getZIndex(isRange = false) {\n    if (isRange) {\n      return _CartesianCrossLine2.RANGE_LAYER_ZINDEX;\n    }\n    return _CartesianCrossLine2.LINE_LAYER_ZINDEX;\n  }\n  getRange() {\n    var _a;\n    const { value, range: range3, scale: scale2 } = this;\n    const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const start = (_a = range3 == null ? void 0 : range3[0]) != null ? _a : value;\n    let end = range3 == null ? void 0 : range3[1];\n    if (!isContinuous2 && end === void 0) {\n      end = start;\n    }\n    if (isContinuous2 && start === end) {\n      end = void 0;\n    }\n    return [start, end];\n  }\n  computeLabelBBox() {\n    const { label } = this;\n    if (!label.enabled) {\n      return;\n    }\n    const tempText = new Text();\n    tempText.fontFamily = label.fontFamily;\n    tempText.fontSize = label.fontSize;\n    tempText.fontStyle = label.fontStyle;\n    tempText.fontWeight = label.fontWeight;\n    tempText.text = label.text;\n    const {\n      labelPoint: { x = void 0, y = void 0 } = {},\n      label: { parallel, rotation, position = \"top\", padding = 0 },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const { configuredRotation } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    tempText.rotation = configuredRotation;\n    tempText.textBaseline = \"middle\";\n    tempText.textAlign = \"center\";\n    const bbox = tempText.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\";\n    const { xTranslation, yTranslation } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    tempText.translationX = x + xTranslation;\n    tempText.translationY = y + yTranslation;\n    return tempText.computeTransformedBBox();\n  }\n  calculatePadding(padding) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const {\n      isRange,\n      startLine,\n      endLine,\n      direction,\n      label: { padding: labelPadding = 0, position = \"top\" }\n    } = this;\n    if (!isRange && !startLine && !endLine) {\n      return;\n    }\n    const crossLineLabelBBox = this.computeLabelBBox();\n    if ((crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.x) == null || (crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.y) == null) {\n      return;\n    }\n    const chartPadding = calculateLabelChartPadding({\n      yDirection: direction === \"y\",\n      padding: labelPadding,\n      position,\n      bbox: crossLineLabelBBox\n    });\n    padding.left = Math.max((_a = padding.left) != null ? _a : 0, (_b = chartPadding.left) != null ? _b : 0);\n    padding.right = Math.max((_c = padding.right) != null ? _c : 0, (_d = chartPadding.right) != null ? _d : 0);\n    padding.top = Math.max((_e = padding.top) != null ? _e : 0, (_f = chartPadding.top) != null ? _f : 0);\n    padding.bottom = Math.max((_g = padding.bottom) != null ? _g : 0, (_h = chartPadding.bottom) != null ? _h : 0);\n  }\n};\n_CartesianCrossLine.LINE_LAYER_ZINDEX = 9;\n_CartesianCrossLine.RANGE_LAYER_ZINDEX = 3;\n_CartesianCrossLine.LABEL_LAYER_ZINDEX = 8;\n_CartesianCrossLine.className = \"CrossLine\";\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], _CartesianCrossLine.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(UNION([\"range\", \"line\"], \"a crossLine type\"), { optional: true })\n], _CartesianCrossLine.prototype, \"type\", 2);\n__decorateClass2([\n  Validate(AND(MATCHING_CROSSLINE_TYPE(\"range\"), ARRAY.restrict({ length: 2 })), {\n    optional: true\n  })\n], _CartesianCrossLine.prototype, \"range\", 2);\n__decorateClass2([\n  Validate(MATCHING_CROSSLINE_TYPE(\"value\"), { optional: true })\n], _CartesianCrossLine.prototype, \"value\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], _CartesianCrossLine.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(RATIO, { optional: true })\n], _CartesianCrossLine.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], _CartesianCrossLine.prototype, \"stroke\", 2);\n__decorateClass2([\n  Validate(NUMBER, { optional: true })\n], _CartesianCrossLine.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO, { optional: true })\n], _CartesianCrossLine.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(LINE_DASH, { optional: true })\n], _CartesianCrossLine.prototype, \"lineDash\", 2);\nvar CartesianCrossLine = _CartesianCrossLine;\nvar ModuleMap = class {\n  constructor() {\n    this.moduleMap = /* @__PURE__ */ new Map();\n  }\n  *modules() {\n    for (const m of this.moduleMap.values()) {\n      yield m.moduleInstance;\n    }\n  }\n  addModule(module, moduleFactory) {\n    if (this.moduleMap.has(module.optionsKey)) {\n      throw new Error(`AG Charts - module already initialised: ${module.optionsKey}`);\n    }\n    this.moduleMap.set(module.optionsKey, { module, moduleInstance: moduleFactory(module) });\n  }\n  removeModule(module) {\n    var _a;\n    const moduleKey = isString(module) ? module : module.optionsKey;\n    (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    this.moduleMap.delete(moduleKey);\n  }\n  getModule(module) {\n    var _a;\n    return (_a = this.moduleMap.get(isString(module) ? module : module.optionsKey)) == null ? void 0 : _a.moduleInstance;\n  }\n  isEnabled(module) {\n    return this.moduleMap.has(isString(module) ? module : module.optionsKey);\n  }\n  mapModules(callback) {\n    return Array.from(this.moduleMap.values(), (m, i) => callback(m.moduleInstance, i));\n  }\n  destroy() {\n    var _a;\n    for (const moduleKey of this.moduleMap.keys()) {\n      (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    }\n    this.moduleMap.clear();\n  }\n};\nvar resetMotion_exports = {};\n__export(resetMotion_exports, {\n  resetMotion: () => resetMotion\n});\nfunction resetMotion(selectionsOrNodes, propsFn) {\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  for (const selection of selections) {\n    for (const node of selection.nodes()) {\n      const from = propsFn(node, node.datum);\n      node.setProperties(from);\n    }\n    selection.cleanup();\n  }\n  for (const node of nodes) {\n    const from = propsFn(node, node.datum);\n    node.setProperties(from);\n  }\n}\nvar StateMachine = class {\n  constructor(initialState, states, preTransitionCb) {\n    this.states = states;\n    this.preTransitionCb = preTransitionCb;\n    this.debug = Debug.create(true, \"animation\");\n    this.state = initialState;\n    this.debug(`%c${this.constructor.name} | init -> ${initialState}`, \"color: green\");\n  }\n  transition(event, data) {\n    var _a, _b;\n    const currentStateConfig = this.states[this.state];\n    const destinationTransition = currentStateConfig == null ? void 0 : currentStateConfig[event];\n    if (!destinationTransition) {\n      this.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${this.state}`, \"color: grey\");\n      return;\n    }\n    let destinationState = this.state;\n    if (typeof destinationTransition === \"string\") {\n      destinationState = destinationTransition;\n    } else if (typeof destinationTransition === \"object\") {\n      destinationState = destinationTransition.target;\n    }\n    this.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${destinationState}`, \"color: green\");\n    (_a = this.preTransitionCb) == null ? void 0 : _a.call(this, this.state, destinationState);\n    this.state = destinationState;\n    if (typeof destinationTransition === \"function\") {\n      destinationTransition(data);\n    } else if (typeof destinationTransition === \"object\") {\n      (_b = destinationTransition.action) == null ? void 0 : _b.call(destinationTransition, data);\n    }\n    return this.state;\n  }\n};\nvar group = (content) => `(${content})`;\nvar optionalGroup = (content) => `${group(content)}?`;\nvar nonCapturingGroup = (content) => optionalGroup(`?:${content}`);\nvar formatRegEx = (() => {\n  const fill = \".\";\n  const align = \"[<>=^]\";\n  const sign = \"[+\\\\-( ]\";\n  const symbol = \"[$\\u20AC\\xA3\\xA5\\u20A3\\u20B9#]\";\n  const zero = \"0\";\n  const width = \"\\\\d+\";\n  const comma = \",\";\n  const precision = \"\\\\d+\";\n  const tilde = \"~\";\n  const type = \"[%a-z]\";\n  return new RegExp(\n    [\n      \"^\",\n      nonCapturingGroup(`${optionalGroup(fill)}${group(align)}`),\n      optionalGroup(sign),\n      optionalGroup(symbol),\n      optionalGroup(zero),\n      optionalGroup(width),\n      optionalGroup(comma),\n      nonCapturingGroup(`\\\\.${group(precision)}`),\n      optionalGroup(tilde),\n      optionalGroup(type),\n      \"$\"\n    ].join(\"\"),\n    \"i\"\n  );\n})();\nvar surroundedRegEx = (() => {\n  const prefix = \".*?\";\n  const content = \".+?\";\n  const suffix = \".*?\";\n  return new RegExp([\"^\", group(prefix), `#\\\\{${group(content)}\\\\}`, group(suffix), \"$\"].join(\"\"));\n})();\nfunction parseFormatter(formatter) {\n  let prefix;\n  let suffix;\n  const surrounded = surroundedRegEx.exec(formatter);\n  if (surrounded) {\n    [, prefix, formatter, suffix] = surrounded;\n  }\n  const match = formatRegEx.exec(formatter);\n  if (!match) {\n    throw new Error(`The number formatter is invalid: ${formatter}`);\n  }\n  const [, fill, align, sign, symbol, zero, width, comma, precision, trim, type] = match;\n  return {\n    fill,\n    align,\n    sign,\n    symbol,\n    zero,\n    width: parseInt(width),\n    comma,\n    precision: parseInt(precision),\n    trim: Boolean(trim),\n    type,\n    prefix,\n    suffix\n  };\n}\nfunction format(formatter) {\n  const options = typeof formatter === \"string\" ? parseFormatter(formatter) : formatter;\n  const { fill, align, sign = \"-\", symbol, zero, width, comma, type, prefix = \"\", suffix = \"\", precision } = options;\n  let { trim } = options;\n  const precisionIsNaN = precision === void 0 || isNaN(precision);\n  let formatBody;\n  if (!type) {\n    formatBody = decimalTypes[\"g\"];\n    trim = true;\n  } else if (type in decimalTypes && type in integerTypes) {\n    formatBody = precisionIsNaN ? integerTypes[type] : decimalTypes[type];\n  } else if (type in decimalTypes) {\n    formatBody = decimalTypes[type];\n  } else if (type in integerTypes) {\n    formatBody = integerTypes[type];\n  } else {\n    throw new Error(`The number formatter type is invalid: ${type}`);\n  }\n  let formatterPrecision;\n  if (precision == null || precisionIsNaN) {\n    formatterPrecision = type ? 6 : 12;\n  } else {\n    formatterPrecision = precision;\n  }\n  return (n) => {\n    let result = formatBody(n, formatterPrecision);\n    if (trim) {\n      result = removeTrailingZeros(result);\n    }\n    if (comma) {\n      result = insertSeparator(result, comma);\n    }\n    result = addSign(n, result, sign);\n    if (symbol && symbol !== \"#\") {\n      result = `${symbol}${result}`;\n    }\n    if (symbol === \"#\" && type === \"x\") {\n      result = `0x${result}`;\n    }\n    if (type === \"s\") {\n      result = `${result}${getSIPrefix(n)}`;\n    }\n    if (type === \"%\" || type === \"p\") {\n      result = `${result}%`;\n    }\n    if (width != null && !isNaN(width)) {\n      result = addPadding(result, width, fill != null ? fill : zero, align);\n    }\n    result = `${prefix}${result}${suffix}`;\n    return result;\n  };\n}\nvar absFloor = (n) => Math.floor(Math.abs(n));\nvar integerTypes = {\n  b: (n) => absFloor(n).toString(2),\n  c: (n) => String.fromCharCode(n),\n  d: (n) => Math.round(Math.abs(n)).toFixed(0),\n  o: (n) => absFloor(n).toString(8),\n  x: (n) => absFloor(n).toString(16),\n  X: (n) => integerTypes.x(n).toUpperCase(),\n  n: (n) => integerTypes.d(n),\n  \"%\": (n) => `${absFloor(n * 100).toFixed(0)}`\n};\nvar decimalTypes = {\n  e: (n, f) => Math.abs(n).toExponential(f),\n  E: (n, f) => decimalTypes.e(n, f).toUpperCase(),\n  f: (n, f) => Math.abs(n).toFixed(f),\n  F: (n, f) => decimalTypes.f(n, f).toUpperCase(),\n  g: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    if (p >= -4 && p < f) {\n      return a.toFixed(f - 1 - p);\n    }\n    return a.toExponential(f - 1);\n  },\n  G: (n, f) => decimalTypes.g(n, f).toUpperCase(),\n  n: (n, f) => decimalTypes.g(n, f),\n  p: (n, f) => decimalTypes.r(n * 100, f),\n  r: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    const q = p - (f - 1);\n    if (q <= 0) {\n      return a.toFixed(-q);\n    }\n    const x = Math.pow(10, q);\n    return (Math.round(a / x) * x).toFixed();\n  },\n  s: (n, f) => {\n    const p = getSIPrefixPower(n);\n    return decimalTypes.r(n / Math.pow(10, p), f);\n  },\n  \"%\": (n, f) => decimalTypes.f(n * 100, f)\n};\nfunction removeTrailingZeros(numString) {\n  return numString.replace(/\\.0+$/, \"\").replace(/(\\.[1-9])0+$/, \"$1\");\n}\nfunction insertSeparator(numString, separator) {\n  let dotIndex = numString.indexOf(\".\");\n  if (dotIndex < 0) {\n    dotIndex = numString.length;\n  }\n  const integerChars = numString.substring(0, dotIndex).split(\"\");\n  const fractionalPart = numString.substring(dotIndex);\n  for (let i = integerChars.length - 3; i > 0; i -= 3) {\n    integerChars.splice(i, 0, separator);\n  }\n  return `${integerChars.join(\"\")}${fractionalPart}`;\n}\nfunction getSIPrefix(n) {\n  return siPrefixes[getSIPrefixPower(n)];\n}\nfunction getSIPrefixPower(n) {\n  return clamp(minSIPrefix, n ? Math.floor(Math.log10(Math.abs(n)) / 3) * 3 : 0, maxSIPrefix);\n}\nvar minSIPrefix = -24;\nvar maxSIPrefix = 24;\nvar siPrefixes = {\n  [minSIPrefix]: \"y\",\n  [-21]: \"z\",\n  [-18]: \"a\",\n  [-15]: \"f\",\n  [-12]: \"p\",\n  [-9]: \"n\",\n  [-6]: \"\\xB5\",\n  [-3]: \"m\",\n  [0]: \"\",\n  [3]: \"k\",\n  [6]: \"M\",\n  [9]: \"G\",\n  [12]: \"T\",\n  [15]: \"P\",\n  [18]: \"E\",\n  [21]: \"Z\",\n  [maxSIPrefix]: \"Y\"\n};\nvar minusSign = \"\\u2212\";\nfunction addSign(num, numString, signType = \"\") {\n  if (signType === \"(\") {\n    return num >= 0 ? numString : `(${numString})`;\n  }\n  const plusSign = signType === \"+\" ? \"+\" : \"\";\n  return `${num >= 0 ? plusSign : minusSign}${numString}`;\n}\nfunction addPadding(numString, width, fill = \" \", align = \">\") {\n  let result = numString;\n  if (align === \">\" || !align) {\n    result = result.padStart(width, fill);\n  } else if (align === \"<\") {\n    result = result.padEnd(width, fill);\n  } else if (align === \"^\") {\n    const padWidth = Math.max(0, width - result.length);\n    const padLeft = Math.ceil(padWidth / 2);\n    const padRight = Math.floor(padWidth / 2);\n    result = result.padStart(padLeft + result.length, fill);\n    result = result.padEnd(padRight + result.length, fill);\n  }\n  return result;\n}\nfunction tickFormat(ticks, formatter) {\n  const options = parseFormatter(formatter != null ? formatter : \",f\");\n  const { precision } = options;\n  if (precision == null || isNaN(precision)) {\n    if (options.type === \"f\" || options.type === \"%\") {\n      options.precision = Math.max(\n        ...ticks.map((x) => {\n          if (typeof x !== \"number\" || x === 0) {\n            return 0;\n          }\n          const l = Math.floor(Math.log10(Math.abs(x)));\n          const digits = options.type ? 6 : 12;\n          const exp = x.toExponential(digits - 1).replace(/\\.?0+e/, \"e\");\n          const dotIndex = exp.indexOf(\".\");\n          if (dotIndex < 0) {\n            return l >= 0 ? 0 : -l;\n          }\n          const s = exp.indexOf(\"e\") - dotIndex;\n          return Math.max(0, s - l - 1);\n        })\n      );\n    } else if (!options.type || options.type in decimalTypes) {\n      options.precision = Math.max(\n        ...ticks.map((x) => {\n          if (typeof x !== \"number\") {\n            return 0;\n          }\n          const exp = x.toExponential((options.type ? 6 : 12) - 1).replace(/\\.?0+e/, \"e\");\n          return exp.substring(0, exp.indexOf(\"e\")).replace(\".\", \"\").length;\n        })\n      );\n    }\n  }\n  const f = format(options);\n  return (n) => f(Number(n));\n}\nvar _LogScale = class _LogScale2 extends ContinuousScale {\n  constructor() {\n    super([1, 10], [0, 1]);\n    this.type = \"log\";\n    this.base = 10;\n    this.baseLog = identity;\n    this.basePow = identity;\n    this.log = (x) => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.baseLog(x) : -this.baseLog(-x);\n    };\n    this.pow = (x) => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.basePow(x) : -this.basePow(-x);\n    };\n    this.defaultClampMode = \"clamped\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  transform(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.log(x) : -Math.log(-x);\n  }\n  transformInvert(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.exp(x) : -Math.exp(-x);\n  }\n  refresh() {\n    if (this.base <= 0) {\n      this.base = 0;\n      Logger.warnOnce(\"expecting a finite Number greater than to 0\");\n    }\n    super.refresh();\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    this.baseLog = _LogScale2.getBaseLogMethod(this.base);\n    this.basePow = _LogScale2.getBasePowerMethod(this.base);\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  updateNiceDomain() {\n    const [d0, d1] = this.domain;\n    const roundStart = d0 > d1 ? Math.ceil : Math.floor;\n    const roundStop = d0 > d1 ? Math.floor : Math.ceil;\n    const n0 = this.pow(roundStart(this.log(d0)));\n    const n1 = this.pow(roundStop(this.log(d1)));\n    this.niceDomain = [n0, n1];\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : 10;\n    if (!this.domain || this.domain.length < 2 || count < 1) {\n      return [];\n    }\n    this.refresh();\n    const base = this.base;\n    const [d0, d1] = this.getDomain();\n    const start = Math.min(d0, d1);\n    const stop = Math.max(d0, d1);\n    let p0 = this.log(start);\n    let p1 = this.log(stop);\n    if (this.interval) {\n      const step = Math.abs(this.interval);\n      const absDiff = Math.abs(p1 - p0);\n      let ticks2 = range(p0, p1, Math.min(absDiff, step));\n      ticks2 = createNumericTicks(\n        ticks2.fractionDigits,\n        ticks2.map((x) => this.pow(x)).filter((t) => t >= start && t <= stop)\n      );\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({ start, stop, interval: step, count: ticks2.length, availableRange })) {\n        return ticks2;\n      }\n    }\n    const isBaseInteger = base % 1 === 0;\n    const isDiffLarge = p1 - p0 >= count;\n    if (!isBaseInteger || isDiffLarge) {\n      let ticks2 = ticks_default(p0, p1, Math.min(p1 - p0, count));\n      ticks2 = createNumericTicks(\n        ticks2.fractionDigits,\n        ticks2.map((x) => this.pow(x))\n      );\n      return ticks2;\n    }\n    const ticks = [];\n    const isPositive = start > 0;\n    p0 = Math.floor(p0) - 1;\n    p1 = Math.round(p1) + 1;\n    const availableSpacing = findRangeExtent(this.range) / count;\n    let lastTickPosition = Infinity;\n    for (let p = p0; p <= p1; p++) {\n      const nextMagnitudeTickPosition = this.convert(this.pow(p + 1));\n      for (let k = 1; k < base; k++) {\n        const q = isPositive ? k : base - k + 1;\n        const t = this.pow(p) * q;\n        const tickPosition = this.convert(t);\n        const prevSpacing = Math.abs(lastTickPosition - tickPosition);\n        const nextSpacing = Math.abs(tickPosition - nextMagnitudeTickPosition);\n        const fits = prevSpacing >= availableSpacing && nextSpacing >= availableSpacing;\n        if (t >= start && t <= stop && (k === 1 || fits || ticks.length === 0)) {\n          ticks.push(t);\n          lastTickPosition = tickPosition;\n        }\n      }\n    }\n    return ticks;\n  }\n  tickFormat({\n    count,\n    ticks,\n    specifier\n  }) {\n    if (count !== Infinity && ticks == null) {\n      this.ticks();\n    }\n    specifier != null ? specifier : specifier = this.base === 10 ? \".0e\" : \",\";\n    return isString(specifier) ? format(specifier) : specifier;\n  }\n  static getBaseLogMethod(base) {\n    switch (base) {\n      case 10:\n        return Math.log10;\n      case Math.E:\n        return Math.log;\n      case 2:\n        return Math.log2;\n      default:\n        const logBase = Math.log(base);\n        return (x) => Math.log(x) / logBase;\n    }\n  }\n  static getBasePowerMethod(base) {\n    switch (base) {\n      case 10:\n        return (x) => x >= 0 ? __pow(10, x) : 1 / __pow(10, -x);\n      case Math.E:\n        return Math.exp;\n      default:\n        return (x) => __pow(base, x);\n    }\n  }\n};\n__decorateClass2([\n  Invalidating\n], _LogScale.prototype, \"base\", 2);\nvar LogScale = _LogScale;\nvar Selection = class _Selection {\n  constructor(parentNode, classOrFactory, autoCleanup = true) {\n    this.parentNode = parentNode;\n    this.autoCleanup = autoCleanup;\n    this.garbageBin = /* @__PURE__ */ new Set();\n    this._nodesMap = /* @__PURE__ */ new Map();\n    this._nodes = [];\n    this.data = [];\n    this.debug = Debug.create(true, \"scene\", \"scene:selections\");\n    this.nodeFactory = Object.prototype.isPrototypeOf.call(Node, classOrFactory) ? () => new classOrFactory() : classOrFactory;\n  }\n  static select(parent, classOrFactory, garbageCollection = true) {\n    return new _Selection(parent, classOrFactory, garbageCollection);\n  }\n  static selectAll(parent, predicate) {\n    const results = [];\n    const traverse = (node) => {\n      if (predicate(node)) {\n        results.push(node);\n      }\n      node.children.forEach(traverse);\n    };\n    traverse(parent);\n    return results;\n  }\n  static selectByClass(node, Class, ...ExtraClasses) {\n    return _Selection.selectAll(node, (n) => {\n      return n instanceof Class || ExtraClasses.some((C) => n instanceof C);\n    });\n  }\n  static selectByTag(node, tag) {\n    return _Selection.selectAll(node, (n) => n.tag === tag);\n  }\n  createNode(datum, initializer, idx) {\n    const node = this.nodeFactory(datum);\n    node.datum = datum;\n    initializer == null ? void 0 : initializer(node);\n    if (idx == null) {\n      this._nodes.push(node);\n    } else {\n      this._nodes.splice(idx, 0, node);\n    }\n    this.parentNode.appendChild(node);\n    return node;\n  }\n  /**\n   * Update the data in a selection. If an `getDatumId()` function is provided, maintain a list of ids related to\n   * the nodes. Otherwise, take the more efficient route of simply creating and destroying nodes at the end\n   * of the array.\n   */\n  update(data, initializer, getDatumId) {\n    if (this.garbageBin.size > 0) {\n      this.debug(`Selection - update() called with pending garbage: ${data}`);\n    }\n    if (getDatumId) {\n      const dataMap = new Map(\n        data.map((datum, idx) => [getDatumId(datum), [datum, idx]])\n      );\n      for (const [node, datumId] of this._nodesMap.entries()) {\n        if (dataMap.has(datumId)) {\n          const [newDatum] = dataMap.get(datumId);\n          node.datum = newDatum;\n          this.garbageBin.delete(node);\n          dataMap.delete(datumId);\n        } else {\n          this.garbageBin.add(node);\n        }\n      }\n      for (const [datumId, [datum, idx]] of dataMap.entries()) {\n        this._nodesMap.set(this.createNode(datum, initializer, idx), datumId);\n      }\n    } else {\n      const maxLength = Math.max(data.length, this.data.length);\n      for (let i = 0; i < maxLength; i++) {\n        if (i >= data.length) {\n          this.garbageBin.add(this._nodes[i]);\n        } else if (i >= this._nodes.length) {\n          this.createNode(data[i], initializer);\n        } else {\n          this._nodes[i].datum = data[i];\n          this.garbageBin.delete(this._nodes[i]);\n        }\n      }\n    }\n    this.data = data.slice();\n    if (this.autoCleanup) {\n      this.cleanup();\n    }\n    return this;\n  }\n  cleanup() {\n    if (this.garbageBin.size === 0) {\n      return this;\n    }\n    this._nodes = this._nodes.filter((node) => {\n      if (this.garbageBin.has(node)) {\n        this._nodesMap.delete(node);\n        this.garbageBin.delete(node);\n        this.parentNode.removeChild(node);\n        return false;\n      }\n      return true;\n    });\n    return this;\n  }\n  clear() {\n    this.update([]);\n    return this;\n  }\n  isGarbage(node) {\n    return this.garbageBin.has(node);\n  }\n  hasGarbage() {\n    return this.garbageBin.size > 0;\n  }\n  each(iterate2) {\n    for (const entry of this._nodes.entries()) {\n      iterate2(entry[1], entry[1].datum, entry[0]);\n    }\n    return this;\n  }\n  *[Symbol.iterator]() {\n    for (let index = 0; index < this._nodes.length; index++) {\n      const node = this._nodes[index];\n      const datum = this._nodes[index].datum;\n      yield { node, datum, index };\n    }\n  }\n  select(predicate) {\n    return _Selection.selectAll(this.parentNode, predicate);\n  }\n  selectByClass(Class) {\n    return _Selection.selectByClass(this.parentNode, Class);\n  }\n  selectByTag(tag) {\n    return _Selection.selectByTag(this.parentNode, tag);\n  }\n  nodes() {\n    return this._nodes;\n  }\n};\nfunction pointsDistanceSquared(x1, y1, x2, y2) {\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return dx * dx + dy * dy;\n}\nfunction lineDistanceSquared(x, y, x1, y1, x2, y2, best) {\n  if (x1 === x2 && y1 === y2) {\n    return Math.min(best, pointsDistanceSquared(x, y, x1, y1));\n  }\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const t = Math.max(0, Math.min(1, ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy)));\n  const ix = x1 + t * dx;\n  const iy = y1 + t * dy;\n  return Math.min(best, pointsDistanceSquared(x, y, ix, iy));\n}\nfunction arcDistanceSquared(x, y, cx, cy, radius, startAngle, endAngle, counterClockwise, best) {\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const angle = Math.atan2(y - cy, x - cx);\n  if (!isBetweenAngles(angle, startAngle, endAngle)) {\n    const startX = cx + Math.cos(startAngle) * radius;\n    const startY = cy + Math.sin(startAngle) * radius;\n    const endX = cx + Math.cos(startAngle) * radius;\n    const endY = cy + Math.sin(startAngle) * radius;\n    return Math.min(best, pointsDistanceSquared(x, y, startX, startY), pointsDistanceSquared(x, y, endX, endY));\n  }\n  const distToArc = radius - Math.sqrt(pointsDistanceSquared(x, y, cx, cy));\n  return Math.min(best, distToArc * distToArc);\n}\nvar Line = class extends Shape {\n  constructor(opts = {}) {\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.restoreOwnStyles();\n  }\n  set x(value) {\n    this.x1 = value;\n    this.x2 = value;\n  }\n  set y(value) {\n    this.y1 = value;\n    this.y2 = value;\n  }\n  computeBBox() {\n    return new BBox(\n      Math.min(this.x1, this.x2),\n      Math.min(this.y1, this.y2),\n      Math.abs(this.x2 - this.x1),\n      Math.abs(this.y2 - this.y1)\n    );\n  }\n  isPointInPath(px, py) {\n    if (this.x1 === this.x2 || this.y1 === this.y2) {\n      const { x, y } = this.transformPoint(px, py);\n      return this.computeBBox().grow(this.strokeWidth / 2).containsPoint(x, y);\n    }\n    return false;\n  }\n  distanceSquared(px, py) {\n    const { x1, y1, x2, y2 } = this;\n    return lineDistanceSquared(px, py, x1, y1, x2, y2, Infinity);\n  }\n  render(renderCtx) {\n    var _a;\n    const { ctx, forceRender, stats, devicePixelRatio } = renderCtx;\n    if (this.dirty === 0 && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let { x1, y1, x2, y2 } = this;\n    if (x1 === x2) {\n      const { strokeWidth } = this;\n      const x = Math.round(x1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      x1 = x;\n      x2 = x;\n    } else if (y1 === y2) {\n      const { strokeWidth } = this;\n      const y = Math.round(y1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      y1 = y;\n      y2 = y;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    this.fillStroke(ctx);\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nLine.className = \"Line\";\nLine.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  fill: void 0,\n  strokeWidth: 1\n});\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Line.prototype, \"x1\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Line.prototype, \"y1\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Line.prototype, \"x2\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Line.prototype, \"y2\", 2);\nfunction circleRectOverlap(c, unitCenter, x, y, w, h) {\n  if (c.size === 0)\n    return false;\n  let cx = c.x;\n  let cy = c.y;\n  if (unitCenter != null) {\n    cx -= (unitCenter.x - 0.5) * c.size;\n    cy -= (unitCenter.y - 0.5) * c.size;\n  }\n  let edgeX = cx;\n  if (cx < x) {\n    edgeX = x;\n  } else if (cx > x + w) {\n    edgeX = x + w;\n  }\n  let edgeY = cy;\n  if (cy < y) {\n    edgeY = y;\n  } else if (cy > y + h) {\n    edgeY = y + h;\n  }\n  const dx = cx - edgeX;\n  const dy = cy - edgeY;\n  const d = Math.sqrt(dx * dx + dy * dy);\n  return d <= c.size * 0.5;\n}\nfunction rectRectOverlap(r1, x2, y2, w2, h2) {\n  const xOverlap = r1.x + r1.width > x2 && r1.x < x2 + w2;\n  const yOverlap = r1.y + r1.height > y2 && r1.y < y2 + h2;\n  return xOverlap && yOverlap;\n}\nfunction rectContainsRect(r1, r2x, r2y, r2w, r2h) {\n  return r2x + r2w < r1.x + r1.width && r2x > r1.x && r2y > r1.y && r2y + r2h < r1.y + r1.height;\n}\nfunction isPointLabelDatum(x) {\n  return x != null && typeof x.point === \"object\" && typeof x.label === \"object\";\n}\nvar labelPlacements = {\n  top: { x: 0, y: -1 },\n  bottom: { x: 0, y: 1 },\n  left: { x: -1, y: 0 },\n  right: { x: 1, y: 0 }\n};\nfunction placeLabels(data, bounds, padding = 5) {\n  var _a, _b;\n  const result = [];\n  data = data.map((d) => d.slice().sort((a, b) => b.point.size - a.point.size));\n  for (let j = 0; j < data.length; j++) {\n    const labels = result[j] = [];\n    const datum = data[j];\n    if (!((datum == null ? void 0 : datum.length) && datum[0].label)) {\n      continue;\n    }\n    for (let i = 0, ln = datum.length; i < ln; i++) {\n      const d = datum[i];\n      const { point, label, marker } = d;\n      const { text, width, height } = label;\n      const r = point.size * 0.5;\n      let dx = 0;\n      let dy = 0;\n      if (r > 0 && d.placement != null) {\n        const placement = labelPlacements[d.placement];\n        dx = (width * 0.5 + r + padding) * placement.x;\n        dy = (height * 0.5 + r + padding) * placement.y;\n      }\n      const x = point.x - width * 0.5 + dx - (((_a = marker == null ? void 0 : marker.center.x) != null ? _a : 0.5) - 0.5) * point.size;\n      const y = point.y - height * 0.5 + dy - (((_b = marker == null ? void 0 : marker.center.y) != null ? _b : 0.5) - 0.5) * point.size;\n      const withinBounds = !bounds || rectContainsRect(bounds, x, y, width, height);\n      if (!withinBounds) {\n        continue;\n      }\n      const overlapPoints = data.some(\n        (dataDatums) => dataDatums.some(\n          (dataDatum) => {\n            var _a2;\n            return circleRectOverlap(dataDatum.point, (_a2 = dataDatum.marker) == null ? void 0 : _a2.center, x, y, width, height);\n          }\n        )\n      );\n      if (overlapPoints) {\n        continue;\n      }\n      const overlapLabels = result.some((l2) => l2.some((l3) => rectRectOverlap(l3, x, y, width, height)));\n      if (overlapLabels) {\n        continue;\n      }\n      labels.push({\n        index: i,\n        text,\n        x,\n        y,\n        width,\n        height,\n        datum: d\n      });\n    }\n  }\n  return result;\n}\nfunction axisLabelsOverlap(data, padding) {\n  const result = [];\n  for (let i = 0; i < data.length; i++) {\n    const datum = data[i];\n    const {\n      point: { x, y },\n      label: { text }\n    } = datum;\n    let {\n      label: { width, height }\n    } = datum;\n    width += padding != null ? padding : 0;\n    height += padding != null ? padding : 0;\n    const overlapLabels = result.some((l) => {\n      return rectRectOverlap(l, x, y, width, height);\n    });\n    if (overlapLabels) {\n      return true;\n    }\n    result.push({\n      index: i,\n      text,\n      x,\n      y,\n      width,\n      height,\n      datum\n    });\n  }\n  return false;\n}\nfunction areArrayItemsStrictlyEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((a, i) => {\n    const b = arrB[i];\n    if (Array.isArray(a) && Array.isArray(b)) {\n      return areArrayItemsStrictlyEqual(a, b);\n    }\n    return a === b;\n  });\n}\nfunction areArrayNumbersEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((item, i) => Number(item) === Number(arrB[i]));\n}\nfunction ProxyProperty(proxyPath) {\n  const pathArray = isArray(proxyPath) ? proxyPath : proxyPath.split(\".\");\n  if (pathArray.length === 1) {\n    const [property] = pathArray;\n    return addTransformToInstanceProperty(\n      (target, _, value) => target[property] = value,\n      (target) => target[property]\n    );\n  }\n  return addTransformToInstanceProperty(\n    (target, _, value) => setPath(target, pathArray, value),\n    (target) => getPath(target, pathArray)\n  );\n}\nfunction ProxyOnWrite(proxyProperty) {\n  return addTransformToInstanceProperty((target, _, value) => target[proxyProperty] = value);\n}\nfunction ProxyPropertyOnWrite(childName, childProperty) {\n  return addTransformToInstanceProperty((target, key, value) => target[childName][childProperty != null ? childProperty : key] = value);\n}\nfunction ActionOnSet(opts) {\n  const { newValue: newValueFn, oldValue: oldValueFn, changeValue: changeValueFn } = opts;\n  return addTransformToInstanceProperty((target, _, newValue, oldValue) => {\n    if (newValue !== oldValue) {\n      if (oldValue !== void 0) {\n        oldValueFn == null ? void 0 : oldValueFn.call(target, oldValue);\n      }\n      if (newValue !== void 0) {\n        newValueFn == null ? void 0 : newValueFn.call(target, newValue);\n      }\n      changeValueFn == null ? void 0 : changeValueFn.call(target, newValue, oldValue);\n    }\n    return newValue;\n  });\n}\nfunction ObserveChanges(observerFn) {\n  return addObserverToInstanceProperty(observerFn);\n}\nfunction setAttribute(e, qualifiedName, value) {\n  if (value === void 0 || value === \"\") {\n    e == null ? void 0 : e.removeAttribute(qualifiedName);\n  } else {\n    e == null ? void 0 : e.setAttribute(qualifiedName, value.toString());\n  }\n}\nfunction calculatePlacement(naturalWidth, naturalHeight, containerWidth, containerHeight, bounds) {\n  let { top, right, bottom, left, width, height } = bounds;\n  if (left != null) {\n    if (width != null) {\n      right = containerWidth - left + width;\n    } else if (right != null) {\n      width = containerWidth - left - right;\n    }\n  } else if (right != null && width != null) {\n    left = containerWidth - right - width;\n  }\n  if (top != null) {\n    if (height != null) {\n      bottom = containerHeight - top - height;\n    } else if (bottom != null) {\n      height = containerHeight - bottom - top;\n    }\n  } else if (bottom != null && height != null) {\n    top = containerHeight - bottom - height;\n  }\n  if (width == null) {\n    if (height == null) {\n      width = naturalWidth;\n      height = naturalHeight;\n    } else {\n      width = Math.ceil(naturalWidth * height / naturalHeight);\n    }\n  } else if (height == null) {\n    height = Math.ceil(naturalHeight * width / naturalWidth);\n  }\n  if (left == null) {\n    if (right == null) {\n      left = Math.floor((containerWidth - width) / 2);\n    } else {\n      left = containerWidth - right - width;\n    }\n  }\n  if (top == null) {\n    if (bottom == null) {\n      top = Math.floor((containerHeight - height) / 2);\n    } else {\n      top = containerHeight - height - bottom;\n    }\n  }\n  return { x: left, y: top, width, height };\n}\nvar DEFAULT_TOOLTIP_CLASS = \"ag-chart-tooltip\";\nvar DEFAULT_TOOLTIP_DARK_CLASS = \"ag-chart-dark-tooltip\";\nvar EMPTY_TOOLTIP_CONTENT = { html: \"\", ariaLabel: \"\" };\nfunction toAccessibleText(inputHtml) {\n  const lineConverter = (_match, offset4, str) => {\n    if (offset4 === 0 || str[offset4 - 1] !== \".\") {\n      return \". \";\n    }\n    return \" \";\n  };\n  return inputHtml.replace(/<br\\s*\\/?>/g, lineConverter).replace(/<\\/p\\s+>/g, lineConverter).replace(/<\\/li\\s*\\/>/g, lineConverter).replace(/<[^>]+>/g, \"\");\n}\nfunction toTooltipHtml(input, defaults) {\n  var _a, _b, _c;\n  if (typeof input === \"string\") {\n    return { html: input, ariaLabel: input };\n  }\n  const {\n    content = (_a = defaults == null ? void 0 : defaults.content) != null ? _a : \"\",\n    title = defaults == null ? void 0 : defaults.title,\n    color = (_b = defaults == null ? void 0 : defaults.color) != null ? _b : \"white\",\n    backgroundColor = (_c = defaults == null ? void 0 : defaults.backgroundColor) != null ? _c : \"#888\"\n  } = input;\n  const titleHtml = title ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-title\"\n        style=\"color: ${color}; background-color: ${backgroundColor}\">${title}</div>` : \"\";\n  const titleAria = title ? `${title}: ` : \"\";\n  const contentHtml = content ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-content\">${content}</div>` : \"\";\n  return {\n    html: `${titleHtml}${contentHtml}`,\n    ariaLabel: toAccessibleText(`${titleAria}${content}`)\n  };\n}\nvar TooltipPosition = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.type = \"pointer\";\n    this.xOffset = 0;\n    this.yOffset = 0;\n  }\n};\n__decorateClass2([\n  Validate(\n    UNION(\n      [\n        \"pointer\",\n        \"node\",\n        \"top\",\n        \"right\",\n        \"bottom\",\n        \"left\",\n        \"top-left\",\n        \"top-right\",\n        \"bottom-right\",\n        \"bottom-left\"\n      ],\n      \"a position type\"\n    )\n  )\n], TooltipPosition.prototype, \"type\", 2);\n__decorateClass2([\n  Validate(NUMBER)\n], TooltipPosition.prototype, \"xOffset\", 2);\n__decorateClass2([\n  Validate(NUMBER)\n], TooltipPosition.prototype, \"yOffset\", 2);\nvar Tooltip = class extends BaseProperties {\n  constructor() {\n    super();\n    this.enabled = true;\n    this.delay = 0;\n    this.range = \"nearest\";\n    this.wrapping = \"hyphenate\";\n    this.position = new TooltipPosition();\n    this.darkTheme = false;\n    this.enableInteraction = false;\n    this.lastVisibilityChange = Date.now();\n    this.wrapTypes = [\"always\", \"hyphenate\", \"on-space\", \"never\"];\n    this.showTimeout = 0;\n    this._showArrow = true;\n    this.element = createElement(\"div\", DEFAULT_TOOLTIP_CLASS);\n    setAttribute(this.element, \"aria-hidden\", true);\n    this.root = getDocument(\"body\");\n    this.root.appendChild(this.element);\n  }\n  destroy() {\n    this.element.remove();\n  }\n  isVisible() {\n    return !this.element.classList.contains(DEFAULT_TOOLTIP_CLASS + \"-hidden\");\n  }\n  /**\n   * Shows tooltip at the given event's coordinates.\n   * If the `html` parameter is missing, moves the existing tooltip to the new position.\n   */\n  show(canvasRect, meta, content, instantly = false) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { element: element2 } = this;\n    if (content != null) {\n      element2.innerHTML = content.html;\n    } else if (!element2.innerHTML) {\n      this.toggle(false);\n      return;\n    }\n    const positionType = (_b = (_a = meta.position) == null ? void 0 : _a.type) != null ? _b : this.position.type;\n    const xOffset = (_d = (_c = meta.position) == null ? void 0 : _c.xOffset) != null ? _d : 0;\n    const yOffset = (_f = (_e = meta.position) == null ? void 0 : _e.yOffset) != null ? _f : 0;\n    const tooltipBounds = this.getTooltipBounds({ positionType, meta, yOffset, xOffset, canvasRect });\n    const windowBounds = this.getWindowSize();\n    const position = calculatePlacement(\n      element2.clientWidth,\n      element2.clientHeight,\n      canvasRect.width,\n      canvasRect.height,\n      tooltipBounds\n    );\n    position.x += canvasRect.x;\n    position.y += canvasRect.y;\n    const left = clamp(0, position.x, windowBounds.width - element2.clientWidth - 1);\n    const top = clamp(0, position.y, windowBounds.height - element2.clientHeight);\n    const constrained = left !== position.x || top !== position.y;\n    const defaultShowArrow = (positionType === \"node\" || positionType === \"pointer\") && !constrained && !xOffset && !yOffset;\n    const showArrow = (_h = (_g = meta.showArrow) != null ? _g : this.showArrow) != null ? _h : defaultShowArrow;\n    this.updateShowArrow(showArrow);\n    element2.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;\n    this.enableInteraction = (_i = meta.enableInteraction) != null ? _i : false;\n    if (this.delay > 0 && !instantly) {\n      this.toggle(false);\n      this.showTimeout = setTimeout(() => {\n        this.toggle(true);\n      }, this.delay);\n    } else {\n      this.toggle(true);\n    }\n  }\n  getWindowSize() {\n    const { innerWidth, innerHeight } = getWindow();\n    return { width: innerWidth, height: innerHeight };\n  }\n  toggle(visible) {\n    const { classList } = this.element;\n    const toggleClass = (name, include) => classList.toggle(`${DEFAULT_TOOLTIP_CLASS}-${name}`, include);\n    const wasVisible = this.isVisible();\n    let timeSinceLastVisibilityChangeMs = Infinity;\n    if (!visible) {\n      clearTimeout(this.showTimeout);\n    }\n    if (wasVisible !== visible) {\n      const now = Date.now();\n      timeSinceLastVisibilityChangeMs = now - this.lastVisibilityChange;\n      this.lastVisibilityChange = now;\n    }\n    const animatedMoveThresholdMs = 100;\n    const thrashingThresholdMs = 5;\n    const noAnimation = !wasVisible && visible && timeSinceLastVisibilityChangeMs > animatedMoveThresholdMs;\n    if (timeSinceLastVisibilityChangeMs > thrashingThresholdMs) {\n      toggleClass(\"no-animation\", noAnimation);\n    }\n    toggleClass(\"no-interaction\", !this.enableInteraction);\n    toggleClass(\"hidden\", !visible);\n    toggleClass(\"arrow\", this._showArrow);\n    classList.toggle(DEFAULT_TOOLTIP_DARK_CLASS, this.darkTheme);\n    for (const wrapType of this.wrapTypes) {\n      classList.toggle(`${DEFAULT_TOOLTIP_CLASS}-wrap-${wrapType}`, wrapType === this.wrapping);\n    }\n  }\n  pointerLeftOntoTooltip(event) {\n    var _a;\n    if (!this.enableInteraction)\n      return false;\n    const classList = (_a = event.sourceEvent.relatedTarget) == null ? void 0 : _a.classList;\n    const classes = [\"\", \"-title\", \"-content\"];\n    const classListContains = Boolean(classes.filter((c) => classList == null ? void 0 : classList.contains(`${DEFAULT_TOOLTIP_CLASS}${c}`)));\n    return classList !== void 0 && classListContains;\n  }\n  updateShowArrow(show) {\n    this._showArrow = show;\n  }\n  getTooltipBounds({\n    positionType,\n    meta,\n    yOffset,\n    xOffset,\n    canvasRect\n  }) {\n    const { clientWidth: tooltipWidth, clientHeight: tooltipHeight } = this.element;\n    const bounds = { width: tooltipWidth, height: tooltipHeight };\n    switch (positionType) {\n      case \"node\":\n      case \"pointer\": {\n        bounds.top = meta.offsetY + yOffset - tooltipHeight - 8;\n        bounds.left = meta.offsetX + xOffset - tooltipWidth / 2;\n        return bounds;\n      }\n      case \"top\": {\n        bounds.top = yOffset;\n        bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"right\": {\n        bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n        bounds.left = canvasRect.width - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"left\": {\n        bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n      case \"bottom\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"top-left\": {\n        bounds.top = yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n      case \"top-right\": {\n        bounds.top = yOffset;\n        bounds.left = canvasRect.width - tooltipWidth + xOffset;\n        return bounds;\n      }\n      case \"bottom-right\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = canvasRect.width - tooltipWidth + xOffset;\n        return bounds;\n      }\n      case \"bottom-left\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n    }\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], Tooltip.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], Tooltip.prototype, \"showArrow\", 2);\n__decorateClass2([\n  ObserveChanges((target, newValue, oldValue) => {\n    if (newValue) {\n      target.element.classList.add(newValue);\n    }\n    if (oldValue) {\n      target.element.classList.remove(oldValue);\n    }\n  }),\n  Validate(STRING, { optional: true })\n], Tooltip.prototype, \"class\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Tooltip.prototype, \"delay\", 2);\n__decorateClass2([\n  Validate(INTERACTION_RANGE)\n], Tooltip.prototype, \"range\", 2);\n__decorateClass2([\n  Validate(TEXT_WRAP)\n], Tooltip.prototype, \"wrapping\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], Tooltip.prototype, \"position\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], Tooltip.prototype, \"darkTheme\", 2);\nvar Caption = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.id = createId(this);\n    this.node = new Text({ zIndex: 1 }).setProperties({\n      textAlign: \"center\",\n      pointerEvents: 1\n      /* None */\n    });\n    this.enabled = false;\n    this.textAlign = \"center\";\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n    this.truncated = false;\n  }\n  getOrAddRegion(moduleCtx, regionName) {\n    if (regionName === \"root\") {\n      return moduleCtx.regionManager.getRegion(\"root\");\n    } else {\n      return moduleCtx.regionManager.addRegionFromProperties({\n        name: regionName,\n        bboxproviders: [this.node],\n        canInteraction: () => this.enabled && this.node.visible\n      });\n    }\n  }\n  registerInteraction(moduleCtx, regionName) {\n    const region = this.getOrAddRegion(moduleCtx, regionName);\n    const destroyFns = [\n      region.addListener(\"hover\", (event) => this.handleMouseMove(moduleCtx, event)),\n      region.addListener(\"leave\", (event) => this.handleMouseLeave(moduleCtx, event))\n    ];\n    return joinFunctions(...destroyFns);\n  }\n  computeTextWrap(containerWidth, containerHeight) {\n    var _a, _b;\n    const { text, wrapping } = this;\n    const maxWidth = Math.min((_a = this.maxWidth) != null ? _a : Infinity, containerWidth);\n    const maxHeight = (_b = this.maxHeight) != null ? _b : containerHeight;\n    if (!isFinite(maxWidth) && !isFinite(maxHeight)) {\n      this.node.text = text;\n      return;\n    }\n    const { text: wrappedText, truncated } = Text.wrap(text != null ? text : \"\", maxWidth, maxHeight, this, wrapping);\n    this.node.text = wrappedText;\n    this.truncated = truncated;\n  }\n  updateTooltip(moduleCtx, event) {\n    if (event !== void 0 && this.enabled && this.node.visible && this.truncated) {\n      const { offsetX, offsetY } = event;\n      moduleCtx.tooltipManager.updateTooltip(\n        this.id,\n        { offsetX, offsetY, lastPointerEvent: event, showArrow: false },\n        toTooltipHtml({ content: this.text })\n      );\n      return true;\n    }\n    return false;\n  }\n  handleMouseMove(moduleCtx, event) {\n    if (this.updateTooltip(moduleCtx, event)) {\n      event.consume();\n    }\n  }\n  handleMouseLeave(moduleCtx, _event) {\n    moduleCtx.tooltipManager.removeTooltip(this.id);\n  }\n};\nCaption.SMALL_PADDING = 10;\nCaption.LARGE_PADDING = 20;\n__decorateClass2([\n  Validate(BOOLEAN)\n], Caption.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"text\", 2);\n__decorateClass2([\n  Validate(TEXT_ALIGN, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"textAlign\", 2);\n__decorateClass2([\n  Validate(FONT_STYLE, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  Validate(FONT_WEIGHT2, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontSize\", 2);\n__decorateClass2([\n  Validate(STRING),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontFamily\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"node\", \"fill\")\n], Caption.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"spacing\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"lineHeight\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"maxWidth\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"maxHeight\", 2);\n__decorateClass2([\n  Validate(TEXT_WRAP)\n], Caption.prototype, \"wrapping\", 2);\nvar GRID_STYLE_KEYS = [\"stroke\", \"lineDash\"];\nvar GRID_STYLE = ARRAY_OF(\n  (value) => isObject(value) && Object.keys(value).every((key) => GRID_STYLE_KEYS.includes(key)),\n  \"objects with gridline style properties such as 'stroke' or 'lineDash'\"\n);\nvar AxisGridLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.style = [\n      {\n        stroke: void 0,\n        lineDash: []\n      }\n    ];\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], AxisGridLine.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], AxisGridLine.prototype, \"width\", 2);\n__decorateClass2([\n  Validate(GRID_STYLE)\n], AxisGridLine.prototype, \"style\", 2);\nvar AxisLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.autoWrap = false;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.minSpacing = NaN;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.avoidCollisions = true;\n    this.mirrored = false;\n    this.parallel = false;\n  }\n  /**\n   * The side of the axis line to position the labels on.\n   * -1 = left (default)\n   * 1 = right\n   */\n  getSideFlag() {\n    return this.mirrored ? 1 : -1;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], AxisLabel.prototype, \"autoWrap\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisLabel.prototype, \"maxWidth\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisLabel.prototype, \"maxHeight\", 2);\n__decorateClass2([\n  Validate(FONT_STYLE, { optional: true })\n], AxisLabel.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  Validate(FONT_WEIGHT2, { optional: true })\n], AxisLabel.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  Validate(NUMBER.restrict({ min: 1 }))\n], AxisLabel.prototype, \"fontSize\", 2);\n__decorateClass2([\n  Validate(STRING)\n], AxisLabel.prototype, \"fontFamily\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], AxisLabel.prototype, \"padding\", 2);\n__decorateClass2([\n  Validate(NUMBER_OR_NAN),\n  Default(NaN)\n], AxisLabel.prototype, \"minSpacing\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], AxisLabel.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(DEGREE, { optional: true })\n], AxisLabel.prototype, \"rotation\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"avoidCollisions\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"mirrored\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"parallel\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], AxisLabel.prototype, \"formatter\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], AxisLabel.prototype, \"format\", 2);\nvar AxisLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.color = void 0;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], AxisLine.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], AxisLine.prototype, \"width\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], AxisLine.prototype, \"color\", 2);\nvar AxisTitle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n    this.spacing = Caption.SMALL_PADDING;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], AxisTitle.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], AxisTitle.prototype, \"text\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisTitle.prototype, \"spacing\", 2);\n__decorateClass2([\n  Validate(FONT_STYLE, { optional: true })\n], AxisTitle.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  Validate(FONT_WEIGHT2, { optional: true })\n], AxisTitle.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], AxisTitle.prototype, \"fontSize\", 2);\n__decorateClass2([\n  Validate(STRING)\n], AxisTitle.prototype, \"fontFamily\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], AxisTitle.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(TEXT_WRAP)\n], AxisTitle.prototype, \"wrapping\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], AxisTitle.prototype, \"formatter\", 2);\nfunction prepareAxisAnimationContext(axis) {\n  const [requestedRangeMin, requestedRangeMax] = findMinMax(axis.range);\n  const min = Math.floor(requestedRangeMin);\n  const max = Math.ceil(requestedRangeMax);\n  return { min, max, visible: min !== max };\n}\nvar fullCircle = Math.PI * 2;\nvar halfCircle = fullCircle / 2;\nfunction normaliseEndRotation(start, end) {\n  const directDistance = Math.abs(end - start);\n  if (directDistance < halfCircle)\n    return end;\n  if (start > end)\n    return end + fullCircle;\n  return end - fullCircle;\n}\nfunction prepareAxisAnimationFunctions(ctx) {\n  const outOfBounds = (y, range3) => {\n    const [min = ctx.min, max = ctx.max] = findMinMax(range3 != null ? range3 : []);\n    return y < min || y > max;\n  };\n  const tick = {\n    fromFn(node, datum, status) {\n      let y = node.y1 + node.translationY;\n      let opacity = node.opacity;\n      if (status === \"added\" || outOfBounds(node.datum.translationY, node.datum.range)) {\n        y = datum.translationY;\n        opacity = 0;\n      }\n      return { y: 0, translationY: y, opacity, phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status] };\n    },\n    toFn(_node, datum, status) {\n      const y = datum.translationY;\n      let opacity = 1;\n      if (status === \"removed\") {\n        opacity = 0;\n      }\n      return {\n        y: 0,\n        translationY: y,\n        opacity,\n        finish: {\n          // Set explicit y after animation so it's pixel aligned\n          y,\n          translationY: 0\n        }\n      };\n    },\n    intermediateFn(node, _datum, _status) {\n      return { visible: !outOfBounds(node.y) };\n    }\n  };\n  const label = {\n    fromFn(node, newDatum, status) {\n      var _a;\n      const datum = (_a = node.previousDatum) != null ? _a : newDatum;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      let translationY = Math.round(node.translationY);\n      let rotation = datum.rotation;\n      let opacity = node.opacity;\n      if (status === \"removed\" || outOfBounds(datum.y, datum.range)) {\n        rotation = newDatum.rotation;\n      } else if (status === \"added\" || outOfBounds(node.datum.y, node.datum.range)) {\n        translationY = Math.round(datum.translationY);\n        opacity = 0;\n        rotation = newDatum.rotation;\n      }\n      return {\n        x,\n        y,\n        rotationCenterX,\n        translationY,\n        rotation,\n        opacity,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n      };\n    },\n    toFn(node, datum, status) {\n      var _a, _b;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      const translationY = Math.round(datum.translationY);\n      let rotation = 0;\n      let opacity = 1;\n      if (status === \"added\") {\n        opacity = 1;\n        rotation = datum.rotation;\n      } else if (status === \"removed\") {\n        opacity = 0;\n        rotation = datum.rotation;\n      } else {\n        rotation = normaliseEndRotation((_b = (_a = node.previousDatum) == null ? void 0 : _a.rotation) != null ? _b : datum.rotation, datum.rotation);\n      }\n      return { x, y, rotationCenterX, translationY, rotation, opacity, finish: { rotation: datum.rotation } };\n    }\n  };\n  const line = {\n    fromFn(node, datum) {\n      var _a;\n      return __spreadProps(__spreadValues2({}, (_a = node.previousDatum) != null ? _a : datum), {\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      });\n    },\n    toFn(_node, datum) {\n      return __spreadValues2({}, datum);\n    }\n  };\n  const group2 = {\n    fromFn(node, _datum) {\n      const { rotation, translationX, translationY } = node;\n      return {\n        rotation,\n        translationX,\n        translationY,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      };\n    },\n    toFn(_node, datum) {\n      const { rotation, translationX, translationY } = datum;\n      return {\n        rotation,\n        translationX,\n        translationY\n      };\n    }\n  };\n  return { tick, line, label, group: group2 };\n}\nfunction resetAxisGroupFn() {\n  return (_node, datum) => {\n    return {\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX,\n      rotationCenterY: datum.rotationCenterY,\n      translationX: datum.translationX,\n      translationY: datum.translationY\n    };\n  };\n}\nfunction resetAxisSelectionFn(ctx) {\n  const { visible: rangeVisible, min, max } = ctx;\n  return (_node, datum) => {\n    const y = datum.translationY;\n    const visible = rangeVisible && y >= min && y <= max;\n    return {\n      y,\n      translationY: 0,\n      opacity: 1,\n      visible\n    };\n  };\n}\nfunction resetAxisLabelSelectionFn() {\n  return (_node, datum) => {\n    return {\n      x: datum.x,\n      y: datum.y,\n      translationY: datum.translationY,\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX\n    };\n  };\n}\nfunction resetAxisLineSelectionFn() {\n  return (_node, datum) => {\n    return __spreadValues2({}, datum);\n  };\n}\nvar _Axis = class _Axis2 {\n  constructor(moduleCtx, scale2, options) {\n    this.moduleCtx = moduleCtx;\n    this.scale = scale2;\n    this.id = createId(this);\n    this.nice = true;\n    this.reverse = false;\n    this.keys = [];\n    this.dataDomain = { domain: [], clipped: false };\n    this.boundSeries = [];\n    this.includeInvisibleDomains = false;\n    this.interactionEnabled = true;\n    this.axisGroup = new Group({\n      name: `${this.id}-axis`,\n      zIndex: 2\n      /* AXIS_ZINDEX */\n    });\n    this.lineNode = this.axisGroup.appendChild(new Line());\n    this.tickLineGroup = this.axisGroup.appendChild(\n      new Group({\n        name: `${this.id}-Axis-tick-lines`,\n        zIndex: 2\n        /* AXIS_ZINDEX */\n      })\n    );\n    this.tickLabelGroup = this.axisGroup.appendChild(\n      new Group({\n        name: `${this.id}-Axis-tick-labels`,\n        zIndex: 2\n        /* AXIS_ZINDEX */\n      })\n    );\n    this.crossLineGroup = new Group({ name: `${this.id}-CrossLines` });\n    this.gridGroup = new Group({ name: `${this.id}-Axis-grid` });\n    this.gridLineGroup = this.gridGroup.appendChild(\n      new Group({\n        name: `${this.id}-gridLines`,\n        zIndex: 1\n        /* AXIS_GRID_ZINDEX */\n      })\n    );\n    this.tickLineGroupSelection = Selection.select(this.tickLineGroup, Line, false);\n    this.tickLabelGroupSelection = Selection.select(this.tickLabelGroup, Text, false);\n    this.gridLineGroupSelection = Selection.select(this.gridLineGroup, Line, false);\n    this.line = new AxisLine();\n    this.tick = this.createTick();\n    this.gridLine = new AxisGridLine();\n    this.label = this.createLabel();\n    this.defaultTickMinSpacing = _Axis2.defaultTickMinSpacing;\n    this.translation = { x: 0, y: 0 };\n    this.rotation = 0;\n    this.layout = {\n      label: {\n        fractionDigits: 0,\n        padding: this.label.padding,\n        format: this.label.format\n      }\n    };\n    this.destroyFns = [];\n    this.range = [0, 1];\n    this.visibleRange = [0, 1];\n    this.title = new AxisTitle();\n    this._titleCaption = new Caption();\n    this.gridLength = 0;\n    this.fractionDigits = 0;\n    this.gridPadding = 0;\n    this.seriesAreaPadding = 0;\n    this.tickGenerationResult = void 0;\n    this.maxThickness = Infinity;\n    this.moduleMap = new ModuleMap();\n    this.refreshScale();\n    this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx, \"root\"));\n    this._titleCaption.node.rotation = -Math.PI / 2;\n    this.axisGroup.appendChild(this._titleCaption.node);\n    this.destroyFns.push(\n      moduleCtx.regionManager.getRegion(\"series\").addListener(\"hover\", (e) => this.checkAxisHover(e))\n    );\n    this.animationManager = moduleCtx.animationManager;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: () => this.resetSelectionNodes()\n        },\n        reset: \"empty\"\n      },\n      ready: {\n        update: (data) => this.animateReadyUpdate(data),\n        resize: () => this.resetSelectionNodes(),\n        reset: \"empty\"\n      }\n    });\n    this._crossLines = [];\n    this.assignCrossLineArrayConstructor(this._crossLines);\n    let previousSize = void 0;\n    this.destroyFns.push(\n      moduleCtx.layoutService.addListener(\"layout-complete\", (e) => {\n        if (previousSize != null && jsonDiff(e.chart, previousSize) != null) {\n          this.animationState.transition(\"resize\");\n        }\n        previousSize = __spreadValues2({}, e.chart);\n      })\n    );\n    if ((options == null ? void 0 : options.respondsToZoom) !== false) {\n      this.destroyFns.push(\n        moduleCtx.updateService.addListener(\"update-complete\", (e) => {\n          this.minRect = e.minRect;\n        })\n      );\n    }\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  set crossLines(value) {\n    var _a, _b;\n    (_a = this._crossLines) == null ? void 0 : _a.forEach((crossLine) => this.detachCrossLine(crossLine));\n    if (value) {\n      this.assignCrossLineArrayConstructor(value);\n    }\n    this._crossLines = value;\n    (_b = this._crossLines) == null ? void 0 : _b.forEach((crossLine) => {\n      this.attachCrossLine(crossLine);\n      this.initCrossLine(crossLine);\n    });\n  }\n  get crossLines() {\n    return this._crossLines;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    }\n  }\n  attachCrossLine(crossLine) {\n    this.crossLineGroup.appendChild(crossLine.group);\n    this.crossLineGroup.appendChild(crossLine.labelGroup);\n  }\n  detachCrossLine(crossLine) {\n    this.crossLineGroup.removeChild(crossLine.group);\n    this.crossLineGroup.removeChild(crossLine.labelGroup);\n  }\n  destroy() {\n    this.moduleMap.destroy();\n    this.destroyFns.forEach((f) => f());\n  }\n  refreshScale() {\n    var _a;\n    this.range = this.scale.range.slice();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  updateRange() {\n    var _a;\n    const { range: rr, visibleRange: vr, scale: scale2 } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    scale2.range = [start, start + span];\n    (_a = this.crossLines) == null ? void 0 : _a.forEach((crossLine) => {\n      crossLine.clippedRange = [rr[0], rr[1]];\n    });\n  }\n  setCrossLinesVisible(visible) {\n    this.crossLineGroup.visible = visible;\n  }\n  attachAxis(axisNode, gridNode) {\n    gridNode.appendChild(this.gridGroup);\n    axisNode.appendChild(this.axisGroup);\n    axisNode.appendChild(this.crossLineGroup);\n  }\n  detachAxis(axisNode, gridNode) {\n    gridNode.removeChild(this.gridGroup);\n    axisNode.removeChild(this.axisGroup);\n    axisNode.removeChild(this.crossLineGroup);\n  }\n  /**\n   * Checks if a point or an object is in range.\n   * @param x A point (or object's starting point).\n   * @param width Object's width.\n   * @param tolerance Expands the range on both ends by this amount.\n   */\n  inRange(x, width = 0, tolerance = 0) {\n    const [min, max] = findMinMax(this.range);\n    return x + width >= min - tolerance && x <= max + tolerance;\n  }\n  onLabelFormatChange(ticks, _domain, format2) {\n    const { scale: scale2, fractionDigits } = this;\n    const logScale = scale2 instanceof LogScale;\n    const defaultLabelFormatter = !logScale && fractionDigits > 0 ? (x) => typeof x === \"number\" ? x.toFixed(fractionDigits) : String(x) : (x) => String(x);\n    if (format2 && scale2 && scale2.tickFormat) {\n      try {\n        this.labelFormatter = scale2.tickFormat({ ticks, specifier: format2 });\n      } catch (e) {\n        this.labelFormatter = defaultLabelFormatter;\n        Logger.warnOnce(`the axis label format string ${format2} is invalid. No formatting will be applied`);\n      }\n    } else {\n      this.labelFormatter = defaultLabelFormatter;\n    }\n  }\n  setTickInterval(interval) {\n    var _a;\n    this.scale.interval = (_a = this.tick.interval) != null ? _a : interval;\n  }\n  setTickCount(count, minTickCount, maxTickCount) {\n    const { scale: scale2 } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    if (!(count && continuous)) {\n      return;\n    }\n    if (typeof count === \"number\") {\n      scale2.tickCount = count;\n      scale2.minTickCount = minTickCount != null ? minTickCount : 0;\n      scale2.maxTickCount = maxTickCount != null ? maxTickCount : Infinity;\n      return;\n    }\n    if (scale2 instanceof TimeScale) {\n      this.setTickInterval(count);\n    }\n  }\n  onGridLengthChange(value, prevValue) {\n    var _a;\n    if (prevValue && !value || !prevValue && value) {\n      this.onGridVisibilityChange();\n    }\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  onGridVisibilityChange() {\n    this.gridLineGroupSelection.clear();\n  }\n  createLabel() {\n    return new AxisLabel();\n  }\n  checkAxisHover(event) {\n    if (!this.interactionEnabled)\n      return;\n    const bbox = this.computeBBox();\n    const isInAxis = bbox.containsPoint(event.offsetX, event.offsetY);\n    if (!isInAxis)\n      return;\n    this.moduleCtx.chartEventManager.axisHover(this.id, this.direction);\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   */\n  update(_primaryTickCount = 0, animated = true) {\n    if (!this.tickGenerationResult) {\n      return;\n    }\n    const { rotation, parallelFlipRotation, regularFlipRotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    this.updatePosition();\n    const lineData = this.getAxisLineCoordinates();\n    const { tickData, combinedRotation, textBaseline, textAlign, primaryTickCount } = this.tickGenerationResult;\n    const previousTicks = this.tickLabelGroupSelection.nodes().map((node) => node.datum.tickId);\n    this.updateSelections(lineData, tickData.ticks, {\n      combinedRotation,\n      textAlign,\n      textBaseline,\n      range: this.scale.range\n    });\n    if (!animated || this.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    } else {\n      const diff2 = this.calculateUpdateDiff(previousTicks, tickData);\n      this.animationState.transition(\"update\", diff2);\n    }\n    this.updateAxisLine();\n    this.updateLabels();\n    this.updateVisibility();\n    this.updateGridLines(sideFlag);\n    this.updateTickLines();\n    this.updateTitle({ anyTickVisible: tickData.ticks.length > 0 });\n    this.updateCrossLines({ rotation, parallelFlipRotation, regularFlipRotation });\n    this.updateLayoutState();\n    return primaryTickCount;\n  }\n  getAxisLineCoordinates() {\n    const [min, max] = findMinMax(this.range);\n    return { x: 0, y1: min, y2: max };\n  }\n  getTickLineCoordinates(datum) {\n    const sideFlag = this.label.getSideFlag();\n    const x = sideFlag * this.getTickSize();\n    const x1 = Math.min(0, x);\n    const x2 = x1 + Math.abs(x);\n    const y = datum.translationY;\n    return { x1, x2, y };\n  }\n  getTickLabelProps(datum, params) {\n    const { label } = this;\n    const { combinedRotation, textBaseline, textAlign, range: range3 } = params;\n    const text = datum.tickLabel;\n    const sideFlag = label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + label.padding + this.seriesAreaPadding);\n    const visible = text !== \"\" && text != null;\n    return {\n      tickId: datum.tickId,\n      translationY: datum.translationY,\n      fill: label.color,\n      fontFamily: label.fontFamily,\n      fontSize: label.fontSize,\n      fontStyle: label.fontStyle,\n      fontWeight: label.fontWeight,\n      rotation: combinedRotation,\n      rotationCenterX: labelX,\n      text,\n      textAlign,\n      textBaseline,\n      visible,\n      x: labelX,\n      y: 0,\n      range: range3\n    };\n  }\n  getTickSize() {\n    return this.tick.enabled ? this.tick.size : this.createTick().size;\n  }\n  setTitleProps(caption, params) {\n    var _a;\n    const { title } = this;\n    if (!title.enabled) {\n      caption.enabled = false;\n      return;\n    }\n    caption.color = title.color;\n    caption.fontFamily = title.fontFamily;\n    caption.fontSize = title.fontSize;\n    caption.fontStyle = title.fontStyle;\n    caption.fontWeight = title.fontWeight;\n    caption.enabled = title.enabled;\n    caption.wrapping = title.wrapping;\n    if (title.enabled) {\n      const titleNode = caption.node;\n      const padding = ((_a = title.spacing) != null ? _a : 0) + params.spacing;\n      const sideFlag = this.label.getSideFlag();\n      const parallelFlipRotation = normalizeAngle360(this.rotation);\n      const titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n      const rotation = titleRotationFlag * sideFlag * Math.PI / 2;\n      const textBaseline = titleRotationFlag === 1 ? \"bottom\" : \"top\";\n      const { range: range3 } = this;\n      const x = Math.floor(titleRotationFlag * sideFlag * (range3[0] + range3[1]) / 2);\n      const y = sideFlag === -1 ? Math.floor(titleRotationFlag * -padding) : Math.floor(-padding);\n      const { callbackCache } = this.moduleCtx;\n      const { formatter = (p) => p.defaultValue } = title;\n      const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n      titleNode.setProperties({\n        rotation,\n        text,\n        textBaseline,\n        visible: true,\n        x,\n        y\n      });\n    }\n  }\n  calculateLayout(primaryTickCount) {\n    var _b, _c;\n    const { rotation, parallelFlipRotation, regularFlipRotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + this.label.padding + this.seriesAreaPadding);\n    this.updateScale();\n    this.tickGenerationResult = this.generateTicks({\n      primaryTickCount,\n      parallelFlipRotation,\n      regularFlipRotation,\n      labelX,\n      sideFlag\n    });\n    this.updateLayoutState();\n    const _a = this.tickGenerationResult, { tickData, combinedRotation, textBaseline, textAlign } = _a, ticksResult = __objRest(_a, [\"tickData\", \"combinedRotation\", \"textBaseline\", \"textAlign\"]);\n    const boxes = [];\n    const { x, y1, y2 } = this.getAxisLineCoordinates();\n    const lineBox = new BBox(\n      x + Math.min(sideFlag * this.seriesAreaPadding, 0),\n      y1,\n      this.seriesAreaPadding,\n      y2 - y1\n    );\n    boxes.push(lineBox);\n    if (this.tick.enabled) {\n      tickData.ticks.forEach((datum) => {\n        const { x1, x2, y } = this.getTickLineCoordinates(datum);\n        const tickLineBox = new BBox(x1, y, x2 - x1, 0);\n        boxes.push(tickLineBox);\n      });\n    }\n    if (this.label.enabled) {\n      const tempText = new Text();\n      tickData.ticks.forEach((datum) => {\n        const labelProps = this.getTickLabelProps(datum, {\n          combinedRotation,\n          textAlign,\n          textBaseline,\n          range: this.scale.range\n        });\n        if (!labelProps.visible) {\n          return;\n        }\n        tempText.setProperties(__spreadProps(__spreadValues2({}, labelProps), {\n          translationY: Math.round(datum.translationY)\n        }));\n        const box = tempText.computeTransformedBBox();\n        if (box) {\n          boxes.push(box);\n        }\n      });\n    }\n    const getTransformBox = (bbox2) => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    if ((_b = this.title) == null ? void 0 : _b.enabled) {\n      const caption = new Caption();\n      const spacing = BBox.merge(boxes).width;\n      this.setTitleProps(caption, { spacing });\n      const titleNode = caption.node;\n      const titleBox = titleNode.computeTransformedBBox();\n      if (titleBox) {\n        boxes.push(titleBox);\n      }\n    }\n    const bbox = BBox.merge(boxes);\n    const transformedBBox = getTransformBox(bbox);\n    const anySeriesActive = this.isAnySeriesActive();\n    (_c = this.crossLines) == null ? void 0 : _c.forEach((crossLine) => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" : \"y\";\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.calculateLayout(anySeriesActive, this.reverse);\n    });\n    primaryTickCount = ticksResult.primaryTickCount;\n    return { primaryTickCount, bbox: transformedBBox };\n  }\n  updateLayoutState() {\n    this.layout.label = {\n      fractionDigits: this.fractionDigits,\n      padding: this.label.padding,\n      format: this.label.format\n    };\n  }\n  setDomain(domain) {\n    this.dataDomain = this.normaliseDataDomain(domain);\n    if (this.reverse) {\n      this.dataDomain.domain.reverse();\n    }\n    this.scale.domain = this.dataDomain.domain;\n  }\n  updateScale() {\n    this.updateRange();\n    this.calculateDomain();\n    this.setTickInterval(this.tick.interval);\n    const { scale: scale2, nice } = this;\n    if (!ContinuousScale.is(scale2)) {\n      return;\n    }\n    scale2.nice = nice;\n    scale2.update();\n  }\n  calculateRotations() {\n    const rotation = toRadians(this.rotation);\n    const parallelFlipRotation = normalizeAngle360(rotation);\n    const regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n    return { rotation, parallelFlipRotation, regularFlipRotation };\n  }\n  generateTicks({\n    primaryTickCount,\n    parallelFlipRotation,\n    regularFlipRotation,\n    labelX,\n    sideFlag\n  }) {\n    var _a;\n    const {\n      scale: scale2,\n      tick,\n      label: { parallel, rotation, fontFamily, fontSize, fontStyle, fontWeight }\n    } = this;\n    const secondaryAxis = primaryTickCount !== void 0;\n    const { defaultRotation, configuredRotation, parallelFlipFlag, regularFlipFlag } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    const initialRotation = configuredRotation + defaultRotation;\n    const labelMatrix = new Matrix();\n    const { maxTickCount } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n    const textBaseline = getTextBaseline(parallel, configuredRotation, sideFlag, parallelFlipFlag);\n    const textProps = {\n      fontFamily,\n      fontSize,\n      fontStyle,\n      fontWeight,\n      textBaseline,\n      textAlign\n    };\n    let tickData = {\n      rawTicks: [],\n      ticks: [],\n      labelCount: 0\n    };\n    let index = 0;\n    let autoRotation = 0;\n    let labelOverlap = true;\n    let terminate = false;\n    while (labelOverlap && index <= maxIterations) {\n      if (terminate) {\n        break;\n      }\n      autoRotation = 0;\n      textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n      const tickStrategies = this.getTickStrategies({ secondaryAxis, index });\n      for (const strategy of tickStrategies) {\n        ({ tickData, index, autoRotation, terminate } = strategy({\n          index,\n          tickData,\n          textProps,\n          labelOverlap,\n          terminate,\n          primaryTickCount\n        }));\n        const rotated = configuredRotation !== 0 || autoRotation !== 0;\n        const labelRotation = initialRotation + autoRotation;\n        textAlign = getTextAlign(parallel, configuredRotation, autoRotation, sideFlag, regularFlipFlag);\n        labelOverlap = this.label.avoidCollisions ? this.checkLabelOverlap(labelRotation, rotated, labelMatrix, tickData.ticks, labelX, __spreadProps(__spreadValues2({}, textProps), {\n          textAlign\n        })) : false;\n      }\n    }\n    const combinedRotation = defaultRotation + configuredRotation + autoRotation;\n    if (!secondaryAxis && tickData.rawTicks.length > 0) {\n      primaryTickCount = tickData.rawTicks.length;\n    }\n    return { tickData, primaryTickCount, combinedRotation, textBaseline, textAlign };\n  }\n  getTickStrategies({\n    index: iteration,\n    secondaryAxis\n  }) {\n    const { scale: scale2, label, tick } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const avoidLabelCollisions = label.enabled && label.avoidCollisions;\n    const filterTicks = !continuous && iteration !== 0 && avoidLabelCollisions;\n    const autoRotate = label.autoRotate === true && label.rotation === void 0;\n    const strategies = [];\n    let tickGenerationType;\n    if (this.tick.values) {\n      tickGenerationType = 3;\n    } else if (secondaryAxis) {\n      tickGenerationType = 1;\n    } else if (filterTicks) {\n      tickGenerationType = 2;\n    } else {\n      tickGenerationType = 0;\n    }\n    const tickGenerationStrategy = ({ index, tickData, primaryTickCount, terminate }) => this.createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount);\n    strategies.push(tickGenerationStrategy);\n    if (!continuous && !isNaN(tick.minSpacing)) {\n      const tickFilterStrategy = ({ index, tickData, primaryTickCount, terminate }) => this.createTickData(2, index, tickData, terminate, primaryTickCount);\n      strategies.push(tickFilterStrategy);\n    }\n    if (!avoidLabelCollisions) {\n      return strategies;\n    }\n    if (label.autoWrap) {\n      const autoWrapStrategy = ({ index, tickData, textProps }) => this.wrapLabels(tickData, index, textProps);\n      strategies.push(autoWrapStrategy);\n    } else if (autoRotate) {\n      const autoRotateStrategy = ({ index, tickData, labelOverlap, terminate }) => ({\n        index,\n        tickData,\n        autoRotation: this.getAutoRotation(labelOverlap),\n        terminate\n      });\n      strategies.push(autoRotateStrategy);\n    }\n    return strategies;\n  }\n  createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount) {\n    var _a;\n    const { scale: scale2, tick } = this;\n    const { maxTickCount, minTickCount, defaultTickCount } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n    const regenerateTicks = tick.interval === void 0 && tick.values === void 0 && tickCount > minTickCount && (continuous || tickGenerationType === 2);\n    let unchanged = true;\n    while (unchanged && index <= maxIterations) {\n      const prevTicks = tickData.rawTicks;\n      tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n      const { rawTicks, ticks, labelCount } = this.getTicks({\n        tickGenerationType,\n        previousTicks: prevTicks,\n        tickCount,\n        minTickCount,\n        maxTickCount,\n        primaryTickCount\n      });\n      tickData.rawTicks = rawTicks;\n      tickData.ticks = ticks;\n      tickData.labelCount = labelCount;\n      unchanged = regenerateTicks ? areArrayNumbersEqual(rawTicks, prevTicks) : false;\n      index++;\n    }\n    const shouldTerminate = tick.interval !== void 0 || tick.values !== void 0;\n    terminate || (terminate = shouldTerminate);\n    return { tickData, index, autoRotation: 0, terminate };\n  }\n  checkLabelOverlap(rotation, rotated, labelMatrix, tickData, labelX, textProps) {\n    Matrix.updateTransformMatrix(labelMatrix, 1, 1, rotation, 0, 0);\n    const labelData = this.createLabelData(tickData, labelX, textProps, labelMatrix);\n    const labelSpacing = getLabelSpacing(this.label.minSpacing, rotated);\n    return axisLabelsOverlap(labelData, labelSpacing);\n  }\n  createLabelData(tickData, labelX, textProps, labelMatrix) {\n    const labelData = [];\n    const measurer = new TextMeasurer(textProps);\n    for (const { tickLabel, translationY } of tickData) {\n      if (tickLabel === \"\" || tickLabel == null)\n        continue;\n      const { width, height } = measurer.size(tickLabel);\n      const bbox = new BBox(labelX, translationY, width, height);\n      const labelDatum = calculateLabelBBox(tickLabel, bbox, labelX, translationY, labelMatrix);\n      labelData.push(labelDatum);\n    }\n    return labelData;\n  }\n  getAutoRotation(labelOverlap) {\n    var _a;\n    return labelOverlap ? normalizeAngle360(toRadians((_a = this.label.autoRotateAngle) != null ? _a : 0)) : 0;\n  }\n  getTicks({\n    tickGenerationType,\n    previousTicks,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    primaryTickCount\n  }) {\n    var _a;\n    const { range: range3, scale: scale2, visibleRange } = this;\n    let rawTicks;\n    switch (tickGenerationType) {\n      case 3:\n        if (ContinuousScale.is(scale2)) {\n          const [d0, d1] = findMinMax(scale2.getDomain().map(Number));\n          rawTicks = this.tick.values.filter((value) => value >= d0 && value <= d1).sort((a, b) => a - b);\n        } else {\n          rawTicks = this.tick.values;\n        }\n        break;\n      case 1:\n        if (ContinuousScale.is(scale2)) {\n          rawTicks = this.updateSecondaryAxisTicks(primaryTickCount);\n        } else {\n          rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        }\n        break;\n      case 2:\n        rawTicks = this.filterTicks(previousTicks, tickCount);\n        break;\n      default:\n        rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        break;\n    }\n    this.fractionDigits = rawTicks.fractionDigits >= 0 ? rawTicks.fractionDigits : 0;\n    const halfBandwidth = ((_a = scale2.bandwidth) != null ? _a : 0) / 2;\n    const ticks = [];\n    let labelCount = 0;\n    const tickIdCounts = /* @__PURE__ */ new Map();\n    const start = Math.max(0, Math.floor(visibleRange[0] * rawTicks.length));\n    const end = Math.min(rawTicks.length, Math.ceil(visibleRange[1] * rawTicks.length));\n    const filteredTicks = rawTicks.slice(start, end);\n    this.onLabelFormatChange(filteredTicks, rawTicks, this.label.format);\n    for (let i = 0; i < filteredTicks.length; i++) {\n      const tick = filteredTicks[i];\n      const translationY = scale2.convert(tick) + halfBandwidth;\n      if (range3.length > 0 && !this.inRange(translationY, 0, 1e-3))\n        continue;\n      const tickLabel = this.formatTick(tick, start + i);\n      let tickId = tickLabel;\n      if (tickIdCounts.has(tickId)) {\n        const count = tickIdCounts.get(tickId);\n        tickIdCounts.set(tickId, count + 1);\n        tickId = `${tickId}_${count}`;\n      } else {\n        tickIdCounts.set(tickId, 1);\n      }\n      ticks.push({ tick, tickId, tickLabel, translationY: Math.floor(translationY) });\n      if (tickLabel === \"\" || tickLabel == null) {\n        continue;\n      }\n      labelCount++;\n    }\n    return { rawTicks, ticks, labelCount };\n  }\n  filterTicks(ticks, tickCount) {\n    var _a;\n    const tickSpacing = !isNaN(this.tick.minSpacing) || !isNaN((_a = this.tick.maxSpacing) != null ? _a : NaN);\n    const keepEvery = tickSpacing ? Math.ceil(ticks.length / tickCount) : 2;\n    return ticks.filter((_, i) => i % keepEvery === 0);\n  }\n  createTicks(tickCount, minTickCount, maxTickCount) {\n    var _a, _b, _c;\n    this.setTickCount(tickCount, minTickCount, maxTickCount);\n    return (_c = (_b = (_a = this.scale).ticks) == null ? void 0 : _b.call(_a)) != null ? _c : [];\n  }\n  estimateTickCount({ minSpacing, maxSpacing }) {\n    const {\n      minRect,\n      label: { avoidCollisions }\n    } = this;\n    if (!avoidCollisions) {\n      return {\n        minTickCount: ContinuousScale.defaultMaxTickCount,\n        maxTickCount: ContinuousScale.defaultMaxTickCount,\n        defaultTickCount: ContinuousScale.defaultMaxTickCount\n      };\n    }\n    const rangeWithBleed = this.calculateRangeWithBleed();\n    const defaultMinSpacing = Math.max(\n      this.defaultTickMinSpacing,\n      rangeWithBleed / ContinuousScale.defaultMaxTickCount\n    );\n    let clampMaxTickCount = !isNaN(maxSpacing);\n    if (isNaN(minSpacing)) {\n      minSpacing = defaultMinSpacing;\n    }\n    if (isNaN(maxSpacing)) {\n      maxSpacing = rangeWithBleed;\n    }\n    if (minSpacing > maxSpacing) {\n      if (minSpacing === defaultMinSpacing) {\n        minSpacing = maxSpacing;\n      } else {\n        maxSpacing = minSpacing;\n      }\n    }\n    let minRectDistance = 1;\n    if (minRect) {\n      minRectDistance = this.direction === \"x\" ? minRect.width : minRect.height;\n    }\n    clampMaxTickCount && (clampMaxTickCount = minRectDistance < defaultMinSpacing);\n    const maxTickCount = clamp(\n      1,\n      Math.floor(rangeWithBleed / minSpacing),\n      clampMaxTickCount ? Math.min(Math.floor(rangeWithBleed / minRectDistance), 100) : 100\n    );\n    const minTickCount = Math.min(maxTickCount, Math.ceil(rangeWithBleed / maxSpacing));\n    const defaultTickCount = clamp(minTickCount, ContinuousScale.defaultTickCount, maxTickCount);\n    return { minTickCount, maxTickCount, defaultTickCount };\n  }\n  updateVisibility() {\n    if (this.moduleCtx.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    }\n    this.tickLineGroup.visible = this.tick.enabled;\n    this.gridLineGroup.visible = this.gridLine.enabled;\n    this.tickLabelGroup.visible = this.label.enabled;\n  }\n  updateCrossLines({\n    rotation,\n    parallelFlipRotation,\n    regularFlipRotation\n  }) {\n    var _a;\n    const sideFlag = this.label.getSideFlag();\n    const anySeriesActive = this.isAnySeriesActive();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach((crossLine) => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" : \"y\";\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.update(anySeriesActive);\n    });\n  }\n  updateTickLines() {\n    const { tick, label } = this;\n    const sideFlag = label.getSideFlag();\n    this.tickLineGroupSelection.each((line) => {\n      line.strokeWidth = tick.width;\n      line.stroke = tick.color;\n      line.x1 = sideFlag * this.getTickSize();\n      line.x2 = 0;\n    });\n  }\n  calculateAvailableRange() {\n    return findRangeExtent(this.range);\n  }\n  /**\n   * Calculates the available range with an additional \"bleed\" beyond the canvas that encompasses the full axis when\n   * the visible range is only a portion of the axis.\n   */\n  calculateRangeWithBleed() {\n    const visibleScale = 1 / findRangeExtent(this.visibleRange);\n    return round(this.calculateAvailableRange() * visibleScale, 2);\n  }\n  calculateDomain() {\n    const visibleSeries = this.boundSeries.filter((s) => this.includeInvisibleDomains || s.isEnabled());\n    const domains = visibleSeries.flatMap((series) => series.getDomain(this.direction));\n    this.setDomain(domains);\n  }\n  getAxisTransform() {\n    return {\n      rotation: toRadians(this.rotation),\n      rotationCenterX: 0,\n      rotationCenterY: 0,\n      translationX: Math.floor(this.translation.x),\n      translationY: Math.floor(this.translation.y)\n    };\n  }\n  updatePosition() {\n    const { crossLineGroup, axisGroup, gridGroup, translation, gridLineGroupSelection, gridPadding, gridLength } = this;\n    const { rotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const translationX = Math.floor(translation.x);\n    const translationY = Math.floor(translation.y);\n    crossLineGroup.setProperties({ rotation, translationX, translationY });\n    gridGroup.setProperties({ rotation, translationX, translationY });\n    axisGroup.datum = this.getAxisTransform();\n    gridLineGroupSelection.each((line) => {\n      line.x1 = gridPadding;\n      line.x2 = -sideFlag * gridLength + gridPadding;\n    });\n  }\n  updateSecondaryAxisTicks(_primaryTickCount) {\n    throw new Error(\"AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.\");\n  }\n  updateSelections(lineData, data, params) {\n    this.lineNode.datum = lineData;\n    this.gridLineGroupSelection.update(\n      this.gridLength ? data : [],\n      (group2) => group2.append(new Line()),\n      (datum) => datum.tickId\n    );\n    this.tickLineGroupSelection.update(\n      data,\n      (group2) => group2.appendChild(new Line()),\n      (datum) => datum.tickId\n    );\n    this.tickLabelGroupSelection.update(\n      data.map((d) => this.getTickLabelProps(d, params)),\n      (group2) => group2.appendChild(new Text()),\n      (datum) => datum.tickId\n    );\n  }\n  updateAxisLine() {\n    const { line } = this;\n    const strokeWidth = line.enabled ? line.width : 0;\n    this.lineNode.setProperties({\n      stroke: line.color,\n      strokeWidth\n    });\n  }\n  updateGridLines(sideFlag) {\n    const {\n      gridLine: { style, width },\n      gridPadding,\n      gridLength\n    } = this;\n    if (gridLength === 0 || style.length === 0) {\n      return;\n    }\n    this.gridLineGroupSelection.each((line, _, index) => {\n      const { stroke, lineDash } = style[index % style.length];\n      line.setProperties({\n        x1: gridPadding,\n        x2: -sideFlag * gridLength + gridPadding,\n        fill: void 0,\n        stroke,\n        strokeWidth: width,\n        lineDash\n      });\n    });\n  }\n  updateLabels() {\n    const { label } = this;\n    if (!label.enabled) {\n      return;\n    }\n    this.tickLabelGroupSelection.each((node, datum) => {\n      node.setProperties(datum, [\n        \"fill\",\n        \"fontFamily\",\n        \"fontSize\",\n        \"fontStyle\",\n        \"fontWeight\",\n        \"text\",\n        \"textAlign\",\n        \"textBaseline\"\n      ]);\n    });\n  }\n  wrapLabels(tickData, index, labelProps) {\n    const { parallel, maxWidth, maxHeight } = this.label;\n    let defaultMaxWidth = this.maxThickness;\n    let defaultMaxHeight = Math.round(this.calculateAvailableRange() / tickData.labelCount);\n    if (parallel) {\n      [defaultMaxWidth, defaultMaxHeight] = [defaultMaxHeight, defaultMaxWidth];\n    }\n    tickData.ticks.forEach((tickDatum) => {\n      const { text } = Text.wrap(\n        tickDatum.tickLabel,\n        maxWidth != null ? maxWidth : defaultMaxWidth,\n        maxHeight != null ? maxHeight : defaultMaxHeight,\n        labelProps,\n        \"hyphenate\"\n      );\n      tickDatum.tickLabel = text;\n    });\n    return { tickData, index, autoRotation: 0, terminate: true };\n  }\n  updateTitle(params) {\n    const { rotation, title, _titleCaption, lineNode, tickLineGroup, tickLabelGroup } = this;\n    if (!title) {\n      _titleCaption.enabled = false;\n      return;\n    }\n    let spacing = 0;\n    if (title.enabled && params.anyTickVisible) {\n      const tickBBox = Group.computeBBox([tickLineGroup, tickLabelGroup, lineNode]);\n      const tickWidth = rotation === 0 ? tickBBox.width : tickBBox.height;\n      spacing += tickWidth + (this.tickLabelGroup.visible ? 0 : this.seriesAreaPadding);\n    }\n    this.setTitleProps(_titleCaption, { spacing });\n  }\n  // For formatting (nice rounded) tick values.\n  formatTick(datum, index) {\n    return this.datumFormatter(index)(datum);\n  }\n  // For formatting arbitrary values between the ticks.\n  formatDatum(datum) {\n    return String(datum);\n  }\n  datumFormatter(index = 0) {\n    const {\n      label,\n      labelFormatter,\n      fractionDigits,\n      moduleCtx: { callbackCache }\n    } = this;\n    if (label.formatter) {\n      return (datum) => {\n        var _a;\n        return (_a = callbackCache.call(label.formatter, {\n          value: fractionDigits > 0 ? datum : String(datum),\n          index,\n          fractionDigits,\n          formatter: labelFormatter\n        })) != null ? _a : datum;\n      };\n    } else if (labelFormatter) {\n      return (datum) => {\n        var _a;\n        return (_a = callbackCache.call(labelFormatter, datum)) != null ? _a : String(datum);\n      };\n    }\n    return (datum) => String(datum);\n  }\n  computeBBox() {\n    return this.axisGroup.computeBBox();\n  }\n  initCrossLine(crossLine) {\n    crossLine.scale = this.scale;\n    crossLine.gridLength = this.gridLength;\n  }\n  isAnySeriesActive() {\n    return this.boundSeries.some((s) => this.includeInvisibleDomains || s.isEnabled());\n  }\n  clipTickLines(x, y, width, height) {\n    this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  clipGrid(x, y, width, height) {\n    this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  calculatePadding(min, max) {\n    const padding = Math.abs(this.reverse ? max : min) * 0.01;\n    return [padding, padding];\n  }\n  getTitleFormatterParams() {\n    var _a;\n    const boundSeries = this.boundSeries.reduce((acc, next) => {\n      const keys = next.getKeys(this.direction);\n      const names = next.getNames(this.direction);\n      for (let idx = 0; idx < keys.length; idx++) {\n        acc.push({ key: keys[idx], name: names[idx] });\n      }\n      return acc;\n    }, []);\n    return {\n      direction: this.direction,\n      boundSeries,\n      defaultValue: (_a = this.title) == null ? void 0 : _a.text\n    };\n  }\n  normaliseDataDomain(d) {\n    return { domain: [...d], clipped: false };\n  }\n  getLayoutState() {\n    return __spreadValues2({\n      rect: this.computeBBox(),\n      gridPadding: this.gridPadding,\n      seriesAreaPadding: this.seriesAreaPadding,\n      tickSize: this.getTickSize(),\n      direction: this.direction,\n      domain: this.dataDomain.domain,\n      scale: this.scale\n    }, this.layout);\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    var _a;\n    (_a = this.axisContext) != null ? _a : this.axisContext = this.createAxisContext();\n    return __spreadProps(__spreadValues2({}, this.moduleCtx), { parent: this.axisContext });\n  }\n  createAxisContext() {\n    return {\n      axisId: this.id,\n      direction: this.direction,\n      continuous: ContinuousScale.is(this.scale),\n      keys: () => this.boundSeries.flatMap((s) => s.getKeys(this.direction)),\n      seriesKeyProperties: () => this.boundSeries.reduce((keys, series) => {\n        const seriesKeys = series.getKeyProperties(this.direction);\n        seriesKeys.forEach((key) => {\n          if (keys.indexOf(key) < 0) {\n            keys.push(key);\n          }\n        });\n        return keys;\n      }, []),\n      scaleValueFormatter: (specifier) => {\n        var _a, _b;\n        return specifier ? (_b = (_a = this.scale).tickFormat) == null ? void 0 : _b.call(_a, { specifier }) : this.formatDatum;\n      },\n      scaleBandwidth: () => {\n        var _a;\n        return (_a = this.scale.bandwidth) != null ? _a : 0;\n      },\n      scaleConvert: (val) => this.scale.convert(val),\n      scaleInvert: (val) => {\n        var _a, _b;\n        return (_b = (_a = this.scale).invert) == null ? void 0 : _b.call(_a, val);\n      }\n    };\n  }\n  animateReadyUpdate(diff2) {\n    const { animationManager } = this.moduleCtx;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    const fns = prepareAxisAnimationFunctions(selectionCtx);\n    fromToMotion(this.id, \"axis-group\", animationManager, [this.axisGroup], fns.group);\n    fromToMotion(this.id, \"line\", animationManager, [this.lineNode], fns.line);\n    fromToMotion(\n      this.id,\n      \"line-paths\",\n      animationManager,\n      [this.gridLineGroupSelection, this.tickLineGroupSelection],\n      fns.tick,\n      (_, d) => d.tickId,\n      diff2\n    );\n    fromToMotion(\n      this.id,\n      \"tick-labels\",\n      animationManager,\n      [this.tickLabelGroupSelection],\n      fns.label,\n      (_, d) => d.tickId,\n      diff2\n    );\n  }\n  resetSelectionNodes() {\n    const { gridLineGroupSelection, tickLineGroupSelection, tickLabelGroupSelection, lineNode } = this;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    resetMotion([this.axisGroup], resetAxisGroupFn());\n    resetMotion([gridLineGroupSelection, tickLineGroupSelection], resetAxisSelectionFn(selectionCtx));\n    resetMotion([tickLabelGroupSelection], resetAxisLabelSelectionFn());\n    resetMotion([lineNode], resetAxisLineSelectionFn());\n  }\n  calculateUpdateDiff(previous, tickData) {\n    const added = /* @__PURE__ */ new Set();\n    const removed = /* @__PURE__ */ new Set();\n    const tickMap = {};\n    const tickCount = Math.max(previous.length, tickData.ticks.length);\n    for (let i = 0; i < tickCount; i++) {\n      const tickDatum = tickData.ticks[i];\n      const prev = previous[i];\n      const tick = tickDatum == null ? void 0 : tickDatum.tickId;\n      tickMap[tick != null ? tick : prev] = tickDatum;\n      if (prev === tick) {\n        continue;\n      }\n      if (removed.has(tick)) {\n        removed.delete(tick);\n      } else if (tick) {\n        added.add(tick);\n      }\n      if (added.has(prev)) {\n        added.delete(prev);\n      } else if (prev) {\n        removed.add(prev);\n      }\n    }\n    return { changed: added.size > 0 || removed.size > 0, added, removed };\n  }\n  isReversed() {\n    return this.reverse;\n  }\n};\n_Axis.defaultTickMinSpacing = 50;\n__decorateClass2([\n  Validate(BOOLEAN)\n], _Axis.prototype, \"nice\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], _Axis.prototype, \"reverse\", 2);\n__decorateClass2([\n  Validate(STRING_ARRAY)\n], _Axis.prototype, \"keys\", 2);\n__decorateClass2([\n  Validate(OBJECT, { optional: true })\n], _Axis.prototype, \"title\", 2);\n__decorateClass2([\n  ObserveChanges((target, value, oldValue) => target.onGridLengthChange(value, oldValue))\n], _Axis.prototype, \"gridLength\", 2);\nvar Axis = _Axis;\nvar CartesianAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.autoRotateAngle = 335;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], CartesianAxisLabel.prototype, \"autoRotate\", 2);\n__decorateClass2([\n  Validate(DEGREE)\n], CartesianAxisLabel.prototype, \"autoRotateAngle\", 2);\nvar _CartesianAxis = class _CartesianAxis2 extends Axis {\n  constructor() {\n    super(...arguments);\n    this.thickness = 0;\n    this.position = \"left\";\n  }\n  static is(value) {\n    return value instanceof _CartesianAxis2;\n  }\n  get direction() {\n    return [\"top\", \"bottom\"].includes(this.position) ? \"x\" : \"y\";\n  }\n  updateDirection() {\n    switch (this.position) {\n      case \"top\":\n        this.rotation = -90;\n        this.label.mirrored = true;\n        this.label.parallel = true;\n        break;\n      case \"right\":\n        this.rotation = 0;\n        this.label.mirrored = true;\n        this.label.parallel = false;\n        break;\n      case \"bottom\":\n        this.rotation = -90;\n        this.label.mirrored = false;\n        this.label.parallel = true;\n        break;\n      case \"left\":\n        this.rotation = 0;\n        this.label.mirrored = false;\n        this.label.parallel = false;\n        break;\n    }\n    if (this.axisContext) {\n      this.axisContext.position = this.position;\n      this.axisContext.direction = this.direction;\n    }\n  }\n  update(primaryTickCount, animated) {\n    this.updateDirection();\n    return super.update(primaryTickCount, animated);\n  }\n  calculateLayout(primaryTickCount) {\n    this.updateDirection();\n    return super.calculateLayout(primaryTickCount);\n  }\n  createAxisContext() {\n    return __spreadProps(__spreadValues2({}, super.createAxisContext()), {\n      position: this.position\n    });\n  }\n  assignCrossLineArrayConstructor(crossLines) {\n    assignJsonApplyConstructedArray(crossLines, CartesianCrossLine);\n  }\n  createLabel() {\n    return new CartesianAxisLabel();\n  }\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], _CartesianAxis.prototype, \"thickness\", 2);\n__decorateClass2([\n  Validate(POSITION2)\n], _CartesianAxis.prototype, \"position\", 2);\nvar CartesianAxis = _CartesianAxis;\nvar CategoryAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n  }\n};\n__decorateClass2([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], CategoryAxisTick.prototype, \"minSpacing\", 2);\nvar CategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx, scale2 = new BandScale()) {\n    super(moduleCtx, scale2);\n    this._paddingOverrideEnabled = false;\n    this.groupPaddingInner = 0.1;\n    this.includeInvisibleDomains = true;\n  }\n  set paddingInner(value) {\n    this._paddingOverrideEnabled = true;\n    this.scale.paddingInner = value;\n  }\n  get paddingInner() {\n    this._paddingOverrideEnabled = true;\n    return this.scale.paddingInner;\n  }\n  set paddingOuter(value) {\n    this.scale.paddingOuter = value;\n  }\n  get paddingOuter() {\n    return this.scale.paddingOuter;\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  normaliseDataDomain(d) {\n    const domain = [];\n    const uniqueValues = /* @__PURE__ */ new Set();\n    for (const v of d) {\n      const key = v instanceof Date ? v.getTime() : v;\n      if (!uniqueValues.has(key)) {\n        uniqueValues.add(key);\n        domain.push(v);\n      }\n    }\n    return { domain, clipped: false };\n  }\n  calculateDomain() {\n    if (!this._paddingOverrideEnabled) {\n      const paddings = this.boundSeries.map((s) => {\n        var _a;\n        return (_a = s.getBandScalePadding) == null ? void 0 : _a.call(s);\n      }).filter((p) => p != null);\n      if (paddings.length > 0) {\n        this.scale.paddingInner = Math.min(...paddings.map((p) => p.inner));\n        this.scale.paddingOuter = Math.max(...paddings.map((p) => p.outer));\n      }\n    }\n    return super.calculateDomain();\n  }\n};\nCategoryAxis.className = \"CategoryAxis\";\nCategoryAxis.type = \"category\";\n__decorateClass2([\n  Validate(RATIO)\n], CategoryAxis.prototype, \"groupPaddingInner\", 2);\nvar TreeNode = class {\n  // current number in sibling group (index)\n  constructor(label = \"\", parent, number = 0) {\n    this.x = 0;\n    this.y = 0;\n    this.subtreeLeft = NaN;\n    this.subtreeRight = NaN;\n    this.screenX = 0;\n    this.screenY = 0;\n    this.children = [];\n    this.leafCount = 0;\n    this.prelim = 0;\n    this.mod = 0;\n    this.ancestor = this;\n    this.change = 0;\n    this.shift = 0;\n    this.label = label;\n    this.parent = parent;\n    this.depth = parent ? parent.depth + 1 : 0;\n    this.number = number;\n  }\n  getLeftSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : void 0;\n  }\n  getLeftmostSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[0] : void 0;\n  }\n  // traverse the left contour of a subtree, return the successor of v on this contour\n  nextLeft() {\n    return this.children ? this.children[0] : this.thread;\n  }\n  // traverse the right contour of a subtree, return the successor of v on this contour\n  nextRight() {\n    return this.children ? this.children[this.children.length - 1] : this.thread;\n  }\n  getSiblings() {\n    return this.parent ? this.parent.children.filter((_, i) => i !== this.number) : [];\n  }\n};\nfunction ticksToTree(ticks, pad2 = true) {\n  const root = new TreeNode();\n  let depth = 0;\n  if (pad2) {\n    ticks.forEach((tick) => depth = Math.max(depth, tick.labels.length));\n  }\n  ticks.forEach((tick) => {\n    if (pad2) {\n      while (tick.labels.length < depth) {\n        tick.labels.unshift(\"\");\n      }\n    }\n    insertTick(root, tick);\n  });\n  return root;\n}\nfunction insertTick(root, tick) {\n  const pathParts = tick.labels.slice().reverse();\n  const lastPartIndex = pathParts.length - 1;\n  pathParts.forEach((pathPart, partIndex) => {\n    const children = root.children;\n    const existingNode = children.find((child) => child.label === pathPart);\n    const isNotLeaf = partIndex !== lastPartIndex;\n    if (existingNode && isNotLeaf) {\n      root = existingNode;\n    } else {\n      const node = new TreeNode(pathPart, root);\n      node.number = children.length;\n      children.push(node);\n      if (isNotLeaf) {\n        root = node;\n      }\n    }\n  });\n}\nfunction moveSubtree(wm, wp, shift) {\n  const subtrees = wp.number - wm.number;\n  const ratio = shift / subtrees;\n  wp.change -= ratio;\n  wp.shift += shift;\n  wm.change += ratio;\n  wp.prelim += shift;\n  wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n  return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\nfunction executeShifts(v) {\n  const children = v.children;\n  if (children) {\n    let shift = 0;\n    let change = 0;\n    for (let i = children.length - 1; i >= 0; i--) {\n      const w = children[i];\n      w.prelim += shift;\n      w.mod += shift;\n      change += w.change;\n      shift += w.shift + change;\n    }\n  }\n}\nfunction apportion(v, defaultAncestor, distance2) {\n  const w = v.getLeftSibling();\n  if (w) {\n    let vop = v;\n    let vip = v;\n    let vim = w;\n    let vom = vip.getLeftmostSibling();\n    let sip = vip.mod;\n    let sop = vop.mod;\n    let sim = vim.mod;\n    let som = vom.mod;\n    while (vim.nextRight() && vip.nextLeft()) {\n      vim = vim.nextRight();\n      vip = vip.nextLeft();\n      vom = vom.nextLeft();\n      vop = vop.nextRight();\n      vop.ancestor = v;\n      const shift = vim.prelim + sim - (vip.prelim + sip) + distance2;\n      if (shift > 0) {\n        moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n        sip += shift;\n        sop += shift;\n      }\n      sim += vim.mod;\n      sip += vip.mod;\n      som += vom.mod;\n      sop += vop.mod;\n    }\n    if (vim.nextRight() && !vop.nextRight()) {\n      vop.thread = vim.nextRight();\n      vop.mod += sim - sop;\n    } else {\n      if (vip.nextLeft() && !vom.nextLeft()) {\n        vom.thread = vip.nextLeft();\n        vom.mod += sip - som;\n      }\n      defaultAncestor = v;\n    }\n  }\n  return defaultAncestor;\n}\nfunction firstWalk(node, distance2) {\n  const children = node.children;\n  if (children.length) {\n    let defaultAncestor = children[0];\n    children.forEach((child) => {\n      firstWalk(child, distance2);\n      defaultAncestor = apportion(child, defaultAncestor, distance2);\n    });\n    executeShifts(node);\n    const midpoint = (children[0].prelim + children.at(-1).prelim) / 2;\n    const leftSibling = node.getLeftSibling();\n    if (leftSibling) {\n      node.prelim = leftSibling.prelim + distance2;\n      node.mod = node.prelim - midpoint;\n    } else {\n      node.prelim = midpoint;\n    }\n  } else {\n    const leftSibling = node.getLeftSibling();\n    node.prelim = leftSibling ? leftSibling.prelim + distance2 : 0;\n  }\n}\nvar Dimensions = class {\n  constructor() {\n    this.top = Infinity;\n    this.right = -Infinity;\n    this.bottom = -Infinity;\n    this.left = Infinity;\n  }\n  update(node, xy) {\n    const { x, y } = xy(node);\n    if (x > this.right) {\n      this.right = x;\n    }\n    if (x < this.left) {\n      this.left = x;\n    }\n    if (y > this.bottom) {\n      this.bottom = y;\n    }\n    if (y < this.top) {\n      this.top = y;\n    }\n  }\n};\nfunction secondWalk(v, m, layout) {\n  v.x = v.prelim + m;\n  v.y = v.depth;\n  layout.update(v);\n  v.children.forEach((w) => secondWalk(w, m + v.mod, layout));\n}\nfunction thirdWalk(v) {\n  const children = v.children;\n  let leafCount = 0;\n  children.forEach((w) => {\n    thirdWalk(w);\n    if (w.children.length) {\n      leafCount += w.leafCount;\n    } else {\n      leafCount++;\n    }\n  });\n  v.leafCount = leafCount;\n  if (children.length) {\n    v.subtreeLeft = children[0].subtreeLeft;\n    v.subtreeRight = children[v.children.length - 1].subtreeRight;\n    v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n  } else {\n    v.subtreeLeft = v.x;\n    v.subtreeRight = v.x;\n  }\n}\nfunction treeLayout(root) {\n  const layout = new TreeLayout();\n  firstWalk(root, 1);\n  secondWalk(root, -root.prelim, layout);\n  thirdWalk(root);\n  return layout;\n}\nvar TreeLayout = class {\n  constructor() {\n    this.dimensions = new Dimensions();\n    this.leafCount = 0;\n    this.nodes = [];\n    this.leafNodes = [];\n    this.nonLeafNodes = [];\n    this.depth = 0;\n  }\n  update(node) {\n    this.dimensions.update(node, (n) => ({ x: n.x, y: n.y }));\n    if (node.children.length) {\n      this.nonLeafNodes.push(node);\n    } else {\n      this.leafCount++;\n      this.leafNodes.push(node);\n    }\n    if (node.depth > this.depth) {\n      this.depth = node.depth;\n    }\n    this.nodes.push(node);\n  }\n  resize(width, height, shiftX = 0, shiftY = 0, flipX = false) {\n    const xSteps = this.leafCount - 1;\n    const ySteps = this.depth;\n    const dimensions = this.dimensions;\n    let scalingX = 1;\n    let scalingY = 1;\n    if (width > 0 && xSteps) {\n      const existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n      const desiredSpacingX = width / xSteps;\n      scalingX = desiredSpacingX / existingSpacingX;\n      if (flipX) {\n        scalingX = -scalingX;\n      }\n    }\n    if (height > 0 && ySteps) {\n      const existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n      const desiredSpacingY = height / ySteps;\n      scalingY = desiredSpacingY / existingSpacingY;\n    }\n    const screenDimensions = new Dimensions();\n    this.nodes.forEach((node) => {\n      node.screenX = node.x * scalingX;\n      node.screenY = node.y * scalingY;\n      screenDimensions.update(node, (n) => ({ x: n.screenX, y: n.screenY }));\n    });\n    const offsetX = -screenDimensions.left;\n    const offsetY = -screenDimensions.top;\n    this.nodes.forEach((node) => {\n      node.screenX += offsetX + shiftX;\n      node.screenY += offsetY + shiftY;\n    });\n  }\n};\nvar GroupedCategoryAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.grid = false;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], GroupedCategoryAxisLabel.prototype, \"grid\", 2);\nvar GroupedCategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new BandScale());\n    this.tickScale = new BandScale();\n    this.line = new AxisLine();\n    this.label = new GroupedCategoryAxisLabel();\n    this.labelColor = \"rgba(87, 87, 87, 1)\";\n    this.includeInvisibleDomains = true;\n    const { tickLineGroup, tickLabelGroup, gridLineGroup, tickScale, scale: scale2 } = this;\n    scale2.paddingOuter = 0.1;\n    scale2.paddingInner = scale2.paddingOuter * 2;\n    this.refreshScale();\n    tickScale.paddingInner = 1;\n    tickScale.paddingOuter = 0;\n    this.gridLineSelection = Selection.select(gridLineGroup, Line);\n    this.axisLineSelection = Selection.select(tickLineGroup, Line);\n    this.separatorSelection = Selection.select(tickLineGroup, Line);\n    this.labelSelection = Selection.select(tickLabelGroup, Text);\n  }\n  updateRange() {\n    const { range: rr, visibleRange: vr, scale: scale2 } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    this.tickScale.range = scale2.range = [start, start + span];\n    this.resizeTickTree();\n  }\n  resizeTickTree() {\n    var _a;\n    const s = this.scale;\n    const range3 = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n    const layout = this.tickTreeLayout;\n    const lineHeight = this.lineHeight;\n    if (layout) {\n      layout.resize(\n        Math.abs(range3[1] - range3[0]),\n        layout.depth * lineHeight,\n        (Math.min(range3[0], range3[1]) || 0) + ((_a = s.bandwidth) != null ? _a : 0) / 2,\n        -layout.depth * lineHeight,\n        range3[1] - range3[0] < 0\n      );\n    }\n  }\n  get lineHeight() {\n    return this.label.fontSize * 1.5;\n  }\n  /**\n   * The length of the grid. The grid is only visible in case of a non-zero value.\n   */\n  onGridVisibilityChange() {\n    this.gridLineSelection.clear();\n    this.labelSelection.clear();\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  calculateDomain() {\n    var _a;\n    const { direction } = this;\n    let isNumericX = null;\n    const flatDomains = this.boundSeries.filter((s) => s.visible).flatMap((series) => {\n      if (direction === \"y\" || isNumericX) {\n        return series.getDomain(direction);\n      }\n      if (isNumericX === null) {\n        const domain2 = series.getDomain(direction);\n        isNumericX = isNumber(domain2[0]);\n        return domain2;\n      }\n      return [];\n    });\n    this.setDomain((_a = extent(flatDomains)) != null ? _a : unique(flatDomains));\n    const { domain } = this.dataDomain;\n    this.tickTreeLayout = treeLayout(ticksToTree(domain));\n    this.tickScale.domain = domain.concat(\"\");\n    this.resizeTickTree();\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   * Supposed to be called _manually_ after changing _any_ of the axis properties.\n   * This allows to bulk set axis properties before updating the nodes.\n   * The node changes made by this method are rendered on the next animation frame.\n   * We could schedule this method call automatically on the next animation frame\n   * when any of the axis properties change (the way we do when properties of scene graph's\n   * nodes change), but this will mean that we first wait for the next animation\n   * frame to make changes to the nodes of the axis, then wait for another animation\n   * frame to render those changes. It's nice to have everything update automatically,\n   * but this extra level of async indirection will not just introduce an unwanted delay,\n   * it will also make it harder to reason about the program.\n   */\n  update() {\n    if (!this.computedLayout) {\n      return;\n    }\n    this.updatePosition();\n    this.updateTitleCaption();\n    this.updateCategoryLabels();\n    this.updateSeparators();\n    this.updateAxisLines();\n    this.updateCategoryGridLines();\n    this.resetSelectionNodes();\n  }\n  updateTitleCaption() {\n    const { _titleCaption } = this;\n    _titleCaption.node.visible = false;\n  }\n  updateCategoryLabels() {\n    if (!this.computedLayout)\n      return;\n    const { tickLabelLayout } = this.computedLayout;\n    const labelSelection = this.labelSelection.update(tickLabelLayout);\n    labelSelection.each((node, datum) => {\n      node.setProperties(datum);\n    });\n  }\n  updateSeparators() {\n    if (!this.computedLayout)\n      return;\n    const { separatorLayout } = this.computedLayout;\n    const { range: range3 } = this;\n    const epsilon2 = 1e-7;\n    const separatorSelection = this.separatorSelection.update(separatorLayout);\n    separatorSelection.each((line, datum) => {\n      line.x1 = datum.x1;\n      line.x2 = datum.x2;\n      line.y1 = datum.y;\n      line.y2 = datum.y;\n      line.visible = datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2;\n      line.stroke = this.tick.color;\n      line.fill = void 0;\n      line.strokeWidth = 1;\n    });\n  }\n  updateAxisLines() {\n    if (!this.computedLayout)\n      return;\n    const { axisLineLayout } = this.computedLayout;\n    const axisLineSelection = this.axisLineSelection.update(axisLineLayout);\n    axisLineSelection.each((line, datum) => {\n      line.setProperties(__spreadProps(__spreadValues2({}, datum), {\n        stroke: this.line.color,\n        strokeWidth: this.line.width\n      }));\n      line.x1 = datum.x;\n      line.x2 = datum.x;\n      line.y1 = datum.y1;\n      line.y2 = datum.y2;\n      line.strokeWidth = this.line.width;\n      line.stroke = this.line.color;\n    });\n  }\n  updateCategoryGridLines() {\n    const { gridLength, gridLine, label, range: range3, tickScale } = this;\n    const ticks = tickScale.ticks();\n    const sideFlag = label.getSideFlag();\n    const gridSelection = this.gridLineSelection.update(gridLength ? ticks : []);\n    if (gridLength) {\n      const { width, style } = gridLine;\n      const styleCount = style.length;\n      gridSelection.each((line, datum, index) => {\n        const y = Math.round(tickScale.convert(datum));\n        line.x1 = 0;\n        line.x2 = -sideFlag * gridLength;\n        line.y1 = y;\n        line.y2 = y;\n        line.visible = y >= range3[0] && y <= range3[1];\n        const { stroke, lineDash } = style[index % styleCount];\n        line.stroke = stroke;\n        line.strokeWidth = width;\n        line.lineDash = lineDash;\n        line.fill = void 0;\n      });\n    }\n  }\n  computeLayout() {\n    this.updateDirection();\n    this.calculateDomain();\n    this.updateRange();\n    const {\n      scale: scale2,\n      label,\n      label: { parallel },\n      moduleCtx: { callbackCache },\n      range: range3,\n      title,\n      title: { formatter = (p) => p.defaultValue } = {}\n    } = this;\n    const rangeStart = scale2.range[0];\n    const rangeEnd = scale2.range[1];\n    const rangeLength = Math.abs(rangeEnd - rangeStart);\n    const bandwidth = rangeLength / scale2.domain.length || 0;\n    const keepEvery = Math.ceil(label.fontSize / bandwidth);\n    const rotation = toRadians(this.rotation);\n    const isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n    const sideFlag = label.getSideFlag();\n    const lineHeight = this.lineHeight;\n    const tickTreeLayout = this.tickTreeLayout;\n    const labels = scale2.ticks();\n    const treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n    const isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n    const { defaultRotation, configuredRotation, parallelFlipFlag } = calculateLabelRotation({\n      rotation: label.rotation,\n      parallel,\n      regularFlipRotation: normalizeAngle360(rotation - Math.PI / 2),\n      parallelFlipRotation: normalizeAngle360(rotation)\n    });\n    const tickLabelLayout = [];\n    const copyLabelProps = (node) => {\n      return {\n        fill: node.fill,\n        fontFamily: node.fontFamily,\n        fontSize: node.fontSize,\n        fontStyle: node.fontStyle,\n        fontWeight: node.fontWeight,\n        rotation: node.rotation,\n        rotationCenterX: node.rotationCenterX,\n        rotationCenterY: node.rotationCenterY,\n        text: node.text,\n        textAlign: node.textAlign,\n        textBaseline: node.textBaseline,\n        translationX: node.translationX,\n        translationY: node.translationY,\n        visible: node.visible,\n        x: node.x,\n        y: node.y\n      };\n    };\n    const labelBBoxes = /* @__PURE__ */ new Map();\n    let maxLeafLabelWidth = 0;\n    const tempText = new Text();\n    const setLabelProps = (datum, index) => {\n      var _a;\n      tempText.setProperties({\n        fill: label.color,\n        fontFamily: label.fontFamily,\n        fontSize: label.fontSize,\n        fontStyle: label.fontStyle,\n        fontWeight: label.fontWeight,\n        textAlign: \"center\",\n        textBaseline: parallelFlipFlag === -1 ? \"bottom\" : \"hanging\",\n        translationX: datum.screenY - label.fontSize * 0.25,\n        translationY: datum.screenX\n      });\n      if (index === 0) {\n        const isCaptionEnabled = (title == null ? void 0 : title.enabled) && labels.length > 0;\n        if (!isCaptionEnabled) {\n          return false;\n        }\n        const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n        tempText.setProperties({\n          fill: title.color,\n          fontFamily: title.fontFamily,\n          fontSize: title.fontSize,\n          fontStyle: title.fontStyle,\n          fontWeight: title.fontWeight,\n          text,\n          textBaseline: \"hanging\",\n          translationX: datum.screenY - label.fontSize * 0.25,\n          translationY: datum.screenX\n        });\n      } else if (index % keepEvery === 0) {\n        const isInRange = datum.screenX >= range3[0] && datum.screenX <= range3[1];\n        if (!isInRange) {\n          return false;\n        }\n        if (label.formatter) {\n          tempText.text = (_a = callbackCache.call(label.formatter, {\n            value: String(datum.label),\n            index\n          })) != null ? _a : String(datum.label);\n        } else {\n          tempText.text = String(datum.label);\n        }\n      } else {\n        return false;\n      }\n      return true;\n    };\n    treeLabels.forEach((datum, index) => {\n      const isVisible = setLabelProps(datum, index);\n      if (!isVisible)\n        return;\n      const bbox2 = tempText.computeTransformedBBox();\n      if (!bbox2)\n        return;\n      labelBBoxes.set(index, bbox2);\n      const isLeaf = !datum.children.length;\n      if (isLeaf && bbox2.width > maxLeafLabelWidth) {\n        maxLeafLabelWidth = bbox2.width;\n      }\n    });\n    const labelX = sideFlag * label.padding;\n    const labelGrid = this.label.grid;\n    const separatorData = [];\n    treeLabels.forEach((datum, index) => {\n      let visible = setLabelProps(datum, index);\n      const id = index;\n      tempText.x = labelX;\n      tempText.rotationCenterX = labelX;\n      const isLeaf = !datum.children.length;\n      if (isLeaf) {\n        tempText.rotation = configuredRotation;\n        tempText.textAlign = \"end\";\n        tempText.textBaseline = \"middle\";\n      } else {\n        tempText.translationX -= maxLeafLabelWidth - lineHeight + this.label.padding;\n        const availableRange = datum.leafCount * bandwidth;\n        const bbox2 = labelBBoxes.get(id);\n        if (bbox2 && bbox2.width > availableRange) {\n          visible = false;\n          labelBBoxes.delete(id);\n        } else if (isHorizontal) {\n          tempText.rotation = defaultRotation;\n        } else {\n          tempText.rotation = -Math.PI / 2;\n        }\n      }\n      if (datum.parent && isLabelTree) {\n        const y = isLeaf ? datum.screenX - bandwidth / 2 : datum.screenX - datum.leafCount * bandwidth / 2;\n        if (isLeaf) {\n          if (datum.number !== datum.children.length - 1 || labelGrid) {\n            separatorData.push({\n              y,\n              x1: 0,\n              x2: -maxLeafLabelWidth - this.label.padding * 2\n            });\n          }\n        } else {\n          const x = -maxLeafLabelWidth - this.label.padding * 2 + datum.screenY;\n          separatorData.push({\n            y,\n            x1: x + lineHeight,\n            x2: x\n          });\n        }\n      }\n      let props;\n      if (visible) {\n        const bbox2 = tempText.computeTransformedBBox();\n        if (bbox2) {\n          labelBBoxes.set(index, bbox2);\n        }\n        props = __spreadProps(__spreadValues2({}, copyLabelProps(tempText)), { visible });\n      } else {\n        labelBBoxes.delete(index);\n        props = { visible };\n      }\n      tickLabelLayout.push(props);\n    });\n    let minX = 0;\n    separatorData.forEach((d) => minX = Math.min(minX, d.x2));\n    separatorData.push({\n      y: Math.max(rangeStart, rangeEnd),\n      x1: 0,\n      x2: minX\n    });\n    const separatorLayout = [];\n    const separatorBoxes = [];\n    const epsilon2 = 1e-7;\n    separatorData.forEach((datum) => {\n      if (datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2) {\n        const { x1, x2, y } = datum;\n        const separatorBox = new BBox(Math.min(x1, x2), y, Math.abs(x1 - x2), 0);\n        separatorBoxes.push(separatorBox);\n        separatorLayout.push({ x1, x2, y });\n      }\n    });\n    const axisLineLayout = [];\n    const axisLineBoxes = [];\n    const lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n    for (let i = 0; i < lineCount; i++) {\n      const visible = labels.length > 0 && (i === 0 || labelGrid && isLabelTree);\n      const x = i > 0 ? -maxLeafLabelWidth - this.label.padding * 2 - (i - 1) * lineHeight : 0;\n      const lineBox = new BBox(x, Math.min(...range3), 0, Math.abs(range3[1] - range3[0]));\n      axisLineBoxes.push(lineBox);\n      axisLineLayout.push({ x, y1: range3[0], y2: range3[1], visible });\n    }\n    const getTransformBox = (bbox2) => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    const bbox = BBox.merge([...labelBBoxes.values(), ...separatorBoxes, ...axisLineBoxes]);\n    const transformedBBox = getTransformBox(bbox);\n    return {\n      bbox: transformedBBox,\n      tickLabelLayout,\n      separatorLayout,\n      axisLineLayout\n    };\n  }\n  calculateLayout() {\n    const { axisLineLayout, separatorLayout, tickLabelLayout, bbox } = this.computeLayout();\n    this.computedLayout = {\n      axisLineLayout,\n      separatorLayout,\n      tickLabelLayout\n    };\n    return { bbox, primaryTickCount: void 0 };\n  }\n};\nGroupedCategoryAxis.className = \"GroupedCategoryAxis\";\nGroupedCategoryAxis.type = \"grouped-category\";\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], GroupedCategoryAxis.prototype, \"labelColor\", 2);\nfunction hasConstrainedCanvasMemory() {\n  if (typeof navigator === \"undefined\") {\n    return false;\n  }\n  const iPhoneOSMatch = navigator.userAgent.match(/\\(iPhone; CPU iPhone OS (\\d+_\\d+_\\d+) like Mac OS X\\)/);\n  if (iPhoneOSMatch == null) {\n    return false;\n  }\n  const [major, minor] = iPhoneOSMatch[1].split(\"_\").map(Number);\n  return major < 16 || major === 16 && minor < 6;\n}\nvar _HdpiCanvas = class _HdpiCanvas2 {\n  constructor(options) {\n    this.enabled = true;\n    this.width = 600;\n    this.height = 300;\n    const { width, height, pixelRatio } = options;\n    this.pixelRatio = hasConstrainedCanvasMemory() ? 1 : pixelRatio != null ? pixelRatio : getWindow(\"devicePixelRatio\");\n    this.element = createElement(\"canvas\");\n    this.element.width = Math.round((width != null ? width : this.width) * this.pixelRatio);\n    this.element.height = Math.round((height != null ? height : this.height) * this.pixelRatio);\n    this.context = this.element.getContext(\"2d\");\n    this.onEnabledChange();\n    this.resize(width != null ? width : 0, height != null ? height : 0);\n    _HdpiCanvas2.debugContext(this.context);\n  }\n  static is(value) {\n    return value instanceof _HdpiCanvas2;\n  }\n  drawImage(context, dx = 0, dy = 0) {\n    return context.drawImage(this.context.canvas, dx, dy);\n  }\n  toDataURL(type) {\n    return this.element.toDataURL(type);\n  }\n  resize(width, height) {\n    if (!(width > 0 && height > 0))\n      return;\n    const { element: element2, context, pixelRatio } = this;\n    element2.width = Math.round(width * pixelRatio);\n    element2.height = Math.round(height * pixelRatio);\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    element2.style.width = width + \"px\";\n    element2.style.height = height + \"px\";\n    this.width = width;\n    this.height = height;\n  }\n  snapshot() {\n  }\n  clear() {\n    this.context.save();\n    this.context.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n    this.context.clearRect(0, 0, this.width, this.height);\n    this.context.restore();\n  }\n  destroy() {\n    this.element.remove();\n    this.element.width = 0;\n    this.element.height = 0;\n    this.context.clearRect(0, 0, 0, 0);\n    Object.freeze(this);\n  }\n  onContainerChange(newValue, oldValue) {\n    var _a, _b;\n    if (newValue !== oldValue) {\n      (_a = this.element.parentNode) == null ? void 0 : _a.removeChild(this.element);\n      (_b = this.container) == null ? void 0 : _b.appendChild(this.element);\n    }\n  }\n  onEnabledChange() {\n    if (this.element) {\n      this.element.style.display = this.enabled ? \"block\" : \"none\";\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n  static debugContext(ctx) {\n    if (Debug.check(\"canvas\")) {\n      const save = ctx.save.bind(ctx);\n      const restore = ctx.restore.bind(ctx);\n      let depth = 0;\n      Object.assign(ctx, {\n        save() {\n          save();\n          depth++;\n        },\n        restore() {\n          if (depth === 0) {\n            throw new Error(\"AG Charts - Unable to restore() past depth 0\");\n          }\n          restore();\n          depth--;\n        },\n        verifyDepthZero() {\n          if (depth !== 0) {\n            throw new Error(`AG Charts - Save/restore depth is non-zero: ${depth}`);\n          }\n        }\n      });\n    }\n  }\n};\n__decorateClass2([\n  ObserveChanges((target) => target.onEnabledChange())\n], _HdpiCanvas.prototype, \"enabled\", 2);\n__decorateClass2([\n  ObserveChanges((target, newValue, oldValue) => target.onContainerChange(newValue, oldValue))\n], _HdpiCanvas.prototype, \"container\", 2);\nvar HdpiCanvas = _HdpiCanvas;\nvar LayersManager = class _LayersManager {\n  constructor(canvas, markDirty) {\n    this.canvas = canvas;\n    this.markDirty = markDirty;\n    this.debug = Debug.create(true, \"scene\");\n    this.layersMap = /* @__PURE__ */ new Map();\n    this.nextZIndex = 0;\n    this.nextLayerId = 0;\n  }\n  static sortLayers(a, b) {\n    var _a, _b;\n    return compoundAscending(\n      [a.zIndex, ...(_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0], a.id],\n      [b.zIndex, ...(_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0], b.id],\n      ascendingStringNumberUndefined\n    );\n  }\n  get size() {\n    return this.layersMap.size;\n  }\n  forEach(callback) {\n    Array.from(this.layersMap.values()).sort(_LayersManager.sortLayers).forEach(callback);\n  }\n  resize(width, height) {\n    this.canvas.resize(width, height);\n    this.layersMap.forEach(({ canvas }) => canvas.resize(width, height));\n  }\n  addLayer(opts) {\n    const { width, height, pixelRatio } = this.canvas;\n    const { zIndex = this.nextZIndex++, name, zIndexSubOrder, getComputedOpacity, getVisibility } = opts;\n    const canvas = new HdpiCanvas({ width, height, pixelRatio });\n    const newLayer = {\n      id: this.nextLayerId++,\n      name,\n      canvas,\n      zIndex,\n      zIndexSubOrder,\n      getComputedOpacity,\n      getVisibility\n    };\n    if (zIndex >= this.nextZIndex) {\n      this.nextZIndex = zIndex + 1;\n    }\n    this.layersMap.set(canvas, newLayer);\n    this.debug(\"Scene.addLayer() - layers\", this.layersMap);\n    return newLayer.canvas;\n  }\n  removeLayer(canvas) {\n    if (this.layersMap.has(canvas)) {\n      this.layersMap.delete(canvas);\n      canvas.destroy();\n      this.markDirty();\n      this.debug(\"Scene.removeLayer() -  layers\", this.layersMap);\n    }\n  }\n  moveLayer(canvas, newZIndex, newZIndexSubOrder) {\n    const layer = this.layersMap.get(canvas);\n    if (layer) {\n      layer.zIndex = newZIndex;\n      layer.zIndexSubOrder = newZIndexSubOrder;\n      this.markDirty();\n      this.debug(\"Scene.moveLayer() -  layers\", this.layersMap);\n    }\n  }\n  clear() {\n    this.layersMap.clear();\n  }\n};\nfunction debugStats(layersManager, debugSplitTimes, ctx, renderCtxStats, extraDebugStats = {}) {\n  if (!Debug.check(\n    \"scene:stats\",\n    \"scene:stats:verbose\"\n    /* SCENE_STATS_VERBOSE */\n  ))\n    return;\n  const { layersRendered = 0, layersSkipped = 0, nodesRendered = 0, nodesSkipped = 0 } = renderCtxStats != null ? renderCtxStats : {};\n  const end = performance.now();\n  const _a = debugSplitTimes, { start } = _a, durations = __objRest(_a, [\"start\"]);\n  const splits = Object.entries(durations).map(([n, t]) => {\n    return time(n, t);\n  }).filter((v) => v != null).join(\" + \");\n  const extras = Object.entries(extraDebugStats).map(([k, v]) => `${k}: ${v}`).join(\" ; \");\n  const detailedStats = Debug.check(\n    \"scene:stats:verbose\"\n    /* SCENE_STATS_VERBOSE */\n  );\n  const stats = [\n    `${time(\"\\u23F1\\uFE0F\", start, end)} (${splits})`,\n    `${extras}`,\n    `Layers: ${detailedStats ? pct(layersRendered, layersSkipped) : layersManager.size}`,\n    detailedStats ? `Nodes: ${pct(nodesRendered, nodesSkipped)}` : null\n  ].filter(isString);\n  const statsSize = new Map(stats.map((t) => [t, Text.getTextSize(t, ctx.font)]));\n  const width = Math.max(...Array.from(statsSize.values(), (s) => s.width));\n  const height = accumulate(statsSize.values(), (s) => s.height);\n  ctx.save();\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(0, 0, width, height);\n  ctx.fillStyle = \"black\";\n  let y = 0;\n  for (const [stat, size] of statsSize.entries()) {\n    y += size.height;\n    ctx.fillText(stat, 2, y);\n  }\n  ctx.restore();\n}\nfunction debugSceneNodeHighlight(ctx, debugNodes) {\n  ctx.save();\n  for (const [name, node] of Object.entries(debugNodes)) {\n    const bbox = node.computeTransformedBBox();\n    if (!bbox) {\n      Logger.log(`Scene.render() - no bbox for debugged node [${name}].`);\n      continue;\n    }\n    ctx.globalAlpha = 0.8;\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 1;\n    ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n    ctx.fillStyle = \"red\";\n    ctx.strokeStyle = \"white\";\n    ctx.font = \"16px sans-serif\";\n    ctx.textBaseline = \"top\";\n    ctx.textAlign = \"left\";\n    ctx.lineWidth = 2;\n    ctx.strokeText(name, bbox.x, bbox.y, bbox.width);\n    ctx.fillText(name, bbox.x, bbox.y, bbox.width);\n  }\n  ctx.restore();\n}\nfunction buildTree(node) {\n  var _a, _b;\n  if (!Debug.check(\n    true,\n    \"scene\"\n    /* SCENE */\n  ))\n    return {};\n  return __spreadValues2(__spreadValues2({\n    node,\n    name: (_a = node instanceof Group ? node.name : null) != null ? _a : node.id,\n    dirty: RedrawType[node.dirty]\n  }, ((_b = node.parent) == null ? void 0 : _b.isVirtual) ? {\n    virtualParentDirty: RedrawType[node.parent.dirty],\n    virtualParent: node.parent\n  } : {}), node.children.map((c) => buildTree(c)).reduce((result, childTree) => {\n    let { name: treeNodeName } = childTree;\n    const {\n      node: { visible, opacity, zIndex, zIndexSubOrder },\n      node: childNode,\n      virtualParent\n    } = childTree;\n    if (!visible || opacity <= 0) {\n      treeNodeName = `(${treeNodeName})`;\n    }\n    if (childNode instanceof Group && childNode.isLayer()) {\n      treeNodeName = `*${treeNodeName}*`;\n    }\n    const key = [\n      `${treeNodeName != null ? treeNodeName : \"<unknown>\"}`,\n      `z: ${zIndex}`,\n      zIndexSubOrder && `zo: ${zIndexSubOrder.map((v) => typeof v === \"function\" ? `${v()} (fn)` : v).join(\" / \")}`,\n      virtualParent && `(virtual parent)`\n    ].filter((v) => !!v).join(\" \");\n    let selectedKey = key;\n    let index = 1;\n    while (result[selectedKey] != null && index < 100) {\n      selectedKey = `${key} (${index++})`;\n    }\n    result[selectedKey] = childTree;\n    return result;\n  }, {}));\n}\nfunction buildDirtyTree(node) {\n  var _a;\n  if (node.dirty === 0) {\n    return { dirtyTree: {}, paths: [] };\n  }\n  const childrenDirtyTree = node.children.map((c) => buildDirtyTree(c)).filter((c) => c.paths.length > 0);\n  const name = Group.is(node) ? (_a = node.name) != null ? _a : node.id : node.id;\n  const paths = childrenDirtyTree.length ? childrenDirtyTree.flatMap((c) => c.paths).map((p) => `${name}.${p}`) : [name];\n  return {\n    dirtyTree: __spreadValues2({\n      name,\n      node,\n      dirty: RedrawType[node.dirty]\n    }, childrenDirtyTree.map((c) => c.dirtyTree).filter((t) => t.dirty != null).reduce((result, childTree) => {\n      var _a2;\n      result[(_a2 = childTree.name) != null ? _a2 : \"<unknown>\"] = childTree;\n      return result;\n    }, {})),\n    paths\n  };\n}\nfunction pct(rendered, skipped) {\n  const total = rendered + skipped;\n  return `${rendered} / ${total} (${Math.round(100 * rendered / total)}%)`;\n}\nfunction time(name, start, end) {\n  const duration = end != null ? end - start : start;\n  return `${name}: ${Math.round(duration * 100) / 100}ms`;\n}\nfunction accumulate(iterator, mapper) {\n  let sum2 = 0;\n  for (const item of iterator) {\n    sum2 += mapper(item);\n  }\n  return sum2;\n}\nvar Scene = class {\n  constructor({ width, height, pixelRatio }) {\n    this.debug = Debug.create(\n      true,\n      \"scene\"\n      /* SCENE */\n    );\n    this.id = createId(this);\n    this.root = null;\n    this.isDirty = false;\n    this.canvas = new HdpiCanvas({ width, height, pixelRatio });\n    this.layersManager = new LayersManager(this.canvas, () => {\n      this.isDirty = true;\n    });\n  }\n  get width() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[0]) != null ? _b : this.canvas.width;\n  }\n  get height() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[1]) != null ? _b : this.canvas.height;\n  }\n  setContainer(value) {\n    this.canvas.container = value;\n    return this;\n  }\n  setRoot(node) {\n    var _a;\n    if (this.root === node) {\n      return this;\n    }\n    this.isDirty = true;\n    (_a = this.root) == null ? void 0 : _a._setLayerManager();\n    this.root = node;\n    if (node) {\n      node.visible = true;\n      node._setLayerManager(this.layersManager);\n    }\n    return this;\n  }\n  attachNode(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return () => this.removeChild(node);\n  }\n  appendChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return this;\n  }\n  removeChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.removeChild(node);\n    return this;\n  }\n  download(fileName, fileFormat) {\n    var _a;\n    downloadUrl(this.canvas.toDataURL(fileFormat), (_a = fileName == null ? void 0 : fileName.trim()) != null ? _a : \"image\");\n  }\n  /** NOTE: Integrated Charts undocumented image download method. */\n  getDataURL(fileFormat) {\n    return this.canvas.toDataURL(fileFormat);\n  }\n  resize(width, height) {\n    width = Math.round(width);\n    height = Math.round(height);\n    if (width > 0 && height > 0 && (width !== this.width || height !== this.height)) {\n      this.pendingSize = [width, height];\n      this.isDirty = true;\n      return true;\n    }\n    return false;\n  }\n  render(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const { debugSplitTimes = { start: performance.now() }, extraDebugStats } = opts != null ? opts : {};\n      const { canvas, canvas: { context: ctx } = {}, root, pendingSize } = this;\n      if (!ctx) {\n        return;\n      }\n      const renderStartTime = performance.now();\n      if (pendingSize) {\n        this.layersManager.resize(...pendingSize);\n        this.pendingSize = void 0;\n      }\n      if (root && !root.visible) {\n        this.isDirty = false;\n        return;\n      }\n      if (root && !this.isDirty) {\n        if (this.debug.check()) {\n          this.debug(\"Scene.render() - no-op\", {\n            redrawType: RedrawType[root.dirty],\n            tree: buildTree(root)\n          });\n        }\n        debugStats(this.layersManager, debugSplitTimes, ctx, void 0, extraDebugStats);\n        return;\n      }\n      const renderCtx = {\n        ctx,\n        devicePixelRatio: (_a = this.canvas.pixelRatio) != null ? _a : 1,\n        forceRender: true,\n        resized: Boolean(pendingSize),\n        debugNodes: {}\n      };\n      if (Debug.check(\n        \"scene:stats:verbose\"\n        /* SCENE_STATS_VERBOSE */\n      )) {\n        renderCtx.stats = { layersRendered: 0, layersSkipped: 0, nodesRendered: 0, nodesSkipped: 0 };\n      }\n      let canvasCleared = false;\n      if (!root || root.dirty >= 1) {\n        canvasCleared = true;\n        canvas.clear();\n      }\n      if (root && Debug.check(\n        \"scene:dirtyTree\"\n        /* SCENE_DIRTY_TREE */\n      )) {\n        const { dirtyTree, paths } = buildDirtyTree(root);\n        Debug.create(\n          \"scene:dirtyTree\"\n          /* SCENE_DIRTY_TREE */\n        )(\"Scene.render() - dirtyTree\", { dirtyTree, paths });\n      }\n      if (root && canvasCleared) {\n        this.debug(\"Scene.render() - before\", {\n          redrawType: RedrawType[root.dirty],\n          canvasCleared,\n          tree: buildTree(root)\n        });\n        if (root.visible) {\n          root.preRender();\n          ctx.save();\n          root.render(renderCtx);\n          ctx.restore();\n        }\n      }\n      debugSplitTimes[\"\\u270D\\uFE0F\"] = performance.now() - renderStartTime;\n      if (this.layersManager.size && canvasCleared) {\n        const layerRenderStart = performance.now();\n        ctx.save();\n        ctx.resetTransform();\n        this.layersManager.forEach((layer) => {\n          if (layer.canvas.enabled && layer.getVisibility()) {\n            ctx.globalAlpha = layer.getComputedOpacity();\n            layer.canvas.drawImage(ctx);\n          }\n        });\n        ctx.restore();\n        debugSplitTimes[\"\\u26D9\"] = performance.now() - layerRenderStart;\n      }\n      (_b = ctx.verifyDepthZero) == null ? void 0 : _b.call(ctx);\n      this.isDirty = false;\n      debugStats(this.layersManager, debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n      debugSceneNodeHighlight(ctx, renderCtx.debugNodes);\n      if (root && this.debug.check()) {\n        this.debug(\"Scene.render() - after\", {\n          redrawType: RedrawType[root.dirty],\n          tree: buildTree(root),\n          canvasCleared\n        });\n      }\n    });\n  }\n  /** Alternative to destroy() that preserves re-usable resources. */\n  strip() {\n    const { context, pixelRatio } = this.canvas;\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    this.layersManager.clear();\n    this.setRoot(null);\n    this.isDirty = false;\n  }\n  destroy() {\n    this.canvas.container = void 0;\n    this.strip();\n    this.canvas.destroy();\n    Object.assign(this, { canvas: void 0 });\n  }\n};\nScene.className = \"Scene\";\nvar icons_default = `\n[class^='ag-charts-icon'] {\n    display: block;\n    /* speak: none; */\n    mask-size: contain;\n    background-color: currentColor;\n}\n\n.ag-charts-icon-zoom-in {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+);\n}\n\n.ag-charts-icon-zoom-out {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-reset-zoom {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXJvdGF0ZS1jY3ciPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCA5LTkgOS43NSA5Ljc1IDAgMCAwLTYuNzQgMi43NEwzIDgiLz48cGF0aCBkPSJNMyAzdjVoNSIvPjwvc3ZnPg==);\n}\n\n.ag-charts-icon-pan-left {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGVmdCI+PHBhdGggZD0ibTE1IDE4LTYtNiA2LTYiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-pan-right {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tcmlnaHQiPjxwYXRoIGQ9Im05IDE4IDYtNi02LTYiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-pan-start {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==);\n}\n\n.ag-charts-icon-pan-end {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+);\n}\n\n`;\nvar reset_default = `\n[class^='ag-charts'],\n[class^='ag-charts']:focus,\n[class^='ag-charts']:after,\n[class^='ag-charts']:before {\n    box-sizing: border-box;\n    outline: none;\n}\n\nbutton[class^='ag-charts'] {\n    background: none;\n    border: 0;\n}\n\n`;\nvar theme_default_default = `\n.ag-charts-theme-default,\n.ag-charts-theme-default-dark {\n    /* Colors */\n    --ag-charts-active-color: var(--ag-active-color, #2196f3);\n    --ag-charts-background-color: var(--ag-background-color, #fff);\n    --ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);\n    --ag-charts-border-color: var(--ag-border-color, #dddddd);\n\n    /* Sizing */\n    --ag-charts-font-size: var(--ag-font-size, 14px);\n    --ag-charts-size: var(--ag-grid-size, 8px);\n\n    /* Borders */\n    --ag-charts-border: var(--ag-borders, solid 1px);\n    --ag-charts-border-critical: var(--ag-borders-critical, solid 1px);\n\n    /* Toolbar */\n    --ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));\n    --ag-charts-toolbar-background-color: var(\n        --ag-header-background-color,\n        color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%)\n    );\n    --ag-charts-toolbar-size: var(--ag-header-height, 48px);\n    --ag-charts-toolbar-padding: calc(var(--ag-charts-size) * 2);\n    --ag-charts-toolbar-border: var(--ag-charts-border, solid 1px) var(--ag-charts-border-color);\n    --ag-charts-toolbar-border-critical: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);\n    --ag-charts-toolbar-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);\n    --ag-charts-toolbar-disabled-foreground-color: var(\n        --ag-disabled-foreground-color,\n        color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%)\n    );\n    --ag-charts-toolbar-disabled-background-color: var(\n        --ag-input-disabled-background-color,\n        color-mix(in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6%)\n    );\n    --ag-charts-toolbar-gap: var(--ag-charts-size);\n\n    /* Buttons */\n    --ag-charts-button-padding: var(--ag-charts-size);\n    --ag-charts-button-radius: var(--ag-border-radius, 4px);\n\n    /* Focus Indicator */\n    --ag-charts-focus-border: solid 2px var(--ag-input-focus-border-color, var(--ag-charts-active-color));\n    --ag-charts-focus-border-shadow: var(--ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-focus-border) 47%));\n\n    /* Icons */\n    --ag-charts-icon-font-family: 'agChartsDefault';\n    --ag-charts-icon-font-weight: normal;\n    --ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);\n}\n\n`;\nvar theme_default_dark_default = `\n.ag-charts-theme-default-dark {\n    /* Colors */\n    --ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));\n    --ag-charts-foreground-color: var(--ag-foreground-color, #fff);\n    --ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, 0.16));\n    --ag-charts-hover-color: var(\n        --ag-row-hover-color,\n        color-mix(in srgb, transparent, var(--ag-charts-active-color) 20%)\n    );\n\n    /* Toolbar */\n    --ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));\n}\n\n`;\nvar styles_default = `\n/* Reset */\n${reset_default}\n\n/* Icons */\n${icons_default}\n\n/* AG Charts Theme Default */\n${theme_default_default}\n\n/* AG Charts Theme Default Dark */\n${theme_default_dark_default}\n`;\nfunction sleep(sleepTimeoutMs) {\n  return new Promise((resolve) => {\n    setTimeout(() => resolve(void 0), sleepTimeoutMs);\n  });\n}\nvar Mutex = class {\n  constructor() {\n    this.available = true;\n    this.acquireQueue = [];\n  }\n  acquire(cb) {\n    return new Promise((resolve) => {\n      this.acquireQueue.push([cb, resolve]);\n      if (this.available) {\n        this.dispatchNext().catch((e) => Logger.errorOnce(e));\n      }\n    });\n  }\n  acquireImmediately(cb) {\n    return __async(this, null, function* () {\n      if (!this.available) {\n        return false;\n      }\n      yield this.acquire(cb);\n      return true;\n    });\n  }\n  waitForClearAcquireQueue() {\n    return __async(this, null, function* () {\n      return this.acquire(() => __async(this, null, function* () {\n        return void 0;\n      }));\n    });\n  }\n  dispatchNext() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      this.available = false;\n      let [next, done] = (_a = this.acquireQueue.shift()) != null ? _a : [];\n      while (next) {\n        try {\n          yield next();\n          done == null ? void 0 : done();\n        } catch (error) {\n          Logger.error(\"mutex callback error\", error);\n          done == null ? void 0 : done();\n        }\n        [next, done] = (_b = this.acquireQueue.shift()) != null ? _b : [];\n      }\n      this.available = true;\n    });\n  }\n};\nvar Observable = class {\n  constructor() {\n    this.eventListeners = /* @__PURE__ */ new Map();\n  }\n  addEventListener(eventType, listener) {\n    if (typeof listener !== \"function\") {\n      throw new Error(\"AG Charts - listener must be a Function\");\n    }\n    const eventTypeListeners = this.eventListeners.get(eventType);\n    if (eventTypeListeners) {\n      eventTypeListeners.add(listener);\n    } else {\n      this.eventListeners.set(eventType, /* @__PURE__ */ new Set([listener]));\n    }\n  }\n  removeEventListener(type, listener) {\n    var _a;\n    (_a = this.eventListeners.get(type)) == null ? void 0 : _a.delete(listener);\n    if (this.eventListeners.size === 0) {\n      this.eventListeners.delete(type);\n    }\n  }\n  hasEventListener(type) {\n    return this.eventListeners.has(type);\n  }\n  clearEventListeners() {\n    this.eventListeners.clear();\n  }\n  fireEvent(event) {\n    var _a;\n    (_a = this.eventListeners.get(event.type)) == null ? void 0 : _a.forEach((listener) => listener(event));\n  }\n};\nvar Padding = class extends BaseProperties {\n  constructor(top = 0, right = top, bottom = top, left = right) {\n    super();\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n  clear() {\n    this.top = this.right = this.bottom = this.left = 0;\n  }\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"top\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"right\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"bottom\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"left\", 2);\nfunction debouncedAnimationFrame(cb) {\n  return buildScheduler((innerCb, _delayMs) => requestAnimationFrame(innerCb), cb);\n}\nfunction debouncedCallback(cb) {\n  return buildScheduler((innerCb, delayMs = 0) => setTimeout(innerCb, delayMs), cb);\n}\nfunction buildScheduler(scheduleFn, cb) {\n  let scheduleCount = 0;\n  let promiseRunning = false;\n  let awaitingPromise;\n  let awaitingDone;\n  const busy = () => {\n    return promiseRunning;\n  };\n  const done = () => {\n    promiseRunning = false;\n    awaitingDone == null ? void 0 : awaitingDone();\n    awaitingDone = void 0;\n    awaitingPromise = void 0;\n    if (scheduleCount > 0) {\n      scheduleFn(scheduleCb);\n    }\n  };\n  const scheduleCb = () => {\n    const count = scheduleCount;\n    scheduleCount = 0;\n    promiseRunning = true;\n    const maybePromise = cb({ count });\n    if (!maybePromise) {\n      done();\n      return;\n    }\n    maybePromise.then(done, done);\n  };\n  return {\n    schedule(delayMs) {\n      if (scheduleCount === 0 && !busy()) {\n        scheduleFn(scheduleCb, delayMs);\n      }\n      scheduleCount++;\n    },\n    await() {\n      return __async(this, null, function* () {\n        if (!busy()) {\n          return;\n        }\n        if (awaitingPromise == null) {\n          awaitingPromise = new Promise((resolve) => {\n            awaitingDone = resolve;\n          });\n        }\n        while (busy()) {\n          yield awaitingPromise;\n        }\n      });\n    }\n  };\n}\nvar SizeMonitor = class {\n  constructor() {\n    this.elements = /* @__PURE__ */ new Map();\n    this.documentReady = false;\n    this.queuedObserveRequests = [];\n    this.onLoad = () => {\n      this.documentReady = true;\n      this.queuedObserveRequests.forEach(([el, cb]) => this.observe(el, cb));\n      this.queuedObserveRequests = [];\n    };\n    var _a;\n    if (typeof ResizeObserver === \"undefined\")\n      return;\n    this.resizeObserver = new ResizeObserver((entries) => {\n      for (const { target, contentRect } of entries) {\n        const { width, height } = contentRect;\n        this.checkSize(this.elements.get(target), target, width, height);\n      }\n    });\n    this.documentReady = getDocument(\"readyState\") === \"complete\";\n    if (!this.documentReady) {\n      (_a = getWindow()) == null ? void 0 : _a.addEventListener(\"load\", this.onLoad);\n    }\n  }\n  destroy() {\n    var _a, _b;\n    (_a = getWindow()) == null ? void 0 : _a.removeEventListener(\"load\", this.onLoad);\n    (_b = this.resizeObserver) == null ? void 0 : _b.disconnect();\n    this.resizeObserver = null;\n  }\n  checkSize(entry, element2, width, height) {\n    var _a, _b;\n    if (!entry)\n      return;\n    if (width !== ((_a = entry.size) == null ? void 0 : _a.width) || height !== ((_b = entry.size) == null ? void 0 : _b.height)) {\n      entry.size = { width, height };\n      entry.cb(entry.size, element2);\n    }\n  }\n  // Only a single callback is supported.\n  observe(element2, cb) {\n    var _a;\n    if (!this.documentReady) {\n      this.queuedObserveRequests.push([element2, cb]);\n      return;\n    }\n    if (this.elements.has(element2)) {\n      this.removeFromQueue(element2);\n    } else {\n      (_a = this.resizeObserver) == null ? void 0 : _a.observe(element2);\n    }\n    this.elements.set(element2, { cb });\n  }\n  unobserve(element2) {\n    var _a;\n    (_a = this.resizeObserver) == null ? void 0 : _a.unobserve(element2);\n    this.elements.delete(element2);\n    this.removeFromQueue(element2);\n    if (!this.elements.size) {\n      this.destroy();\n    }\n  }\n  removeFromQueue(element2) {\n    this.queuedObserveRequests = this.queuedObserveRequests.filter(([el]) => el !== element2);\n  }\n};\nvar CallbackCache = class {\n  constructor() {\n    this.cache = /* @__PURE__ */ new WeakMap();\n  }\n  call(fn, ...params) {\n    let serialisedParams;\n    let paramCache = this.cache.get(fn);\n    const invoke = () => {\n      try {\n        const result = fn(...params);\n        if (paramCache && serialisedParams != null) {\n          paramCache.set(serialisedParams, result);\n        }\n        return result;\n      } catch (e) {\n        Logger.warnOnce(`User callback errored, ignoring`, e);\n        return;\n      }\n    };\n    try {\n      serialisedParams = JSON.stringify(params);\n    } catch (e) {\n      return invoke();\n    }\n    if (paramCache == null) {\n      paramCache = /* @__PURE__ */ new Map();\n      this.cache.set(fn, paramCache);\n    }\n    if (!paramCache.has(serialisedParams)) {\n      return invoke();\n    }\n    return paramCache.get(serialisedParams);\n  }\n  invalidateCache() {\n    this.cache = /* @__PURE__ */ new WeakMap();\n  }\n};\nvar AnnotationManager = class {\n  constructor(annotationRoot) {\n    this.annotationRoot = annotationRoot;\n  }\n  attachNode(node) {\n    this.annotationRoot.append(node);\n    return () => {\n      var _a;\n      (_a = this.annotationRoot) == null ? void 0 : _a.removeChild(node);\n      return this;\n    };\n  }\n  setAnnotationStyles(styles) {\n    this.styles = styles;\n  }\n  getAnnotationTypeStyles(type) {\n    var _a;\n    return (_a = this.styles) == null ? void 0 : _a[type];\n  }\n};\nvar Listeners = class {\n  constructor() {\n    this.registeredListeners = /* @__PURE__ */ new Map();\n  }\n  addListener(eventType, handler) {\n    const record = { symbol: Symbol(eventType), handler };\n    if (this.registeredListeners.has(eventType)) {\n      this.registeredListeners.get(eventType).push(record);\n    } else {\n      this.registeredListeners.set(eventType, [record]);\n    }\n    return () => this.removeListener(record.symbol);\n  }\n  removeListener(eventSymbol) {\n    for (const [type, listeners] of this.registeredListeners.entries()) {\n      const matchIndex = listeners.findIndex((listener) => listener.symbol === eventSymbol);\n      if (matchIndex >= 0) {\n        listeners.splice(matchIndex, 1);\n        if (listeners.length === 0) {\n          this.registeredListeners.delete(type);\n        }\n        break;\n      }\n    }\n  }\n  dispatch(eventType, ...params) {\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        listener.handler(...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  dispatchWrapHandlers(eventType, wrapFn, ...params) {\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        wrapFn(listener.handler, ...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  getListenersByType(eventType) {\n    var _a;\n    return (_a = this.registeredListeners.get(eventType)) != null ? _a : [];\n  }\n  destroy() {\n    this.registeredListeners.clear();\n  }\n};\nvar DataService = class extends Listeners {\n  constructor(animationManager) {\n    super();\n    this.animationManager = animationManager;\n    this.dispatchOnlyLatest = true;\n    this.dispatchThrottle = 0;\n    this.requestThrottle = 300;\n    this.isLoadingInitialData = false;\n    this.isLoadingData = false;\n    this.freshRequests = [];\n    this.requestCounter = 0;\n    this.debug = Debug.create(true, \"data-model\", \"data-source\");\n    this.throttledFetch = this.createThrottledFetch(this.requestThrottle);\n    this.throttledDispatch = this.createThrottledDispatch(this.dispatchThrottle);\n  }\n  updateCallback(dataSourceCallback) {\n    if (typeof dataSourceCallback !== \"function\")\n      return;\n    this.debug(\"DataService - updated data source callback\");\n    this.dataSourceCallback = dataSourceCallback;\n    this.isLoadingInitialData = true;\n    this.animationManager.skip();\n    this.dispatch(\"data-source-change\");\n  }\n  clearCallback() {\n    this.dataSourceCallback = void 0;\n  }\n  load(params) {\n    this.isLoadingData = true;\n    this.throttledFetch(params);\n  }\n  isLazy() {\n    return this.dataSourceCallback != null;\n  }\n  isLoading() {\n    return this.isLazy() && (this.isLoadingInitialData || this.isLoadingData);\n  }\n  createThrottledFetch(requestThrottle) {\n    return throttle((params) => this.fetch(params), requestThrottle, {\n      leading: false,\n      trailing: true\n    });\n  }\n  createThrottledDispatch(dispatchThrottle) {\n    return throttle(\n      (id, data) => {\n        this.debug(`DataService - dispatching 'data-load' | ${id}`);\n        this.dispatch(\"data-load\", { type: \"data-load\", data });\n      },\n      dispatchThrottle,\n      {\n        leading: true,\n        trailing: true\n      }\n    );\n  }\n  fetch(params) {\n    return __async(this, null, function* () {\n      if (!this.dataSourceCallback) {\n        throw new Error(\"DataService - [dataSource.getData] callback not initialised\");\n      }\n      const start = performance.now();\n      const id = this.requestCounter++;\n      this.debug(`DataService - requesting | ${id}`);\n      this.freshRequests.push(id);\n      let response;\n      try {\n        response = yield this.dataSourceCallback(params);\n        this.debug(`DataService - response | ${performance.now() - start}ms | ${id}`);\n      } catch (error) {\n        this.debug(`DataService - request failed | ${id}`);\n        Logger.errorOnce(`DataService - request failed | [${error}]`);\n      }\n      this.isLoadingInitialData = false;\n      const requestIndex = this.freshRequests.findIndex((rid) => rid === id);\n      if (requestIndex === -1 || this.dispatchOnlyLatest && requestIndex !== this.freshRequests.length - 1) {\n        this.debug(`DataService - discarding stale request | ${id}`);\n        return;\n      }\n      this.freshRequests = this.freshRequests.slice(requestIndex + 1);\n      if (this.freshRequests.length === 0) {\n        this.isLoadingData = false;\n      }\n      if (Array.isArray(response)) {\n        this.throttledDispatch(id, response);\n      } else {\n        this.dispatch(\"data-error\");\n      }\n    });\n  }\n};\n__decorateClass2([\n  ActionOnSet({\n    newValue(dispatchThrottle) {\n      this.throttledDispatch = this.createThrottledDispatch(dispatchThrottle);\n    }\n  })\n], DataService.prototype, \"dispatchThrottle\", 2);\n__decorateClass2([\n  ActionOnSet({\n    newValue(requestThrottle) {\n      this.throttledFetch = this.createThrottledFetch(requestThrottle);\n    }\n  })\n], DataService.prototype, \"requestThrottle\", 2);\nvar AnimationBatch = class {\n  constructor(maxAnimationTime) {\n    this.maxAnimationTime = maxAnimationTime;\n    this.debug = Debug.create(true, \"animation\");\n    this.controllers = /* @__PURE__ */ new Map();\n    this.stoppedCbs = /* @__PURE__ */ new Set();\n    this.currentPhase = 0;\n    this.phases = new Map(PHASE_ORDER.map((p) => [p, []]));\n    this.skipAnimations = false;\n    this.animationTimeConsumed = 0;\n    this.isReady = false;\n  }\n  get size() {\n    return this.controllers.size;\n  }\n  isActive() {\n    return this.controllers.size > 0;\n  }\n  getActiveControllers() {\n    var _a;\n    return (_a = this.phases.get(PHASE_ORDER[this.currentPhase])) != null ? _a : [];\n  }\n  checkOverlappingId(id) {\n    if (id != null && this.controllers.has(id)) {\n      this.controllers.get(id).stop();\n      this.debug(`Skipping animation batch due to update of existing animation: ${id}`);\n      this.skip();\n    }\n  }\n  addAnimation(animation) {\n    var _a;\n    if (animation.isComplete)\n      return;\n    const animationPhaseIdx = PHASE_ORDER.indexOf(animation.phase);\n    if (animationPhaseIdx < this.currentPhase) {\n      this.debug(`Skipping animation due to being for an earlier phase`, animation.id);\n      animation.stop();\n      return;\n    }\n    this.controllers.set(animation.id, animation);\n    (_a = this.phases.get(animation.phase)) == null ? void 0 : _a.push(animation);\n  }\n  removeAnimation(animation) {\n    this.controllers.delete(animation.id);\n    const phase = this.phases.get(animation.phase);\n    const index = phase == null ? void 0 : phase.indexOf(animation);\n    if (index != null && index >= 0) {\n      phase == null ? void 0 : phase.splice(index, 1);\n    }\n  }\n  progress(deltaTime) {\n    if (!this.isReady)\n      return;\n    let unusedTime = deltaTime === 0 ? 0.01 : deltaTime;\n    const refresh = () => {\n      const phase2 = PHASE_ORDER[this.currentPhase];\n      return {\n        phaseControllers: [...this.getActiveControllers()],\n        phase: phase2,\n        phaseMeta: PHASE_METADATA[phase2]\n      };\n    };\n    let { phase, phaseControllers, phaseMeta } = refresh();\n    const arePhasesComplete = () => PHASE_ORDER[this.currentPhase] == null;\n    const progressPhase = () => {\n      ({ phase, phaseControllers, phaseMeta } = refresh());\n      while (!arePhasesComplete() && phaseControllers.length === 0) {\n        this.currentPhase++;\n        ({ phase, phaseControllers, phaseMeta } = refresh());\n        this.debug(`AnimationBatch - phase changing to ${phase}`, { unusedTime }, phaseControllers);\n      }\n    };\n    const total = this.controllers.size;\n    this.debug(`AnimationBatch - ${deltaTime}ms; phase ${phase} with ${phaseControllers == null ? void 0 : phaseControllers.length} of ${total}`);\n    do {\n      const phaseDeltaTime = unusedTime;\n      const skipPhase = phaseMeta.skipIfNoEarlierAnimations && this.animationTimeConsumed === 0;\n      let completeCount = 0;\n      for (const controller of phaseControllers) {\n        if (skipPhase) {\n          controller.stop();\n        } else {\n          unusedTime = Math.min(controller.update(phaseDeltaTime), unusedTime);\n        }\n        if (controller.isComplete) {\n          completeCount++;\n          this.removeAnimation(controller);\n        }\n      }\n      this.animationTimeConsumed += phaseDeltaTime - unusedTime;\n      this.debug(`AnimationBatch - updated ${phaseControllers.length} controllers; ${completeCount} completed`);\n      this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`);\n      progressPhase();\n    } while (unusedTime > 0 && !arePhasesComplete());\n    if (this.animationTimeConsumed > this.maxAnimationTime) {\n      Logger.warnOnce(\n        \"Animation batch exceeded max animation time, skipping.\",\n        new Map(this.controllers.entries())\n      );\n      this.stop();\n    }\n  }\n  ready() {\n    if (this.isReady)\n      return;\n    this.isReady = true;\n    this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`, [...this.controllers]);\n    let skipAll = true;\n    for (const [, controller] of this.controllers) {\n      if (controller.duration > 0 && PHASE_METADATA[controller.phase].skipIfNoEarlierAnimations !== true) {\n        skipAll = false;\n        break;\n      }\n    }\n    if (!skipAll) {\n      for (const [, controller] of this.controllers) {\n        if (controller.autoplay) {\n          controller.play(true);\n        }\n      }\n    }\n  }\n  skip(skip = true) {\n    if (this.skipAnimations === false && skip === true) {\n      for (const controller of this.controllers.values()) {\n        controller.stop();\n      }\n      this.controllers.clear();\n    }\n    this.skipAnimations = skip;\n  }\n  play() {\n    for (const controller of this.controllers.values()) {\n      controller.play();\n    }\n  }\n  pause() {\n    for (const controller of this.controllers.values()) {\n      controller.pause();\n    }\n  }\n  stop() {\n    for (const controller of this.controllers.values()) {\n      try {\n        controller.stop();\n        this.removeAnimation(controller);\n      } catch (error) {\n        Logger.error(\"Error during animation stop\", error);\n      }\n    }\n    this.dispatchStopped();\n  }\n  stopByAnimationId(id) {\n    if (id != null && this.controllers.has(id)) {\n      const controller = this.controllers.get(id);\n      if (controller) {\n        controller.stop();\n        this.removeAnimation(controller);\n      }\n    }\n  }\n  stopByAnimationGroupId(id) {\n    for (const controller of this.controllers.values()) {\n      if (controller.groupId === id) {\n        this.stopByAnimationId(controller.id);\n      }\n    }\n  }\n  dispatchStopped() {\n    this.stoppedCbs.forEach((cb) => cb());\n    this.stoppedCbs.clear();\n  }\n  isSkipped() {\n    return this.skipAnimations;\n  }\n  destroy() {\n    this.stop();\n    this.controllers.clear();\n  }\n};\nvar BaseManager = class {\n  constructor() {\n    this.listeners = new Listeners();\n    this.destroyFns = [];\n  }\n  addListener(type, handler) {\n    return this.listeners.addListener(type, handler);\n  }\n  removeListener(listenerSymbol) {\n    this.listeners.removeListener(listenerSymbol);\n  }\n  destroy() {\n    this.listeners.destroy();\n    this.destroyFns.forEach((fn) => fn());\n  }\n};\nfunction buildConsumable(obj) {\n  const builtEvent = __spreadProps(__spreadValues2({}, obj), {\n    consumed: false,\n    consume() {\n      var _a, _b;\n      builtEvent.consumed = true;\n      if (obj.sourceEvent instanceof Event) {\n        (_a = obj.sourceEvent) == null ? void 0 : _a.preventDefault();\n      } else {\n        (_b = obj.sourceEvent) == null ? void 0 : _b.consume();\n      }\n    }\n  });\n  return builtEvent;\n}\nfunction buildConsumptionHandler() {\n  return (handler, e) => {\n    if (!e.consumed) {\n      handler(e);\n    }\n  };\n}\nfunction dispatchTypedConsumable(listeners, type, event) {\n  listeners.dispatchWrapHandlers(type, buildConsumptionHandler(), event);\n}\nvar POINTER_INTERACTION_TYPES = [\n  \"click\",\n  \"dblclick\",\n  \"contextmenu\",\n  \"hover\",\n  \"drag-start\",\n  \"drag\",\n  \"drag-end\",\n  \"leave\",\n  \"enter\",\n  \"page-left\",\n  \"wheel\"\n];\nvar FOCUS_INTERACTION_TYPES = [\"blur\", \"focus\"];\nvar KEY_INTERACTION_TYPES = [\"keydown\", \"keyup\"];\nvar WINDOW_EVENT_HANDLERS = [\"pagehide\", \"mousemove\", \"mouseup\"];\nvar EVENT_HANDLERS = [\n  \"click\",\n  \"dblclick\",\n  \"contextmenu\",\n  \"mousedown\",\n  \"mouseout\",\n  \"mouseenter\",\n  \"touchstart\",\n  \"touchmove\",\n  \"touchend\",\n  \"touchcancel\",\n  \"wheel\",\n  \"blur\",\n  \"focus\",\n  \"keydown\",\n  \"keyup\"\n];\nvar CSS = `\n.ag-chart-wrapper {\n    touch-action: none;\n}\n`;\nvar InteractionState = /* @__PURE__ */ ((InteractionState2) => {\n  InteractionState2[InteractionState2[\"Default\"] = 16] = \"Default\";\n  InteractionState2[InteractionState2[\"ZoomDrag\"] = 8] = \"ZoomDrag\";\n  InteractionState2[InteractionState2[\"Annotations\"] = 4] = \"Annotations\";\n  InteractionState2[InteractionState2[\"ContextMenu\"] = 2] = \"ContextMenu\";\n  InteractionState2[InteractionState2[\"Animation\"] = 1] = \"Animation\";\n  InteractionState2[InteractionState2[\"All\"] = 31] = \"All\";\n  return InteractionState2;\n})(InteractionState || {});\nvar _InteractionManager = class _InteractionManager2 extends BaseManager {\n  constructor(keyboardOptions, element2) {\n    super();\n    this.keyboardOptions = keyboardOptions;\n    this.debug = Debug.create(true, \"interaction\");\n    this.eventHandler = (event) => this.processEvent(event);\n    this.mouseDown = false;\n    this.touchDown = false;\n    this.clickHistory = [{ offsetX: NaN, offsetY: NaN, type: \"mousedown\" }];\n    this.dblclickHistory = [\n      { offsetX: NaN, offsetY: NaN, type: \"mousedown\" },\n      { offsetX: NaN, offsetY: NaN, type: \"mouseup\" },\n      { offsetX: NaN, offsetY: NaN, type: \"mousedown\" }\n    ];\n    this.stateQueue = 16 | 1;\n    this.rootElement = getDocument(\"body\");\n    this.element = element2;\n    for (const type of EVENT_HANDLERS) {\n      if (type.startsWith(\"touch\")) {\n        element2.addEventListener(type, this.eventHandler, { passive: true });\n      } else if (type === \"wheel\") {\n        element2.addEventListener(type, this.eventHandler, { passive: false });\n      } else {\n        element2.addEventListener(type, this.eventHandler);\n      }\n    }\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().addEventListener(type, this.eventHandler);\n    }\n    injectStyle(CSS, \"interactionManager\");\n  }\n  destroy() {\n    super.destroy();\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().removeEventListener(type, this.eventHandler);\n    }\n    for (const type of EVENT_HANDLERS) {\n      this.element.removeEventListener(type, this.eventHandler);\n    }\n  }\n  // Wrapper to only broadcast events when the InteractionManager is a given state.\n  addListener(type, handler, triggeringStates = 16) {\n    return super.addListener(type, (e) => {\n      const currentState = this.getState();\n      if (currentState & triggeringStates) {\n        handler(e);\n      }\n    });\n  }\n  pushState(state) {\n    this.stateQueue |= state;\n  }\n  popState(state) {\n    this.stateQueue &= ~state;\n  }\n  getState() {\n    return this.stateQueue & -this.stateQueue;\n  }\n  processEvent(event) {\n    const types = this.decideInteractionEventTypes(event);\n    if (types.length > 0) {\n      this.dispatchEvent(event, types).catch((e) => Logger.errorOnce(e));\n    }\n  }\n  dispatchEvent(event, types) {\n    return __async(this, null, function* () {\n      if (allInStringUnion(POINTER_INTERACTION_TYPES, types)) {\n        this.dispatchPointerEvent(event, types);\n      } else if (allInStringUnion(FOCUS_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(\n            this.listeners,\n            type,\n            buildConsumable({ type, sourceEvent: event })\n          );\n        }\n      } else if (allInStringUnion(KEY_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(\n            this.listeners,\n            type,\n            buildConsumable({ type, sourceEvent: event })\n          );\n        }\n      }\n    });\n  }\n  dispatchPointerEvent(event, types) {\n    const coords = this.calculateCoordinates(event);\n    if (coords == null) {\n      return;\n    }\n    for (const type of types) {\n      dispatchTypedConsumable(this.listeners, type, this.buildPointerEvent(__spreadValues2({ type, event }, coords)));\n    }\n  }\n  recordDown(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.clickHistory[0], event);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[2], this.dblclickHistory[0]);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[0], event);\n    }\n    this.dragStartElement = event.target;\n  }\n  recordUp(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[1], event);\n    }\n    this.dragStartElement = void 0;\n  }\n  decideInteractionEventTypes(event) {\n    const dragStart = \"drag-start\";\n    switch (event.type) {\n      case \"blur\":\n      case \"focus\":\n      case \"keydown\":\n      case \"keyup\":\n        return this.keyboardOptions.enabled ? [event.type] : [];\n      case \"click\":\n      case \"dblclick\":\n      case \"contextmenu\":\n      case \"wheel\":\n        return [event.type];\n      case \"mousedown\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchstart\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchmove\":\n      case \"mousemove\":\n        if (!this.mouseDown && !this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        return this.mouseDown || this.touchDown ? [\"drag\"] : [\"hover\"];\n      case \"mouseup\":\n        if (!this.mouseDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"touchend\":\n        if (!this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"mouseout\":\n      case \"touchcancel\":\n        return [\"leave\"];\n      case \"mouseenter\":\n        const mouseButtonDown = event instanceof MouseEvent && (event.buttons & 1) === 1;\n        if (this.mouseDown !== mouseButtonDown) {\n          this.mouseDown = mouseButtonDown;\n          return [mouseButtonDown ? dragStart : \"drag-end\"];\n        }\n        return [\"enter\"];\n      case \"pagehide\":\n        return [\"page-left\"];\n    }\n    return [];\n  }\n  isEventOverElement(event) {\n    var _a, _b, _c;\n    return event.target === this.element || ((_a = event.target) == null ? void 0 : _a.parentElement) === this.element || ((_c = (_b = event.target) == null ? void 0 : _b.parentElement) == null ? void 0 : _c.parentElement) === this.element;\n  }\n  calculateCoordinates(event) {\n    var _a;\n    if (event instanceof MouseEvent) {\n      return this.getMouseEventCoords(event);\n    } else if (typeof TouchEvent !== \"undefined\" && event instanceof TouchEvent) {\n      const lastTouch = (_a = event.touches[0]) != null ? _a : event.changedTouches[0];\n      const { clientX, clientY, pageX, pageY } = lastTouch;\n      return __spreadProps(__spreadValues2({}, _InteractionManager2.NULL_COORDS), { clientX, clientY, pageX, pageY });\n    } else if (event instanceof PageTransitionEvent) {\n      if (event.persisted) {\n        return;\n      }\n      return _InteractionManager2.NULL_COORDS;\n    }\n  }\n  getMouseEventCoords(event) {\n    const { clientX, clientY, pageX, pageY } = event;\n    let { offsetX, offsetY } = event;\n    const offsets = (el) => {\n      let x = 0;\n      let y = 0;\n      while (el) {\n        x += el.offsetLeft;\n        y += el.offsetTop;\n        el = el.offsetParent;\n      }\n      return { x, y };\n    };\n    if (this.dragStartElement != null && event.target !== this.dragStartElement) {\n      const offsetDragStart = offsets(this.dragStartElement);\n      const offsetEvent = offsets(event.target);\n      offsetX -= offsetDragStart.x - offsetEvent.x;\n      offsetY -= offsetDragStart.y - offsetEvent.y;\n    }\n    return { clientX, clientY, pageX, pageY, offsetX, offsetY };\n  }\n  isWheelEvent(event) {\n    return event.type === \"wheel\";\n  }\n  buildPointerEvent(opts) {\n    const { type, event, clientX, clientY } = opts;\n    let { offsetX, offsetY, pageX, pageY } = opts;\n    if (!isFiniteNumber(offsetX) || !isFiniteNumber(offsetY)) {\n      const rect = this.element.getBoundingClientRect();\n      offsetX = clientX - rect.left;\n      offsetY = clientY - rect.top;\n    }\n    if (!isFiniteNumber(pageX) || !isFiniteNumber(pageY)) {\n      const pageRect = this.rootElement.getBoundingClientRect();\n      pageX = clientX - pageRect.left;\n      pageY = clientY - pageRect.top;\n    }\n    let [deltaX, deltaY] = [NaN, NaN];\n    if (this.isWheelEvent(event)) {\n      const factor = event.deltaMode === 0 ? 0.01 : 1;\n      deltaX = event.deltaX * factor;\n      deltaY = event.deltaY * factor;\n    }\n    let pointerHistory = [];\n    if (event.type === \"click\") {\n      pointerHistory = this.clickHistory;\n    } else if (event.type === \"dblclick\") {\n      pointerHistory = this.dblclickHistory;\n    }\n    const builtEvent = buildConsumable({\n      type,\n      offsetX,\n      offsetY,\n      pageX,\n      pageY,\n      deltaX,\n      deltaY,\n      pointerHistory,\n      sourceEvent: event\n    });\n    this.debug(\"InteractionManager - builtEvent: \", builtEvent);\n    return builtEvent;\n  }\n};\n_InteractionManager.NULL_COORDS = {\n  clientX: -Infinity,\n  clientY: -Infinity,\n  pageX: -Infinity,\n  pageY: -Infinity,\n  offsetX: -Infinity,\n  offsetY: -Infinity\n};\nvar InteractionManager = _InteractionManager;\nfunction validAnimationDuration(testee) {\n  if (testee == null)\n    return true;\n  return !isNaN(testee) && testee >= 0 && testee <= 2;\n}\nvar AnimationManager = class extends BaseManager {\n  constructor(interactionManager, chartUpdateMutex) {\n    super();\n    this.interactionManager = interactionManager;\n    this.chartUpdateMutex = chartUpdateMutex;\n    this.defaultDuration = 1e3;\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    this.debug = Debug.create(true, \"animation\");\n    this.rafAvailable = typeof requestAnimationFrame !== \"undefined\";\n    this.isPlaying = false;\n    this.requestId = null;\n    this.skipAnimations = false;\n  }\n  /**\n   * Create an animation to tween a value between the `from` and `to` properties. If an animation already exists\n   * with the same `id`, immediately stop it.\n   */\n  animate(_a) {\n    var opts = __objRest(_a, []);\n    var _a2;\n    const batch = this.batch;\n    try {\n      batch.checkOverlappingId(opts.id);\n    } catch (error) {\n      this.failsafeOnError(error);\n      return;\n    }\n    const id = (_a2 = opts.id) != null ? _a2 : Math.random().toString();\n    const skip = this.isSkipped() || opts.phase === \"none\";\n    if (skip) {\n      this.debug(\"AnimationManager - skipping animation\");\n    }\n    const { delay, duration } = opts;\n    if (!validAnimationDuration(delay)) {\n      throw new Error(`Animation delay of ${delay} is unsupported (${id})`);\n    }\n    if (!validAnimationDuration(duration)) {\n      throw new Error(`Animation duration of ${duration} is unsupported (${id})`);\n    }\n    const animation = new Animation(__spreadProps(__spreadValues2({}, opts), {\n      id,\n      skip,\n      autoplay: this.isPlaying ? opts.autoplay : false,\n      phase: opts.phase,\n      defaultDuration: this.defaultDuration\n    }));\n    if (this.forceTimeJump(animation, this.defaultDuration)) {\n      return;\n    }\n    this.batch.addAnimation(animation);\n    return animation;\n  }\n  play() {\n    if (this.isPlaying) {\n      return;\n    }\n    this.isPlaying = true;\n    this.debug(\"AnimationManager.play()\");\n    try {\n      this.batch.play();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n    this.requestAnimation();\n  }\n  pause() {\n    if (!this.isPlaying) {\n      return;\n    }\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.pause()\");\n    try {\n      this.batch.pause();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stop() {\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.stop()\");\n    this.batch.stop();\n  }\n  stopByAnimationId(id) {\n    try {\n      this.batch.stopByAnimationId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stopByAnimationGroupId(id) {\n    try {\n      this.batch.stopByAnimationGroupId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  reset() {\n    if (this.isPlaying) {\n      this.stop();\n      this.play();\n    } else {\n      this.stop();\n    }\n  }\n  skip(skip = true) {\n    this.skipAnimations = skip;\n  }\n  isSkipped() {\n    return !this.rafAvailable || this.skipAnimations || this.batch.isSkipped();\n  }\n  isActive() {\n    return this.isPlaying && this.batch.isActive();\n  }\n  skipCurrentBatch() {\n    if (this.debug.check()) {\n      this.debug(`AnimationManager - skipCurrentBatch()`, { stack: new Error().stack });\n    }\n    this.batch.skip();\n  }\n  /** Mocking point for tests to guarantee that animation updates happen. */\n  isSkippingFrames() {\n    return true;\n  }\n  /** Mocking point for tests to capture requestAnimationFrame callbacks. */\n  scheduleAnimationFrame(cb) {\n    this.requestId = requestAnimationFrame(cb);\n  }\n  /** Mocking point for tests to skip animations to a specific point in time. */\n  forceTimeJump(_animation, _defaultDuration) {\n    return false;\n  }\n  requestAnimation() {\n    if (!this.rafAvailable)\n      return;\n    if (!this.batch.isActive() || this.requestId !== null)\n      return;\n    let prevTime;\n    const onAnimationFrame = (time2) => __async(this, null, function* () {\n      const executeAnimationFrame = () => __async(this, null, function* () {\n        const deltaTime = time2 - (prevTime != null ? prevTime : time2);\n        prevTime = time2;\n        this.debug(\"AnimationManager - onAnimationFrame()\", {\n          controllersCount: this.batch.size,\n          deltaTime\n        });\n        this.interactionManager.pushState(\n          1\n          /* Animation */\n        );\n        try {\n          this.batch.progress(deltaTime);\n        } catch (error) {\n          this.failsafeOnError(error);\n        }\n        this.listeners.dispatch(\"animation-frame\", {\n          type: \"animation-frame\",\n          deltaMs: deltaTime\n        });\n      });\n      if (this.isSkippingFrames()) {\n        yield this.chartUpdateMutex.acquireImmediately(executeAnimationFrame);\n      } else {\n        yield this.chartUpdateMutex.acquire(executeAnimationFrame);\n      }\n      if (this.batch.isActive()) {\n        this.scheduleAnimationFrame(onAnimationFrame);\n      } else {\n        this.batch.stop();\n      }\n    });\n    this.scheduleAnimationFrame(onAnimationFrame);\n  }\n  cancelAnimation() {\n    if (this.requestId === null)\n      return;\n    cancelAnimationFrame(this.requestId);\n    this.requestId = null;\n    this.startBatch();\n  }\n  failsafeOnError(error, cancelAnimation = true) {\n    Logger.error(\"Error during animation, skipping animations\", error);\n    if (cancelAnimation) {\n      this.cancelAnimation();\n    }\n  }\n  startBatch(skipAnimations) {\n    this.debug(`AnimationManager - startBatch() with skipAnimations=${skipAnimations}.`);\n    this.reset();\n    this.batch.stop();\n    this.batch.destroy();\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    if (skipAnimations === true) {\n      this.batch.skip();\n    }\n  }\n  endBatch() {\n    if (this.batch.isActive()) {\n      this.batch.ready();\n      this.requestAnimation();\n    } else {\n      this.interactionManager.popState(\n        1\n        /* Animation */\n      );\n      if (this.batch.isSkipped()) {\n        this.batch.skip(false);\n      }\n    }\n  }\n  onBatchStop(cb) {\n    this.batch.stoppedCbs.add(cb);\n  }\n};\nvar AriaAnnouncementService = class _AriaAnnouncementService {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.debug = Debug.create(true, \"aria\");\n    this.canvas.appendChild(this.liveElem = _AriaAnnouncementService.createAnnouncer());\n  }\n  static createAnnouncer() {\n    const e = getDocument().createElement(\"div\");\n    e.classList.add(\"ag-charts-aria-announcer\");\n    setAttribute(e, \"role\", \"status\");\n    setAttribute(e, \"aria-live\", \"assertive\");\n    return e;\n  }\n  destroy() {\n    this.canvas.removeChild(this.liveElem);\n  }\n  announceValue(value) {\n    this.debug(`AriaAnnouncementService - announceValue: ${value}`);\n    setAttribute(this.liveElem, \"aria-label\", value);\n  }\n};\nvar ChartEventManager = class extends BaseManager {\n  legendItemClick(series, itemId, enabled, legendItemName) {\n    const event = {\n      type: \"legend-item-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName\n    };\n    this.listeners.dispatch(\"legend-item-click\", event);\n  }\n  legendItemDoubleClick(series, itemId, enabled, numVisibleItems, legendItemName) {\n    const event = {\n      type: \"legend-item-double-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName,\n      numVisibleItems\n    };\n    this.listeners.dispatch(\"legend-item-double-click\", event);\n  }\n  axisHover(axisId, direction) {\n    const event = {\n      type: \"axis-hover\",\n      axisId,\n      direction\n    };\n    this.listeners.dispatch(\"axis-hover\", event);\n  }\n};\nvar ContextMenuRegistry = class {\n  constructor() {\n    this.defaultActions = [];\n    this.disabledActions = /* @__PURE__ */ new Set();\n  }\n  copyDefaultActions() {\n    return [...this.defaultActions];\n  }\n  registerDefaultAction(action) {\n    if (action.id && this.defaultActions.find(({ id }) => id === action.id)) {\n      return;\n    }\n    this.defaultActions.push(action);\n  }\n  enableAction(actionId) {\n    this.disabledActions.delete(actionId);\n  }\n  disableAction(actionId) {\n    this.disabledActions.add(actionId);\n  }\n  isDisabled(actionId) {\n    return this.disabledActions.has(actionId);\n  }\n};\nvar StateTracker = class extends Map {\n  constructor(defaultValue, defaultState) {\n    super();\n    this.defaultValue = defaultValue;\n    this.defaultState = defaultState;\n  }\n  set(key, value) {\n    this.delete(key);\n    if (typeof value !== \"undefined\") {\n      super.set(key, value);\n    }\n    return this;\n  }\n  stateId() {\n    var _a;\n    return (_a = Array.from(this.keys()).pop()) != null ? _a : this.defaultState;\n  }\n  stateValue() {\n    var _a;\n    return (_a = Array.from(this.values()).pop()) != null ? _a : this.defaultValue;\n  }\n};\nvar CursorManager = class {\n  constructor(element2) {\n    this.element = element2;\n    this.stateTracker = new StateTracker(\"default\");\n  }\n  updateCursor(callerId, style) {\n    this.stateTracker.set(callerId, style);\n    this.element.style.cursor = this.stateTracker.stateValue();\n  }\n  getCursor() {\n    return this.element.style.cursor;\n  }\n};\nfunction distanceSquared(finger1, finger2) {\n  const dx = finger1.screenX - finger2.screenX;\n  const dy = finger1.screenY - finger2.screenY;\n  return dx * dx + dy * dy;\n}\nfunction distance(finger1, finger2) {\n  return Math.sqrt(distanceSquared(finger1, finger2));\n}\nvar MIN_DISTANCE_TO_START_PINCH = 1;\nvar GestureDetector = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.touchstart = (event) => this.onTouchStart(event);\n    this.touchmove = (event) => this.onTouchMove(event);\n    this.touchend = (event) => this.onTouchEnd(event);\n    this.touchcancel = (event) => this.onTouchCancel(event);\n    this.pinch = {\n      finger1: { identifier: NaN, screenX: NaN, screenY: NaN },\n      finger2: { identifier: NaN, screenX: NaN, screenY: NaN },\n      origin: { x: NaN, y: NaN },\n      distance: NaN,\n      status: 0\n      /* Off */\n    };\n    this.element = element2;\n    element2.addEventListener(\"touchstart\", this.touchstart, { passive: true });\n    element2.addEventListener(\"touchmove\", this.touchmove, { passive: true });\n    element2.addEventListener(\"touchend\", this.touchend);\n    element2.addEventListener(\"touchcancel\", this.touchcancel);\n  }\n  destroy() {\n    const { element: element2 } = this;\n    element2.removeEventListener(\"touchstart\", this.touchstart);\n    element2.removeEventListener(\"touchmove\", this.touchmove);\n    element2.removeEventListener(\"touchend\", this.touchend);\n    element2.removeEventListener(\"touchcancel\", this.touchcancel);\n  }\n  findPinchTouches(moveEvent) {\n    const { touches } = moveEvent;\n    const { finger1, finger2 } = this.pinch;\n    if (this.pinch.status !== 0 && touches.length === 2) {\n      if (touches[0].identifier === finger1.identifier && touches[1].identifier === finger2.identifier) {\n        return [touches[0], touches[1]];\n      }\n      if (touches[0].identifier === finger2.identifier && touches[1].identifier === finger1.identifier) {\n        return [touches[1], touches[0]];\n      }\n    }\n  }\n  copyTouchData(event) {\n    const keys = [\"identifier\", \"screenX\", \"screenY\"];\n    partialAssign(keys, this.pinch.finger1, event.touches[0]);\n    partialAssign(keys, this.pinch.finger2, event.touches[1]);\n    this.pinch.distance = distance(this.pinch.finger1, this.pinch.finger2);\n  }\n  dispatchPinchEvent(type, deltaDistance) {\n    const { finger1, finger2, origin } = this.pinch;\n    const newEvent = { type, finger1, finger2, deltaDistance, origin };\n    this.listeners.dispatch(type, newEvent);\n  }\n  onTouchStart(event) {\n    this.stopPinchTracking();\n    const { pinch } = this;\n    if (event.touches.length === 2) {\n      pinch.status = 1;\n      this.copyTouchData(event);\n      pinch.origin.x = (event.touches[0].clientX + event.touches[1].clientX) / 2;\n      pinch.origin.y = (event.touches[0].clientY + event.touches[1].clientY) / 2;\n    }\n  }\n  onTouchMove(event) {\n    const pinchTouches = this.findPinchTouches(event);\n    if (pinchTouches !== void 0) {\n      const [touch1, touch2] = pinchTouches;\n      const { pinch } = this;\n      const newDistance = distance(touch1, touch2);\n      const deltaDistance = newDistance - pinch.distance;\n      if (pinch.status === 1) {\n        if (Math.abs(deltaDistance) > MIN_DISTANCE_TO_START_PINCH) {\n          pinch.status = 2;\n          this.copyTouchData(event);\n          this.dispatchPinchEvent(\"pinch-start\", 0);\n        }\n      } else if (pinch.status === 2) {\n        pinch.distance = newDistance;\n        this.copyTouchData(event);\n        this.dispatchPinchEvent(\"pinch-move\", deltaDistance);\n      } else {\n        Logger.error(`unexpected pinch.status: ${pinch.status}`);\n      }\n    }\n  }\n  onTouchEnd(_event) {\n    this.stopPinchTracking();\n  }\n  onTouchCancel(_event) {\n    this.stopPinchTracking();\n  }\n  stopPinchTracking() {\n    const { pinch } = this;\n    if (pinch.status === 2) {\n      this.dispatchPinchEvent(\"pinch-end\", 0);\n    }\n    this.pinch.status = 0;\n  }\n};\nvar HighlightManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.highlightStates = new StateTracker();\n    this.pickedStates = new StateTracker();\n  }\n  updateHighlight(callerId, highlightedDatum) {\n    const { activeHighlight: previousHighlight } = this;\n    this.highlightStates.set(callerId, highlightedDatum);\n    this.activeHighlight = this.highlightStates.stateValue();\n    if (!this.isEqual(this.activeHighlight, previousHighlight)) {\n      this.listeners.dispatch(\"highlight-change\", {\n        type: \"highlight-change\",\n        currentHighlight: this.activeHighlight,\n        previousHighlight\n      });\n    }\n  }\n  getActiveHighlight() {\n    return this.activeHighlight;\n  }\n  updatePicked(callerId, clickableDatum) {\n    this.pickedStates.set(callerId, clickableDatum);\n    this.activePicked = this.pickedStates.stateValue();\n  }\n  getActivePicked() {\n    return this.activePicked;\n  }\n  isEqual(a, b) {\n    return a === b || (a == null ? void 0 : a.series) === (b == null ? void 0 : b.series) && (a == null ? void 0 : a.itemId) === (b == null ? void 0 : b.itemId) && (a == null ? void 0 : a.datum) === (b == null ? void 0 : b.datum);\n  }\n};\nvar focusStyles_exports = {};\n__export(focusStyles_exports, {\n  block: () => block,\n  css: () => css,\n  elements: () => elements,\n  modifiers: () => modifiers\n});\nvar block = \"ag-charts-focus\";\nvar elements = {\n  wrapper: `${block}__wrapper`,\n  indicator: `${block}__indicator`\n};\nvar modifiers = {\n  hidden: `${block}--hidden`\n};\nvar css = `\n.${block}.${elements.wrapper} {\n    position: absolute;\n    display: block;\n    pointer-events: none;\n    user-select: none;\n    overflow: hidden;\n}\n\n.${block}.${elements.indicator} {\n    position: absolute;\n    display: block;\n    pointer-events: none;\n    user-select: none;\n    border: var(--ag-charts-focus-border);\n    box-shadow: var(--ag-charts-focus-border-shadow);\n}\n\n.${modifiers.hidden} {\n    visibility: hidden;\n}\n`;\nvar KeyNavManager = class extends BaseManager {\n  constructor(interactionManager) {\n    super();\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.isClicking = false;\n    this.destroyFns.push(\n      interactionManager.addListener(\n        \"drag-start\",\n        (e) => this.onClickStart(e),\n        31\n        /* All */\n      ),\n      interactionManager.addListener(\n        \"click\",\n        (e) => this.onClickStop(e),\n        31\n        /* All */\n      ),\n      interactionManager.addListener(\n        \"drag-end\",\n        (e) => this.onClickStop(e),\n        31\n        /* All */\n      ),\n      interactionManager.addListener(\"wheel\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\"hover\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\"drag\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\n        \"blur\",\n        (e) => this.onBlur(e),\n        31\n        /* All */\n      ),\n      interactionManager.addListener(\n        \"focus\",\n        (e) => this.onFocus(e),\n        31\n        /* All */\n      ),\n      interactionManager.addListener(\n        \"keydown\",\n        (e) => this.onKeyDown(e),\n        31\n        /* All */\n      )\n    );\n  }\n  destroy() {\n    super.destroy();\n  }\n  onClickStart(event) {\n    this.isClicking = true;\n    this.mouseBlur(event);\n  }\n  onClickStop(event) {\n    this.isClicking = false;\n    this.mouseBlur(event);\n  }\n  mouseBlur(event) {\n    if (!this.hasBrowserFocus)\n      return;\n    if (!this.isMouseBlurred) {\n      this.dispatch(\"blur\", 0, event);\n      this.isMouseBlurred = true;\n    }\n  }\n  onBlur(event) {\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.dispatch(\"blur\", 0, event);\n  }\n  onFocus(event) {\n    this.hasBrowserFocus = true;\n    if (this.isClicking) {\n      this.isMouseBlurred = true;\n    } else {\n      this.dispatch(\"browserfocus\", 1, event);\n      this.dispatch(\"tab\", 0, event);\n    }\n  }\n  onKeyDown(event) {\n    if (!this.hasBrowserFocus || this.isClicking)\n      return;\n    this.isMouseBlurred = false;\n    switch (event.sourceEvent.code) {\n      case \"Tab\":\n        if (event.sourceEvent.shiftKey) {\n          return this.dispatch(\"tab\", -1, event);\n        } else {\n          return this.dispatch(\"tab\", 1, event);\n        }\n      case \"ArrowDown\":\n        return this.dispatch(\"nav-vert\", 1, event);\n      case \"ArrowUp\":\n        return this.dispatch(\"nav-vert\", -1, event);\n      case \"ArrowLeft\":\n        return this.dispatch(\"nav-hori\", -1, event);\n      case \"ArrowRight\":\n        return this.dispatch(\"nav-hori\", 1, event);\n      case \"Space\":\n      case \"Enter\":\n        return this.dispatch(\"submit\", 0, event);\n    }\n  }\n  dispatch(type, delta2, interactionEvent) {\n    const event = buildConsumable({ type, delta: delta2, sourceEvent: interactionEvent });\n    dispatchTypedConsumable(this.listeners, type, event);\n  }\n};\nvar REGION_TAB_ORDERING = [\"series\", \"legend\"];\nvar RegionListeners = class extends Listeners {\n};\nvar RegionManager = class {\n  constructor(interactionManager, canvasElement, element2) {\n    this.interactionManager = interactionManager;\n    this.canvasElement = canvasElement;\n    this.currentTabIndex = 0;\n    this.isDragging = false;\n    this.leftCanvas = false;\n    this.regions = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.keyNavManager = new KeyNavManager(interactionManager);\n    this.destroyFns.push(\n      ...POINTER_INTERACTION_TYPES.map(\n        (eventName) => interactionManager.addListener(\n          eventName,\n          this.processPointerEvent.bind(this),\n          31\n          /* All */\n        )\n      ),\n      this.keyNavManager.addListener(\"blur\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"browserfocus\", this.onFocus.bind(this)),\n      this.keyNavManager.addListener(\"tab\", this.onTab.bind(this)),\n      this.keyNavManager.addListener(\"nav-vert\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"nav-hori\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"submit\", this.onNav.bind(this))\n    );\n    injectStyle(css, block);\n    this.focusWrapper = getDocument().createElement(\"div\");\n    this.focusIndicator = getDocument().createElement(\"div\");\n    this.focusWrapper.appendChild(this.focusIndicator);\n    element2.appendChild(this.focusWrapper);\n    const { block: block3, elements: elements3, modifiers: modifiers3 } = focusStyles_exports;\n    this.focusWrapper.classList.add(block3, elements3.wrapper);\n    this.focusIndicator.classList.add(block3, elements3.indicator, modifiers3.hidden);\n  }\n  destroy() {\n    this.destroyFns.forEach((fn) => fn());\n    this.currentRegion = void 0;\n    for (const region of this.regions.values()) {\n      region.listeners.destroy();\n    }\n    this.regions.clear();\n    this.keyNavManager.destroy();\n  }\n  addRegionFromProperties(properties) {\n    const region = { properties, listeners: new RegionListeners() };\n    this.regions.set(properties.name, region);\n    return this.makeObserver(region);\n  }\n  addRegion(name, bboxprovider, ...extraProviders) {\n    return this.addRegionFromProperties({\n      name,\n      bboxproviders: [bboxprovider, ...extraProviders],\n      canInteraction: () => true\n    });\n  }\n  getRegion(name) {\n    return this.makeObserver(this.regions.get(name));\n  }\n  find(x, y) {\n    const matches = [];\n    for (const [_name, region] of this.regions.entries()) {\n      for (const provider of region.properties.bboxproviders) {\n        const bbox = provider.getCachedBBox();\n        if (bbox.containsPoint(x, y)) {\n          matches.push([region, bbox.width * bbox.height]);\n        }\n      }\n    }\n    return matches.sort((a, b) => a[1] - b[1]).map((m) => m[0]);\n  }\n  // This method return a wrapper object that matches the interface of InteractionManager.addListener.\n  // The intent is to allow the InteractionManager and RegionManager to be used almost interchangeably.\n  makeObserver(region) {\n    const { interactionManager } = this;\n    class ObservableRegionImplementation {\n      addListener(type, handler, triggeringStates = 16) {\n        var _a;\n        return (_a = region == null ? void 0 : region.listeners.addListener(type, (e) => {\n          if (!e.consumed) {\n            const currentState = interactionManager.getState();\n            if (currentState & triggeringStates) {\n              handler(e);\n            }\n          }\n        })) != null ? _a : () => {\n        };\n      }\n    }\n    return new ObservableRegionImplementation();\n  }\n  checkPointerHistory(targetRegion, event) {\n    for (const historyEvent of event.pointerHistory) {\n      const historyRegion = this.pickRegion(historyEvent.offsetX, historyEvent.offsetY);\n      if (targetRegion.properties.name !== (historyRegion == null ? void 0 : historyRegion.properties.name)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  dispatch(region, event) {\n    region == null ? void 0 : region.listeners.dispatch(event.type, event);\n  }\n  // Process events during a drag action. Returns false if this event should follow the standard\n  // RegionManager.processEvent flow, or true if this event already processed by this function.\n  handleDragging(event) {\n    const { currentRegion } = this;\n    switch (event.type) {\n      case \"drag-start\":\n        this.isDragging = true;\n        this.leftCanvas = false;\n        break;\n      case \"leave\":\n        this.leftCanvas = true;\n        return this.isDragging;\n      case \"enter\":\n        this.leftCanvas = false;\n        return this.isDragging;\n      case \"drag\":\n        if (this.isDragging) {\n          this.dispatch(currentRegion, event);\n          return true;\n        }\n        break;\n      case \"drag-end\":\n        if (this.isDragging) {\n          this.isDragging = false;\n          this.dispatch(currentRegion, event);\n          if (this.leftCanvas) {\n            this.dispatch(currentRegion, __spreadProps(__spreadValues2({}, event), { type: \"leave\" }));\n          }\n          return true;\n        }\n        break;\n    }\n    return false;\n  }\n  processPointerEvent(event) {\n    if (this.handleDragging(event)) {\n      return;\n    }\n    const { currentRegion } = this;\n    const newRegion = this.pickRegion(event.offsetX, event.offsetY);\n    if (currentRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== currentRegion.properties.name) {\n      this.dispatch(currentRegion, __spreadProps(__spreadValues2({}, event), { type: \"leave\" }));\n    }\n    if (newRegion !== void 0 && newRegion.properties.name !== (currentRegion == null ? void 0 : currentRegion.properties.name)) {\n      this.dispatch(newRegion, __spreadProps(__spreadValues2({}, event), { type: \"enter\" }));\n    }\n    if (newRegion !== void 0 && this.checkPointerHistory(newRegion, event)) {\n      this.dispatch(newRegion, event);\n    }\n    this.currentRegion = newRegion;\n  }\n  pickRegion(x, y) {\n    const matchingRegions = this.find(x, y);\n    return matchingRegions.length > 0 ? matchingRegions[0] : void 0;\n  }\n  getTabRegion(tabIndex) {\n    if (tabIndex !== void 0 && tabIndex >= 0 && tabIndex < REGION_TAB_ORDERING.length) {\n      return this.regions.get(REGION_TAB_ORDERING[tabIndex]);\n    }\n    return void 0;\n  }\n  dispatchTabStart(event) {\n    const { delta: delta2, sourceEvent } = event;\n    const startEvent = buildConsumable({\n      type: \"tab-start\",\n      delta: delta2,\n      sourceEvent\n    });\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, startEvent);\n    return !!startEvent.consumed;\n  }\n  getNextInteractableTabIndex(currentIndex, delta2) {\n    const direction = delta2 < 0 ? -1 : 1;\n    let i = currentIndex;\n    while (delta2 !== 0) {\n      const region = this.getTabRegion(i + direction);\n      if (region === void 0) {\n        return void 0;\n      } else if (region.properties.canInteraction()) {\n        delta2 = delta2 - direction;\n      }\n      i = i + direction;\n    }\n    return i;\n  }\n  validateCurrentTabIndex() {\n    var _a;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion !== void 0 && !focusedRegion.properties.canInteraction()) {\n      this.currentTabIndex = (_a = this.getNextInteractableTabIndex(-1, 1)) != null ? _a : 0;\n    }\n  }\n  onFocus(event) {\n    const { delta: delta2, sourceEvent } = event;\n    const newIndex = delta2 > 0 ? this.getNextInteractableTabIndex(-1, 1) : this.getNextInteractableTabIndex(REGION_TAB_ORDERING.length, -1);\n    this.currentTabIndex = newIndex != null ? newIndex : 0;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion) {\n      this.dispatch(focusedRegion, buildConsumable({ type: \"tab\", delta: delta2, sourceEvent }));\n    }\n  }\n  onTab(event) {\n    const consumed = this.dispatchTabStart(event);\n    if (consumed)\n      return;\n    this.validateCurrentTabIndex();\n    const newTabIndex = this.getNextInteractableTabIndex(this.currentTabIndex, event.delta);\n    const newRegion = this.getTabRegion(newTabIndex);\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (newTabIndex !== void 0) {\n      this.currentTabIndex = newTabIndex;\n    }\n    if (focusedRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== focusedRegion.properties.name) {\n      const { delta: delta2, sourceEvent } = event;\n      const blurEvent = buildConsumable({ type: \"blur\", delta: delta2, sourceEvent });\n      this.dispatch(focusedRegion, blurEvent);\n    }\n    if (newRegion === void 0 || !newRegion.properties.canInteraction()) {\n      this.updateFocusIndicatorRect(void 0);\n    } else {\n      this.dispatch(newRegion, event);\n    }\n  }\n  onNav(event) {\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, event);\n  }\n  updateFocusWrapperRect() {\n    this.focusWrapper.style.width = this.canvasElement.style.width;\n    this.focusWrapper.style.height = this.canvasElement.style.height;\n  }\n  updateFocusIndicatorRect(rect) {\n    if (rect == null) {\n      this.focusIndicator.classList.add(modifiers.hidden);\n      return;\n    }\n    this.updateFocusWrapperRect();\n    this.focusIndicator.classList.remove(modifiers.hidden);\n    this.focusIndicator.style.width = `${rect.width}px`;\n    this.focusIndicator.style.height = `${rect.height}px`;\n    this.focusIndicator.style.left = `${rect.x}px`;\n    this.focusIndicator.style.top = `${rect.y}px`;\n  }\n};\nvar ToolbarManager = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.element = element2;\n  }\n  static isGroup(group2, event) {\n    return event.group === group2;\n  }\n  pressButton(group2, value) {\n    this.listeners.dispatch(\"button-pressed\", { type: \"button-pressed\", group: group2, value });\n  }\n  toggleGroup(group2, visible) {\n    this.listeners.dispatch(\"group-toggled\", { type: \"group-toggled\", group: group2, visible });\n  }\n  toggleButton(group2, value, enabled) {\n    this.listeners.dispatch(\"button-toggled\", { type: \"button-toggled\", group: group2, value, enabled });\n  }\n  proxyGroupOptions(group2, options) {\n    this.listeners.dispatch(\"proxy-group-options\", { type: \"proxy-group-options\", group: group2, options });\n  }\n};\nvar defaultTooltipCss = `\n.${DEFAULT_TOOLTIP_CLASS} {\n    transition: transform 0.1s ease;\n    max-width: 100%;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: rgb(70, 70, 70);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-always {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-hyphenate {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-on-space {\n    overflow-wrap: normal;\n    word-break: normal;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-never {\n    white-space: pre;\n    text-overflow: ellipsis;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-animation {\n    transition: none !important;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-hidden {\n    visibility: hidden;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title {\n    overflow: hidden;\n    position: relative;\n    padding: 8px 14px;\n    border-top-left-radius: 2px;\n    border-top-right-radius: 2px;\n    color: white;\n    background-color: #888888;\n    z-index: 1;\n    text-overflow: inherit;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title:only-child {\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-content {\n    overflow: hidden;\n    padding: 6px 14px;\n    line-height: 1.7em;\n    background: white;\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    text-overflow: inherit;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::before {\n    content: \"\";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid #d9d9d9;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::after {\n    content: \"\";\n\n    position: absolute;\n    top: calc(100% - 1px);\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid white;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;\nvar TooltipManager = class {\n  constructor(canvasElement, tooltip) {\n    this.canvasElement = canvasElement;\n    this.tooltip = tooltip;\n    this.stateTracker = new StateTracker();\n    this.appliedState = null;\n    if (typeof IntersectionObserver !== \"undefined\") {\n      const observer = new IntersectionObserver(\n        (entries) => {\n          for (const entry of entries) {\n            if (entry.target === this.canvasElement && entry.intersectionRatio === 0) {\n              this.tooltip.toggle(false);\n            }\n          }\n        },\n        { root: this.tooltip.root }\n      );\n      observer.observe(this.canvasElement);\n      this.observer = observer;\n    }\n    injectStyle(defaultTooltipCss, \"tooltip\");\n  }\n  updateTooltip(callerId, meta, content) {\n    var _a;\n    if (!this.tooltip.enabled)\n      return;\n    content != null ? content : content = (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.content;\n    this.stateTracker.set(callerId, { content, meta });\n    this.applyStates();\n  }\n  removeTooltip(callerId) {\n    if (!this.tooltip.enabled)\n      return;\n    this.stateTracker.delete(callerId);\n    this.applyStates();\n  }\n  getTooltipMeta(callerId) {\n    var _a;\n    return (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.meta;\n  }\n  destroy() {\n    var _a;\n    (_a = this.observer) == null ? void 0 : _a.unobserve(this.canvasElement);\n  }\n  applyStates() {\n    var _a;\n    const id = this.stateTracker.stateId();\n    const state = id ? this.stateTracker.get(id) : null;\n    if ((state == null ? void 0 : state.meta) == null || (state == null ? void 0 : state.content) == null) {\n      this.appliedState = null;\n      this.tooltip.toggle(false);\n      return;\n    }\n    const canvasRect = this.canvasElement.getBoundingClientRect();\n    if (((_a = this.appliedState) == null ? void 0 : _a.content) === (state == null ? void 0 : state.content)) {\n      const renderInstantly = this.tooltip.isVisible();\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, null, renderInstantly);\n    } else {\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, state == null ? void 0 : state.content);\n    }\n    this.appliedState = state;\n  }\n  static makeTooltipMeta(event, datum) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const { offsetX, offsetY } = event;\n    const { tooltip } = datum.series.properties;\n    const meta = {\n      offsetX,\n      offsetY,\n      enableInteraction: (_b = (_a = tooltip.interaction) == null ? void 0 : _a.enabled) != null ? _b : false,\n      lastPointerEvent: { type: event.type, offsetX, offsetY },\n      showArrow: tooltip.showArrow,\n      position: {\n        type: tooltip.position.type,\n        xOffset: tooltip.position.xOffset,\n        yOffset: tooltip.position.yOffset\n      }\n    };\n    const refPoint = (_g = (_d = (_c = datum.yBar) == null ? void 0 : _c.upperPoint) != null ? _d : datum.midPoint) != null ? _g : (_f = (_e = datum.series).datumMidPoint) == null ? void 0 : _f.call(_e, datum);\n    if (tooltip.position.type === \"node\" && refPoint) {\n      const { x, y } = refPoint;\n      const point = datum.series.contentGroup.inverseTransformPoint(x, y);\n      return __spreadProps(__spreadValues2({}, meta), {\n        offsetX: Math.round(point.x),\n        offsetY: Math.round(point.y)\n      });\n    }\n    return meta;\n  }\n};\nvar LayoutService = class extends Listeners {\n  constructor() {\n    super(...arguments);\n    this.layoutComplete = \"layout-complete\";\n  }\n  addListener(eventType, handler) {\n    if (this.isLayoutStage(eventType) || this.isLayoutComplete(eventType)) {\n      return super.addListener(eventType, handler);\n    }\n    throw new Error(`AG Charts - unsupported listener type: ${eventType}`);\n  }\n  dispatchPerformLayout(stage, ctx) {\n    if (this.isLayoutStage(stage)) {\n      return this.getListenersByType(stage).reduce((result, listener) => {\n        try {\n          return listener.handler(result);\n        } catch (e) {\n          Logger.errorOnce(e);\n          return result;\n        }\n      }, ctx);\n    }\n    return ctx;\n  }\n  dispatchLayoutComplete(event) {\n    this.dispatch(this.layoutComplete, event);\n  }\n  isLayoutStage(eventType) {\n    return eventType !== this.layoutComplete;\n  }\n  isLayoutComplete(eventType) {\n    return eventType === this.layoutComplete;\n  }\n};\nvar SeriesStateManager = class {\n  constructor() {\n    this.groups = {};\n  }\n  registerSeries({\n    id,\n    seriesGrouping,\n    visible,\n    type\n  }) {\n    var _a, _b;\n    if (!seriesGrouping)\n      return;\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    this.groups[type][id] = { grouping: seriesGrouping, visible };\n  }\n  deregisterSeries({ id, type }) {\n    if (this.groups[type]) {\n      delete this.groups[type][id];\n    }\n    if (this.groups[type] && Object.keys(this.groups[type]).length === 0) {\n      delete this.groups[type];\n    }\n  }\n  getVisiblePeerGroupIndex({\n    type,\n    seriesGrouping,\n    visible\n  }) {\n    var _a;\n    if (!seriesGrouping)\n      return { visibleGroupCount: visible ? 1 : 0, visibleSameStackCount: visible ? 1 : 0, index: 0 };\n    const visibleGroupsSet = /* @__PURE__ */ new Set();\n    const visibleSameStackSet = /* @__PURE__ */ new Set();\n    for (const entry of Object.values((_a = this.groups[type]) != null ? _a : {})) {\n      if (!entry.visible)\n        continue;\n      visibleGroupsSet.add(entry.grouping.groupIndex);\n      if (entry.grouping.groupIndex === seriesGrouping.groupIndex) {\n        visibleSameStackSet.add(entry.grouping.stackIndex);\n      }\n    }\n    const visibleGroups = Array.from(visibleGroupsSet);\n    visibleGroups.sort((a, b) => a - b);\n    return {\n      visibleGroupCount: visibleGroups.length,\n      visibleSameStackCount: visibleSameStackSet.size,\n      index: visibleGroups.indexOf(seriesGrouping.groupIndex)\n    };\n  }\n};\nvar ChartUpdateType = /* @__PURE__ */ ((ChartUpdateType2) => {\n  ChartUpdateType2[ChartUpdateType2[\"FULL\"] = 0] = \"FULL\";\n  ChartUpdateType2[ChartUpdateType2[\"UPDATE_DATA\"] = 1] = \"UPDATE_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PROCESS_DATA\"] = 2] = \"PROCESS_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PERFORM_LAYOUT\"] = 3] = \"PERFORM_LAYOUT\";\n  ChartUpdateType2[ChartUpdateType2[\"SERIES_UPDATE\"] = 4] = \"SERIES_UPDATE\";\n  ChartUpdateType2[ChartUpdateType2[\"TOOLTIP_RECALCULATION\"] = 5] = \"TOOLTIP_RECALCULATION\";\n  ChartUpdateType2[ChartUpdateType2[\"SCENE_RENDER\"] = 6] = \"SCENE_RENDER\";\n  ChartUpdateType2[ChartUpdateType2[\"NONE\"] = 7] = \"NONE\";\n  return ChartUpdateType2;\n})(ChartUpdateType || {});\nvar UpdateService = class extends Listeners {\n  constructor(updateCallback) {\n    super();\n    this.updateCallback = updateCallback;\n  }\n  update(type = 0, options) {\n    this.updateCallback(type, options);\n  }\n  dispatchUpdateComplete(rects) {\n    this.dispatch(\"update-complete\", {\n      type: \"update-complete\",\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    });\n  }\n};\nvar ChartContext = class {\n  constructor(chart, vars) {\n    const { scene, syncManager, element: element2, updateCallback, updateMutex } = vars;\n    this.chartService = chart;\n    this.scene = scene;\n    this.syncManager = syncManager;\n    this.zoomManager = chart.zoomManager;\n    this.annotationManager = new AnnotationManager(chart.annotationRoot);\n    this.ariaAnnouncementService = new AriaAnnouncementService(scene.canvas.element);\n    this.chartEventManager = new ChartEventManager();\n    this.contextMenuRegistry = new ContextMenuRegistry();\n    this.cursorManager = new CursorManager(element2);\n    this.highlightManager = new HighlightManager();\n    this.interactionManager = new InteractionManager(chart.keyboard, element2);\n    this.regionManager = new RegionManager(this.interactionManager, this.scene.canvas.element, element2);\n    this.toolbarManager = new ToolbarManager(element2);\n    this.gestureDetector = new GestureDetector(element2);\n    this.layoutService = new LayoutService();\n    this.updateService = new UpdateService(updateCallback);\n    this.seriesStateManager = new SeriesStateManager();\n    this.callbackCache = new CallbackCache();\n    this.animationManager = new AnimationManager(this.interactionManager, updateMutex);\n    this.animationManager.skip();\n    this.animationManager.play();\n    this.dataService = new DataService(this.animationManager);\n    this.tooltipManager = new TooltipManager(this.scene.canvas.element, chart.tooltip);\n  }\n  destroy() {\n    this.tooltipManager.destroy();\n    this.regionManager.destroy();\n    this.interactionManager.destroy();\n    this.animationManager.stop();\n    this.animationManager.destroy();\n    this.ariaAnnouncementService.destroy();\n    this.chartEventManager.destroy();\n    this.highlightManager.destroy();\n    this.callbackCache.invalidateCache();\n    this.animationManager.reset();\n    this.syncManager.destroy();\n  }\n};\nvar ChartHighlight = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.range = \"tooltip\";\n  }\n};\n__decorateClass2([\n  Validate(UNION([\"tooltip\", \"node\"], \"a range\"))\n], ChartHighlight.prototype, \"range\", 2);\nvar DiscreteDomain = class _DiscreteDomain {\n  constructor() {\n    this.domain = /* @__PURE__ */ new Set();\n  }\n  static is(value) {\n    return value instanceof _DiscreteDomain;\n  }\n  extend(val) {\n    this.domain.add(val);\n  }\n  getDomain() {\n    return Array.from(this.domain);\n  }\n};\nvar ContinuousDomain = class _ContinuousDomain {\n  constructor() {\n    this.domain = [Infinity, -Infinity];\n  }\n  static is(value) {\n    return value instanceof _ContinuousDomain;\n  }\n  static extendDomain(values, domain = [Infinity, -Infinity]) {\n    for (const value of values) {\n      if (typeof value !== \"number\") {\n        continue;\n      }\n      if (domain[0] > value) {\n        domain[0] = value;\n      }\n      if (domain[1] < value) {\n        domain[1] = value;\n      }\n    }\n    return domain;\n  }\n  extend(value) {\n    if (this.domain[0] > value) {\n      this.domain[0] = value;\n    }\n    if (this.domain[1] < value) {\n      this.domain[1] = value;\n    }\n  }\n  getDomain() {\n    return [...this.domain];\n  }\n};\nfunction toKeyString(keys) {\n  return keys.map((key) => isObject(key) ? JSON.stringify(key) : key).join(\"-\");\n}\nfunction round2(val) {\n  const accuracy = 1e4;\n  if (Number.isInteger(val)) {\n    return val;\n  } else if (Math.abs(val) > accuracy) {\n    return Math.trunc(val);\n  }\n  return Math.round(val * accuracy) / accuracy;\n}\nfunction fixNumericExtentInternal(extent22) {\n  if (extent22 == null) {\n    return [];\n  }\n  let [min, max] = extent22.map(Number);\n  if (min === 0 && max === 0) {\n    return [0, 1];\n  }\n  if (min === Infinity && max === -Infinity) {\n    return [];\n  } else if (min === Infinity) {\n    min = 0;\n  } else if (max === -Infinity) {\n    max = 0;\n  }\n  return isFiniteNumber(min) && isFiniteNumber(max) ? [min, max] : [];\n}\nfunction fixNumericExtent(extent22, axis) {\n  var _a;\n  const fixedExtent = fixNumericExtentInternal(extent22);\n  if (fixedExtent.length === 0) {\n    return fixedExtent;\n  }\n  let [min, max] = fixedExtent;\n  if (min === max) {\n    const [paddingMin, paddingMax] = (_a = axis == null ? void 0 : axis.calculatePadding(min, max)) != null ? _a : [1, 1];\n    min -= paddingMin;\n    max += paddingMax;\n  }\n  return [min, max];\n}\nfunction getMissCount(scopeProvider, missMap) {\n  var _a;\n  return (_a = missMap == null ? void 0 : missMap.get(scopeProvider.id)) != null ? _a : 0;\n}\nvar INVALID_VALUE = Symbol(\"invalid\");\nvar DataModel = class {\n  constructor(opts, mode = \"standalone\") {\n    this.opts = opts;\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.scopeCache = /* @__PURE__ */ new Map();\n    this.keys = [];\n    this.values = [];\n    this.aggregates = [];\n    this.groupProcessors = [];\n    this.propertyProcessors = [];\n    this.reducers = [];\n    this.processors = [];\n    let keys = true;\n    for (const next of opts.props) {\n      if (next.type === \"key\" && !keys) {\n        throw new Error(\"AG Charts - internal config error: keys must come before values.\");\n      }\n      if (next.type === \"value\" && keys) {\n        keys = false;\n      }\n    }\n    const verifyMatchGroupId = ({ matchGroupIds = [] }) => {\n      for (const matchGroupId of matchGroupIds) {\n        if (this.values.every((def) => def.groupId !== matchGroupId)) {\n          throw new Error(\n            `AG Charts - internal config error: matchGroupIds properties must match defined groups (${matchGroupId}).`\n          );\n        }\n      }\n    };\n    for (const def of opts.props) {\n      switch (def.type) {\n        case \"key\":\n          this.keys.push(__spreadProps(__spreadValues2({}, def), { index: this.keys.length, missing: /* @__PURE__ */ new Map() }));\n          break;\n        case \"value\":\n          if (def.property == null) {\n            throw new Error(\n              `AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(\n                def\n              )}`\n            );\n          }\n          this.values.push(__spreadProps(__spreadValues2({}, def), { index: this.values.length, missing: /* @__PURE__ */ new Map() }));\n          break;\n        case \"aggregate\":\n          verifyMatchGroupId(def);\n          this.aggregates.push(__spreadProps(__spreadValues2({}, def), { index: this.aggregates.length }));\n          break;\n        case \"group-value-processor\":\n          verifyMatchGroupId(def);\n          this.groupProcessors.push(__spreadProps(__spreadValues2({}, def), { index: this.groupProcessors.length }));\n          break;\n        case \"property-value-processor\":\n          this.propertyProcessors.push(__spreadProps(__spreadValues2({}, def), { index: this.propertyProcessors.length }));\n          break;\n        case \"reducer\":\n          this.reducers.push(__spreadProps(__spreadValues2({}, def), { index: this.reducers.length }));\n          break;\n        case \"processor\":\n          this.processors.push(__spreadProps(__spreadValues2({}, def), { index: this.processors.length }));\n          break;\n      }\n    }\n  }\n  resolveProcessedDataDefById(scope, searchId) {\n    var _a;\n    const def = (_a = this.scopeCache.get(scope.id)) == null ? void 0 : _a.get(searchId);\n    if (!def) {\n      throw new Error(`AG Charts - didn't find property definition for [${searchId}, ${scope.id}]`);\n    }\n    return { index: def.index, def };\n  }\n  resolveProcessedDataIndexById(scope, searchId) {\n    return this.resolveProcessedDataDefById(scope, searchId).index;\n  }\n  resolveProcessedDataDefsByIds(scope, searchIds) {\n    return searchIds.map((searchId) => [searchId, this.resolveProcessedDataDefById(scope, searchId)]);\n  }\n  resolveProcessedDataDefsValues(defs, { keys, values }) {\n    const result = {};\n    for (const [searchId, { index, def }] of defs) {\n      const processedData = def.type === \"key\" ? keys : values;\n      result[searchId] = processedData[index];\n    }\n    return result;\n  }\n  getDomain(scope, searchId, type = \"value\", processedData) {\n    var _a;\n    const domains = this.getDomainsByType(type, processedData);\n    return (_a = domains == null ? void 0 : domains[this.resolveProcessedDataIndexById(scope, searchId)]) != null ? _a : [];\n  }\n  getDomainsByType(type, processedData) {\n    switch (type) {\n      case \"key\":\n        return processedData.domain.keys;\n      case \"value\":\n        return processedData.domain.values;\n      case \"aggregate\":\n        return processedData.domain.aggValues;\n      case \"group-value-processor\":\n        return processedData.domain.groups;\n      default:\n        return null;\n    }\n  }\n  processData(data, sources) {\n    var _a;\n    const {\n      opts: { groupByKeys, groupByFn },\n      aggregates,\n      groupProcessors,\n      reducers,\n      processors,\n      propertyProcessors\n    } = this;\n    const start = performance.now();\n    if (groupByKeys && this.keys.length === 0) {\n      return;\n    }\n    let processedData = this.extractData(data, sources);\n    if (groupByKeys) {\n      processedData = this.groupData(processedData);\n    } else if (groupByFn) {\n      processedData = this.groupData(processedData, groupByFn(processedData));\n    }\n    if (groupProcessors.length > 0) {\n      this.postProcessGroups(processedData);\n    }\n    if (aggregates.length > 0) {\n      this.aggregateData(processedData);\n    }\n    if (propertyProcessors.length > 0) {\n      this.postProcessProperties(processedData);\n    }\n    if (reducers.length > 0) {\n      this.reduceData(processedData);\n    }\n    if (processors.length > 0) {\n      this.postProcessData(processedData);\n    }\n    if (data.length > 0) {\n      for (const def of iterate(this.keys, this.values)) {\n        for (const [scope, missCount] of def.missing) {\n          if (missCount >= data.length) {\n            const scopeHint = scope == null ? \"\" : ` for ${scope}`;\n            Logger.warnOnce(`the key '${def.property}' was not found in any data element${scopeHint}.`);\n          }\n        }\n      }\n    }\n    const end = performance.now();\n    processedData.time = end - start;\n    if (this.debug.check()) {\n      logProcessedData(processedData);\n    }\n    this.scopeCache.clear();\n    for (const def of iterate(this.keys, this.values, this.aggregates)) {\n      if (!def.idsMap)\n        continue;\n      for (const [scope, ids] of def.idsMap) {\n        for (const id of ids) {\n          if (!this.scopeCache.has(scope)) {\n            this.scopeCache.set(scope, /* @__PURE__ */ new Map([[id, def]]));\n          } else if ((_a = this.scopeCache.get(scope)) == null ? void 0 : _a.has(id)) {\n            throw new Error(\"duplicate definition ids on the same scope are not allowed.\");\n          } else {\n            this.scopeCache.get(scope).set(id, def);\n          }\n        }\n      }\n    }\n    return processedData;\n  }\n  valueGroupIdxLookup({ matchGroupIds }) {\n    const result = [];\n    for (const [index, def] of this.values.entries()) {\n      if (!matchGroupIds || def.groupId && matchGroupIds.includes(def.groupId)) {\n        result.push(index);\n      }\n    }\n    return result;\n  }\n  valueIdxLookup(scopes, prop) {\n    const noScopesToMatch = scopes == null || scopes.length === 0;\n    const propId = typeof prop === \"string\" ? prop : prop.id;\n    const hasMatchingScopeId = (def) => {\n      if (def.idsMap) {\n        for (const [scope, ids] of def.idsMap) {\n          if ((scopes == null ? void 0 : scopes.includes(scope)) && ids.has(propId)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const result = this.values.findIndex((def) => {\n      const validDefScopes = def.scopes == null || noScopesToMatch && !def.scopes.length || def.scopes.some((s) => scopes == null ? void 0 : scopes.includes(s));\n      return validDefScopes && (def.property === propId || def.id === propId || hasMatchingScopeId(def));\n    });\n    if (result === -1) {\n      throw new Error(\n        `AG Charts - configuration error, unknown property ${JSON.stringify(prop)} in scope(s) ${JSON.stringify(\n          scopes\n        )}`\n      );\n    }\n    return result;\n  }\n  extractData(data, sources) {\n    var _a, _b, _c, _d;\n    const { dataDomain, processValue, scopes, allScopesHaveSameDefs } = this.initDataDomainProcessor();\n    const sourcesById = new Map(sources == null ? void 0 : sources.map((s) => [s.id, s]));\n    const { keys: keyDefs, values: valueDefs } = this;\n    const resultData = new Array(data.length);\n    let resultDataIdx = 0;\n    let partialValidDataCount = 0;\n    for (const [datumIdx, datum] of data.entries()) {\n      const sourceDatums = {};\n      const validScopes = scopes.size > 0 ? new Set(scopes) : void 0;\n      const keys = new Array(keyDefs.length);\n      let keyIdx = 0;\n      let key;\n      for (const def of keyDefs) {\n        key = processValue(def, datum, key);\n        if (key === INVALID_VALUE)\n          break;\n        if (keys) {\n          keys[keyIdx++] = key;\n        }\n      }\n      if (key === INVALID_VALUE)\n        continue;\n      const values = valueDefs.length > 0 ? new Array(valueDefs.length) : void 0;\n      let value;\n      for (const [valueDefIdx, def] of valueDefs.entries()) {\n        for (const scope of (_a = def.scopes) != null ? _a : scopes) {\n          const source = sourcesById.get(scope);\n          const valueDatum = (_b = source == null ? void 0 : source.data[datumIdx]) != null ? _b : datum;\n          value = processValue(def, valueDatum, value, scope);\n          if (value === INVALID_VALUE || !values)\n            continue;\n          if (source != null && def.includeProperty !== false) {\n            const property = def.includeProperty && def.id != null ? def.id : def.property;\n            (_c = sourceDatums[scope]) != null ? _c : sourceDatums[scope] = {};\n            sourceDatums[scope][property] = value;\n          }\n          values[valueDefIdx] = value;\n        }\n        if (value === INVALID_VALUE) {\n          if (allScopesHaveSameDefs)\n            break;\n          for (const scope of (_d = def.scopes) != null ? _d : scopes) {\n            validScopes == null ? void 0 : validScopes.delete(scope);\n          }\n          if ((validScopes == null ? void 0 : validScopes.size) === 0)\n            break;\n        }\n      }\n      if (value === INVALID_VALUE && allScopesHaveSameDefs)\n        continue;\n      if ((validScopes == null ? void 0 : validScopes.size) === 0)\n        continue;\n      const result = { datum: __spreadValues2(__spreadValues2({}, datum), sourceDatums), keys, values };\n      if (!allScopesHaveSameDefs && validScopes && validScopes.size < scopes.size) {\n        partialValidDataCount++;\n        result.validScopes = new Set(validScopes);\n      }\n      resultData[resultDataIdx++] = result;\n    }\n    resultData.length = resultDataIdx;\n    const propertyDomain = (def) => {\n      const defDomain = dataDomain.get(def);\n      const result = defDomain.getDomain();\n      if (ContinuousDomain.is(defDomain) && result[0] > result[1]) {\n        return [];\n      }\n      return result;\n    };\n    return {\n      type: \"ungrouped\",\n      input: { count: data.length },\n      data: resultData,\n      domain: {\n        keys: keyDefs.map(propertyDomain),\n        values: valueDefs.map(propertyDomain)\n      },\n      defs: {\n        allScopesHaveSameDefs,\n        keys: keyDefs,\n        values: valueDefs\n      },\n      partialValidDataCount,\n      time: 0\n    };\n  }\n  groupData(data, groupingFn) {\n    var _a;\n    const processedData = /* @__PURE__ */ new Map();\n    for (const dataEntry of data.data) {\n      const { keys, values, datum, validScopes } = dataEntry;\n      const group2 = (_a = groupingFn == null ? void 0 : groupingFn(dataEntry)) != null ? _a : keys;\n      const groupStr = toKeyString(group2);\n      if (processedData.has(groupStr)) {\n        const existingData = processedData.get(groupStr);\n        existingData.values.push(values);\n        existingData.datum.push(datum);\n        if (validScopes != null && existingData.validScopes != null) {\n          for (const scope of existingData.validScopes) {\n            if (!validScopes.has(scope)) {\n              existingData.validScopes.delete(scope);\n            }\n          }\n        }\n      } else {\n        processedData.set(groupStr, {\n          keys: group2,\n          values: [values],\n          datum: [datum],\n          validScopes\n        });\n      }\n    }\n    const resultData = new Array(processedData.size);\n    const resultGroups = new Array(processedData.size);\n    let dataIndex = 0;\n    for (const { keys, values, datum, validScopes } of processedData.values()) {\n      if ((validScopes == null ? void 0 : validScopes.size) === 0)\n        continue;\n      resultGroups[dataIndex] = keys;\n      resultData[dataIndex++] = {\n        keys,\n        values,\n        datum,\n        validScopes\n      };\n    }\n    return __spreadProps(__spreadValues2({}, data), {\n      type: \"grouped\",\n      data: resultData,\n      domain: __spreadProps(__spreadValues2({}, data.domain), {\n        groups: resultGroups\n      })\n    });\n  }\n  aggregateData(processedData) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const isUngrouped = processedData.type === \"ungrouped\";\n    processedData.domain.aggValues = [];\n    for (const [index, def] of this.aggregates.entries()) {\n      const indices = this.valueGroupIdxLookup(def);\n      const domain = [Infinity, -Infinity];\n      for (const datum of processedData.data) {\n        (_a = datum.aggValues) != null ? _a : datum.aggValues = new Array(this.aggregates.length);\n        if (datum.validScopes)\n          continue;\n        const values = isUngrouped ? [datum.values] : datum.values;\n        let groupAggValues = (_c = (_b = def.groupAggregateFunction) == null ? void 0 : _b.call(def)) != null ? _c : [Infinity, -Infinity];\n        for (const distinctValues of values) {\n          const valuesToAgg = indices.map((valueIdx) => distinctValues[valueIdx]);\n          const valuesAgg = def.aggregateFunction(valuesToAgg, datum.keys);\n          if (valuesAgg) {\n            groupAggValues = (_e = (_d = def.groupAggregateFunction) == null ? void 0 : _d.call(def, valuesAgg, groupAggValues)) != null ? _e : ContinuousDomain.extendDomain(valuesAgg, groupAggValues);\n          }\n        }\n        const finalValues = ((_g = (_f = def.finalFunction) == null ? void 0 : _f.call(def, groupAggValues)) != null ? _g : groupAggValues).map((v) => round2(v));\n        datum.aggValues[index] = finalValues;\n        ContinuousDomain.extendDomain(finalValues, domain);\n      }\n      processedData.domain.aggValues.push(domain);\n    }\n  }\n  postProcessGroups(processedData) {\n    var _a, _b;\n    const { groupProcessors } = this;\n    const affectedIndices = /* @__PURE__ */ new Set();\n    const updatedDomains = /* @__PURE__ */ new Map();\n    const groupProcessorIndices = /* @__PURE__ */ new Map();\n    const groupProcessorInitFns = /* @__PURE__ */ new Map();\n    for (const processor of groupProcessors) {\n      const indices = this.valueGroupIdxLookup(processor);\n      groupProcessorIndices.set(processor, indices);\n      groupProcessorInitFns.set(processor, processor.adjust());\n      for (const idx of indices) {\n        const valueDef = this.values[idx];\n        const isDiscrete = valueDef.valueType === \"category\";\n        affectedIndices.add(idx);\n        updatedDomains.set(idx, isDiscrete ? new DiscreteDomain() : new ContinuousDomain());\n      }\n    }\n    const updateDomains = (values) => {\n      var _a2;\n      for (const valueIndex of affectedIndices) {\n        (_a2 = updatedDomains.get(valueIndex)) == null ? void 0 : _a2.extend(values[valueIndex]);\n      }\n    };\n    for (const group2 of processedData.data) {\n      for (const processor of groupProcessors) {\n        if (group2.validScopes)\n          continue;\n        const valueIndexes = (_a = groupProcessorIndices.get(processor)) != null ? _a : [];\n        const adjustFn = (_b = groupProcessorInitFns.get(processor)) == null ? void 0 : _b();\n        if (!adjustFn)\n          continue;\n        if (processedData.type === \"grouped\") {\n          for (const values of group2.values) {\n            if (values) {\n              adjustFn(values, valueIndexes);\n            }\n          }\n        } else if (group2.values) {\n          adjustFn(group2.values, valueIndexes);\n        }\n      }\n      if (processedData.type === \"grouped\") {\n        for (const values of group2.values) {\n          updateDomains(values);\n        }\n      } else {\n        updateDomains(group2.values);\n      }\n    }\n    for (const [idx, dataDomain] of updatedDomains) {\n      processedData.domain.values[idx] = dataDomain.getDomain();\n    }\n  }\n  postProcessProperties(processedData) {\n    for (const { adjust, property, scopes } of this.propertyProcessors) {\n      adjust()(processedData, this.valueIdxLookup(scopes, property));\n    }\n  }\n  reduceData(processedData) {\n    var _a, _b;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.reducers) {\n      const reducer = def.reducer();\n      let accValue = def.initialValue;\n      for (const datum of processedData.data) {\n        if (!datum.validScopes || ((_b = def.scopes) == null ? void 0 : _b.some((s) => {\n          var _a2;\n          return (_a2 = datum.validScopes) == null ? void 0 : _a2.has(s);\n        }))) {\n          accValue = reducer(accValue, datum);\n        }\n      }\n      processedData.reduced[def.property] = accValue;\n    }\n  }\n  postProcessData(processedData) {\n    var _a;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.processors) {\n      processedData.reduced[def.property] = def.calculate(processedData);\n    }\n  }\n  initDataDomainProcessor() {\n    const { keys: keyDefs, values: valueDefs } = this;\n    const scopes = /* @__PURE__ */ new Set();\n    for (const valueDef of valueDefs) {\n      if (!valueDef.scopes)\n        continue;\n      for (const scope of valueDef.scopes) {\n        scopes.add(scope);\n      }\n    }\n    const dataDomain = /* @__PURE__ */ new Map();\n    const processorFns = /* @__PURE__ */ new Map();\n    let allScopesHaveSameDefs = true;\n    const initDataDomain = () => {\n      var _a;\n      for (const def of iterate(keyDefs, valueDefs)) {\n        if (def.valueType === \"category\") {\n          dataDomain.set(def, new DiscreteDomain());\n        } else {\n          dataDomain.set(def, new ContinuousDomain());\n          allScopesHaveSameDefs && (allScopesHaveSameDefs = ((_a = def.scopes) != null ? _a : []).length === scopes.size);\n        }\n      }\n    };\n    initDataDomain();\n    const accessors = this.buildAccessors(iterate(keyDefs, valueDefs));\n    const processValue = (def, datum, previousDatum, scope) => {\n      var _a, _b, _c, _d, _e;\n      let valueInDatum;\n      let value;\n      if (accessors.has(def.property)) {\n        try {\n          value = accessors.get(def.property)(datum);\n        } catch (error) {\n        }\n        valueInDatum = value != null;\n      } else {\n        valueInDatum = def.property in datum;\n        value = valueInDatum ? datum[def.property] : def.missingValue;\n      }\n      if (def.forceValue != null) {\n        const valueNegative = valueInDatum && isNegative(value);\n        value = valueNegative ? -1 * def.forceValue : def.forceValue;\n        valueInDatum = true;\n      }\n      const missingValueDef = \"missingValue\" in def;\n      if (!valueInDatum && !missingValueDef) {\n        const missCount = (_a = def.missing.get(scope)) != null ? _a : 0;\n        def.missing.set(scope, missCount + 1);\n      }\n      if (!dataDomain.has(def)) {\n        initDataDomain();\n      }\n      if (valueInDatum && !((_c = (_b = def.validation) == null ? void 0 : _b.call(def, value, datum)) != null ? _c : true)) {\n        if (\"invalidValue\" in def) {\n          value = def.invalidValue;\n        } else {\n          if (this.mode !== \"integrated\") {\n            Logger.warnOnce(`invalid value of type [${typeof value}] ignored:`, `[${value}]`);\n          }\n          return INVALID_VALUE;\n        }\n      }\n      if (def.processor) {\n        if (!processorFns.has(def)) {\n          processorFns.set(def, def.processor());\n        }\n        value = (_d = processorFns.get(def)) == null ? void 0 : _d(value, previousDatum === INVALID_VALUE ? void 0 : previousDatum);\n      }\n      (_e = dataDomain.get(def)) == null ? void 0 : _e.extend(value);\n      return value;\n    };\n    return { dataDomain, processValue, initDataDomain, scopes, allScopesHaveSameDefs };\n  }\n  buildAccessors(defs) {\n    const result = /* @__PURE__ */ new Map();\n    if (this.mode === \"integrated\") {\n      return result;\n    }\n    for (const def of defs) {\n      const isPath = def.property.includes(\".\") || def.property.includes(\"[\");\n      if (!isPath)\n        continue;\n      let fnBody;\n      if (def.property.startsWith(\"[\")) {\n        fnBody = `return datum${def.property};`;\n      } else {\n        fnBody = `return datum.${def.property};`;\n      }\n      result.set(def.property, new Function(\"datum\", fnBody));\n    }\n    return result;\n  }\n};\nfunction logProcessedData(processedData) {\n  var _a, _b;\n  const logValues = (name, data) => {\n    if (data.length > 0) {\n      Logger.log(`DataModel.processData() - ${name}`);\n      Logger.table(data);\n    }\n  };\n  Logger.log(\"DataModel.processData() - processedData\", processedData);\n  logValues(\"Key Domains\", processedData.domain.keys);\n  logValues(\"Group Domains\", (_a = processedData.domain.groups) != null ? _a : []);\n  logValues(\"Value Domains\", processedData.domain.values);\n  logValues(\"Aggregate Domains\", (_b = processedData.domain.aggValues) != null ? _b : []);\n  if (processedData.type === \"grouped\") {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2, _b2;\n      const keys = (_a2 = next.keys) != null ? _a2 : [];\n      const aggValues = (_b2 = next.aggValues) != null ? _b2 : [];\n      const skipKeys = next.keys.map(() => void 0);\n      const skipAggValues = aggValues == null ? void 0 : aggValues.map(() => void 0);\n      acc.push(\n        ...next.values.map((v, i) => [\n          ...i === 0 ? keys : skipKeys,\n          ...v != null ? v : [],\n          ...i == 0 ? aggValues : skipAggValues\n        ])\n      );\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  } else {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2;\n      const aggValues = (_a2 = next.aggValues) != null ? _a2 : [];\n      acc.push([...next.keys, ...next.values, ...aggValues]);\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  }\n}\nvar _DataController = class _DataController2 {\n  constructor(mode) {\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.requested = [];\n    this.status = \"setup\";\n  }\n  request(id, data, opts) {\n    return __async(this, null, function* () {\n      if (this.status !== \"setup\") {\n        throw new Error(`AG Charts - data request after data setup phase.`);\n      }\n      return new Promise((resolve, reject) => {\n        this.requested.push({ id, opts, data, resolve, reject });\n      });\n    });\n  }\n  execute() {\n    if (this.status !== \"setup\") {\n      throw new Error(`AG Charts - data request after data setup phase.`);\n    }\n    this.status = \"executed\";\n    this.debug(\"DataController.execute() - requested\", this.requested);\n    const valid = this.validateRequests(this.requested);\n    this.debug(\"DataController.execute() - validated\", valid);\n    const merged = this.mergeRequested(valid);\n    this.debug(\"DataController.execute() - merged\", merged);\n    if (this.debug.check()) {\n      getWindow().processedData = [];\n    }\n    const scopes = this.requested.map(({ id }) => id);\n    const needsValueExtraction = this.hasMultipleDataSources(valid);\n    for (const { opts, data, resolves, rejects, ids } of merged) {\n      try {\n        const dataModel = new DataModel(opts, this.mode);\n        const processedData = dataModel.processData(data, valid);\n        if (this.debug.check()) {\n          getWindow(\"processedData\").push(processedData);\n        }\n        if ((processedData == null ? void 0 : processedData.partialValidDataCount) === 0) {\n          resolves.forEach(\n            (resolve, requestIdx) => resolve({\n              dataModel,\n              processedData: this.processScopedData(\n                ids[requestIdx],\n                processedData,\n                scopes,\n                needsValueExtraction\n              )\n            })\n          );\n        } else if (processedData) {\n          this.splitResult(dataModel, processedData, ids, resolves);\n        } else {\n          rejects.forEach((cb) => cb(new Error(`AG Charts - no processed data generated`)));\n        }\n      } catch (error) {\n        rejects.forEach((cb) => cb(error));\n      }\n    }\n  }\n  hasMultipleDataSources(validRequests) {\n    if (validRequests.length) {\n      const [{ data }, ...restRequests] = validRequests;\n      return restRequests.some((v) => data !== v.data);\n    }\n    return false;\n  }\n  processScopedData(id, processedData, ids, needsValueExtraction) {\n    const extractDatum = (datum) => {\n      if (Array.isArray(datum)) {\n        return datum.map(extractDatum);\n      }\n      const extracted = needsValueExtraction ? __spreadValues2(__spreadValues2({}, datum), datum[id]) : datum;\n      for (const otherId of ids) {\n        delete extracted[otherId];\n      }\n      return extracted;\n    };\n    const extractValues = (values) => {\n      var _a;\n      if (Array.isArray(values)) {\n        return values.map(extractValues);\n      }\n      return (_a = values == null ? void 0 : values[id]) != null ? _a : values;\n    };\n    return __spreadProps(__spreadValues2({}, processedData), {\n      data: processedData.data.map((datum) => {\n        var _a;\n        return __spreadProps(__spreadValues2({}, datum), {\n          datum: extractDatum(datum.datum),\n          values: needsValueExtraction ? (_a = datum.values) == null ? void 0 : _a.map(extractValues) : datum.values\n        });\n      })\n    });\n  }\n  validateRequests(requested) {\n    const valid = [];\n    for (const [index, request] of requested.entries()) {\n      if (index > 0 && request.data.length !== requested[0].data.length && request.opts.groupByData === false) {\n        request.reject(\n          new Error(\"all series[].data arrays must be of the same length and have matching keys.\")\n        );\n      } else {\n        valid.push(request);\n      }\n    }\n    return valid;\n  }\n  mergeRequested(requested) {\n    const grouped = [];\n    for (const request of requested) {\n      const match = grouped.find(_DataController2.groupMatch(request));\n      if (match) {\n        match.push(request);\n      } else {\n        grouped.push([request]);\n      }\n    }\n    return grouped.map(_DataController2.mergeRequests);\n  }\n  splitResult(dataModel, processedData, scopes, resolves) {\n    for (let i = 0; i < scopes.length; i++) {\n      const scope = scopes[i];\n      const resolve = resolves[i];\n      resolve({\n        dataModel,\n        processedData: __spreadProps(__spreadValues2({}, processedData), {\n          data: processedData.data.filter(({ validScopes }) => {\n            var _a;\n            return (_a = validScopes == null ? void 0 : validScopes.has(scope)) != null ? _a : true;\n          })\n        })\n      });\n    }\n  }\n  static groupMatch({ data, opts }) {\n    function keys(props) {\n      return props.filter((p) => p.type === \"key\").map((p) => p.property).join(\";\");\n    }\n    return ([group2]) => (opts.groupByData === false || group2.data === data) && group2.opts.groupByKeys === opts.groupByKeys && group2.opts.groupByFn === opts.groupByFn && keys(group2.opts.props) === keys(opts.props);\n  }\n  static mergeRequests(requests) {\n    return requests.reduce(\n      (result, _a) => {\n        var { id, data, resolve, reject, opts: _b } = _a, _c = _b, { props } = _c, opts = __objRest(_c, [\"props\"]);\n        var _a2, _b2, _c2, _d, _e;\n        result.ids.push(id);\n        result.rejects.push(reject);\n        result.resolves.push(resolve);\n        (_a2 = result.data) != null ? _a2 : result.data = data;\n        (_b2 = result.opts) != null ? _b2 : result.opts = __spreadProps(__spreadValues2({}, opts), { props: [] });\n        for (const prop of props) {\n          const clone = __spreadProps(__spreadValues2({}, prop), { scopes: [id] });\n          _DataController2.createIdsMap(id, clone);\n          const match = result.opts.props.find(\n            (existing) => existing.type === clone.type && _DataController2.deepEqual(existing, clone)\n          );\n          if (!match) {\n            result.opts.props.push(clone);\n            continue;\n          }\n          (_c2 = match.scopes) != null ? _c2 : match.scopes = [];\n          match.scopes.push(...(_d = clone.scopes) != null ? _d : []);\n          if ((match.type === \"key\" || match.type === \"value\") && ((_e = clone.idsMap) == null ? void 0 : _e.size)) {\n            _DataController2.mergeIdsMap(clone.idsMap, match.idsMap);\n          }\n        }\n        return result;\n      },\n      { ids: [], rejects: [], resolves: [], data: null, opts: null }\n    );\n  }\n  static mergeIdsMap(fromMap, toMap) {\n    for (const [scope, ids] of fromMap) {\n      if (toMap.has(scope)) {\n        for (const id of ids) {\n          toMap.get(scope).add(id);\n        }\n      } else {\n        toMap.set(scope, new Set(ids));\n      }\n    }\n  }\n  static createIdsMap(scope, prop) {\n    var _a;\n    if (prop.id == null)\n      return;\n    (_a = prop.idsMap) != null ? _a : prop.idsMap = /* @__PURE__ */ new Map();\n    if (prop.idsMap.has(scope)) {\n      prop.idsMap.get(scope).add(prop.id);\n    } else {\n      prop.idsMap.set(scope, /* @__PURE__ */ new Set([prop.id]));\n    }\n  }\n  static deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a && b && typeof a == \"object\" && typeof b == \"object\") {\n      if (a.constructor !== b.constructor) {\n        return false;\n      }\n      let i, length;\n      if (Array.isArray(a)) {\n        length = a.length;\n        if (length !== b.length) {\n          return false;\n        }\n        for (i = length - 1; i >= 0; i--) {\n          if (!_DataController2.deepEqual(a[i], b[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      const keys = Object.keys(a);\n      length = keys.length;\n      if (length !== Object.keys(b).length) {\n        return false;\n      }\n      for (i = length - 1; i >= 0; i--) {\n        const key = keys[i];\n        if (!_DataController2.skipKeys.has(key) && (!Object.hasOwn(b, key) || !_DataController2.deepEqual(a[key], b[key]))) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n};\n_DataController.skipKeys = /* @__PURE__ */ new Set([\"id\", \"idsMap\", \"type\", \"scopes\"]);\nvar DataController = _DataController;\nvar _SyncManager = class _SyncManager2 extends BaseManager {\n  constructor(chart) {\n    super();\n    this.chart = chart;\n  }\n  subscribe(groupId = _SyncManager2.DEFAULT_GROUP) {\n    let syncGroup = this.get(groupId);\n    if (!syncGroup) {\n      syncGroup = /* @__PURE__ */ new Set();\n      _SyncManager2.chartsGroups.set(groupId, syncGroup);\n    }\n    syncGroup.add(this.chart);\n    return this;\n  }\n  unsubscribe(groupId = _SyncManager2.DEFAULT_GROUP) {\n    var _a;\n    (_a = this.get(groupId)) == null ? void 0 : _a.delete(this.chart);\n    return this;\n  }\n  getChart() {\n    return this.chart;\n  }\n  getGroup(groupId = _SyncManager2.DEFAULT_GROUP) {\n    const syncGroup = this.get(groupId);\n    return syncGroup ? Array.from(syncGroup) : [];\n  }\n  getGroupSiblings(groupId = _SyncManager2.DEFAULT_GROUP) {\n    return this.getGroup(groupId).filter((chart) => chart !== this.chart);\n  }\n  get(groupId) {\n    return _SyncManager2.chartsGroups.get(groupId);\n  }\n};\n_SyncManager.chartsGroups = /* @__PURE__ */ new Map();\n_SyncManager.DEFAULT_GROUP = Symbol(\"sync-group-default\");\nvar SyncManager = _SyncManager;\nvar ZoomManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.axisZoomManagers = /* @__PURE__ */ new Map();\n    this.state = new StateTracker(void 0, \"initial\");\n    this.rejectCallbacks = /* @__PURE__ */ new Map();\n  }\n  updateAxes(axes) {\n    var _a;\n    const zoomManagers = new Map(axes.map((axis) => [axis.id, this.axisZoomManagers.get(axis.id)]));\n    this.axisZoomManagers.clear();\n    for (const axis of axes) {\n      this.axisZoomManagers.set(axis.id, (_a = zoomManagers.get(axis.id)) != null ? _a : new AxisZoomManager(axis));\n    }\n    if (this.state.size > 0 && axes.length > 0) {\n      this.updateZoom(this.state.stateId(), this.state.stateValue());\n    }\n  }\n  updateZoom(callerId, newZoom, canChangeInitial = true, rejectCallback) {\n    var _a;\n    if (rejectCallback) {\n      this.rejectCallbacks.set(callerId, rejectCallback);\n    }\n    if (this.axisZoomManagers.size === 0) {\n      const stateId = this.state.stateId();\n      if (stateId === \"initial\" || stateId === callerId || canChangeInitial) {\n        this.state.set(callerId, newZoom);\n        if (stateId !== callerId) {\n          (_a = this.rejectCallbacks.get(stateId)) == null ? void 0 : _a(callerId);\n        }\n      } else {\n        rejectCallback == null ? void 0 : rejectCallback(stateId);\n      }\n      return;\n    }\n    this.state.set(callerId, newZoom);\n    this.axisZoomManagers.forEach((axis) => {\n      axis.updateZoom(callerId, newZoom == null ? void 0 : newZoom[axis.getDirection()]);\n    });\n    this.applyChanges(callerId);\n  }\n  updateAxisZoom(callerId, axisId, newZoom) {\n    var _a;\n    (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.updateZoom(callerId, newZoom);\n    this.applyChanges(callerId);\n  }\n  // Fire this event to signal to listeners that the view is changing through a zoom and/or pan change.\n  fireZoomPanStartEvent(callerId) {\n    this.listeners.dispatch(\"zoom-pan-start\", { type: \"zoom-pan-start\", callerId });\n  }\n  getZoom() {\n    let x;\n    let y;\n    this.axisZoomManagers.forEach((axis) => {\n      if (axis.getDirection() === \"x\") {\n        x != null ? x : x = axis.getZoom();\n      } else if (axis.getDirection() === \"y\") {\n        y != null ? y : y = axis.getZoom();\n      }\n    });\n    if (x || y) {\n      return { x, y };\n    }\n  }\n  getAxisZoom(axisId) {\n    var _a, _b;\n    return (_b = (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.getZoom()) != null ? _b : { min: 0, max: 1 };\n  }\n  getAxisZooms() {\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = {\n        direction: axis.getDirection(),\n        zoom: axis.getZoom()\n      };\n    }\n    return axes;\n  }\n  applyChanges(callerId) {\n    const changed = Array.from(this.axisZoomManagers.values(), (axis) => axis.applyChanges()).some(Boolean);\n    if (!changed) {\n      return;\n    }\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = axis.getZoom();\n    }\n    this.listeners.dispatch(\"zoom-change\", __spreadProps(__spreadValues2({ type: \"zoom-change\" }, this.getZoom()), { axes, callerId }));\n  }\n};\nvar AxisZoomManager = class {\n  constructor(axis) {\n    this.axis = axis;\n    const [min = 0, max = 1] = axis.visibleRange;\n    this.state = new StateTracker({ min, max });\n    this.currentZoom = this.state.stateValue();\n  }\n  getDirection() {\n    return this.axis.direction;\n  }\n  updateZoom(callerId, newZoom) {\n    this.state.set(callerId, newZoom);\n  }\n  getZoom() {\n    return deepClone(this.state.stateValue());\n  }\n  applyChanges() {\n    const prevZoom = this.currentZoom;\n    this.currentZoom = this.state.stateValue();\n    return prevZoom.min !== this.currentZoom.min || prevZoom.max !== this.currentZoom.max;\n  }\n};\nvar Keyboard = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], Keyboard.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(NUMBER)\n], Keyboard.prototype, \"tabIndex\", 2);\nfunction makeKeyboardPointerEvent(regionManager, bbox) {\n  regionManager.updateFocusIndicatorRect(bbox);\n  if (bbox !== void 0) {\n    const { x: offsetX, y: offsetY } = bbox.computeCenter();\n    return { type: \"keyboard\", offsetX, offsetY };\n  }\n  return void 0;\n}\nvar CARTESIAN_AXIS_POSITIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nvar CARTESIAN_AXIS_TYPES = [\n  \"category\",\n  \"grouped-category\",\n  \"ordinal-time\",\n  \"number\",\n  \"log\",\n  \"time\"\n];\nfunction hasCartesianAxisPosition(axis) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(axis.type);\n}\nfunction isCartesianAxisOptions(options) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(options.type);\n}\nfunction isAxisPosition(position) {\n  const allowedPositions = CARTESIAN_AXIS_POSITIONS;\n  return typeof position === \"string\" && allowedPositions.includes(position);\n}\nvar AxisPositionGuesser = class {\n  constructor() {\n    this.result = [];\n    this.valid = [];\n    this.invalid = [];\n  }\n  push(axis, options) {\n    const { result, valid, invalid } = this;\n    if (isCartesianAxisOptions(options)) {\n      if (isAxisPosition(options.position)) {\n        valid.push(axis);\n      } else {\n        invalid.push(axis);\n      }\n    }\n    result.push(axis);\n  }\n  guessInvalidPositions() {\n    const takenPosition = this.valid.filter((v) => hasCartesianAxisPosition(v)).map((v) => v.position).filter((v) => v !== void 0);\n    const guesses = [\"top\", \"right\", \"bottom\", \"left\"];\n    for (const invalidAxis of this.invalid) {\n      let nextGuess = guesses.pop();\n      while (takenPosition.includes(nextGuess) && nextGuess !== void 0) {\n        nextGuess = guesses.pop();\n      }\n      if (nextGuess === void 0)\n        break;\n      invalidAxis.position = nextGuess;\n    }\n    return this.result;\n  }\n};\nvar MATCHING_KEYS = [\n  \"direction\",\n  \"xKey\",\n  \"yKey\",\n  \"sizeKey\",\n  \"angleKey\",\n  \"radiusKey\",\n  \"normalizedTo\",\n  \"stacked\",\n  \"grouped\",\n  \"stackGroup\"\n];\nfunction matchSeriesOptions(series, optSeries, oldOptsSeries) {\n  var _a, _b, _c, _d;\n  const generateKey = (type, i) => {\n    const result = [type];\n    for (const key of MATCHING_KEYS) {\n      if (key in i && i[key] != null)\n        result.push(`${key}=${i[key]}`);\n    }\n    return result.join(\";\");\n  };\n  const seriesMap = /* @__PURE__ */ new Map();\n  let idx = 0;\n  for (const s of series) {\n    const key = generateKey(s.type, s.properties);\n    if (!seriesMap.has(key)) {\n      seriesMap.set(key, []);\n    }\n    (_a = seriesMap.get(key)) == null ? void 0 : _a.push([s, idx++]);\n  }\n  const optsMap = /* @__PURE__ */ new Map();\n  for (const o of optSeries) {\n    const key = generateKey(o.type, o);\n    if (!optsMap.has(key)) {\n      optsMap.set(key, []);\n    }\n    (_b = optsMap.get(key)) == null ? void 0 : _b.push(o);\n  }\n  const overlap = [...seriesMap.keys()].some((k) => optsMap.has(k));\n  if (!overlap) {\n    return { status: \"no-overlap\", oldKeys: seriesMap.keys(), newKeys: optsMap.keys() };\n  }\n  const changes = [];\n  let targetIdx = -1;\n  for (const [key, optArray] of optsMap.entries()) {\n    for (const opts of optArray) {\n      targetIdx++;\n      const seriesArray = seriesMap.get(key);\n      if (seriesArray == null || seriesArray.length < 1) {\n        changes.push({ opts, idx: targetIdx, status: \"add\" });\n        seriesMap.delete(key);\n        continue;\n      }\n      const [outputSeries, outputIdx] = seriesArray.shift();\n      const previousOpts = (_c = oldOptsSeries == null ? void 0 : oldOptsSeries[outputIdx]) != null ? _c : {};\n      const diff2 = jsonDiff(previousOpts, opts != null ? opts : {});\n      const { groupIndex, stackIndex } = (_d = diff2 == null ? void 0 : diff2.seriesGrouping) != null ? _d : {};\n      if (groupIndex != null || stackIndex != null) {\n        changes.push({ opts, series: outputSeries, diff: diff2, idx: outputIdx, status: \"series-grouping\" });\n      } else if (diff2) {\n        changes.push({ opts, series: outputSeries, diff: diff2, idx: outputIdx, status: \"update\" });\n      } else {\n        changes.push({ opts, series: outputSeries, idx: outputIdx, status: \"no-op\" });\n      }\n      if (seriesArray.length === 0) {\n        seriesMap.delete(key);\n      }\n    }\n  }\n  for (const seriesArray of seriesMap.values()) {\n    for (const [outputSeries, outputIdx] of seriesArray) {\n      changes.push({ series: outputSeries, idx: outputIdx, status: \"remove\" });\n    }\n  }\n  return { status: \"overlap\", changes };\n}\nvar ModulesManager = class extends ModuleMap {\n  applyOptions(options) {\n    for (const m of this.moduleMap.values()) {\n      if (m.module.optionsKey in options && isProperties(m.moduleInstance)) {\n        m.moduleInstance.set(options[m.module.optionsKey]);\n      }\n    }\n  }\n  *legends() {\n    for (const { module, moduleInstance } of this.moduleMap.values()) {\n      if (module.type !== \"legend\")\n        continue;\n      yield {\n        legendType: module.identifier,\n        legend: moduleInstance\n      };\n    }\n  }\n};\nvar DEFAULT_OVERLAY_CLASS = \"ag-chart-overlay\";\nvar DEFAULT_OVERLAY_DARK_CLASS = \"ag-chart-dark-overlay\";\nvar Overlay = class extends BaseProperties {\n  constructor(className, defaultText) {\n    super();\n    this.className = className;\n    this.defaultText = defaultText;\n    this.darkTheme = false;\n  }\n  getText() {\n    var _a;\n    return (_a = this.text) != null ? _a : this.defaultText;\n  }\n  getElement(animationManager, rect) {\n    var _a;\n    (_a = this.element) != null ? _a : this.element = createElement(\"div\", DEFAULT_OVERLAY_CLASS, { position: \"absolute\" });\n    this.element.classList.toggle(DEFAULT_OVERLAY_DARK_CLASS, this.darkTheme);\n    this.focusBox = rect;\n    const element2 = this.element;\n    element2.style.left = `${rect.x}px`;\n    element2.style.top = `${rect.y}px`;\n    element2.style.width = `${rect.width}px`;\n    element2.style.height = `${rect.height}px`;\n    if (this.renderer) {\n      const htmlContent = this.renderer();\n      if (htmlContent instanceof HTMLElement) {\n        element2.replaceChildren(htmlContent);\n      } else {\n        element2.innerHTML = htmlContent;\n      }\n    } else {\n      const content = createElement(\"div\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        margin: \"8px\",\n        font: \"12px Verdana, sans-serif\"\n      });\n      content.innerText = this.getText();\n      element2.replaceChildren(content);\n      animationManager == null ? void 0 : animationManager.animate({\n        from: 0,\n        to: 1,\n        id: \"overlay\",\n        phase: \"add\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.style.opacity = \"1\";\n        }\n      });\n    }\n    return this.element;\n  }\n  removeElement(animationManager) {\n    if (!this.element)\n      return;\n    if (animationManager) {\n      const { element: element2 } = this;\n      animationManager.animate({\n        from: 1,\n        to: 0,\n        phase: \"remove\",\n        id: \"overlay\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.remove();\n        }\n      });\n    } else {\n      this.element.remove();\n    }\n    this.element = void 0;\n    this.focusBox = void 0;\n  }\n};\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], Overlay.prototype, \"text\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], Overlay.prototype, \"renderer\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], Overlay.prototype, \"darkTheme\", 2);\nvar ChartOverlays = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.loading = new Overlay(\"ag-chart-loading-overlay\", \"Loading data...\");\n    this.noData = new Overlay(\"ag-chart-no-data-overlay\", \"No data to display\");\n    this.noVisibleSeries = new Overlay(\"ag-chart-no-visible-series\", \"No visible series\");\n  }\n  getFocusInfo() {\n    for (const overlay of [this.loading, this.noData, this.noVisibleSeries]) {\n      if (overlay.focusBox !== void 0) {\n        return { text: overlay.getText(), rect: overlay.focusBox };\n      }\n    }\n    return void 0;\n  }\n  destroy() {\n    this.loading.removeElement();\n    this.noData.removeElement();\n    this.noVisibleSeries.removeElement();\n  }\n};\n__decorateClass2([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"loading\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"noData\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"noVisibleSeries\", 2);\nvar defaultOverlayCss = `\n.${DEFAULT_OVERLAY_CLASS} {\n    color: #181d1f;\n}\n\n.${DEFAULT_OVERLAY_CLASS}.${DEFAULT_OVERLAY_DARK_CLASS} {\n    color: #ffffff;\n}\n\n.${DEFAULT_OVERLAY_CLASS}--loading {\n    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */\n}\n\n.${DEFAULT_OVERLAY_CLASS}__loading-background {\n    background: white; /* DEFAULT_BACKGROUND_FILL */\n}\n\n.${DEFAULT_OVERLAY_CLASS}.${DEFAULT_OVERLAY_DARK_CLASS} .${DEFAULT_OVERLAY_CLASS}__loading-background {\n    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */\n}\n`;\nfunction getLoadingSpinner(text, defaultDuration) {\n  const { animationDuration } = PHASE_METADATA[\"add\"];\n  const duration = animationDuration * defaultDuration;\n  const container = createElement(\"div\", `${DEFAULT_OVERLAY_CLASS}--loading`, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    boxSizing: \"border-box\",\n    font: \"13px Verdana, sans-serif\",\n    // FONT_SIZE.MEDIUM\n    userSelect: \"none\",\n    animation: `ag-charts-loading ${duration}ms linear 50ms both`\n  });\n  const matrix = createElement(\"span\", {\n    width: \"45px\",\n    height: \"40px\",\n    backgroundImage: [\n      \"linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), \",\n      \"linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), \",\n      \"linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)\"\n    ].join(\"\"),\n    backgroundSize: \"10px 400%\",\n    backgroundRepeat: \"no-repeat\",\n    animation: \"ag-charts-loading-matrix 1s infinite linear\"\n  });\n  const label = createElement(\"p\", { marginTop: \"1em\" });\n  label.innerText = text;\n  const background = createElement(\"div\", `${DEFAULT_OVERLAY_CLASS}__loading-background`, {\n    position: \"absolute\",\n    inset: \"0\",\n    opacity: \"0.5\",\n    zIndex: \"-1\"\n  });\n  const animationStyles = createElement(\"style\");\n  animationStyles.innerText = [\n    \"@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }\",\n    \"@keyframes ag-charts-loading-matrix {\",\n    \"0% { background-position: 0% 0%, 50% 0%, 100% 0%; }\",\n    \"100% { background-position: 0% 100%, 50% 100%, 100% 100%; }\",\n    \"}\"\n  ].join(\" \");\n  container.replaceChildren(animationStyles, matrix, label, background);\n  injectStyle(defaultOverlayCss, \"chartOverlays\");\n  return container;\n}\nfunction sumValues(values, accumulator = [0, 0]) {\n  for (const value of values) {\n    if (typeof value !== \"number\") {\n      continue;\n    }\n    if (value < 0) {\n      accumulator[0] += value;\n    }\n    if (value > 0) {\n      accumulator[1] += value;\n    }\n  }\n  return accumulator;\n}\nfunction sum(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: (values) => sumValues(values)\n  };\n  return result;\n}\nfunction groupSum(id, matchGroupId) {\n  return {\n    id,\n    type: \"aggregate\",\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    aggregateFunction: (values) => sumValues(values),\n    groupAggregateFunction: (next, acc = [0, 0]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction range2(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: (values) => ContinuousDomain.extendDomain(values)\n  };\n  return result;\n}\nfunction groupCount(id) {\n  return {\n    id,\n    type: \"aggregate\",\n    aggregateFunction: () => [0, 1],\n    groupAggregateFunction: (next, acc = [0, 0]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction groupAverage(id, matchGroupId) {\n  const def = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: (values) => sumValues(values),\n    groupAggregateFunction: (next, acc = [0, 0, -1]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      acc[2]++;\n      return acc;\n    },\n    finalFunction: (acc = [0, 0, 0]) => {\n      const result = acc[0] + acc[1];\n      if (result >= 0) {\n        return [0, result / acc[2]];\n      }\n      return [result / acc[2], 0];\n    }\n  };\n  return def;\n}\nfunction area(id, aggFn, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: (values, keyRange = []) => {\n      const keyWidth = keyRange[1] - keyRange[0];\n      return aggFn.aggregateFunction(values).map((v) => v / keyWidth);\n    }\n  };\n  if (aggFn.groupAggregateFunction) {\n    result.groupAggregateFunction = aggFn.groupAggregateFunction;\n  }\n  return result;\n}\nfunction accumulatedValue(onlyPositive) {\n  return () => {\n    let value = 0;\n    return (datum) => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      value += onlyPositive ? Math.max(0, datum) : datum;\n      return value;\n    };\n  };\n}\nfunction trailingAccumulatedValue() {\n  return () => {\n    let value = 0;\n    return (datum) => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      const trailingValue = value;\n      value += datum;\n      return trailingValue;\n    };\n  };\n}\nvar SMALLEST_KEY_INTERVAL = {\n  type: \"reducer\",\n  property: \"smallestKeyInterval\",\n  initialValue: Infinity,\n  reducer: () => {\n    let prevX = NaN;\n    return (smallestSoFar = Infinity, next) => {\n      const nextX = next.keys[0];\n      const interval = Math.abs(nextX - prevX);\n      prevX = nextX;\n      if (!isNaN(interval) && interval > 0 && interval < smallestSoFar) {\n        return interval;\n      }\n      return smallestSoFar;\n    };\n  }\n};\nvar SORT_DOMAIN_GROUPS = {\n  type: \"processor\",\n  property: \"sortedGroupDomain\",\n  calculate: ({ domain: { groups } }) => groups == null ? void 0 : groups.slice().sort((a, b) => {\n    for (let i = 0; i < a.length; i++) {\n      const result = a[i] - b[i];\n      if (result !== 0) {\n        return result;\n      }\n    }\n    return 0;\n  })\n};\nfunction normaliseFnBuilder({ normaliseTo, mode }) {\n  const normalise = (val, extent22) => {\n    const result = val * normaliseTo / extent22;\n    if (result >= 0) {\n      return Math.min(normaliseTo, result);\n    }\n    return Math.max(-normaliseTo, result);\n  };\n  return () => () => (values, valueIndexes) => {\n    const valuesExtent = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const value = values[valueIdx];\n      const valIdx = value < 0 ? 0 : 1;\n      if (mode === \"sum\") {\n        valuesExtent[valIdx] += value;\n      } else if (valIdx === 0) {\n        valuesExtent[valIdx] = Math.min(valuesExtent[valIdx], value);\n      } else {\n        valuesExtent[valIdx] = Math.max(valuesExtent[valIdx], value);\n      }\n    }\n    const extent22 = Math.max(Math.abs(valuesExtent[0]), valuesExtent[1]);\n    for (const valueIdx of valueIndexes) {\n      values[valueIdx] = normalise(values[valueIdx], extent22);\n    }\n  };\n}\nfunction normaliseGroupTo(matchGroupIds, normaliseTo, mode = \"sum\") {\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds,\n    adjust: memo({ normaliseTo, mode }, normaliseFnBuilder)\n  };\n}\nfunction normalisePropertyFnBuilder({\n  normaliseTo,\n  zeroDomain,\n  rangeMin,\n  rangeMax\n}) {\n  const normaliseSpan = normaliseTo[1] - normaliseTo[0];\n  const normalise = (val, start, span) => {\n    const result = normaliseTo[0] + (val - start) / span * normaliseSpan;\n    if (span === 0) {\n      return zeroDomain;\n    } else if (result >= normaliseTo[1]) {\n      return normaliseTo[1];\n    } else if (result < normaliseTo[0]) {\n      return normaliseTo[0];\n    }\n    return result;\n  };\n  return () => (pData, pIdx) => {\n    let [start, end] = pData.domain.values[pIdx];\n    if (rangeMin != null)\n      start = rangeMin;\n    if (rangeMax != null)\n      end = rangeMax;\n    const span = end - start;\n    pData.domain.values[pIdx] = [normaliseTo[0], normaliseTo[1]];\n    for (const group2 of pData.data) {\n      let groupValues = group2.values;\n      if (pData.type === \"ungrouped\") {\n        groupValues = [groupValues];\n      }\n      for (const values of groupValues) {\n        values[pIdx] = normalise(values[pIdx], start, span);\n      }\n    }\n  };\n}\nfunction normalisePropertyTo(property, normaliseTo, zeroDomain, rangeMin, rangeMax) {\n  return {\n    type: \"property-value-processor\",\n    property,\n    adjust: memo({ normaliseTo, rangeMin, rangeMax, zeroDomain }, normalisePropertyFnBuilder)\n  };\n}\nfunction animationValidation(valueKeyIds) {\n  return {\n    type: \"processor\",\n    property: \"animationValidation\",\n    calculate(result) {\n      const { keys, values } = result.defs;\n      const { input, data } = result;\n      let uniqueKeys = true;\n      let orderedKeys = true;\n      const valueKeys = [];\n      for (let k = 0; k < values.length; k++) {\n        if (!(valueKeyIds == null ? void 0 : valueKeyIds.includes(values[k].id)))\n          continue;\n        valueKeys.push([k, values[k]]);\n      }\n      const processKey = (idx, def, type) => {\n        var _a;\n        if (def.valueType === \"category\") {\n          const keyValues = result.domain[type][idx];\n          uniqueKeys && (uniqueKeys = keyValues.length === input.count);\n          return;\n        }\n        let lastValue = (_a = data[0]) == null ? void 0 : _a[type][idx];\n        for (let d = 1; (uniqueKeys || orderedKeys) && d < data.length; d++) {\n          const keyValue = data[d][type][idx];\n          orderedKeys && (orderedKeys = lastValue <= keyValue);\n          uniqueKeys && (uniqueKeys = lastValue !== keyValue);\n          lastValue = keyValue;\n        }\n      };\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < keys.length; k++) {\n        processKey(k, keys[k], \"keys\");\n      }\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < valueKeys.length; k++) {\n        const [idx, key] = valueKeys[k];\n        processKey(idx, key, \"values\");\n      }\n      return { uniqueKeys, orderedKeys };\n    }\n  };\n}\nfunction buildGroupAccFn({ mode, separateNegative }) {\n  return () => () => (values, valueIndexes) => {\n    const acc = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const currentVal = values[valueIdx];\n      const accIndex = isNegative(currentVal) && separateNegative ? 0 : 1;\n      if (!isFiniteNumber(currentVal))\n        continue;\n      if (mode === \"normal\")\n        acc[accIndex] += currentVal;\n      values[valueIdx] = acc[accIndex];\n      if (mode === \"trailing\")\n        acc[accIndex] += currentVal;\n    }\n  };\n}\nfunction buildGroupWindowAccFn({ mode, sum: sum2 }) {\n  return () => {\n    const lastValues = [];\n    let firstRow = true;\n    return () => {\n      return (values, valueIndexes) => {\n        let acc = 0;\n        for (const valueIdx of valueIndexes) {\n          const currentVal = values[valueIdx];\n          const lastValue = firstRow && sum2 === \"current\" ? 0 : lastValues[valueIdx];\n          lastValues[valueIdx] = currentVal;\n          const sumValue = sum2 === \"current\" ? currentVal : lastValue;\n          if (!isFiniteNumber(currentVal) || !isFiniteNumber(lastValue)) {\n            values[valueIdx] = acc;\n            continue;\n          }\n          if (mode === \"normal\") {\n            acc += sumValue;\n          }\n          values[valueIdx] = acc;\n          if (mode === \"trailing\") {\n            acc += sumValue;\n          }\n        }\n        firstRow = false;\n      };\n    };\n  };\n}\nfunction accumulateGroup(matchGroupId, mode, sum2, separateNegative = false) {\n  let adjust;\n  if (mode.startsWith(\"window\")) {\n    const modeParam = mode.endsWith(\"-trailing\") ? \"trailing\" : \"normal\";\n    adjust = memo({ mode: modeParam, sum: sum2 }, buildGroupWindowAccFn);\n  } else {\n    adjust = memo({ mode, separateNegative }, buildGroupAccFn);\n  }\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds: [matchGroupId],\n    adjust\n  };\n}\nfunction diff(previousData, updateMovedData = true) {\n  return {\n    type: \"processor\",\n    property: \"diff\",\n    calculate: (processedData) => {\n      const moved = /* @__PURE__ */ new Map();\n      const added = /* @__PURE__ */ new Map();\n      const updated = /* @__PURE__ */ new Map();\n      const removed = /* @__PURE__ */ new Map();\n      const length = Math.max(previousData.data.length, processedData.data.length);\n      for (let i = 0; i < length; i++) {\n        const prev = previousData.data[i];\n        const datum = processedData.data[i];\n        const prevId = prev ? createDatumId(prev.keys) : \"\";\n        const datumId = datum ? createDatumId(datum.keys) : \"\";\n        if (datum && prev && prevId === datumId) {\n          if (!arraysEqual(prev.values, datum.values)) {\n            updated.set(datumId, datum);\n          }\n          continue;\n        }\n        if (removed.has(datumId)) {\n          if (updateMovedData || !arraysEqual(removed.get(datumId).values, datum.values)) {\n            updated.set(datumId, datum);\n            moved.set(datumId, datum);\n          }\n          removed.delete(datumId);\n        } else if (datum) {\n          added.set(datumId, datum);\n        }\n        if (added.has(prevId)) {\n          if (updateMovedData || !arraysEqual(added.get(prevId).values, prev.values)) {\n            updated.set(prevId, prev);\n            moved.set(prevId, prev);\n          }\n          added.delete(prevId);\n        } else if (prev) {\n          updated.delete(prevId);\n          removed.set(prevId, prev);\n        }\n      }\n      const changed = added.size > 0 || updated.size > 0 || removed.size > 0;\n      return { changed, added, updated, removed, moved };\n    }\n  };\n}\nfunction createDatumId(keys, ...extraKeys) {\n  let result;\n  if (isArray(keys)) {\n    result = keys.map((key) => transformIntegratedCategoryValue(key)).join(\"___\");\n  } else {\n    result = transformIntegratedCategoryValue(keys);\n  }\n  const primitiveType = typeof result === \"string\" || typeof result === \"number\" || result instanceof Date;\n  if (primitiveType && extraKeys.length > 0) {\n    result += `___${extraKeys.join(\"___\")}`;\n  }\n  return result;\n}\nvar SeriesNodePickMode = /* @__PURE__ */ ((SeriesNodePickMode2) => {\n  SeriesNodePickMode2[SeriesNodePickMode2[\"EXACT_SHAPE_MATCH\"] = 0] = \"EXACT_SHAPE_MATCH\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_AXIS_FIRST\"] = 1] = \"NEAREST_BY_MAIN_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\"] = 2] = \"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_NODE\"] = 3] = \"NEAREST_NODE\";\n  return SeriesNodePickMode2;\n})(SeriesNodePickMode || {});\nfunction basicContinuousCheckDatumValidation(value) {\n  return value != null && isContinuous(value);\n}\nfunction basicDiscreteCheckDatumValidation(value) {\n  return value != null;\n}\nfunction getValidationFn(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"ordinal-time\":\n    case \"time\":\n    case \"color\":\n      return basicContinuousCheckDatumValidation;\n    default:\n      return basicDiscreteCheckDatumValidation;\n  }\n}\nfunction getValueType(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"time\":\n    case \"color\":\n      return \"range\";\n    default:\n      return \"category\";\n  }\n}\nfunction keyProperty(propName, scaleType, opts = {}) {\n  const result = __spreadValues2({\n    property: propName,\n    type: \"key\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction valueProperty(propName, scaleType, opts = {}) {\n  const result = __spreadValues2({\n    property: propName,\n    type: \"value\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction rangedValueProperty(propName, opts = {}) {\n  const _a = opts, { min = -Infinity, max = Infinity } = _a, defOpts = __objRest(_a, [\"min\", \"max\"]);\n  return __spreadValues2({\n    type: \"value\",\n    property: propName,\n    valueType: \"range\",\n    validation: basicContinuousCheckDatumValidation,\n    processor: () => (datum) => isFiniteNumber(datum) ? clamp(min, datum, max) : datum\n  }, defOpts);\n}\nfunction accumulativeValueProperty(propName, scaleType, opts = {}) {\n  const _a = opts, { onlyPositive } = _a, defOpts = __objRest(_a, [\"onlyPositive\"]);\n  const result = __spreadProps(__spreadValues2({}, valueProperty(propName, scaleType, defOpts)), {\n    processor: accumulatedValue(onlyPositive)\n  });\n  return result;\n}\nfunction trailingAccumulatedValueProperty(propName, scaleType, opts = {}) {\n  const result = __spreadProps(__spreadValues2({}, valueProperty(propName, scaleType, opts)), {\n    processor: trailingAccumulatedValue()\n  });\n  return result;\n}\nfunction groupAccumulativeValueProperty(propName, mode, sum2 = \"current\", opts, scaleType) {\n  return [\n    valueProperty(propName, scaleType, opts),\n    accumulateGroup(opts.groupId, mode, sum2, opts.separateNegative),\n    ...opts.rangeId != null ? [range2(opts.rangeId, opts.groupId)] : []\n  ];\n}\nvar SeriesNodeEvent = class {\n  constructor(type, event, { datum }, series) {\n    this.type = type;\n    this.event = event;\n    this.datum = datum;\n    this.seriesId = series.id;\n  }\n};\nvar SeriesGroupingChangedEvent = class {\n  constructor(series, seriesGrouping, oldGrouping) {\n    this.series = series;\n    this.seriesGrouping = seriesGrouping;\n    this.oldGrouping = oldGrouping;\n    this.type = \"groupingChanged\";\n  }\n};\nvar Series = class extends Observable {\n  constructor(seriesOpts) {\n    super();\n    this.destroyFns = [];\n    this.seriesGrouping = void 0;\n    this.NodeEvent = SeriesNodeEvent;\n    this.internalId = createId(this);\n    this.rootGroup = new Group({ name: \"seriesRoot\", isVirtual: true });\n    this.axes = {\n      [\n        \"x\"\n        /* X */\n      ]: void 0,\n      [\n        \"y\"\n        /* Y */\n      ]: void 0\n    };\n    this.directions = [\n      \"x\",\n      \"y\"\n      /* Y */\n    ];\n    this.nodeDataRefresh = true;\n    this.moduleMap = new ModuleMap();\n    this._declarationOrder = -1;\n    this.seriesListeners = new Listeners();\n    const {\n      moduleCtx,\n      pickModes = [\n        1\n        /* NEAREST_BY_MAIN_AXIS_FIRST */\n      ],\n      directionKeys = {},\n      directionNames = {},\n      contentGroupVirtual = true,\n      canHaveAxes = false\n    } = seriesOpts;\n    this.ctx = moduleCtx;\n    this.directionKeys = directionKeys;\n    this.directionNames = directionNames;\n    this.canHaveAxes = canHaveAxes;\n    this.contentGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.internalId}-content`,\n        isVirtual: contentGroupVirtual,\n        zIndex: 4,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n      })\n    );\n    this.highlightGroup = new Group({\n      name: `${this.internalId}-highlight`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"highlight\")\n    });\n    this.highlightNode = this.highlightGroup.appendChild(new Group({ name: \"highlightNode\", zIndex: 0 }));\n    this.highlightLabel = this.highlightGroup.appendChild(new Group({ name: \"highlightLabel\", zIndex: 10 }));\n    this.pickModes = pickModes;\n    this.labelGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.internalId}-series-labels`,\n        zIndex: 8\n        /* SERIES_LABEL_ZINDEX */\n      })\n    );\n    this.annotationGroup = new Group({\n      name: `${this.id}-annotation`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"annotation\")\n    });\n  }\n  get id() {\n    var _a, _b;\n    return (_b = (_a = this.properties) == null ? void 0 : _a.id) != null ? _b : this.internalId;\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  get data() {\n    var _a;\n    return (_a = this._data) != null ? _a : this._chartData;\n  }\n  set visible(value) {\n    this.properties.visible = value;\n    this.visibleChanged();\n  }\n  get visible() {\n    return this.properties.visible;\n  }\n  get hasData() {\n    return this.data != null && this.data.length > 0;\n  }\n  get tooltipEnabled() {\n    var _a, _b;\n    return (_b = (_a = this.properties.tooltip) == null ? void 0 : _a.enabled) != null ? _b : false;\n  }\n  onDataChange() {\n    this.nodeDataRefresh = true;\n  }\n  setOptionsData(input) {\n    this._data = input;\n    this.onDataChange();\n  }\n  setChartData(input) {\n    this._chartData = input;\n    if (this.data === input) {\n      this.onDataChange();\n    }\n  }\n  onSeriesGroupingChange(prev, next) {\n    const { internalId, type, visible } = this;\n    if (prev) {\n      this.ctx.seriesStateManager.deregisterSeries({ id: internalId, type });\n    }\n    if (next) {\n      this.ctx.seriesStateManager.registerSeries({ id: internalId, type, visible, seriesGrouping: next });\n    }\n    this.fireEvent(new SeriesGroupingChangedEvent(this, next, prev));\n  }\n  getBandScalePadding() {\n    return { inner: 1, outer: 0 };\n  }\n  getGroupZIndexSubOrder(type, subIndex = 0) {\n    let mainAdjust = 0;\n    switch (type) {\n      case \"data\":\n      case \"paths\":\n        break;\n      case \"labels\":\n        mainAdjust += 2e4;\n        break;\n      case \"marker\":\n        mainAdjust += 1e4;\n        break;\n      case \"highlight\":\n        subIndex += 15e3;\n        break;\n      case \"annotation\":\n        mainAdjust += 15e3;\n        break;\n    }\n    const main = () => this._declarationOrder + mainAdjust;\n    return [main, subIndex];\n  }\n  addListener(type, listener) {\n    return this.seriesListeners.addListener(type, listener);\n  }\n  dispatch(type, event) {\n    this.seriesListeners.dispatch(type, event);\n  }\n  addChartEventListeners() {\n    return;\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n    this.destroyFns = [];\n    this.ctx.seriesStateManager.deregisterSeries(this);\n  }\n  getDirectionValues(direction, properties) {\n    const resolvedDirection = this.resolveKeyDirection(direction);\n    const keys = properties == null ? void 0 : properties[resolvedDirection];\n    const values = [];\n    if (!keys) {\n      return values;\n    }\n    const addValues = (...items) => {\n      for (const value of items) {\n        if (Array.isArray(value)) {\n          addValues(...value);\n        } else if (typeof value === \"object\") {\n          addValues(...Object.values(value));\n        } else {\n          values.push(value);\n        }\n      }\n    };\n    addValues(...keys.map((key) => this.properties[key]));\n    return values;\n  }\n  getKeys(direction) {\n    return this.getDirectionValues(direction, this.directionKeys);\n  }\n  getKeyProperties(direction) {\n    var _a;\n    return (_a = this.directionKeys[this.resolveKeyDirection(direction)]) != null ? _a : [];\n  }\n  getNames(direction) {\n    return this.getDirectionValues(direction, this.directionNames);\n  }\n  resolveKeyDirection(direction) {\n    return direction;\n  }\n  // The union of the series domain ('community') and series-option domains ('enterprise').\n  getDomain(direction) {\n    const seriesDomain = this.getSeriesDomain(direction);\n    const moduleDomains = this.moduleMap.mapModules((module) => module.getDomain(direction));\n    return seriesDomain.concat(moduleDomains.flat());\n  }\n  // Indicate that something external changed and we should recalculate nodeData.\n  markNodeDataDirty() {\n    this.nodeDataRefresh = true;\n  }\n  visibleChanged() {\n    this.ctx.seriesStateManager.registerSeries(this);\n  }\n  getOpacity() {\n    const defaultOpacity = 1;\n    const { dimOpacity = 1, enabled = true } = this.properties.highlightStyle.series;\n    if (!enabled || dimOpacity === defaultOpacity) {\n      return defaultOpacity;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 0:\n      case 1:\n        return defaultOpacity;\n      case 2:\n      default:\n        return dimOpacity;\n    }\n  }\n  getStrokeWidth(defaultStrokeWidth) {\n    const { strokeWidth, enabled = true } = this.properties.highlightStyle.series;\n    if (!enabled || strokeWidth === void 0) {\n      return defaultStrokeWidth;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 1:\n        return strokeWidth;\n      case 0:\n      case 2:\n        return defaultStrokeWidth;\n    }\n  }\n  isItemIdHighlighted() {\n    var _a, _b;\n    const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n    if (series == null) {\n      return 0;\n    }\n    if (series !== this) {\n      return 2;\n    }\n    return 1;\n  }\n  getModuleTooltipParams() {\n    return this.moduleMap.mapModules((module) => module.getTooltipParams()).reduce((total, current) => Object.assign(total, current), {});\n  }\n  pickNode(point, limitPickModes) {\n    const { pickModes, visible, rootGroup } = this;\n    if (!visible || !rootGroup.visible) {\n      return;\n    }\n    for (const pickMode of pickModes) {\n      if (limitPickModes && !limitPickModes.includes(pickMode)) {\n        continue;\n      }\n      let match;\n      switch (pickMode) {\n        case 0:\n          match = this.pickNodeExactShape(point);\n          break;\n        case 1:\n        case 2:\n          match = this.pickNodeMainAxisFirst(\n            point,\n            pickMode === 2\n            /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */\n          );\n          break;\n        case 3:\n          match = this.pickNodeClosestDatum(point);\n          break;\n      }\n      if (match) {\n        return { pickMode, match: match.datum, distance: match.distance };\n      }\n    }\n  }\n  pickNodeExactShape(point) {\n    const match = this.contentGroup.pickNode(point.x, point.y);\n    if (match && match.datum.missing !== true) {\n      return { datum: match.datum, distance: 0 };\n    }\n    return void 0;\n  }\n  pickNodeClosestDatum(_point) {\n    throw new Error(\"AG Charts - Series.pickNodeClosestDatum() not implemented\");\n  }\n  pickNodeNearestDistantObject(point, items) {\n    const match = nearestSquared(point.x, point.y, items);\n    if (match.nearest !== void 0 && match.nearest.datum.missing !== true) {\n      return { datum: match.nearest.datum, distance: Math.sqrt(match.distanceSquared) };\n    }\n    return void 0;\n  }\n  pickNodeMainAxisFirst(_point, _requireCategoryAxis) {\n    throw new Error(\"AG Charts - Series.pickNodeMainAxisFirst() not implemented\");\n  }\n  fireNodeClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeClick\", event, datum, this));\n  }\n  fireNodeDoubleClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeDoubleClick\", event, datum, this));\n  }\n  createNodeContextMenuActionEvent(event, datum) {\n    return new this.NodeEvent(\"nodeContextMenuAction\", event, datum, this);\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.visible = enabled;\n    this.nodeDataRefresh = true;\n    this.dispatch(\"visibility-changed\", { itemId, enabled });\n  }\n  isEnabled() {\n    return this.visible;\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    return __spreadProps(__spreadValues2({}, this.ctx), { series: this });\n  }\n  getLabelText(label, params, defaultFormatter = String) {\n    var _a;\n    if (label.formatter) {\n      return (_a = this.ctx.callbackCache.call(label.formatter, __spreadValues2({ seriesId: this.id }, params))) != null ? _a : defaultFormatter(params.value);\n    }\n    return defaultFormatter(params.value);\n  }\n  getMarkerStyle(marker, params, defaultStyle = marker.getStyle()) {\n    var _a, _b;\n    const defaultSize = { size: (_b = (_a = params.datum.point) == null ? void 0 : _a.size) != null ? _b : 0 };\n    const markerStyle = mergeDefaults(defaultSize, defaultStyle);\n    if (marker.formatter) {\n      const style = this.ctx.callbackCache.call(marker.formatter, __spreadProps(__spreadValues2(__spreadValues2({\n        seriesId: this.id\n      }, markerStyle), params), {\n        datum: params.datum.datum\n      }));\n      return mergeDefaults(style, markerStyle);\n    }\n    return markerStyle;\n  }\n  updateMarkerStyle(markerNode, marker, params, defaultStyle = marker.getStyle(), { applyTranslation = true } = {}) {\n    const { point } = params.datum;\n    const activeStyle = this.getMarkerStyle(marker, params, defaultStyle);\n    const visible = this.visible && activeStyle.size > 0 && point && !isNaN(point.x) && !isNaN(point.y);\n    if (applyTranslation) {\n      markerNode.setProperties(__spreadProps(__spreadValues2({ visible }, activeStyle), { translationX: point == null ? void 0 : point.x, translationY: point == null ? void 0 : point.y }));\n    } else {\n      markerNode.setProperties(__spreadValues2({ visible }, activeStyle));\n    }\n    if (typeof marker.shape === \"function\" && !markerNode.dirtyPath) {\n      markerNode.path.clear(true);\n      markerNode.updatePath();\n      markerNode.checkPathDirty();\n    }\n  }\n  getMinRects(_width, _height) {\n    return;\n  }\n  get nodeDataDependencies() {\n    var _a;\n    return (_a = this._nodeDataDependencies) != null ? _a : { seriesRectWidth: NaN, seriesRectHeight: NaN };\n  }\n  checkResize(newSeriesRect) {\n    const { width: seriesRectWidth, height: seriesRectHeight } = newSeriesRect != null ? newSeriesRect : { width: NaN, height: NaN };\n    const newNodeDataDependencies = newSeriesRect ? { seriesRectWidth, seriesRectHeight } : void 0;\n    const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n    if (resize) {\n      this._nodeDataDependencies = newNodeDataDependencies;\n      this.markNodeDataDirty();\n    }\n    return resize;\n  }\n  pickFocus(_opts) {\n    return void 0;\n  }\n};\nSeries.highlightedZIndex = 1e12;\n__decorateClass2([\n  ActionOnSet({\n    changeValue: function(newVal, oldVal) {\n      this.onSeriesGroupingChange(oldVal, newVal);\n    }\n  })\n], Series.prototype, \"seriesGrouping\", 2);\nvar SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION = 30;\nvar SeriesLayerManager = class {\n  constructor(seriesRoot, highlightRoot, annotationRoot) {\n    this.seriesRoot = seriesRoot;\n    this.highlightRoot = highlightRoot;\n    this.annotationRoot = annotationRoot;\n    this.groups = {};\n    this.series = {};\n    this.expectedSeriesCount = 1;\n    this.mode = \"normal\";\n  }\n  setSeriesCount(count) {\n    this.expectedSeriesCount = count;\n  }\n  requestGroup(seriesConfig) {\n    var _a, _b, _c, _d;\n    const {\n      internalId,\n      type,\n      rootGroup: seriesRootGroup,\n      highlightGroup: seriesHighlightGroup,\n      annotationGroup: seriesAnnotationGroup,\n      seriesGrouping\n    } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] != null) {\n      throw new Error(`AG Charts - series already has an allocated layer: ${this.series[internalId]}`);\n    }\n    if (Object.keys(this.series).length === 0) {\n      this.mode = this.expectedSeriesCount >= SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION ? \"aggressive-grouping\" : \"normal\";\n    }\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    const lookupIndex = this.lookupIdx(groupIndex);\n    let groupInfo = this.groups[type][lookupIndex];\n    if (!groupInfo) {\n      groupInfo = (_d = (_c = this.groups[type])[lookupIndex]) != null ? _d : _c[lookupIndex] = {\n        seriesIds: [],\n        group: this.seriesRoot.appendChild(\n          new Group({\n            name: `${type}-content`,\n            layer: true,\n            zIndex: 4,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"data\")\n          })\n        ),\n        highlight: this.highlightRoot.appendChild(\n          new Group({\n            name: `${type}-highlight`,\n            zIndex: 4,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"highlight\")\n          })\n        ),\n        annotation: this.annotationRoot.appendChild(\n          new Group({\n            name: `${type}-annotation`,\n            zIndex: 4,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"annotation\")\n          })\n        )\n      };\n    }\n    this.series[internalId] = { layerState: groupInfo, seriesConfig };\n    groupInfo.seriesIds.push(internalId);\n    groupInfo.group.appendChild(seriesRootGroup);\n    groupInfo.highlight.appendChild(seriesHighlightGroup);\n    groupInfo.annotation.appendChild(seriesAnnotationGroup);\n    return groupInfo.group;\n  }\n  changeGroup(seriesConfig) {\n    var _a, _b;\n    const { internalId, seriesGrouping, type, rootGroup, highlightGroup, annotationGroup, oldGrouping } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if ((_b = (_a = this.groups[type]) == null ? void 0 : _a[groupIndex]) == null ? void 0 : _b.seriesIds.includes(internalId)) {\n      return;\n    }\n    if (this.series[internalId] != null) {\n      this.releaseGroup({\n        internalId,\n        seriesGrouping: oldGrouping,\n        type,\n        rootGroup,\n        highlightGroup,\n        annotationGroup\n      });\n    }\n    this.requestGroup(seriesConfig);\n  }\n  releaseGroup(seriesConfig) {\n    var _a, _b, _c, _d, _e;\n    const { internalId, seriesGrouping, rootGroup, highlightGroup, annotationGroup, type } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] == null) {\n      throw new Error(`AG Charts - series doesn't have an allocated layer: ${internalId}`);\n    }\n    const lookupIndex = this.lookupIdx(groupIndex);\n    const groupInfo = (_c = (_a = this.groups[type]) == null ? void 0 : _a[lookupIndex]) != null ? _c : (_b = this.series[internalId]) == null ? void 0 : _b.layerState;\n    if (groupInfo) {\n      groupInfo.seriesIds = groupInfo.seriesIds.filter((v) => v !== internalId);\n      groupInfo.group.removeChild(rootGroup);\n      groupInfo.highlight.removeChild(highlightGroup);\n      groupInfo.annotation.removeChild(annotationGroup);\n    }\n    if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) === 0) {\n      this.seriesRoot.removeChild(groupInfo.group);\n      this.highlightRoot.removeChild(groupInfo.highlight);\n      this.annotationRoot.removeChild(groupInfo.annotation);\n      delete this.groups[type][lookupIndex];\n      delete this.groups[type][internalId];\n    } else if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) > 0) {\n      const leadSeriesConfig = (_e = this.series[(_d = groupInfo == null ? void 0 : groupInfo.seriesIds) == null ? void 0 : _d[0]]) == null ? void 0 : _e.seriesConfig;\n      groupInfo.group.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"data\");\n      groupInfo.highlight.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"highlight\");\n      groupInfo.annotation.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"annotation\");\n    }\n    delete this.series[internalId];\n  }\n  lookupIdx(groupIndex) {\n    if (this.mode === \"normal\") {\n      return groupIndex;\n    }\n    if (typeof groupIndex === \"string\") {\n      groupIndex = Number(groupIndex.split(\"-\").slice(-1)[0]);\n      if (!groupIndex) {\n        return 0;\n      }\n    }\n    return Math.floor(\n      clamp(0, groupIndex / this.expectedSeriesCount, 1) * SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION\n    );\n  }\n  destroy() {\n    for (const groups of Object.values(this.groups)) {\n      for (const groupInfo of Object.values(groups)) {\n        this.seriesRoot.removeChild(groupInfo.group);\n        this.highlightRoot.removeChild(groupInfo.highlight);\n        this.annotationRoot.removeChild(groupInfo.annotation);\n      }\n    }\n    this.groups = {};\n    this.series = {};\n  }\n};\nvar BaseLayoutProcessor = class {\n  constructor(chartLike, layoutService) {\n    this.chartLike = chartLike;\n    this.layoutService = layoutService;\n    this.destroyFns = [];\n    this.destroyFns.push(\n      // eslint-disable-next-line sonarjs/no-duplicate-string\n      this.layoutService.addListener(\"start-layout\", (e) => this.positionPadding(e.shrinkRect)),\n      this.layoutService.addListener(\"start-layout\", (e) => this.positionCaptions(e.shrinkRect))\n    );\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  positionPadding(shrinkRect) {\n    const { padding } = this.chartLike;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    return { shrinkRect };\n  }\n  positionCaptions(shrinkRect) {\n    var _a, _b;\n    const { title, subtitle, footnote } = this.chartLike;\n    const newShrinkRect = shrinkRect.clone();\n    const updateCaption = (caption) => {\n      var _a2;\n      const defaultCaptionHeight = shrinkRect.height / 10;\n      const captionLineHeight = (_a2 = caption.lineHeight) != null ? _a2 : caption.fontSize * Text.defaultLineHeightRatio;\n      const maxWidth = shrinkRect.width;\n      const maxHeight = Math.max(captionLineHeight, defaultCaptionHeight);\n      caption.computeTextWrap(maxWidth, maxHeight);\n    };\n    const computeX = (align) => {\n      if (align === \"left\") {\n        return newShrinkRect.x;\n      } else if (align === \"right\") {\n        return newShrinkRect.x + newShrinkRect.width;\n      } else if (align !== \"center\") {\n        Logger.error(`invalid textAlign value: ${align}`);\n      }\n      return newShrinkRect.x + newShrinkRect.width / 2;\n    };\n    const positionTopAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"top\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(bbox.y - baseY + bbox.height + spacing);\n      newShrinkRect.shrink(bboxHeight, \"top\");\n    };\n    const positionBottomAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y + newShrinkRect.height;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"bottom\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(baseY - bbox.y + spacing);\n      newShrinkRect.shrink(bboxHeight, \"bottom\");\n    };\n    title.node.visible = title.enabled;\n    subtitle.node.visible = subtitle.enabled;\n    footnote.node.visible = footnote.enabled;\n    if (title.enabled) {\n      const { spacing = subtitle.enabled ? Caption.SMALL_PADDING : Caption.LARGE_PADDING } = title;\n      positionTopAndShrinkBBox(title, spacing);\n    }\n    if (subtitle.enabled) {\n      positionTopAndShrinkBBox(subtitle, (_a = subtitle.spacing) != null ? _a : 0);\n    }\n    if (footnote.enabled) {\n      positionBottomAndShrinkBBox(footnote, (_b = footnote.spacing) != null ? _b : 0);\n    }\n    return { shrinkRect: newShrinkRect };\n  }\n};\nvar DataWindowProcessor = class {\n  constructor(chart, dataService, updateService, zoomManager) {\n    this.chart = chart;\n    this.dataService = dataService;\n    this.updateService = updateService;\n    this.zoomManager = zoomManager;\n    this.dirtyZoom = false;\n    this.dirtyDataSource = false;\n    this.lastAxisZooms = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(\n      this.dataService.addListener(\"data-source-change\", () => this.onDataSourceChange()),\n      this.dataService.addListener(\"data-load\", () => this.onDataLoad()),\n      this.dataService.addListener(\"data-error\", () => this.onDataError()),\n      this.updateService.addListener(\"update-complete\", () => this.onUpdateComplete()),\n      this.zoomManager.addListener(\"zoom-change\", () => this.onZoomChange())\n    );\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  onDataLoad() {\n    this.updateService.update(\n      1\n      /* UPDATE_DATA */\n    );\n  }\n  onDataError() {\n    this.updateService.update(\n      3\n      /* PERFORM_LAYOUT */\n    );\n  }\n  onDataSourceChange() {\n    this.dirtyDataSource = true;\n  }\n  onUpdateComplete() {\n    if (!this.dirtyZoom && !this.dirtyDataSource)\n      return;\n    this.updateWindow().catch((e) => Logger.errorOnce(e));\n  }\n  onZoomChange() {\n    this.dirtyZoom = true;\n  }\n  updateWindow() {\n    return __async(this, null, function* () {\n      if (!this.dataService.isLazy())\n        return;\n      const axis = this.getValidAxis();\n      let window2;\n      let shouldRefresh = true;\n      if (axis) {\n        const zoom2 = this.zoomManager.getAxisZoom(axis.id);\n        window2 = this.getAxisWindow(axis, zoom2);\n        shouldRefresh = this.shouldRefresh(axis, zoom2);\n      }\n      this.dirtyZoom = false;\n      this.dirtyDataSource = false;\n      if (!shouldRefresh)\n        return;\n      this.dataService.load({ windowStart: window2 == null ? void 0 : window2.min, windowEnd: window2 == null ? void 0 : window2.max });\n    });\n  }\n  getValidAxis() {\n    return this.chart.axes.find((axis) => axis.type === \"time\");\n  }\n  shouldRefresh(axis, zoom2) {\n    if (this.dirtyDataSource)\n      return true;\n    if (!this.dirtyZoom)\n      return false;\n    const lastZoom = this.lastAxisZooms.get(axis.id);\n    if (lastZoom && zoom2.min === lastZoom.min && zoom2.max === lastZoom.max) {\n      return false;\n    }\n    this.lastAxisZooms.set(axis.id, zoom2);\n    return true;\n  }\n  getAxisWindow(axis, zoom2) {\n    var _a, _b;\n    const domain = (_b = (_a = axis.scale).getDomain) == null ? void 0 : _b.call(_a);\n    if (!zoom2 || !domain || domain.length === 0 || isNaN(Number(domain[0])))\n      return;\n    const diff2 = Number(domain[1]) - Number(domain[0]);\n    const min = new Date(Number(domain[0]) + diff2 * zoom2.min);\n    const max = new Date(Number(domain[0]) + diff2 * zoom2.max);\n    return { min, max };\n  }\n};\nvar OverlaysProcessor = class {\n  constructor(chartLike, overlays, dataService, layoutService, animationManager) {\n    this.chartLike = chartLike;\n    this.overlays = overlays;\n    this.dataService = dataService;\n    this.layoutService = layoutService;\n    this.animationManager = animationManager;\n    this.destroyFns = [];\n    this.destroyFns.push(this.layoutService.addListener(\"layout-complete\", (e) => this.onLayoutComplete(e)));\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  onLayoutComplete({ series: { rect } }) {\n    const isLoading = this.dataService.isLoading();\n    const hasData = this.chartLike.series.some((s) => s.hasData);\n    const anySeriesVisible = this.chartLike.series.some((s) => s.visible);\n    this.toggleOverlay(this.overlays.loading, rect, isLoading);\n    this.toggleOverlay(this.overlays.noData, rect, !isLoading && !hasData);\n    this.toggleOverlay(this.overlays.noVisibleSeries, rect, hasData && !anySeriesVisible);\n  }\n  toggleOverlay(overlay, seriesRect, visible) {\n    if (visible) {\n      const element2 = overlay.getElement(this.animationManager, seriesRect);\n      this.chartLike.element.append(element2);\n    } else {\n      overlay.removeElement(this.animationManager);\n    }\n  }\n};\nvar debug = Debug.create(true, \"opts\");\nvar SeriesArea = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.padding = new Padding(0);\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], SeriesArea.prototype, \"clip\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], SeriesArea.prototype, \"padding\", 2);\nvar _Chart = class _Chart2 extends Observable {\n  constructor(options, resources) {\n    var _a, _b, _c;\n    super();\n    this.id = createId(this);\n    this.seriesRoot = new Group({ name: `${this.id}-series-root` });\n    this.highlightRoot = new Group({\n      name: `${this.id}-highlight-root`,\n      layer: true,\n      zIndex: 5,\n      nonEmptyChildDerivedZIndex: true\n    });\n    this.annotationRoot = new Group({\n      name: `${this.id}-annotation-root`,\n      layer: true,\n      zIndex: 10\n      /* SERIES_ANNOTATION_ZINDEX */\n    });\n    this.debug = Debug.create();\n    this.extraDebugStats = {};\n    this.data = [];\n    this._firstAutoSize = true;\n    this.padding = new Padding(20);\n    this.seriesArea = new SeriesArea();\n    this.title = new Caption();\n    this.subtitle = new Caption();\n    this.footnote = new Caption();\n    this.keyboard = new Keyboard();\n    this.mode = \"standalone\";\n    this.destroyed = false;\n    this._skipSync = false;\n    this._destroyFns = [];\n    this.chartAnimationPhase = \"initial\";\n    this.modulesManager = new ModulesManager();\n    this.zoomManager = new ZoomManager();\n    this.processors = [];\n    this.processedOptions = {};\n    this.userOptions = {};\n    this.queuedUserOptions = [];\n    this._pendingFactoryUpdatesCount = 0;\n    this._performUpdateNoRenderCount = 0;\n    this._performUpdateSkipAnimations = false;\n    this.performUpdateType = 7;\n    this.updateShortcutCount = 0;\n    this.seriesToUpdate = /* @__PURE__ */ new Set();\n    this.updateMutex = new Mutex();\n    this.updateRequestors = {};\n    this.performUpdateTrigger = debouncedCallback((_0) => __async(this, [_0], function* ({ count }) {\n      if (this.destroyed)\n        return;\n      this.updateMutex.acquire(() => __async(this, null, function* () {\n        try {\n          yield this.performUpdate(count);\n        } catch (error) {\n          Logger.error(\"update error\", error);\n        }\n      })).catch((e) => Logger.errorOnce(e));\n    }));\n    this._performUpdateSplits = {};\n    this.axes = [];\n    this.series = [];\n    this.focus = { series: void 0, seriesIndex: 0, datumIndex: 0, datum: void 0 };\n    this.pointerScheduler = debouncedAnimationFrame(() => {\n      if (!this.lastInteractionEvent)\n        return;\n      if (this.performUpdateType <= 4) {\n        this.pointerScheduler.schedule();\n        return;\n      }\n      this.handlePointer(this.lastInteractionEvent, false);\n      this.lastInteractionEvent = void 0;\n    });\n    this.onSeriesNodeClick = (event) => {\n      const seriesNodeClickEvent = __spreadProps(__spreadValues2({}, event), {\n        type: \"seriesNodeClick\"\n      });\n      Object.defineProperty(seriesNodeClickEvent, \"series\", {\n        enumerable: false,\n        // Should display the deprecation warning\n        get: () => event.series\n      });\n      this.fireEvent(seriesNodeClickEvent);\n    };\n    this.onSeriesNodeDoubleClick = (event) => {\n      const seriesNodeDoubleClick = __spreadProps(__spreadValues2({}, event), {\n        type: \"seriesNodeDoubleClick\"\n      });\n      this.fireEvent(seriesNodeDoubleClick);\n    };\n    this.seriesGroupingChanged = (event) => {\n      if (!(event instanceof SeriesGroupingChangedEvent))\n        return;\n      const { series, seriesGrouping, oldGrouping } = event;\n      if (series.rootGroup.parent == null)\n        return;\n      this.seriesLayerManager.changeGroup({\n        internalId: series.internalId,\n        type: series.type,\n        rootGroup: series.rootGroup,\n        highlightGroup: series.highlightGroup,\n        annotationGroup: series.annotationGroup,\n        getGroupZIndexSubOrder: (type) => series.getGroupZIndexSubOrder(type),\n        seriesGrouping,\n        oldGrouping\n      });\n    };\n    this.dataProcessListeners = /* @__PURE__ */ new Set();\n    this.chartOptions = options;\n    let scene = resources == null ? void 0 : resources.scene;\n    const element2 = (_a = resources == null ? void 0 : resources.element) != null ? _a : createElement(\"div\", \"ag-chart-wrapper\", { position: \"relative\", userSelect: \"none\" });\n    const container = resources == null ? void 0 : resources.container;\n    this.element = element2;\n    const root = new Group({ name: \"root\" });\n    root.visible = false;\n    root.append(this.seriesRoot);\n    root.append(this.highlightRoot);\n    root.append(this.annotationRoot);\n    this.axisGridGroup = new Group({\n      name: \"Axes-Grids\",\n      layer: true,\n      zIndex: 1\n      /* AXIS_GRID_ZINDEX */\n    });\n    root.appendChild(this.axisGridGroup);\n    this.axisGroup = new Group({\n      name: \"Axes\",\n      layer: true,\n      zIndex: 2\n      /* AXIS_ZINDEX */\n    });\n    root.appendChild(this.axisGroup);\n    this.sizeMonitor = new SizeMonitor();\n    this.sizeMonitor.observe(this.element, (size) => this.rawResize(size));\n    const { overrideDevicePixelRatio } = options.specialOverrides;\n    scene != null ? scene : scene = new Scene({ pixelRatio: overrideDevicePixelRatio });\n    scene.setRoot(root).setContainer(element2);\n    this.autoSize = true;\n    this.tooltip = new Tooltip();\n    this.seriesLayerManager = new SeriesLayerManager(this.seriesRoot, this.highlightRoot, this.annotationRoot);\n    const ctx = this.ctx = new ChartContext(this, {\n      scene,\n      syncManager: new SyncManager(this),\n      element: element2,\n      updateCallback: (type = 0, opts) => this.update(type, opts),\n      updateMutex: this.updateMutex\n    });\n    this.overlays = new ChartOverlays();\n    (_c = (_b = this.overlays.loading).renderer) != null ? _c : _b.renderer = () => getLoadingSpinner(this.overlays.loading.getText(), ctx.animationManager.defaultDuration);\n    this.processors = [\n      new BaseLayoutProcessor(this, ctx.layoutService),\n      new DataWindowProcessor(this, ctx.dataService, ctx.updateService, ctx.zoomManager),\n      new OverlaysProcessor(this, this.overlays, ctx.dataService, ctx.layoutService, ctx.animationManager)\n    ];\n    this.highlight = new ChartHighlight();\n    this.container = container;\n    const { All } = InteractionState;\n    const moduleContext = this.getModuleContext();\n    const seriesRegion = ctx.regionManager.addRegion(\"series\", this.seriesRoot, this.axisGroup);\n    ctx.regionManager.addRegion(\"root\", root);\n    this._destroyFns.push(\n      ctx.dataService.addListener(\"data-load\", (event) => {\n        this.data = event.data;\n      }),\n      ctx.scene.attachNode(this.title.node),\n      ctx.scene.attachNode(this.subtitle.node),\n      ctx.scene.attachNode(this.footnote.node),\n      this.title.registerInteraction(moduleContext, \"title\"),\n      this.subtitle.registerInteraction(moduleContext, \"subtitle\"),\n      this.footnote.registerInteraction(moduleContext, \"footnote\"),\n      ctx.interactionManager.addListener(\"click\", (event) => this.onClick(event)),\n      ctx.interactionManager.addListener(\"dblclick\", (event) => this.onDoubleClick(event)),\n      seriesRegion.addListener(\"hover\", (event) => this.onMouseMove(event)),\n      seriesRegion.addListener(\"leave\", (event) => this.onLeave(event)),\n      seriesRegion.addListener(\"blur\", (event) => this.onBlur(event)),\n      seriesRegion.addListener(\"tab\", (event) => this.onTab(event)),\n      seriesRegion.addListener(\"nav-vert\", (event) => this.onNavVert(event)),\n      seriesRegion.addListener(\"nav-hori\", (event) => this.onNavHori(event)),\n      seriesRegion.addListener(\"submit\", (event) => this.onSubmit(event)),\n      ctx.regionManager.keyNavManager.addListener(\"browserfocus\", (event) => this.onBrowserFocus(event)),\n      ctx.interactionManager.addListener(\"page-left\", () => this.destroy()),\n      ctx.interactionManager.addListener(\"contextmenu\", (event) => this.onContextMenu(event), All),\n      ctx.animationManager.addListener(\"animation-frame\", () => {\n        this.update(\n          6\n          /* SCENE_RENDER */\n        );\n      }),\n      ctx.highlightManager.addListener(\"highlight-change\", (event) => this.changeHighlightDatum(event)),\n      ctx.zoomManager.addListener(\"zoom-pan-start\", () => this.resetPointer()),\n      ctx.zoomManager.addListener(\"zoom-change\", () => {\n        this.resetPointer();\n        this.series.map((s) => {\n          var _a2;\n          return (_a2 = s.animationState) == null ? void 0 : _a2.transition(\"updateData\");\n        });\n        const skipAnimations = this.chartAnimationPhase !== \"initial\";\n        this.update(3, { forceNodeDataRefresh: true, skipAnimations });\n      })\n    );\n  }\n  static getInstance(element2) {\n    return _Chart2.chartsInstances.get(element2);\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  get canvasElement() {\n    return this.ctx.scene.canvas.element;\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  getCanvasDataURL(fileFormat) {\n    return this.ctx.scene.getDataURL(fileFormat);\n  }\n  onAutoSizeChange(value) {\n    const { style } = this.element;\n    if (value) {\n      style.display = \"block\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      if (!this._lastAutoSize) {\n        return;\n      }\n      this.resize(void 0, void 0, \"autoSize option\");\n    } else {\n      style.display = \"inline-block\";\n      style.width = \"auto\";\n      style.height = \"auto\";\n    }\n  }\n  download(fileName, fileFormat) {\n    this.ctx.scene.download(fileName, fileFormat);\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.queuedUserOptions.at(-1)) != null ? _a : this.userOptions;\n  }\n  getModuleContext() {\n    return this.ctx;\n  }\n  getAriaLabel() {\n    var _a;\n    const captionText = [this.title, this.subtitle, this.footnote].filter((caption) => caption.enabled && caption.text).map((caption) => caption.text).join(\". \");\n    const nSeries = (_a = this.series.length) != null ? _a : 0;\n    return `chart, ${nSeries} series, ${captionText}`;\n  }\n  resetAnimations() {\n    this.chartAnimationPhase = \"initial\";\n    for (const series of this.series) {\n      series.resetAnimation(this.chartAnimationPhase);\n    }\n    for (const axis of this.axes) {\n      axis.resetAnimation(this.chartAnimationPhase);\n    }\n    this.animationRect = void 0;\n    this.ctx.animationManager.reset();\n  }\n  skipAnimations() {\n    this.ctx.animationManager.skipCurrentBatch();\n    this._performUpdateSkipAnimations = true;\n  }\n  destroy(opts) {\n    if (this.destroyed) {\n      return;\n    }\n    const keepTransferableResources = opts == null ? void 0 : opts.keepTransferableResources;\n    let result;\n    this.performUpdateType = 7;\n    this._destroyFns.forEach((fn) => fn());\n    this.processors.forEach((p) => p.destroy());\n    this.tooltip.destroy();\n    this.overlays.destroy();\n    this.sizeMonitor.unobserve(this.element);\n    this.modulesManager.destroy();\n    if (keepTransferableResources) {\n      this.ctx.scene.strip();\n      result = { container: this.container, scene: this.ctx.scene, element: this.element };\n    } else {\n      this.ctx.scene.destroy();\n      this.container = void 0;\n    }\n    this.destroySeries(this.series);\n    this.seriesLayerManager.destroy();\n    this.axes.forEach((a) => a.destroy());\n    this.axes = [];\n    this.animationRect = void 0;\n    this.ctx.destroy();\n    this.zoomManager.destroy();\n    this.destroyed = true;\n    Object.freeze(this);\n    return result;\n  }\n  resetPointer(highlightOnly = false) {\n    if (!highlightOnly) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    this.ctx.highlightManager.updateHighlight(this.id);\n    this.lastInteractionEvent = void 0;\n  }\n  requestFactoryUpdate(cb) {\n    if (this.destroyed)\n      return;\n    this._pendingFactoryUpdatesCount++;\n    this.updateMutex.acquire(() => __async(this, null, function* () {\n      if (this.destroyed)\n        return;\n      yield cb(this);\n      if (this.destroyed)\n        return;\n      this._pendingFactoryUpdatesCount--;\n    })).catch((e) => Logger.errorOnce(e));\n  }\n  update(type = 0, opts) {\n    var _a, _b;\n    const {\n      forceNodeDataRefresh = false,\n      skipAnimations,\n      seriesToUpdate = this.series,\n      newAnimationBatch\n    } = opts != null ? opts : {};\n    if (forceNodeDataRefresh) {\n      this.series.forEach((series) => series.markNodeDataDirty());\n    }\n    for (const series of seriesToUpdate) {\n      this.seriesToUpdate.add(series);\n    }\n    if (skipAnimations) {\n      this.ctx.animationManager.skipCurrentBatch();\n      this._performUpdateSkipAnimations = true;\n    }\n    if (newAnimationBatch && this.ctx.animationManager.isActive()) {\n      this._performUpdateSkipAnimations = true;\n    }\n    this._skipSync = (_a = opts == null ? void 0 : opts.skipSync) != null ? _a : false;\n    if (this.debug.check()) {\n      let stack = (_b = new Error().stack) != null ? _b : \"<unknown>\";\n      stack = stack.replace(/\\([^)]*/g, \"\");\n      this.updateRequestors[stack] = type;\n    }\n    if (type < this.performUpdateType) {\n      this.performUpdateType = type;\n      this.performUpdateTrigger.schedule(opts == null ? void 0 : opts.backOffMs);\n    }\n  }\n  performUpdate(count) {\n    return __async(this, null, function* () {\n      var _a;\n      const { performUpdateType, extraDebugStats, _performUpdateSplits: splits, ctx } = this;\n      const seriesToUpdate = [...this.seriesToUpdate];\n      this.performUpdateType = 7;\n      this.seriesToUpdate.clear();\n      if (this.updateShortcutCount === 0 && performUpdateType < 6) {\n        ctx.animationManager.startBatch(this._performUpdateSkipAnimations);\n        ctx.animationManager.onBatchStop(() => this.chartAnimationPhase = \"ready\");\n      }\n      this.debug(\"Chart.performUpdate() - start\", ChartUpdateType[performUpdateType]);\n      let previousSplit = performance.now();\n      (_a = splits.start) != null ? _a : splits.start = previousSplit;\n      const updateSplits = (splitName) => {\n        var _a2;\n        (_a2 = splits[splitName]) != null ? _a2 : splits[splitName] = 0;\n        splits[splitName] += performance.now() - previousSplit;\n        previousSplit = performance.now();\n      };\n      let updateDeferred = false;\n      switch (performUpdateType) {\n        case 0:\n          this.updateDOM();\n        case 1:\n          yield this.updateData();\n          updateSplits(\"\\u2B07\\uFE0F\");\n        case 2:\n          yield this.processData();\n          this.resetPointer(true);\n          updateSplits(\"\\u{1F3ED}\");\n        case 3:\n          if (this.checkUpdateShortcut(\n            3\n            /* PERFORM_LAYOUT */\n          ))\n            break;\n          if (!this.checkFirstAutoSize(seriesToUpdate)) {\n            updateDeferred = true;\n            break;\n          }\n          yield this.processLayout();\n          updateSplits(\"\\u2316\");\n        case 4:\n          if (this.checkUpdateShortcut(\n            4\n            /* SERIES_UPDATE */\n          ))\n            break;\n          const { seriesRect } = this;\n          yield Promise.all(seriesToUpdate.map((series) => series.update({ seriesRect })));\n          updateSplits(\"\\u{1F914}\");\n        case 5:\n          if (this.checkUpdateShortcut(\n            5\n            /* TOOLTIP_RECALCULATION */\n          ))\n            break;\n          const tooltipMeta = ctx.tooltipManager.getTooltipMeta(this.id);\n          if (performUpdateType <= 4 && (tooltipMeta == null ? void 0 : tooltipMeta.lastPointerEvent) != null) {\n            this.handlePointer(tooltipMeta.lastPointerEvent, true);\n          }\n          updateSplits(\"\\u2196\");\n        case 6:\n          if (this.checkUpdateShortcut(\n            6\n            /* SCENE_RENDER */\n          ))\n            break;\n          ctx.animationManager.endBatch();\n          extraDebugStats[\"updateShortcutCount\"] = this.updateShortcutCount;\n          yield ctx.scene.render({ debugSplitTimes: splits, extraDebugStats });\n          this.ctx.regionManager.updateFocusWrapperRect();\n          this.extraDebugStats = {};\n          for (const key in splits) {\n            delete splits[key];\n          }\n        case 7:\n          this.updateShortcutCount = 0;\n          this.updateRequestors = {};\n          this._performUpdateSkipAnimations = false;\n          ctx.animationManager.endBatch();\n      }\n      if (!updateDeferred) {\n        ctx.updateService.dispatchUpdateComplete(this.getMinRects());\n      }\n      const end = performance.now();\n      this.debug(\"Chart.performUpdate() - end\", {\n        chart: this,\n        durationMs: Math.round((end - splits[\"start\"]) * 100) / 100,\n        count,\n        performUpdateType: ChartUpdateType[performUpdateType]\n      });\n    });\n  }\n  updateThemeClassName() {\n    const {\n      element: element2,\n      processedOptions: { theme }\n    } = this;\n    const themeClassNamePrefix = \"ag-charts-theme-\";\n    const validThemeClassNames = [`${themeClassNamePrefix}default`, `${themeClassNamePrefix}default-dark`];\n    let themeClassName = validThemeClassNames[0];\n    let isDark = false;\n    if (typeof theme === \"string\") {\n      themeClassName = theme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.includes(\"-dark\");\n    } else if (typeof (theme == null ? void 0 : theme.baseTheme) === \"string\") {\n      themeClassName = theme.baseTheme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.baseTheme.includes(\"-dark\");\n    }\n    if (!validThemeClassNames.includes(themeClassName)) {\n      themeClassName = isDark ? validThemeClassNames[1] : validThemeClassNames[0];\n    }\n    element2.classList.forEach((className) => {\n      if (className.startsWith(themeClassNamePrefix) && className !== themeClassName) {\n        element2.classList.remove(className);\n      }\n    });\n    element2.classList.add(themeClassName);\n  }\n  updateDOM() {\n    this.updateThemeClassName();\n    const { enabled, tabIndex } = this.keyboard;\n    this.element.tabIndex = enabled ? tabIndex != null ? tabIndex : 0 : -1;\n    setAttribute(this.ctx.scene.canvas.element, \"role\", \"figure\");\n    setAttribute(this.ctx.scene.canvas.element, \"aria-label\", this.getAriaLabel());\n  }\n  checkUpdateShortcut(checkUpdateType) {\n    const maxShortcuts = 3;\n    if (this.updateShortcutCount > maxShortcuts) {\n      Logger.warn(\n        `exceeded the maximum number of simultaneous updates (${maxShortcuts + 1}), discarding changes and rendering`,\n        this.updateRequestors\n      );\n      return false;\n    }\n    if (this.performUpdateType <= checkUpdateType) {\n      this.updateShortcutCount++;\n      return true;\n    }\n    return false;\n  }\n  checkFirstAutoSize(seriesToUpdate) {\n    if (this.autoSize && !this._lastAutoSize) {\n      const count = this._performUpdateNoRenderCount++;\n      const backOffMs = __pow(count + 1, 2) * 40;\n      if (count < 8) {\n        this.update(3, { seriesToUpdate, backOffMs });\n        this.debug(\"Chart.checkFirstAutoSize() - backing off until first size update\", backOffMs);\n        return false;\n      }\n      this.debug(\"Chart.checkFirstAutoSize() - timeout for first size update.\");\n    }\n    this._performUpdateNoRenderCount = 0;\n    return true;\n  }\n  onAxisChange(newValue, oldValue = []) {\n    for (const axis of oldValue) {\n      if (newValue.includes(axis))\n        continue;\n      axis.detachAxis(this.axisGroup, this.axisGridGroup);\n      axis.destroy();\n    }\n    for (const axis of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(axis))\n        continue;\n      axis.attachAxis(this.axisGroup, this.axisGridGroup);\n    }\n  }\n  onSeriesChange(newValue, oldValue) {\n    var _a, _b;\n    const seriesToDestroy = (_a = oldValue == null ? void 0 : oldValue.filter((series) => !newValue.includes(series))) != null ? _a : [];\n    this.destroySeries(seriesToDestroy);\n    (_b = this.seriesLayerManager) == null ? void 0 : _b.setSeriesCount(newValue.length);\n    for (const series of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(series))\n        continue;\n      if (series.rootGroup.parent == null) {\n        this.seriesLayerManager.requestGroup(series);\n      }\n      const chart = this;\n      series.chart = {\n        get mode() {\n          return chart.mode;\n        },\n        get isMiniChart() {\n          return false;\n        },\n        get seriesRect() {\n          return chart.seriesRect;\n        },\n        placeLabels() {\n          return chart.placeLabels();\n        }\n      };\n      series.resetAnimation(this.chartAnimationPhase);\n      this.addSeriesListeners(series);\n      series.addChartEventListeners();\n    }\n  }\n  destroySeries(allSeries) {\n    allSeries == null ? void 0 : allSeries.forEach((series) => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      series.removeEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n      series.destroy();\n      this.seriesLayerManager.releaseGroup(series);\n      series.chart = void 0;\n    });\n  }\n  addSeriesListeners(series) {\n    if (this.hasEventListener(\"seriesNodeClick\")) {\n      series.addEventListener(\"nodeClick\", this.onSeriesNodeClick);\n    }\n    if (this.hasEventListener(\"seriesNodeDoubleClick\")) {\n      series.addEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n    }\n    series.addEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n  }\n  updateAllSeriesListeners() {\n    this.series.forEach((series) => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      this.addSeriesListeners(series);\n    });\n  }\n  assignSeriesToAxes() {\n    this.axes.forEach((axis) => {\n      axis.boundSeries = this.series.filter((s) => {\n        const seriesAxis = s.axes[axis.direction];\n        return seriesAxis === axis;\n      });\n    });\n  }\n  assignAxesToSeries() {\n    const directionToAxesMap = groupBy(this.axes, (axis) => axis.direction);\n    this.series.forEach((series) => {\n      series.directions.forEach((direction) => {\n        const directionAxes = directionToAxesMap[direction];\n        if (!directionAxes) {\n          Logger.warnOnce(\n            `no available axis for direction [${direction}]; check series and axes configuration.`\n          );\n          return;\n        }\n        const seriesKeys = series.getKeys(direction);\n        const newAxis = directionAxes.find(\n          (axis) => !axis.keys.length || seriesKeys.some((key) => axis.keys.includes(key))\n        );\n        if (!newAxis) {\n          Logger.warnOnce(\n            `no matching axis for direction [${direction}] and keys [${seriesKeys}]; check series and axes configuration.`\n          );\n          return;\n        }\n        series.axes[direction] = newAxis;\n      });\n    });\n  }\n  rawResize({ width, height }) {\n    var _a;\n    if (!this.autoSize)\n      return;\n    width = Math.floor(width);\n    height = Math.floor(height);\n    if (width === 0 && height === 0)\n      return;\n    const [autoWidth = 0, authHeight = 0] = (_a = this._lastAutoSize) != null ? _a : [];\n    if (autoWidth === width && authHeight === height)\n      return;\n    this._lastAutoSize = [width, height];\n    this.resize(void 0, void 0, \"SizeMonitor\");\n  }\n  resize(width, height, source) {\n    var _a, _b, _c, _d;\n    const { scene, animationManager } = this.ctx;\n    width != null ? width : width = (_b = this.width) != null ? _b : this.autoSize ? (_a = this._lastAutoSize) == null ? void 0 : _a[0] : scene.canvas.width;\n    height != null ? height : height = (_d = this.height) != null ? _d : this.autoSize ? (_c = this._lastAutoSize) == null ? void 0 : _c[1] : scene.canvas.height;\n    this.debug(`Chart.resize() from ${source}`, { width, height, stack: new Error().stack });\n    if (!width || !height || !isFiniteNumber(width) || !isFiniteNumber(height))\n      return;\n    if (scene.resize(width, height)) {\n      this.resetPointer();\n      animationManager.reset();\n      let skipAnimations = true;\n      if (this.autoSize && this._firstAutoSize) {\n        skipAnimations = false;\n        this._firstAutoSize = false;\n      }\n      this.update(3, { forceNodeDataRefresh: true, skipAnimations });\n    }\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      this.series.forEach((s) => s.setChartData(this.data));\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.updateData) == null ? void 0 : _a.call(m, { data: this.data });\n      });\n      yield Promise.all(modulePromises);\n    });\n  }\n  processData() {\n    return __async(this, null, function* () {\n      if (this.series.some((s) => s.canHaveAxes)) {\n        this.assignAxesToSeries();\n        const syncModule = this.modulesManager.getModule(\"sync\");\n        if (syncModule == null ? void 0 : syncModule.enabled) {\n          syncModule.syncAxes(this._skipSync);\n        } else {\n          this.assignSeriesToAxes();\n        }\n      }\n      const dataController = new DataController(this.mode);\n      const seriesPromises = this.series.map((s) => s.processData(dataController));\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.processData) == null ? void 0 : _a.call(m, { dataController });\n      });\n      dataController.execute();\n      yield Promise.all([...seriesPromises, ...modulePromises]);\n      for (const { legendType, legend } of this.modulesManager.legends()) {\n        legend.data = this.getLegendData(legendType, this.mode !== \"integrated\");\n      }\n      this.dataProcessListeners.forEach((resolve) => resolve());\n      this.dataProcessListeners.clear();\n    });\n  }\n  placeLabels() {\n    const visibleSeries = [];\n    const data = [];\n    for (const series of this.series) {\n      if (!series.visible)\n        continue;\n      const labelData = series.getLabelData();\n      if (isPointLabelDatum(labelData == null ? void 0 : labelData[0])) {\n        data.push(labelData);\n        visibleSeries.push(series);\n      }\n    }\n    const { seriesRect } = this;\n    const { top, right, bottom, left } = this.seriesArea.padding;\n    const labels = seriesRect && data.length > 0 ? placeLabels(data, {\n      x: -left,\n      y: -top,\n      width: seriesRect.width + left + right,\n      height: seriesRect.height + top + bottom\n    }) : [];\n    return new Map(labels.map((l, i) => [visibleSeries[i], l]));\n  }\n  getLegendData(legendType, warnConflicts) {\n    var _a, _b, _c;\n    const legendData = this.series.filter((s) => s.properties.showInLegend).flatMap((s) => s.getLegendData(legendType));\n    const isCategoryLegendData = (data) => data.every((d) => d.legendType === \"category\");\n    if (warnConflicts && isCategoryLegendData(legendData)) {\n      const seriesMarkerFills = {};\n      const seriesTypeMap = new Map(this.series.map((s) => [s.id, s.type]));\n      for (const { seriesId, marker, label } of legendData) {\n        if (marker.fill == null)\n          continue;\n        const seriesType = seriesTypeMap.get(seriesId);\n        const markerFill = (_a = seriesMarkerFills[seriesType]) != null ? _a : seriesMarkerFills[seriesType] = {};\n        (_c = markerFill[_b = label.text]) != null ? _c : markerFill[_b] = marker.fill;\n        if (markerFill[label.text] !== marker.fill) {\n          Logger.warnOnce(\n            `legend item '${label.text}' has multiple fill colors, this may cause unexpected behaviour.`\n          );\n        }\n      }\n    }\n    return legendData;\n  }\n  processLayout() {\n    return __async(this, null, function* () {\n      var _a;\n      const oldRect = this.animationRect;\n      yield this.performLayout();\n      if (oldRect && !((_a = this.animationRect) == null ? void 0 : _a.equals(oldRect))) {\n        this.ctx.animationManager.skipCurrentBatch();\n      }\n      this.debug(\"Chart.performUpdate() - seriesRect\", this.seriesRect);\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const { width, height } = this.ctx.scene;\n      let ctx = { shrinkRect: new BBox(0, 0, width, height) };\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"start-layout\", ctx);\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"before-series\", ctx);\n      const modulePromises = this.modulesManager.mapModules((m) => __async(this, null, function* () {\n        if (m.performLayout != null) {\n          ctx = yield m.performLayout(ctx);\n        }\n      }));\n      yield Promise.all(modulePromises);\n      return ctx.shrinkRect;\n    });\n  }\n  // x/y are local canvas coordinates in CSS pixels, not actual pixels\n  pickSeriesNode(point, exactMatchOnly, maxDistance) {\n    var _a, _b;\n    const start = performance.now();\n    const pickModes = exactMatchOnly ? [\n      0\n      /* EXACT_SHAPE_MATCH */\n    ] : void 0;\n    const reverseSeries = [...this.series].reverse();\n    let result;\n    for (const series of reverseSeries) {\n      if (!series.visible || !series.rootGroup.visible) {\n        continue;\n      }\n      const { match, distance: distance2 } = (_a = series.pickNode(point, pickModes)) != null ? _a : {};\n      if (!match || distance2 == null) {\n        continue;\n      }\n      if ((!result || result.distance > distance2) && distance2 <= (maxDistance != null ? maxDistance : Infinity)) {\n        result = { series, distance: distance2, datum: match };\n      }\n      if (distance2 === 0) {\n        break;\n      }\n    }\n    this.extraDebugStats[\"pickSeriesNode\"] = Math.round(\n      ((_b = this.extraDebugStats[\"pickSeriesNode\"]) != null ? _b : 0) + (performance.now() - start)\n    );\n    return result;\n  }\n  onMouseMove(event) {\n    this.lastInteractionEvent = event;\n    this.pointerScheduler.schedule();\n    this.extraDebugStats[\"mouseX\"] = event.offsetX;\n    this.extraDebugStats[\"mouseY\"] = event.offsetY;\n    this.update(\n      6\n      /* SCENE_RENDER */\n    );\n  }\n  onLeave(event) {\n    if (!this.tooltip.pointerLeftOntoTooltip(event)) {\n      this.resetPointer();\n      this.update(\n        6\n        /* SCENE_RENDER */\n      );\n      this.ctx.cursorManager.updateCursor(\"chart\");\n    }\n  }\n  onBrowserFocus(event) {\n    if (event.delta > 0) {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = 0;\n      this.focus.seriesIndex = 0;\n    } else {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = Infinity;\n      this.focus.seriesIndex = Infinity;\n    }\n  }\n  onBlur(_event) {\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n    this.resetPointer();\n  }\n  onTab(event) {\n    this.handleFocus();\n    event.consume();\n  }\n  onNavVert(event) {\n    this.focus.seriesIndex += event.delta;\n    this.handleFocus();\n    event.consume();\n  }\n  onNavHori(event) {\n    this.focus.datumIndex += event.delta;\n    this.handleFocus(event.delta);\n    event.consume();\n  }\n  onSubmit(event) {\n    const { series, datum } = this.focus;\n    const sourceEvent = event.sourceEvent.sourceEvent;\n    if (series !== void 0 && datum !== void 0) {\n      series.fireNodeClickEvent(sourceEvent, datum);\n    } else {\n      this.fireEvent({\n        type: \"click\",\n        event: sourceEvent\n      });\n    }\n  }\n  onContextMenu(event) {\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    const { Default: Default2, ContextMenu } = InteractionState;\n    if (this.ctx.interactionManager.getState() & (Default2 | ContextMenu)) {\n      this.checkSeriesNodeRange(event, () => {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      });\n    }\n  }\n  handleFocus(datumIndexDelta) {\n    const overlayFocus = this.overlays.getFocusInfo();\n    if (overlayFocus == null) {\n      this.handleSeriesFocus(datumIndexDelta != null ? datumIndexDelta : 0);\n    } else {\n      this.ctx.regionManager.updateFocusIndicatorRect(overlayFocus.rect);\n      this.ctx.ariaAnnouncementService.announceValue(overlayFocus.text);\n    }\n  }\n  handleSeriesFocus(datumIndexDelta) {\n    const { series, seriesRect, focus } = this;\n    const visibleSeries = series.filter((s) => s.visible);\n    if (visibleSeries.length === 0)\n      return;\n    focus.seriesIndex = clamp(0, focus.seriesIndex, visibleSeries.length - 1);\n    focus.series = visibleSeries[focus.seriesIndex];\n    const pick = focus.series.pickFocus({ datumIndex: focus.datumIndex, datumIndexDelta, seriesRect });\n    if (pick === void 0)\n      return;\n    const { bbox, datum, datumIndex } = pick;\n    focus.datumIndex = datumIndex;\n    focus.datum = datum;\n    const keyboardEvent = makeKeyboardPointerEvent(this.ctx.regionManager, bbox);\n    if (keyboardEvent !== void 0) {\n      this.lastInteractionEvent = keyboardEvent;\n      const html = focus.series.getTooltipHtml(datum);\n      const meta = TooltipManager.makeTooltipMeta(this.lastInteractionEvent, datum);\n      this.ctx.highlightManager.updateHighlight(this.id, datum);\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n      this.ctx.ariaAnnouncementService.announceValue(html.ariaLabel);\n    }\n  }\n  static isHoverEvent(event) {\n    return event !== void 0 && event.type === \"hover\";\n  }\n  handlePointer(event, redisplay) {\n    if (this.ctx.interactionManager.getState() !== 16 || !_Chart2.isHoverEvent(event)) {\n      return;\n    }\n    const { lastPick, hoverRect } = this;\n    const { offsetX, offsetY } = event;\n    const disablePointer = (highlightOnly = false) => {\n      if (lastPick) {\n        this.resetPointer(highlightOnly);\n      }\n    };\n    if (redisplay ? this.ctx.animationManager.isActive() : !(hoverRect == null ? void 0 : hoverRect.containsPoint(offsetX, offsetY))) {\n      disablePointer();\n      return;\n    }\n    this.handlePointerTooltip(event, disablePointer);\n    this.handlePointerNode(event);\n  }\n  handlePointerTooltip(event, disablePointer) {\n    const { lastPick, tooltip } = this;\n    const { range: range3 } = tooltip;\n    const { offsetX, offsetY } = event;\n    let pixelRange;\n    if (isFiniteNumber(range3)) {\n      pixelRange = range3;\n    }\n    const pick = this.pickSeriesNode({ x: offsetX, y: offsetY }, range3 === \"exact\", pixelRange);\n    if (!pick) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n      if (this.highlight.range === \"tooltip\") {\n        disablePointer(true);\n      }\n      return;\n    }\n    const isNewDatum = this.highlight.range === \"node\" || !lastPick || lastPick !== pick.datum;\n    let html;\n    if (isNewDatum) {\n      html = pick.series.getTooltipHtml(pick.datum);\n      if (this.highlight.range === \"tooltip\") {\n        this.ctx.highlightManager.updateHighlight(this.id, pick.datum);\n      }\n    }\n    const isPixelRange = pixelRange != null;\n    const tooltipEnabled = this.tooltip.enabled && pick.series.tooltipEnabled;\n    const exactlyMatched = range3 === \"exact\" && pick.distance === 0;\n    const rangeMatched = range3 === \"nearest\" || isPixelRange || exactlyMatched;\n    const shouldUpdateTooltip = tooltipEnabled && rangeMatched && (!isNewDatum || html !== void 0);\n    const meta = TooltipManager.makeTooltipMeta(event, pick.datum);\n    if (shouldUpdateTooltip) {\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n    }\n  }\n  handlePointerNode(event) {\n    const found = this.checkSeriesNodeRange(event, (series, datum) => {\n      if (series.hasEventListener(\"nodeClick\") || series.hasEventListener(\"nodeDoubleClick\")) {\n        this.ctx.cursorManager.updateCursor(\"chart\", \"pointer\");\n      }\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id, datum);\n      }\n    });\n    if (!found) {\n      this.ctx.cursorManager.updateCursor(\"chart\");\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      }\n    }\n  }\n  onClick(event) {\n    if (this.checkSeriesNodeClick(event)) {\n      this.update(\n        4\n        /* SERIES_UPDATE */\n      );\n      return;\n    }\n    this.fireEvent({\n      type: \"click\",\n      event: event.sourceEvent\n    });\n  }\n  onDoubleClick(event) {\n    if (this.checkSeriesNodeDoubleClick(event)) {\n      this.update(\n        4\n        /* SERIES_UPDATE */\n      );\n      return;\n    }\n    this.fireEvent({\n      type: \"doubleClick\",\n      event: event.sourceEvent\n    });\n  }\n  checkSeriesNodeClick(event) {\n    return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeClickEvent(event.sourceEvent, datum));\n  }\n  checkSeriesNodeDoubleClick(event) {\n    return this.checkSeriesNodeRange(\n      event,\n      (series, datum) => series.fireNodeDoubleClickEvent(event.sourceEvent, datum)\n    );\n  }\n  checkSeriesNodeRange(event, callback) {\n    var _a;\n    const nearestNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, false);\n    const datum = nearestNode == null ? void 0 : nearestNode.datum;\n    const nodeClickRange = datum == null ? void 0 : datum.series.properties.nodeClickRange;\n    let pixelRange;\n    if (isFiniteNumber(nodeClickRange)) {\n      pixelRange = nodeClickRange;\n    }\n    let pickedNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, true);\n    if (pickedNode) {\n      this.ctx.highlightManager.updatePicked(this.id, pickedNode.datum);\n    } else {\n      this.ctx.highlightManager.updatePicked(this.id);\n    }\n    if (datum && nodeClickRange === \"nearest\") {\n      callback(datum.series, datum);\n      return true;\n    }\n    if (nodeClickRange !== \"exact\") {\n      pickedNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, false, pixelRange);\n    }\n    if (!pickedNode)\n      return false;\n    const isPixelRange = pixelRange != null;\n    const exactlyMatched = nodeClickRange === \"exact\" && pickedNode.distance === 0;\n    if (isPixelRange || exactlyMatched) {\n      const allMatch = event.pointerHistory === void 0 || ((_a = event.pointerHistory) == null ? void 0 : _a.every((pastEvent) => {\n        const historyPoint = { x: pastEvent.offsetX, y: pastEvent.offsetY };\n        const historyNode = this.pickSeriesNode(historyPoint, false, pixelRange);\n        return (historyNode == null ? void 0 : historyNode.datum) === (pickedNode == null ? void 0 : pickedNode.datum);\n      }));\n      if (allMatch) {\n        callback(pickedNode.series, pickedNode.datum);\n        return true;\n      }\n    }\n    return false;\n  }\n  changeHighlightDatum(event) {\n    var _a, _b;\n    const seriesToUpdate = /* @__PURE__ */ new Set();\n    const { series: newSeries = void 0, datum: newDatum } = (_a = event.currentHighlight) != null ? _a : {};\n    const { series: lastSeries = void 0, datum: lastDatum } = (_b = event.previousHighlight) != null ? _b : {};\n    if (lastSeries) {\n      seriesToUpdate.add(lastSeries);\n    }\n    if (newSeries) {\n      seriesToUpdate.add(newSeries);\n    }\n    if ((lastSeries == null ? void 0 : lastSeries.properties.cursor) && lastDatum) {\n      this.ctx.cursorManager.updateCursor(lastSeries.id);\n    }\n    if ((newSeries == null ? void 0 : newSeries.properties.cursor) && newDatum) {\n      this.ctx.cursorManager.updateCursor(newSeries.id, newSeries.properties.cursor);\n    }\n    this.lastPick = event.currentHighlight;\n    const updateAll = newSeries == null || lastSeries == null;\n    if (updateAll) {\n      this.update(\n        4\n        /* SERIES_UPDATE */\n      );\n    } else {\n      this.update(4, { seriesToUpdate });\n    }\n  }\n  waitForUpdate(timeoutMs = 1e4, failOnTimeout = false) {\n    return __async(this, null, function* () {\n      const start = performance.now();\n      if (this._pendingFactoryUpdatesCount > 0) {\n        yield this.updateMutex.waitForClearAcquireQueue();\n      }\n      while (this.performUpdateType !== 7) {\n        if (performance.now() - start > timeoutMs) {\n          const message = `Chart.waitForUpdate() timeout of ${timeoutMs} reached - first chart update taking too long.`;\n          if (failOnTimeout) {\n            throw new Error(message);\n          } else {\n            Logger.warnOnce(message);\n          }\n        }\n        yield sleep(50);\n      }\n      yield this.updateMutex.waitForClearAcquireQueue();\n    });\n  }\n  waitForDataProcess(timeout) {\n    return new Promise((resolve) => {\n      this.dataProcessListeners.add(resolve);\n      if (isNumber(timeout)) {\n        setTimeout(() => {\n          if (this.dataProcessListeners.has(resolve)) {\n            this.dataProcessListeners.delete(resolve);\n            resolve();\n          }\n        }, timeout);\n      }\n    });\n  }\n  getMinRects() {\n    const { width, height } = this.ctx.scene;\n    const minRects = this.series.map((series) => series.getMinRects(width, height)).filter(isDefined);\n    if (minRects.length === 0)\n      return;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (const { minRect: minRect2, minVisibleRect: minVisibleRect2 } of minRects) {\n      maxWidth = Math.max(maxWidth, minRect2.width);\n      maxHeight = Math.max(maxHeight, minRect2.height);\n      maxVisibleWidth = Math.max(maxVisibleWidth, minVisibleRect2.width);\n      maxVisibleHeight = Math.max(maxVisibleHeight, minVisibleRect2.height);\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    let minVisibleRect = minRect.clone();\n    if (maxVisibleWidth > 0 && maxVisibleHeight > 0) {\n      minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    }\n    return { minRect, minVisibleRect };\n  }\n  filterMiniChartSeries(series) {\n    return series == null ? void 0 : series.filter((s) => s.showInMiniChart !== false);\n  }\n  applyOptions(chartOptions) {\n    var _a, _b, _c, _d, _e;\n    const oldOpts = this.processedOptions;\n    const deltaOptions = chartOptions.diffOptions(oldOpts);\n    const userOptions = chartOptions.userOptions;\n    if (deltaOptions == null)\n      return;\n    debug(\"AgChartV2.updateDelta() - applying delta\", deltaOptions);\n    const completeOptions = mergeDefaults(deltaOptions, oldOpts);\n    const modulesChanged = this.applyModules(completeOptions);\n    const skip = [\n      \"type\",\n      \"data\",\n      \"series\",\n      \"listeners\",\n      \"theme\",\n      \"legend.listeners\",\n      \"navigator.miniChart.series\",\n      \"navigator.miniChart.label\",\n      \"axes\",\n      \"topology\"\n    ];\n    if (deltaOptions.listeners) {\n      this.registerListeners(this, deltaOptions.listeners);\n    }\n    jsonApply(this, deltaOptions, { skip });\n    let forceNodeDataRefresh = false;\n    let seriesStatus = \"no-op\";\n    if ((_a = deltaOptions.series) == null ? void 0 : _a.length) {\n      seriesStatus = this.applySeries(this, deltaOptions.series, oldOpts == null ? void 0 : oldOpts.series);\n      forceNodeDataRefresh = true;\n    }\n    if (seriesStatus === \"replaced\") {\n      this.resetAnimations();\n    }\n    if (this.applyAxes(this, completeOptions, oldOpts, seriesStatus)) {\n      forceNodeDataRefresh = true;\n    }\n    if (deltaOptions.data) {\n      this.data = deltaOptions.data;\n    }\n    if (((_b = deltaOptions.legend) == null ? void 0 : _b.listeners) && this.modulesManager.isEnabled(\"legend\")) {\n      Object.assign(this.legend.listeners, deltaOptions.legend.listeners);\n    }\n    if (deltaOptions.listeners) {\n      this.updateAllSeriesListeners();\n    }\n    this.chartOptions = chartOptions;\n    this.processedOptions = completeOptions;\n    this.userOptions = mergeDefaults(userOptions, this.userOptions);\n    const navigatorModule = this.modulesManager.getModule(\"navigator\");\n    const zoomModule = this.modulesManager.getModule(\"zoom\");\n    if (!(navigatorModule == null ? void 0 : navigatorModule.enabled) && !(zoomModule == null ? void 0 : zoomModule.enabled)) {\n      this.ctx.zoomManager.updateZoom(\"chart\");\n    }\n    const miniChart = navigatorModule == null ? void 0 : navigatorModule.miniChart;\n    const miniChartSeries = (_e = (_d = (_c = completeOptions.navigator) == null ? void 0 : _c.miniChart) == null ? void 0 : _d.series) != null ? _e : completeOptions.series;\n    if ((miniChart == null ? void 0 : miniChart.enabled) === true && miniChartSeries != null) {\n      this.applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts);\n    } else if ((miniChart == null ? void 0 : miniChart.enabled) === false) {\n      miniChart.series = [];\n      miniChart.axes = [];\n    }\n    injectStyle(styles_default, \"chart\");\n    this.ctx.annotationManager.setAnnotationStyles(chartOptions.annotationThemes);\n    forceNodeDataRefresh || (forceNodeDataRefresh = this.shouldForceNodeDataRefresh(deltaOptions, seriesStatus));\n    const majorChange = forceNodeDataRefresh || modulesChanged;\n    const updateType = majorChange ? 0 : 3;\n    this.maybeResetAnimations(seriesStatus);\n    debug(\"AgChartV2.applyChartOptions() - update type\", ChartUpdateType[updateType], {\n      seriesStatus,\n      forceNodeDataRefresh\n    });\n    this.update(updateType, { forceNodeDataRefresh, newAnimationBatch: true });\n  }\n  maybeResetAnimations(seriesStatus) {\n    if (this.mode !== \"standalone\")\n      return;\n    switch (seriesStatus) {\n      case \"series-grouping-change\":\n      case \"replaced\":\n        this.resetAnimations();\n        break;\n      default:\n    }\n  }\n  shouldForceNodeDataRefresh(deltaOptions, seriesStatus) {\n    const seriesDataUpdate = !!deltaOptions.data || seriesStatus === \"data-change\" || seriesStatus === \"replaced\";\n    const legendKeys = legendRegistry.getKeys();\n    const optionsHaveLegend = Object.values(legendKeys).some(\n      (legendKey) => deltaOptions[legendKey] != null\n    );\n    const otherRefreshUpdate = deltaOptions.title != null && deltaOptions.subtitle != null;\n    return seriesDataUpdate || optionsHaveLegend || otherRefreshUpdate;\n  }\n  applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts) {\n    var _a, _b, _c, _d, _e;\n    const oldSeries = (_c = (_b = (_a = oldOpts == null ? void 0 : oldOpts.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series) != null ? _c : oldOpts == null ? void 0 : oldOpts.series;\n    const miniChartSeriesStatus = this.applySeries(\n      miniChart,\n      this.filterMiniChartSeries(miniChartSeries),\n      this.filterMiniChartSeries(oldSeries)\n    );\n    this.applyAxes(miniChart, completeOptions, oldOpts, miniChartSeriesStatus, [\n      \"axes[].tick\",\n      \"axes[].thickness\",\n      \"axes[].title\",\n      \"axes[].crosshair\",\n      \"axes[].gridLine\",\n      \"axes[].label\"\n    ]);\n    const axes = miniChart.axes;\n    const horizontalAxis = axes.find(\n      (axis) => axis.direction === \"x\"\n      /* X */\n    );\n    for (const axis of axes) {\n      axis.gridLine.enabled = false;\n      axis.label.enabled = axis === horizontalAxis;\n      axis.tick.enabled = false;\n      axis.interactionEnabled = false;\n    }\n    if (horizontalAxis != null) {\n      const miniChartOpts = (_d = completeOptions.navigator) == null ? void 0 : _d.miniChart;\n      const labelOptions = miniChartOpts == null ? void 0 : miniChartOpts.label;\n      const intervalOptions = (_e = miniChartOpts == null ? void 0 : miniChartOpts.label) == null ? void 0 : _e.interval;\n      horizontalAxis.line.enabled = false;\n      horizontalAxis.label.set(\n        without(labelOptions, [\"interval\", \"rotation\", \"minSpacing\", \"autoRotate\", \"autoRotateAngle\"])\n      );\n      horizontalAxis.tick.set(\n        without(intervalOptions, [\"enabled\", \"width\", \"size\", \"color\", \"interval\", \"step\"])\n      );\n      const step = intervalOptions == null ? void 0 : intervalOptions.step;\n      if (step != null) {\n        horizontalAxis.tick.interval = step;\n      }\n    }\n  }\n  applyModules(options) {\n    var _a;\n    const { type: chartType2 } = this.constructor;\n    let modulesChanged = false;\n    for (const module of moduleRegistry.byType(\"root\", \"legend\")) {\n      const isConfigured = options[module.optionsKey] != null;\n      const shouldBeEnabled = isConfigured && module.chartTypes.includes(chartType2);\n      if (shouldBeEnabled === this.modulesManager.isEnabled(module))\n        continue;\n      if (shouldBeEnabled) {\n        this.modulesManager.addModule(module, (m) => new m.instanceConstructor(this.getModuleContext()));\n        if (module.type === \"legend\") {\n          (_a = this.modulesManager.getModule(module)) == null ? void 0 : _a.attachLegend(this.ctx.scene);\n        }\n        this[module.optionsKey] = this.modulesManager.getModule(module);\n      } else {\n        this.modulesManager.removeModule(module);\n        delete this[module.optionsKey];\n      }\n      modulesChanged = true;\n    }\n    return modulesChanged;\n  }\n  applySeries(chart, optSeries, oldOptSeries) {\n    var _a;\n    if (!optSeries) {\n      return \"no-change\";\n    }\n    const matchResult = matchSeriesOptions(chart.series, optSeries, oldOptSeries);\n    if (matchResult.status === \"no-overlap\") {\n      debug(\n        `AgChartV2.applySeries() - creating new series instances, status: ${matchResult.status}`,\n        matchResult\n      );\n      chart.series = optSeries.map((opts) => this.createSeries(opts));\n      return \"replaced\";\n    }\n    debug(`AgChartV2.applySeries() - matchResult`, matchResult);\n    const seriesInstances = [];\n    let dataChanged = false;\n    let groupingChanged = false;\n    let isUpdated = false;\n    for (const change of matchResult.changes) {\n      groupingChanged || (groupingChanged = change.status === \"series-grouping\");\n      dataChanged || (dataChanged = ((_a = change.diff) == null ? void 0 : _a.data) != null);\n      isUpdated || (isUpdated = change.status !== \"no-op\");\n      switch (change.status) {\n        case \"add\":\n          const newSeries = this.createSeries(change.opts);\n          seriesInstances.push(newSeries);\n          debug(`AgChartV2.applySeries() - created new series`, newSeries);\n          break;\n        case \"remove\":\n          debug(`AgChartV2.applySeries() - removing series at previous idx ${change.idx}`, change.series);\n          break;\n        case \"no-op\":\n          seriesInstances.push(change.series);\n          debug(`AgChartV2.applySeries() - no change to series at previous idx ${change.idx}`, change.series);\n          break;\n        case \"series-grouping\":\n        case \"update\":\n        default:\n          const { series, diff: diff2, idx } = change;\n          debug(`AgChartV2.applySeries() - applying series diff previous idx ${idx}`, diff2, series);\n          this.applySeriesValues(series, diff2);\n          series.markNodeDataDirty();\n          seriesInstances.push(series);\n      }\n    }\n    for (let idx = 0; idx < seriesInstances.length; idx++) {\n      seriesInstances[idx]._declarationOrder = idx;\n    }\n    debug(`AgChartV2.applySeries() - final series instances`, seriesInstances);\n    chart.series = seriesInstances;\n    if (groupingChanged) {\n      return \"series-grouping-change\";\n    }\n    if (dataChanged) {\n      return \"data-change\";\n    }\n    return isUpdated ? \"updated\" : \"no-op\";\n  }\n  applyAxes(chart, options, oldOpts, seriesStatus, skip = []) {\n    if (!(\"axes\" in options) || !options.axes) {\n      return false;\n    }\n    skip = [\"axes[].type\", ...skip];\n    const { axes } = options;\n    const forceRecreate = seriesStatus === \"replaced\";\n    const matchingTypes = !forceRecreate && chart.axes.length === axes.length && chart.axes.every((a, i) => a.type === axes[i].type);\n    if (matchingTypes && isAgCartesianChartOptions(oldOpts)) {\n      chart.axes.forEach((axis, index) => {\n        var _a, _b;\n        const previousOpts = (_b = (_a = oldOpts.axes) == null ? void 0 : _a[index]) != null ? _b : {};\n        const axisDiff = jsonDiff(previousOpts, axes[index]);\n        debug(`AgChartV2.applyAxes() - applying axis diff idx ${index}`, axisDiff);\n        const path = `axes[${index}]`;\n        jsonApply(axis, axisDiff, __spreadProps(__spreadValues2({}, JSON_APPLY_PLUGINS), { path, skip }));\n      });\n      return true;\n    }\n    debug(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${seriesStatus}`);\n    chart.axes = this.createAxis(axes, skip);\n    return true;\n  }\n  createSeries(seriesOptions) {\n    const seriesInstance = seriesRegistry.create(seriesOptions.type, this.getModuleContext());\n    this.applySeriesOptionModules(seriesInstance, seriesOptions);\n    this.applySeriesValues(seriesInstance, seriesOptions);\n    return seriesInstance;\n  }\n  applySeriesOptionModules(series, options) {\n    const moduleContext = series.createModuleContext();\n    const moduleMap = series.getModuleMap();\n    for (const module of moduleRegistry.byType(\"series-option\")) {\n      if (module.optionsKey in options && module.seriesTypes.includes(series.type)) {\n        moduleMap.addModule(module, (m) => new m.instanceConstructor(moduleContext));\n      }\n    }\n  }\n  applySeriesValues(target, options) {\n    const moduleMap = target.getModuleMap();\n    const _a = options, { type: _, data, listeners, seriesGrouping, showInMiniChart: __ } = _a, seriesOptions = __objRest(_a, [\"type\", \"data\", \"listeners\", \"seriesGrouping\", \"showInMiniChart\"]);\n    for (const moduleDef of EXPECTED_ENTERPRISE_MODULES) {\n      if (moduleDef.type !== \"series-option\")\n        continue;\n      if (moduleDef.optionsKey in seriesOptions) {\n        const module = moduleMap.getModule(moduleDef.optionsKey);\n        const moduleOptions = seriesOptions[moduleDef.optionsKey];\n        delete seriesOptions[moduleDef.optionsKey];\n        module.properties.set(moduleOptions);\n      }\n    }\n    target.properties.set(seriesOptions);\n    if (\"data\" in options) {\n      target.setOptionsData(data);\n    }\n    if (listeners) {\n      this.registerListeners(target, listeners);\n    }\n    if (\"seriesGrouping\" in options) {\n      if (seriesGrouping == null) {\n        target.seriesGrouping = void 0;\n      } else {\n        target.seriesGrouping = __spreadValues2(__spreadValues2({}, target.seriesGrouping), seriesGrouping);\n      }\n    }\n  }\n  createAxis(options, skip) {\n    const guesser = new AxisPositionGuesser();\n    const moduleContext = this.getModuleContext();\n    for (let index = 0; index < options.length; index++) {\n      const axisOptions = options[index];\n      const axis = axisRegistry.create(axisOptions.type, moduleContext);\n      this.applyAxisModules(axis, axisOptions);\n      jsonApply(axis, axisOptions, __spreadProps(__spreadValues2({}, JSON_APPLY_PLUGINS), { path: `axes[${index}]`, skip }));\n      guesser.push(axis, axisOptions);\n    }\n    return guesser.guessInvalidPositions();\n  }\n  applyAxisModules(axis, options) {\n    const moduleContext = axis.createModuleContext();\n    const moduleMap = axis.getModuleMap();\n    for (const module of moduleRegistry.byType(\"axis-option\")) {\n      const shouldBeEnabled = options[module.optionsKey] != null;\n      if (shouldBeEnabled === moduleMap.isEnabled(module))\n        continue;\n      if (shouldBeEnabled) {\n        moduleMap.addModule(module, (m) => new m.instanceConstructor(moduleContext));\n        axis[module.optionsKey] = moduleMap.getModule(module);\n      } else {\n        moduleMap.removeModule(module);\n        delete axis[module.optionsKey];\n      }\n    }\n  }\n  registerListeners(source, listeners) {\n    source.clearEventListeners();\n    for (const [property, listener] of Object.entries(listeners)) {\n      if (isFunction(listener)) {\n        source.addEventListener(property, listener);\n      }\n    }\n  }\n};\n_Chart.chartsInstances = /* @__PURE__ */ new WeakMap();\n__decorateClass2([\n  ActionOnSet({\n    newValue(value) {\n      if (this.destroyed)\n        return;\n      value.setAttribute(\"data-ag-charts\", \"\");\n      value.appendChild(this.element);\n      _Chart.chartsInstances.set(value, this);\n    },\n    oldValue(value) {\n      value.removeAttribute(\"data-ag-charts\");\n      value.removeChild(this.element);\n      _Chart.chartsInstances.delete(value);\n    }\n  })\n], _Chart.prototype, \"container\", 2);\n__decorateClass2([\n  ActionOnSet({\n    newValue(value) {\n      this.resize(value, void 0, \"width option\");\n    }\n  })\n], _Chart.prototype, \"width\", 2);\n__decorateClass2([\n  ActionOnSet({\n    newValue(value) {\n      this.resize(void 0, value, \"height option\");\n    }\n  })\n], _Chart.prototype, \"height\", 2);\n__decorateClass2([\n  ActionOnSet({\n    newValue(value) {\n      this.onAutoSizeChange(value);\n    }\n  }),\n  Validate(BOOLEAN)\n], _Chart.prototype, \"autoSize\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], _Chart.prototype, \"padding\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], _Chart.prototype, \"seriesArea\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], _Chart.prototype, \"title\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], _Chart.prototype, \"subtitle\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], _Chart.prototype, \"footnote\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], _Chart.prototype, \"keyboard\", 2);\n__decorateClass2([\n  Validate(UNION([\"standalone\", \"integrated\"], \"a chart mode\"))\n], _Chart.prototype, \"mode\", 2);\n__decorateClass2([\n  ActionOnSet({\n    changeValue(newValue, oldValue) {\n      this.onAxisChange(newValue, oldValue);\n    }\n  })\n], _Chart.prototype, \"axes\", 2);\n__decorateClass2([\n  ActionOnSet({\n    changeValue(newValue, oldValue) {\n      this.onSeriesChange(newValue, oldValue);\n    }\n  })\n], _Chart.prototype, \"series\", 2);\nvar Chart = _Chart;\nfunction linearRoot(a, b) {\n  const t = -b / a;\n  return a !== 0 && t >= 0 && t <= 1 ? [t] : [];\n}\nfunction quadraticRoots(a, b, c) {\n  if (a === 0) {\n    return linearRoot(b, c);\n  }\n  const D = b * b - 4 * a * c;\n  const roots = [];\n  if (D === 0) {\n    const t = -b / (2 * a);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n  } else if (D > 0) {\n    const rD = Math.sqrt(D);\n    const t1 = (-b - rD) / (2 * a);\n    const t2 = (-b + rD) / (2 * a);\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n  }\n  return roots;\n}\nfunction cubicRoots(a, b, c, d) {\n  if (a === 0) {\n    return quadraticRoots(b, c, d);\n  }\n  const A = b / a;\n  const B = c / a;\n  const C = d / a;\n  const Q = (3 * B - A * A) / 9;\n  const R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n  const D = Q * Q * Q + R * R;\n  const third = 1 / 3;\n  const roots = [];\n  if (D >= 0) {\n    const rD = Math.sqrt(D);\n    const S = Math.sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n    const T = Math.sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n    const Im = Math.abs(Math.sqrt(3) * (S - T) / 2);\n    const t = -third * A + (S + T);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n    if (Im === 0) {\n      const t2 = -third * A - (S + T) / 2;\n      if (t2 >= 0 && t2 <= 1) {\n        roots.push(t2);\n      }\n    }\n  } else {\n    const theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n    const thirdA = third * A;\n    const twoSqrtQ = 2 * Math.sqrt(-Q);\n    const t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n    const t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n    const t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n    if (t3 >= 0 && t3 <= 1) {\n      roots.push(t3);\n    }\n  }\n  return roots;\n}\nfunction segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n  const d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n  if (d === 0) {\n    return 0;\n  }\n  const ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n  const ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n  if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n    return 1;\n  }\n  return 0;\n}\nfunction cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n  let intersections = 0;\n  const A = y1 - y2;\n  const B = x2 - x1;\n  const C = x1 * (y2 - y1) - y1 * (x2 - x1);\n  const bx = bezierCoefficients(px1, px2, px3, px4);\n  const by = bezierCoefficients(py1, py2, py3, py4);\n  const a = A * bx[0] + B * by[0];\n  const b = A * bx[1] + B * by[1];\n  const c = A * bx[2] + B * by[2];\n  const d = A * bx[3] + B * by[3] + C;\n  const roots = cubicRoots(a, b, c, d);\n  for (const t of roots) {\n    const tt = t * t;\n    const ttt = t * tt;\n    const x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n    const y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n    let s;\n    if (x1 === x2) {\n      s = (y - y1) / (y2 - y1);\n    } else {\n      s = (x - x1) / (x2 - x1);\n    }\n    if (s >= 0 && s <= 1) {\n      intersections++;\n    }\n  }\n  return intersections;\n}\nfunction bezierCoefficients(P1, P2, P3, P4) {\n  return [\n    // B\u00E9zier expressed as matrix operations:\n    -P1 + 3 * P2 - 3 * P3 + P4,\n    //                 |-1  3 -3  1| |P1|\n    3 * P1 - 6 * P2 + 3 * P3,\n    //   [t^3 t^2 t 1] | 3 -6  3  0| |P2|\n    -3 * P1 + 3 * P2,\n    //                 |-3  3  0  0| |P3|\n    P1\n    //                 | 1  0  0  0| |P4|\n  ];\n}\nfunction arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, x1, y1, x2, y2) {\n  if (isNaN(cx) || isNaN(cy)) {\n    return 0;\n  }\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const k = (y2 - y1) / (x2 - x1);\n  const y0 = y1 - k * x1;\n  const a = Math.pow(k, 2) + 1;\n  const b = 2 * (k * (y0 - cy) - cx);\n  const c = Math.pow(cx, 2) + Math.pow(y0 - cy, 2) - Math.pow(r, 2);\n  const d = Math.pow(b, 2) - 4 * a * c;\n  if (d < 0) {\n    return 0;\n  }\n  const i1x = (-b + Math.sqrt(d)) / 2 / a;\n  const i2x = (-b - Math.sqrt(d)) / 2 / a;\n  let intersections = 0;\n  [i1x, i2x].forEach((x) => {\n    const isXInsideLine = x >= Math.min(x1, x2) && x <= Math.max(x1, x2);\n    if (!isXInsideLine) {\n      return;\n    }\n    const y = k * x + y0;\n    const adjacent = x - cx;\n    const opposite = y - cy;\n    const angle = Math.atan2(opposite, adjacent);\n    if (isBetweenAngles(angle, startAngle, endAngle)) {\n      intersections++;\n    }\n  });\n  return intersections;\n}\nvar ExtendedPath2D = class {\n  constructor() {\n    this.path2d = new Path2D();\n    this.previousCommands = [];\n    this.previousParams = [];\n    this.previousClosedPath = false;\n    this.commands = [];\n    this.params = [];\n    this.openedPath = false;\n    this.closedPath = false;\n  }\n  isDirty() {\n    return this.closedPath !== this.previousClosedPath || this.previousCommands.length !== this.commands.length || this.previousParams.length !== this.params.length || this.previousCommands.toString() !== this.commands.toString() || this.previousParams.toString() !== this.params.toString();\n  }\n  getPath2D() {\n    return this.path2d;\n  }\n  moveTo(x, y) {\n    this.openedPath = true;\n    this.path2d.moveTo(x, y);\n    this.commands.push(\n      0\n      /* Move */\n    );\n    this.params.push(x, y);\n  }\n  lineTo(x, y) {\n    if (this.openedPath) {\n      this.path2d.lineTo(x, y);\n      this.commands.push(\n        1\n        /* Line */\n      );\n      this.params.push(x, y);\n    } else {\n      this.moveTo(x, y);\n    }\n  }\n  rect(x, y, width, height) {\n    this.moveTo(x, y);\n    this.lineTo(x + width, y);\n    this.lineTo(x + width, y + height);\n    this.lineTo(x, y + height);\n    this.closePath();\n  }\n  roundRect(x, y, width, height, radii) {\n    radii = Math.min(radii, width / 2, height / 2);\n    this.moveTo(x, y + radii);\n    this.arc(x + radii, y + radii, radii, Math.PI, 1.5 * Math.PI);\n    this.lineTo(x + radii, y);\n    this.lineTo(x + width - radii, y);\n    this.arc(x + width - radii, y + radii, radii, 1.5 * Math.PI, 2 * Math.PI);\n    this.lineTo(x + width, y + radii);\n    this.lineTo(x + width, y + height - radii);\n    this.arc(x + width - radii, y + height - radii, radii, 0, Math.PI / 2);\n    this.lineTo(x + width - radii, y + height);\n    this.lineTo(x + radii, y + height);\n    this.arc(x + +radii, y + height - radii, radii, Math.PI / 2, Math.PI);\n    this.lineTo(x, y + height - radii);\n    this.closePath();\n  }\n  arc(x, y, r, sAngle, eAngle, counterClockwise) {\n    this.openedPath = true;\n    this.path2d.arc(x, y, r, sAngle, eAngle, counterClockwise);\n    this.commands.push(\n      2\n      /* Arc */\n    );\n    this.params.push(x, y, r, sAngle, eAngle, counterClockwise ? 1 : 0);\n  }\n  cubicCurveTo(cx1, cy1, cx2, cy2, x, y) {\n    if (!this.openedPath) {\n      this.moveTo(cx1, cy1);\n    }\n    this.path2d.bezierCurveTo(cx1, cy1, cx2, cy2, x, y);\n    this.commands.push(\n      3\n      /* Curve */\n    );\n    this.params.push(cx1, cy1, cx2, cy2, x, y);\n  }\n  closePath() {\n    if (this.openedPath) {\n      this.path2d.closePath();\n      this.commands.push(\n        4\n        /* ClosePath */\n      );\n      this.openedPath = false;\n      this.closedPath = true;\n    }\n  }\n  clear(trackChanges) {\n    if (trackChanges) {\n      this.previousCommands = this.commands;\n      this.previousParams = this.params;\n      this.previousClosedPath = this.closedPath;\n    }\n    this.path2d = new Path2D();\n    this.openedPath = false;\n    this.closedPath = false;\n    this.commands = [];\n    this.params = [];\n  }\n  isPointInPath(x, y) {\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    const ox = -1e4;\n    const oy = -1e4;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    let intersectionCount = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          px = params[pi++];\n          sx = px;\n          py = params[pi++];\n          sy = py;\n          break;\n        case 1:\n          intersectionCount += segmentIntersection(px, py, params[pi++], params[pi++], ox, oy, x, y);\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 3:\n          intersectionCount += cubicSegmentIntersections(\n            px,\n            py,\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            ox,\n            oy,\n            x,\n            y\n          );\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 2:\n          const cx = params[pi++];\n          const cy = params[pi++];\n          const r = params[pi++];\n          const startAngle = params[pi++];\n          const endAngle = params[pi++];\n          const counterClockwise = Boolean(params[pi++]);\n          intersectionCount += arcIntersections(\n            cx,\n            cy,\n            r,\n            startAngle,\n            endAngle,\n            counterClockwise,\n            ox,\n            oy,\n            x,\n            y\n          );\n          if (!isNaN(sx)) {\n            const startX = cx + Math.cos(startAngle) * r;\n            const startY = cy + Math.sin(startAngle) * r;\n            intersectionCount += segmentIntersection(px, py, startX, startY, ox, oy, x, y);\n          }\n          px = cx + Math.cos(endAngle) * r;\n          py = cy + Math.sin(endAngle) * r;\n          break;\n        case 4:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          break;\n      }\n    }\n    return intersectionCount % 2 === 1;\n  }\n  distanceSquared(x, y) {\n    let best = Infinity;\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0:\n          px = sx = params[pi++];\n          py = sy = params[pi++];\n          break;\n        case 1: {\n          const nx = params[pi++];\n          const ny = params[pi++];\n          best = lineDistanceSquared(x, y, px, py, nx, ny, best);\n          break;\n        }\n        case 3:\n          Logger.error(\"Command.Curve distanceSquare not implemented\");\n          break;\n        case 2: {\n          const cx = params[pi++];\n          const cy = params[pi++];\n          const r = params[pi++];\n          const startAngle = params[pi++];\n          const endAngle = params[pi++];\n          const startX = cx + Math.cos(startAngle) * r;\n          const startY = cy + Math.sin(startAngle) * r;\n          const counterClockwise = Boolean(params[pi++]);\n          best = lineDistanceSquared(x, y, px, py, startX, startY, best);\n          best = arcDistanceSquared(x, y, cx, cy, r, startAngle, endAngle, counterClockwise, best);\n          px = cx + Math.cos(endAngle) * r;\n          py = cy + Math.sin(endAngle) * r;\n          break;\n        }\n        case 4:\n          best = lineDistanceSquared(x, y, px, py, sx, sy, best);\n          break;\n      }\n    }\n    return best;\n  }\n  getPoints() {\n    const { commands, params } = this;\n    const coords = [];\n    let pi = 0;\n    for (let ci = 0; ci < commands.length; ci++) {\n      switch (commands[ci]) {\n        case 0:\n        case 1:\n          coords.push({ x: params[pi++], y: params[pi++] });\n          break;\n        case 3:\n          pi += 4;\n          coords.push({ x: params[pi++], y: params[pi++] });\n          break;\n        case 2:\n          coords.push({ x: params[pi++], y: params[pi++] });\n          pi += 4;\n          break;\n        case 4:\n          break;\n      }\n    }\n    return coords;\n  }\n};\nfunction ScenePathChangeDetection(opts) {\n  const { redraw = 3, changeCb, convertor } = opts != null ? opts : {};\n  return SceneChangeDetection({ redraw, type: \"path\", convertor, changeCb });\n}\nvar Path = class extends Shape {\n  constructor() {\n    super(...arguments);\n    this.path = new ExtendedPath2D();\n    this._clipX = NaN;\n    this._clipY = NaN;\n    this._dirtyPath = true;\n  }\n  set clipX(value) {\n    this._clipX = value;\n    this.dirtyPath = true;\n  }\n  set clipY(value) {\n    this._clipY = value;\n    this.dirtyPath = true;\n  }\n  set dirtyPath(value) {\n    if (this._dirtyPath !== value) {\n      this._dirtyPath = value;\n      if (value) {\n        this.markDirty(\n          this,\n          3\n          /* MAJOR */\n        );\n      }\n    }\n  }\n  get dirtyPath() {\n    return this._dirtyPath;\n  }\n  checkPathDirty() {\n    var _a, _b, _c, _d;\n    if (this._dirtyPath) {\n      return;\n    }\n    this.dirtyPath = this.path.isDirty() || ((_b = (_a = this.fillShadow) == null ? void 0 : _a.isDirty()) != null ? _b : false) || ((_d = (_c = this._clipPath) == null ? void 0 : _c.isDirty()) != null ? _d : false);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n  }\n  distanceSquared(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.distanceSquared(point.x, point.y);\n  }\n  isDirtyPath() {\n    return false;\n  }\n  updatePath() {\n  }\n  render(renderCtx) {\n    var _a, _b, _c, _d, _e;\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (this.dirtyPath || this.isDirtyPath()) {\n      this.updatePath();\n      this.dirtyPath = false;\n    }\n    if (!isNaN(this._clipX) && !isNaN(this._clipY) && this.clipMode != null) {\n      ctx.save();\n      const margin = this.strokeWidth / 2;\n      (_a = this._clipPath) != null ? _a : this._clipPath = new ExtendedPath2D();\n      this._clipPath.clear();\n      this._clipPath.rect(-margin, -margin, this._clipX + margin, this._clipY + margin + margin);\n      if (this.clipMode === \"normal\") {\n        ctx.clip((_b = this._clipPath) == null ? void 0 : _b.getPath2D());\n      }\n      if (this._clipX > 0 && this._clipY > 0) {\n        this.drawPath(ctx);\n      }\n      if (this.clipMode === \"punch-out\") {\n        ctx.clip((_c = this._clipPath) == null ? void 0 : _c.getPath2D());\n        const { x = -1e4, y = -1e4, width = 2e4, height = 2e4 } = (_d = this.computeBBox()) != null ? _d : {};\n        ctx.clearRect(x, y, width, height);\n      }\n      ctx.restore();\n    } else {\n      this.drawPath(ctx);\n    }\n    (_e = this.fillShadow) == null ? void 0 : _e.markClean();\n    super.render(renderCtx);\n  }\n  drawPath(ctx) {\n    this.fillStroke(ctx, this.path.getPath2D());\n  }\n};\nPath.className = \"Path\";\n__decorateClass2([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipMode\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipX\", 1);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipY\", 1);\nvar QuadtreeNearest = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.root = new QuadtreeNodeNearest(capacity, maxdepth, boundary);\n  }\n  clear(boundary) {\n    this.root.clear(boundary);\n  }\n  addValue(hitTester, value) {\n    const elem = {\n      hitTester,\n      value,\n      distanceSquared: (x, y) => {\n        return hitTester.distanceSquared(x, y);\n      }\n    };\n    this.root.addElem(elem);\n  }\n  find(x, y) {\n    const arg = { best: { nearest: void 0, distanceSquared: Infinity } };\n    this.root.find(x, y, arg);\n    return arg.best;\n  }\n};\nvar QuadtreeSubdivisions = class {\n  constructor(nw, ne, sw, se) {\n    this.nw = nw;\n    this.ne = ne;\n    this.sw = sw;\n    this.se = se;\n  }\n  addElem(elem) {\n    this.nw.addElem(elem);\n    this.ne.addElem(elem);\n    this.sw.addElem(elem);\n    this.se.addElem(elem);\n  }\n  find(x, y, arg) {\n    this.nw.find(x, y, arg);\n    this.ne.find(x, y, arg);\n    this.sw.find(x, y, arg);\n    this.se.find(x, y, arg);\n  }\n};\nvar QuadtreeNode = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.capacity = capacity;\n    this.maxdepth = maxdepth;\n    this.boundary = boundary != null ? boundary : BBox.NaN;\n    this.elems = [];\n    this.subdivisions = void 0;\n  }\n  clear(boundary) {\n    this.elems.length = 0;\n    this.boundary = boundary;\n    this.subdivisions = void 0;\n  }\n  addElem(e) {\n    if (this.addCondition(e)) {\n      if (this.subdivisions === void 0) {\n        if (this.maxdepth === 0 || this.elems.length < this.capacity) {\n          this.elems.push(e);\n        } else {\n          this.subdivide(e);\n        }\n      } else {\n        this.subdivisions.addElem(e);\n      }\n    }\n  }\n  find(x, y, arg) {\n    if (this.findCondition(x, y, arg)) {\n      if (this.subdivisions === void 0) {\n        this.findAction(x, y, arg);\n      } else {\n        this.subdivisions.find(x, y, arg);\n      }\n    }\n  }\n  subdivide(newElem) {\n    this.subdivisions = this.makeSubdivisions();\n    for (const e of this.elems) {\n      this.subdivisions.addElem(e);\n    }\n    this.subdivisions.addElem(newElem);\n    this.elems.length = 0;\n  }\n  makeSubdivisions() {\n    const { x, y, width, height } = this.boundary;\n    const { capacity } = this;\n    const depth = this.maxdepth - 1;\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const nwBoundary = new BBox(x, y, halfWidth, halfHeight);\n    const neBoundary = new BBox(x + halfWidth, y, halfWidth, halfHeight);\n    const swBoundary = new BBox(x, y + halfHeight, halfWidth, halfHeight);\n    const seBoundary = new BBox(x + halfWidth, y + halfHeight, halfWidth, halfHeight);\n    return new QuadtreeSubdivisions(\n      this.child(capacity, depth, nwBoundary),\n      this.child(capacity, depth, neBoundary),\n      this.child(capacity, depth, swBoundary),\n      this.child(capacity, depth, seBoundary)\n    );\n  }\n};\nvar QuadtreeNodeNearest = class _QuadtreeNodeNearest extends QuadtreeNode {\n  addCondition(e) {\n    const { x, y } = e.hitTester.midPoint;\n    return this.boundary.containsPoint(x, y);\n  }\n  findCondition(x, y, arg) {\n    const { best } = arg;\n    return best.distanceSquared !== 0 && this.boundary.distanceSquared(x, y) < best.distanceSquared;\n  }\n  findAction(x, y, arg) {\n    const other = nearestSquared(x, y, this.elems, arg.best.distanceSquared);\n    if (other.nearest !== void 0 && other.distanceSquared < arg.best.distanceSquared) {\n      arg.best = other;\n    }\n  }\n  child(capacity, depth, boundary) {\n    return new _QuadtreeNodeNearest(capacity, depth, boundary);\n  }\n};\nvar Marker = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.size = 12;\n  }\n  computeBBox() {\n    const { x, y, size } = this;\n    const { center } = this.constructor;\n    return new BBox(x - size * center.x, y - size * center.y, size, size);\n  }\n  applyPath(s, moves) {\n    const { path } = this;\n    let { x, y } = this;\n    if (this.repeat != null) {\n      x = 0;\n      y = 0;\n    }\n    path.clear();\n    for (const { x: mx, y: my, t } of moves) {\n      x += mx * s;\n      y += my * s;\n      if (t === \"move\") {\n        path.moveTo(x, y);\n      } else {\n        path.lineTo(x, y);\n      }\n    }\n    path.closePath();\n  }\n  executeFill(ctx, path) {\n    if (!path)\n      return;\n    if (this.repeat == null) {\n      return super.executeFill(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.fill(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n  executeStroke(ctx, path) {\n    if (!path)\n      return;\n    if (this.repeat == null) {\n      return super.executeStroke(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.stroke(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n};\nMarker.center = { x: 0.5, y: 0.5 };\n__decorateClass2([\n  ScenePathChangeDetection()\n], Marker.prototype, \"x\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Marker.prototype, \"y\", 2);\n__decorateClass2([\n  ScenePathChangeDetection({ convertor: Math.abs })\n], Marker.prototype, \"size\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Marker.prototype, \"repeat\", 2);\nvar Circle = class extends Marker {\n  updatePath() {\n    const { x, y, path, size } = this;\n    const r = size / 2;\n    path.clear();\n    path.arc(x, y, r, 0, Math.PI * 2);\n    path.closePath();\n  }\n};\nCircle.className = \"Circle\";\nvar _Cross = class _Cross2 extends Marker {\n  updatePath() {\n    const s = this.size / 4.2;\n    super.applyPath(s, _Cross2.moves);\n  }\n};\n_Cross.className = \"Cross\";\n_Cross.moves = [\n  { x: -1, y: 0, t: \"move\" },\n  { x: -1, y: -1 },\n  { x: 1, y: -1 },\n  { x: 1, y: 1 },\n  { x: 1, y: -1 },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 }\n];\nvar Cross = _Cross;\nvar _Diamond = class _Diamond2 extends Marker {\n  updatePath() {\n    const s = this.size / 2;\n    super.applyPath(s, _Diamond2.moves);\n  }\n};\n_Diamond.className = \"Diamond\";\n_Diamond.moves = [\n  { x: 0, y: -1, t: \"move\" },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 },\n  { x: 1, y: -1 }\n];\nvar Diamond = _Diamond;\nvar Heart = class extends Marker {\n  rad(degree) {\n    return degree / 180 * Math.PI;\n  }\n  updatePath() {\n    const { x, path, size, rad } = this;\n    const r = size / 4;\n    const y = this.y + r / 2;\n    path.clear();\n    path.arc(x - r, y - r, r, rad(130), rad(330));\n    path.arc(x + r, y - r, r, rad(220), rad(50));\n    path.lineTo(x, y + r);\n    path.closePath();\n  }\n};\nHeart.className = \"Heart\";\nvar Pin = class extends Marker {\n  updatePath() {\n    const { path, x, y } = this;\n    const s = this.size;\n    const cx = 0.5;\n    const cy = 1;\n    path.clear();\n    path.moveTo(x + (0.15625 - cx) * s, y + (0.34375 - cy) * s);\n    path.cubicCurveTo(\n      x + (0.15625 - cx) * s,\n      y + (0.151491 - cy) * s,\n      x + (0.307741 - cx) * s,\n      y + (0 - cy) * s,\n      x + (0.5 - cx) * s,\n      y + (0 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.692259 - cx) * s,\n      y + (0 - cy) * s,\n      x + (0.84375 - cx) * s,\n      y + (0.151491 - cy) * s,\n      x + (0.84375 - cx) * s,\n      y + (0.34375 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.84375 - cx) * s,\n      y + (0.493824 - cy) * s,\n      x + (0.784625 - cx) * s,\n      y + (0.600181 - cy) * s,\n      x + (0.716461 - cx) * s,\n      y + (0.695393 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.699009 - cx) * s,\n      y + (0.719769 - cy) * s,\n      x + (0.681271 - cx) * s,\n      y + (0.743104 - cy) * s,\n      x + (0.663785 - cx) * s,\n      y + (0.766105 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.611893 - cx) * s,\n      y + (0.834367 - cy) * s,\n      x + (0.562228 - cx) * s,\n      y + (0.899699 - cy) * s,\n      x + (0.528896 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.524075 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.512663 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.5 - cx) * s,\n      y + (1 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.487337 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.475925 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.471104 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.487337 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.475925 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.471104 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.437772 - cx) * s,\n      y + (0.899699 - cy) * s,\n      x + (0.388107 - cx) * s,\n      y + (0.834367 - cy) * s,\n      x + (0.336215 - cx) * s,\n      y + (0.766105 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.318729 - cx) * s,\n      y + (0.743104 - cy) * s,\n      x + (0.300991 - cx) * s,\n      y + (0.719769 - cy) * s,\n      x + (0.283539 - cx) * s,\n      y + (0.695393 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.215375 - cx) * s,\n      y + (0.600181 - cy) * s,\n      x + (0.15625 - cx) * s,\n      y + (0.493824 - cy) * s,\n      x + (0.15625 - cx) * s,\n      y + (0.34375 - cy) * s\n    );\n    path.closePath();\n  }\n};\nPin.className = \"MapPin\";\nPin.center = { x: 0.5, y: 1 };\nvar _Plus = class _Plus2 extends Marker {\n  updatePath() {\n    const s = this.size / 3;\n    super.applyPath(s, _Plus2.moves);\n  }\n};\n_Plus.className = \"Plus\";\n_Plus.moves = [\n  { x: -0.5, y: -0.5, t: \"move\" },\n  { x: 0, y: -1 },\n  { x: 1, y: 0 },\n  { x: 0, y: 1 },\n  { x: 1, y: 0 },\n  { x: 0, y: 1 },\n  { x: -1, y: 0 },\n  { x: 0, y: 1 },\n  { x: -1, y: 0 },\n  { x: 0, y: -1 },\n  { x: -1, y: 0 },\n  { x: 0, y: -1 }\n];\nvar Plus = _Plus;\nvar Square = class extends Marker {\n  updatePath() {\n    const { path, x, y } = this;\n    const hs = this.size / 2;\n    path.clear();\n    path.moveTo(this.align(x - hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y + hs));\n    path.lineTo(this.align(x - hs), this.align(y + hs));\n    path.closePath();\n  }\n};\nSquare.className = \"Square\";\nvar Star = class extends Marker {\n  updatePath() {\n    const { x, y, path, size } = this;\n    const spikes = 5;\n    const innerRadius = size / 2;\n    const rotation = Math.PI / 2;\n    path.clear();\n    for (let i = 0; i < spikes * 2; i++) {\n      const radius = i % 2 === 0 ? size : innerRadius;\n      const angle = i * Math.PI / spikes - rotation;\n      const xCoordinate = x + Math.cos(angle) * radius;\n      const yCoordinate = y + Math.sin(angle) * radius;\n      path.lineTo(xCoordinate, yCoordinate);\n    }\n    path.closePath();\n  }\n};\nStar.className = \"Star\";\nvar _Triangle = class _Triangle2 extends Marker {\n  updatePath() {\n    const s = this.size * 1.1;\n    super.applyPath(s, _Triangle2.moves);\n  }\n};\n_Triangle.className = \"Triangle\";\n_Triangle.moves = [\n  { x: 0, y: -0.48, t: \"move\" },\n  { x: 0.5, y: 0.87 },\n  { x: -1, y: 0 }\n];\nvar Triangle = _Triangle;\nvar MARKER_SHAPES = {\n  circle: Circle,\n  cross: Cross,\n  diamond: Diamond,\n  heart: Heart,\n  pin: Pin,\n  plus: Plus,\n  square: Square,\n  star: Star,\n  triangle: Triangle\n};\nvar MARKER_SUPPORTED_SHAPES = Object.keys(MARKER_SHAPES);\nfunction isMarkerShape(shape) {\n  return typeof shape === \"string\" && MARKER_SUPPORTED_SHAPES.includes(shape);\n}\nfunction getMarker(shape = Square) {\n  if (isMarkerShape(shape)) {\n    return MARKER_SHAPES[shape];\n  }\n  if (typeof shape === \"function\") {\n    return shape;\n  }\n  return Square;\n}\nvar DataModelSeries = class extends Series {\n  getScaleInformation({\n    xScale,\n    yScale\n  }) {\n    const isContinuousX = ContinuousScale.is(xScale);\n    const isContinuousY = ContinuousScale.is(yScale);\n    return { isContinuousX, isContinuousY, xScaleType: xScale == null ? void 0 : xScale.type, yScaleType: yScale == null ? void 0 : yScale.type };\n  }\n  getModulePropertyDefinitions() {\n    var _a, _b;\n    const xScale = (_a = this.axes[\n      \"x\"\n      /* X */\n    ]) == null ? void 0 : _a.scale;\n    const yScale = (_b = this.axes[\n      \"y\"\n      /* Y */\n    ]) == null ? void 0 : _b.scale;\n    return this.moduleMap.mapModules((mod2) => mod2.getPropertyDefinitions(this.getScaleInformation({ xScale, yScale }))).flat();\n  }\n  // Request data, but with message dispatching to series-options (modules).\n  requestDataModel(dataController, data, opts) {\n    return __async(this, null, function* () {\n      opts.props.push(...this.getModulePropertyDefinitions());\n      const { dataModel, processedData } = yield dataController.request(this.id, data != null ? data : [], opts);\n      this.dataModel = dataModel;\n      this.processedData = processedData;\n      this.dispatch(\"data-processed\", { dataModel, processedData });\n      return { dataModel, processedData };\n    });\n  }\n  isProcessedDataAnimatable() {\n    var _a, _b;\n    const validationResults = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation;\n    if (!validationResults) {\n      return true;\n    }\n    const { orderedKeys, uniqueKeys } = validationResults;\n    return orderedKeys && uniqueKeys;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  pickFocus(opts) {\n    return this.doPickFocus(opts, this);\n  }\n  // The legend behaves differently for Pie and Donut series. We need to use a seriesItemEnabled\n  // array to determine whether a datum has been toggled on/off using the legend.\n  doPickFocus(opts, derivedSeries) {\n    const nodeData = this.getNodeData();\n    if (nodeData === void 0 || nodeData.length === 0) {\n      return void 0;\n    }\n    const { datumIndexDelta, seriesRect } = opts;\n    const datumIndex = this.computeFocusDatumIndex(opts, nodeData, derivedSeries.seriesItemEnabled);\n    const datum = nodeData[datumIndex];\n    const bbox = this.computeFocusBounds({ datumIndex, datumIndexDelta, seriesRect });\n    if (bbox !== void 0) {\n      return { bbox, datum, datumIndex };\n    }\n  }\n  computeFocusDatumIndex(opts, nodeData, seriesItemEnabled) {\n    if (seriesItemEnabled && nodeData.length !== seriesItemEnabled.length) {\n      Logger.error(\n        `invalid state: nodeData.length (${nodeData.length} !== seriesItemEnabled.length (${seriesItemEnabled == null ? void 0 : seriesItemEnabled.length})`\n      );\n    }\n    const isDatumEnabled = (datumIndex2) => {\n      const nodeDatum = nodeData[datumIndex2];\n      return (nodeDatum.missing === void 0 || nodeDatum.missing === false) && (seriesItemEnabled === void 0 || seriesItemEnabled[datumIndex2]);\n    };\n    let datumIndex = clamp(0, opts.datumIndex, nodeData.length - 1);\n    if (opts.datumIndexDelta <= 0) {\n      while (datumIndex >= 0 && !isDatumEnabled(datumIndex)) {\n        datumIndex--;\n      }\n    } else {\n      while (datumIndex < nodeData.length && !isDatumEnabled(datumIndex)) {\n        datumIndex++;\n      }\n    }\n    if (datumIndex >= 0 && datumIndex < nodeData.length) {\n      return datumIndex;\n    } else {\n      return opts.datumIndex - opts.datumIndexDelta;\n    }\n  }\n};\nvar SeriesItemHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"rgba(255,255,255, 0.33)\";\n    this.stroke = `rgba(0, 0, 0, 0.4)`;\n    this.strokeWidth = 2;\n  }\n};\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(RATIO, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"stroke\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(LINE_DASH, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"lineDash\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"lineDashOffset\", 2);\nvar SeriesHighlightStyle = class extends BaseProperties {\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO, { optional: true })\n], SeriesHighlightStyle.prototype, \"dimOpacity\", 2);\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], SeriesHighlightStyle.prototype, \"enabled\", 2);\nvar TextHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n  }\n};\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], TextHighlightStyle.prototype, \"color\", 2);\nvar HighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.item = new SeriesItemHighlightStyle();\n    this.series = new SeriesHighlightStyle();\n    this.text = new TextHighlightStyle();\n  }\n};\n__decorateClass2([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"item\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"series\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"text\", 2);\nvar SeriesProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.visible = true;\n    this.showInLegend = true;\n    this.cursor = \"default\";\n    this.nodeClickRange = \"exact\";\n    this.highlightStyle = new HighlightStyle();\n  }\n};\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], SeriesProperties.prototype, \"id\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], SeriesProperties.prototype, \"visible\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], SeriesProperties.prototype, \"showInLegend\", 2);\n__decorateClass2([\n  Validate(STRING)\n], SeriesProperties.prototype, \"cursor\", 2);\n__decorateClass2([\n  Validate(INTERACTION_RANGE)\n], SeriesProperties.prototype, \"nodeClickRange\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], SeriesProperties.prototype, \"highlightStyle\", 2);\nvar DEFAULT_CARTESIAN_DIRECTION_KEYS = {\n  [\n    \"x\"\n    /* X */\n  ]: [\"xKey\"],\n  [\n    \"y\"\n    /* Y */\n  ]: [\"yKey\"]\n};\nvar DEFAULT_CARTESIAN_DIRECTION_NAMES = {\n  [\n    \"x\"\n    /* X */\n  ]: [\"xName\"],\n  [\n    \"y\"\n    /* Y */\n  ]: [\"yName\"]\n};\nvar CartesianSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.xKey = series.properties.xKey;\n    this.yKey = series.properties.yKey;\n  }\n};\nvar CartesianSeriesProperties = class extends SeriesProperties {\n};\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], CartesianSeriesProperties.prototype, \"legendItemName\", 2);\nvar CartesianSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a, {\n      pathsPerSeries = 1,\n      hasMarkers = false,\n      hasHighlightedLabels = false,\n      pathsZIndexSubOrderOffset = [],\n      datumSelectionGarbageCollection = true,\n      markerSelectionGarbageCollection = true,\n      animationAlwaysUpdateSelections = false,\n      animationResetFns,\n      directionKeys,\n      directionNames\n    } = _b, otherOpts = __objRest(_b, [\n      \"pathsPerSeries\",\n      \"hasMarkers\",\n      \"hasHighlightedLabels\",\n      \"pathsZIndexSubOrderOffset\",\n      \"datumSelectionGarbageCollection\",\n      \"markerSelectionGarbageCollection\",\n      \"animationAlwaysUpdateSelections\",\n      \"animationResetFns\",\n      \"directionKeys\",\n      \"directionNames\"\n    ]);\n    super(__spreadValues2({\n      directionKeys,\n      directionNames,\n      canHaveAxes: true\n    }, otherOpts));\n    this.NodeEvent = CartesianSeriesNodeEvent;\n    this.dataNodeGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-dataNodes`,\n        zIndex: 4,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n      })\n    );\n    this.markerGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-markers`,\n        zIndex: 4,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"marker\")\n      })\n    );\n    this.labelGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-labels`,\n        zIndex: 8,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"labels\")\n      })\n    );\n    this.labelSelection = Selection.select(this.labelGroup, Text);\n    this.highlightSelection = Selection.select(\n      this.highlightNode,\n      () => this.opts.hasMarkers ? this.markerFactory() : this.nodeFactory()\n    );\n    this.highlightLabelSelection = Selection.select(this.highlightLabel, Text);\n    this.annotationSelections = /* @__PURE__ */ new Set();\n    this.minRectsCache = {\n      dirtyNodeData: true\n    };\n    this.debug = Debug.create();\n    if (!directionKeys || !directionNames)\n      throw new Error(`Unable to initialise series type ${this.type}`);\n    this.opts = {\n      pathsPerSeries,\n      hasMarkers,\n      hasHighlightedLabels,\n      pathsZIndexSubOrderOffset,\n      directionKeys,\n      directionNames,\n      animationResetFns,\n      animationAlwaysUpdateSelections,\n      datumSelectionGarbageCollection,\n      markerSelectionGarbageCollection\n    };\n    this.paths = [];\n    for (let index = 0; index < pathsPerSeries; index++) {\n      this.paths[index] = new Path();\n      this.paths[index].zIndex = 4;\n      this.paths[index].zIndexSubOrder = this.getGroupZIndexSubOrder(\"paths\", index);\n      this.contentGroup.appendChild(this.paths[index]);\n    }\n    this.datumSelection = Selection.select(\n      this.dataNodeGroup,\n      () => this.nodeFactory(),\n      datumSelectionGarbageCollection\n    );\n    this.markerSelection = Selection.select(\n      this.markerGroup,\n      () => this.markerFactory(),\n      markerSelectionGarbageCollection\n    );\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          highlightMarkers: (data) => this.animateReadyHighlightMarkers(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        disabled: {\n          update: (data) => this.resetAllAnimation(data),\n          reset: \"empty\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  get contextNodeData() {\n    return this._contextNodeData;\n  }\n  getNodeData() {\n    var _a;\n    return (_a = this.contextNodeData) == null ? void 0 : _a.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    } else if (phase === \"disabled\") {\n      this.animationState.transition(\"disable\");\n    }\n  }\n  addChartEventListeners() {\n    this.destroyFns.push(\n      this.ctx.chartEventManager.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event)),\n      this.ctx.chartEventManager.addListener(\n        \"legend-item-double-click\",\n        (event) => this.onLegendItemDoubleClick(event)\n      )\n    );\n  }\n  destroy() {\n    super.destroy();\n    this._contextNodeData = void 0;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      var _a, _b;\n      const { visible, _contextNodeData: previousContextData } = this;\n      const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n      const seriesHighlighted = series === this;\n      const resize = this.checkResize(seriesRect);\n      const highlightItems = yield this.updateHighlightSelection(seriesHighlighted);\n      yield this.updateSelections(visible);\n      yield this.updateNodes(highlightItems, seriesHighlighted, visible);\n      const animationData = this.getAnimationData(seriesRect, previousContextData);\n      if (!animationData)\n        return;\n      if (resize) {\n        this.animationState.transition(\"resize\", animationData);\n      }\n      this.animationState.transition(\"update\", animationData);\n    });\n  }\n  updateSelections(anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const animationSkipUpdate = !this.opts.animationAlwaysUpdateSelections && this.ctx.animationManager.isSkipped();\n      if (!anySeriesItemEnabled && animationSkipUpdate) {\n        return;\n      }\n      if (!this.nodeDataRefresh && !this.isPathOrSelectionDirty()) {\n        return;\n      }\n      if (this.nodeDataRefresh) {\n        this.nodeDataRefresh = false;\n        this.debug(`CartesianSeries.updateSelections() - calling createNodeData() for`, this.id);\n        this.markQuadtreeDirty();\n        this._contextNodeData = yield this.createNodeData();\n        const animationValid = this.isProcessedDataAnimatable();\n        if (this._contextNodeData) {\n          (_b = (_a = this._contextNodeData).animationValid) != null ? _b : _a.animationValid = animationValid;\n        }\n        this.minRectsCache.dirtyNodeData = true;\n        const { dataModel, processedData } = this;\n        if (dataModel !== void 0 && processedData !== void 0) {\n          this.dispatch(\"data-update\", { dataModel, processedData });\n        }\n      }\n      yield this.updateSeriesSelections();\n    });\n  }\n  updateSeriesSelections(seriesHighlighted) {\n    return __async(this, null, function* () {\n      const { datumSelection, labelSelection, markerSelection, paths } = this;\n      const contextData = this._contextNodeData;\n      if (!contextData)\n        return;\n      const { nodeData, labelData, itemId } = contextData;\n      yield this.updatePaths({ seriesHighlighted, itemId, contextData, paths });\n      this.datumSelection = yield this.updateDatumSelection({ nodeData, datumSelection });\n      this.labelSelection = yield this.updateLabelSelection({ labelData, labelSelection });\n      if (this.opts.hasMarkers) {\n        this.markerSelection = yield this.updateMarkerSelection({ nodeData, markerSelection });\n      }\n    });\n  }\n  markerFactory() {\n    const MarkerShape = getMarker();\n    return new MarkerShape();\n  }\n  getGroupZIndexSubOrder(type, subIndex = 0) {\n    var _a;\n    const result = super.getGroupZIndexSubOrder(type, subIndex);\n    if (type === \"paths\") {\n      const [superFn] = result;\n      const pathOffset = (_a = this.opts.pathsZIndexSubOrderOffset[subIndex]) != null ? _a : 0;\n      result[0] = isFunction(superFn) ? () => Number(superFn()) + pathOffset : Number(superFn) + pathOffset;\n    }\n    return result;\n  }\n  updateNodes(highlightedItems, seriesHighlighted, anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        highlightSelection,\n        highlightLabelSelection,\n        opts: { hasMarkers, hasHighlightedLabels }\n      } = this;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const visible = this.visible && this._contextNodeData != null && anySeriesItemEnabled;\n      this.rootGroup.visible = animationEnabled || visible;\n      this.contentGroup.visible = animationEnabled || visible;\n      this.highlightGroup.visible = (animationEnabled || visible) && seriesHighlighted;\n      const opacity = this.getOpacity();\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({\n          markerSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlightMarkers\", highlightSelection);\n      } else {\n        yield this.updateDatumNodes({\n          datumSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlight\", highlightSelection);\n      }\n      if (hasHighlightedLabels) {\n        yield this.updateLabelNodes({ labelSelection: highlightLabelSelection });\n      }\n      const { dataNodeGroup, markerGroup, datumSelection, labelSelection, markerSelection, paths, labelGroup } = this;\n      const { itemId } = (_a = this.contextNodeData) != null ? _a : {};\n      dataNodeGroup.opacity = opacity;\n      dataNodeGroup.visible = animationEnabled || visible;\n      labelGroup.visible = visible;\n      if (hasMarkers) {\n        markerGroup.opacity = opacity;\n        markerGroup.zIndex = dataNodeGroup.zIndex >= 4 ? dataNodeGroup.zIndex : dataNodeGroup.zIndex + 1;\n        markerGroup.visible = visible;\n      }\n      if (labelGroup) {\n        labelGroup.opacity = opacity;\n      }\n      yield this.updatePathNodes({\n        seriesHighlighted,\n        itemId,\n        paths,\n        opacity,\n        visible,\n        animationEnabled\n      });\n      if (!dataNodeGroup.visible) {\n        return;\n      }\n      yield this.updateDatumNodes({ datumSelection, highlightedItems, isHighlight: false });\n      yield this.updateLabelNodes({ labelSelection });\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({ markerSelection, isHighlight: false });\n      }\n    });\n  }\n  getHighlightLabelData(labelData, highlightedItem) {\n    const labelItems = labelData.filter(\n      (ld) => ld.datum === highlightedItem.datum && ld.itemId === highlightedItem.itemId\n    );\n    return labelItems.length === 0 ? void 0 : labelItems;\n  }\n  getHighlightData(_nodeData, highlightedItem) {\n    return highlightedItem ? [highlightedItem] : void 0;\n  }\n  updateHighlightSelection(seriesHighlighted) {\n    return __async(this, null, function* () {\n      var _a;\n      const { highlightSelection, highlightLabelSelection, _contextNodeData: contextNodeData } = this;\n      if (!contextNodeData)\n        return;\n      const highlightedDatum = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight();\n      const item = seriesHighlighted && (highlightedDatum == null ? void 0 : highlightedDatum.datum) ? highlightedDatum : void 0;\n      let labelItems;\n      let highlightItems;\n      if (item != null) {\n        const labelsEnabled = this.isLabelEnabled();\n        const { labelData, nodeData } = contextNodeData;\n        highlightItems = this.getHighlightData(nodeData, item);\n        labelItems = labelsEnabled ? this.getHighlightLabelData(labelData, item) : void 0;\n      }\n      this.highlightSelection = yield this.updateHighlightSelectionItem({\n        items: highlightItems,\n        highlightSelection\n      });\n      this.highlightLabelSelection = yield this.updateHighlightSelectionLabel({\n        items: labelItems,\n        highlightLabelSelection\n      });\n      return highlightItems;\n    });\n  }\n  markQuadtreeDirty() {\n    this.quadtree = void 0;\n  }\n  *datumNodesIter() {\n    for (const { node } of this.datumSelection) {\n      if (node.datum.missing === true)\n        continue;\n      yield node;\n    }\n  }\n  getQuadTree() {\n    if (this.quadtree === void 0) {\n      const { width, height } = this.ctx.scene.canvas;\n      const canvasRect = new BBox(0, 0, width, height);\n      this.quadtree = new QuadtreeNearest(100, 10, canvasRect);\n      this.initQuadTree(this.quadtree);\n    }\n    return this.quadtree;\n  }\n  initQuadTree(_quadtree) {\n  }\n  pickNodeExactShape(point) {\n    var _a;\n    const result = super.pickNodeExactShape(point);\n    if (result) {\n      return result;\n    }\n    const { x, y } = point;\n    const {\n      opts: { hasMarkers }\n    } = this;\n    let match;\n    const { dataNodeGroup, markerGroup } = this;\n    match = dataNodeGroup.pickNode(x, y);\n    if (!match && hasMarkers) {\n      match = markerGroup == null ? void 0 : markerGroup.pickNode(x, y);\n    }\n    if (match && match.datum.missing !== true) {\n      return { datum: match.datum, distance: 0 };\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const { datum } = (_a = mod2.pickNodeExact(point)) != null ? _a : {};\n      if (datum == null)\n        continue;\n      if ((datum == null ? void 0 : datum.missing) === true)\n        continue;\n      return { datum, distance: 0 };\n    }\n  }\n  pickNodeClosestDatum(point) {\n    var _a, _b;\n    const { x, y } = point;\n    const { axes, rootGroup, _contextNodeData: contextNodeData } = this;\n    if (!contextNodeData)\n      return;\n    const xAxis = axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = axes[\n      \"y\"\n      /* Y */\n    ];\n    const hitPoint = rootGroup.transformPoint(x, y);\n    let minDistance = Infinity;\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const { point: { x: datumX = NaN, y: datumY = NaN } = {} } = datum;\n      if (isNaN(datumX) || isNaN(datumY)) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const distance2 = Math.max(__pow(hitPoint.x - datumX, 2) + __pow(hitPoint.y - datumY, 2), 0);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        closestDatum = datum;\n      }\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const modPick = mod2.pickNodeNearest(point);\n      if (modPick !== void 0 && modPick.distanceSquared < minDistance) {\n        minDistance = modPick.distanceSquared;\n        closestDatum = modPick.datum;\n        break;\n      }\n    }\n    if (closestDatum) {\n      const distance2 = Math.max(Math.sqrt(minDistance) - ((_b = (_a = closestDatum.point) == null ? void 0 : _a.size) != null ? _b : 0), 0);\n      return { datum: closestDatum, distance: distance2 };\n    }\n  }\n  pickNodeMainAxisFirst(point, requireCategoryAxis) {\n    var _a, _b, _c, _d;\n    const { x, y } = point;\n    const { axes, rootGroup, _contextNodeData: contextNodeData } = this;\n    if (!contextNodeData)\n      return;\n    const xAxis = axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = axes[\n      \"y\"\n      /* Y */\n    ];\n    const directions2 = [xAxis, yAxis].filter((a) => a instanceof CategoryAxis).map((a) => a.direction);\n    if (requireCategoryAxis && directions2.length === 0) {\n      return;\n    }\n    const [\n      primaryDirection = \"x\"\n      /* X */\n    ] = directions2;\n    const hitPoint = rootGroup.transformPoint(x, y);\n    const hitPointCoords = primaryDirection === \"x\" ? [hitPoint.x, hitPoint.y] : [hitPoint.y, hitPoint.x];\n    const minDistance = [Infinity, Infinity];\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const { x: datumX = NaN, y: datumY = NaN } = (_b = (_a = datum.point) != null ? _a : datum.midPoint) != null ? _b : {};\n      if (isNaN(datumX) || isNaN(datumY) || datum.missing === true) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const datumPoint = primaryDirection === \"x\" ? [datumX, datumY] : [datumY, datumX];\n      let newMinDistance = true;\n      for (let i = 0; i < datumPoint.length; i++) {\n        const dist = Math.abs(datumPoint[i] - hitPointCoords[i]);\n        if (dist > minDistance[i]) {\n          newMinDistance = false;\n          break;\n        }\n        if (dist < minDistance[i]) {\n          minDistance[i] = dist;\n          minDistance.fill(Infinity, i + 1, minDistance.length);\n        }\n      }\n      if (newMinDistance) {\n        closestDatum = datum;\n      }\n    }\n    if (closestDatum) {\n      let closestDistanceSquared = Math.max(\n        __pow(minDistance[0], 2) + __pow(minDistance[1], 2) - ((_d = (_c = closestDatum.point) == null ? void 0 : _c.size) != null ? _d : 0),\n        0\n      );\n      for (const mod2 of this.moduleMap.modules()) {\n        const modPick = mod2.pickNodeMainAxisFirst(point);\n        if (modPick !== void 0 && modPick.distanceSquared < closestDistanceSquared) {\n          closestDatum = modPick.datum;\n          closestDistanceSquared = modPick.distanceSquared;\n          break;\n        }\n      }\n      return { datum: closestDatum, distance: Math.sqrt(closestDistanceSquared) };\n    }\n  }\n  onLegendItemClick(event) {\n    const { legendItemName } = this.properties;\n    const { enabled, itemId, series } = event;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, enabled);\n    }\n  }\n  onLegendItemDoubleClick(event) {\n    const { enabled, itemId, series, numVisibleItems } = event;\n    const { legendItemName } = this.properties;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, true);\n    } else if (enabled && numVisibleItems === 1) {\n      this.toggleSeriesItem(itemId, true);\n    } else {\n      this.toggleSeriesItem(itemId, false);\n    }\n  }\n  isPathOrSelectionDirty() {\n    return false;\n  }\n  getLabelData() {\n    return [];\n  }\n  shouldFlipXY() {\n    return false;\n  }\n  /**\n   * Get the minimum bounding box that contains any adjacent two nodes. The axes are treated independently, so this\n   * may not represent the same two points for both directions. The dimensions represent the greatest distance\n   * between any two adjacent nodes.\n   */\n  getMinRects(width, height) {\n    const { dirtyNodeData, sizeCache, minRect, minVisibleRect } = this.minRectsCache;\n    const newSizeCache = JSON.stringify({ width, height });\n    const dirtySize = newSizeCache !== sizeCache;\n    if (!dirtySize && !dirtyNodeData && minRect && minVisibleRect) {\n      return { minRect, minVisibleRect };\n    }\n    const rects = this.computeMinRects(width, height);\n    this.minRectsCache = {\n      dirtyNodeData: false,\n      sizeCache: newSizeCache,\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    };\n    return rects;\n  }\n  computeMinRects(width, height) {\n    var _a, _b;\n    const context = this._contextNodeData;\n    if (!(context == null ? void 0 : context.nodeData.length)) {\n      return;\n    }\n    const { nodeData } = context;\n    const minRectXs = Array(nodeData.length);\n    const minRectYs = Array(nodeData.length);\n    for (const [i, { midPoint }] of nodeData.entries()) {\n      minRectXs[i] = (_a = midPoint == null ? void 0 : midPoint.x) != null ? _a : 0;\n      minRectYs[i] = (_b = midPoint == null ? void 0 : midPoint.y) != null ? _b : 0;\n    }\n    minRectXs.sort((a, b) => a - b);\n    minRectYs.sort((a, b) => a - b);\n    let zeroX, widthX, zeroY, heightY;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    for (let i = 1; i < nodeData.length; i++) {\n      if (minRectXs[i] >= 0)\n        zeroX != null ? zeroX : zeroX = i;\n      if (minRectXs[i] > width)\n        widthX != null ? widthX : widthX = i;\n      if (minRectYs[i] >= 0)\n        zeroY != null ? zeroY : zeroY = i;\n      if (minRectYs[i] > height)\n        heightY != null ? heightY : heightY = i;\n      maxWidth = Math.max(maxWidth, minRectXs[i] - minRectXs[i - 1]);\n      maxHeight = Math.max(maxHeight, minRectYs[i] - minRectYs[i - 1]);\n    }\n    widthX != null ? widthX : widthX = nodeData.length;\n    heightY != null ? heightY : heightY = nodeData.length;\n    const minVisibleRectXs = zeroX != null && widthX != null ? minRectXs.slice(zeroX, widthX) : [];\n    const minVisibleRectYs = zeroY != null && heightY != null ? minRectYs.slice(zeroY, heightY) : [];\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (let i = 1; i < Math.max(minVisibleRectXs.length, minVisibleRectYs.length); i++) {\n      const x1 = minVisibleRectXs[i];\n      const x2 = minVisibleRectXs[i - 1];\n      const y1 = minVisibleRectYs[i];\n      const y2 = minVisibleRectYs[i - 1];\n      if (x1 != null && x2 != null) {\n        maxVisibleWidth = Math.max(maxVisibleWidth, x1 - x2);\n      }\n      if (y1 != null && y2 != null) {\n        maxVisibleHeight = Math.max(maxVisibleHeight, y1 - y2);\n      }\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    const minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    return { minRect, minVisibleRect };\n  }\n  updateHighlightSelectionItem(opts) {\n    const {\n      opts: { hasMarkers }\n    } = this;\n    const { items, highlightSelection } = opts;\n    const nodeData = items != null ? items : [];\n    if (hasMarkers) {\n      const markerSelection = highlightSelection;\n      return this.updateMarkerSelection({ nodeData, markerSelection });\n    } else {\n      return this.updateDatumSelection({\n        nodeData,\n        datumSelection: highlightSelection\n      });\n    }\n  }\n  updateHighlightSelectionLabel(opts) {\n    var _a;\n    return this.updateLabelSelection({\n      labelData: (_a = opts.items) != null ? _a : [],\n      labelSelection: opts.highlightLabelSelection\n    });\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection;\n    });\n  }\n  updateDatumNodes(_opts) {\n    return __async(this, null, function* () {\n    });\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.markerSelection;\n    });\n  }\n  updateMarkerNodes(_opts) {\n    return __async(this, null, function* () {\n    });\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      opts.paths.forEach((p) => p.visible = false);\n    });\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const { paths, opacity, visible } = opts;\n      for (const path of paths) {\n        path.opacity = opacity;\n        path.visible = visible;\n      }\n    });\n  }\n  resetAllAnimation(data) {\n    var _a, _b, _c;\n    const { path, datum, label, marker } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (path) {\n      data.paths.forEach((paths) => {\n        resetMotion([paths], path);\n      });\n    }\n    if (datum) {\n      resetMotion([data.datumSelection], datum);\n    }\n    if (label) {\n      resetMotion([data.labelSelection], label);\n    }\n    if (marker && this.opts.hasMarkers) {\n      resetMotion([data.markerSelection], marker);\n    }\n    if (((_c = data.contextData) == null ? void 0 : _c.animationValid) === false) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a, _b;\n    const { datum } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (datum) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyHighlightMarkers(data) {\n    var _a, _b;\n    const { marker } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (marker) {\n      resetMotion([data], marker);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    const animationData = this.getAnimationData();\n    if (!animationData)\n      return;\n    this.animationState.transition(\"clear\", animationData);\n  }\n  getAnimationData(seriesRect, previousContextData) {\n    const { _contextNodeData: contextData } = this;\n    if (!contextData)\n      return;\n    const animationData = {\n      datumSelection: this.datumSelection,\n      markerSelection: this.markerSelection,\n      labelSelection: this.labelSelection,\n      annotationSelections: [...this.annotationSelections],\n      contextData,\n      previousContextData,\n      paths: this.paths,\n      seriesRect\n    };\n    return animationData;\n  }\n  calculateScaling() {\n    const result = {};\n    for (const direction of Object.values(ChartAxisDirection)) {\n      const axis = this.axes[direction];\n      if (!axis)\n        continue;\n      if (axis.scale instanceof LogScale) {\n        const { range: range3, domain } = axis.scale;\n        result[direction] = {\n          type: \"log\",\n          convert: (d) => axis.scale.convert(d),\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale instanceof ContinuousScale) {\n        const { range: range3 } = axis.scale;\n        const domain = axis.scale.getDomain();\n        result[direction] = {\n          type: \"continuous\",\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale) {\n        const { domain } = axis.scale;\n        result[direction] = {\n          type: \"category\",\n          domain,\n          range: domain.map((d) => axis.scale.convert(d))\n        };\n      }\n    }\n    return result;\n  }\n};\nvar directions = [\"top\", \"right\", \"bottom\", \"left\"];\nvar _CartesianChart = class _CartesianChart2 extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.paired = true;\n    this.firstSeriesTranslation = true;\n    this._lastCrossLineIds = void 0;\n    this._lastAxisWidths = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n    this._lastClipSeries = false;\n    this._lastVisibility = {\n      crossLines: true,\n      series: true\n    };\n  }\n  onAxisChange(newValue, oldValue) {\n    super.onAxisChange(newValue, oldValue);\n    this.zoomManager.updateAxes(newValue);\n  }\n  destroySeries(series) {\n    super.destroySeries(series);\n    this.firstSeriesTranslation = true;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_CartesianChart2.prototype, this, \"performLayout\").call(this);\n      const { firstSeriesTranslation, seriesRoot, annotationRoot, highlightRoot } = this;\n      const { animationRect, seriesRect, visibility, clipSeries } = this.updateAxes(shrinkRect);\n      this.seriesRoot.visible = visibility.series;\n      this.seriesRect = seriesRect;\n      this.animationRect = animationRect;\n      const { x, y } = seriesRect;\n      if (firstSeriesTranslation) {\n        for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n          group2.translationX = Math.floor(x);\n          group2.translationY = Math.floor(y);\n        }\n        this.firstSeriesTranslation = false;\n      } else {\n        const { translationX, translationY } = seriesRoot;\n        staticFromToMotion(\n          this.id,\n          \"seriesRect\",\n          this.ctx.animationManager,\n          [seriesRoot, highlightRoot, annotationRoot],\n          { translationX, translationY },\n          { translationX: Math.floor(x), translationY: Math.floor(y) },\n          { phase: \"update\" }\n        );\n      }\n      const seriesPaddedRect = seriesRect.clone().grow(this.seriesArea.padding);\n      this.hoverRect = seriesPaddedRect;\n      const clipRect = this.seriesArea.clip || clipSeries ? seriesPaddedRect : void 0;\n      seriesRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      highlightRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      annotationRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries,\n        series: {\n          rect: seriesRect,\n          paddedRect: seriesPaddedRect,\n          visible: visibility.series,\n          shouldFlipXY: this.shouldFlipXY()\n        },\n        axes: this.axes.map((axis) => __spreadValues2({ id: axis.id }, axis.getLayoutState()))\n      });\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.performCartesianLayout) == null ? void 0 : _a.call(m, { seriesRect });\n      });\n      yield Promise.all(modulePromises);\n      return shrinkRect;\n    });\n  }\n  updateAxes(inputShrinkRect) {\n    var _a;\n    const crossLineIds = this.axes.flatMap((axis) => {\n      var _a2;\n      return (_a2 = axis.crossLines) != null ? _a2 : [];\n    }).map((crossLine) => crossLine.id);\n    const axesValid = this._lastCrossLineIds != null && this._lastCrossLineIds.length === crossLineIds.length && this._lastCrossLineIds.every((id, index) => crossLineIds[index] === id);\n    let axisWidths;\n    let clipSeries;\n    let visibility;\n    if (axesValid) {\n      axisWidths = __spreadValues2({}, this._lastAxisWidths);\n      clipSeries = this._lastClipSeries;\n      visibility = __spreadValues2({}, this._lastVisibility);\n    } else {\n      axisWidths = { top: 0, bottom: 0, left: 0, right: 0 };\n      clipSeries = false;\n      visibility = { crossLines: true, series: true };\n      this._lastCrossLineIds = crossLineIds;\n    }\n    const liveAxisWidths = new Set(this.axes.map((a) => a.position));\n    for (const position of Object.keys(axisWidths)) {\n      if (!liveAxisWidths.has(position)) {\n        delete axisWidths[position];\n      }\n    }\n    const stableOutputs = (otherAxisWidths, otherClipSeries, otherVisibility) => {\n      if (Object.keys(otherAxisWidths).some((k) => axisWidths[k] == null)) {\n        return false;\n      }\n      return visibility.crossLines === otherVisibility.crossLines && visibility.series === otherVisibility.series && // Check for existing axis positions and equality.\n      Object.entries(axisWidths).every(([p, w]) => {\n        const otherW = otherAxisWidths[p];\n        if (w != null || otherW != null) {\n          return w === otherW;\n        }\n        return true;\n      }) && clipSeries === otherClipSeries;\n    };\n    const ceilValues = (records) => mapValues(records, (value) => {\n      if (value && Math.abs(value) === Infinity) {\n        return 0;\n      }\n      return value != null ? Math.ceil(value) : value;\n    });\n    let lastPassAxisWidths = {};\n    let lastPassVisibility = {};\n    let lastPassClipSeries = false;\n    let seriesRect = (_a = this.seriesRect) == null ? void 0 : _a.clone();\n    let count = 0;\n    let primaryTickCounts = {};\n    do {\n      Object.assign(axisWidths, lastPassAxisWidths);\n      clipSeries = lastPassClipSeries;\n      Object.assign(visibility, lastPassVisibility);\n      const result = this.updateAxesPass(axisWidths, inputShrinkRect.clone(), seriesRect);\n      lastPassAxisWidths = ceilValues(result.axisWidths);\n      lastPassVisibility = result.visibility;\n      lastPassClipSeries = result.clipSeries;\n      seriesRect = result.seriesRect;\n      primaryTickCounts = result.primaryTickCounts;\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable axis layout.\");\n        break;\n      }\n    } while (!stableOutputs(lastPassAxisWidths, lastPassClipSeries, lastPassVisibility));\n    this.axes.forEach((axis) => {\n      axis.update(primaryTickCounts[axis.direction]);\n    });\n    const clipRectPadding = 5;\n    this.axes.forEach((axis) => {\n      axis.setCrossLinesVisible(visibility.crossLines);\n      if (!seriesRect) {\n        return;\n      }\n      axis.clipGrid(\n        seriesRect.x,\n        seriesRect.y,\n        seriesRect.width + clipRectPadding,\n        seriesRect.height + clipRectPadding\n      );\n      switch (axis.position) {\n        case \"left\":\n        case \"right\":\n          axis.clipTickLines(\n            inputShrinkRect.x,\n            seriesRect.y,\n            inputShrinkRect.width + clipRectPadding,\n            seriesRect.height + clipRectPadding\n          );\n          break;\n        case \"top\":\n        case \"bottom\":\n          axis.clipTickLines(\n            seriesRect.x,\n            inputShrinkRect.y,\n            seriesRect.width + clipRectPadding,\n            inputShrinkRect.height + clipRectPadding\n          );\n          break;\n      }\n    });\n    this._lastAxisWidths = axisWidths;\n    this._lastVisibility = visibility;\n    return { seriesRect, animationRect: inputShrinkRect, visibility, clipSeries };\n  }\n  updateAxesPass(axisWidths, bounds, lastPassSeriesRect) {\n    const visited = {};\n    const newAxisWidths = {};\n    const visibility = {\n      series: true,\n      crossLines: true\n    };\n    let clipSeries = false;\n    const primaryTickCounts = {};\n    const paddedBounds = this.applySeriesPadding(bounds);\n    const crossLinePadding = lastPassSeriesRect ? this.buildCrossLinePadding(axisWidths) : {};\n    const axisBound = this.buildAxisBound(paddedBounds, axisWidths, crossLinePadding, visibility);\n    const seriesRect = this.buildSeriesRect(axisBound, axisWidths);\n    this.axes.forEach((axis) => {\n      var _a, _b;\n      const { position = \"left\" } = axis;\n      const {\n        clipSeries: newClipSeries,\n        axisThickness,\n        axisOffset\n      } = this.calculateAxisDimensions({\n        axis,\n        seriesRect,\n        paddedBounds,\n        axisWidths,\n        newAxisWidths,\n        primaryTickCounts,\n        clipSeries,\n        addInterAxisPadding: ((_a = visited[position]) != null ? _a : 0) > 0\n      });\n      visited[position] = ((_b = visited[position]) != null ? _b : 0) + 1;\n      clipSeries = clipSeries || newClipSeries;\n      this.positionAxis({\n        axis,\n        axisBound,\n        axisOffset,\n        axisThickness,\n        axisWidths,\n        primaryTickCounts,\n        seriesRect\n      });\n    });\n    return { clipSeries, seriesRect, axisWidths: newAxisWidths, visibility, primaryTickCounts };\n  }\n  buildCrossLinePadding(axisWidths) {\n    var _a;\n    const crossLinePadding = {};\n    this.axes.forEach((axis) => {\n      if (axis.crossLines) {\n        axis.crossLines.forEach((crossLine) => {\n          var _a2;\n          (_a2 = crossLine.calculatePadding) == null ? void 0 : _a2.call(crossLine, crossLinePadding);\n        });\n      }\n    });\n    for (const [side, padding = 0] of Object.entries(crossLinePadding)) {\n      crossLinePadding[side] = Math.max(padding - ((_a = axisWidths[side]) != null ? _a : 0), 0);\n    }\n    return crossLinePadding;\n  }\n  applySeriesPadding(bounds) {\n    const paddedRect = bounds.clone();\n    const reversedAxes = this.axes.slice().reverse();\n    directions.forEach((dir) => {\n      const padding = this.seriesArea.padding[dir];\n      const axis = reversedAxes.find((a) => a.position === dir);\n      if (axis) {\n        axis.seriesAreaPadding = padding;\n      } else {\n        paddedRect.shrink(padding, dir);\n      }\n    });\n    return paddedRect;\n  }\n  buildAxisBound(bounds, axisWidths, crossLinePadding, visibility) {\n    var _a, _b, _c, _d;\n    const result = bounds.clone();\n    const { top = 0, right = 0, bottom = 0, left = 0 } = crossLinePadding;\n    const horizontalPadding = left + right;\n    const verticalPadding = top + bottom;\n    const totalWidth = ((_a = axisWidths.left) != null ? _a : 0) + ((_b = axisWidths.right) != null ? _b : 0) + horizontalPadding;\n    const totalHeight = ((_c = axisWidths.top) != null ? _c : 0) + ((_d = axisWidths.bottom) != null ? _d : 0) + verticalPadding;\n    if (result.width <= totalWidth || result.height <= totalHeight) {\n      visibility.crossLines = false;\n      visibility.series = false;\n      return result;\n    }\n    result.x += left;\n    result.y += top;\n    result.width -= horizontalPadding;\n    result.height -= verticalPadding;\n    return result;\n  }\n  buildSeriesRect(axisBound, axisWidths) {\n    const result = axisBound.clone();\n    const { top, bottom, left, right } = axisWidths;\n    result.x += left != null ? left : 0;\n    result.y += top != null ? top : 0;\n    result.width -= (left != null ? left : 0) + (right != null ? right : 0);\n    result.height -= (top != null ? top : 0) + (bottom != null ? bottom : 0);\n    result.width = Math.max(0, result.width);\n    result.height = Math.max(0, result.height);\n    return result;\n  }\n  clampToOutsideSeriesRect(seriesRect, value, dimension, direction) {\n    const { x, y, width, height } = seriesRect;\n    const clampBounds = [x, y, x + width, y + height];\n    const compareTo = clampBounds[(dimension === \"x\" ? 0 : 1) + (direction === 1 ? 0 : 2)];\n    const clampFn = direction === 1 ? Math.min : Math.max;\n    return clampFn(value, compareTo);\n  }\n  calculateAxisDimensions(opts) {\n    var _a, _b, _c, _d;\n    const { axis, seriesRect, paddedBounds, axisWidths, newAxisWidths, primaryTickCounts, addInterAxisPadding } = opts;\n    let { clipSeries } = opts;\n    const { position = \"left\", direction } = axis;\n    const isCategory = axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis;\n    const isLeftRight = position === \"left\" || position === \"right\";\n    const axisOffset = (_a = newAxisWidths[position]) != null ? _a : 0;\n    const { min, max } = this.ctx.zoomManager.getAxisZoom(axis.id);\n    if (isLeftRight) {\n      if (isCategory) {\n        axis.range = [0, seriesRect.height];\n        axis.visibleRange = [1 - max, 1 - min];\n      } else {\n        axis.range = [seriesRect.height, 0];\n        axis.visibleRange = [min, max];\n      }\n      axis.gridLength = seriesRect.width;\n    } else {\n      axis.range = [0, seriesRect.width];\n      axis.visibleRange = [min, max];\n      axis.gridLength = seriesRect.height;\n    }\n    let primaryTickCount = axis.nice ? primaryTickCounts[direction] : void 0;\n    const isVertical = direction === \"y\";\n    const paddedBoundsCoefficient = 0.3;\n    if (axis.thickness) {\n      axis.maxThickness = axis.thickness;\n    } else {\n      axis.maxThickness = (isVertical ? paddedBounds.width : paddedBounds.height) * paddedBoundsCoefficient;\n    }\n    const layout = axis.calculateLayout(primaryTickCount);\n    primaryTickCount = layout.primaryTickCount;\n    (_b = primaryTickCounts[direction]) != null ? _b : primaryTickCounts[direction] = primaryTickCount;\n    clipSeries || (clipSeries = axis.dataDomain.clipped || axis.visibleRange[0] > 0 || axis.visibleRange[1] < 1);\n    let axisThickness;\n    if (axis.thickness != null && axis.thickness > 0) {\n      axisThickness = axis.thickness;\n    } else {\n      const { bbox } = layout;\n      axisThickness = isVertical ? bbox.width : bbox.height;\n    }\n    const axisPadding = 15;\n    if (addInterAxisPadding) {\n      axisThickness += axisPadding;\n    }\n    axisThickness = Math.ceil(axisThickness);\n    newAxisWidths[position] = ((_c = newAxisWidths[position]) != null ? _c : 0) + axisThickness;\n    axis.gridPadding = ((_d = axisWidths[position]) != null ? _d : 0) - newAxisWidths[position];\n    return { clipSeries, axisThickness, axisOffset, primaryTickCount };\n  }\n  positionAxis(opts) {\n    var _a, _b, _c, _d;\n    const { axis, axisBound, axisWidths, seriesRect, axisOffset, axisThickness } = opts;\n    const { position } = axis;\n    switch (position) {\n      case \"top\":\n        axis.translation.x = axisBound.x + ((_a = axisWidths.left) != null ? _a : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.y + 1 + axisOffset + axisThickness,\n          \"y\",\n          1\n        );\n        break;\n      case \"bottom\":\n        axis.translation.x = axisBound.x + ((_b = axisWidths.left) != null ? _b : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.y + axisBound.height + 1 - axisThickness - axisOffset,\n          \"y\",\n          -1\n        );\n        break;\n      case \"left\":\n        axis.translation.y = axisBound.y + ((_c = axisWidths.top) != null ? _c : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.x + axisOffset + axisThickness,\n          \"x\",\n          1\n        );\n        break;\n      case \"right\":\n        axis.translation.y = axisBound.y + ((_d = axisWidths.top) != null ? _d : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.x + axisBound.width - axisThickness - axisOffset,\n          \"x\",\n          -1\n        );\n        break;\n    }\n    axis.updatePosition({ rotation: toRadians(axis.rotation), sideFlag: axis.label.getSideFlag() });\n  }\n  shouldFlipXY() {\n    return !this.series.some((series) => !(series instanceof CartesianSeries && series.shouldFlipXY()));\n  }\n};\n_CartesianChart.className = \"CartesianChart\";\n_CartesianChart.type = \"cartesian\";\nvar CartesianChart = _CartesianChart;\nvar _AgChartInstanceProxy = class _AgChartInstanceProxy2 {\n  static isInstance(x) {\n    var _a;\n    if (x instanceof _AgChartInstanceProxy2) {\n      return true;\n    }\n    if (((_a = x.constructor) == null ? void 0 : _a.name) === \"AgChartInstanceProxy\" && x.chart != null) {\n      return true;\n    }\n    return x.chart != null && this.validateImplementation(x);\n  }\n  static validateImplementation(x) {\n    var _a;\n    const chartProps = [\"getOptions\", \"destroy\"];\n    const signatureProps = Object.keys((_a = Object.getPrototypeOf(x)) != null ? _a : {});\n    return chartProps.every((prop) => signatureProps.includes(prop));\n  }\n  constructor(chart) {\n    this.chart = chart;\n  }\n  getOptions() {\n    return deepClone(this.chart.getOptions());\n  }\n  resetAnimations() {\n    this.chart.resetAnimations();\n  }\n  skipAnimations() {\n    this.chart.skipAnimations();\n  }\n  destroy() {\n    this.chart.destroy();\n  }\n};\n_AgChartInstanceProxy.chartInstances = /* @__PURE__ */ new WeakMap();\n__decorateClass2([\n  ActionOnSet({\n    oldValue(chart) {\n      _AgChartInstanceProxy.chartInstances.delete(chart);\n    },\n    newValue(chart) {\n      _AgChartInstanceProxy.chartInstances.set(chart, this);\n    }\n  })\n], _AgChartInstanceProxy.prototype, \"chart\", 2);\nvar AgChartInstanceProxy = _AgChartInstanceProxy;\nvar LinearScale = class extends ContinuousScale {\n  constructor() {\n    super([0, 1], [0, 1]);\n    this.type = \"number\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (!this.domain || this.domain.length < 2 || count < 1 || this.domain.some((d) => !isFinite(d))) {\n      return [];\n    }\n    this.refresh();\n    const [d0, d1] = this.getDomain();\n    const { interval } = this;\n    if (interval) {\n      const step = Math.abs(interval);\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({ start: d0, stop: d1, interval: step, availableRange })) {\n        return range(d0, d1, step);\n      }\n    }\n    return ticks_default(d0, d1, count, this.minTickCount, this.maxTickCount);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  getTickStep(start, stop) {\n    var _a, _b;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    return (_b = this.interval) != null ? _b : tickStep(start, stop, count, this.minTickCount, this.maxTickCount);\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   */\n  updateNiceDomain() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (count < 1) {\n      this.niceDomain = [...this.domain];\n      return;\n    }\n    let [start, stop] = this.domain;\n    if (count === 1) {\n      [start, stop] = singleTickDomain(start, stop);\n    } else {\n      const roundStart = start > stop ? Math.ceil : Math.floor;\n      const roundStop = stop < start ? Math.floor : Math.ceil;\n      const maxAttempts = 4;\n      for (let i = 0; i < maxAttempts; i++) {\n        const prev0 = start;\n        const prev1 = stop;\n        const step = this.getTickStep(start, stop);\n        const [d0, d1] = this.domain;\n        if (step >= 1) {\n          start = roundStart(d0 / step) * step;\n          stop = roundStop(d1 / step) * step;\n        } else {\n          const s = 1 / step;\n          start = roundStart(d0 * s) / s;\n          stop = roundStop(d1 * s) / s;\n        }\n        if (start === prev0 && stop === prev1) {\n          break;\n        }\n      }\n    }\n    this.niceDomain = [start, stop];\n  }\n  tickFormat({ ticks: specifiedTicks, specifier }) {\n    return tickFormat(specifiedTicks != null ? specifiedTicks : this.ticks(), specifier);\n  }\n};\nfunction calculateNiceSecondaryAxis(domain, primaryTickCount, reverse) {\n  let [start, stop] = findMinMax(domain);\n  start = calculateNiceStart(Math.floor(start), stop, primaryTickCount);\n  const step = getTickStep(start, stop, primaryTickCount);\n  const segments = primaryTickCount - 1;\n  stop = start + segments * step;\n  const d = reverse ? [stop, start] : [start, stop];\n  const ticks = getTicks(start, step, primaryTickCount);\n  return [d, ticks];\n}\nfunction calculateNiceStart(a, b, count) {\n  const rawStep = Math.abs(b - a) / (count - 1);\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  return Math.floor(a / magnitude) * magnitude;\n}\nfunction getTicks(start, step, count) {\n  const stepPower = Math.floor(Math.log10(step));\n  const fractionDigits = step > 0 && step < 1 ? Math.abs(stepPower) : 0;\n  const f = Math.pow(10, fractionDigits);\n  const ticks = createNumericTicks(fractionDigits);\n  for (let i = 0; i < count; i++) {\n    const tick = start + step * i;\n    ticks[i] = Math.round(tick * f) / f;\n  }\n  return ticks;\n}\nfunction getTickStep(start, stop, count) {\n  const segments = count - 1;\n  const rawStep = (stop - start) / segments;\n  return calculateNextNiceStep(rawStep);\n}\nfunction calculateNextNiceStep(rawStep) {\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  const step = rawStep / magnitude * 10;\n  if (step > 0 && step <= 1) {\n    return magnitude / 10;\n  }\n  if (step > 1 && step <= 2) {\n    return 2 * magnitude / 10;\n  }\n  if (step > 1 && step <= 5) {\n    return 5 * magnitude / 10;\n  }\n  if (step > 5 && step <= 10) {\n    return 10 * magnitude / 10;\n  }\n  if (step > 10 && step <= 20) {\n    return 20 * magnitude / 10;\n  }\n  if (step > 20 && step <= 40) {\n    return 40 * magnitude / 10;\n  }\n  if (step > 40 && step <= 50) {\n    return 50 * magnitude / 10;\n  }\n  if (step > 50 && step <= 100) {\n    return 100 * magnitude / 10;\n  }\n  return step;\n}\nvar NumberAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass2([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], NumberAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass2([\n  Validate(MAX_SPACING),\n  Default(NaN)\n], NumberAxisTick.prototype, \"maxSpacing\", 2);\nvar NumberAxis = class extends CartesianAxis {\n  constructor(moduleCtx, scale2 = new LinearScale()) {\n    super(moduleCtx, scale2);\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const { min, max } = this;\n    const { extent: extent22, clipped } = normalisedExtentWithMetadata(d, min, max);\n    return { domain: extent22, clipped };\n  }\n  createTick() {\n    return new NumberAxisTick();\n  }\n  updateSecondaryAxisTicks(primaryTickCount) {\n    if (this.dataDomain == null) {\n      throw new Error(\"AG Charts - dataDomain not calculated, cannot perform tick calculation.\");\n    }\n    if (this.dataDomain.domain.length === 0)\n      return [];\n    const [d, ticks] = calculateNiceSecondaryAxis(this.dataDomain.domain, primaryTickCount != null ? primaryTickCount : 0, this.reverse);\n    this.scale.nice = false;\n    this.scale.domain = d;\n    this.scale.update();\n    return ticks;\n  }\n  formatDatum(datum) {\n    if (typeof datum === \"number\") {\n      return datum.toFixed(2);\n    } else {\n      return String(datum);\n    }\n  }\n};\nNumberAxis.className = \"NumberAxis\";\nNumberAxis.type = \"number\";\n__decorateClass2([\n  Validate(AND(NUMBER_OR_NAN, LESS_THAN(\"max\"))),\n  Default(NaN)\n], NumberAxis.prototype, \"min\", 2);\n__decorateClass2([\n  Validate(AND(NUMBER_OR_NAN, GREATER_THAN(\"min\"))),\n  Default(NaN)\n], NumberAxis.prototype, \"max\", 2);\nvar NON_ZERO_NUMBER = predicateWithMessage((value) => isNumber(value) && value !== 0, \"a non-zero number\");\nvar LogAxis = class extends NumberAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new LogScale());\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const { min, max } = this;\n    const { extent: extent22, clipped } = normalisedExtentWithMetadata(d, min, max);\n    const isInverted = extent22[0] > extent22[1];\n    const crossesZero = extent22[0] < 0 && extent22[1] > 0;\n    const hasZeroExtent = extent22[0] === 0 && extent22[1] === 0;\n    const invalidDomain = isInverted || crossesZero || hasZeroExtent;\n    if (invalidDomain) {\n      if (crossesZero) {\n        Logger.warn(\n          `the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.`\n        );\n      } else if (hasZeroExtent) {\n        Logger.warn(`the data domain has 0 extent, no data is rendered.`);\n      }\n    }\n    if (extent22[0] === 0) {\n      extent22[0] = 1;\n    }\n    if (extent22[1] === 0) {\n      extent22[1] = -1;\n    }\n    return { domain: extent22, clipped };\n  }\n  set base(value) {\n    this.scale.base = value;\n  }\n  get base() {\n    return this.scale.base;\n  }\n};\nLogAxis.className = \"LogAxis\";\nLogAxis.type = \"log\";\n__decorateClass2([\n  Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, LESS_THAN(\"max\"))),\n  Default(NaN)\n], LogAxis.prototype, \"min\", 2);\n__decorateClass2([\n  Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, GREATER_THAN(\"min\"))),\n  Default(NaN)\n], LogAxis.prototype, \"max\", 2);\nvar TimeAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass2([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], TimeAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass2([\n  Validate(MAX_SPACING),\n  Default(NaN)\n], TimeAxisTick.prototype, \"maxSpacing\", 2);\nvar TimeAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new TimeScale());\n    this.min = void 0;\n    this.max = void 0;\n    this.refreshScale();\n  }\n  normaliseDataDomain(d) {\n    var _a;\n    let { min, max } = this;\n    let clipped = false;\n    if (typeof min === \"number\") {\n      min = new Date(min);\n    }\n    if (typeof max === \"number\") {\n      max = new Date(max);\n    }\n    if (d.length > 2) {\n      d = ((_a = extent(d)) != null ? _a : [0, 1e3]).map((x) => new Date(x));\n    }\n    if (min instanceof Date) {\n      clipped || (clipped = min > d[0]);\n      d = [min, d[1]];\n    }\n    if (max instanceof Date) {\n      clipped || (clipped = max < d[1]);\n      d = [d[0], max];\n    }\n    if (d[0] > d[1]) {\n      d = [];\n    }\n    return { domain: d, clipped };\n  }\n  createTick() {\n    return new TimeAxisTick();\n  }\n  onLabelFormatChange(ticks, domain, format2) {\n    if (format2) {\n      super.onLabelFormatChange(ticks, domain, format2);\n    } else {\n      this.labelFormatter = this.scale.tickFormat({ ticks, domain });\n    }\n  }\n  calculatePadding() {\n    return [0, 0];\n  }\n  formatDatum(datum) {\n    var _a;\n    const formatter = this.scale.tickFormat({\n      specifier: \"%m/%d/%y, %H:%M:%S\"\n    });\n    return (_a = this.moduleCtx.callbackCache.call(formatter, datum)) != null ? _a : String(datum);\n  }\n};\nTimeAxis.className = \"TimeAxis\";\nTimeAxis.type = \"time\";\n__decorateClass2([\n  Validate(AND(DATE_OR_DATETIME_MS, LESS_THAN(\"max\")), { optional: true })\n], TimeAxis.prototype, \"min\", 2);\n__decorateClass2([\n  Validate(AND(DATE_OR_DATETIME_MS, GREATER_THAN(\"min\")), { optional: true })\n], TimeAxis.prototype, \"max\", 2);\nvar epsilon = 1e-6;\nvar cornerEdges = (leadingEdge, trailingEdge, leadingInset, trailingInset, cornerRadius) => {\n  let leadingClipped = false;\n  let trailingClipped = false;\n  let leading0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset, 2), 0));\n  let leading1 = 0;\n  let trailing0 = 0;\n  let trailing1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset, 2), 0));\n  if (leading0 > leadingEdge) {\n    leadingClipped = true;\n    leading0 = leadingEdge;\n    leading1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset - leadingEdge, 2)));\n  } else if (leading0 < epsilon) {\n    leading0 = 0;\n  }\n  if (trailing1 > trailingEdge) {\n    trailingClipped = true;\n    trailing0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset - trailingEdge, 2)));\n    trailing1 = trailingEdge;\n  } else if (trailing1 < epsilon) {\n    trailing1 = 0;\n  }\n  return { leading0, leading1, trailing0, trailing1, leadingClipped, trailingClipped };\n};\nvar drawCorner = (path, { x0, y0, x1, y1, cx, cy }, cornerRadius, move) => {\n  if (move) {\n    path.moveTo(x0, y0);\n  }\n  if (x0 !== x1 || y0 !== y1) {\n    const r0 = Math.atan2(y0 - cy, x0 - cx);\n    const r1 = Math.atan2(y1 - cy, x1 - cx);\n    path.arc(cx, cy, cornerRadius, r0, r1);\n  } else {\n    path.lineTo(x0, y0);\n  }\n};\nvar insetCornerRadiusRect = (path, x, y, width, height, cornerRadii, clipBBox) => {\n  let {\n    topLeft: topLeftCornerRadius,\n    topRight: topRightCornerRadius,\n    bottomRight: bottomRightCornerRadius,\n    bottomLeft: bottomLeftCornerRadius\n  } = cornerRadii;\n  const maxVerticalCornerRadius = Math.max(\n    topLeftCornerRadius + bottomLeftCornerRadius,\n    topRightCornerRadius + bottomRightCornerRadius\n  );\n  const maxHorizontalCornerRadius = Math.max(\n    topLeftCornerRadius + topRightCornerRadius,\n    bottomLeftCornerRadius + bottomRightCornerRadius\n  );\n  if (maxVerticalCornerRadius <= 0 && maxHorizontalCornerRadius <= 0) {\n    if (clipBBox == null) {\n      path.rect(x, y, width, height);\n    } else {\n      path.rect(clipBBox.x, clipBBox.y, clipBBox.width, clipBBox.height);\n    }\n    return;\n  } else if (clipBBox == null && topLeftCornerRadius === topRightCornerRadius && topLeftCornerRadius === bottomRightCornerRadius && topLeftCornerRadius === bottomLeftCornerRadius) {\n    path.roundRect(x, y, width, height, topLeftCornerRadius);\n    return;\n  }\n  if (width < 0) {\n    x += width;\n    width = Math.abs(width);\n  }\n  if (height < 0) {\n    y += height;\n    height = Math.abs(height);\n  }\n  if (width <= 0 || height <= 0)\n    return;\n  if (clipBBox == null) {\n    clipBBox = new BBox(x, y, width, height);\n  } else {\n    const x0 = Math.max(x, clipBBox.x);\n    const x1 = Math.min(x + width, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(y, clipBBox.y);\n    const y1 = Math.min(y + height, clipBBox.y + clipBBox.height);\n    clipBBox = new BBox(x0, y0, x1 - x0, y1 - y0);\n  }\n  const borderScale = Math.max(maxVerticalCornerRadius / height, maxHorizontalCornerRadius / width, 1);\n  if (borderScale > 1) {\n    topLeftCornerRadius /= borderScale;\n    topRightCornerRadius /= borderScale;\n    bottomRightCornerRadius /= borderScale;\n    bottomLeftCornerRadius /= borderScale;\n  }\n  let drawTopLeftCorner = true;\n  let drawTopRightCorner = true;\n  let drawBottomRightCorner = true;\n  let drawBottomLeftCorner = true;\n  let topLeftCorner;\n  let topRightCorner;\n  let bottomRightCorner;\n  let bottomLeftCorner;\n  if (drawTopLeftCorner) {\n    const nodes = cornerEdges(\n      clipBBox.height,\n      clipBBox.width,\n      Math.max(x + topLeftCornerRadius - clipBBox.x, 0),\n      Math.max(y + topLeftCornerRadius - clipBBox.y, 0),\n      topLeftCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawBottomLeftCorner = false;\n    if (nodes.trailingClipped)\n      drawTopRightCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading1, clipBBox.x);\n    const y0 = Math.max(clipBBox.y + nodes.leading0, clipBBox.y);\n    const x1 = Math.max(clipBBox.x + nodes.trailing1, clipBBox.x);\n    const y1 = Math.max(clipBBox.y + nodes.trailing0, clipBBox.y);\n    const cx = x + topLeftCornerRadius;\n    const cy = y + topLeftCornerRadius;\n    topLeftCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawTopRightCorner) {\n    const nodes = cornerEdges(\n      clipBBox.width,\n      clipBBox.height,\n      Math.max(y + topRightCornerRadius - clipBBox.y, 0),\n      Math.max(clipBBox.x + clipBBox.width - (x + width - topRightCornerRadius), 0),\n      topRightCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawTopLeftCorner = false;\n    if (nodes.trailingClipped)\n      drawBottomRightCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading0, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(clipBBox.y + nodes.leading1, clipBBox.y);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing0, clipBBox.x + clipBBox.width);\n    const y1 = Math.max(clipBBox.y + nodes.trailing1, clipBBox.y);\n    const cx = x + width - topRightCornerRadius;\n    const cy = y + topRightCornerRadius;\n    topRightCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawBottomRightCorner) {\n    const nodes = cornerEdges(\n      clipBBox.height,\n      clipBBox.width,\n      Math.max(clipBBox.x + clipBBox.width - (x + width - bottomRightCornerRadius), 0),\n      Math.max(clipBBox.y + clipBBox.height - (y + height - bottomRightCornerRadius), 0),\n      bottomRightCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawTopRightCorner = false;\n    if (nodes.trailingClipped)\n      drawBottomLeftCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading1, clipBBox.x + clipBBox.width);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading0, clipBBox.y + clipBBox.height);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing1, clipBBox.x + clipBBox.width);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing0, clipBBox.y + clipBBox.height);\n    const cx = x + width - bottomRightCornerRadius;\n    const cy = y + height - bottomRightCornerRadius;\n    bottomRightCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawBottomLeftCorner) {\n    const nodes = cornerEdges(\n      clipBBox.width,\n      clipBBox.height,\n      Math.max(clipBBox.y + clipBBox.height - (y + height - bottomLeftCornerRadius), 0),\n      Math.max(x + bottomLeftCornerRadius - clipBBox.x, 0),\n      bottomLeftCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawBottomRightCorner = false;\n    if (nodes.trailingClipped)\n      drawTopLeftCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading0, clipBBox.x);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading1, clipBBox.y + clipBBox.height);\n    const x1 = Math.max(clipBBox.x + nodes.trailing0, clipBBox.x);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing1, clipBBox.y + clipBBox.height);\n    const cx = x + bottomLeftCornerRadius;\n    const cy = y + height - bottomLeftCornerRadius;\n    bottomLeftCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  let didMove = false;\n  if (drawTopLeftCorner && topLeftCorner != null) {\n    drawCorner(path, topLeftCorner, topLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawTopRightCorner && topRightCorner != null) {\n    drawCorner(path, topRightCorner, topRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomRightCorner && bottomRightCorner != null) {\n    drawCorner(path, bottomRightCorner, bottomRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomLeftCorner && bottomLeftCorner != null) {\n    drawCorner(path, bottomLeftCorner, bottomLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  path.closePath();\n};\nvar Rect = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.x = 0;\n    this.y = 0;\n    this.width = 10;\n    this.height = 10;\n    this.topLeftCornerRadius = 0;\n    this.topRightCornerRadius = 0;\n    this.bottomRightCornerRadius = 0;\n    this.bottomLeftCornerRadius = 0;\n    this.clipBBox = void 0;\n    this.crisp = false;\n    this.lastUpdatePathStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.hittester = super.isPointInPath;\n    this.distanceCalculator = super.distanceSquared;\n    this.microPixelEffectOpacity = 1;\n  }\n  set cornerRadius(cornerRadius) {\n    this.topLeftCornerRadius = cornerRadius;\n    this.topRightCornerRadius = cornerRadius;\n    this.bottomRightCornerRadius = cornerRadius;\n    this.bottomLeftCornerRadius = cornerRadius;\n  }\n  isDirtyPath() {\n    return this.lastUpdatePathStrokeWidth !== this.strokeWidth || Boolean(this.path.isDirty() || this.borderPath.isDirty());\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const {\n      path,\n      borderPath,\n      crisp,\n      topLeftCornerRadius: topLeft,\n      topRightCornerRadius: topRight,\n      bottomRightCornerRadius: bottomRight,\n      bottomLeftCornerRadius: bottomLeft\n    } = this;\n    let { x, y, width: w, height: h, strokeWidth, clipBBox } = this;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const pixelSize = 1 / pixelRatio;\n    let microPixelEffectOpacity = 1;\n    path.clear(true);\n    borderPath.clear(true);\n    if (crisp) {\n      if (w <= pixelSize) {\n        microPixelEffectOpacity *= w / pixelSize;\n      }\n      if (h <= pixelSize) {\n        microPixelEffectOpacity *= h / pixelSize;\n      }\n      w = this.align(x, w);\n      h = this.align(y, h);\n      x = this.align(x);\n      y = this.align(y);\n      clipBBox = clipBBox != null ? new BBox(\n        this.align(clipBBox.x),\n        this.align(clipBBox.y),\n        this.align(clipBBox.x, clipBBox.width),\n        this.align(clipBBox.y, clipBBox.height)\n      ) : void 0;\n    }\n    if (strokeWidth) {\n      if (w < pixelSize) {\n        const lx = x + pixelSize / 2;\n        borderPath.moveTo(lx, y);\n        borderPath.lineTo(lx, y + h);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (h < pixelSize) {\n        const ly = y + pixelSize / 2;\n        borderPath.moveTo(x, ly);\n        borderPath.lineTo(x + w, ly);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (strokeWidth < w && strokeWidth < h) {\n        const halfStrokeWidth = strokeWidth / 2;\n        x += halfStrokeWidth;\n        y += halfStrokeWidth;\n        w -= strokeWidth;\n        h -= strokeWidth;\n        const adjustedClipBBox = clipBBox == null ? void 0 : clipBBox.clone().shrink(halfStrokeWidth);\n        const cornerRadii = {\n          topLeft: topLeft > 0 ? topLeft - strokeWidth : 0,\n          topRight: topRight > 0 ? topRight - strokeWidth : 0,\n          bottomRight: bottomRight > 0 ? bottomRight - strokeWidth : 0,\n          bottomLeft: bottomLeft > 0 ? bottomLeft - strokeWidth : 0\n        };\n        this.borderClipPath = void 0;\n        insetCornerRadiusRect(path, x, y, w, h, cornerRadii, adjustedClipBBox);\n        insetCornerRadiusRect(borderPath, x, y, w, h, cornerRadii, adjustedClipBBox);\n      } else {\n        this.borderClipPath = (_c = this.borderClipPath) != null ? _c : new ExtendedPath2D();\n        this.borderClipPath.clear(true);\n        this.borderClipPath.rect(x, y, w, h);\n        borderPath.rect(x, y, w, h);\n      }\n    } else {\n      const cornerRadii = { topLeft, topRight, bottomRight, bottomLeft };\n      this.borderClipPath = void 0;\n      insetCornerRadiusRect(path, x, y, w, h, cornerRadii, clipBBox);\n    }\n    if ([topLeft, topRight, bottomRight, bottomLeft].every((r) => r === 0)) {\n      this.hittester = (hitX, hitY) => {\n        const point = this.transformPoint(hitX, hitY);\n        return this.getCachedBBox().containsPoint(point.x, point.y);\n      };\n      this.distanceSquared = (hitX, hitY) => this.getCachedBBox().distanceSquared(hitX, hitY);\n    } else {\n      this.hittester = super.isPointInPath;\n      this.distanceCalculator = super.distanceSquared;\n    }\n    this.effectiveStrokeWidth = strokeWidth;\n    this.lastUpdatePathStrokeWidth = strokeWidth;\n    this.microPixelEffectOpacity = microPixelEffectOpacity;\n  }\n  computeBBox() {\n    var _a;\n    const { x, y, width, height, clipBBox } = this;\n    return (_a = clipBBox == null ? void 0 : clipBBox.clone()) != null ? _a : new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    return this.hittester(x, y);\n  }\n  get midPoint() {\n    return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\n  }\n  distanceSquared(x, y) {\n    return this.distanceCalculator(x, y);\n  }\n  applyFillAlpha(ctx) {\n    const { fillOpacity, microPixelEffectOpacity, opacity } = this;\n    ctx.globalAlpha *= opacity * fillOpacity * microPixelEffectOpacity;\n  }\n  renderStroke(ctx) {\n    const { stroke, effectiveStrokeWidth } = this;\n    if (stroke && effectiveStrokeWidth) {\n      const { globalAlpha } = ctx;\n      const {\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin,\n        borderPath,\n        borderClipPath,\n        opacity,\n        microPixelEffectOpacity\n      } = this;\n      if (borderClipPath) {\n        ctx.clip(borderClipPath.getPath2D());\n      }\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha *= opacity * strokeOpacity * microPixelEffectOpacity;\n      ctx.lineWidth = effectiveStrokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.stroke(borderPath.getPath2D());\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n};\nRect.className = \"Rect\";\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"x\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"y\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"width\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"height\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"topLeftCornerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"topRightCornerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"bottomRightCornerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"bottomLeftCornerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"clipBBox\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Rect.prototype, \"crisp\", 2);\nvar Background = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.node = new Group({\n      name: \"background\",\n      zIndex: 0\n      /* SERIES_BACKGROUND_ZINDEX */\n    });\n    this.rectNode = new Rect();\n    this.visible = true;\n    this.fill = \"white\";\n    this.node.appendChild(this.rectNode);\n    this.destroyFns.push(\n      ctx.scene.attachNode(this.node),\n      ctx.layoutService.addListener(\"layout-complete\", (e) => this.onLayoutComplete(e))\n    );\n  }\n  onLayoutComplete(e) {\n    const { width, height } = e.chart;\n    this.rectNode.width = width;\n    this.rectNode.height = height;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN),\n  ProxyPropertyOnWrite(\"node\", \"visible\")\n], Background.prototype, \"visible\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"rectNode\", \"fill\")\n], Background.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(OBJECT, { optional: true })\n], Background.prototype, \"image\", 2);\nvar BackgroundModule = {\n  type: \"root\",\n  optionsKey: \"background\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Background\n};\nfunction gridLayout({\n  orientation,\n  bboxes,\n  maxHeight,\n  maxWidth,\n  itemPaddingY = 0,\n  itemPaddingX = 0,\n  forceResult = false\n}) {\n  const horizontal = orientation === \"horizontal\";\n  const primary = {\n    max: horizontal ? maxWidth : maxHeight,\n    fn: horizontal ? (b) => b.width : (b) => b.height,\n    padding: horizontal ? itemPaddingX : itemPaddingY\n  };\n  const secondary = {\n    max: horizontal ? maxHeight : maxWidth,\n    fn: horizontal ? (b) => b.height : (b) => b.width,\n    padding: horizontal ? itemPaddingY : itemPaddingX\n  };\n  let processedBBoxCount = 0;\n  const rawPages = [];\n  while (processedBBoxCount < bboxes.length) {\n    const unprocessedBBoxes = bboxes.slice(processedBBoxCount);\n    const result = processBBoxes(unprocessedBBoxes, processedBBoxCount, primary, secondary, forceResult);\n    if (!result) {\n      return;\n    }\n    processedBBoxCount += result.processedBBoxCount;\n    rawPages.push(result.pageIndices);\n  }\n  return buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX);\n}\nfunction processBBoxes(bboxes, indexOffset, primary, secondary, forceResult) {\n  const minGuess = 1;\n  let startingGuess = estimateStartingGuess(bboxes, primary);\n  if (startingGuess < minGuess) {\n    if (!forceResult) {\n      return;\n    }\n    startingGuess = minGuess;\n  }\n  let guess = startingGuess;\n  while (guess >= minGuess) {\n    const pageIndices = calculatePage(bboxes, indexOffset, guess, primary, secondary, forceResult);\n    if (pageIndices == null && guess <= minGuess) {\n      return;\n    }\n    if (pageIndices == null) {\n      guess--;\n      continue;\n    }\n    if (typeof pageIndices === \"number\") {\n      if (pageIndices <= minGuess) {\n        return;\n      }\n      guess = pageIndices < guess && pageIndices > minGuess ? pageIndices : guess;\n      guess--;\n      continue;\n    }\n    const processedBBoxCount = pageIndices.length * pageIndices[0].length;\n    return { processedBBoxCount, pageIndices };\n  }\n}\nfunction calculatePage(bboxes, indexOffset, primaryCount, primary, secondary, forceResult) {\n  var _a;\n  const result = [];\n  let sumSecondary = 0;\n  let currentMaxSecondary = 0;\n  let currentPrimaryIndices = [];\n  const maxPrimaryValues = [];\n  for (let bboxIndex = 0; bboxIndex < bboxes.length; bboxIndex++) {\n    const primaryValueIdx = (bboxIndex + primaryCount) % primaryCount;\n    if (primaryValueIdx === 0) {\n      sumSecondary += currentMaxSecondary;\n      currentMaxSecondary = 0;\n      if (currentPrimaryIndices.length > 0) {\n        result.push(currentPrimaryIndices);\n      }\n      currentPrimaryIndices = [];\n    }\n    const primaryValue = primary.fn(bboxes[bboxIndex]) + primary.padding;\n    maxPrimaryValues[primaryValueIdx] = Math.max((_a = maxPrimaryValues[primaryValueIdx]) != null ? _a : 0, primaryValue);\n    currentMaxSecondary = Math.max(currentMaxSecondary, secondary.fn(bboxes[bboxIndex]) + secondary.padding);\n    const currentSecondaryDimension = sumSecondary + currentMaxSecondary;\n    const returnResult = !forceResult || result.length > 0;\n    if (currentSecondaryDimension > secondary.max && returnResult) {\n      currentPrimaryIndices = [];\n      break;\n    }\n    const sumPrimary = maxPrimaryValues.reduce((sum2, next) => sum2 + next, 0);\n    if (sumPrimary > primary.max && !forceResult) {\n      if (maxPrimaryValues.length < primaryCount) {\n        return maxPrimaryValues.length;\n      }\n      return;\n    }\n    currentPrimaryIndices.push(bboxIndex + indexOffset);\n  }\n  if (currentPrimaryIndices.length > 0) {\n    result.push(currentPrimaryIndices);\n  }\n  return result.length > 0 ? result : void 0;\n}\nfunction buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX) {\n  let maxPageWidth = 0;\n  let maxPageHeight = 0;\n  const pages = rawPages.map((indices) => {\n    if (orientation === \"horizontal\") {\n      indices = transpose(indices);\n    }\n    let endIndex = 0;\n    const columns = indices.map((colIndices) => {\n      const colBBoxes = colIndices.map((bboxIndex) => {\n        endIndex = Math.max(bboxIndex, endIndex);\n        return bboxes[bboxIndex];\n      });\n      let columnHeight = 0;\n      let columnWidth = 0;\n      colBBoxes.forEach((bbox) => {\n        columnHeight += bbox.height + itemPaddingY;\n        columnWidth = Math.max(columnWidth, bbox.width + itemPaddingX);\n      });\n      return {\n        indices: colIndices,\n        bboxes: colBBoxes,\n        columnHeight: Math.ceil(columnHeight),\n        columnWidth: Math.ceil(columnWidth)\n      };\n    });\n    let pageWidth = 0;\n    let pageHeight = 0;\n    columns.forEach((column) => {\n      pageWidth += column.columnWidth;\n      pageHeight = Math.max(pageHeight, column.columnHeight);\n    });\n    maxPageWidth = Math.max(pageWidth, maxPageWidth);\n    maxPageHeight = Math.max(pageHeight, maxPageHeight);\n    return {\n      columns,\n      startIndex: indices[0][0],\n      endIndex,\n      pageWidth,\n      pageHeight\n    };\n  });\n  return { pages, maxPageWidth, maxPageHeight };\n}\nfunction transpose(data) {\n  const result = [];\n  for (const _ of data[0]) {\n    result.push([]);\n  }\n  data.forEach((innerData, dataIdx) => {\n    innerData.forEach((item, itemIdx) => {\n      result[itemIdx][dataIdx] = item;\n    });\n  });\n  return result;\n}\nfunction estimateStartingGuess(bboxes, primary) {\n  const n = bboxes.length;\n  let primarySum = 0;\n  for (let bboxIndex = 0; bboxIndex < n; bboxIndex++) {\n    primarySum += primary.fn(bboxes[bboxIndex]) + primary.padding;\n    if (primarySum > primary.max) {\n      const ratio = n / bboxIndex;\n      if (ratio < 2) {\n        return Math.ceil(n / 2);\n      }\n      return bboxIndex;\n    }\n  }\n  return n;\n}\nvar MarkerLabel = class extends Group {\n  constructor() {\n    super({ name: \"markerLabelGroup\" });\n    this.label = new Text();\n    this.line = new Line();\n    this._marker = new Square();\n    this._markerSize = 15;\n    this._spacing = 8;\n    const { marker, label, line } = this;\n    label.textBaseline = \"middle\";\n    label.fontSize = 12;\n    label.fontFamily = \"Verdana, sans-serif\";\n    label.fill = \"black\";\n    label.y = 1;\n    this.append([line, marker, label]);\n    this.update();\n  }\n  set marker(value) {\n    if (this._marker !== value) {\n      this.removeChild(this._marker);\n      this._marker = value;\n      this.appendChild(value);\n      this.update();\n    }\n  }\n  get marker() {\n    return this._marker;\n  }\n  set markerSize(value) {\n    if (this._markerSize !== value) {\n      this._markerSize = value;\n      this.update();\n    }\n  }\n  get markerSize() {\n    return this._markerSize;\n  }\n  set spacing(value) {\n    if (this._spacing !== value) {\n      this._spacing = value;\n      this.update();\n    }\n  }\n  get spacing() {\n    return this._spacing;\n  }\n  setSeriesStrokeOffset(xOff) {\n    const offset4 = this.marker.size / 2 + xOff;\n    this.line.x1 = -offset4;\n    this.line.x2 = offset4;\n    this.line.y1 = 0;\n    this.line.y2 = 0;\n    this.line.markDirtyTransform();\n    this.update();\n  }\n  update() {\n    const { markerSize } = this;\n    const center = this.marker.constructor.center;\n    this.marker.size = markerSize;\n    this.marker.x = (center.x - 0.5) * markerSize;\n    this.marker.y = (center.y - 0.5) * markerSize;\n    const lineEnd = this.line.visible ? this.line.x2 : -Infinity;\n    const markerEnd = markerSize / 2;\n    this.label.x = Math.max(lineEnd, markerEnd) + this.spacing;\n  }\n  render(renderCtx) {\n    this.marker.opacity = this.opacity;\n    this.label.opacity = this.opacity;\n    this.line.opacity = this.opacity;\n    super.render(renderCtx);\n  }\n};\nMarkerLabel.className = \"MarkerLabel\";\n__decorateClass2([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"text\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontSize\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontFamily\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"label\", \"fill\")\n], MarkerLabel.prototype, \"color\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"marker\", \"fill\")\n], MarkerLabel.prototype, \"markerFill\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"marker\", \"stroke\")\n], MarkerLabel.prototype, \"markerStroke\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"marker\", \"strokeWidth\")\n], MarkerLabel.prototype, \"markerStrokeWidth\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"marker\", \"fillOpacity\")\n], MarkerLabel.prototype, \"markerFillOpacity\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"marker\", \"strokeOpacity\")\n], MarkerLabel.prototype, \"markerStrokeOpacity\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"marker\", \"visible\")\n], MarkerLabel.prototype, \"markerVisible\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"line\", \"stroke\")\n], MarkerLabel.prototype, \"lineStroke\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"line\", \"strokeWidth\")\n], MarkerLabel.prototype, \"lineStrokeWidth\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"line\", \"strokeOpacity\")\n], MarkerLabel.prototype, \"lineStrokeOpacity\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"line\", \"lineDash\")\n], MarkerLabel.prototype, \"lineLineDash\", 2);\n__decorateClass2([\n  ProxyPropertyOnWrite(\"line\", \"visible\")\n], MarkerLabel.prototype, \"lineVisible\", 2);\nvar PaginationLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n};\n__decorateClass2([\n  Validate(COLOR_STRING)\n], PaginationLabel.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(FONT_STYLE, { optional: true })\n], PaginationLabel.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  Validate(FONT_WEIGHT2, { optional: true })\n], PaginationLabel.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PaginationLabel.prototype, \"fontSize\", 2);\n__decorateClass2([\n  Validate(STRING)\n], PaginationLabel.prototype, \"fontFamily\", 2);\nvar PaginationMarkerStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarkerStyle.prototype, \"size\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], PaginationMarkerStyle.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(RATIO, { optional: true })\n], PaginationMarkerStyle.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], PaginationMarkerStyle.prototype, \"stroke\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarkerStyle.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], PaginationMarkerStyle.prototype, \"strokeOpacity\", 2);\nvar PaginationMarker = class extends BaseProperties {\n  constructor(parent) {\n    super();\n    this.parent = parent;\n    this.shape = Triangle;\n    this.size = 15;\n    this.padding = 8;\n  }\n};\n__decorateClass2([\n  ActionOnSet({\n    changeValue() {\n      if (this.parent.marker === this) {\n        this.parent.onMarkerShapeChange();\n      }\n    }\n  })\n], PaginationMarker.prototype, \"shape\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarker.prototype, \"size\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarker.prototype, \"padding\", 2);\nvar Pagination = class extends BaseProperties {\n  constructor(chartUpdateCallback, pageUpdateCallback, regionManager, cursorManager) {\n    super();\n    this.chartUpdateCallback = chartUpdateCallback;\n    this.pageUpdateCallback = pageUpdateCallback;\n    this.regionManager = regionManager;\n    this.cursorManager = cursorManager;\n    this.id = createId(this);\n    this.marker = new PaginationMarker(this);\n    this.activeStyle = new PaginationMarkerStyle();\n    this.inactiveStyle = new PaginationMarkerStyle();\n    this.highlightStyle = new PaginationMarkerStyle();\n    this.label = new PaginationLabel();\n    this.group = new Group({ name: \"pagination\" });\n    this.labelNode = new Text();\n    this.destroyFns = [];\n    this.totalPages = 0;\n    this.currentPage = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this.nextButtonDisabled = false;\n    this.previousButtonDisabled = false;\n    this._visible = true;\n    this._enabled = true;\n    this._orientation = \"vertical\";\n    this._nextButton = new Triangle();\n    this._previousButton = new Triangle();\n    this.labelNode.setProperties({\n      textBaseline: \"middle\",\n      fontSize: 12,\n      fontFamily: \"Verdana, sans-serif\",\n      fill: \"black\",\n      y: 1\n    });\n    this.group.append([this.nextButton, this.previousButton, this.labelNode]);\n    const region = this.regionManager.addRegion(\"pagination\", this.group);\n    this.destroyFns.push(\n      region.addListener(\"click\", (event) => this.onPaginationClick(event)),\n      region.addListener(\"hover\", (event) => this.onPaginationMouseMove(event))\n    );\n    this.update();\n    this.updateMarkers();\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  set enabled(value) {\n    this._enabled = value;\n    this.updateGroupVisibility();\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible;\n  }\n  set orientation(value) {\n    this._orientation = value;\n    switch (value) {\n      case \"horizontal\": {\n        this.previousButton.rotation = -Math.PI / 2;\n        this.nextButton.rotation = Math.PI / 2;\n        break;\n      }\n      case \"vertical\":\n      default: {\n        this.previousButton.rotation = 0;\n        this.nextButton.rotation = Math.PI;\n      }\n    }\n  }\n  get orientation() {\n    return this._orientation;\n  }\n  set nextButton(value) {\n    if (this._nextButton !== value) {\n      this.group.removeChild(this._nextButton);\n      this._nextButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get nextButton() {\n    return this._nextButton;\n  }\n  set previousButton(value) {\n    if (this._previousButton !== value) {\n      this.group.removeChild(this._previousButton);\n      this._previousButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get previousButton() {\n    return this._previousButton;\n  }\n  update() {\n    this.updateLabel();\n    this.updatePositions();\n    this.enableOrDisableButtons();\n  }\n  updatePositions() {\n    this.group.translationX = this.translationX;\n    this.group.translationY = this.translationY;\n    this.updateLabelPosition();\n    this.updateNextButtonPosition();\n  }\n  updateLabelPosition() {\n    const { size: markerSize, padding: markerPadding } = this.marker;\n    this.nextButton.size = markerSize;\n    this.previousButton.size = markerSize;\n    this.labelNode.x = markerSize / 2 + markerPadding;\n  }\n  updateNextButtonPosition() {\n    const labelBBox = this.labelNode.computeBBox();\n    this.nextButton.translationX = labelBBox.x + labelBBox.width + this.marker.size / 2 + this.marker.padding;\n  }\n  updateLabel() {\n    const {\n      currentPage,\n      totalPages: pages,\n      labelNode,\n      label: { color, fontStyle, fontWeight, fontSize, fontFamily }\n    } = this;\n    labelNode.text = `${currentPage + 1} / ${pages}`;\n    labelNode.fill = color;\n    labelNode.fontStyle = fontStyle;\n    labelNode.fontWeight = fontWeight;\n    labelNode.fontSize = fontSize;\n    labelNode.fontFamily = fontFamily;\n  }\n  updateMarkers() {\n    const {\n      nextButton,\n      previousButton,\n      nextButtonDisabled,\n      previousButtonDisabled,\n      activeStyle,\n      inactiveStyle,\n      highlightStyle,\n      highlightActive\n    } = this;\n    const buttonStyle = (button, disabled) => {\n      if (disabled) {\n        return inactiveStyle;\n      } else if (button === highlightActive) {\n        return highlightStyle;\n      }\n      return activeStyle;\n    };\n    this.updateMarker(nextButton, buttonStyle(\"next\", nextButtonDisabled));\n    this.updateMarker(previousButton, buttonStyle(\"previous\", previousButtonDisabled));\n  }\n  updateMarker(marker, style) {\n    var _a;\n    const { size } = this.marker;\n    marker.size = size;\n    marker.fill = style.fill;\n    marker.fillOpacity = (_a = style.fillOpacity) != null ? _a : 1;\n    marker.stroke = style.stroke;\n    marker.strokeWidth = style.strokeWidth;\n    marker.strokeOpacity = style.strokeOpacity;\n  }\n  enableOrDisableButtons() {\n    const { currentPage, totalPages } = this;\n    const zeroPagesToDisplay = totalPages === 0;\n    const onLastPage = currentPage === totalPages - 1;\n    const onFirstPage = currentPage === 0;\n    this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n    this.previousButtonDisabled = onFirstPage || zeroPagesToDisplay;\n  }\n  nextButtonContainsPoint(offsetX, offsetY) {\n    return !this.nextButtonDisabled && this.nextButton.containsPoint(offsetX, offsetY);\n  }\n  previousButtonContainsPoint(offsetX, offsetY) {\n    return !this.previousButtonDisabled && this.previousButton.containsPoint(offsetX, offsetY);\n  }\n  clickNext() {\n    this.incrementPage();\n    this.onPaginationChanged();\n  }\n  clickPrevious() {\n    this.decrementPage();\n    this.onPaginationChanged();\n  }\n  setPage(pageNumber) {\n    pageNumber = clamp(0, pageNumber, this.totalPages - 1);\n    if (this.currentPage !== pageNumber) {\n      this.currentPage = pageNumber;\n      this.onPaginationChanged();\n    }\n  }\n  onPaginationClick(event) {\n    const { offsetX, offsetY } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.clickNext();\n      event.consume();\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.clickPrevious();\n      event.consume();\n    }\n  }\n  onPaginationMouseMove(event) {\n    const { offsetX, offsetY } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"next\";\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"previous\";\n    } else {\n      this.cursorManager.updateCursor(this.id);\n      this.highlightActive = void 0;\n    }\n    this.updateMarkers();\n    this.chartUpdateCallback(\n      6\n      /* SCENE_RENDER */\n    );\n  }\n  onPaginationChanged() {\n    this.pageUpdateCallback(this.currentPage);\n  }\n  incrementPage() {\n    this.currentPage = Math.min(this.currentPage + 1, this.totalPages - 1);\n  }\n  decrementPage() {\n    this.currentPage = Math.max(this.currentPage - 1, 0);\n  }\n  onMarkerShapeChange() {\n    const Marker2 = getMarker(this.marker.shape || Triangle);\n    this.previousButton = new Marker2();\n    this.nextButton = new Marker2();\n    this.updatePositions();\n    this.updateMarkers();\n    this.chartUpdateCallback(\n      6\n      /* SCENE_RENDER */\n    );\n  }\n  attachPagination(node) {\n    node.append(this.group);\n  }\n  computeBBox() {\n    return this.group.computeBBox();\n  }\n};\nPagination.className = \"Pagination\";\n__decorateClass2([\n  Validate(OBJECT)\n], Pagination.prototype, \"marker\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], Pagination.prototype, \"activeStyle\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], Pagination.prototype, \"inactiveStyle\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], Pagination.prototype, \"highlightStyle\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], Pagination.prototype, \"label\", 2);\nvar LegendLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.maxLength = void 0;\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.formatter = void 0;\n  }\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLabel.prototype, \"maxLength\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING)\n], LegendLabel.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(FONT_STYLE, { optional: true })\n], LegendLabel.prototype, \"fontStyle\", 2);\n__decorateClass2([\n  Validate(FONT_WEIGHT2, { optional: true })\n], LegendLabel.prototype, \"fontWeight\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], LegendLabel.prototype, \"fontSize\", 2);\n__decorateClass2([\n  Validate(STRING)\n], LegendLabel.prototype, \"fontFamily\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], LegendLabel.prototype, \"formatter\", 2);\nvar LegendMarker = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.padding = 8;\n    this.enabled = true;\n  }\n};\n__decorateClass2([\n  ObserveChanges((target) => {\n    var _a;\n    return (_a = target.parent) == null ? void 0 : _a.onMarkerShapeChange();\n  })\n], LegendMarker.prototype, \"shape\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], LegendMarker.prototype, \"size\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], LegendMarker.prototype, \"padding\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendMarker.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], LegendMarker.prototype, \"enabled\", 2);\nvar LegendLine = class extends BaseProperties {\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLine.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLine.prototype, \"length\", 2);\nvar LegendItem = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.paddingX = 16;\n    this.paddingY = 8;\n    this.toggleSeriesVisible = true;\n    this.showSeriesStroke = false;\n    this.marker = new LegendMarker();\n    this.label = new LegendLabel();\n    this.line = new LegendLine();\n  }\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendItem.prototype, \"maxWidth\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], LegendItem.prototype, \"paddingX\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], LegendItem.prototype, \"paddingY\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], LegendItem.prototype, \"toggleSeriesVisible\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], LegendItem.prototype, \"showSeriesStroke\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], LegendItem.prototype, \"marker\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], LegendItem.prototype, \"label\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], LegendItem.prototype, \"line\", 2);\nvar LegendListeners = class extends BaseProperties {\n};\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], LegendListeners.prototype, \"legendItemClick\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], LegendListeners.prototype, \"legendItemDoubleClick\", 2);\nvar Legend = class extends BaseProperties {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.id = createId(this);\n    this.group = new Group({\n      name: \"legend\",\n      layer: true,\n      zIndex: 11\n      /* LEGEND_ZINDEX */\n    });\n    this.itemSelection = Selection.select(this.group, MarkerLabel);\n    this.oldSize = [0, 0];\n    this.pages = [];\n    this.maxPageSize = [0, 0];\n    this.paginationTrackingIndex = 0;\n    this.truncatedItems = /* @__PURE__ */ new Set();\n    this._data = [];\n    this.item = new LegendItem();\n    this.listeners = new LegendListeners();\n    this.enabled = true;\n    this.position = \"bottom\";\n    this.spacing = 20;\n    this.characterWidths = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.size = [0, 0];\n    this._visible = true;\n    this.focus = { mode: \"item\", index: 0 };\n    this.item.marker.parent = this;\n    this.pagination = new Pagination(\n      (type) => ctx.updateService.update(type),\n      (page) => this.updatePageNumber(page),\n      ctx.regionManager,\n      ctx.cursorManager\n    );\n    this.pagination.attachPagination(this.group);\n    this.item.marker.parent = this;\n    const animationState = 16 | 1;\n    const region = ctx.regionManager.addRegionFromProperties({\n      name: \"legend\",\n      bboxproviders: [this.group],\n      canInteraction: () => this.enabled && this.group.visible\n    });\n    this.destroyFns.push(\n      region.addListener(\"click\", (e) => this.checkLegendClick(e), animationState),\n      region.addListener(\"dblclick\", (e) => this.checkLegendDoubleClick(e), animationState),\n      region.addListener(\"hover\", (e) => this.handleLegendMouseMove(e)),\n      region.addListener(\"leave\", (e) => this.handleLegendMouseExit(e), animationState),\n      region.addListener(\"enter\", (e) => this.handleLegendMouseEnter(e), animationState),\n      region.addListener(\"blur\", (e) => this.onBlur(e)),\n      region.addListener(\"tab\", (e) => this.onTab(e)),\n      region.addListener(\"tab-start\", (e) => this.onTabStart(e)),\n      region.addListener(\"nav-vert\", (e) => this.onNav(e)),\n      region.addListener(\"nav-hori\", (e) => this.onNav(e)),\n      region.addListener(\"submit\", (e) => this.onSubmit(e)),\n      ctx.layoutService.addListener(\"start-layout\", (e) => this.positionLegend(e.shrinkRect)),\n      () => this.detachLegend()\n    );\n  }\n  set data(value) {\n    this._data = value;\n    this.updateGroupVisibility();\n  }\n  get data() {\n    return this._data;\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n    this.pagination.destroy();\n  }\n  onMarkerShapeChange() {\n    this.itemSelection.clear();\n    this.group.markDirty(\n      this.group,\n      2\n      /* MINOR */\n    );\n  }\n  getOrientation() {\n    if (this.orientation !== void 0) {\n      return this.orientation;\n    }\n    switch (this.position) {\n      case \"right\":\n      case \"left\":\n        return \"vertical\";\n      case \"bottom\":\n      case \"top\":\n        return \"horizontal\";\n    }\n  }\n  getCharacterWidths(font) {\n    const { characterWidths } = this;\n    if (characterWidths.has(font)) {\n      return characterWidths.get(font);\n    }\n    const cw = {\n      \"...\": Text.getTextSize(\"...\", font).width\n    };\n    characterWidths.set(font, cw);\n    return cw;\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible && this.data.length > 0;\n  }\n  attachLegend(scene) {\n    scene.appendChild(this.group);\n  }\n  detachLegend() {\n    var _a;\n    (_a = this.group.parent) == null ? void 0 : _a.removeChild(this.group);\n  }\n  getItemLabel(datum) {\n    const {\n      ctx: { callbackCache }\n    } = this;\n    const { formatter } = this.item.label;\n    if (formatter) {\n      return callbackCache.call(formatter, {\n        itemId: datum.itemId,\n        value: datum.label.text,\n        seriesId: datum.seriesId\n      });\n    }\n    return datum.label.text;\n  }\n  /**\n   * The method is given the desired size of the legend, which only serves as a hint.\n   * The vertically oriented legend will take as much horizontal space as needed, but will\n   * respect the height constraints, and the horizontal legend will take as much vertical\n   * space as needed in an attempt not to exceed the given width.\n   * After the layout is done, the {@link size} will contain the actual size of the legend.\n   * If the actual size is not the same as the previous actual size, the legend will fire\n   * the 'layoutChange' event to communicate that another layout is needed, and the above\n   * process should be repeated.\n   * @param width\n   * @param height\n   */\n  calcLayout(width, height) {\n    const {\n      paddingX,\n      paddingY,\n      label,\n      maxWidth,\n      marker: { size: markerSize, padding: markerPadding, shape: markerShape },\n      label: { maxLength = Infinity, fontStyle, fontWeight, fontSize, fontFamily },\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    const data = [...this.data];\n    if (this.reverseOrder) {\n      data.reverse();\n    }\n    this.itemSelection.update(data);\n    const bboxes = [];\n    const font = getFont(label);\n    const itemMaxWidthPercentage = 0.8;\n    const maxItemWidth = maxWidth != null ? maxWidth : width * itemMaxWidthPercentage;\n    const paddedMarkerWidth = markerSize + markerPadding + paddingX;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b, _c;\n      const Marker2 = getMarker(markerShape != null ? markerShape : datum.marker.shape);\n      const markerEnabled = (_a = datum.marker.enabled) != null ? _a : this.item.marker.enabled;\n      if (!(markerLabel.marker && markerLabel.marker instanceof Marker2)) {\n        markerLabel.marker = new Marker2();\n      }\n      markerLabel.markerSize = markerSize;\n      markerLabel.spacing = markerPadding;\n      markerLabel.fontStyle = fontStyle;\n      markerLabel.fontWeight = fontWeight;\n      markerLabel.fontSize = fontSize;\n      markerLabel.fontFamily = fontFamily;\n      const id = (_b = datum.itemId) != null ? _b : datum.id;\n      const labelText = this.getItemLabel(datum);\n      const text = (labelText != null ? labelText : \"<unknown>\").replace(/\\r?\\n/g, \" \");\n      markerLabel.text = this.truncate(text, maxLength, maxItemWidth, paddedMarkerWidth, font, id);\n      if (showSeriesStroke && datum.line !== void 0) {\n        markerLabel.lineVisible = true;\n        markerLabel.markerVisible = markerEnabled;\n        markerLabel.setSeriesStrokeOffset((_c = itemLine.length) != null ? _c : 5);\n      } else {\n        markerLabel.lineVisible = false;\n        markerLabel.markerVisible = true;\n      }\n      bboxes.push(markerLabel.computeBBox());\n    });\n    width = Math.max(1, width);\n    height = Math.max(1, height);\n    if (!isFinite(width)) {\n      return false;\n    }\n    const size = this.size;\n    const oldSize = this.oldSize;\n    size[0] = width;\n    size[1] = height;\n    if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      oldSize[0] = size[0];\n      oldSize[1] = size[1];\n    }\n    const { pages, maxPageHeight, maxPageWidth } = this.updatePagination(bboxes, width, height);\n    this.pages = pages;\n    this.maxPageSize = [maxPageWidth - paddingX, maxPageHeight - paddingY];\n    const pageNumber = this.pagination.currentPage;\n    const page = this.pages[pageNumber];\n    if (this.pages.length < 1 || !page) {\n      this.visible = false;\n      return;\n    }\n    this.visible = true;\n    this.updatePositions(pageNumber);\n    this.update();\n  }\n  truncate(text, maxCharLength, maxItemWidth, paddedMarkerWidth, font, id) {\n    const ellipsis2 = `...`;\n    const textChars = text.split(\"\");\n    let addEllipsis = false;\n    if (text.length > maxCharLength) {\n      text = `${text.substring(0, maxCharLength)}`;\n      addEllipsis = true;\n    }\n    const labelWidth = Math.floor(paddedMarkerWidth + Text.getTextSize(text, font).width);\n    if (labelWidth > maxItemWidth) {\n      let truncatedText = \"\";\n      const characterWidths = this.getCharacterWidths(font);\n      let cumulativeWidth = paddedMarkerWidth + characterWidths[ellipsis2];\n      for (const char of textChars) {\n        if (!characterWidths[char]) {\n          characterWidths[char] = Text.getTextSize(char, font).width;\n        }\n        cumulativeWidth += characterWidths[char];\n        if (cumulativeWidth > maxItemWidth) {\n          break;\n        }\n        truncatedText += char;\n      }\n      text = truncatedText;\n      addEllipsis = true;\n    }\n    if (addEllipsis) {\n      text += ellipsis2;\n      this.truncatedItems.add(id);\n    } else {\n      this.truncatedItems.delete(id);\n    }\n    return text;\n  }\n  updatePagination(bboxes, width, height) {\n    const orientation = this.getOrientation();\n    const trackingIndex = Math.min(this.paginationTrackingIndex, bboxes.length);\n    this.pagination.orientation = orientation;\n    this.pagination.translationX = 0;\n    this.pagination.translationY = 0;\n    const { pages, maxPageHeight, maxPageWidth, paginationBBox, paginationVertical } = this.calculatePagination(\n      bboxes,\n      width,\n      height\n    );\n    const newCurrentPage = pages.findIndex((p) => p.endIndex >= trackingIndex);\n    this.pagination.currentPage = clamp(0, newCurrentPage, pages.length - 1);\n    const { paddingX: itemPaddingX, paddingY: itemPaddingY } = this.item;\n    const paginationComponentPadding = 8;\n    const legendItemsWidth = maxPageWidth - itemPaddingX;\n    const legendItemsHeight = maxPageHeight - itemPaddingY;\n    let paginationX = 0;\n    let paginationY = -paginationBBox.y - this.item.marker.size / 2;\n    if (paginationVertical) {\n      paginationY += legendItemsHeight + paginationComponentPadding;\n    } else {\n      paginationX += -paginationBBox.x + legendItemsWidth + paginationComponentPadding;\n      paginationY += (legendItemsHeight - paginationBBox.height) / 2;\n    }\n    this.pagination.translationX = paginationX;\n    this.pagination.translationY = paginationY;\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    return {\n      maxPageHeight,\n      maxPageWidth,\n      pages\n    };\n  }\n  calculatePagination(bboxes, width, height) {\n    var _a, _b, _c;\n    const { paddingX: itemPaddingX, paddingY: itemPaddingY } = this.item;\n    const orientation = this.getOrientation();\n    const paginationVertical = [\"left\", \"right\"].includes(this.position);\n    let paginationBBox = this.pagination.computeBBox();\n    let lastPassPaginationBBox = new BBox(0, 0, 0, 0);\n    let pages = [];\n    let maxPageWidth = 0;\n    let maxPageHeight = 0;\n    let count = 0;\n    const stableOutput = (bbox) => {\n      return bbox.width === paginationBBox.width && bbox.height === paginationBBox.height;\n    };\n    const forceResult = this.maxWidth !== void 0 && this.maxHeight !== void 0;\n    do {\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable legend layout.\");\n        break;\n      }\n      paginationBBox = lastPassPaginationBBox;\n      const maxWidth = width - (paginationVertical ? 0 : paginationBBox.width);\n      const maxHeight = height - (paginationVertical ? paginationBBox.height : 0);\n      const layout = gridLayout({\n        orientation,\n        bboxes,\n        maxHeight,\n        maxWidth,\n        itemPaddingY,\n        itemPaddingX,\n        forceResult\n      });\n      pages = (_a = layout == null ? void 0 : layout.pages) != null ? _a : [];\n      maxPageWidth = (_b = layout == null ? void 0 : layout.maxPageWidth) != null ? _b : 0;\n      maxPageHeight = (_c = layout == null ? void 0 : layout.maxPageHeight) != null ? _c : 0;\n      const totalPages = pages.length;\n      this.pagination.visible = totalPages > 1;\n      this.pagination.totalPages = totalPages;\n      this.pagination.update();\n      lastPassPaginationBBox = this.pagination.computeBBox();\n      if (!this.pagination.visible) {\n        break;\n      }\n    } while (!stableOutput(lastPassPaginationBBox));\n    return { maxPageWidth, maxPageHeight, pages, paginationBBox, paginationVertical };\n  }\n  getPageItemCount(pageNumber) {\n    let count = 0;\n    for (const col of this.pages[pageNumber].columns) {\n      count += col.indices.length;\n    }\n    return count;\n  }\n  getNodeIndexFromFocusIndex() {\n    const { index } = this.focus;\n    const page = this.pages[this.pagination.currentPage];\n    let itemCount = 0;\n    for (const col of page.columns) {\n      if (index < itemCount + col.indices.length) {\n        return col.indices[index - itemCount];\n      } else {\n        itemCount += col.indices.length;\n      }\n    }\n    return -1;\n  }\n  updatePositions(pageNumber = 0) {\n    const {\n      item: { paddingY },\n      itemSelection,\n      pages\n    } = this;\n    if (pages.length < 1 || !pages[pageNumber]) {\n      return;\n    }\n    const { columns, startIndex: visibleStart, endIndex: visibleEnd } = pages[pageNumber];\n    let x = 0;\n    let y = 0;\n    const columnCount = columns.length;\n    const rowCount = columns[0].indices.length;\n    const horizontal = this.getOrientation() === \"horizontal\";\n    const itemHeight = columns[0].bboxes[0].height + paddingY;\n    const rowSumColumnWidths = [];\n    itemSelection.each((markerLabel, _, i) => {\n      var _a, _b;\n      if (i < visibleStart || i > visibleEnd) {\n        markerLabel.visible = false;\n        return;\n      }\n      const pageIndex = i - visibleStart;\n      let columnIndex = 0;\n      let rowIndex = 0;\n      if (horizontal) {\n        columnIndex = pageIndex % columnCount;\n        rowIndex = Math.floor(pageIndex / columnCount);\n      } else {\n        columnIndex = Math.floor(pageIndex / rowCount);\n        rowIndex = pageIndex % rowCount;\n      }\n      markerLabel.visible = true;\n      const column = columns[columnIndex];\n      if (!column) {\n        return;\n      }\n      y = itemHeight * rowIndex;\n      x = (_a = rowSumColumnWidths[rowIndex]) != null ? _a : 0;\n      rowSumColumnWidths[rowIndex] = ((_b = rowSumColumnWidths[rowIndex]) != null ? _b : 0) + column.columnWidth;\n      markerLabel.translationX = Math.floor(x);\n      markerLabel.translationY = Math.floor(y);\n    });\n  }\n  updatePageNumber(pageNumber) {\n    const { pages } = this;\n    const { startIndex, endIndex } = pages[pageNumber];\n    if (startIndex === 0) {\n      this.paginationTrackingIndex = 0;\n    } else if (pageNumber === pages.length - 1) {\n      this.paginationTrackingIndex = endIndex;\n    } else {\n      this.paginationTrackingIndex = Math.floor((startIndex + endIndex) / 2);\n    }\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    this.updatePositions(pageNumber);\n    this.ctx.updateService.update(\n      6\n      /* SCENE_RENDER */\n    );\n  }\n  update() {\n    const {\n      label: { color },\n      marker: itemMarker,\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b;\n      const marker = datum.marker;\n      markerLabel.markerFill = marker.fill;\n      markerLabel.markerStroke = marker.stroke;\n      markerLabel.markerStrokeWidth = (_a = itemMarker.strokeWidth) != null ? _a : Math.min(2, marker.strokeWidth);\n      markerLabel.markerFillOpacity = marker.fillOpacity;\n      markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n      markerLabel.opacity = datum.enabled ? 1 : 0.5;\n      markerLabel.color = color;\n      const { line } = datum;\n      if (showSeriesStroke && line !== void 0) {\n        markerLabel.lineStroke = line.stroke;\n        markerLabel.lineStrokeOpacity = line.strokeOpacity;\n        markerLabel.lineStrokeWidth = (_b = itemLine.strokeWidth) != null ? _b : Math.min(2, line.strokeWidth);\n        markerLabel.lineLineDash = line.lineDash;\n      }\n    });\n  }\n  getDatumForPoint(x, y) {\n    const visibleChildBBoxes = [];\n    const closestLeftTop = { dist: Infinity, datum: void 0 };\n    for (const child of this.group.children) {\n      if (!child.visible)\n        continue;\n      if (!(child instanceof MarkerLabel))\n        continue;\n      const childBBox = child.computeBBox();\n      childBBox.grow(this.item.paddingX / 2, \"horizontal\");\n      childBBox.grow(this.item.paddingY / 2, \"vertical\");\n      if (childBBox.containsPoint(x, y)) {\n        return child.datum;\n      }\n      const distX = x - childBBox.x - this.item.paddingX / 2;\n      const distY = y - childBBox.y - this.item.paddingY / 2;\n      const dist = __pow(distX, 2) + __pow(distY, 2);\n      const toTheLeftTop = distX >= 0 && distY >= 0;\n      if (toTheLeftTop && dist < closestLeftTop.dist) {\n        closestLeftTop.dist = dist;\n        closestLeftTop.datum = child.datum;\n      }\n      visibleChildBBoxes.push(childBBox);\n    }\n    const pageBBox = BBox.merge(visibleChildBBoxes);\n    if (!pageBBox.containsPoint(x, y)) {\n      return;\n    }\n    return closestLeftTop.datum;\n  }\n  computePagedBBox() {\n    const actualBBox = this.group.computeBBox();\n    if (this.pages.length <= 1) {\n      return actualBBox;\n    }\n    const [maxPageWidth, maxPageHeight] = this.maxPageSize;\n    actualBBox.height = Math.max(maxPageHeight, actualBBox.height);\n    actualBBox.width = Math.max(maxPageWidth, actualBBox.width);\n    return actualBBox;\n  }\n  checkLegendClick(event) {\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (this.doClick(datum)) {\n      event.consume();\n    }\n  }\n  doClick(datum) {\n    var _a;\n    const {\n      listeners: { legendItemClick },\n      ctx: { chartService, highlightManager },\n      item: { toggleSeriesVisible },\n      preventHidingAll\n    } = this;\n    if (!datum) {\n      return false;\n    }\n    const { id, itemId, enabled } = datum;\n    const series = chartService.series.find((s) => s.id === id);\n    if (!series) {\n      return false;\n    }\n    let newEnabled = enabled;\n    if (toggleSeriesVisible) {\n      newEnabled = !enabled;\n      if (preventHidingAll && !newEnabled) {\n        const numVisibleItems = chartService.series.flatMap((s) => s.getLegendData(\"category\")).filter((d) => d.enabled).length;\n        if (numVisibleItems < 2) {\n          newEnabled = true;\n        }\n      }\n      const name = (_a = datum.legendItemName) != null ? _a : datum.label.text;\n      const status = newEnabled ? \"enabled\" : \"disabled\";\n      this.ctx.ariaAnnouncementService.announceValue(`series ${name} ${status}`);\n      this.ctx.chartEventManager.legendItemClick(series, itemId, newEnabled, datum.legendItemName);\n    }\n    if (newEnabled) {\n      highlightManager.updateHighlight(this.id, {\n        series,\n        itemId,\n        datum: void 0\n      });\n    } else {\n      highlightManager.updateHighlight(this.id);\n    }\n    this.ctx.updateService.update(2, { forceNodeDataRefresh: true });\n    legendItemClick == null ? void 0 : legendItemClick({ type: \"click\", enabled: newEnabled, itemId, seriesId: series.id });\n    return true;\n  }\n  checkLegendDoubleClick(event) {\n    var _a;\n    const {\n      listeners: { legendItemDoubleClick },\n      ctx: { chartService },\n      item: { toggleSeriesVisible }\n    } = this;\n    if (chartService.mode === \"integrated\") {\n      return;\n    }\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (!datum) {\n      return;\n    }\n    const { id, itemId, seriesId } = datum;\n    const series = chartService.series.find((s) => s.id === id);\n    if (!series) {\n      return;\n    }\n    event.consume();\n    if (toggleSeriesVisible) {\n      const legendData = chartService.series.flatMap((s) => s.getLegendData(\"category\"));\n      const numVisibleItems = legendData.filter((d) => d.enabled).length;\n      const clickedItem = legendData.find((d) => d.itemId === itemId && d.seriesId === seriesId);\n      this.ctx.chartEventManager.legendItemDoubleClick(\n        series,\n        itemId,\n        (_a = clickedItem == null ? void 0 : clickedItem.enabled) != null ? _a : false,\n        numVisibleItems,\n        clickedItem == null ? void 0 : clickedItem.legendItemName\n      );\n    }\n    this.ctx.updateService.update(2, { forceNodeDataRefresh: true });\n    legendItemDoubleClick == null ? void 0 : legendItemDoubleClick({ type: \"dblclick\", enabled: true, itemId, seriesId: series.id });\n  }\n  handleLegendMouseMove(event) {\n    if (!this.enabled) {\n      return;\n    }\n    const { offsetX, offsetY } = event;\n    event.consume();\n    const datum = this.getDatumForPoint(offsetX, offsetY);\n    this.doHover(event, datum);\n  }\n  doHover(event, datum) {\n    var _a;\n    const {\n      item: { toggleSeriesVisible },\n      listeners\n    } = this;\n    if (event === void 0 || datum === void 0) {\n      this.ctx.cursorManager.updateCursor(this.id);\n      this.ctx.highlightManager.updateHighlight(this.id);\n      return;\n    }\n    const series = datum ? this.ctx.chartService.series.find((s) => s.id === (datum == null ? void 0 : datum.id)) : void 0;\n    if (datum && this.truncatedItems.has((_a = datum.itemId) != null ? _a : datum.id)) {\n      const { offsetX, offsetY } = event;\n      this.ctx.tooltipManager.updateTooltip(\n        this.id,\n        { offsetX, offsetY, lastPointerEvent: event, showArrow: false },\n        toTooltipHtml({ content: this.getItemLabel(datum) })\n      );\n    } else {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    if (toggleSeriesVisible || listeners.legendItemClick != null || listeners.legendItemDoubleClick != null) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n    if ((datum == null ? void 0 : datum.enabled) && series) {\n      this.ctx.highlightManager.updateHighlight(this.id, {\n        series,\n        itemId: datum == null ? void 0 : datum.itemId,\n        datum: void 0\n      });\n    } else {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseExit(_event) {\n    this.doMouseExit();\n  }\n  doMouseExit() {\n    this.ctx.cursorManager.updateCursor(this.id);\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    if (this.ctx.interactionManager.getState() === 16) {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseEnter(event) {\n    const {\n      enabled,\n      item: { toggleSeriesVisible: toggle },\n      listeners: { legendItemClick: clickListener, legendItemDoubleClick: dblclickListener }\n    } = this;\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (enabled && datum !== void 0 && (toggle || clickListener != null || dblclickListener != null)) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n  }\n  onBlur(_event) {\n    this.doMouseExit();\n    this.focus.mode = \"item\";\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n  }\n  onTab(event) {\n    this.updateFocus();\n    event.consume();\n  }\n  onTabStart(event) {\n    if (!this.pagination.visible || !this.pagination.enabled)\n      return;\n    const consumeTabStart = (newMode) => {\n      this.focus.mode = newMode;\n      this.updateFocus();\n      event.consume();\n    };\n    if (this.focus.mode === \"item\" && event.delta === 1) {\n      this.focus.index = this.pagination.currentPage === 0 ? 1 : 0;\n      consumeTabStart(\"page\");\n    } else if (this.focus.mode === \"page\" && event.delta === -1) {\n      this.focus.index = 0;\n      consumeTabStart(\"item\");\n    }\n  }\n  onNav(event) {\n    if (this.focus.mode === \"item\") {\n      const newIndex = this.focus.index + event.delta;\n      const pageItemCount = this.getPageItemCount(this.pagination.currentPage);\n      this.focus.index = clamp(-1, newIndex, pageItemCount);\n      this.updateFocus();\n      event.consume();\n    } else if (this.focus.mode === \"page\") {\n      if (event.delta < 0)\n        this.focus.index = 0;\n      if (event.delta > 0)\n        this.focus.index = 1;\n      this.updateFocus();\n      event.consume();\n    }\n  }\n  onSubmit(_event) {\n    if (this.focus.mode === \"item\") {\n      this.doClick(this.getFocusedItem().datum);\n    } else if (this.focus.mode === \"page\") {\n      if (this.focus.index === 0)\n        this.pagination.clickPrevious();\n      if (this.focus.index === 1)\n        this.pagination.clickNext();\n      this.ctx.ariaAnnouncementService.announceValue(\n        `Legend page ${this.pagination.currentPage + 1} of ${this.pages.length}`\n      );\n    }\n  }\n  maybeChangeFocusPage() {\n    const oldPage = this.pagination.currentPage;\n    const oldPageItemCount = this.getPageItemCount(oldPage);\n    if (this.focus.index === -1) {\n      this.pagination.setPage(oldPage - 1);\n    } else if (this.focus.index === oldPageItemCount) {\n      this.pagination.setPage(oldPage + 1);\n    } else {\n      return;\n    }\n    const { currentPage } = this.pagination;\n    if (oldPage === currentPage) {\n      this.focus.index = clamp(0, this.focus.index, oldPageItemCount - 1);\n    } else if (this.focus.index === -1) {\n      this.focus.index = this.getPageItemCount(currentPage) - 1;\n    } else {\n      this.focus.index = 0;\n    }\n  }\n  getFocusedItem() {\n    if (this.focus.mode !== \"item\") {\n      Logger.error(`getFocusedItem() should be called only when focus.mode is 'item'`);\n      return { nodeIndex: -1, node: void 0, datum: void 0 };\n    }\n    this.maybeChangeFocusPage();\n    const nodeIndex = this.getNodeIndexFromFocusIndex();\n    if (nodeIndex < 0) {\n      Logger.error(`Cannot access negative nodeIndex ${nodeIndex}`);\n      return { nodeIndex: -1, node: void 0, datum: void 0 };\n    }\n    const node = this.itemSelection.nodes()[nodeIndex];\n    const data = this.data;\n    let datum;\n    if (nodeIndex < data.length) {\n      datum = this.data[nodeIndex];\n    } else {\n      Logger.error(`Cannot access datum[${nodeIndex}]`);\n    }\n    return { nodeIndex, node, datum };\n  }\n  updateFocus() {\n    const { focus, pagination } = this;\n    if (focus.mode === \"item\") {\n      const { nodeIndex, node, datum } = this.getFocusedItem();\n      const bbox = node == null ? void 0 : node.computeTransformedBBox();\n      this.doHover(makeKeyboardPointerEvent(this.ctx.regionManager, bbox), datum);\n      const label = datum && this.getItemLabel(datum);\n      if (label) {\n        this.ctx.ariaAnnouncementService.announceValue(\n          `Legend item ${nodeIndex + 1} of ${this.data.length}, ${label}, button`\n        );\n      }\n    } else if (focus.mode === \"page\") {\n      const button = focus.index === 0 ? pagination.previousButton : pagination.nextButton;\n      this.ctx.regionManager.updateFocusIndicatorRect(button.computeTransformedBBox());\n      const value = [\"Previous legend page\", \"Next legend page\"][focus.index];\n      this.ctx.ariaAnnouncementService.announceValue(`${value}, button`);\n    }\n  }\n  positionLegend(shrinkRect) {\n    const newShrinkRect = shrinkRect.clone();\n    if (!this.enabled || !this.data.length) {\n      return { shrinkRect: newShrinkRect };\n    }\n    const [legendWidth, legendHeight] = this.calculateLegendDimensions(shrinkRect);\n    this.group.translationX = 0;\n    this.group.translationY = 0;\n    this.calcLayout(legendWidth, legendHeight);\n    const legendBBox = this.computePagedBBox();\n    const calculateTranslationPerpendicularDimension = () => {\n      switch (this.position) {\n        case \"top\":\n        case \"left\":\n          return 0;\n        case \"bottom\":\n          return shrinkRect.height - legendBBox.height;\n        case \"right\":\n        default:\n          return shrinkRect.width - legendBBox.width;\n      }\n    };\n    if (this.visible) {\n      let translationX;\n      let translationY;\n      switch (this.position) {\n        case \"top\":\n        case \"bottom\":\n          translationX = (shrinkRect.width - legendBBox.width) / 2;\n          translationY = calculateTranslationPerpendicularDimension();\n          newShrinkRect.shrink(legendBBox.height, this.position);\n          break;\n        case \"left\":\n        case \"right\":\n        default:\n          translationX = calculateTranslationPerpendicularDimension();\n          translationY = (shrinkRect.height - legendBBox.height) / 2;\n          newShrinkRect.shrink(legendBBox.width, this.position);\n      }\n      this.group.translationX = Math.floor(-legendBBox.x + shrinkRect.x + translationX);\n      this.group.translationY = Math.floor(-legendBBox.y + shrinkRect.y + translationY);\n    }\n    if (this.visible && this.enabled && this.data.length) {\n      const legendPadding = this.spacing;\n      newShrinkRect.shrink(legendPadding, this.position);\n      const legendPositionedBBox = legendBBox.clone();\n      legendPositionedBBox.x += this.group.translationX;\n      legendPositionedBBox.y += this.group.translationY;\n    }\n    return { shrinkRect: newShrinkRect };\n  }\n  calculateLegendDimensions(shrinkRect) {\n    const { width, height } = shrinkRect;\n    const aspectRatio = width / height;\n    const maxCoefficient = 0.5;\n    const minHeightCoefficient = 0.2;\n    const minWidthCoefficient = 0.25;\n    let legendWidth, legendHeight;\n    switch (this.position) {\n      case \"top\":\n      case \"bottom\":\n        const heightCoefficient = aspectRatio < 1 ? Math.min(maxCoefficient, minHeightCoefficient * (1 / aspectRatio)) : minHeightCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : width;\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : Math.round(height * heightCoefficient);\n        break;\n      case \"left\":\n      case \"right\":\n      default:\n        const widthCoefficient = aspectRatio > 1 ? Math.min(maxCoefficient, minWidthCoefficient * aspectRatio) : minWidthCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : Math.round(width * widthCoefficient);\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : height;\n    }\n    return [legendWidth, legendHeight];\n  }\n};\nLegend.className = \"Legend\";\n__decorateClass2([\n  Validate(OBJECT)\n], Legend.prototype, \"pagination\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], Legend.prototype, \"item\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], Legend.prototype, \"listeners\", 2);\n__decorateClass2([\n  ObserveChanges((target) => target.updateGroupVisibility()),\n  Validate(BOOLEAN)\n], Legend.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(POSITION2)\n], Legend.prototype, \"position\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Legend.prototype, \"maxWidth\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Legend.prototype, \"maxHeight\", 2);\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], Legend.prototype, \"reverseOrder\", 2);\n__decorateClass2([\n  Validate(UNION([\"horizontal\", \"vertical\"], \"an orientation\"), { optional: true })\n], Legend.prototype, \"orientation\", 2);\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], Legend.prototype, \"preventHidingAll\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Legend.prototype, \"spacing\", 2);\nvar CommunityLegendModule = {\n  type: \"legend\",\n  optionsKey: \"legend\",\n  identifier: \"category\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Legend,\n  packageType: \"community\"\n};\nvar RangeHandle = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 3;\n    this._fill = \"#f2f2f2\";\n    this._stroke = \"#999999\";\n    this._strokeWidth = 1;\n    this._lineCap = \"square\";\n    this._centerX = 0;\n    this._centerY = 0;\n    this._width = 8;\n    this._gripLineGap = 2;\n    this._gripLineLength = 8;\n    this._height = 16;\n  }\n  set centerX(value) {\n    if (this._centerX !== value) {\n      this._centerX = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerX() {\n    return this._centerX;\n  }\n  set centerY(value) {\n    if (this._centerY !== value) {\n      this._centerY = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerY() {\n    return this._centerY;\n  }\n  set width(value) {\n    if (this._width !== value) {\n      this._width = value;\n      this.dirtyPath = true;\n    }\n  }\n  get width() {\n    return this._width;\n  }\n  set gripLineGap(value) {\n    if (this._gripLineGap !== value) {\n      this._gripLineGap = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineGap() {\n    return this._gripLineGap;\n  }\n  set gripLineLength(value) {\n    if (this._gripLineLength !== value) {\n      this._gripLineLength = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineLength() {\n    return this._gripLineLength;\n  }\n  set height(value) {\n    if (this._height !== value) {\n      this._height = value;\n      this.dirtyPath = true;\n    }\n  }\n  get height() {\n    return this._height;\n  }\n  layout(x, y) {\n    this.centerX = x;\n    this.centerY = y;\n  }\n  static align(minHandle, maxHandle, x, y, width, height, min, max) {\n    const handlePixelAlign = minHandle.strokeWidth / 2;\n    const minHandleX = minHandle.align(x + width * min) + handlePixelAlign;\n    const maxHandleX = minHandleX + minHandle.align(x + width * min, width * (max - min)) - 2 * handlePixelAlign;\n    const handleY = minHandle.align(y + height / 2) + handlePixelAlign;\n    minHandle.layout(minHandleX, handleY);\n    maxHandle.layout(maxHandleX, handleY);\n  }\n  computeBBox() {\n    const { centerX, centerY, width, height } = this;\n    const x = centerX - width / 2;\n    const y = centerY - height / 2;\n    return new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox.containsPoint(point.x, point.y);\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const { centerX, centerY, path, strokeWidth, gripLineGap, gripLineLength } = this;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    path.clear();\n    const halfWidth = Math.floor(this.width / 2 * pixelRatio) / pixelRatio;\n    const halfHeight = Math.floor(this.height / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY + halfHeight);\n    path.lineTo(centerX - halfWidth, centerY + halfHeight);\n    path.closePath();\n    const dx = Math.floor((gripLineGap + strokeWidth) / 2 * pixelRatio) / pixelRatio;\n    const dy = Math.floor(gripLineLength / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - dx, centerY - dy);\n    path.lineTo(centerX - dx, centerY + dy);\n    path.moveTo(centerX + dx, centerY - dy);\n    path.lineTo(centerX + dx, centerY + dy);\n  }\n};\nRangeHandle.className = \"RangeHandle\";\n__decorateClass2([\n  Validate(COLOR_STRING)\n], RangeHandle.prototype, \"_fill\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING)\n], RangeHandle.prototype, \"_stroke\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_strokeWidth\", 2);\n__decorateClass2([\n  Validate(LINE_CAP)\n], RangeHandle.prototype, \"_lineCap\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_width\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_gripLineGap\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_gripLineLength\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_height\", 2);\nvar RangeMask = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 2;\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.min = 0;\n    this.max = 1;\n  }\n  layout(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.dirtyPath = true;\n  }\n  update(min, max) {\n    this.min = isNaN(min) ? this.min : min;\n    this.max = isNaN(max) ? this.max : max;\n    this.dirtyPath = true;\n  }\n  computeBBox() {\n    const { x, y, width, height } = this;\n    return new BBox(x, y, width, height);\n  }\n  computeVisibleRangeBBox() {\n    const { x, y, width, height, min, max } = this;\n    const minX = x + width * min;\n    const maxX = x + width * max;\n    return new BBox(minX, y, maxX - minX, height);\n  }\n  updatePath() {\n    const { path, x, y, width, height, min, max, strokeWidth } = this;\n    const pixelAlign = strokeWidth / 2;\n    path.clear();\n    const ax = this.align(x) + pixelAlign;\n    const ay = this.align(y) + pixelAlign;\n    const axw = ax + this.align(x, width) - 2 * pixelAlign;\n    const ayh = ay + this.align(y, height) - 2 * pixelAlign;\n    path.moveTo(ax, ay);\n    path.lineTo(axw, ay);\n    path.lineTo(axw, ayh);\n    path.lineTo(ax, ayh);\n    path.closePath();\n    const minX = this.align(x + width * min) + pixelAlign;\n    const maxX = minX + this.align(x + width * min, width * (max - min)) - 2 * pixelAlign;\n    path.moveTo(minX, ay);\n    path.lineTo(minX, ayh);\n    path.lineTo(maxX, ayh);\n    path.lineTo(maxX, ay);\n    path.closePath();\n  }\n};\nRangeMask.className = \"RangeMask\";\nvar RangeSelector = class extends Group {\n  constructor(children) {\n    super({\n      name: \"rangeSelectorGroup\",\n      layer: true,\n      zIndex: 12\n      /* NAVIGATOR_ZINDEX */\n    });\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.lOffset = 0;\n    this.rOffset = 0;\n    this.isContainerNode = true;\n    this.background = new Group({ name: \"navigator-background\" });\n    this.background.zIndex = 1;\n    this.appendChild(this.background);\n    this.append(children);\n  }\n  layout(x, y, width, height, lOffset, rOffset) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.lOffset = lOffset;\n    this.rOffset = rOffset;\n    this.background.translationX = x;\n    this.background.translationY = y;\n  }\n  updateBackground(oldGroup, newGroup) {\n    if (oldGroup != null) {\n      this.background.removeChild(oldGroup);\n    }\n    if (newGroup != null) {\n      this.background.appendChild(newGroup);\n    }\n  }\n  computeBBox() {\n    const { x, y, width, height, lOffset, rOffset } = this;\n    return new BBox(x - lOffset, y, width + (lOffset + rOffset), height);\n  }\n};\nvar Navigator = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.miniChart = void 0;\n    this.enabled = false;\n    this.mask = new RangeMask();\n    this.minHandle = new RangeHandle();\n    this.maxHandle = new RangeHandle();\n    this.height = 30;\n    this.margin = 10;\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.rangeSelector = new RangeSelector([this.mask, this.minHandle, this.maxHandle]);\n    this._min = 0;\n    this._max = 1;\n    this.minRange = 1e-3;\n    const region = ctx.regionManager.addRegion(\"navigator\", this.rangeSelector);\n    const dragStates = 16 | 1 | 8;\n    this.destroyFns.push(\n      ctx.scene.attachNode(this.rangeSelector),\n      region.addListener(\"hover\", (event) => this.onHover(event), dragStates),\n      region.addListener(\"drag-start\", (event) => this.onDragStart(event), dragStates),\n      region.addListener(\"drag\", (event) => this.onDrag(event), dragStates),\n      region.addListener(\"drag-end\", () => this.onDragEnd(), dragStates),\n      region.addListener(\"leave\", (event) => this.onLeave(event), dragStates),\n      ctx.zoomManager.addListener(\"zoom-change\", (event) => this.onZoomChange(event))\n    );\n    this.updateGroupVisibility();\n  }\n  updateBackground(oldGroup, newGroup) {\n    var _a;\n    (_a = this.rangeSelector) == null ? void 0 : _a.updateBackground(oldGroup, newGroup);\n  }\n  updateGroupVisibility() {\n    const { enabled } = this;\n    if (this.rangeSelector == null || enabled === this.rangeSelector.visible)\n      return;\n    this.rangeSelector.visible = enabled;\n    if (enabled) {\n      this.updateZoom();\n    } else {\n      this.ctx.zoomManager.updateZoom(\"navigator\");\n    }\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function* ({ shrinkRect }) {\n      if (this.enabled) {\n        const navigatorTotalHeight = this.height + this.margin;\n        shrinkRect.shrink(navigatorTotalHeight, \"bottom\");\n        this.y = shrinkRect.y + shrinkRect.height + this.margin;\n      } else {\n        this.y = 0;\n      }\n      return { shrinkRect };\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const { x, width } = opts.seriesRect;\n      if (this.enabled) {\n        const { y, height } = this;\n        this.layoutNodes(x, y, width, height);\n      }\n      this.x = x;\n      this.width = width;\n    });\n  }\n  onHover(event) {\n    if (!this.enabled)\n      return;\n    const { mask, minHandle, maxHandle } = this;\n    const { offsetX, offsetY } = event;\n    if (minHandle.containsPoint(offsetX, offsetY) || maxHandle.containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"ew-resize\");\n    } else if (mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"grab\");\n    } else {\n      this.ctx.cursorManager.updateCursor(\"navigator\");\n    }\n  }\n  onDragStart(event) {\n    if (!this.enabled)\n      return;\n    const { mask, minHandle, maxHandle, x, width, _min: min } = this;\n    const { offsetX, offsetY } = event;\n    if (minHandle.zIndex < maxHandle.zIndex) {\n      if (maxHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"max\";\n      } else if (minHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"min\";\n      }\n    } else if (minHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"min\";\n    } else if (maxHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"max\";\n    }\n    if (this.dragging == null && mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.dragging = \"pan\";\n      this.panStart = (offsetX - x) / width - min;\n    }\n    if (this.dragging != null) {\n      this.ctx.zoomManager.fireZoomPanStartEvent(\"navigator\");\n    }\n  }\n  onDrag(event) {\n    if (!this.enabled || this.dragging == null)\n      return;\n    const { dragging, minRange, panStart, x, width } = this;\n    let { _min: min, _max: max } = this;\n    const { offsetX } = event;\n    const ratio = (offsetX - x) / width;\n    if (dragging === \"min\") {\n      min = clamp(0, ratio, max - minRange);\n    } else if (dragging === \"max\") {\n      max = clamp(min + minRange, ratio, 1);\n    } else if (dragging === \"pan\" && panStart != null) {\n      const span = max - min;\n      min = clamp(0, ratio - panStart, 1 - span);\n      max = min + span;\n    }\n    this._min = min;\n    this._max = max;\n    this.updateZoom();\n  }\n  onDragEnd() {\n    this.dragging = void 0;\n  }\n  onLeave(_event) {\n    this.ctx.cursorManager.updateCursor(\"navigator\");\n  }\n  onZoomChange(event) {\n    const { x } = event;\n    if (!x)\n      return;\n    this._min = x.min;\n    this._max = x.max;\n    this.updateNodes(x.min, x.max);\n  }\n  layoutNodes(x, y, width, height) {\n    const { rangeSelector, mask, minHandle, maxHandle, _min: min, _max: max } = this;\n    rangeSelector.layout(x, y, width, height, minHandle.width / 2, maxHandle.width / 2);\n    mask.layout(x, y, width, height);\n    RangeHandle.align(minHandle, maxHandle, x, y, width, height, min, max);\n    if (min + (max - min) / 2 < 0.5) {\n      minHandle.zIndex = 3;\n      maxHandle.zIndex = 4;\n    } else {\n      minHandle.zIndex = 4;\n      maxHandle.zIndex = 3;\n    }\n  }\n  updateNodes(min, max) {\n    this.mask.update(min, max);\n  }\n  updateZoom() {\n    if (!this.enabled)\n      return;\n    const { _min: min, _max: max } = this;\n    const zoom2 = this.ctx.zoomManager.getZoom();\n    if (min == null || max == null)\n      return;\n    const warnOnConflict = (stateId) => {\n      if (this.min == null && this.max == null)\n        return;\n      Logger.warnOnce(\n        `Could not apply [navigator.min] or [navigator.max] as [${stateId}] has modified the initial zoom state.`\n      );\n    };\n    return this.ctx.zoomManager.updateZoom(\"navigator\", { x: { min, max }, y: zoom2 == null ? void 0 : zoom2.y }, false, warnOnConflict);\n  }\n};\n__decorateClass2([\n  Validate(OBJECT, { optional: true })\n], Navigator.prototype, \"miniChart\", 2);\n__decorateClass2([\n  Validate(BOOLEAN),\n  ObserveChanges((target) => target.updateGroupVisibility())\n], Navigator.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Navigator.prototype, \"height\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], Navigator.prototype, \"margin\", 2);\n__decorateClass2([\n  ActionOnSet({\n    newValue(min) {\n      this._min = min;\n      this.updateZoom();\n    }\n  }),\n  Validate(AND(RATIO, LESS_THAN(\"max\")), { optional: true })\n], Navigator.prototype, \"min\", 2);\n__decorateClass2([\n  ActionOnSet({\n    newValue(max) {\n      this._max = max;\n      this.updateZoom();\n    }\n  }),\n  Validate(AND(RATIO, GREATER_THAN(\"min\")), { optional: true })\n], Navigator.prototype, \"max\", 2);\nvar NavigatorModule = {\n  type: \"root\",\n  optionsKey: \"navigator\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Navigator,\n  themeTemplate: {\n    navigator: {\n      enabled: false,\n      height: 30,\n      mask: {\n        fill: \"#999999\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        fillOpacity: 0.2\n      },\n      minHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      },\n      maxHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      }\n    }\n  }\n};\nvar singleSeriesPaletteFactory = ({ takeColors }) => {\n  const {\n    fills: [fill],\n    strokes: [stroke]\n  } = takeColors(1);\n  return { fill, stroke };\n};\nvar markerPaletteFactory = (params) => {\n  const { fill, stroke } = singleSeriesPaletteFactory(params);\n  return { marker: { fill, stroke } };\n};\nfunction pathMotion(groupId, subId, animationManager, paths, fns) {\n  const { addPhaseFn, updatePhaseFn, removePhaseFn } = fns;\n  const animate = (phase, path, updateFn) => {\n    animationManager.animate({\n      id: `${groupId}_${subId}_${path.id}_${phase}`,\n      groupId,\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      collapsable: false,\n      onUpdate(ratio, preInit) {\n        if (preInit && phase !== \"removed\")\n          return;\n        path.path.clear(true);\n        updateFn(ratio, path);\n        path.checkPathDirty();\n      },\n      onStop() {\n        if (phase !== \"added\")\n          return;\n        path.path.clear(true);\n        updateFn(1, path);\n        path.checkPathDirty();\n      },\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n    });\n  };\n  for (const path of paths) {\n    if (!animationManager.isSkipped()) {\n      animate(\"removed\", path, removePhaseFn);\n      animate(\"updated\", path, updatePhaseFn);\n    }\n    animate(\"added\", path, addPhaseFn);\n  }\n}\nvar element = null;\nfunction sanitizeHtml(text) {\n  if (text == null) {\n    return;\n  } else if (text === \"\") {\n    return \"\";\n  }\n  element != null ? element : element = createElement(\"div\");\n  element.textContent = String(text);\n  return element.innerHTML;\n}\nfunction seriesLabelFadeInAnimation({ id }, subId, animationManager, ...labelSelections) {\n  staticFromToMotion(\n    id,\n    subId,\n    animationManager,\n    labelSelections,\n    { opacity: 0 },\n    { opacity: 1 },\n    { phase: \"trailing\" }\n  );\n}\nfunction seriesLabelFadeOutAnimation({ id }, subId, animationManager, ...labelSelections) {\n  staticFromToMotion(\n    id,\n    subId,\n    animationManager,\n    labelSelections,\n    { opacity: 1 },\n    { opacity: 0 },\n    { phase: \"remove\" }\n  );\n}\nfunction resetLabelFn(_node) {\n  return { opacity: 1 };\n}\nvar ChangeDetectableProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this._dirty = 3;\n  }\n  markDirty(_source, type = 1) {\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0;\n  }\n  isDirty() {\n    return this._dirty > 0;\n  }\n};\nvar DropShadow = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.color = \"rgba(0, 0, 0, 0.5)\";\n    this.xOffset = 0;\n    this.yOffset = 0;\n    this.blur = 5;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], DropShadow.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], DropShadow.prototype, \"color\", 2);\n__decorateClass2([\n  Validate(NUMBER),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], DropShadow.prototype, \"xOffset\", 2);\n__decorateClass2([\n  Validate(NUMBER),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], DropShadow.prototype, \"yOffset\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], DropShadow.prototype, \"blur\", 2);\nvar MARKER_SHAPE = predicateWithMessage(\n  (value) => isMarkerShape(value) || typeof Marker === \"function\" && Object.create(value.prototype) instanceof Marker,\n  `a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class`\n);\nvar SeriesMarker = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.shape = Circle;\n    this.size = 6;\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n  getStyle() {\n    const { size, fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = this;\n    return { size, fill, fillOpacity, stroke, strokeWidth, strokeOpacity };\n  }\n  getDiameter() {\n    return this.size + this.strokeWidth;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(MARKER_SHAPE),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"shape\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"size\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true }),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(RATIO),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true }),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"stroke\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true }),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], SeriesMarker.prototype, \"formatter\", 2);\nvar SeriesTooltipInteraction = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], SeriesTooltipInteraction.prototype, \"enabled\", 2);\nvar SeriesTooltip = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.interaction = new SeriesTooltipInteraction();\n    this.position = new TooltipPosition();\n  }\n  toTooltipHtml(defaults, params) {\n    if (this.renderer) {\n      return toTooltipHtml(this.renderer(params), defaults);\n    }\n    return toTooltipHtml(defaults);\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], SeriesTooltip.prototype, \"enabled\", 2);\n__decorateClass2([\n  Validate(BOOLEAN, { optional: true })\n], SeriesTooltip.prototype, \"showArrow\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], SeriesTooltip.prototype, \"renderer\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], SeriesTooltip.prototype, \"interaction\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], SeriesTooltip.prototype, \"position\", 2);\nvar AreaSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.xName = void 0;\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.shadow = new DropShadow();\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], AreaSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], AreaSeriesProperties.prototype, \"xName\", 2);\n__decorateClass2([\n  Validate(STRING)\n], AreaSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], AreaSeriesProperties.prototype, \"yName\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AreaSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING)\n], AreaSeriesProperties.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], AreaSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING)\n], AreaSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], AreaSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], AreaSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(LINE_DASH)\n], AreaSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], AreaSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"marker\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"label\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], AreaSeriesProperties.prototype, \"connectMissingData\", 2);\nfunction markerFadeInAnimation({ id }, animationManager, status, ...markerSelections) {\n  const params = { phase: status ? NODE_UPDATE_STATE_TO_PHASE_MAPPING[status] : \"trailing\" };\n  staticFromToMotion(id, \"markers\", animationManager, markerSelections, { opacity: 0 }, { opacity: 1 }, params);\n  markerSelections.forEach((s) => s.cleanup());\n}\nfunction markerScaleInAnimation({ id }, animationManager, ...markerSelections) {\n  staticFromToMotion(\n    id,\n    \"markers\",\n    animationManager,\n    markerSelections,\n    { scalingX: 0, scalingY: 0 },\n    { scalingX: 1, scalingY: 1 },\n    { phase: \"initial\" }\n  );\n  markerSelections.forEach((s) => s.cleanup());\n}\nfunction markerSwipeScaleInAnimation({ id, nodeDataDependencies }, animationManager, ...markerSelections) {\n  const seriesWidth = nodeDataDependencies.seriesRectWidth;\n  const fromFn = (_, datum) => {\n    var _a, _b;\n    const x = (_b = (_a = datum.midPoint) == null ? void 0 : _a.x) != null ? _b : seriesWidth;\n    let delay = clamp(0, inverseEaseOut(x / seriesWidth), 1);\n    if (isNaN(delay)) {\n      delay = 0;\n    }\n    return { scalingX: 0, scalingY: 0, delay, duration: QUICK_TRANSITION, phase: \"initial\" };\n  };\n  const toFn = () => {\n    return { scalingX: 1, scalingY: 1 };\n  };\n  fromToMotion(id, \"markers\", animationManager, markerSelections, { fromFn, toFn });\n}\nfunction resetMarkerFn(_node) {\n  return { opacity: 1, scalingX: 1, scalingY: 1 };\n}\nfunction resetMarkerPositionFn(_node, datum) {\n  var _a, _b, _c, _d;\n  return {\n    translationX: (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : NaN,\n    translationY: (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : NaN\n  };\n}\nfunction prepareMarkerAnimation(pairMap, parentStatus) {\n  const readFirstPair = (xValue, type) => {\n    const val = pairMap[type][xValue];\n    return Array.isArray(val) ? val[0] : val;\n  };\n  const markerStatus = (datum) => {\n    const { xValue } = datum;\n    if (pairMap.moved[xValue]) {\n      return { point: readFirstPair(xValue, \"moved\"), status: \"updated\" };\n    } else if (pairMap.removed[xValue]) {\n      return { point: readFirstPair(xValue, \"removed\"), status: \"removed\" };\n    } else if (pairMap.added[xValue]) {\n      return { point: readFirstPair(xValue, \"added\"), status: \"added\" };\n    }\n    return { status: \"unknown\" };\n  };\n  const fromFn = (marker, datum) => {\n    var _a, _b, _c, _d, _e, _f;\n    const { status, point } = markerStatus(datum);\n    if (status === \"unknown\")\n      return { opacity: 0 };\n    const defaults = {\n      translationX: (_b = (_a = point == null ? void 0 : point.from) == null ? void 0 : _a.x) != null ? _b : marker.translationX,\n      translationY: (_d = (_c = point == null ? void 0 : point.from) == null ? void 0 : _c.y) != null ? _d : marker.translationY,\n      opacity: marker.opacity,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (parentStatus === \"added\") {\n      return __spreadProps(__spreadValues2({}, defaults), {\n        opacity: 0,\n        translationX: (_e = point == null ? void 0 : point.to) == null ? void 0 : _e.x,\n        translationY: (_f = point == null ? void 0 : point.to) == null ? void 0 : _f.y,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"added\"]\n      });\n    }\n    if (status === \"added\") {\n      defaults.opacity = 0;\n    }\n    return defaults;\n  };\n  const toFn = (_marker, datum) => {\n    var _a, _b;\n    const { status, point } = markerStatus(datum);\n    if (status === \"unknown\")\n      return { opacity: 0 };\n    const defaults = {\n      translationX: datum.point.x,\n      translationY: datum.point.y,\n      opacity: 1,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (status === \"removed\" || parentStatus === \"removed\") {\n      return __spreadProps(__spreadValues2({}, defaults), {\n        translationX: (_a = point == null ? void 0 : point.to) == null ? void 0 : _a.x,\n        translationY: (_b = point == null ? void 0 : point.to) == null ? void 0 : _b.y,\n        opacity: 0,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"removed\"]\n      });\n    }\n    return defaults;\n  };\n  return { fromFn, toFn };\n}\nfunction computeMarkerFocusBounds(datum, markerGroup) {\n  if (datum === void 0 || datum.point === void 0)\n    return void 0;\n  const { x: pointX, y: pointY, size } = datum.point;\n  const diameter = size != null ? size : 8;\n  const radius = diameter / 2;\n  const { x, y } = markerGroup.inverseTransformPoint(pointX - radius, pointY - radius);\n  return new BBox(x, y, diameter, diameter);\n}\nfunction minMax(nodeData) {\n  return nodeData.reduce(\n    ({ min, max }, node) => {\n      if (min == null || min.point.x > node.point.x) {\n        min = node;\n      }\n      if (max == null || max.point.x < node.point.x) {\n        max = node;\n      }\n      return { min, max };\n    },\n    {}\n  );\n}\nfunction intersectionOnLine(a, b, targetX) {\n  const m = (b.y - a.y) / (b.x - a.x);\n  const y = (targetX - a.x) * m + a.y;\n  return { x: targetX, y };\n}\nfunction backfillPathPoint(results, process, skip, processFn) {\n  let prevMarkerIdx = -1, nextMarkerIdx = 0;\n  const toProcess = [];\n  while (nextMarkerIdx < results.length) {\n    if (results[nextMarkerIdx].change === process) {\n      toProcess.push(results[nextMarkerIdx]);\n      nextMarkerIdx++;\n      continue;\n    }\n    if (results[nextMarkerIdx].change === skip) {\n      nextMarkerIdx++;\n      continue;\n    }\n    if (toProcess.length > 0) {\n      processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n      toProcess.length = 0;\n    }\n    prevMarkerIdx = nextMarkerIdx;\n    nextMarkerIdx++;\n  }\n  if (toProcess.length > 0) {\n    processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n  }\n}\nfunction backfillPathPointData(result, splitMode) {\n  backfillPathPoint(result, \"out\", \"in\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach((d) => d.to = result[eIdx].from);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach((d) => d.to = result[sIdx].from);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.from) && ((_b = result[eIdx]) == null ? void 0 : _b.from)) {\n      toProcess.forEach((d) => d.to = intersectionOnLine(result[sIdx].from, result[eIdx].from, d.from.x));\n    } else {\n      toProcess.forEach((d) => d.to = d.from);\n    }\n  });\n  backfillPathPoint(result, \"in\", \"out\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach((d) => d.from = result[eIdx].to);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach((d) => d.from = result[sIdx].to);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.to) && ((_b = result[eIdx]) == null ? void 0 : _b.to)) {\n      toProcess.forEach((d) => d.from = intersectionOnLine(result[sIdx].to, result[eIdx].to, d.to.x));\n    } else {\n      toProcess.forEach((d) => d.from = d.to);\n    }\n  });\n}\nfunction calculatePoint(from, to, ratio) {\n  const x1 = isNaN(from.x) ? to.x : from.x;\n  const y1 = isNaN(from.y) ? to.y : from.y;\n  const xd = to.x - from.x;\n  const yd = to.y - from.y;\n  const xr = isNaN(xd) ? 0 : xd * ratio;\n  const yr = isNaN(yd) ? 0 : yd * ratio;\n  return {\n    x: x1 + xr,\n    y: y1 + yr\n  };\n}\nfunction renderPartialPath(pairData, ratios, path) {\n  const { path: linePath } = path;\n  let previousTo;\n  for (const data of pairData) {\n    const { from, to } = data;\n    const ratio = ratios[data.change];\n    if (ratio == null || from == null || to == null)\n      continue;\n    const { x, y } = calculatePoint(from, to, ratio);\n    if (data.moveTo === false) {\n      linePath.lineTo(x, y);\n    } else if (data.moveTo === true || !previousTo) {\n      linePath.moveTo(x, y);\n    } else if (previousTo) {\n      const moveToRatio = data.moveTo === \"in\" ? ratio : 1 - ratio;\n      const { x: midPointX, y: midPointY } = calculatePoint(previousTo, { x, y }, moveToRatio);\n      linePath.lineTo(midPointX, midPointY);\n      linePath.moveTo(x, y);\n    }\n    previousTo = { x, y };\n  }\n}\nfunction pathSwipeInAnimation({ id, visible, nodeDataDependencies }, animationManager, ...paths) {\n  const { seriesRectWidth: width, seriesRectHeight: height } = nodeDataDependencies;\n  staticFromToMotion(\n    id,\n    \"path_properties\",\n    animationManager,\n    paths,\n    { clipX: 0 },\n    { clipX: width },\n    {\n      phase: \"initial\",\n      start: { clipMode: \"normal\", clipY: height, visible },\n      finish: { clipMode: void 0, visible }\n    }\n  );\n}\nfunction pathFadeInAnimation({ id }, subId, animationManager, phase = \"add\", ...selection) {\n  staticFromToMotion(id, subId, animationManager, selection, { opacity: 0 }, { opacity: 1 }, { phase });\n}\nfunction pathFadeOutAnimation({ id }, subId, animationManager, ...selection) {\n  staticFromToMotion(id, subId, animationManager, selection, { opacity: 1 }, { opacity: 0 }, { phase: \"remove\" });\n}\nfunction buildResetPathFn(opts) {\n  return (_node) => {\n    return { opacity: opts.getOpacity(), clipScalingX: 1, clipMode: void 0 };\n  };\n}\nfunction updateClipPath({ nodeDataDependencies }, path) {\n  const toFinite = (value) => isFinite(value) ? value : 0;\n  path.clipX = toFinite(nodeDataDependencies.seriesRectWidth);\n  path.clipY = toFinite(nodeDataDependencies.seriesRectHeight);\n}\nfunction isContinuousScaling(scaling) {\n  return scaling.type === \"continuous\" || scaling.type === \"log\";\n}\nfunction isCategoryScaling(scaling) {\n  return scaling.type === \"category\";\n}\nfunction areEqual(a, b) {\n  return a.domain.length === b.domain.length && a.range.length === b.range.length && a.domain.every((val, index) => val === b.domain[index]) && a.range.every((val, index) => val === b.range[index]);\n}\nfunction areScalingEqual(a, b) {\n  if (a === void 0 || b === void 0) {\n    return a !== void 0 || b !== void 0;\n  }\n  if (isContinuousScaling(a) && isContinuousScaling(b)) {\n    return a.type === b.type && areEqual(a, b);\n  }\n  if (isCategoryScaling(a) && isCategoryScaling(b)) {\n    return areEqual(a, b);\n  }\n  return false;\n}\nfunction scale(val, scaling) {\n  if (!scaling)\n    return NaN;\n  if (val instanceof Date) {\n    val = val.getTime();\n  }\n  if (scaling.type === \"continuous\" && typeof val === \"number\") {\n    const domainRatio = (val - scaling.domain[0]) / (scaling.domain[1] - scaling.domain[0]);\n    return domainRatio * (scaling.range[1] - scaling.range[0]) + scaling.range[0];\n  }\n  if (scaling.type === \"log\" && typeof val === \"number\") {\n    return scaling.convert(val);\n  }\n  const matchingIndex = scaling.domain.findIndex((d) => d === val);\n  if (matchingIndex >= 0) {\n    return scaling.range[matchingIndex];\n  }\n  return NaN;\n}\nfunction scalesChanged(newData, oldData) {\n  return !areScalingEqual(newData.scales.x, oldData.scales.x) || !areScalingEqual(newData.scales.y, oldData.scales.y);\n}\nfunction closeMatch(a, b) {\n  const an = Number(a);\n  const bn = Number(b);\n  if (!isNaN(an) && !isNaN(bn)) {\n    return Math.abs(bn - an) < 0.25;\n  }\n  return a === b;\n}\nfunction calculateMoveTo(from = false, to = false) {\n  if (from === to) {\n    return Boolean(from);\n  }\n  return from ? \"in\" : \"out\";\n}\nfunction pairContinuousData(newData, oldData, opts = {}) {\n  var _a, _b, _c, _d;\n  const { backfillSplitMode = \"intersect\" } = opts;\n  const toNewScale = (oldDatum) => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = oldDatum.xValue) != null ? _a2 : NaN, newData.scales.x),\n      y: scale((_b2 = oldDatum.yValue) != null ? _b2 : NaN, newData.scales.y)\n    };\n  };\n  const toOldScale = (newDatum) => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = newDatum.xValue) != null ? _a2 : NaN, oldData.scales.x),\n      y: scale((_b2 = newDatum.yValue) != null ? _b2 : NaN, oldData.scales.y)\n    };\n  };\n  const result = [];\n  const resultMap = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pairUp = (from, to, xValue, change = \"move\") => {\n    if (from && (isNaN(from.point.x) || isNaN(from.point.y))) {\n      from = to;\n    }\n    const resultPoint = {\n      from: from == null ? void 0 : from.point,\n      to: to == null ? void 0 : to.point,\n      moveTo: calculateMoveTo(from == null ? void 0 : from.point.moveTo, to == null ? void 0 : to.point.moveTo),\n      change\n    };\n    if (change === \"move\") {\n      resultMap.moved[xValue] = resultPoint;\n      oldIdx++;\n      newIdx++;\n    } else if (change === \"in\") {\n      resultMap.added[xValue] = resultPoint;\n      newIdx++;\n    } else if (change === \"out\") {\n      resultMap.removed[xValue] = resultPoint;\n      oldIdx++;\n    }\n    result.push(resultPoint);\n  };\n  const { min: minFromNode, max: maxFromNode } = minMax(oldData.nodeData);\n  const { min: minToNode, max: maxToNode } = minMax(newData.nodeData);\n  let oldIdx = 0;\n  let newIdx = 0;\n  while (oldIdx < oldData.nodeData.length || newIdx < newData.nodeData.length) {\n    const from = oldData.nodeData[oldIdx];\n    const to = newData.nodeData[newIdx];\n    const fromShifted = from ? toNewScale(from) : void 0;\n    const toUnshifted = to ? toOldScale(to) : void 0;\n    const NA = void 0;\n    if (fromShifted && closeMatch(fromShifted.x, to == null ? void 0 : to.point.x)) {\n      pairUp(from, to, to.xValue, \"move\");\n    } else if (fromShifted && fromShifted.x < ((_a = minToNode == null ? void 0 : minToNode.point.x) != null ? _a : -Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (fromShifted && fromShifted.x > ((_b = maxToNode == null ? void 0 : maxToNode.point.x) != null ? _b : Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < ((_c = minFromNode == null ? void 0 : minFromNode.point.x) != null ? _c : -Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (toUnshifted && toUnshifted.x > ((_d = maxFromNode == null ? void 0 : maxFromNode.point.x) != null ? _d : Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (fromShifted && fromShifted.x < (to == null ? void 0 : to.point.x)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < (from == null ? void 0 : from.point.x)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (from) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (to) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else {\n      throw new Error(\"Unable to process points\");\n    }\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return { result, resultMap };\n}\nfunction pairCategoryData(newData, oldData, diff2, opts = {}) {\n  var _a, _b, _c;\n  const { backfillSplitMode = \"intersect\", multiDatum = false } = opts;\n  const result = [];\n  const resultMapSingle = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const resultMapMulti = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pointResultMapping = {\n    in: \"added\",\n    move: \"moved\",\n    out: \"removed\"\n  };\n  let previousResultPoint = void 0;\n  let previousXValue = void 0;\n  const addToResultMap = (xValue, newPoint) => {\n    var _a2, _b2;\n    const type = pointResultMapping[newPoint.change];\n    if (multiDatum) {\n      (_b2 = (_a2 = resultMapMulti[type])[xValue]) != null ? _b2 : _a2[xValue] = [];\n      resultMapMulti[type][xValue].push(newPoint);\n    } else {\n      resultMapSingle[type][xValue] = newPoint;\n    }\n    previousResultPoint = newPoint;\n    previousXValue = transformIntegratedCategoryValue(xValue);\n  };\n  let oldIndex = 0;\n  let newIndex = 0;\n  let isXUnordered = false;\n  while (oldIndex < oldData.nodeData.length || newIndex < newData.nodeData.length) {\n    const before = oldData.nodeData[oldIndex];\n    const after = newData.nodeData[newIndex];\n    const bXValue = transformIntegratedCategoryValue(before == null ? void 0 : before.xValue);\n    const aXValue = transformIntegratedCategoryValue(after == null ? void 0 : after.xValue);\n    let resultPoint;\n    if (bXValue === aXValue) {\n      resultPoint = {\n        change: \"move\",\n        moveTo: calculateMoveTo((_a = before.point.moveTo) != null ? _a : false, after.point.moveTo),\n        from: before.point,\n        to: after.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n      newIndex++;\n    } else if (diff2 == null ? void 0 : diff2.removed.has(String(bXValue))) {\n      resultPoint = {\n        change: \"out\",\n        moveTo: (_b = before.point.moveTo) != null ? _b : false,\n        from: before.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (diff2 == null ? void 0 : diff2.added.has(String(aXValue))) {\n      resultPoint = {\n        change: \"in\",\n        moveTo: (_c = after.point.moveTo) != null ? _c : false,\n        to: after.point\n      };\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === bXValue) {\n      resultPoint = __spreadValues2({}, previousResultPoint);\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === aXValue) {\n      resultPoint = __spreadValues2({}, previousResultPoint);\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else {\n      isXUnordered = true;\n      break;\n    }\n    result.push(resultPoint);\n  }\n  let previousX = -Infinity;\n  isXUnordered || (isXUnordered = result.some((pathPoint) => {\n    const { change: marker, to: { x = -Infinity } = {} } = pathPoint;\n    if (marker === \"out\")\n      return;\n    const unordered = x < previousX;\n    previousX = x;\n    return unordered;\n  }));\n  if (isXUnordered) {\n    return { result: void 0, resultMap: void 0 };\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return { result, resultMap: multiDatum ? resultMapMulti : resultMapSingle };\n}\nfunction determinePathStatus(newData, oldData, pairData) {\n  var _a, _b, _c, _d;\n  let status = \"updated\";\n  const visible = (data) => {\n    return data.visible;\n  };\n  if (!visible(oldData) && visible(newData)) {\n    status = \"added\";\n  } else if (visible(oldData) && !visible(newData)) {\n    status = \"removed\";\n  } else {\n    for (let i = 0; i < pairData.length; i++) {\n      if (pairData[i].change !== \"move\")\n        break;\n      if (((_a = pairData[i].from) == null ? void 0 : _a.x) !== ((_b = pairData[i].to) == null ? void 0 : _b.x))\n        break;\n      if (((_c = pairData[i].from) == null ? void 0 : _c.y) !== ((_d = pairData[i].to) == null ? void 0 : _d.y))\n        break;\n      if (i === pairData.length - 1)\n        return \"no-op\";\n    }\n  }\n  return status;\n}\nfunction prepareLinePathPropertyAnimation(status, visibleToggleMode) {\n  const phase = visibleToggleMode === \"none\" ? \"updated\" : status;\n  const result = {\n    fromFn: (_path) => {\n      let mixin;\n      if (status === \"removed\") {\n        mixin = { finish: { visible: false } };\n      } else if (status === \"added\") {\n        mixin = { start: { visible: true } };\n      } else {\n        mixin = {};\n      }\n      return __spreadValues2({ phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase] }, mixin);\n    },\n    toFn: (_path) => {\n      return { phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase] };\n    }\n  };\n  if (visibleToggleMode === \"fade\") {\n    return {\n      fromFn: (path) => {\n        const opacity = status === \"added\" ? 0 : path.opacity;\n        return __spreadValues2({ opacity }, result.fromFn(path));\n      },\n      toFn: (path) => {\n        const opacity = status === \"removed\" ? 0 : 1;\n        return __spreadValues2({ opacity }, result.toFn(path));\n      }\n    };\n  }\n  return result;\n}\nfunction prepareLinePathAnimationFns(newData, oldData, pairData, visibleToggleMode, render) {\n  const status = determinePathStatus(newData, oldData, pairData);\n  const removePhaseFn = (ratio, path) => {\n    render(pairData, { move: 0, out: ratio }, path);\n  };\n  const updatePhaseFn = (ratio, path) => {\n    render(pairData, { move: ratio }, path);\n  };\n  const addPhaseFn = (ratio, path) => {\n    render(pairData, { move: 1, in: ratio }, path);\n  };\n  const pathProperties = prepareLinePathPropertyAnimation(status, visibleToggleMode);\n  return { status, path: { addPhaseFn, updatePhaseFn, removePhaseFn }, pathProperties };\n}\nfunction prepareLinePathAnimation(newData, oldData, diff2) {\n  var _a, _b, _c;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  const { result: pairData, resultMap: pairMap } = isCategoryBased ? pairCategoryData(newData, oldData, diff2) : pairContinuousData(newData, oldData);\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  if (pairData === void 0 || pairMap === void 0) {\n    return;\n  }\n  const hasMotion = ((_c = diff2 == null ? void 0 : diff2.changed) != null ? _c : true) || scalesChanged(newData, oldData) || status !== \"updated\";\n  const pathFns = prepareLinePathAnimationFns(newData, oldData, pairData, \"fade\", renderPartialPath);\n  const marker = prepareMarkerAnimation(pairMap, status);\n  return __spreadProps(__spreadValues2({}, pathFns), { marker, hasMotion });\n}\nvar AreaSeriesTag = /* @__PURE__ */ ((AreaSeriesTag2) => {\n  AreaSeriesTag2[AreaSeriesTag2[\"Fill\"] = 0] = \"Fill\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Stroke\"] = 1] = \"Stroke\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Marker\"] = 2] = \"Marker\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Label\"] = 3] = \"Label\";\n  return AreaSeriesTag2;\n})(AreaSeriesTag || {});\nfunction splitFillPoints(context) {\n  const { points, phantomPoints } = context.fillData;\n  return { top: points, bottom: phantomPoints };\n}\nfunction prepPoints(key, ctx, points) {\n  return {\n    scales: ctx.scales,\n    nodeData: points[key],\n    visible: ctx.visible\n  };\n}\nfunction pairFillCategoryData(newData, oldData, diff2) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  const pairOpts = { multiDatum: true };\n  return {\n    top: pairCategoryData(\n      prepPoints(\"top\", newData, newPoints),\n      prepPoints(\"top\", oldData, oldPoints),\n      diff2,\n      pairOpts\n    ),\n    bottom: pairCategoryData(\n      prepPoints(\"bottom\", newData, newPoints),\n      prepPoints(\"bottom\", oldData, oldPoints),\n      diff2,\n      pairOpts\n    )\n  };\n}\nfunction pairFillContinuousData(newData, oldData) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  return {\n    top: pairContinuousData(prepPoints(\"top\", newData, newPoints), prepPoints(\"top\", oldData, oldPoints)),\n    bottom: pairContinuousData(prepPoints(\"bottom\", newData, newPoints), prepPoints(\"bottom\", oldData, oldPoints))\n  };\n}\nfunction prepareAreaPathAnimation(newData, oldData, diff2) {\n  var _a, _b;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  const prepareMarkerPairs = () => {\n    if (isCategoryBased) {\n      return pairCategoryData(newData, oldData, diff2, { backfillSplitMode: \"static\", multiDatum: true });\n    }\n    return pairContinuousData(newData, oldData, { backfillSplitMode: \"static\" });\n  };\n  const prepareFillPairs = () => {\n    if (isCategoryBased) {\n      return pairFillCategoryData(newData, oldData, diff2);\n    }\n    return pairFillContinuousData(newData, oldData);\n  };\n  const { resultMap: markerPairMap } = prepareMarkerPairs();\n  const { top, bottom } = prepareFillPairs();\n  if (markerPairMap === void 0 || top.result === void 0 || bottom.result === void 0) {\n    return;\n  }\n  const pairData = [...top.result, ...bottom.result.reverse()];\n  const stackVisible = oldData.stackVisible ? newData.stackVisible : false;\n  const fadeMode = stackVisible ? \"none\" : \"fade\";\n  const fill = prepareLinePathAnimationFns(newData, oldData, pairData, fadeMode, renderPartialPath);\n  const marker = prepareMarkerAnimation(markerPairMap, status);\n  return { status: fill.status, fill, marker };\n}\nvar AreaSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pathsPerSeries: 2,\n      pathsZIndexSubOrderOffset: [0, 1e3],\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      pickModes: [\n        1,\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      animationResetFns: {\n        path: buildResetPathFn({ getOpacity: () => this.getOpacity() }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues2(__spreadValues2({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new AreaSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      const { data, visible, seriesGrouping: { groupIndex = this.id, stackCount = 1 } = {} } = this;\n      const { xKey, yKey, connectMissingData, normalizedTo } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\n        \"x\"\n        /* X */\n      ]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\n        \"y\"\n        /* Y */\n      ]) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const ids = [\n        `area-stack-${groupIndex}-yValues`,\n        `area-stack-${groupIndex}-yValues-trailing`,\n        `area-stack-${groupIndex}-yValues-prev`,\n        `area-stack-${groupIndex}-yValues-trailing-prev`,\n        `area-stack-${groupIndex}-yValues-marker`\n      ];\n      const extraProps = [];\n      if (isDefined(normalizedTo)) {\n        extraProps.push(normaliseGroupTo([ids[0], ids[1], ids[4]], normalizedTo, \"range\"));\n        extraProps.push(normaliseGroupTo([ids[2], ids[3]], normalizedTo, \"range\"));\n      }\n      if (!isContinuousX && animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const common = { invalidValue: null };\n      if (connectMissingData && stackCount > 1) {\n        common.invalidValue = 0;\n      }\n      if (!visible) {\n        common.forceValue = 0;\n      }\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xValue\" }),\n          valueProperty(yKey, yScaleType, __spreadValues2({ id: `yValueRaw` }, common)),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window\",\n            \"current\",\n            __spreadProps(__spreadValues2({\n              id: `yValueEnd`\n            }, common), {\n              groupId: ids[0]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window-trailing\",\n            \"current\",\n            __spreadProps(__spreadValues2({\n              id: `yValueStart`\n            }, common), {\n              groupId: ids[1]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window\",\n            \"last\",\n            __spreadProps(__spreadValues2({\n              id: `yValuePreviousEnd`\n            }, common), {\n              groupId: ids[2]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window-trailing\",\n            \"last\",\n            __spreadProps(__spreadValues2({\n              id: `yValuePreviousStart`\n            }, common), {\n              groupId: ids[3]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"normal\",\n            \"current\",\n            __spreadProps(__spreadValues2({\n              id: `yValueCumulative`\n            }, common), {\n              groupId: ids[4]\n            }),\n            yScaleType\n          ),\n          ...extraProps\n        ],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { processedData, dataModel, axes } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0)\n      return [];\n    const xAxis = axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = axes[\n      \"y\"\n      /* Y */\n    ];\n    const keyDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    const keys = dataModel.getDomain(this, `xValue`, \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, `yValueEnd`, \"value\", processedData);\n    if (direction === \"x\") {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      return fixNumericExtent(extent(keys), xAxis);\n    } else if (yAxis instanceof LogAxis || yAxis instanceof TimeAxis) {\n      return fixNumericExtent(yExtent, yAxis);\n    } else {\n      const fixedYExtent = [yExtent[0] > 0 ? 0 : yExtent[0], yExtent[1] < 0 ? 0 : yExtent[1]];\n      return fixNumericExtent(fixedYExtent, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const { axes, data, processedData: { data: groupedData } = {}, dataModel } = this;\n      const xAxis = axes[\n        \"x\"\n        /* X */\n      ];\n      const yAxis = axes[\n        \"y\"\n        /* Y */\n      ];\n      if (!xAxis || !yAxis || !data || !dataModel || !this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        xKey,\n        marker,\n        label,\n        fill: seriesFill,\n        stroke: seriesStroke,\n        connectMissingData\n      } = this.properties;\n      const { scale: xScale } = xAxis;\n      const { scale: yScale } = yAxis;\n      const { isContinuousY } = this.getScaleInformation({ xScale, yScale });\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const defs = dataModel.resolveProcessedDataDefsByIds(this, [\n        `yValueStart`,\n        `yValueEnd`,\n        `yValueRaw`,\n        `yValuePreviousStart`,\n        `yValuePreviousEnd`,\n        `yValueCumulative`\n      ]);\n      const createMovePoint = (plainPoint) => __spreadProps(__spreadValues2({}, plainPoint), {\n        point: __spreadProps(__spreadValues2({}, plainPoint.point), { moveTo: true })\n      });\n      const createPathCoordinates = (xValue, lastYEnd, yEnd) => {\n        const x = xScale.convert(xValue) + xOffset;\n        const prevYCoordinate = yScale.convert(lastYEnd);\n        const currYCoordinate = yScale.convert(yEnd);\n        return [\n          { point: { x, y: currYCoordinate }, yValue: yEnd, xValue },\n          { point: { x, y: prevYCoordinate }, yValue: lastYEnd, xValue }\n        ];\n      };\n      const createMarkerCoordinate = (xDatum, yEnd, rawYDatum) => {\n        let currY;\n        if (isDefined(this.properties.normalizedTo) ? isContinuousY && isContinuous(rawYDatum) : !isNaN(rawYDatum)) {\n          currY = yEnd;\n        }\n        return {\n          x: xScale.convert(xDatum) + xOffset,\n          y: yScale.convert(currY),\n          size: marker.size\n        };\n      };\n      const itemId = yKey;\n      const labelData = [];\n      const markerData = [];\n      const { visibleSameStackCount } = this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);\n      const context = {\n        itemId,\n        fillData: { itemId, points: [], phantomPoints: [] },\n        strokeData: { itemId, points: [] },\n        labelData,\n        nodeData: markerData,\n        scales: this.calculateScaling(),\n        visible: this.visible,\n        stackVisible: visibleSameStackCount > 0\n      };\n      const fillPoints = context.fillData.points;\n      const fillPhantomPoints = context.fillData.phantomPoints;\n      const strokePoints = context.strokeData.points;\n      let datumIdx = -1;\n      let lastXDatum;\n      let lastYDatum = -Infinity;\n      groupedData == null ? void 0 : groupedData.forEach((datumGroup) => {\n        const {\n          keys,\n          keys: [xDatum],\n          datum: datumArray,\n          values: valuesArray\n        } = datumGroup;\n        valuesArray.forEach((values, valueIdx) => {\n          var _a2, _b, _c;\n          datumIdx++;\n          const seriesDatum = datumArray[valueIdx];\n          const dataValues = dataModel.resolveProcessedDataDefsValues(defs, { keys, values });\n          const { yValueRaw: yDatum, yValueCumulative } = dataValues;\n          let { yValueStart, yValueEnd, yValuePreviousStart, yValuePreviousEnd } = dataValues;\n          const validPoint = yDatum != null;\n          const point = createMarkerCoordinate(xDatum, +yValueCumulative, yDatum);\n          if (validPoint && marker) {\n            markerData.push({\n              index: datumIdx,\n              series: this,\n              itemId,\n              datum: seriesDatum,\n              midPoint: { x: point.x, y: point.y },\n              cumulativeValue: yValueEnd,\n              yValue: yDatum,\n              xValue: xDatum,\n              yKey,\n              xKey,\n              point,\n              fill: (_a2 = marker.fill) != null ? _a2 : seriesFill,\n              stroke: (_b = marker.stroke) != null ? _b : seriesStroke,\n              strokeWidth: (_c = marker.strokeWidth) != null ? _c : this.getStrokeWidth(this.properties.strokeWidth)\n            });\n          }\n          if (validPoint && label) {\n            const labelText = this.getLabelText(\n              label,\n              {\n                value: yDatum,\n                datum: seriesDatum,\n                xKey,\n                yKey,\n                xName: this.properties.xName,\n                yName: this.properties.yName\n              },\n              (value) => isFiniteNumber(value) ? value.toFixed(2) : String(value)\n            );\n            labelData.push({\n              index: datumIdx,\n              series: this,\n              itemId: yKey,\n              datum: seriesDatum,\n              x: point.x,\n              y: point.y,\n              label: labelText ? {\n                text: labelText,\n                fontStyle: label.fontStyle,\n                fontWeight: label.fontWeight,\n                fontSize: label.fontSize,\n                fontFamily: label.fontFamily,\n                textAlign: \"center\",\n                textBaseline: \"bottom\",\n                fill: label.color\n              } : void 0\n            });\n          }\n          const xValid = lastXDatum != null && xDatum != null;\n          const yValid = lastYDatum != null && validPoint;\n          if (!yValid) {\n            yValueStart = yValueStart != null ? yValueStart : 0;\n            yValueEnd = yValueStart != null ? yValueStart : 0;\n            yValuePreviousStart = yValuePreviousStart != null ? yValuePreviousStart : 0;\n            yValuePreviousEnd = yValuePreviousStart != null ? yValuePreviousStart : 0;\n          }\n          const [prevTop, prevBottom] = createPathCoordinates(lastXDatum, yValuePreviousStart, yValuePreviousEnd);\n          const [top, bottom] = createPathCoordinates(xDatum, yValueStart, yValueEnd);\n          if (xValid && (!connectMissingData || yValid)) {\n            fillPoints.push(prevTop, top);\n            fillPhantomPoints.push(prevBottom, bottom);\n          }\n          if (yValid && datumIdx > 0) {\n            strokePoints.push(createMovePoint(prevTop), top);\n          }\n          lastXDatum = xDatum;\n          lastYDatum = yDatum;\n        });\n      });\n      if (strokePoints.length > 0) {\n        strokePoints[0] = createMovePoint(strokePoints[0]);\n      }\n      return context;\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const { opacity, visible, animationEnabled } = opts;\n      const [fill, stroke] = opts.paths;\n      const strokeWidth = this.getStrokeWidth(this.properties.strokeWidth);\n      stroke.setProperties({\n        tag: 1,\n        fill: void 0,\n        lineJoin: stroke.lineCap = \"round\",\n        pointerEvents: 1,\n        stroke: this.properties.stroke,\n        strokeWidth,\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        opacity,\n        visible\n      });\n      fill.setProperties({\n        tag: 0,\n        stroke: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1,\n        fill: this.properties.fill,\n        fillOpacity: this.properties.fillOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        strokeOpacity: this.properties.strokeOpacity,\n        fillShadow: this.properties.shadow,\n        opacity,\n        visible: visible || animationEnabled,\n        strokeWidth\n      });\n      updateClipPath(this, stroke);\n      updateClipPath(this, fill);\n    });\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateAreaPaths(opts.paths, opts.contextData);\n    });\n  }\n  updateAreaPaths(paths, contextData) {\n    this.updateFillPath(paths, contextData);\n    this.updateStrokePath(paths, contextData);\n  }\n  updateFillPath(paths, contextData) {\n    const { fillData } = contextData;\n    const [fill] = paths;\n    const { path: fillPath } = fill;\n    fillPath.clear(true);\n    let lastPoint;\n    for (const { point } of iterate(fillData.points, iterateReverseArray(fillData.phantomPoints))) {\n      if (point.moveTo) {\n        fillPath.moveTo(point.x, point.y);\n      } else if ((lastPoint == null ? void 0 : lastPoint.y) !== point.y) {\n        if (lastPoint) {\n          fillPath.lineTo(lastPoint.x, lastPoint.y);\n        }\n        fillPath.lineTo(point.x, point.y);\n      }\n      lastPoint = point;\n    }\n    if (lastPoint) {\n      fillPath.lineTo(lastPoint.x, lastPoint.y);\n    }\n    fillPath.closePath();\n    fill.checkPathDirty();\n  }\n  updateStrokePath(paths, contextData) {\n    const { strokeData } = contextData;\n    const [, stroke] = paths;\n    const { path: strokePath } = stroke;\n    strokePath.clear(true);\n    for (const { point } of strokeData.points) {\n      if (point.moveTo) {\n        strokePath.moveTo(point.x, point.y);\n      } else {\n        strokePath.lineTo(point.x, point.y);\n      }\n    }\n    stroke.checkPathDirty();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, marker, fill, stroke, strokeWidth, fillOpacity, strokeOpacity, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        fill,\n        stroke,\n        strokeWidth,\n        fillOpacity,\n        strokeOpacity\n      });\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const { labelData, labelSelection } = opts;\n      return labelSelection.update(labelData, (text) => {\n        text.tag = 3;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { labelSelection } = opts;\n      const { enabled: labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color } = this.properties.label;\n      labelSelection.each((text, datum) => {\n        const { x, y, label } = datum;\n        if (label && labelEnabled && this.visible) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = x;\n          text.y = y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const { id: seriesId, axes, dataModel } = this;\n    const { xKey, xName, yName, tooltip, marker } = this.properties;\n    const { yKey, xValue, yValue, datum, itemId } = nodeDatum;\n    const xAxis = axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = axes[\n      \"y\"\n      /* Y */\n    ];\n    if (!this.properties.isValid() || !(xAxis && yAxis && isFiniteNumber(yValue)) || !dataModel) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({ fill: this.properties.fill }, marker.getStyle(), {\n      stroke: this.properties.stroke,\n      strokeWidth: this.properties.strokeWidth\n    });\n    const { fill: color } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, xKey, yKey, highlighted: false },\n      baseStyle\n    );\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      {\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        color,\n        title,\n        seriesId\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const { yKey, yName, fill, stroke, fillOpacity, strokeOpacity, strokeWidth, lineDash, marker, visible } = this.properties;\n    const useAreaFill = !marker.enabled || marker.fill === void 0;\n    return [\n      {\n        legendType,\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: yName != null ? yName : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: useAreaFill ? fill : marker.fill,\n          fillOpacity: useAreaFill ? fillOpacity : marker.fillOpacity,\n          stroke: (_b = marker.stroke) != null ? _b : stroke,\n          strokeOpacity: (_c = marker.strokeOpacity) != null ? _c : strokeOpacity,\n          strokeWidth: (_d = marker.strokeWidth) != null ? _d : 0,\n          enabled: marker.enabled || strokeWidth <= 0\n        },\n        line: {\n          stroke,\n          strokeOpacity,\n          strokeWidth,\n          lineDash\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady(animationData) {\n    const { markerSelection, labelSelection, contextData, paths } = animationData;\n    const { animationManager } = this.ctx;\n    this.updateAreaPaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  animateReadyResize(animationData) {\n    const { contextData, paths } = animationData;\n    this.updateAreaPaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const { animationManager } = this.ctx;\n    const { markerSelection, labelSelection, contextData, paths, previousContextData } = animationData;\n    const [fill, stroke] = paths;\n    if (fill == null && stroke == null)\n      return;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateAreaPaths(paths, contextData);\n      this.updateStrokePath(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelection);\n      pathFadeInAnimation(this, \"fill_path_properties\", animationManager, \"add\", fill);\n      pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n      return;\n    }\n    const fns = prepareAreaPathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelection);\n    fromToMotion(this.id, \"fill_path_properties\", animationManager, [fill], fns.fill.pathProperties);\n    pathMotion(this.id, \"fill_path_update\", animationManager, [fill], fns.fill.path);\n    this.updateStrokePath(paths, contextData);\n    pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  computeFocusBounds({ datumIndex }) {\n    var _a;\n    return computeMarkerFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup);\n  }\n};\nAreaSeries.className = \"AreaSeries\";\nAreaSeries.type = \"area\";\nvar AreaSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"area\",\n  instanceConstructor: AreaSeries,\n  stackable: true,\n  defaultAxes: [\n    {\n      type: \"number\",\n      position: \"left\"\n      /* LEFT */\n    },\n    {\n      type: \"category\",\n      position: \"bottom\"\n      /* BOTTOM */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      nodeClickRange: \"nearest\",\n      tooltip: { position: { type: \"node\" } },\n      fillOpacity: 0.8,\n      strokeOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        enabled: false,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: (params) => {\n    const { marker } = markerPaletteFactory(params);\n    return { fill: marker.fill, stroke: marker.stroke, marker };\n  }\n};\nfunction* childrenIter(parent) {\n  for (const node of parent.children) {\n    yield node;\n  }\n}\nfunction addHitTestersToQuadtree(quadtree, hitTesters) {\n  for (const node of hitTesters) {\n    const datum = node.datum;\n    if (datum === void 0) {\n      Logger.error(\"undefined datum\");\n    } else {\n      quadtree.addValue(node, datum);\n    }\n  }\n}\nfunction findQuadtreeMatch(series, point) {\n  const { x, y } = series.contentGroup.transformPoint(point.x, point.y);\n  const { nearest, distanceSquared: distanceSquared2 } = series.getQuadTree().find(x, y);\n  if (nearest !== void 0) {\n    return { datum: nearest.value, distance: Math.sqrt(distanceSquared2) };\n  }\n  return void 0;\n}\nvar AbstractBarSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.direction = \"vertical\";\n  }\n};\n__decorateClass2([\n  Validate(DIRECTION)\n], AbstractBarSeriesProperties.prototype, \"direction\", 2);\nvar AbstractBarSeries = class extends CartesianSeries {\n  constructor() {\n    super(...arguments);\n    this.groupScale = new BandScale();\n    this.smallestDataInterval = void 0;\n  }\n  getBandScalePadding() {\n    return { inner: 0.2, outer: 0.1 };\n  }\n  shouldFlipXY() {\n    return !this.isVertical();\n  }\n  isVertical() {\n    return this.properties.direction === \"vertical\";\n  }\n  getBarDirection() {\n    return this.shouldFlipXY() ? \"x\" : \"y\";\n  }\n  getCategoryDirection() {\n    return this.shouldFlipXY() ? \"y\" : \"x\";\n  }\n  getValueAxis() {\n    const direction = this.getBarDirection();\n    return this.axes[direction];\n  }\n  getCategoryAxis() {\n    const direction = this.getCategoryDirection();\n    return this.axes[direction];\n  }\n  updateGroupScale(xAxis) {\n    const {\n      groupScale,\n      smallestDataInterval,\n      ctx: { seriesStateManager }\n    } = this;\n    const xScale = xAxis.scale;\n    const xBandWidth = ContinuousScale.is(xScale) ? xScale.calcBandwidth(smallestDataInterval) : xScale.bandwidth;\n    const domain = [];\n    const { index: groupIndex, visibleGroupCount } = seriesStateManager.getVisiblePeerGroupIndex(this);\n    for (let groupIdx = 0; groupIdx < visibleGroupCount; groupIdx++) {\n      domain.push(String(groupIdx));\n    }\n    groupScale.domain = domain;\n    groupScale.range = [0, xBandWidth != null ? xBandWidth : 0];\n    if (xAxis instanceof CategoryAxis) {\n      groupScale.paddingInner = xAxis.groupPaddingInner;\n    } else if (xAxis instanceof GroupedCategoryAxis) {\n      groupScale.padding = 0.1;\n    } else {\n      groupScale.padding = 0;\n    }\n    groupScale.round = groupScale.padding !== 0;\n    const barWidth = groupScale.bandwidth >= 1 ? (\n      // Pixel-rounded value for low-volume bar charts.\n      groupScale.bandwidth\n    ) : (\n      // Handle high-volume bar charts gracefully.\n      groupScale.rawBandwidth\n    );\n    return { barWidth, groupIndex };\n  }\n  resolveKeyDirection(direction) {\n    if (this.getBarDirection() === \"x\") {\n      if (direction === \"x\") {\n        return \"y\";\n      }\n      return \"x\";\n    }\n    return direction;\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, this.datumNodesIter());\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n};\nvar BarSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"inside\";\n  }\n};\n__decorateClass2([\n  Validate(PLACEMENT)\n], BarSeriesLabel.prototype, \"placement\", 2);\nvar BarSeriesProperties = class extends AbstractBarSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.shadow = new DropShadow();\n    this.label = new BarSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], BarSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"xName\", 2);\n__decorateClass2([\n  Validate(STRING)\n], BarSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"yName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"stackGroup\", 2);\n__decorateClass2([\n  Validate(NUMBER, { optional: true })\n], BarSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING)\n], BarSeriesProperties.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], BarSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING)\n], BarSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], BarSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(LINE_DASH)\n], BarSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], BarSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass2([\n  Validate(OBJECT, { optional: true })\n], BarSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], BarSeriesProperties.prototype, \"label\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], BarSeriesProperties.prototype, \"tooltip\", 2);\nfunction updateRect({ rect, config }) {\n  const {\n    crisp = true,\n    fill,\n    stroke,\n    strokeWidth,\n    fillOpacity,\n    strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true,\n    visible = true\n  } = config;\n  rect.crisp = crisp;\n  rect.fill = fill;\n  rect.stroke = stroke;\n  rect.strokeWidth = strokeWidth;\n  rect.fillOpacity = fillOpacity;\n  rect.strokeOpacity = strokeOpacity;\n  rect.lineDash = lineDash;\n  rect.lineDashOffset = lineDashOffset;\n  rect.fillShadow = fillShadow;\n  rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n  rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n  rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n  rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n  rect.visible = visible;\n}\nfunction getRectConfig(_a) {\n  var _b = _a, {\n    datum,\n    isHighlighted,\n    style,\n    highlightStyle,\n    formatter,\n    seriesId,\n    ctx: { callbackCache }\n  } = _b, opts = __objRest(_b, [\n    \"datum\",\n    \"isHighlighted\",\n    \"style\",\n    \"highlightStyle\",\n    \"formatter\",\n    \"seriesId\",\n    \"ctx\"\n  ]);\n  var _a2, _b2, _c, _d, _e, _f;\n  const { fill, fillOpacity, stroke, strokeWidth } = mergeDefaults(isHighlighted && highlightStyle, style);\n  const {\n    strokeOpacity,\n    fillShadow,\n    lineDash,\n    lineDashOffset,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true\n  } = style;\n  let format2;\n  if (formatter) {\n    format2 = callbackCache.call(formatter, __spreadValues2({\n      datum: datum.datum,\n      xKey: datum.xKey,\n      fill,\n      stroke,\n      strokeWidth,\n      cornerRadius,\n      highlighted: isHighlighted,\n      seriesId\n    }, opts));\n  }\n  return {\n    fill: (_a2 = format2 == null ? void 0 : format2.fill) != null ? _a2 : fill,\n    stroke: (_b2 = format2 == null ? void 0 : format2.stroke) != null ? _b2 : stroke,\n    strokeWidth: (_c = format2 == null ? void 0 : format2.strokeWidth) != null ? _c : strokeWidth,\n    fillOpacity: (_d = format2 == null ? void 0 : format2.fillOpacity) != null ? _d : fillOpacity,\n    strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius: (_f = format2 == null ? void 0 : format2.cornerRadius) != null ? _f : cornerRadius,\n    topLeftCornerRadius,\n    topRightCornerRadius,\n    bottomRightCornerRadius,\n    bottomLeftCornerRadius\n  };\n}\nfunction checkCrisp(visibleRange = []) {\n  const [visibleMin, visibleMax] = visibleRange;\n  const isZoomed = visibleMin !== 0 || visibleMax !== 1;\n  return !isZoomed;\n}\nvar isDatumNegative = (datum) => {\n  var _a;\n  return isNegative((_a = datum.yValue) != null ? _a : 0);\n};\nfunction collapsedStartingBarPosition(isVertical, axes, mode) {\n  const { startingX, startingY } = getStartingValues(isVertical, axes);\n  const calculate = (datum, prevDatum) => {\n    let x = isVertical ? datum.x : startingX;\n    let y = isVertical ? startingY : datum.y;\n    let width = isVertical ? datum.width : 0;\n    let height = isVertical ? 0 : datum.height;\n    const { opacity } = datum;\n    if (prevDatum && (isNaN(x) || isNaN(y))) {\n      ({ x, y } = prevDatum);\n      width = isVertical ? prevDatum.width : 0;\n      height = isVertical ? 0 : prevDatum.height;\n      if (isVertical && !isDatumNegative(prevDatum)) {\n        y += prevDatum.height;\n      } else if (!isVertical && isDatumNegative(prevDatum)) {\n        x += prevDatum.width;\n      }\n    }\n    let clipBBox;\n    if (datum.clipBBox == null) {\n      clipBBox = void 0;\n    } else if (isDatumNegative(datum)) {\n      clipBBox = isVertical ? new BBox(x, y - height, width, height) : new BBox(x - width, y, width, height);\n    } else {\n      clipBBox = new BBox(x, y, width, height);\n    }\n    return { x, y, width, height, clipBBox, opacity };\n  };\n  return { isVertical, calculate, mode };\n}\nfunction midpointStartingBarPosition(isVertical, mode) {\n  return {\n    isVertical,\n    calculate: (datum) => {\n      return {\n        x: isVertical ? datum.x : datum.x + datum.width / 2,\n        y: isVertical ? datum.y + datum.height / 2 : datum.y,\n        width: isVertical ? datum.width : 0,\n        height: isVertical ? 0 : datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    },\n    mode\n  };\n}\nfunction prepareBarAnimationFunctions(initPos) {\n  const isRemoved = (datum) => datum == null || isNaN(datum.x) || isNaN(datum.y);\n  const fromFn = (rect, datum, status) => {\n    if (status === \"updated\" && isRemoved(datum)) {\n      status = \"removed\";\n    } else if (status === \"updated\" && isRemoved(rect.previousDatum)) {\n      status = \"added\";\n    }\n    let source;\n    if (status === \"added\" && rect.previousDatum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues2({}, resetBarSelectionsFn(rect, datum)), { opacity: 0 });\n    } else if (status === \"unknown\" || status === \"added\") {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height,\n        clipBBox: rect.clipBBox,\n        opacity: rect.opacity\n      };\n    }\n    const phase = NODE_UPDATE_STATE_TO_PHASE_MAPPING[status];\n    return __spreadProps(__spreadValues2({}, source), { phase });\n  };\n  const toFn = (rect, datum, status) => {\n    let source;\n    if (status === \"removed\" && rect.datum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues2({}, resetBarSelectionsFn(rect, datum)), { opacity: 0 });\n    } else if (status === \"removed\" || isRemoved(datum)) {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: datum.x,\n        y: datum.y,\n        width: datum.width,\n        height: datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    }\n    return source;\n  };\n  return { toFn, fromFn };\n}\nfunction getStartingValues(isVertical, axes) {\n  const axis = axes[\n    isVertical ? \"y\" : \"x\"\n    /* X */\n  ];\n  let startingX = Infinity;\n  let startingY = 0;\n  if (!axis) {\n    return { startingX, startingY };\n  }\n  if (isVertical) {\n    startingY = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.max(...axis.range));\n  } else {\n    startingX = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.min(...axis.range));\n  }\n  return { startingX, startingY };\n}\nfunction resetBarSelectionsFn(_node, { x, y, width, height, clipBBox, opacity }) {\n  return { x, y, width, height, clipBBox, opacity };\n}\nfunction computeBarFocusBounds(datum, barGroup, seriesRect) {\n  if (datum === void 0)\n    return void 0;\n  const { x, y, width, height } = datum;\n  return barGroup.inverseTransformBBox(new BBox(x, y, width, height)).clip(seriesRect);\n}\nfunction updateLabelNode(textNode, label, labelDatum) {\n  if (label.enabled && labelDatum) {\n    const { x, y, text, textAlign, textBaseline } = labelDatum;\n    const { color: fill, fontStyle, fontWeight, fontSize, fontFamily } = label;\n    textNode.setProperties({\n      visible: true,\n      x,\n      y,\n      text,\n      fill,\n      fontStyle,\n      fontWeight,\n      fontSize,\n      fontFamily,\n      textAlign,\n      textBaseline\n    });\n  } else {\n    textNode.visible = false;\n  }\n}\nfunction adjustLabelPlacement({\n  isPositive,\n  isVertical,\n  placement,\n  padding = 0,\n  rect\n}) {\n  let x = rect.x + rect.width / 2;\n  let y = rect.y + rect.height / 2;\n  let textAlign = \"center\";\n  let textBaseline = \"middle\";\n  switch (placement) {\n    case \"start\": {\n      if (isVertical) {\n        y = isPositive ? rect.y + rect.height + padding : rect.y - padding;\n        textBaseline = isPositive ? \"top\" : \"bottom\";\n      } else {\n        x = isPositive ? rect.x - padding : rect.x + rect.width + padding;\n        textAlign = isPositive ? \"start\" : \"end\";\n      }\n      break;\n    }\n    case \"outside\":\n    case \"end\": {\n      if (isVertical) {\n        y = isPositive ? rect.y - padding : rect.y + rect.height + padding;\n        textBaseline = isPositive ? \"bottom\" : \"top\";\n      } else {\n        x = isPositive ? rect.x + rect.width + padding : rect.x - padding;\n        textAlign = isPositive ? \"start\" : \"end\";\n      }\n      break;\n    }\n  }\n  return { x, y, textAlign, textBaseline };\n}\nvar BarSeries = class extends AbstractBarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      pathsPerSeries: 0,\n      hasHighlightedLabels: true,\n      datumSelectionGarbageCollection: false,\n      animationAlwaysUpdateSelections: true,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new BarSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || !this.data) {\n        return;\n      }\n      const { seriesGrouping: { groupIndex = this.id } = {}, data = [] } = this;\n      const { xKey, yKey, normalizedTo } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.getCategoryAxis()) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.getValueAxis()) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const stackGroupName = `bar-stack-${groupIndex}-yValues`;\n      const stackGroupTrailingName = `${stackGroupName}-trailing`;\n      const extraProps = [];\n      if (isFiniteNumber(normalizedTo)) {\n        extraProps.push(\n          normaliseGroupTo([stackGroupName, stackGroupTrailingName], Math.abs(normalizedTo), \"range\")\n        );\n      }\n      if (animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const visibleProps = this.visible ? {} : { forceValue: 0 };\n      const { processedData } = yield this.requestDataModel(dataController, data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xValue\" }),\n          valueProperty(yKey, yScaleType, __spreadValues2({ id: `yValue-raw`, invalidValue: null }, visibleProps)),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"normal\",\n            \"current\",\n            __spreadValues2({\n              id: `yValue-end`,\n              rangeId: `yValue-range`,\n              invalidValue: null,\n              missingValue: 0,\n              groupId: stackGroupName,\n              separateNegative: true\n            }, visibleProps),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"trailing\",\n            \"current\",\n            __spreadValues2({\n              id: `yValue-start`,\n              invalidValue: null,\n              missingValue: 0,\n              groupId: stackGroupTrailingName,\n              separateNegative: true\n            }, visibleProps),\n            yScaleType\n          ),\n          ...isContinuousX ? [SMALLEST_KEY_INTERVAL] : [],\n          ...extraProps\n        ],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.smallestDataInterval = (_c = processedData.reduced) == null ? void 0 : _c.smallestKeyInterval;\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a;\n    const { processedData, dataModel, smallestDataInterval } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0)\n      return [];\n    const categoryAxis = this.getCategoryAxis();\n    const valueAxis = this.getValueAxis();\n    const keyDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    const keys = dataModel.getDomain(this, `xValue`, \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, `yValue-end`, \"value\", processedData);\n    if (direction === this.getCategoryDirection()) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      const scalePadding = isFiniteNumber(smallestDataInterval) ? smallestDataInterval * 0.5 : 0;\n      const keysExtent = (_a = extent(keys)) != null ? _a : [NaN, NaN];\n      const d0 = keysExtent[0] + -scalePadding;\n      const d1 = keysExtent[1] + scalePadding;\n      return fixNumericExtent([d0, d1], categoryAxis);\n    } else if (this.getValueAxis() instanceof LogAxis) {\n      return fixNumericExtent(yExtent, valueAxis);\n    } else {\n      const fixedYExtent = [Math.min(0, yExtent[0]), Math.max(0, yExtent[1])];\n      return fixNumericExtent(fixedYExtent, valueAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { dataModel } = this;\n      const xAxis = this.getCategoryAxis();\n      const yAxis = this.getValueAxis();\n      if (!dataModel || !xAxis || !yAxis || !this.properties.isValid())\n        return;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, cornerRadius, legendItemName, label } = this.properties;\n      const yReversed = yAxis.isReversed();\n      const { barWidth, groupIndex } = this.updateGroupScale(xAxis);\n      const barOffset = ContinuousScale.is(xScale) ? barWidth * -0.5 : 0;\n      const xIndex = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yRawIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-raw`);\n      const yStartIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-start`);\n      const yEndIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-end`);\n      const yRangeIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-range`);\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const context = {\n        itemId: yKey,\n        nodeData: [],\n        labelData: [],\n        scales: this.calculateScaling(),\n        visible: this.visible || animationEnabled\n      };\n      const { groupScale, processedData } = this;\n      processedData == null ? void 0 : processedData.data.forEach(({ keys, datum: seriesDatum, values, aggValues }) => {\n        values.forEach((value, valueIndex) => {\n          var _a;\n          const xValue = keys[xIndex];\n          const x = xScale.convert(xValue);\n          const currY = +value[yEndIndex];\n          const prevY = +value[yStartIndex];\n          const yRawValue = value[yRawIndex];\n          const isPositive = yRawValue >= 0 && !Object.is(yRawValue, -0);\n          const isUpward = isPositive !== yReversed;\n          const yRange = (_a = aggValues == null ? void 0 : aggValues[yRangeIndex][isPositive ? 1 : 0]) != null ? _a : 0;\n          const barX = x + groupScale.convert(String(groupIndex)) + barOffset;\n          if (isNaN(currY))\n            return;\n          const y = yScale.convert(currY);\n          const bottomY = yScale.convert(prevY);\n          const barAlongX = this.getBarDirection() === \"x\";\n          const bboxHeight = yScale.convert(yRange);\n          const bboxBottom = yScale.convert(0);\n          const rect = {\n            x: barAlongX ? Math.min(y, bottomY) : barX,\n            y: barAlongX ? barX : Math.min(y, bottomY),\n            width: barAlongX ? Math.abs(bottomY - y) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bottomY - y)\n          };\n          const clipBBox = new BBox(rect.x, rect.y, rect.width, rect.height);\n          const barRect = {\n            x: barAlongX ? Math.min(bboxBottom, bboxHeight) : barX,\n            y: barAlongX ? barX : Math.min(bboxBottom, bboxHeight),\n            width: barAlongX ? Math.abs(bboxBottom - bboxHeight) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bboxBottom - bboxHeight),\n            clipBBox\n          };\n          const {\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            color: labelColor,\n            placement\n          } = label;\n          const labelText = this.getLabelText(\n            this.properties.label,\n            {\n              datum: seriesDatum[valueIndex],\n              value: yRawValue,\n              xKey,\n              yKey,\n              xName,\n              yName,\n              legendItemName\n            },\n            (v) => isFiniteNumber(v) ? v.toFixed(2) : String(v)\n          );\n          const labelDatum = labelText ? __spreadValues2({\n            text: labelText,\n            fill: labelColor,\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily\n          }, adjustLabelPlacement({\n            isPositive,\n            isVertical: !barAlongX,\n            placement,\n            rect\n          })) : void 0;\n          const lengthRatioMultiplier = this.shouldFlipXY() ? rect.height : rect.width;\n          const nodeData = {\n            series: this,\n            itemId: yKey,\n            datum: seriesDatum[valueIndex],\n            valueIndex,\n            cumulativeValue: currY,\n            xValue,\n            yValue: yRawValue,\n            yKey,\n            xKey,\n            capDefaults: {\n              lengthRatioMultiplier,\n              lengthMax: lengthRatioMultiplier\n            },\n            x: barRect.x,\n            y: barRect.y,\n            width: barRect.width,\n            height: barRect.height,\n            midPoint: { x: rect.x + rect.width / 2, y: rect.y + rect.height / 2 },\n            fill,\n            stroke,\n            opacity: 1,\n            strokeWidth,\n            cornerRadius,\n            topLeftCornerRadius: barAlongX !== isUpward,\n            topRightCornerRadius: isUpward,\n            bottomRightCornerRadius: barAlongX === isUpward,\n            bottomLeftCornerRadius: !isUpward,\n            clipBBox,\n            label: labelDatum,\n            missing: yRawValue == null\n          };\n          context.nodeData.push(nodeData);\n          context.labelData.push(nodeData);\n        });\n      });\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection.update(\n        opts.nodeData,\n        (rect) => {\n          rect.tag = 0;\n        },\n        (datum) => createDatumId(datum.xValue, datum.valueIndex)\n      );\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      if (!this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        stackGroup,\n        fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        formatter,\n        shadow,\n        highlightStyle: { item: itemHighlightStyle }\n      } = this.properties;\n      const xAxis = this.axes[\n        \"x\"\n        /* X */\n      ];\n      const crisp = checkCrisp(xAxis == null ? void 0 : xAxis.visibleRange);\n      const categoryAlongX = this.getCategoryDirection() === \"x\";\n      opts.datumSelection.each((rect, datum) => {\n        var _a, _b, _c, _d;\n        const style = {\n          fill,\n          stroke,\n          fillOpacity,\n          strokeOpacity,\n          lineDash,\n          lineDashOffset,\n          fillShadow: shadow,\n          strokeWidth: this.getStrokeWidth(strokeWidth),\n          cornerRadius: datum.cornerRadius,\n          topLeftCornerRadius: datum.topLeftCornerRadius,\n          topRightCornerRadius: datum.topRightCornerRadius,\n          bottomRightCornerRadius: datum.bottomRightCornerRadius,\n          bottomLeftCornerRadius: datum.bottomLeftCornerRadius\n        };\n        const visible = categoryAlongX ? ((_b = (_a = datum.clipBBox) == null ? void 0 : _a.width) != null ? _b : datum.width) > 0 : ((_d = (_c = datum.clipBBox) == null ? void 0 : _c.height) != null ? _d : datum.height) > 0;\n        const config = getRectConfig({\n          datum,\n          ctx: this.ctx,\n          seriesId: this.id,\n          isHighlighted: opts.isHighlight,\n          highlightStyle: itemHighlightStyle,\n          yKey,\n          style,\n          formatter,\n          stackGroup\n        });\n        config.crisp = crisp;\n        config.visible = visible;\n        updateRect({ rect, config });\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const data = this.isLabelEnabled() ? opts.labelData : [];\n      return opts.labelSelection.update(data, (text) => {\n        text.tag = 1;\n        text.pointerEvents = 1;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      opts.labelSelection.each((textNode, datum) => {\n        updateLabelNode(textNode, this.properties.label, datum.label);\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const {\n      id: seriesId,\n      processedData,\n      ctx: { callbackCache }\n    } = this;\n    const xAxis = this.getCategoryAxis();\n    const yAxis = this.getValueAxis();\n    if (!processedData || !this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, tooltip, formatter, stackGroup, legendItemName } = this.properties;\n    const { xValue, yValue, datum, itemId } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        seriesId,\n        datum,\n        xKey,\n        yKey,\n        stackGroup,\n        fill,\n        stroke,\n        strokeWidth: this.getStrokeWidth(strokeWidth),\n        highlighted: false\n      });\n    }\n    const color = (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill;\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues2({\n        seriesId,\n        itemId,\n        datum,\n        xKey,\n        yKey,\n        xName,\n        yName,\n        stackGroup,\n        title,\n        color,\n        legendItemName\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    const { showInLegend } = this.properties;\n    if (legendType !== \"category\" || !((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || !showInLegend) {\n      return [];\n    }\n    const { yKey, yName, fill, stroke, strokeWidth, fillOpacity, strokeOpacity, legendItemName, visible } = this.properties;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: { text: (_b = legendItemName != null ? legendItemName : yName) != null ? _b : yKey },\n        marker: { fill, fillOpacity, stroke, strokeWidth, strokeOpacity },\n        legendItemName\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ datumSelection, labelSelection, annotationSelections }) {\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, \"normal\"));\n    fromToMotion(this.id, \"nodes\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b, _c;\n    const { datumSelection, labelSelection, annotationSelections, previousContextData } = data;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const mode = previousContextData == null ? \"fade\" : \"normal\";\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, mode));\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      this.ctx.animationManager,\n      [datumSelection],\n      fns,\n      (_, datum) => createDatumId(datum.xValue, datum.valueIndex),\n      dataDiff\n    );\n    const hasMotion = (_c = dataDiff == null ? void 0 : dataDiff.changed) != null ? _c : true;\n    if (hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n      seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds({ datumIndex, seriesRect }) {\n    var _a;\n    const datumBox = (_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex].clipBBox;\n    return computeBarFocusBounds(datumBox, this.contentGroup, seriesRect);\n  }\n};\nBarSeries.className = \"BarSeries\";\nBarSeries.type = \"bar\";\nvar BarSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bar\",\n  instanceConstructor: BarSeries,\n  stackable: true,\n  groupable: true,\n  defaultAxes: [\n    {\n      type: \"number\",\n      position: \"left\"\n      /* LEFT */\n    },\n    {\n      type: \"category\",\n      position: \"bottom\"\n      /* BOTTOM */\n    }\n  ],\n  swapDefaultAxesCondition: (series) => (series == null ? void 0 : series.direction) === \"horizontal\",\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      direction: \"vertical\",\n      fillOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontWeight: \"normal\",\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n        placement: \"inside\"\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 0.3\n        }\n      }\n    }\n  },\n  paletteFactory: singleSeriesPaletteFactory\n};\nvar convertColorStringToOklcha = (v) => {\n  const color = Color.fromString(v);\n  const [l, c, h] = Color.RGBtoOKLCH(color.r, color.g, color.b);\n  return { l, c, h, a: color.a };\n};\nvar interpolateOklch = (x, y, d) => {\n  d = clamp(0, d, 1);\n  let h;\n  let c;\n  if (Number.isNaN(x.h) && Number.isNaN(y.h)) {\n    h = 0;\n    c = 0;\n  } else if (Number.isNaN(x.h)) {\n    h = y.h;\n    c = y.c;\n  } else if (Number.isNaN(y.h)) {\n    h = x.h;\n    c = x.c;\n  } else {\n    const xH = x.h;\n    let yH = y.h;\n    const deltaH = y.h - x.h;\n    if (deltaH > 180) {\n      yH -= 360;\n    } else if (deltaH < -180) {\n      yH += 360;\n    }\n    h = xH * (1 - d) + yH * d;\n    c = x.c * (1 - d) + y.c * d;\n  }\n  const l = x.l * (1 - d) + y.l * d;\n  const a = x.a * (1 - d) + y.a * d;\n  return Color.fromOKLCH(l, c, h, a);\n};\nvar ColorScale = class {\n  constructor() {\n    this.type = \"color\";\n    this.invalid = true;\n    this.domain = [0, 1];\n    this.range = [\"red\", \"blue\"];\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  update() {\n    const { domain, range: range3 } = this;\n    if (domain.length < 2) {\n      Logger.warnOnce(\"`colorDomain` should have at least 2 values.\");\n      if (domain.length === 0) {\n        domain.push(0, 1);\n      } else if (domain.length === 1) {\n        domain.push(domain[0] + 1);\n      }\n    }\n    for (let i = 1; i < domain.length; i++) {\n      const a = domain[i - 1];\n      const b = domain[i];\n      if (a >= b) {\n        Logger.warnOnce(\"`colorDomain` values should be supplied in ascending order.\");\n        domain.sort((a2, b2) => a2 - b2);\n        break;\n      }\n    }\n    if (range3.length < domain.length) {\n      for (let i = range3.length; i < domain.length; i++) {\n        range3.push(range3.length > 0 ? range3[0] : \"black\");\n      }\n    }\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  convert(x) {\n    this.refresh();\n    const { domain, range: range3, parsedRange } = this;\n    const d0 = domain[0];\n    const d1 = domain.at(-1);\n    const r0 = range3[0];\n    const r1 = range3[range3.length - 1];\n    if (x <= d0) {\n      return r0;\n    }\n    if (x >= d1) {\n      return r1;\n    }\n    let index;\n    let q;\n    if (domain.length === 2) {\n      const t = (x - d0) / (d1 - d0);\n      const step = 1 / (range3.length - 1);\n      index = range3.length <= 2 ? 0 : Math.min(Math.floor(t * (range3.length - 1)), range3.length - 2);\n      q = (t - index * step) / step;\n    } else {\n      for (index = 0; index < domain.length - 2; index++) {\n        if (x < domain[index + 1]) {\n          break;\n        }\n      }\n      const a = domain[index];\n      const b = domain[index + 1];\n      q = (x - a) / (b - a);\n    }\n    const c0 = parsedRange[index];\n    const c1 = parsedRange[index + 1];\n    return interpolateOklch(c0, c1, q).toRgbaString();\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n};\n__decorateClass2([\n  Invalidating\n], ColorScale.prototype, \"domain\", 2);\n__decorateClass2([\n  Invalidating\n], ColorScale.prototype, \"range\", 2);\nvar BubbleSeriesMarker = class extends SeriesMarker {\n  constructor() {\n    super(...arguments);\n    this.maxSize = 30;\n  }\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], BubbleSeriesMarker.prototype, \"maxSize\", 2);\n__decorateClass2([\n  Validate(NUMBER_ARRAY, { optional: true }),\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], BubbleSeriesMarker.prototype, \"domain\", 2);\nvar BubbleSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass2([\n  Validate(LABEL_PLACEMENT)\n], BubbleSeriesLabel.prototype, \"placement\", 2);\nvar BubbleSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new BubbleSeriesMarker();\n    this.label = new BubbleSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass2([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass2([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"xName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"yName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"sizeName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass2([\n  Validate(NUMBER_ARRAY, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY)\n], BubbleSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"title\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"marker\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"label\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"tooltip\", 2);\nvar BubbleSeriesNodeEvent = class extends CartesianSeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.sizeKey = series.properties.sizeKey;\n  }\n};\nvar BubbleSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [\n        2,\n        3,\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        label: resetLabelFn,\n        marker: resetMarkerFn\n      }\n    });\n    this.NodeEvent = BubbleSeriesNodeEvent;\n    this.properties = new BubbleSeriesProperties();\n    this.sizeScale = new LinearScale();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d;\n      if (!this.properties.isValid() || this.data == null || !this.visible)\n        return;\n      const xScale = (_a = this.axes[\n        \"x\"\n        /* X */\n      ]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\n        \"y\"\n        /* Y */\n      ]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const colorScaleType = this.colorScale.type;\n      const sizeScaleType = this.sizeScale.type;\n      const { xKey, yKey, sizeKey, labelKey, colorDomain, colorRange, colorKey, marker } = this.properties;\n      const { dataModel, processedData } = yield this.requestDataModel(dataController, this.data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xKey-raw\" }),\n          keyProperty(yKey, yScaleType, { id: \"yKey-raw\" }),\n          ...labelKey ? [keyProperty(labelKey, \"band\", { id: `labelKey-raw` })] : [],\n          valueProperty(xKey, xScaleType, { id: `xValue` }),\n          valueProperty(yKey, yScaleType, { id: `yValue` }),\n          valueProperty(sizeKey, sizeScaleType, { id: `sizeValue` }),\n          ...colorKey ? [valueProperty(colorKey, colorScaleType, { id: `colorValue` })] : [],\n          ...labelKey ? [valueProperty(labelKey, \"band\", { id: `labelValue` })] : []\n        ]\n      });\n      const sizeKeyIdx = dataModel.resolveProcessedDataIndexById(this, `sizeValue`);\n      const processedSize = (_c = processedData.domain.values[sizeKeyIdx]) != null ? _c : [];\n      this.sizeScale.domain = marker.domain ? marker.domain : processedSize;\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, `colorValue`);\n        this.colorScale.domain = (_d = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _d : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const id = direction === \"x\" ? `xValue` : `yValue`;\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { axes, dataModel, processedData, colorScale, sizeScale } = this;\n      const { xKey, yKey, sizeKey, labelKey, xName, yName, sizeName, labelName, label, colorKey, marker, visible } = this.properties;\n      const markerShape = getMarker(marker.shape);\n      const { placement } = label;\n      const xAxis = axes[\n        \"x\"\n        /* X */\n      ];\n      const yAxis = axes[\n        \"y\"\n        /* Y */\n      ];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      const sizeDataIdx = sizeKey ? dataModel.resolveProcessedDataIndexById(this, `sizeValue`) : -1;\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, `colorValue`) : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, `labelValue`) : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      sizeScale.range = [marker.size, marker.maxSize];\n      const font = label.getFont();\n      for (const { values, datum } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          sizeKey,\n          labelKey,\n          xName,\n          yName,\n          sizeName,\n          labelName\n        });\n        const size = Text.getTextSize(String(labelText), font);\n        const markerSize = sizeKey ? sizeScale.convert(values[sizeDataIdx]) : marker.size;\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          sizeValue: values[sizeDataIdx],\n          point: { x, y, size: markerSize },\n          midPoint: { x, y },\n          fill,\n          label: __spreadValues2({ text: labelText }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      const data = this.properties.marker.enabled ? nodeData : [];\n      return markerSelection.update(\n        data,\n        void 0,\n        (datum) => createDatumId([datum.xValue, datum.yValue, datum.label.text])\n      );\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, sizeKey, labelKey, marker } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && this.properties.highlightStyle.item, marker.getStyle());\n      this.sizeScale.range = [marker.size, marker.maxSize];\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey, sizeKey, labelKey }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.properties.label.enabled ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(\n        placedLabels.map((v) => __spreadProps(__spreadValues2({}, v.datum), {\n          point: {\n            x: v.x,\n            y: v.y,\n            size: v.datum.point.size\n          }\n        }))\n      );\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { label } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = this.axes[\n      \"y\"\n      /* Y */\n    ];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, sizeKey, labelKey, xName, yName, sizeName, labelName, marker, tooltip } = this.properties;\n    const title = (_a = this.properties.title) != null ? _a : yName;\n    const baseStyle = mergeDefaults(\n      { fill: nodeDatum.fill, strokeWidth: this.getStrokeWidth(marker.strokeWidth) },\n      marker.getStyle()\n    );\n    const { fill: color = \"gray\" } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, highlighted: false, xKey, yKey, sizeKey, labelKey },\n      baseStyle\n    );\n    const {\n      datum,\n      xValue,\n      yValue,\n      sizeValue,\n      label: { text: labelText },\n      itemId\n    } = nodeDatum;\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = `<b>${sanitizeHtml(xName != null ? xName : xKey)}</b>: ${xString}<br><b>${sanitizeHtml(yName != null ? yName : yKey)}</b>: ${yString}`;\n    if (sizeKey) {\n      content += `<br><b>${sanitizeHtml(sizeName != null ? sizeName : sizeKey)}</b>: ${sanitizeHtml(String(sizeValue))}`;\n    }\n    if (labelKey) {\n      content = `<b>${sanitizeHtml(labelName != null ? labelName : labelKey)}</b>: ${sanitizeHtml(labelText)}<br>` + content;\n    }\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      {\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        sizeKey,\n        sizeName,\n        labelKey,\n        labelName,\n        title,\n        color,\n        seriesId: this.id\n      }\n    );\n  }\n  getLegendData() {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid()) {\n      return [];\n    }\n    const { yKey, yName, title, marker, visible } = this.properties;\n    const { shape, fill, stroke, fillOpacity, strokeOpacity, strokeWidth } = marker;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = title != null ? title : yName) != null ? _b : yKey\n        },\n        marker: {\n          shape,\n          fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n          stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n          fillOpacity: fillOpacity != null ? fillOpacity : 1,\n          strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n          strokeWidth: strokeWidth != null ? strokeWidth : 0\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ markerSelection, labelSelection }) {\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  computeFocusBounds({ datumIndex }) {\n    var _a;\n    return computeMarkerFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup);\n  }\n};\nBubbleSeries.className = \"BubbleSeries\";\nBubbleSeries.type = \"bubble\";\nvar BubbleSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bubble\",\n  instanceConstructor: BubbleSeries,\n  defaultAxes: [\n    {\n      type: \"number\",\n      position: \"bottom\"\n      /* BOTTOM */\n    },\n    {\n      type: \"number\",\n      position: \"left\"\n      /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        maxSize: 30,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\nvar HistogramSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.areaPlot = false;\n    this.aggregation = \"sum\";\n    this.shadow = new DropShadow();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], HistogramSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"xName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"yName\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], HistogramSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], HistogramSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(LINE_DASH)\n], HistogramSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], HistogramSeriesProperties.prototype, \"areaPlot\", 2);\n__decorateClass2([\n  Validate(ARRAY, { optional: true })\n], HistogramSeriesProperties.prototype, \"bins\", 2);\n__decorateClass2([\n  Validate(UNION([\"count\", \"sum\", \"mean\"], \"a histogram aggregation\"))\n], HistogramSeriesProperties.prototype, \"aggregation\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], HistogramSeriesProperties.prototype, \"binCount\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"label\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"tooltip\", 2);\nvar defaultBinCount = 10;\nvar HistogramSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      datumSelectionGarbageCollection: false,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new HistogramSeriesProperties();\n    this.calculatedBins = [];\n  }\n  // During processData phase, used to unify different ways of the user specifying\n  // the bins. Returns bins in format[[min1, max1], [min2, max2], ... ].\n  deriveBins(xDomain) {\n    const binStarts = ticks_default(xDomain[0], xDomain[1], defaultBinCount);\n    const binSize = tickStep(xDomain[0], xDomain[1], defaultBinCount);\n    const [firstBinEnd] = binStarts;\n    const expandStartToBin = (n) => [n, n + binSize];\n    return [[firstBinEnd - binSize, firstBinEnd], ...binStarts.map(expandStartToBin)];\n  }\n  calculateNiceBins(domain, binCount) {\n    const startGuess = Math.floor(domain[0]);\n    const stop = domain[1];\n    const segments = binCount || 1;\n    const { start, binSize } = this.calculateNiceStart(startGuess, stop, segments);\n    return this.getBins(start, stop, binSize, segments);\n  }\n  getBins(start, stop, step, count) {\n    const bins = [];\n    const precision = this.calculatePrecision(step);\n    for (let i = 0; i < count; i++) {\n      const a = Math.round((start + i * step) * precision) / precision;\n      let b = Math.round((start + (i + 1) * step) * precision) / precision;\n      if (i === count - 1) {\n        b = Math.max(b, stop);\n      }\n      bins[i] = [a, b];\n    }\n    return bins;\n  }\n  calculatePrecision(step) {\n    let precision = 10;\n    if (isFinite(step) && step > 0) {\n      while (step < 1) {\n        precision *= 10;\n        step *= 10;\n      }\n    }\n    return precision;\n  }\n  calculateNiceStart(a, b, segments) {\n    const binSize = Math.abs(b - a) / segments;\n    const order = Math.floor(Math.log10(binSize));\n    const magnitude = Math.pow(10, order);\n    const start = Math.floor(a / magnitude) * magnitude;\n    return {\n      start,\n      binSize\n    };\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.visible)\n        return;\n      const { xKey, yKey, areaPlot, aggregation } = this.properties;\n      const xScale = (_a = this.axes[\n        \"x\"\n        /* X */\n      ]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\n        \"y\"\n        /* Y */\n      ]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ yScale, xScale });\n      const props = [keyProperty(xKey, xScaleType), SORT_DOMAIN_GROUPS];\n      if (yKey) {\n        let aggProp = groupCount(\"groupAgg\");\n        if (aggregation === \"count\") {\n        } else if (aggregation === \"sum\") {\n          aggProp = groupSum(\"groupAgg\");\n        } else if (aggregation === \"mean\") {\n          aggProp = groupAverage(\"groupAgg\");\n        }\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(valueProperty(yKey, yScaleType, { invalidValue: void 0 }), aggProp);\n      } else {\n        let aggProp = groupCount(\"groupAgg\");\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(aggProp);\n      }\n      const groupByFn = (dataSet) => {\n        var _a2;\n        const xExtent = fixNumericExtent(dataSet.domain.keys[0]);\n        if (xExtent.length === 0) {\n          dataSet.domain.groups = [];\n          return () => [];\n        }\n        const bins = isNumber(this.properties.binCount) ? this.calculateNiceBins(xExtent, this.properties.binCount) : (_a2 = this.properties.bins) != null ? _a2 : this.deriveBins(xExtent);\n        const binCount = bins.length;\n        this.calculatedBins = [...bins];\n        return (item) => {\n          const xValue = item.keys[0];\n          for (let i = 0; i < binCount; i++) {\n            const nextBin = bins[i];\n            if (xValue >= nextBin[0] && xValue < nextBin[1]) {\n              return nextBin;\n            }\n            if (i === binCount - 1 && xValue <= nextBin[1]) {\n              return nextBin;\n            }\n          }\n          return [];\n        };\n      };\n      if (!this.ctx.animationManager.isSkipped() && this.processedData) {\n        props.push(diff(this.processedData, false));\n      }\n      yield this.requestDataModel(dataController, this.data, { props, groupByFn });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a, _b, _c, _d;\n    const { processedData, dataModel } = this;\n    if (!processedData || !dataModel || !this.calculatedBins.length)\n      return [];\n    const yDomain = dataModel.getDomain(this, `groupAgg`, \"aggregate\", processedData);\n    const xDomainMin = (_a = this.calculatedBins) == null ? void 0 : _a[0][0];\n    const xDomainMax = (_d = this.calculatedBins) == null ? void 0 : _d[((_c = (_b = this.calculatedBins) == null ? void 0 : _b.length) != null ? _c : 0) - 1][1];\n    if (direction === \"x\") {\n      return fixNumericExtent([xDomainMin, xDomainMax]);\n    }\n    return fixNumericExtent(yDomain);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        id: seriesId,\n        axes,\n        processedData,\n        ctx: { callbackCache }\n      } = this;\n      const xAxis = axes[\n        \"x\"\n        /* X */\n      ];\n      const yAxis = axes[\n        \"y\"\n        /* Y */\n      ];\n      if (!this.visible || !xAxis || !yAxis || !processedData || processedData.type !== \"grouped\") {\n        return;\n      }\n      const { scale: xScale } = xAxis;\n      const { scale: yScale } = yAxis;\n      const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, cornerRadius } = this.properties;\n      const {\n        formatter: labelFormatter = (params) => String(params.value),\n        fontStyle: labelFontStyle,\n        fontWeight: labelFontWeight,\n        fontSize: labelFontSize,\n        fontFamily: labelFontFamily,\n        color: labelColor\n      } = this.properties.label;\n      const nodeData = [];\n      processedData.data.forEach((group2) => {\n        var _a2;\n        const {\n          aggValues: [[negativeAgg, positiveAgg]] = [[0, 0]],\n          datum,\n          datum: { length: frequency },\n          keys: domain,\n          keys: [xDomainMin, xDomainMax]\n        } = group2;\n        const xMinPx = xScale.convert(xDomainMin);\n        const xMaxPx = xScale.convert(xDomainMax);\n        const total = negativeAgg + positiveAgg;\n        const yZeroPx = yScale.convert(0);\n        const yMaxPx = yScale.convert(total);\n        const w = Math.abs(xMaxPx - xMinPx);\n        const h = Math.abs(yMaxPx - yZeroPx);\n        const x = Math.min(xMinPx, xMaxPx);\n        const y = Math.min(yZeroPx, yMaxPx);\n        let selectionDatumLabel = void 0;\n        if (total !== 0) {\n          selectionDatumLabel = {\n            text: (_a2 = callbackCache.call(labelFormatter, {\n              value: total,\n              datum,\n              seriesId,\n              xKey,\n              yKey,\n              xName,\n              yName\n            })) != null ? _a2 : String(total),\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            fill: labelColor,\n            x: x + w / 2,\n            y: y + h / 2\n          };\n        }\n        const nodeMidPoint = {\n          x: x + w / 2,\n          y: y + h / 2\n        };\n        const yAxisReversed = yAxis.isReversed();\n        nodeData.push({\n          series: this,\n          datum,\n          // required by SeriesNodeDatum, but might not make sense here\n          // since each selection is an aggregation of multiple data.\n          aggregatedValue: total,\n          frequency,\n          domain,\n          yKey,\n          xKey,\n          x,\n          y,\n          xValue: xMinPx,\n          yValue: yMaxPx,\n          width: w,\n          height: h,\n          midPoint: nodeMidPoint,\n          fill,\n          stroke,\n          cornerRadius,\n          topLeftCornerRadius: !yAxisReversed,\n          topRightCornerRadius: !yAxisReversed,\n          bottomRightCornerRadius: yAxisReversed,\n          bottomLeftCornerRadius: yAxisReversed,\n          opacity: 1,\n          strokeWidth,\n          label: selectionDatumLabel\n        });\n      });\n      return {\n        itemId: (_a = this.properties.yKey) != null ? _a : this.id,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        animationValid: true,\n        visible: this.visible\n      };\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, datumSelection } = opts;\n      return datumSelection.update(\n        nodeData,\n        (rect) => {\n          rect.tag = 0;\n          rect.crisp = true;\n        },\n        (datum) => datum.domain.join(\"_\")\n      );\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      const { isHighlight: isDatumHighlighted } = opts;\n      const {\n        fillOpacity: seriesFillOpacity,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        shadow,\n        highlightStyle: {\n          item: {\n            fill: highlightedFill,\n            fillOpacity: highlightFillOpacity = seriesFillOpacity,\n            stroke: highlightedStroke,\n            strokeWidth: highlightedDatumStrokeWidth\n          }\n        }\n      } = this.properties;\n      opts.datumSelection.each((rect, datum, index) => {\n        var _a, _b;\n        const {\n          cornerRadius,\n          topLeftCornerRadius,\n          topRightCornerRadius,\n          bottomRightCornerRadius,\n          bottomLeftCornerRadius\n        } = datum;\n        const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== void 0 ? highlightedDatumStrokeWidth : datum.strokeWidth;\n        const fillOpacity = isDatumHighlighted ? highlightFillOpacity : seriesFillOpacity;\n        rect.fill = (_a = isDatumHighlighted ? highlightedFill : void 0) != null ? _a : datum.fill;\n        rect.stroke = (_b = isDatumHighlighted ? highlightedStroke : void 0) != null ? _b : datum.stroke;\n        rect.fillOpacity = fillOpacity;\n        rect.strokeOpacity = strokeOpacity;\n        rect.strokeWidth = strokeWidth;\n        rect.lineDash = lineDash;\n        rect.lineDashOffset = lineDashOffset;\n        rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n        rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n        rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n        rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n        rect.fillShadow = shadow;\n        rect.zIndex = isDatumHighlighted ? Series.highlightedZIndex : index;\n        rect.visible = datum.height > 0;\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const { labelData, labelSelection } = opts;\n      return labelSelection.update(labelData, (text) => {\n        text.tag = 1;\n        text.pointerEvents = 1;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const labelEnabled = this.isLabelEnabled();\n      opts.labelSelection.each((text, datum) => {\n        const label = datum.label;\n        if (label && labelEnabled) {\n          text.text = label.text;\n          text.x = label.x;\n          text.y = label.y;\n          text.fontStyle = label.fontStyle;\n          text.fontWeight = label.fontWeight;\n          text.fontSize = label.fontSize;\n          text.fontFamily = label.fontFamily;\n          text.fill = label.fill;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, childrenIter(this.contentGroup.children[0]));\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = this.axes[\n      \"y\"\n      /* Y */\n    ];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, fill: color, aggregation, tooltip } = this.properties;\n    const {\n      aggregatedValue,\n      frequency,\n      domain: [rangeMin, rangeMax],\n      itemId\n    } = nodeDatum;\n    const title = `${sanitizeHtml(xName != null ? xName : xKey)}: ${xAxis.formatDatum(rangeMin)} - ${xAxis.formatDatum(rangeMax)}`;\n    let content = yKey ? `<b>${sanitizeHtml(yName != null ? yName : yKey)} (${aggregation})</b>: ${yAxis.formatDatum(aggregatedValue)}<br>` : \"\";\n    content += `<b>Frequency</b>: ${frequency}`;\n    const defaults = {\n      title,\n      backgroundColor: color,\n      content\n    };\n    return tooltip.toTooltipHtml(defaults, {\n      datum: {\n        data: nodeDatum.datum,\n        aggregatedValue: nodeDatum.aggregatedValue,\n        domain: nodeDatum.domain,\n        frequency: nodeDatum.frequency\n      },\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      color,\n      title,\n      seriesId: this.id\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || legendType !== \"category\") {\n      return [];\n    }\n    const { xKey, yName, fill, fillOpacity, stroke, strokeWidth, strokeOpacity, visible } = this.properties;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: xKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = yName != null ? yName : xKey) != null ? _b : \"Frequency\"\n        },\n        marker: {\n          fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n          stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n          fillOpacity,\n          strokeOpacity,\n          strokeWidth\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ datumSelection, labelSelection }) {\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(this.id, \"datums\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b;\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(\n      this.id,\n      \"datums\",\n      this.ctx.animationManager,\n      [data.datumSelection],\n      fns,\n      (_, datum) => createDatumId(datum.domain),\n      dataDiff\n    );\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, data.labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds({ datumIndex, seriesRect }) {\n    var _a;\n    return computeBarFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup, seriesRect);\n  }\n};\nHistogramSeries.className = \"HistogramSeries\";\nHistogramSeries.type = \"histogram\";\nvar HistogramSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"histogram\",\n  instanceConstructor: HistogramSeries,\n  defaultAxes: [\n    {\n      type: \"number\",\n      position: \"bottom\"\n      /* BOTTOM */\n    },\n    {\n      type: \"number\",\n      position: \"left\"\n      /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      strokeWidth: 1,\n      fillOpacity: 1,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  paletteFactory: ({ takeColors }) => {\n    const {\n      fills: [fill],\n      strokes: [stroke]\n    } = takeColors(1);\n    return { fill, stroke };\n  }\n};\nvar LineSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], LineSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass2([\n  Validate(STRING)\n], LineSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"xName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"yName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"title\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING)\n], LineSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], LineSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], LineSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(LINE_DASH)\n], LineSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], LineSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"marker\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"label\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], LineSeriesProperties.prototype, \"connectMissingData\", 2);\nvar LineSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      hasMarkers: true,\n      pickModes: [\n        2,\n        3,\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        path: buildResetPathFn({ getOpacity: () => this.getOpacity() }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues2(__spreadValues2({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new LineSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.properties.isValid() || this.data == null) {\n        return;\n      }\n      const { xKey, yKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\n        \"x\"\n        /* X */\n      ]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\n        \"y\"\n        /* Y */\n      ]) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const props = [];\n      if (!isContinuousX) {\n        props.push(keyProperty(xKey, xScaleType, { id: \"xKey\" }));\n      }\n      if (animationEnabled) {\n        props.push(animationValidation(isContinuousX ? [\"xValue\"] : void 0));\n        if (this.processedData) {\n          props.push(diff(this.processedData));\n        }\n      }\n      props.push(\n        valueProperty(xKey, xScaleType, { id: \"xValue\" }),\n        valueProperty(yKey, yScaleType, { id: \"yValue\", invalidValue: void 0 })\n      );\n      yield this.requestDataModel(dataController, this.data, { props });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { axes, dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const xAxis = axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = axes[\n      \"y\"\n      /* Y */\n    ];\n    const xDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    if (direction === \"x\") {\n      const domain = dataModel.getDomain(this, `xValue`, \"value\", processedData);\n      if ((xDef == null ? void 0 : xDef.def.type) === \"value\" && xDef.def.valueType === \"category\") {\n        return domain;\n      }\n      return fixNumericExtent(extent(domain), xAxis);\n    } else {\n      const domain = dataModel.getDomain(this, `yValue`, \"value\", processedData);\n      return fixNumericExtent(domain, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { processedData, dataModel, axes } = this;\n      const xAxis = axes[\n        \"x\"\n        /* X */\n      ];\n      const yAxis = axes[\n        \"y\"\n        /* Y */\n      ];\n      if (!processedData || !dataModel || !xAxis || !yAxis) {\n        return;\n      }\n      const { xKey, yKey, xName, yName, marker, label, connectMissingData, legendItemName } = this.properties;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const size = marker.enabled ? marker.size : 0;\n      const xIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      let moveTo = true;\n      let nextPoint;\n      for (let i = 0; i < processedData.data.length; i++) {\n        const { datum, values } = nextPoint != null ? nextPoint : processedData.data[i];\n        const xDatum = values[xIdx];\n        const yDatum = values[yIdx];\n        if (yDatum === void 0) {\n          moveTo = !connectMissingData;\n        } else {\n          const x = xScale.convert(xDatum) + xOffset;\n          if (isNaN(x)) {\n            moveTo = !connectMissingData;\n            nextPoint = void 0;\n            continue;\n          }\n          nextPoint = ((_c = processedData.data[i + 1]) == null ? void 0 : _c.values[yIdx]) === void 0 ? void 0 : processedData.data[i + 1];\n          const y = yScale.convert(yDatum) + yOffset;\n          const labelText = this.getLabelText(\n            label,\n            { value: yDatum, datum, xKey, yKey, xName, yName, legendItemName },\n            (value) => isFiniteNumber(value) ? value.toFixed(2) : String(value)\n          );\n          nodeData.push({\n            series: this,\n            datum,\n            yKey,\n            xKey,\n            point: { x, y, moveTo, size },\n            midPoint: { x, y },\n            yValue: yDatum,\n            xValue: xDatum,\n            capDefaults: { lengthRatioMultiplier: this.properties.marker.getDiameter(), lengthMax: Infinity },\n            label: labelText ? {\n              text: labelText,\n              fontStyle: label.fontStyle,\n              fontWeight: label.fontWeight,\n              fontSize: label.fontSize,\n              fontFamily: label.fontFamily,\n              textAlign: \"center\",\n              textBaseline: \"bottom\",\n              fill: label.color\n            } : void 0\n          });\n          moveTo = false;\n        }\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        paths: [lineNode],\n        opacity,\n        visible,\n        animationEnabled\n      } = opts;\n      lineNode.setProperties({\n        fill: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1,\n        opacity,\n        stroke: this.properties.stroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset\n      });\n      if (!animationEnabled) {\n        lineNode.visible = visible;\n      }\n      updateClipPath(this, lineNode);\n    });\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      let { nodeData } = opts;\n      const { markerSelection } = opts;\n      const { shape, enabled } = this.properties.marker;\n      nodeData = shape && enabled ? nodeData : [];\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(nodeData, void 0, (datum) => createDatumId(datum.xValue));\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, stroke, strokeWidth, strokeOpacity, marker, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        stroke,\n        strokeWidth,\n        strokeOpacity\n      });\n      const applyTranslation = this.ctx.animationManager.isSkipped();\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey }, baseStyle, { applyTranslation });\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.labelSelection.update(this.isLabelEnabled() ? opts.labelData : []);\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { enabled, fontStyle, fontWeight, fontSize, fontFamily, color } = this.properties.label;\n      opts.labelSelection.each((text, datum) => {\n        const { point, label } = datum;\n        if (datum && label && enabled) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = point.x;\n          text.y = point.y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = this.axes[\n      \"y\"\n      /* Y */\n    ];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, strokeWidth, marker, tooltip } = this.properties;\n    const { datum, xValue, yValue, itemId } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml((_a = this.properties.title) != null ? _a : yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({ fill: marker.stroke }, marker.getStyle(), { strokeWidth });\n    const { fill: color } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, xKey, yKey, highlighted: false },\n      baseStyle\n    );\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues2({\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        title,\n        color,\n        seriesId: this.id\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    if (!(((_a = this.data) == null ? void 0 : _a.length) && this.properties.isValid() && legendType === \"category\")) {\n      return [];\n    }\n    const { yKey, yName, stroke, strokeOpacity, strokeWidth, lineDash, title, marker, visible, legendItemName } = this.properties;\n    const color0 = \"rgba(0, 0, 0, 0)\";\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        legendItemName,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_c = (_b = legendItemName != null ? legendItemName : title) != null ? _b : yName) != null ? _c : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: (_d = marker.fill) != null ? _d : color0,\n          stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : color0,\n          fillOpacity: (_g = marker.fillOpacity) != null ? _g : 1,\n          strokeOpacity: (_i = (_h = marker.strokeOpacity) != null ? _h : strokeOpacity) != null ? _i : 1,\n          strokeWidth: (_j = marker.strokeWidth) != null ? _j : 0,\n          enabled: marker.enabled\n        },\n        line: {\n          stroke: stroke != null ? stroke : color0,\n          strokeOpacity,\n          strokeWidth,\n          lineDash\n        }\n      }\n    ];\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateLinePaths(opts.paths, opts.contextData);\n    });\n  }\n  updateLinePaths(paths, contextData) {\n    const { nodeData } = contextData;\n    const [lineNode] = paths;\n    const { path: linePath } = lineNode;\n    linePath.clear(true);\n    for (const data of nodeData) {\n      if (data.point.moveTo) {\n        linePath.moveTo(data.point.x, data.point.y);\n      } else {\n        linePath.lineTo(data.point.x, data.point.y);\n      }\n    }\n    lineNode.checkPathDirty();\n  }\n  animateEmptyUpdateReady(animationData) {\n    const { markerSelection, labelSelection, annotationSelections, contextData, paths } = animationData;\n    const { animationManager } = this.ctx;\n    this.updateLinePaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n  }\n  animateReadyResize(animationData) {\n    const { contextData, paths } = animationData;\n    this.updateLinePaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const { animationManager } = this.ctx;\n    const {\n      markerSelection: markerSelections,\n      labelSelection: labelSelections,\n      annotationSelections,\n      contextData,\n      paths,\n      previousContextData\n    } = animationData;\n    const [path] = paths;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateLinePaths(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelections);\n      pathFadeInAnimation(this, \"path_properties\", animationManager, \"add\", path);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n      return;\n    }\n    const fns = prepareLinePathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelections);\n    fromToMotion(this.id, \"path_properties\", animationManager, [path], fns.pathProperties);\n    pathMotion(this.id, \"path_update\", animationManager, [path], fns.path);\n    if (fns.hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  getBandScalePadding() {\n    return { inner: 1, outer: 0.1 };\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  computeFocusBounds({ datumIndex }) {\n    var _a;\n    return computeMarkerFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup);\n  }\n};\nLineSeries.className = \"LineSeries\";\nLineSeries.type = \"line\";\nvar LineSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"line\",\n  instanceConstructor: LineSeries,\n  defaultAxes: [\n    {\n      type: \"number\",\n      position: \"left\"\n      /* LEFT */\n    },\n    {\n      type: \"category\",\n      position: \"bottom\"\n      /* BOTTOM */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      strokeWidth: 2,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: (params) => {\n    const { marker } = markerPaletteFactory(params);\n    return { stroke: marker.fill, marker };\n  }\n};\nvar ScatterSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass2([\n  Validate(LABEL_PLACEMENT)\n], ScatterSeriesLabel.prototype, \"placement\", 2);\nvar ScatterSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new SeriesMarker();\n    this.label = new ScatterSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], ScatterSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass2([\n  Validate(STRING)\n], ScatterSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"xName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"yName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass2([\n  Validate(NUMBER_ARRAY, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY)\n], ScatterSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"title\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"marker\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"label\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"tooltip\", 2);\nvar ScatterSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [\n        2,\n        3,\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        marker: resetMarkerFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new ScatterSeriesProperties();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || this.data == null || !this.visible)\n        return;\n      const xScale = (_a = this.axes[\n        \"x\"\n        /* X */\n      ]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\n        \"y\"\n        /* Y */\n      ]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const colorScaleType = this.colorScale.type;\n      const { xKey, yKey, labelKey, colorKey, colorDomain, colorRange } = this.properties;\n      const { dataModel, processedData } = yield this.requestDataModel(dataController, this.data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xKey-raw\" }),\n          keyProperty(yKey, yScaleType, { id: \"yKey-raw\" }),\n          ...labelKey ? [keyProperty(labelKey, \"band\", { id: `labelKey-raw` })] : [],\n          valueProperty(xKey, xScaleType, { id: `xValue` }),\n          valueProperty(yKey, yScaleType, { id: `yValue` }),\n          ...colorKey ? [valueProperty(colorKey, colorScaleType, { id: `colorValue` })] : [],\n          ...labelKey ? [valueProperty(labelKey, \"band\", { id: `labelValue` })] : []\n        ]\n      });\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, `colorValue`);\n        this.colorScale.domain = (_c = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _c : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const id = direction === \"x\" ? `xValue` : `yValue`;\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { axes, dataModel, processedData, colorScale } = this;\n      const { xKey, yKey, labelKey, colorKey, xName, yName, labelName, marker, label, visible } = this.properties;\n      const { placement } = label;\n      const markerShape = getMarker(marker.shape);\n      const xAxis = axes[\n        \"x\"\n        /* X */\n      ];\n      const yAxis = axes[\n        \"y\"\n        /* Y */\n      ];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, `colorValue`) : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, `labelValue`) : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const font = label.getFont();\n      for (const { values, datum } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          labelKey,\n          xName,\n          yName,\n          labelName\n        });\n        const size = Text.getTextSize(labelText, font);\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          capDefaults: { lengthRatioMultiplier: marker.getDiameter(), lengthMax: Infinity },\n          point: { x, y, size: marker.size },\n          midPoint: { x, y },\n          fill,\n          label: __spreadValues2({ text: labelText }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, labelKey, marker, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle());\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey, labelKey }, baseStyle);\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.isLabelEnabled() ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(\n        placedLabels.map(({ datum, x, y }) => __spreadProps(__spreadValues2({}, datum), {\n          point: { x, y, size: datum.point.size },\n          placement: \"top\"\n        })),\n        (text) => {\n          text.pointerEvents = 1;\n        }\n      );\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { label } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\n      \"x\"\n      /* X */\n    ];\n    const yAxis = this.axes[\n      \"y\"\n      /* Y */\n    ];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, labelKey, xName, yName, labelName, title = yName, marker, tooltip } = this.properties;\n    const { datum, xValue, yValue, label, itemId } = nodeDatum;\n    const baseStyle = mergeDefaults(\n      { fill: nodeDatum.fill, strokeWidth: this.getStrokeWidth(marker.strokeWidth) },\n      marker.getStyle()\n    );\n    const { fill: color = \"gray\" } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, highlighted: false, xKey, yKey, labelKey },\n      baseStyle\n    );\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = `<b>${sanitizeHtml(xName != null ? xName : xKey)}</b>: ${xString}<br><b>${sanitizeHtml(yName != null ? yName : yKey)}</b>: ${yString}`;\n    if (labelKey) {\n      content = `<b>${sanitizeHtml(labelName != null ? labelName : labelKey)}</b>: ${sanitizeHtml(label.text)}<br>` + content;\n    }\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues2({\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        labelKey,\n        labelName,\n        title,\n        color,\n        seriesId: this.id\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f;\n    const { yKey, yName, title, marker, visible } = this.properties;\n    const { fill, stroke, fillOpacity, strokeOpacity, strokeWidth } = marker;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = title != null ? title : yName) != null ? _b : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: (_d = (_c = marker.fill) != null ? _c : fill) != null ? _d : \"rgba(0, 0, 0, 0)\",\n          stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : \"rgba(0, 0, 0, 0)\",\n          fillOpacity: fillOpacity != null ? fillOpacity : 1,\n          strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n          strokeWidth: strokeWidth != null ? strokeWidth : 0\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady(data) {\n    const { markerSelection, labelSelection, annotationSelections } = data;\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  computeFocusBounds({ datumIndex }) {\n    var _a;\n    return computeMarkerFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup);\n  }\n};\nScatterSeries.className = \"ScatterSeries\";\nScatterSeries.type = \"scatter\";\nvar ScatterSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"scatter\",\n  instanceConstructor: ScatterSeries,\n  defaultAxes: [\n    {\n      type: \"number\",\n      position: \"bottom\"\n      /* BOTTOM */\n    },\n    {\n      type: \"number\",\n      position: \"left\"\n      /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\nvar SectorBox = class _SectorBox {\n  constructor(startAngle, endAngle, innerRadius, outerRadius) {\n    this.startAngle = startAngle;\n    this.endAngle = endAngle;\n    this.innerRadius = innerRadius;\n    this.outerRadius = outerRadius;\n  }\n  clone() {\n    const { startAngle, endAngle, innerRadius, outerRadius } = this;\n    return new _SectorBox(startAngle, endAngle, innerRadius, outerRadius);\n  }\n  [interpolate](other, d) {\n    return new _SectorBox(\n      this.startAngle * (1 - d) + other.startAngle * d,\n      this.endAngle * (1 - d) + other.endAngle * d,\n      this.innerRadius * (1 - d) + other.innerRadius * d,\n      this.outerRadius * (1 - d) + other.outerRadius * d\n    );\n  }\n};\nfunction isPointInSector(x, y, sector) {\n  const radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n  const { innerRadius, outerRadius } = sector;\n  if (sector.startAngle === sector.endAngle || radius < Math.min(innerRadius, outerRadius) || radius > Math.max(innerRadius, outerRadius)) {\n    return false;\n  }\n  const startAngle = normalizeAngle180(sector.startAngle);\n  const endAngle = normalizeAngle180(sector.endAngle);\n  const angle = Math.atan2(y, x);\n  return startAngle < endAngle ? angle <= endAngle && angle >= startAngle : angle <= endAngle && angle >= -Math.PI || angle >= startAngle && angle <= Math.PI;\n}\nfunction lineCollidesSector(line, sector) {\n  const { startAngle, endAngle, innerRadius, outerRadius } = sector;\n  const outerStart = { x: outerRadius * Math.cos(startAngle), y: outerRadius * Math.sin(startAngle) };\n  const outerEnd = { x: outerRadius * Math.cos(endAngle), y: outerRadius * Math.sin(endAngle) };\n  const innerStart = innerRadius === 0 ? { x: 0, y: 0 } : { x: innerRadius * Math.cos(startAngle), y: innerRadius * Math.sin(startAngle) };\n  const innerEnd = innerRadius === 0 ? { x: 0, y: 0 } : { x: innerRadius * Math.cos(endAngle), y: innerRadius * Math.sin(endAngle) };\n  return segmentIntersection(\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y,\n    outerStart.x,\n    outerStart.y,\n    innerStart.x,\n    innerStart.y\n  ) || segmentIntersection(\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y,\n    outerEnd.x,\n    outerEnd.y,\n    innerEnd.x,\n    innerEnd.y\n  ) || arcIntersections(\n    0,\n    0,\n    outerRadius,\n    startAngle,\n    endAngle,\n    true,\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y\n  );\n}\nfunction boxCollidesSector(box, sector) {\n  const topLeft = { x: box.x, y: box.y };\n  const topRight = { x: box.x + box.width, y: box.y };\n  const bottomLeft = { x: box.x, y: box.y + box.height };\n  const bottomRight = { x: box.x + box.width, y: box.y + box.height };\n  return lineCollidesSector({ start: topLeft, end: topRight }, sector) || lineCollidesSector({ start: bottomLeft, end: bottomRight }, sector);\n}\nfunction radiiScalingFactor(r, sweep, a, b) {\n  if (a === 0 && b === 0)\n    return 0;\n  const fs1 = Math.asin(Math.abs(1 * a) / (r + 1 * a)) + Math.asin(Math.abs(1 * b) / (r + 1 * b)) - sweep;\n  if (fs1 < 0)\n    return 1;\n  let start = 0;\n  let end = 1;\n  for (let i = 0; i < 8; i += 1) {\n    const s = (start + end) / 2;\n    const fs = Math.asin(Math.abs(s * a) / (r + s * a)) + Math.asin(Math.abs(s * b) / (r + s * b)) - sweep;\n    if (fs < 0) {\n      start = s;\n    } else {\n      end = s;\n    }\n  }\n  return start;\n}\nvar delta = 1e-6;\nfunction clockwiseAngle(angle, relativeToStartAngle) {\n  if (angleBetween(angle, relativeToStartAngle) < delta) {\n    return relativeToStartAngle;\n  } else {\n    return normalizeAngle360(angle - relativeToStartAngle) + relativeToStartAngle;\n  }\n}\nfunction clockwiseAngles(startAngle, endAngle, relativeToStartAngle = 0) {\n  const fullPie = Math.abs(endAngle - startAngle) >= 2 * Math.PI;\n  const sweepAngle = fullPie ? 2 * Math.PI : normalizeAngle360(endAngle - startAngle);\n  startAngle = clockwiseAngle(startAngle, relativeToStartAngle);\n  endAngle = startAngle + sweepAngle;\n  return { startAngle, endAngle };\n}\nfunction arcRadialLineIntersectionAngle(cx, cy, r, startAngle, endAngle, clipAngle) {\n  const sinA = Math.sin(clipAngle);\n  const cosA = Math.cos(clipAngle);\n  const c = __pow(cx, 2) + __pow(cy, 2) - __pow(r, 2);\n  let p0x = NaN;\n  let p0y = NaN;\n  let p1x = NaN;\n  let p1y = NaN;\n  if (cosA > 0.5) {\n    const tanA = sinA / cosA;\n    const a = 1 + __pow(tanA, 2);\n    const b = -2 * (cx + cy * tanA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0)\n      return;\n    const x0 = (-b + Math.sqrt(d)) / (2 * a);\n    const x1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = x0;\n    p0y = x0 * tanA;\n    p1x = x1;\n    p1y = x1 * tanA;\n  } else {\n    const cotA = cosA / sinA;\n    const a = 1 + __pow(cotA, 2);\n    const b = -2 * (cy + cx * cotA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0)\n      return;\n    const y0 = (-b + Math.sqrt(d)) / (2 * a);\n    const y1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = y0 * cotA;\n    p0y = y0;\n    p1x = y1 * cotA;\n    p1y = y1;\n  }\n  const normalisedX = cosA;\n  const normalisedY = sinA;\n  const p0DotNormalized = p0x * normalisedX + p0y * normalisedY;\n  const p1DotNormalized = p1x * normalisedX + p1y * normalisedY;\n  const a0 = p0DotNormalized > 0 ? clockwiseAngle(Math.atan2(p0y - cy, p0x - cx), startAngle) : NaN;\n  const a1 = p1DotNormalized > 0 ? clockwiseAngle(Math.atan2(p1y - cy, p1x - cx), startAngle) : NaN;\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\nfunction arcCircleIntersectionAngle(cx, cy, r, startAngle, endAngle, circleR) {\n  const d = Math.hypot(cx, cy);\n  const d1 = (__pow(d, 2) - __pow(r, 2) + __pow(circleR, 2)) / (2 * d);\n  const d2 = d - d1;\n  const theta = Math.atan2(cy, cx);\n  const deltaTheta = Math.acos(-d2 / r);\n  const a0 = clockwiseAngle(theta + deltaTheta, startAngle);\n  const a1 = clockwiseAngle(theta - deltaTheta, startAngle);\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\nvar Arc = class {\n  constructor(cx, cy, r, a0, a1) {\n    this.cx = cx;\n    this.cy = cy;\n    this.r = r;\n    this.a0 = a0;\n    this.a1 = a1;\n    if (this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  isValid() {\n    return Number.isFinite(this.a0) && Number.isFinite(this.a1);\n  }\n  pointAt(a) {\n    return {\n      x: this.cx + this.r * Math.cos(a),\n      y: this.cy + this.r * Math.sin(a)\n    };\n  }\n  clipStart(a) {\n    if (a == null || !this.isValid() || a < this.a0)\n      return;\n    this.a0 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  clipEnd(a) {\n    if (a == null || !this.isValid() || a > this.a1)\n      return;\n    this.a1 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n};\nvar Sector = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.centerX = 0;\n    this.centerY = 0;\n    this.innerRadius = 10;\n    this.outerRadius = 20;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.clipSector = void 0;\n    this.concentricEdgeInset = 0;\n    this.radialEdgeInset = 0;\n    this.startOuterCornerRadius = 0;\n    this.endOuterCornerRadius = 0;\n    this.startInnerCornerRadius = 0;\n    this.endInnerCornerRadius = 0;\n  }\n  set inset(value) {\n    this.concentricEdgeInset = value;\n    this.radialEdgeInset = value;\n  }\n  set cornerRadius(value) {\n    this.startOuterCornerRadius = value;\n    this.endOuterCornerRadius = value;\n    this.startInnerCornerRadius = value;\n    this.endInnerCornerRadius = value;\n  }\n  computeBBox() {\n    const radius = this.outerRadius;\n    return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n  }\n  normalizedRadii() {\n    const { concentricEdgeInset } = this;\n    return {\n      innerRadius: Math.max(Math.min(this.innerRadius, this.outerRadius) + concentricEdgeInset, 0),\n      outerRadius: Math.max(Math.max(this.innerRadius, this.outerRadius) - concentricEdgeInset, 0)\n    };\n  }\n  normalizedClipSector() {\n    const { clipSector } = this;\n    if (clipSector == null)\n      return;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipAngles = clockwiseAngles(clipSector.startAngle, clipSector.endAngle, startAngle);\n    return new SectorBox(\n      Math.max(startAngle, clipAngles.startAngle),\n      Math.min(endAngle, clipAngles.endAngle),\n      Math.max(innerRadius, clipSector.innerRadius),\n      Math.min(outerRadius, clipSector.outerRadius)\n    );\n  }\n  getAngleOffset(radius) {\n    return radius > 0 ? this.radialEdgeInset / radius : 0;\n  }\n  arc(r, angleSweep, a0, a1, outerArc, innerArc, start, inner) {\n    if (r <= 0)\n      return;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    if (inner && innerRadius <= 0)\n      return;\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const angleOffset = inner ? this.getAngleOffset(innerRadius + r) : this.getAngleOffset(outerRadius - r);\n    const angle = start ? startAngle + angleOffset + angleSweep : endAngle - angleOffset - angleSweep;\n    const radius = inner ? innerRadius + r : outerRadius - r;\n    const cx = radius * Math.cos(angle);\n    const cy = radius * Math.sin(angle);\n    if (clipSector != null) {\n      const delta2 = 1e-6;\n      if (!start && !(angle >= startAngle - delta2 && angle <= clipSector.endAngle - delta2))\n        return;\n      if (start && !(angle >= clipSector.startAngle + delta2 && angle <= endAngle - delta2))\n        return;\n      if (inner && !(radius >= clipSector.innerRadius - delta2))\n        return;\n      if (!inner && !(radius <= clipSector.outerRadius + delta2))\n        return;\n    }\n    const arc = new Arc(cx, cy, r, a0, a1);\n    if (clipSector != null) {\n      if (inner) {\n        arc.clipStart(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - innerAngleOffset)\n        );\n        arc.clipEnd(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + innerAngleOffset)\n        );\n      } else {\n        arc.clipStart(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + outerAngleOffset)\n        );\n        arc.clipEnd(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - outerAngleOffset));\n      }\n      let circleClipStart;\n      let circleClipEnd;\n      if (start) {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n      } else {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n      }\n      arc.clipStart(circleClipStart);\n      arc.clipEnd(circleClipEnd);\n      if (circleClipStart != null) {\n        const { x: x2, y: y2 } = arc.pointAt(circleClipStart);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          innerArc == null ? void 0 : innerArc.clipStart(theta2);\n        } else {\n          outerArc.clipEnd(theta2);\n        }\n      }\n      if (circleClipEnd != null) {\n        const { x: x2, y: y2 } = arc.pointAt(circleClipEnd);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          outerArc.clipStart(theta2);\n        } else {\n          innerArc == null ? void 0 : innerArc.clipEnd(theta2);\n        }\n      }\n    }\n    if (clipSector != null) {\n      const { x: x2, y: y2 } = arc.pointAt((arc.a0 + arc.a1) / 2);\n      if (!isPointInSector(x2, y2, clipSector))\n        return;\n    }\n    const { x, y } = arc.pointAt(start === inner ? arc.a0 : arc.a1);\n    const theta = clockwiseAngle(Math.atan2(y, x), startAngle);\n    const radialArc = inner ? innerArc : outerArc;\n    if (start) {\n      radialArc == null ? void 0 : radialArc.clipStart(theta);\n    } else {\n      radialArc == null ? void 0 : radialArc.clipEnd(theta);\n    }\n    return arc;\n  }\n  updatePath() {\n    var _a, _b, _c, _d, _e;\n    const delta2 = 1e-6;\n    const { path, centerX, centerY, concentricEdgeInset, radialEdgeInset } = this;\n    let { startOuterCornerRadius, endOuterCornerRadius, startInnerCornerRadius, endInnerCornerRadius } = this;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    const sweepAngle = endAngle - startAngle;\n    const fullPie = sweepAngle >= 2 * Math.PI - delta2;\n    path.clear();\n    if (((_a = clipSector == null ? void 0 : clipSector.startAngle) != null ? _a : startAngle) === ((_b = clipSector == null ? void 0 : clipSector.endAngle) != null ? _b : endAngle)) {\n      return;\n    } else if (fullPie && this.clipSector == null && startOuterCornerRadius === 0 && endOuterCornerRadius === 0 && startInnerCornerRadius === 0 && endInnerCornerRadius === 0) {\n      path.moveTo(centerX + outerRadius * Math.cos(startAngle), centerY + outerRadius * Math.sin(startAngle));\n      path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n      if (innerRadius > concentricEdgeInset) {\n        path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n        path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n      }\n      path.closePath();\n      return;\n    }\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const outerAngleExceeded = sweepAngle < 2 * outerAngleOffset;\n    if (outerAngleExceeded)\n      return;\n    const hasInnerSweep = ((_c = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _c : innerRadius) > concentricEdgeInset;\n    const innerAngleExceeded = innerRadius < concentricEdgeInset || sweepAngle < 2 * innerAngleOffset;\n    const radialLength = outerRadius - innerRadius;\n    const maxRadialLength = Math.max(\n      startOuterCornerRadius,\n      startInnerCornerRadius,\n      endOuterCornerRadius,\n      endInnerCornerRadius\n    );\n    const initialScalingFactor = maxRadialLength > 0 ? Math.min(radialLength / maxRadialLength, 1) : 1;\n    startOuterCornerRadius *= initialScalingFactor;\n    endOuterCornerRadius *= initialScalingFactor;\n    startInnerCornerRadius *= initialScalingFactor;\n    endInnerCornerRadius *= initialScalingFactor;\n    const outerScalingFactor = radiiScalingFactor(\n      outerRadius,\n      sweepAngle - 2 * outerAngleOffset,\n      -startOuterCornerRadius,\n      -endOuterCornerRadius\n    );\n    startOuterCornerRadius *= outerScalingFactor;\n    endOuterCornerRadius *= outerScalingFactor;\n    if (!innerAngleExceeded && hasInnerSweep) {\n      const innerScalingFactor = radiiScalingFactor(\n        innerRadius,\n        sweepAngle - 2 * innerAngleOffset,\n        startInnerCornerRadius,\n        endInnerCornerRadius\n      );\n      startInnerCornerRadius *= innerScalingFactor;\n      endInnerCornerRadius *= innerScalingFactor;\n    } else {\n      startInnerCornerRadius = 0;\n      endInnerCornerRadius = 0;\n    }\n    const maxCombinedRadialLength = Math.max(\n      startOuterCornerRadius + startInnerCornerRadius,\n      endOuterCornerRadius + endInnerCornerRadius\n    );\n    const edgesScalingFactor = maxCombinedRadialLength > 0 ? Math.min(radialLength / maxCombinedRadialLength, 1) : 1;\n    startOuterCornerRadius *= edgesScalingFactor;\n    endOuterCornerRadius *= edgesScalingFactor;\n    startInnerCornerRadius *= edgesScalingFactor;\n    endInnerCornerRadius *= edgesScalingFactor;\n    let startOuterCornerRadiusAngleSweep = 0;\n    let endOuterCornerRadiusAngleSweep = 0;\n    const startOuterCornerRadiusSweep = startOuterCornerRadius / (outerRadius - startOuterCornerRadius);\n    const endOuterCornerRadiusSweep = endOuterCornerRadius / (outerRadius - endOuterCornerRadius);\n    if (startOuterCornerRadiusSweep >= 0 && startOuterCornerRadiusSweep < 1 - delta2) {\n      startOuterCornerRadiusAngleSweep = Math.asin(startOuterCornerRadiusSweep);\n    } else {\n      startOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxStartOuterCornerRadius = outerRadius / (1 / Math.sin(startOuterCornerRadiusAngleSweep) + 1);\n      startOuterCornerRadius = Math.min(maxStartOuterCornerRadius, startOuterCornerRadius);\n    }\n    if (endOuterCornerRadiusSweep >= 0 && endOuterCornerRadiusSweep < 1 - delta2) {\n      endOuterCornerRadiusAngleSweep = Math.asin(endOuterCornerRadiusSweep);\n    } else {\n      endOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxEndOuterCornerRadius = outerRadius / (1 / Math.sin(endOuterCornerRadiusAngleSweep) + 1);\n      endOuterCornerRadius = Math.min(maxEndOuterCornerRadius, endOuterCornerRadius);\n    }\n    const startInnerCornerRadiusAngleSweep = Math.asin(\n      startInnerCornerRadius / (innerRadius + startInnerCornerRadius)\n    );\n    const endInnerCornerRadiusAngleSweep = Math.asin(endInnerCornerRadius / (innerRadius + endInnerCornerRadius));\n    const outerArcRadius = (_d = clipSector == null ? void 0 : clipSector.outerRadius) != null ? _d : outerRadius;\n    const outerArcRadiusOffset = this.getAngleOffset(outerArcRadius);\n    const outerArc = new Arc(\n      0,\n      0,\n      outerArcRadius,\n      startAngle + outerArcRadiusOffset,\n      endAngle - outerArcRadiusOffset\n    );\n    const innerArcRadius = (_e = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _e : innerRadius;\n    const innerArcRadiusOffset = this.getAngleOffset(innerArcRadius);\n    const innerArc = hasInnerSweep ? new Arc(0, 0, innerArcRadius, startAngle + innerArcRadiusOffset, endAngle - innerArcRadiusOffset) : void 0;\n    if (clipSector != null) {\n      outerArc.clipStart(clipSector.startAngle);\n      outerArc.clipEnd(clipSector.endAngle);\n      innerArc == null ? void 0 : innerArc.clipStart(clipSector.startAngle);\n      innerArc == null ? void 0 : innerArc.clipEnd(clipSector.endAngle);\n    }\n    const startOuterArc = this.arc(\n      startOuterCornerRadius,\n      startOuterCornerRadiusAngleSweep,\n      startAngle - Math.PI * 0.5,\n      startAngle + startOuterCornerRadiusAngleSweep,\n      outerArc,\n      innerArc,\n      true,\n      false\n    );\n    const endOuterArc = this.arc(\n      endOuterCornerRadius,\n      endOuterCornerRadiusAngleSweep,\n      endAngle - endOuterCornerRadiusAngleSweep,\n      endAngle + Math.PI * 0.5,\n      outerArc,\n      innerArc,\n      false,\n      false\n    );\n    const endInnerArc = this.arc(\n      endInnerCornerRadius,\n      endInnerCornerRadiusAngleSweep,\n      endAngle + Math.PI * 0.5,\n      endAngle + Math.PI - endInnerCornerRadiusAngleSweep,\n      outerArc,\n      innerArc,\n      false,\n      true\n    );\n    const startInnerArc = this.arc(\n      startInnerCornerRadius,\n      startInnerCornerRadiusAngleSweep,\n      startAngle + Math.PI + startInnerCornerRadiusAngleSweep,\n      startAngle + Math.PI * 1.5,\n      outerArc,\n      innerArc,\n      true,\n      true\n    );\n    if (innerAngleExceeded) {\n      const x = sweepAngle < Math.PI * 0.5 ? radialEdgeInset * (1 + Math.cos(sweepAngle)) / Math.sin(sweepAngle) : NaN;\n      let r;\n      if (x > 0 && x < outerRadius) {\n        r = Math.max(Math.hypot(radialEdgeInset, x), innerRadius);\n      } else {\n        r = innerRadius;\n      }\n      const midAngle = startAngle + sweepAngle * 0.5;\n      path.moveTo(centerX + r * Math.cos(midAngle), centerY + r * Math.sin(midAngle));\n    } else if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n      const { x, y } = startInnerArc.pointAt(startInnerArc.a1);\n      path.moveTo(centerX + x, centerY + y);\n    } else if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n      const { x, y } = innerArc.pointAt(innerArc.a0);\n      path.moveTo(centerX + x, centerY + y);\n    } else {\n      const midAngle = startAngle + sweepAngle / 2;\n      const cx = innerRadius * Math.cos(midAngle);\n      const cy = innerRadius * Math.sin(midAngle);\n      path.moveTo(centerX + cx, centerY + cy);\n    }\n    if ((startOuterArc == null ? void 0 : startOuterArc.isValid()) === true) {\n      const { cx, cy, r, a0, a1 } = startOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (outerArc.isValid()) {\n      const { r, a0, a1 } = outerArc;\n      path.arc(centerX, centerY, r, a0, a1);\n    }\n    if ((endOuterArc == null ? void 0 : endOuterArc.isValid()) === true) {\n      const { cx, cy, r, a0, a1 } = endOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (!innerAngleExceeded) {\n      if ((endInnerArc == null ? void 0 : endInnerArc.isValid()) === true) {\n        const { cx, cy, r, a0, a1 } = endInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n      if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n        const { r, a0, a1 } = innerArc;\n        path.arc(centerX, centerY, r, a1, a0, true);\n      }\n      if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n        const { cx, cy, r, a0, a1 } = startInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n    }\n    path.closePath();\n  }\n  isPointInPath(x, y) {\n    var _a;\n    const point = this.transformPoint(x, y);\n    const { startAngle, endAngle, innerRadius, outerRadius } = (_a = this.clipSector) != null ? _a : this;\n    return isPointInSector(point.x, point.y, {\n      startAngle,\n      endAngle,\n      innerRadius: Math.min(innerRadius, outerRadius),\n      outerRadius: Math.max(innerRadius, outerRadius)\n    });\n  }\n};\nSector.className = \"Sector\";\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"centerX\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"centerY\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"innerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"outerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startAngle\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endAngle\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"clipSector\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"concentricEdgeInset\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"radialEdgeInset\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startOuterCornerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endOuterCornerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startInnerCornerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endInnerCornerRadius\", 2);\nvar DonutTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], DonutTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.margin = 2;\n  }\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], DonutInnerLabel.prototype, \"text\", 2);\n__decorateClass2([\n  Validate(NUMBER)\n], DonutInnerLabel.prototype, \"margin\", 2);\nvar DonutInnerCircle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"transparent\";\n    this.fillOpacity = 1;\n  }\n};\n__decorateClass2([\n  Validate(COLOR_STRING)\n], DonutInnerCircle.prototype, \"fill\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], DonutInnerCircle.prototype, \"fillOpacity\", 2);\nvar DonutSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass2([\n  Validate(DEGREE)\n], DonutSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], DonutSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar DonutSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass2([\n  Validate(NUMBER)\n], DonutSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], DonutSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar DonutSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], DonutSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar DonutSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel);\n    this.title = new DonutTitle();\n    this.innerCircle = new DonutInnerCircle();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new DonutSeriesCalloutLabel();\n    this.sectorLabel = new DonutSeriesSectorLabel();\n    this.calloutLine = new DonutSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n  isValid() {\n    const superIsValid = super.isValid();\n    if (this.innerRadiusRatio == null && this.innerRadiusOffset == null) {\n      Logger.warnOnce(\n        \"Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series.\"\n      );\n      return false;\n    }\n    return superIsValid;\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], DonutSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY)\n], DonutSeriesProperties.prototype, \"fills\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY)\n], DonutSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(LINE_DASH)\n], DonutSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], DonutSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass2([\n  Validate(DEGREE)\n], DonutSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass2([\n  Validate(NUMBER)\n], DonutSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass2([\n  Validate(NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass2([\n  Validate(RATIO, { optional: true })\n], DonutSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass2([\n  Validate(OBJECT_ARRAY)\n], DonutSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"title\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\nfunction preparePieSeriesAnimationFunctions(initialLoad, rotationDegrees, scaleFn, oldScaleFn) {\n  const scale2 = [scaleFn.convert(0), scaleFn.convert(1)];\n  const oldScale = [oldScaleFn.convert(0), oldScaleFn.convert(1)];\n  const rotation = Math.PI / -2 + toRadians(rotationDegrees);\n  const scaleToNewRadius = ({ radius }) => {\n    return { innerRadius: scale2[0], outerRadius: scale2[0] + (scale2[1] - scale2[0]) * radius };\n  };\n  const scaleToOldRadius = ({ radius }) => {\n    return { innerRadius: oldScale[0], outerRadius: oldScale[0] + (oldScale[1] - oldScale[0]) * radius };\n  };\n  const fromFn = (sect, datum, status, { prevFromProps }) => {\n    var _a, _b, _c, _d, _e, _f;\n    let { startAngle, endAngle, innerRadius, outerRadius } = sect;\n    let { fill, stroke } = datum.sectorFormat;\n    if (status === \"unknown\" || status === \"added\" && !prevFromProps) {\n      startAngle = rotation;\n      endAngle = rotation;\n      innerRadius = datum.innerRadius;\n      outerRadius = datum.outerRadius;\n    } else if (status === \"added\" && prevFromProps) {\n      startAngle = (_a = prevFromProps.endAngle) != null ? _a : rotation;\n      endAngle = (_b = prevFromProps.endAngle) != null ? _b : rotation;\n      innerRadius = (_c = prevFromProps.innerRadius) != null ? _c : datum.innerRadius;\n      outerRadius = (_d = prevFromProps.outerRadius) != null ? _d : datum.outerRadius;\n    }\n    if (status === \"added\" && !initialLoad) {\n      const radii = scaleToOldRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    if (status === \"updated\") {\n      fill = (_e = sect.fill) != null ? _e : fill;\n      stroke = (_f = sect.stroke) != null ? _f : stroke;\n    }\n    return { startAngle, endAngle, innerRadius, outerRadius, fill, stroke, phase: \"initial\" };\n  };\n  const toFn = (_sect, datum, status, { prevLive }) => {\n    var _a, _b;\n    let { startAngle, endAngle, innerRadius, outerRadius } = datum;\n    const { stroke, fill } = datum.sectorFormat;\n    if (status === \"removed\" && prevLive) {\n      startAngle = (_a = prevLive.datum) == null ? void 0 : _a.endAngle;\n      endAngle = (_b = prevLive.datum) == null ? void 0 : _b.endAngle;\n    } else if (status === \"removed\" && !prevLive) {\n      startAngle = rotation;\n      endAngle = rotation;\n    }\n    if (status === \"removed\") {\n      const radii = scaleToNewRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    return { startAngle, endAngle, outerRadius, innerRadius, stroke, fill };\n  };\n  const innerCircleFromFn = (node, _) => {\n    var _a, _b, _c;\n    return { size: (_c = (_b = (_a = node.previousDatum) == null ? void 0 : _a.radius) != null ? _b : node.size) != null ? _c : 0, phase: \"initial\" };\n  };\n  const innerCircleToFn = (_, datum) => {\n    var _a;\n    return { size: (_a = datum.radius) != null ? _a : 0 };\n  };\n  return { nodes: { toFn, fromFn }, innerCircle: { fromFn: innerCircleFromFn, toFn: innerCircleToFn } };\n}\nfunction resetPieSelectionsFn(_node, datum) {\n  return {\n    startAngle: datum.startAngle,\n    endAngle: datum.endAngle,\n    innerRadius: datum.innerRadius,\n    outerRadius: datum.outerRadius,\n    fill: datum.sectorFormat.fill,\n    stroke: datum.sectorFormat.stroke\n  };\n}\nfunction pickByMatchingAngle(series, point) {\n  const dy = point.y - series.centerY;\n  const dx = point.x - series.centerX;\n  const angle = Math.atan2(dy, dx);\n  const sectors = series.getItemNodes();\n  for (const sector of sectors) {\n    if (sector.datum.missing === true)\n      continue;\n    if (isBetweenAngles(angle, sector.startAngle, sector.endAngle)) {\n      const radius = Math.sqrt(dx * dx + dy * dy);\n      let distance2 = 0;\n      if (radius < sector.innerRadius) {\n        distance2 = sector.innerRadius - radius;\n      } else if (radius > sector.outerRadius) {\n        distance2 = radius - sector.outerRadius;\n      }\n      return { datum: sector.datum, distance: distance2 };\n    }\n  }\n  return void 0;\n}\nfunction computeSectorFocusBounds(series, opts) {\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0)\n    return void 0;\n  const { centerX, centerY } = series;\n  const datum = nodeData[opts.datumIndex];\n  const pointVars = [\n    { radius: datum.innerRadius, angle: datum.startAngle },\n    { radius: datum.innerRadius, angle: datum.endAngle },\n    { radius: datum.outerRadius, angle: datum.startAngle },\n    { radius: datum.outerRadius, angle: datum.endAngle }\n  ];\n  const rightAngles = [0, Math.PI / 2, Math.PI, 3 * Math.PI / 2];\n  for (const rightAngle of rightAngles) {\n    if (isBetweenAngles(rightAngle, datum.startAngle, datum.endAngle)) {\n      pointVars.push({ radius: datum.outerRadius, angle: rightAngle });\n    }\n  }\n  const points = pointVars.map(({ radius, angle }) => displacePointFromVector(centerX, centerY, radius, angle));\n  const xs = points.map((p) => p.x);\n  const ys = points.map((p) => p.y);\n  const x = Math.min(...xs);\n  const y = Math.min(...ys);\n  const width = Math.max(...xs) - x;\n  const height = Math.max(...ys) - y;\n  return new BBox(x, y, width, height);\n}\nvar PolarSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a, {\n      useLabelLayer = false,\n      pickModes = [\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      canHaveAxes = false,\n      animationResetFns\n    } = _b, opts = __objRest(_b, [\n      \"useLabelLayer\",\n      \"pickModes\",\n      \"canHaveAxes\",\n      \"animationResetFns\"\n    ]);\n    super(__spreadProps(__spreadValues2({}, opts), {\n      useLabelLayer,\n      pickModes,\n      contentGroupVirtual: false,\n      directionKeys: {\n        [\n          \"x\"\n          /* X */\n        ]: [\"angleKey\"],\n        [\n          \"y\"\n          /* Y */\n        ]: [\"radiusKey\"]\n      },\n      directionNames: {\n        [\n          \"x\"\n          /* X */\n        ]: [\"angleName\"],\n        [\n          \"y\"\n          /* Y */\n        ]: [\"radiusName\"]\n      },\n      canHaveAxes\n    }));\n    this.itemGroup = this.contentGroup.appendChild(new Group());\n    this.nodeData = [];\n    this.itemSelection = Selection.select(\n      this.itemGroup,\n      () => this.nodeFactory(),\n      false\n    );\n    this.labelSelection = Selection.select(this.labelGroup, Text, false);\n    this.highlightSelection = Selection.select(\n      this.highlightGroup,\n      () => this.nodeFactory()\n    );\n    this.centerX = 0;\n    this.centerY = 0;\n    this.radius = 0;\n    this.itemGroup.zIndexSubOrder = [() => this._declarationOrder, 1];\n    this.animationResetFns = animationResetFns;\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          highlightMarkers: (data) => this.animateReadyHighlightMarkers(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  getItemNodes() {\n    return this.itemGroup.children;\n  }\n  getNodeData() {\n    return this.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n  resetAllAnimation() {\n    var _a;\n    const { item, label } = (_a = this.animationResetFns) != null ? _a : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (item) {\n      resetMotion([this.itemSelection, this.highlightSelection], item);\n    }\n    if (label) {\n      resetMotion([this.labelSelection], label);\n    }\n    this.itemSelection.cleanup();\n    this.labelSelection.cleanup();\n    this.highlightSelection.cleanup();\n  }\n  animateEmptyUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateWaitingUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateReadyHighlight(_data) {\n    var _a;\n    const { item } = (_a = this.animationResetFns) != null ? _a : {};\n    if (item) {\n      resetMotion([this.highlightSelection], item);\n    }\n  }\n  animateReadyHighlightMarkers(_data) {\n  }\n  animateReadyResize(_data) {\n    this.resetAllAnimation();\n  }\n  animateClearingUpdateEmpty(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData(seriesRect) {\n    return { seriesRect };\n  }\n};\nvar DonutSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar DonutSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      useLabelLayer: true,\n      animationResetFns: { item: resetPieSelectionsFn, label: resetLabelFn }\n    });\n    this.properties = new DonutSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    this.backgroundGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.id}-background`,\n        layer: true,\n        zIndex: 0\n        /* SERIES_BACKGROUND_ZINDEX */\n      })\n    );\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-zerosumRings` }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-innerCircle` }));\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = DonutSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map((angle) => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({ name: \"pieCalloutLabels\" });\n    const pieSectorLabels = new Group({ name: \"pieSectorLabels\" });\n    const innerLabels = new Group({ name: \"innerLabels\" });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push(\n      (_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event))\n    );\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some((visible) => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\") {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let { data } = this;\n      const { visible, seriesItemEnabled } = this;\n      const { angleKey, radiusKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", { id: `legendItemKey` }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", { id: `calloutLabelKey` }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", { id: `sectorLabelKey` }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(\n          rangedValueProperty(radiusKey, {\n            id: \"radiusValue\",\n            min: (_a = this.properties.radiusMin) != null ? _a : 0,\n            max: this.properties.radiusMax\n          }),\n          valueProperty(radiusKey, radiusScaleType, { id: `radiusRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo(\n            { id: \"radiusValue\" },\n            [0, 1],\n            1,\n            (_b = this.properties.radiusMin) != null ? _b : 0,\n            this.properties.radiusMax\n          )\n        );\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", { id: `calloutLabelValue` }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", { id: `sectorLabelValue` }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", { id: `legendItemValue` }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues2({}, d), { [angleKey]: 0 }));\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          ...extraKeyProps,\n          accumulativeValueProperty(angleKey, angleScaleType, { id: `angleValue`, onlyPositive: true }),\n          valueProperty(angleKey, angleScaleType, { id: `angleRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo({ id: \"angleValue\" }, [0, 1], 0, 0),\n          ...extraProps\n        ]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const { id, missing, property } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(\n            `no value was found for the key '${String(property)}' on ${missCount} data element${missCount > 1 ? \"s\" : \"\"}`\n          );\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh)\n        return;\n      const { nodeData = [] } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, `angleValue`);\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, `radiusValue`) : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, `calloutLabelValue`) : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, `sectorLabelValue`) : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, `legendItemValue`) : -1;\n    return { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { id: seriesId, processedData, dataModel, angleScale } = this;\n      const { rotation, innerRadiusRatio } = this.properties;\n      if (!this.properties.isValid()) {\n        this.zerosumOuterRing.visible = true;\n        this.zerosumInnerRing.visible = true;\n        return { itemId: seriesId, nodeData: [], labelData: [] };\n      }\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\")\n        return;\n      const { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const { datum, values } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(\n          datum,\n          midAngle,\n          span,\n          true,\n          values[calloutLabelIdx],\n          values[sectorLabelIdx],\n          legendItemValue\n        );\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues2({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio != null && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return { itemId: seriesId, nodeData, labelData: nodeData };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const { calloutLabel, sectorLabel, legendItemKey } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues2({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues2({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues2({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = { key: legendItemKey, text: legendItemValue };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [\n      { textAlign: \"center\", textBaseline: \"bottom\" },\n      { textAlign: \"left\", textBaseline: \"middle\" },\n      { textAlign: \"center\", textBaseline: \"hanging\" },\n      { textAlign: \"right\", textBaseline: \"middle\" }\n    ];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const { callbackCache, highlightManager } = this.ctx;\n    const { angleKey, radiusKey, fills, strokes, formatter, sectorSpacing, __BACKGROUND_COLOR_DO_NOT_USE } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing == null && defaultStroke == null) {\n      defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const { fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = mergeDefaults(\n      isDatumHighlighted && this.properties.highlightStyle.item,\n      {\n        fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n        fillOpacity: this.properties.fillOpacity,\n        stroke: defaultStroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.getOpacity()\n      }\n    );\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const { radius } = this;\n    const { innerRadiusRatio = 1, innerRadiusOffset = 0 } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    const { outerRadiusRatio, outerRadiusOffset } = this.properties;\n    return Math.max(this.radius * outerRadiusRatio + outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map((_a) => {\n      var _b = _a, { radius } = _b, d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues2({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      const { title } = this.properties;\n      const newNodeDataDependencies = {\n        seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n        seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n      };\n      const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n      if (resize) {\n        this._nodeDataDependencies = newNodeDataDependencies;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateTitleNodes();\n      this.updateRadiusScale(resize);\n      this.contentGroup.translationX = this.centerX;\n      this.contentGroup.translationY = this.centerY;\n      this.highlightGroup.translationX = this.centerX;\n      this.highlightGroup.translationY = this.centerY;\n      this.backgroundGroup.translationX = this.centerX;\n      this.backgroundGroup.translationY = this.centerY;\n      if (this.labelGroup) {\n        this.labelGroup.translationX = this.centerX;\n        this.labelGroup.translationY = this.centerY;\n      }\n      if (title) {\n        const dy = this.getTitleTranslationY();\n        const titleBox = title.node.computeBBox();\n        title.node.visible = title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n        title.node.translationY = isFinite(dy) ? dy : 0;\n      }\n      for (const circle of [this.zerosumInnerRing, this.zerosumOuterRing]) {\n        circle.fillOpacity = 0;\n        circle.stroke = this.properties.calloutLabel.color;\n        circle.strokeWidth = 1;\n        circle.strokeOpacity = 1;\n      }\n      this.updateNodeMidPoint();\n      yield this.updateSelections();\n      yield this.updateNodes(seriesRect);\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const { oldTitle } = this;\n    const { title } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach((d) => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const { itemSelection, highlightSelection, calloutLabelSelection, sectorLabelSelection, innerLabelsSelection } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map((datum) => __spreadProps(__spreadValues2({}, datum), { sectorFormat: __spreadValues2({}, datum.sectorFormat) }));\n        }\n        selection.update(nodeData, void 0, (datum) => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, (group2) => {\n        const line = new Line();\n        line.tag = 0;\n        line.pointerEvents = 1;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1;\n        text.pointerEvents = 1;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, (node) => {\n        node.pointerEvents = 1;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, (node) => {\n        node.pointerEvents = 1;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const { innerCircle } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{ radius }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, { radius }) => {\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const { calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const { offset: offset4 } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(\n      0\n      /* Callout */\n    ).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const { calloutLabel: label, outerRadius } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow };\n  }\n  bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n    const { surroundingRadius } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [\n      { x: box.x + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + box.height + dy },\n      { x: box.x + dx, y: box.y + box.height + dy }\n    ];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some((corner) => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const { offset: offset4, minSpacing } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = (datum) => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter((t) => !shouldSkip(t));\n    data.forEach((datum) => {\n      const label = datum.calloutLabel;\n      if (label == null)\n        return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter((d) => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter((d) => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter((d) => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter((d) => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = (datum) => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null)\n        return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = (labels) => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = (labels) => {\n      const labelsCollideLabelsByY = data.some((datum) => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map((label) => getTextBBox(label));\n      const paddedBoxes = boxes.map((box) => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map((datum) => {\n        const { startAngle, endAngle, outerRadius } = datum;\n        return { startAngle, endAngle, innerRadius, outerRadius };\n      });\n      const labelsCollideSectors = boxes.some((box) => {\n        return sectors.some((sector) => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter((d) => d.calloutLabel.textAlign === \"center\").forEach((d) => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const { offset: offset4, color } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(\n      1\n      /* Label */\n    ).forEach((text) => {\n      var _a;\n      const { datum } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const { textLength, hasVerticalOverflow } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : `${label.text.substring(0, textLength)}\\u2026`;\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const { calloutLabel, calloutLine } = this.properties;\n      const calloutLength = calloutLine.length;\n      const { offset: offset4, maxCollisionOffset, minSpacing } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const { title } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach((datum) => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(\n            titleBox.x - minSpacing,\n            seriesTop,\n            titleBox.width + 2 * minSpacing,\n            titleBox.y + titleBox.height + minSpacing - seriesTop\n          );\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow } = this.getLabelOverflow(\n            label.text,\n            box,\n            seriesRect\n          );\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const { radiusScale } = this;\n    const innerRadius = radiusScale.convert(0);\n    const { fontSize, fontStyle, fontWeight, fontFamily, positionOffset, positionRatio, color } = this.properties.sectorLabel;\n    this.sectorLabelSelection.each((text, datum) => {\n      const { sectorLabel, outerRadius } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        text.x = datum.midCos * labelRadius;\n        text.y = datum.midSin * labelRadius;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [\n          [bbox.x, bbox.y],\n          [bbox.x + bbox.width, bbox.y],\n          [bbox.x + bbox.width, bbox.y + bbox.height],\n          [bbox.x, bbox.y + bbox.height]\n        ];\n        const { startAngle, endAngle } = datum;\n        const sectorBounds = { startAngle, endAngle, innerRadius, outerRadius };\n        if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const { fontStyle, fontWeight, fontSize, fontFamily, color } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(datum.margin);\n    });\n    const getMarginTop = (index) => index === 0 ? 0 : margins[index];\n    const getMarginBottom = (index) => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map((bbox) => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    const { sectorLabel, calloutLabel, legendItem } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: { fill: color },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml(\n      {\n        title: title != null ? title : labelText,\n        content: title && labelText ? `${labelText}: ${content}` : content,\n        backgroundColor: color\n      },\n      {\n        datum,\n        itemId,\n        title,\n        color,\n        seriesId: this.id,\n        angleKey: this.properties.angleKey,\n        angleName: this.properties.angleName,\n        radiusKey: this.properties.radiusKey,\n        radiusName: this.properties.radiusName,\n        calloutLabelKey: this.properties.calloutLabelKey,\n        calloutLabelName: this.properties.calloutLabelName,\n        sectorLabelKey: this.properties.sectorLabelKey,\n        sectorLabelName: this.properties.sectorLabelName,\n        legendItemKey: this.properties.legendItemKey\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const { visible, processedData, dataModel } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey))\n      return [];\n    const { calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const { datum, values } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(\n        datum,\n        2 * Math.PI,\n        2 * Math.PI,\n        false,\n        values[calloutLabelIdx],\n        values[sectorLabelIdx],\n        values[legendItemIdx]\n      );\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0)\n        continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const { enabled, itemId, series, legendItemName } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, `legendItemValue`);\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach(({ values }, datumItemId) => {\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      true,\n      this.properties.rotation,\n      this.radiusScale,\n      this.previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const { itemSelection, highlightSelection, processedData, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      animationManager,\n      [itemSelection, highlightSelection],\n      fns.nodes,\n      (_, datum) => this.getDatumId(datum),\n      dataDiff\n    );\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const { itemSelection, highlightSelection, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const { calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const { index } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : `${index}`;\n  }\n  onDataChange() {\n    var _a;\n    const { data, seriesItemEnabled } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nDonutSeries.className = \"DonutSeries\";\nDonutSeries.type = \"donut\";\nvar pieTheme = {\n  series: {\n    __extends__: EXTENDS_SERIES_DEFAULTS,\n    title: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\",\n      fontSize: 14,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_MUTED_LABEL_COLOUR,\n      spacing: 5\n    },\n    calloutLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      offset: 3,\n      minAngle: 0\n    },\n    sectorLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\",\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n      positionOffset: 0,\n      positionRatio: 0.5\n    },\n    calloutLine: {\n      length: 10,\n      strokeWidth: 2\n    },\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    strokeWidth: 1,\n    lineDash: [0],\n    lineDashOffset: 0,\n    rotation: 0,\n    // @todo(AG-10275) Uncomment this\n    // sectorSpacing: 1,\n    shadow: {\n      enabled: false,\n      color: DEFAULT_SHADOW_COLOUR,\n      xOffset: 3,\n      yOffset: 3,\n      blur: 5\n    },\n    innerLabels: {\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      margin: 2\n    },\n    // @todo(AG-10275) Remove this\n    // @ts-expect-error\n    __BACKGROUND_COLOR_DO_NOT_USE: DEFAULT_BACKGROUND_COLOUR\n  }\n};\nvar piePaletteFactory = ({ takeColors, colorsCount, userPalette }) => {\n  const { fills, strokes } = takeColors(colorsCount);\n  return {\n    fills,\n    strokes: userPalette ? strokes : [],\n    calloutLine: {\n      colors: strokes\n    }\n  };\n};\nvar DonutSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"donut\",\n  instanceConstructor: DonutSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\nvar PieTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass2([\n  Validate(BOOLEAN)\n], PieTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel2 = class extends Label {\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass2([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(STRING, { optional: true })\n], DonutInnerLabel2.prototype, \"text\", 2);\n__decorateClass2([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(NUMBER, { optional: true })\n], DonutInnerLabel2.prototype, \"margin\", 2);\nvar DonutInnerCircle2 = class extends BaseProperties {\n};\n__decorateClass2([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(COLOR_STRING, { optional: true })\n], DonutInnerCircle2.prototype, \"fill\", 2);\n__decorateClass2([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(RATIO, { optional: true })\n], DonutInnerCircle2.prototype, \"fillOpacity\", 2);\nvar PieSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass2([\n  Validate(DEGREE)\n], PieSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass2([\n  Validate(BOOLEAN)\n], PieSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar PieSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass2([\n  Validate(NUMBER)\n], PieSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], PieSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar PieSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], PieSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar PieSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel2);\n    this.title = new PieTitle();\n    this.innerCircle = new DonutInnerCircle2();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new PieSeriesCalloutLabel();\n    this.sectorLabel = new PieSeriesSectorLabel();\n    this.calloutLine = new PieSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], PieSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY)\n], PieSeriesProperties.prototype, \"fills\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY)\n], PieSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass2([\n  Validate(LINE_DASH)\n], PieSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass2([\n  Validate(FUNCTION, { optional: true })\n], PieSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass2([\n  Validate(DEGREE)\n], PieSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass2([\n  Validate(NUMBER)\n], PieSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass2([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass2([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(RATIO, { optional: true })\n], PieSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass2([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass2([\n  Validate(OBJECT_ARRAY)\n], PieSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"title\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass2([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\nvar PieSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar PieSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      useLabelLayer: true,\n      animationResetFns: { item: resetPieSelectionsFn, label: resetLabelFn }\n    });\n    this.properties = new PieSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    this.backgroundGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.id}-background`,\n        layer: true,\n        zIndex: 0\n        /* SERIES_BACKGROUND_ZINDEX */\n      })\n    );\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-zerosumRings` }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-innerCircle` }));\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = PieSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map((angle) => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({ name: \"pieCalloutLabels\" });\n    const pieSectorLabels = new Group({ name: \"pieSectorLabels\" });\n    const innerLabels = new Group({ name: \"innerLabels\" });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push(\n      (_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event))\n    );\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some((visible) => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\") {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let { data } = this;\n      const { visible, seriesItemEnabled } = this;\n      const { angleKey, radiusKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", { id: `legendItemKey` }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", { id: `calloutLabelKey` }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", { id: `sectorLabelKey` }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(\n          rangedValueProperty(radiusKey, {\n            id: \"radiusValue\",\n            min: (_a = this.properties.radiusMin) != null ? _a : 0,\n            max: this.properties.radiusMax\n          }),\n          valueProperty(radiusKey, radiusScaleType, { id: `radiusRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo(\n            { id: \"radiusValue\" },\n            [0, 1],\n            1,\n            (_b = this.properties.radiusMin) != null ? _b : 0,\n            this.properties.radiusMax\n          )\n        );\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", { id: `calloutLabelValue` }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", { id: `sectorLabelValue` }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", { id: `legendItemValue` }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues2({}, d), { [angleKey]: 0 }));\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          ...extraKeyProps,\n          accumulativeValueProperty(angleKey, angleScaleType, { id: `angleValue`, onlyPositive: true }),\n          valueProperty(angleKey, angleScaleType, { id: `angleRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo({ id: \"angleValue\" }, [0, 1], 0, 0),\n          ...extraProps\n        ]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const { id, missing, property } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(\n            `no value was found for the key '${String(property)}' on ${missCount} data element${missCount > 1 ? \"s\" : \"\"}`\n          );\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh)\n        return;\n      const { nodeData = [] } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, `angleValue`);\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, `radiusValue`) : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, `calloutLabelValue`) : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, `sectorLabelValue`) : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, `legendItemValue`) : -1;\n    return { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { id: seriesId, processedData, dataModel, angleScale } = this;\n      const { rotation } = this.properties;\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\")\n        return;\n      const { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const { datum, values } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(\n          datum,\n          midAngle,\n          span,\n          true,\n          values[calloutLabelIdx],\n          values[sectorLabelIdx],\n          legendItemValue\n        );\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues2({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      const { innerRadiusRatio = 1 } = this.properties;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return { itemId: seriesId, nodeData, labelData: nodeData };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const { calloutLabel, sectorLabel, legendItemKey } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues2({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues2({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues2({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = { key: legendItemKey, text: legendItemValue };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [\n      { textAlign: \"center\", textBaseline: \"bottom\" },\n      { textAlign: \"left\", textBaseline: \"middle\" },\n      { textAlign: \"center\", textBaseline: \"hanging\" },\n      { textAlign: \"right\", textBaseline: \"middle\" }\n    ];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const { callbackCache, highlightManager } = this.ctx;\n    const { angleKey, radiusKey, fills, strokes, formatter, sectorSpacing, __BACKGROUND_COLOR_DO_NOT_USE } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing != null) {\n      defaultStroke != null ? defaultStroke : defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const { fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = mergeDefaults(\n      isDatumHighlighted && this.properties.highlightStyle.item,\n      {\n        fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n        fillOpacity: this.properties.fillOpacity,\n        stroke: defaultStroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.getOpacity()\n      }\n    );\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const { radius } = this;\n    const { innerRadiusRatio = 1, innerRadiusOffset = 0 } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    return Math.max(this.radius * this.properties.outerRadiusRatio + this.properties.outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map((_a) => {\n      var _b = _a, { radius } = _b, d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues2({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      const { title } = this.properties;\n      const newNodeDataDependencies = {\n        seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n        seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n      };\n      const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n      if (resize) {\n        this._nodeDataDependencies = newNodeDataDependencies;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateTitleNodes();\n      this.updateRadiusScale(resize);\n      this.contentGroup.translationX = this.centerX;\n      this.contentGroup.translationY = this.centerY;\n      this.highlightGroup.translationX = this.centerX;\n      this.highlightGroup.translationY = this.centerY;\n      this.backgroundGroup.translationX = this.centerX;\n      this.backgroundGroup.translationY = this.centerY;\n      if (this.labelGroup) {\n        this.labelGroup.translationX = this.centerX;\n        this.labelGroup.translationY = this.centerY;\n      }\n      if (title) {\n        const dy = this.getTitleTranslationY();\n        const titleBox = title.node.computeBBox();\n        title.node.visible = title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n        title.node.translationY = isFinite(dy) ? dy : 0;\n      }\n      for (const circle of [this.zerosumInnerRing, this.zerosumOuterRing]) {\n        circle.fillOpacity = 0;\n        circle.stroke = this.properties.calloutLabel.color;\n        circle.strokeWidth = 1;\n        circle.strokeOpacity = 1;\n      }\n      this.updateNodeMidPoint();\n      yield this.updateSelections();\n      yield this.updateNodes(seriesRect);\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const { oldTitle } = this;\n    const { title } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach((d) => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const { itemSelection, highlightSelection, calloutLabelSelection, sectorLabelSelection, innerLabelsSelection } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map((datum) => __spreadProps(__spreadValues2({}, datum), { sectorFormat: __spreadValues2({}, datum.sectorFormat) }));\n        }\n        selection.update(nodeData, void 0, (datum) => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, (group2) => {\n        const line = new Line();\n        line.tag = 0;\n        line.pointerEvents = 1;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1;\n        text.pointerEvents = 1;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, (node) => {\n        node.pointerEvents = 1;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, (node) => {\n        node.pointerEvents = 1;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const { innerCircle } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{ radius }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, { radius }) => {\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const { calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const { offset: offset4 } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(\n      0\n      /* Callout */\n    ).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const { calloutLabel: label, outerRadius } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow };\n  }\n  bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n    const { surroundingRadius } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [\n      { x: box.x + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + box.height + dy },\n      { x: box.x + dx, y: box.y + box.height + dy }\n    ];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some((corner) => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const { offset: offset4, minSpacing } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = (datum) => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter((t) => !shouldSkip(t));\n    data.forEach((datum) => {\n      const label = datum.calloutLabel;\n      if (label == null)\n        return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter((d) => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter((d) => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter((d) => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter((d) => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = (datum) => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null)\n        return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = (labels) => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = (labels) => {\n      const labelsCollideLabelsByY = data.some((datum) => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map((label) => getTextBBox(label));\n      const paddedBoxes = boxes.map((box) => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map((datum) => {\n        const { startAngle, endAngle, outerRadius } = datum;\n        return { startAngle, endAngle, innerRadius, outerRadius };\n      });\n      const labelsCollideSectors = boxes.some((box) => {\n        return sectors.some((sector) => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter((d) => d.calloutLabel.textAlign === \"center\").forEach((d) => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const { offset: offset4, color } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(\n      1\n      /* Label */\n    ).forEach((text) => {\n      var _a;\n      const { datum } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const { textLength, hasVerticalOverflow } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : `${label.text.substring(0, textLength)}\\u2026`;\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const { calloutLabel, calloutLine } = this.properties;\n      const calloutLength = calloutLine.length;\n      const { offset: offset4, maxCollisionOffset, minSpacing } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const { title } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach((datum) => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(\n            titleBox.x - minSpacing,\n            seriesTop,\n            titleBox.width + 2 * minSpacing,\n            titleBox.y + titleBox.height + minSpacing - seriesTop\n          );\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow } = this.getLabelOverflow(\n            label.text,\n            box,\n            seriesRect\n          );\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const { radiusScale } = this;\n    const innerRadius = radiusScale.convert(0);\n    const { fontSize, fontStyle, fontWeight, fontFamily, positionOffset, positionRatio, color } = this.properties.sectorLabel;\n    const isDonut = innerRadius > 0;\n    const singleVisibleSector = this.seriesItemEnabled.filter(Boolean).length === 1;\n    this.sectorLabelSelection.each((text, datum) => {\n      const { sectorLabel, outerRadius } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        const shouldPutTextInCenter = !isDonut && singleVisibleSector;\n        if (shouldPutTextInCenter) {\n          text.x = 0;\n          text.y = 0;\n        } else {\n          text.x = datum.midCos * labelRadius;\n          text.y = datum.midSin * labelRadius;\n        }\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [\n          [bbox.x, bbox.y],\n          [bbox.x + bbox.width, bbox.y],\n          [bbox.x + bbox.width, bbox.y + bbox.height],\n          [bbox.x, bbox.y + bbox.height]\n        ];\n        const { startAngle, endAngle } = datum;\n        const sectorBounds = { startAngle, endAngle, innerRadius, outerRadius };\n        if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const { fontStyle, fontWeight, fontSize, fontFamily, color, margin = 2 } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(margin);\n    });\n    const getMarginTop = (index) => index === 0 ? 0 : margins[index];\n    const getMarginBottom = (index) => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map((bbox) => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    const { sectorLabel, calloutLabel, legendItem } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: { fill: color },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml(\n      {\n        title: title != null ? title : labelText,\n        content: title && labelText ? `${labelText}: ${content}` : content,\n        backgroundColor: color\n      },\n      {\n        datum,\n        itemId,\n        title,\n        color,\n        seriesId: this.id,\n        angleKey: this.properties.angleKey,\n        angleName: this.properties.angleName,\n        radiusKey: this.properties.radiusKey,\n        radiusName: this.properties.radiusName,\n        calloutLabelKey: this.properties.calloutLabelKey,\n        calloutLabelName: this.properties.calloutLabelName,\n        sectorLabelKey: this.properties.sectorLabelKey,\n        sectorLabelName: this.properties.sectorLabelName,\n        legendItemKey: this.properties.legendItemKey\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const { visible, processedData, dataModel } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || legendType !== \"category\") {\n      return [];\n    }\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey)) {\n      return [];\n    }\n    const { calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const { datum, values } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(\n        datum,\n        2 * Math.PI,\n        2 * Math.PI,\n        false,\n        values[calloutLabelIdx],\n        values[sectorLabelIdx],\n        values[legendItemIdx]\n      );\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0)\n        continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const { enabled, itemId, series, legendItemName } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, `legendItemValue`);\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach(({ values }, datumItemId) => {\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      true,\n      this.properties.rotation,\n      this.radiusScale,\n      this.previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const { itemSelection, highlightSelection, processedData, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      animationManager,\n      [itemSelection, highlightSelection],\n      fns.nodes,\n      (_, datum) => this.getDatumId(datum),\n      dataDiff\n    );\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const { itemSelection, highlightSelection, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const { calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const { index } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : `${index}`;\n  }\n  onDataChange() {\n    var _a;\n    const { data, seriesItemEnabled } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nPieSeries.className = \"PieSeries\";\nPieSeries.type = \"pie\";\nvar PieSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"pie\",\n  instanceConstructor: PieSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\nvar TOOLBAR_ALIGNMENTS = [\"start\", \"center\", \"end\"];\nvar TOOLBAR_GROUPS = [\"annotations\", \"ranges\", \"zoom\"];\nvar ToolbarPosition = /* @__PURE__ */ ((ToolbarPosition2) => {\n  ToolbarPosition2[\"Top\"] = \"top\";\n  ToolbarPosition2[\"Right\"] = \"right\";\n  ToolbarPosition2[\"Bottom\"] = \"bottom\";\n  ToolbarPosition2[\"Left\"] = \"left\";\n  ToolbarPosition2[\"FloatingTop\"] = \"floating-top\";\n  ToolbarPosition2[\"FloatingBottom\"] = \"floating-bottom\";\n  return ToolbarPosition2;\n})(ToolbarPosition || {});\nvar TOOLBAR_POSITIONS = Object.values(ToolbarPosition);\nvar ToolbarGroupProperties = class extends BaseProperties {\n  constructor(onChange, onButtonsChange) {\n    super();\n    this.onChange = onChange;\n    this.onButtonsChange = onButtonsChange;\n    this.align = \"start\";\n    this.position = \"top\";\n  }\n};\n__decorateClass2([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(BOOLEAN)\n], ToolbarGroupProperties.prototype, \"enabled\", 2);\n__decorateClass2([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(UNION([\"start\", \"center\", \"end\"]), { optional: true })\n], ToolbarGroupProperties.prototype, \"align\", 2);\n__decorateClass2([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(UNION([\"top\", \"right\", \"bottom\", \"left\", \"floating-top\", \"floating-bottom\"]), { optional: true })\n], ToolbarGroupProperties.prototype, \"position\", 2);\n__decorateClass2([\n  ObserveChanges((target) => {\n    target.onButtonsChange(target.buttons);\n  }),\n  Validate(ARRAY, { optional: true })\n], ToolbarGroupProperties.prototype, \"buttons\", 2);\nvar block2 = \"ag-charts-toolbar\";\nvar elements2 = {\n  group: `${block2}__group`,\n  button: `${block2}__button`,\n  icon: `${block2}__icon`,\n  label: `${block2}__label`\n};\nvar modifiers2 = {\n  [\n    \"top\"\n    /* Top */\n  ]: `${block2}--top`,\n  [\n    \"right\"\n    /* Right */\n  ]: `${block2}--right`,\n  [\n    \"bottom\"\n    /* Bottom */\n  ]: `${block2}--bottom`,\n  [\n    \"left\"\n    /* Left */\n  ]: `${block2}--left`,\n  [\n    \"floating-top\"\n    /* FloatingTop */\n  ]: `${block2}--floating-top`,\n  [\n    \"floating-bottom\"\n    /* FloatingBottom */\n  ]: `${block2}--floating-bottom`,\n  hidden: `${block2}--hidden`,\n  preventFlash: `${block2}--prevent-flash`,\n  floatingHidden: `${block2}--floating-hidden`,\n  group: {\n    start: `${elements2.group}--start`,\n    center: `${elements2.group}--center`,\n    end: `${elements2.group}--end`\n  },\n  button: {\n    hidden: `${elements2.button}--hidden`\n  }\n};\nvar css2 = `\n.${block2} {\n    align-items: center;\n    background: var(--ag-charts-toolbar-background-color);\n    border-bottom: var(--ag-charts-toolbar-border-critical);\n    border-top: var(--ag-charts-toolbar-border-critical);\n    border-left: var(--ag-charts-toolbar-border);\n    border-right: var(--ag-charts-toolbar-border);\n    display: flex;\n    flex-wrap: wrap;\n    opacity: 1;\n    position: absolute;\n    transform: translateY(0);\n    transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.${modifiers2.hidden},\n.${modifiers2.preventFlash} {\n    visibility: hidden;\n}\n\n.${modifiers2.floatingHidden} {\n    opacity: 0;\n    transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.${modifiers2[\n  \"top\"\n  /* Top */\n]},\n.${modifiers2[\n  \"bottom\"\n  /* Bottom */\n]} {\n    flex-direction: row;\n    height: var(--ag-charts-toolbar-size);\n    padding: 0 var(--ag-charts-toolbar-padding);\n    width: 100%;\n}\n\n.${modifiers2[\n  \"left\"\n  /* Left */\n]},\n.${modifiers2[\n  \"right\"\n  /* Right */\n]} {\n    flex-direction: column;\n    padding: var(--ag-charts-toolbar-padding) 0;\n    width: var(--ag-charts-toolbar-size);\n}\n\n.${modifiers2[\n  \"floating-top\"\n  /* FloatingTop */\n]},\n.${modifiers2[\n  \"floating-bottom\"\n  /* FloatingBottom */\n]} {\n    background: none;\n    border: none;\n    flex-direction: row;\n    height: var(--ag-charts-toolbar-size);\n    padding: 0 var(--ag-charts-toolbar-padding);\n    pointer-events: none;\n    width: 100%;\n}\n\n.${elements2.group} {\n    display: flex;\n    flex-direction: inherit;\n    flex-wrap: inherit;\n    max-width: 100%;\n}\n\n.${modifiers2.group.center},\n.${modifiers2.group.end} {\n    margin-left: auto;\n}\n\n.${modifiers2[\n  \"left\"\n  /* Left */\n]} .${modifiers2.group.center},\n.${modifiers2[\n  \"left\"\n  /* Left */\n]} .${modifiers2.group.end},\n.${modifiers2[\n  \"right\"\n  /* Right */\n]} .${modifiers2.group.center},\n.${modifiers2[\n  \"right\"\n  /* Right */\n]} .${modifiers2.group.end} {\n    margin-left: 0;\n    margin-top: auto;\n}\n\n.${modifiers2[\n  \"floating-top\"\n  /* FloatingTop */\n]} .${elements2.group},\n.${modifiers2[\n  \"floating-bottom\"\n  /* FloatingBottom */\n]} .${elements2.group} {\n    gap: var(--ag-charts-toolbar-gap);\n}\n\n.${elements2.button} {\n    align-items: center;\n    border-radius: var(--ag-charts-button-radius);\n    color: var(--ag-charts-toolbar-foreground-color);\n    display: flex;\n    font-size: 14px;\n    font-weight: 500;\n    justify-content: center;\n    margin: 0;\n    padding: var(--ag-charts-button-padding);\n    pointer-events: all;\n    transition: background-color .25s ease-in-out;\n}\n\n.${modifiers2[\n  \"left\"\n  /* Left */\n]} .${elements2.button},\n.${modifiers2[\n  \"right\"\n  /* Right */\n]} .${elements2.button} {\n    height: var(--ag-charts-toolbar-size);\n    max-width: 100%;\n    overflow: hidden;\n}\n\n.${modifiers2[\n  \"floating-top\"\n  /* FloatingTop */\n]} .${elements2.button},\n.${modifiers2[\n  \"floating-bottom\"\n  /* FloatingBottom */\n]} .${elements2.button} {\n    background: var(--ag-charts-toolbar-background-color);\n    border: var(--ag-charts-toolbar-border-critical);\n}\n\n.${modifiers2.button.hidden} {\n    display: none;\n}\n\n.${elements2.button}:hover {\n    background: var(--ag-charts-toolbar-hover-color);\n}\n\n.${elements2.button}:disabled {\n    background: var(--ag-charts-toolbar-disabled-background-color);\n    color: var(--ag-charts-toolbar-disabled-foreground-color);\n}\n\n.${elements2.button}:not([disabled]) {\n    cursor: pointer;\n}\n\n.${elements2.icon} {\n    height: 1.2em;\n    width: 1.2em;\n}\n\n.${elements2.icon} + .${elements2.label} {\n    margin-left: var(--ag-charts-size);\n}\n\n.${elements2.icon},\n.${elements2.label} {\n    pointer-events: none;\n}\n\n`;\nvar Toolbar = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.enabled = true;\n    this.annotations = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"annotations\"),\n      this.onGroupButtonsChanged.bind(this, \"annotations\")\n    );\n    this.ranges = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"ranges\"),\n      this.onGroupButtonsChanged.bind(this, \"ranges\")\n    );\n    this.zoom = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"zoom\"),\n      this.onGroupButtonsChanged.bind(this, \"zoom\")\n    );\n    this.margin = 10;\n    this.floatingDetectionRange = 28;\n    this.positions = {\n      [\n        \"top\"\n        /* Top */\n      ]: /* @__PURE__ */ new Set(),\n      [\n        \"right\"\n        /* Right */\n      ]: /* @__PURE__ */ new Set(),\n      [\n        \"bottom\"\n        /* Bottom */\n      ]: /* @__PURE__ */ new Set(),\n      [\n        \"left\"\n        /* Left */\n      ]: /* @__PURE__ */ new Set(),\n      [\n        \"floating-top\"\n        /* FloatingTop */\n      ]: /* @__PURE__ */ new Set(),\n      [\n        \"floating-bottom\"\n        /* FloatingBottom */\n      ]: /* @__PURE__ */ new Set()\n    };\n    this.groupCallers = {\n      annotations: 0,\n      ranges: 0,\n      zoom: 0\n    };\n    this.groupButtons = {\n      annotations: [],\n      ranges: [],\n      zoom: []\n    };\n    this.pendingButtonToggledEvents = [];\n    this.groupProxied = /* @__PURE__ */ new Set();\n    this.container = ctx.toolbarManager.element;\n    this.elements = {\n      [\n        \"top\"\n        /* Top */\n      ]: this.container.appendChild(createElement(\"div\")),\n      [\n        \"right\"\n        /* Right */\n      ]: this.container.appendChild(createElement(\"div\")),\n      [\n        \"bottom\"\n        /* Bottom */\n      ]: this.container.appendChild(createElement(\"div\")),\n      [\n        \"left\"\n        /* Left */\n      ]: this.container.appendChild(createElement(\"div\")),\n      [\n        \"floating-top\"\n        /* FloatingTop */\n      ]: this.container.appendChild(createElement(\"div\")),\n      [\n        \"floating-bottom\"\n        /* FloatingBottom */\n      ]: this.container.appendChild(createElement(\"div\"))\n    };\n    injectStyle(css2, block2);\n    this.renderToolbar(\n      \"top\"\n      /* Top */\n    );\n    this.renderToolbar(\n      \"right\"\n      /* Right */\n    );\n    this.renderToolbar(\n      \"bottom\"\n      /* Bottom */\n    );\n    this.renderToolbar(\n      \"left\"\n      /* Left */\n    );\n    this.renderToolbar(\n      \"floating-top\"\n      /* FloatingTop */\n    );\n    this.renderToolbar(\n      \"floating-bottom\"\n      /* FloatingBottom */\n    );\n    this.toggleVisibilities();\n    this.destroyFns.push(\n      ctx.interactionManager.addListener(\n        \"hover\",\n        this.onHover.bind(this),\n        31\n        /* All */\n      ),\n      ctx.interactionManager.addListener(\n        \"leave\",\n        this.onLeave.bind(this),\n        31\n        /* All */\n      ),\n      ctx.toolbarManager.addListener(\"button-toggled\", this.onButtonToggled.bind(this)),\n      ctx.toolbarManager.addListener(\"group-toggled\", this.onGroupToggled.bind(this)),\n      ctx.toolbarManager.addListener(\"proxy-group-options\", this.onProxyGroupOptions.bind(this)),\n      ctx.layoutService.addListener(\"layout-complete\", this.onLayoutComplete.bind(this))\n    );\n  }\n  onHover(event) {\n    const {\n      enabled,\n      elements: elements3,\n      floatingDetectionRange,\n      ctx: { scene }\n    } = this;\n    const {\n      offsetY,\n      sourceEvent: { target }\n    } = event;\n    if (!enabled)\n      return;\n    const bottom = elements3[\n      \"floating-bottom\"\n      /* FloatingBottom */\n    ];\n    const top = elements3[\n      \"floating-top\"\n      /* FloatingTop */\n    ];\n    const bottomDetectionY = bottom.offsetTop - floatingDetectionRange;\n    const bottomVisible = offsetY > bottomDetectionY && offsetY < scene.canvas.element.offsetHeight || target === bottom;\n    bottom.classList.toggle(modifiers2.floatingHidden, !bottomVisible);\n    const topDetectionY = top.offsetTop + top.offsetHeight + floatingDetectionRange;\n    const topVisible = offsetY > 0 && offsetY < topDetectionY || target === top;\n    top.classList.toggle(modifiers2.floatingHidden, !topVisible);\n  }\n  onLeave(event) {\n    const {\n      enabled,\n      elements: elements3,\n      ctx: { scene }\n    } = this;\n    const { relatedTarget, target } = event.sourceEvent;\n    if (!enabled)\n      return;\n    const bottom = elements3[\n      \"floating-bottom\"\n      /* FloatingBottom */\n    ];\n    const top = elements3[\n      \"floating-top\"\n      /* FloatingTop */\n    ];\n    let isButton = false;\n    for (const group2 of TOOLBAR_GROUPS) {\n      for (const button of this.groupButtons[group2]) {\n        if (button === relatedTarget) {\n          isButton = true;\n          break;\n        }\n      }\n    }\n    if (target !== scene.canvas.element || isButton)\n      return;\n    bottom.classList.add(modifiers2.floatingHidden);\n    top.classList.add(modifiers2.floatingHidden);\n  }\n  onGroupChanged(group2) {\n    if (this[group2] == null || this.groupProxied.has(group2))\n      return;\n    this.createGroup(group2);\n    this.toggleVisibilities();\n  }\n  onGroupButtonsChanged(group2, buttons) {\n    if (!this.enabled || this.groupProxied.has(group2))\n      return;\n    this.createGroupButtons(group2, buttons);\n    this.toggleVisibilities();\n  }\n  onLayoutComplete() {\n    for (const position of TOOLBAR_POSITIONS) {\n      this.elements[position].classList.remove(modifiers2.preventFlash);\n    }\n  }\n  onButtonToggled(event) {\n    const { group: group2, value, enabled } = event;\n    if (this.groupButtons[group2].length === 0) {\n      this.pendingButtonToggledEvents.push(event);\n      return;\n    }\n    for (const button of this.groupButtons[group2]) {\n      if (button.dataset.toolbarValue !== `${value}`)\n        continue;\n      button.disabled = !enabled;\n    }\n  }\n  onGroupToggled(event) {\n    const { group: group2, visible } = event;\n    this.toggleGroup(group2, visible);\n    this.toggleVisibilities();\n  }\n  onProxyGroupOptions(event) {\n    const { group: group2, options } = event;\n    this.groupProxied.add(group2);\n    this.createGroup(group2);\n    this.createGroupButtons(group2, options.buttons);\n    this.toggleGroup(group2, options.enabled);\n    this[group2].set(options);\n  }\n  createGroup(group2) {\n    for (const position of TOOLBAR_POSITIONS) {\n      if (this[group2].enabled && this[group2].position === position) {\n        this.positions[position].add(group2);\n      } else {\n        this.positions[position].delete(group2);\n      }\n    }\n  }\n  createGroupButtons(group2, buttons) {\n    var _a, _b;\n    for (const button of this.groupButtons[group2]) {\n      button.remove();\n    }\n    this.groupButtons[group2] = [];\n    const align = (_a = this[group2].align) != null ? _a : \"start\";\n    const position = (_b = this[group2].position) != null ? _b : \"top\";\n    const toolbar = this.elements[position];\n    for (const options of buttons != null ? buttons : []) {\n      const button = this.createButtonElement(group2, options);\n      const parent = toolbar.getElementsByClassName(modifiers2.group[align]).item(0);\n      parent == null ? void 0 : parent.appendChild(button);\n      this.groupButtons[group2].push(button);\n    }\n  }\n  toggleGroup(group2, enabled) {\n    if (enabled) {\n      this.groupCallers[group2] += 1;\n    } else {\n      this.groupCallers[group2] = Math.max(0, this.groupCallers[group2] - 1);\n    }\n  }\n  processPendingEvents() {\n    var _a;\n    const pendingButtonToggledEvents = ((_a = this.pendingButtonToggledEvents) != null ? _a : []).slice();\n    for (const event of pendingButtonToggledEvents) {\n      this.onButtonToggled(event);\n    }\n    this.pendingButtonToggledEvents = [];\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function* ({ shrinkRect }) {\n      const { elements: elements3, margin } = this;\n      if (!elements3.top.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.top.offsetHeight + margin * 2, \"top\");\n      }\n      if (!elements3.right.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.right.offsetWidth + margin, \"right\");\n      }\n      if (!elements3.bottom.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.bottom.offsetHeight + margin * 2, \"bottom\");\n      }\n      if (!elements3.left.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.left.offsetWidth + margin, \"left\");\n      }\n      return { shrinkRect };\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const { elements: elements3, margin } = this;\n      const { seriesRect } = opts;\n      elements3.top.style.top = `${seriesRect.y - elements3.top.offsetHeight - margin * 2}px`;\n      elements3.top.style.left = `${margin}px`;\n      elements3.top.style.width = `calc(100% - ${margin * 2}px)`;\n      elements3.right.style.top = `${seriesRect.y + margin}px`;\n      elements3.right.style.right = `${margin}px`;\n      elements3.right.style.height = `calc(100% - ${seriesRect.y + margin * 2}px)`;\n      elements3.bottom.style.bottom = `${margin}px`;\n      elements3.bottom.style.left = `${margin}px`;\n      elements3.bottom.style.width = `calc(100% - ${margin * 2}px)`;\n      elements3.left.style.top = `${seriesRect.y}px`;\n      elements3.left.style.left = `${margin}px`;\n      elements3.left.style.height = `calc(100% - ${seriesRect.y + margin * 2}px)`;\n      elements3[\n        \"floating-top\"\n        /* FloatingTop */\n      ].style.top = `${seriesRect.y + margin}px`;\n      elements3[\n        \"floating-bottom\"\n        /* FloatingBottom */\n      ].style.top = `${seriesRect.y + seriesRect.height - elements3[\n        \"floating-top\"\n        /* FloatingTop */\n      ].offsetHeight - margin}px`;\n    });\n  }\n  toggleVisibilities() {\n    var _a;\n    if (this.elements == null)\n      return;\n    const isGroupVisible = (group2) => this[group2].enabled && this.groupCallers[group2] > 0;\n    const isButtonVisible = (element2) => (button) => typeof button.value !== \"string\" && typeof button.value !== \"number\" || `${button.value}` === element2.dataset.toolbarValue;\n    for (const position of TOOLBAR_POSITIONS) {\n      const visible = this.enabled && Array.from(this.positions[position].values()).some(isGroupVisible);\n      this.elements[position].classList.toggle(modifiers2.hidden, !visible);\n    }\n    for (const group2 of TOOLBAR_GROUPS) {\n      if (this[group2] == null)\n        continue;\n      const visible = isGroupVisible(group2);\n      for (const button of this.groupButtons[group2]) {\n        const buttonVisible = visible && ((_a = this[group2].buttons) == null ? void 0 : _a.some(isButtonVisible(button)));\n        button.classList.toggle(modifiers2.button.hidden, !buttonVisible);\n      }\n    }\n  }\n  renderToolbar(position = \"top\") {\n    const element2 = this.elements[position];\n    element2.classList.add(block2, modifiers2[position], modifiers2.preventFlash);\n    if (position === \"floating-top\" || position === \"floating-bottom\") {\n      element2.classList.add(modifiers2.floatingHidden);\n    }\n    for (const align of TOOLBAR_ALIGNMENTS) {\n      const alignmentElement = createElement(\"div\");\n      alignmentElement.classList.add(elements2.group, modifiers2.group[align]);\n      element2.appendChild(alignmentElement);\n    }\n  }\n  createButtonElement(group2, options) {\n    const button = createElement(\"button\");\n    button.classList.add(elements2.button);\n    button.dataset.toolbarGroup = group2;\n    if (typeof options.value === \"string\" || typeof options.value === \"number\") {\n      button.dataset.toolbarValue = `${options.value}`;\n    }\n    if (options.tooltip) {\n      button.title = options.tooltip;\n    }\n    let inner = \"\";\n    if (options.icon != null) {\n      inner = `<span class=\"ag-charts-icon-${options.icon} ${elements2.icon}\"></span>`;\n    }\n    if (options.label != null) {\n      inner = `${inner}<span class=\"${elements2.label}\">${options.label}</span>`;\n    }\n    button.innerHTML = inner;\n    button.onclick = this.onButtonPress.bind(this, group2, options.value);\n    this.destroyFns.push(() => button.remove());\n    return button;\n  }\n  onButtonPress(group2, value) {\n    this.ctx.toolbarManager.pressButton(group2, value);\n  }\n};\n__decorateClass2([\n  ObserveChanges((target) => {\n    target.processPendingEvents();\n    target.toggleVisibilities();\n  }),\n  Validate(BOOLEAN)\n], Toolbar.prototype, \"enabled\", 2);\nvar DAY = 1e3 * 60 * 60 * 24;\nvar MONTH = DAY * 30;\nvar YEAR = DAY * 365;\nvar annotations = {\n  enabled: false,\n  position: \"left\",\n  align: \"start\",\n  buttons: [\n    { label: \"Li\", value: \"line\" },\n    { label: \"PCh\", value: \"parallel-channel\" }\n  ]\n};\nvar ranges = {\n  enabled: false,\n  position: \"top\",\n  align: \"start\",\n  buttons: [\n    { label: \"1m\", value: MONTH },\n    { label: \"3m\", value: 3 * MONTH },\n    { label: \"6m\", value: 6 * MONTH },\n    { label: \"YTD\", value: (_start, end) => [(/* @__PURE__ */ new Date(`${new Date(end).getFullYear()}-01-01`)).getTime(), end] },\n    { label: \"1y\", value: YEAR },\n    { label: \"All\", value: (start, end) => [start, end] }\n  ]\n};\nvar zoom = {\n  enabled: false,\n  position: \"top\",\n  align: \"end\",\n  buttons: [\n    {\n      icon: \"zoom-out\",\n      tooltip: \"Zoom out\",\n      value: \"zoom-out\"\n    },\n    {\n      icon: \"zoom-in\",\n      tooltip: \"Zoom in\",\n      value: \"zoom-in\"\n    },\n    {\n      icon: \"pan-left\",\n      tooltip: \"Pan left\",\n      value: \"pan-left\"\n    },\n    {\n      icon: \"pan-right\",\n      tooltip: \"Pan right\",\n      value: \"pan-right\"\n    },\n    {\n      icon: \"pan-start\",\n      tooltip: \"Pan to the start\",\n      value: \"pan-start\"\n    },\n    {\n      icon: \"pan-end\",\n      tooltip: \"Pan to the end\",\n      value: \"pan-end\"\n    },\n    {\n      icon: \"reset-zoom\",\n      tooltip: \"Reset the zoom\",\n      value: \"reset-zoom\"\n    }\n  ]\n};\nvar ToolbarModule = {\n  type: \"root\",\n  optionsKey: \"toolbar\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Toolbar,\n  themeTemplate: {\n    toolbar: {\n      enabled: true,\n      annotations,\n      ranges,\n      zoom\n    }\n  }\n};\nfunction registerInbuiltModules() {\n  moduleRegistry.register(\n    BackgroundModule,\n    CommunityLegendModule,\n    NavigatorModule,\n    ToolbarModule,\n    AreaSeriesModule,\n    BarSeriesModule,\n    BubbleSeriesModule,\n    LineSeriesModule,\n    ScatterSeriesModule,\n    DonutSeriesModule,\n    PieSeriesModule,\n    HistogramSeriesModule\n  );\n  for (const AxisConstructor of [NumberAxis, CategoryAxis, TimeAxis, GroupedCategoryAxis, LogAxis]) {\n    axisRegistry.register(AxisConstructor.type, {\n      instanceConstructor: AxisConstructor,\n      hidden: AxisConstructor === GroupedCategoryAxis\n    });\n  }\n}\nfunction setupModules() {\n  for (const m of moduleRegistry.modules) {\n    if (m.packageType === \"enterprise\" && !verifyIfModuleExpected(m)) {\n      Logger.errorOnce(\"Unexpected enterprise module registered: \" + m.identifier);\n    }\n    if (m.type === \"root\" && m.themeTemplate) {\n      for (const chartType2 of m.chartTypes) {\n        chartDefaults.set(chartType2, m.themeTemplate);\n      }\n    }\n    if (m.type === \"series\") {\n      if (m.chartTypes.length > 1) {\n        throw new Error(`AG Charts - Module definition error: ${m.identifier}`);\n      }\n      seriesRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"series-option\" && m.themeTemplate) {\n      for (const seriesType of m.seriesTypes) {\n        seriesRegistry.setThemeTemplate(seriesType, m.themeTemplate);\n      }\n    }\n    if (m.type === \"axis-option\" && m.themeTemplate) {\n      for (const axisType of m.axisTypes) {\n        const axisTypeTheme = m.themeTemplate[axisType];\n        const theme = __spreadValues2(__spreadValues2({}, m.themeTemplate), axisTypeTheme);\n        for (const innerAxisType of m.axisTypes) {\n          delete theme[innerAxisType];\n        }\n        axisRegistry.setThemeTemplate(axisType, theme);\n      }\n    }\n    if (m.type === \"axis\") {\n      axisRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"legend\") {\n      legendRegistry.register(m.identifier, m);\n    }\n  }\n  if (moduleRegistry.hasEnterpriseModules()) {\n    const expectedButUnused = getUnusedExpectedModules();\n    if (expectedButUnused.length > 0) {\n      Logger.errorOnce(\"Enterprise modules expected but not registered: \", expectedButUnused);\n    }\n  }\n}\nvar _HierarchyChart = class _HierarchyChart2 extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_HierarchyChart2.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: { padding },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n      }\n      yield Promise.all(\n        this.series.map((series) => __async(this, null, function* () {\n          yield series.update({ seriesRect: shrinkRect });\n        }))\n      );\n      seriesRoot.visible = this.series[0].visible;\n      seriesRoot.setClipRectInGroupCoordinateSpace(\n        new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height)\n      );\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: true },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_HierarchyChart.className = \"HierarchyChart\";\n_HierarchyChart.type = \"hierarchy\";\nvar HierarchyChart = _HierarchyChart;\nvar PolarAxis = class extends Axis {\n  constructor() {\n    super(...arguments);\n    this.shape = \"polygon\";\n    this.innerRadiusRatio = 0;\n    this.defaultTickMinSpacing = 20;\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n};\n__decorateClass2([\n  Validate(UNION([\"polygon\", \"circle\"], \"a polar axis shape\"))\n], PolarAxis.prototype, \"shape\", 2);\n__decorateClass2([\n  Validate(RATIO)\n], PolarAxis.prototype, \"innerRadiusRatio\", 2);\nvar _PolarChart = class _PolarChart2 extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.padding = new Padding(40);\n    this.axisGroup.zIndex = 6;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_PolarChart2.prototype, this, \"performLayout\").call(this);\n      const fullSeriesRect = shrinkRect.clone();\n      this.computeSeriesRect(shrinkRect);\n      yield this.computeCircle(shrinkRect);\n      this.axes.forEach((axis) => axis.update());\n      this.hoverRect = shrinkRect;\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: true },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n  updateAxes(cx, cy, radius) {\n    var _a, _b;\n    const angleAxis = this.axes.find(\n      (axis) => axis.direction === \"x\"\n      /* X */\n    );\n    const radiusAxis = this.axes.find(\n      (axis) => axis.direction === \"y\"\n      /* Y */\n    );\n    if (!(angleAxis instanceof PolarAxis) || !(radiusAxis instanceof PolarAxis)) {\n      return;\n    }\n    const angleScale = angleAxis.scale;\n    const angles = (_a = angleScale.ticks) == null ? void 0 : _a.call(angleScale).map((value) => angleScale.convert(value));\n    const innerRadiusRatio = radiusAxis.innerRadiusRatio;\n    angleAxis.innerRadiusRatio = innerRadiusRatio;\n    (_b = angleAxis.computeRange) == null ? void 0 : _b.call(angleAxis);\n    angleAxis.gridLength = radius;\n    radiusAxis.gridAngles = angles;\n    radiusAxis.gridRange = angleAxis.range;\n    radiusAxis.range = [radius, radius * innerRadiusRatio];\n    [angleAxis, radiusAxis].forEach((axis) => {\n      axis.translation.x = cx;\n      axis.translation.y = cy;\n      axis.calculateLayout();\n    });\n  }\n  computeSeriesRect(shrinkRect) {\n    const {\n      seriesArea: { padding }\n    } = this;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    this.seriesRect = shrinkRect;\n    this.animationRect = shrinkRect;\n  }\n  computeCircle(seriesBox) {\n    return __async(this, null, function* () {\n      const polarSeries = this.series.filter((series) => {\n        return series instanceof PolarSeries;\n      });\n      const polarAxes = this.axes.filter((axis) => {\n        return axis instanceof PolarAxis;\n      });\n      const setSeriesCircle = (cx, cy, r) => {\n        this.updateAxes(cx, cy, r);\n        polarSeries.forEach((series) => {\n          series.centerX = cx;\n          series.centerY = cy;\n          series.radius = r;\n        });\n        const pieSeries = polarSeries.filter((s) => {\n          return s instanceof PieSeries || s instanceof DonutSeries;\n        });\n        if (pieSeries.length > 1) {\n          const innerRadii = pieSeries.map((series) => {\n            const innerRadius = series.getInnerRadius();\n            return { series, innerRadius };\n          }).sort((a, b) => a.innerRadius - b.innerRadius);\n          innerRadii.at(-1).series.surroundingRadius = void 0;\n          for (let i = 0; i < innerRadii.length - 1; i++) {\n            innerRadii[i].series.surroundingRadius = innerRadii[i + 1].innerRadius;\n          }\n        }\n      };\n      const centerX = seriesBox.x + seriesBox.width / 2;\n      const centerY = seriesBox.y + seriesBox.height / 2;\n      const initialRadius = Math.max(0, Math.min(seriesBox.width, seriesBox.height) / 2);\n      let radius = initialRadius;\n      setSeriesCircle(centerX, centerY, radius);\n      const shake = (..._0) => __async(this, [..._0], function* ({ hideWhenNecessary = false } = {}) {\n        const labelBoxes = [];\n        for (const series of [...polarAxes, ...polarSeries]) {\n          const box = yield series.computeLabelsBBox({ hideWhenNecessary }, seriesBox);\n          if (box) {\n            labelBoxes.push(box);\n          }\n        }\n        if (labelBoxes.length === 0) {\n          setSeriesCircle(centerX, centerY, initialRadius);\n          return;\n        }\n        const labelBox = BBox.merge(labelBoxes);\n        const refined = this.refineCircle(labelBox, radius, seriesBox);\n        setSeriesCircle(refined.centerX, refined.centerY, refined.radius);\n        if (refined.radius === radius) {\n          return;\n        }\n        radius = refined.radius;\n      });\n      yield shake();\n      yield shake();\n      yield shake();\n      yield shake({ hideWhenNecessary: true });\n      yield shake({ hideWhenNecessary: true });\n      return { radius, centerX, centerY };\n    });\n  }\n  refineCircle(labelsBox, radius, seriesBox) {\n    const minCircleRatio = 0.5;\n    const circleLeft = -radius;\n    const circleTop = -radius;\n    const circleRight = radius;\n    const circleBottom = radius;\n    let padLeft = Math.max(0, circleLeft - labelsBox.x);\n    let padTop = Math.max(0, circleTop - labelsBox.y);\n    let padRight = Math.max(0, labelsBox.x + labelsBox.width - circleRight);\n    let padBottom = Math.max(0, labelsBox.y + labelsBox.height - circleBottom);\n    padLeft = padRight = Math.max(padLeft, padRight);\n    padTop = padBottom = Math.max(padTop, padBottom);\n    const availCircleWidth = seriesBox.width - padLeft - padRight;\n    const availCircleHeight = seriesBox.height - padTop - padBottom;\n    let newRadius = Math.min(availCircleWidth, availCircleHeight) / 2;\n    const minHorizontalRadius = minCircleRatio * seriesBox.width / 2;\n    const minVerticalRadius = minCircleRatio * seriesBox.height / 2;\n    const minRadius = Math.min(minHorizontalRadius, minVerticalRadius);\n    if (newRadius < minRadius) {\n      newRadius = minRadius;\n      const horizontalPadding = padLeft + padRight;\n      const verticalPadding = padTop + padBottom;\n      if (2 * newRadius + verticalPadding > seriesBox.height) {\n        const padHeight = seriesBox.height - 2 * newRadius;\n        if (Math.min(padTop, padBottom) * 2 > padHeight) {\n          padTop = padHeight / 2;\n          padBottom = padHeight / 2;\n        } else if (padTop > padBottom) {\n          padTop = padHeight - padBottom;\n        } else {\n          padBottom = padHeight - padTop;\n        }\n      }\n      if (2 * newRadius + horizontalPadding > seriesBox.width) {\n        const padWidth = seriesBox.width - 2 * newRadius;\n        if (Math.min(padLeft, padRight) * 2 > padWidth) {\n          padLeft = padWidth / 2;\n          padRight = padWidth / 2;\n        } else if (padLeft > padRight) {\n          padLeft = padWidth - padRight;\n        } else {\n          padRight = padWidth - padLeft;\n        }\n      }\n    }\n    const newWidth = padLeft + 2 * newRadius + padRight;\n    const newHeight = padTop + 2 * newRadius + padBottom;\n    return {\n      centerX: seriesBox.x + (seriesBox.width - newWidth) / 2 + padLeft + newRadius,\n      centerY: seriesBox.y + (seriesBox.height - newHeight) / 2 + padTop + newRadius,\n      radius: newRadius\n    };\n  }\n};\n_PolarChart.className = \"PolarChart\";\n_PolarChart.type = \"polar\";\nvar PolarChart = _PolarChart;\nvar radsInDeg = Math.PI / 180;\nvar lonX = (lon) => lon * radsInDeg;\nvar latY = (lat) => -Math.log(Math.tan(Math.PI * 0.25 + lat * radsInDeg * 0.5));\nvar xLon = (x) => x / radsInDeg;\nvar yLat = (y) => (Math.atan(Math.exp(-y)) - Math.PI * 0.25) / (radsInDeg * 0.5);\nvar MercatorScale = class _MercatorScale {\n  constructor(domain, range3) {\n    this.domain = domain;\n    this.range = range3;\n    this.type = \"mercator\";\n    this.bounds = _MercatorScale.bounds(domain);\n  }\n  static bounds(domain) {\n    const [[lon0, lat0], [lon1, lat1]] = domain;\n    const x0 = lonX(lon0);\n    const y0 = latY(lat0);\n    const x1 = lonX(lon1);\n    const y1 = latY(lat1);\n    return new BBox(Math.min(x0, x1), Math.min(y0, y1), Math.abs(x1 - x0), Math.abs(y1 - y0));\n  }\n  static fixedScale() {\n    return new _MercatorScale(\n      [\n        [xLon(0), yLat(0)],\n        [xLon(1), yLat(1)]\n      ],\n      [\n        [0, 0],\n        [1, 1]\n      ]\n    );\n  }\n  convert([lon, lat]) {\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [(lonX(lon) - this.bounds.x) * xScale + x0, (latY(lat) - this.bounds.y) * yScale + y0];\n  }\n  invert([x, y]) {\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [xLon((x - x0) / xScale + this.bounds.x), yLat((y - y0) / yScale + this.bounds.y)];\n  }\n};\nfunction isTopologySeries(series) {\n  return series.type === \"map-shape\" || series.type === \"map-line\" || series.type === \"map-marker\" || series.type === \"map-shape-background\" || series.type === \"map-line-background\";\n}\nvar _TopologyChart = class _TopologyChart2 extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.xAxis = new NumberAxis(this.getModuleContext());\n    this.xAxis.position = \"bottom\";\n    this.yAxis = new NumberAxis(this.getModuleContext());\n    this.yAxis.position = \"left\";\n    this.ctx.zoomManager.updateAxes([this.xAxis, this.yAxis]);\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      yield __superGet(_TopologyChart2.prototype, this, \"updateData\").call(this);\n      const { topology } = this.getOptions();\n      this.series.forEach((series) => {\n        if (isTopologySeries(series)) {\n          series.setChartTopology(topology);\n        }\n      });\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_TopologyChart2.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: { padding },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      const mapSeries = this.series.filter(isTopologySeries);\n      const combinedBbox = mapSeries.reduce((combined, series) => {\n        if (!series.visible)\n          return combined;\n        const bbox = series.topologyBounds;\n        if (bbox == null)\n          return combined;\n        if (combined == null)\n          return bbox;\n        combined.merge(bbox);\n        return combined;\n      }, void 0);\n      let scale2;\n      if (combinedBbox != null) {\n        const { lon0, lat0, lon1, lat1 } = combinedBbox;\n        const domain = [\n          [lon0, lat0],\n          [lon1, lat1]\n        ];\n        const bounds = MercatorScale.bounds(domain);\n        const { width, height } = shrinkRect;\n        const viewBoxScale = Math.min(width / bounds.width, height / bounds.height);\n        const viewBoxWidth = bounds.width * viewBoxScale;\n        const viewBoxHeight = bounds.height * viewBoxScale;\n        const viewBoxOriginX = (width - viewBoxWidth) / 2;\n        const viewBoxOriginY = (height - viewBoxHeight) / 2;\n        const x0 = viewBoxOriginX;\n        const y0 = viewBoxOriginY;\n        const x1 = viewBoxOriginX + viewBoxWidth;\n        const y1 = viewBoxOriginY + viewBoxHeight;\n        const xZoom = this.ctx.zoomManager.getAxisZoom(this.xAxis.id);\n        const yZoom = this.ctx.zoomManager.getAxisZoom(this.yAxis.id);\n        const xSpan = (x1 - x0) / (xZoom.max - xZoom.min);\n        const xStart = x0 - xSpan * xZoom.min;\n        const ySpan = (y1 - y0) / (1 - yZoom.min - (1 - yZoom.max));\n        const yStart = y0 - ySpan * (1 - yZoom.max);\n        scale2 = new MercatorScale(domain, [\n          [xStart, yStart],\n          [xStart + xSpan, yStart + ySpan]\n        ]);\n      }\n      mapSeries.forEach((series) => {\n        series.scale = scale2;\n      });\n      const seriesVisible = this.series.some((s) => s.visible);\n      seriesRoot.visible = seriesVisible;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n        group2.setClipRectInGroupCoordinateSpace(\n          new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height)\n        );\n      }\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: seriesVisible },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_TopologyChart.className = \"TopologyChart\";\n_TopologyChart.type = \"topology\";\nvar TopologyChart = _TopologyChart;\nvar debug2 = Debug.create(true, \"opts\");\nfunction chartType(options) {\n  if (isAgCartesianChartOptions(options)) {\n    return \"cartesian\";\n  } else if (isAgPolarChartOptions(options)) {\n    return \"polar\";\n  } else if (isAgHierarchyChartOptions(options)) {\n    return \"hierarchy\";\n  } else if (isAgTopologyChartOptions(options)) {\n    return \"topology\";\n  }\n  throw new Error(`AG Chart - unknown type of chart for options with type: ${options.type}`);\n}\nvar _AgCharts = class _AgCharts2 {\n  static licenseCheck(options) {\n    var _a, _b, _c, _d;\n    if (this.licenseChecked)\n      return;\n    this.licenseManager = (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, options);\n    (_c = this.licenseManager) == null ? void 0 : _c.setLicenseKey(this.licenseKey, this.gridContext);\n    (_d = this.licenseManager) == null ? void 0 : _d.validateLicense();\n    this.licenseChecked = true;\n  }\n  static setLicenseKey(licenseKey) {\n    this.licenseKey = licenseKey;\n  }\n  static setGridContext(gridContext) {\n    this.gridContext = gridContext;\n  }\n  static getLicenseDetails(licenseKey) {\n    var _a, _b;\n    return (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, {}).getLicenseDetails(licenseKey);\n  }\n  /**\n   * Returns the `AgChartInstance` for a DOM node, if there is one.\n   */\n  static getInstance(element2) {\n    return AgChartsInternal.getInstance(element2);\n  }\n  /**\n   * Create a new `AgChartInstance` based upon the given configuration options.\n   */\n  static create(options) {\n    var _a, _b, _c;\n    this.licenseCheck(options);\n    const chart = AgChartsInternal.createOrUpdate(options);\n    if ((_a = this.licenseManager) == null ? void 0 : _a.isDisplayWatermark()) {\n      (_c = (_b = enterpriseModule).injectWatermark) == null ? void 0 : _c.call(_b, chart.chart.element, this.licenseManager.getWatermarkMessage());\n    }\n    return chart;\n  }\n  /**\n   * Update an existing `AgChartInstance`. Options provided should be complete and not\n   * partial.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static update(chart, options) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts2.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.createOrUpdate(options, chart);\n  }\n  /**\n   * Update an existing `AgChartInstance` by applying a partial set of option changes.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, each individual delta options update\n   * should leave the chart in a valid options state. Also, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static updateDelta(chart, deltaOptions) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts2.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.updateUserDelta(chart, deltaOptions);\n  }\n  /**\n   * Starts a browser-based image download for the given `AgChartInstance`.\n   */\n  static download(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts2.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.download(chart, options).catch((e) => Logger.errorOnce(e));\n  }\n  /**\n   * Returns a base64-encoded image data URL for the given `AgChartInstance`.\n   */\n  static getImageDataURL(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts2.INVALID_CHART_REF_MESSAGE);\n    }\n    return AgChartsInternal.getImageDataURL(chart, options);\n  }\n};\n_AgCharts.INVALID_CHART_REF_MESSAGE = \"AG Charts - invalid chart reference passed\";\n_AgCharts.licenseChecked = false;\n_AgCharts.gridContext = false;\nvar _AgChartsInternal = class _AgChartsInternal2 {\n  static getInstance(element2) {\n    const chart = Chart.getInstance(element2);\n    return chart ? AgChartInstanceProxy.chartInstances.get(chart) : void 0;\n  }\n  static initialiseModules() {\n    if (_AgChartsInternal2.initialised)\n      return;\n    registerInbuiltModules();\n    setupModules();\n    _AgChartsInternal2.initialised = true;\n  }\n  static createOrUpdate(options, proxy) {\n    var _b;\n    _AgChartsInternal2.initialiseModules();\n    debug2(\">>> AgChartV2.createOrUpdate() user options\", options);\n    const _a = options, { overrideDevicePixelRatio, document: document2, window: userWindow } = _a, userOptions = __objRest(_a, [\"overrideDevicePixelRatio\", \"document\", \"window\"]);\n    const chartOptions = new ChartOptions(userOptions, { overrideDevicePixelRatio, document: document2, window: userWindow });\n    let chart = proxy == null ? void 0 : proxy.chart;\n    if (chart == null || chartType(userOptions) !== chartType(chart.processedOptions)) {\n      chart = _AgChartsInternal2.createChartInstance(chartOptions, chart);\n    }\n    if (proxy == null) {\n      proxy = new AgChartInstanceProxy(chart);\n    } else {\n      proxy.chart = chart;\n    }\n    if (debug2.check() && typeof window !== \"undefined\") {\n      (_b = window.agChartInstances) != null ? _b : window.agChartInstances = {};\n      window.agChartInstances[chart.id] = chart;\n    }\n    chart.queuedUserOptions.push(userOptions);\n    chart.requestFactoryUpdate((chartRef) => {\n      chartRef.applyOptions(chartOptions);\n      chartRef.queuedUserOptions.splice(0, chartRef.queuedUserOptions.indexOf(userOptions));\n    });\n    return proxy;\n  }\n  static updateUserDelta(proxy, deltaOptions) {\n    deltaOptions = deepClone(deltaOptions, { shallow: [\"data\"] });\n    jsonWalk(\n      deltaOptions,\n      (node) => {\n        if (typeof node !== \"object\")\n          return;\n        for (const [key, value] of Object.entries(node)) {\n          if (typeof value === \"undefined\") {\n            Object.assign(node, { [key]: Symbol(\"UNSET\") });\n          }\n        }\n      },\n      { skip: [\"data\"] }\n    );\n    const { chart } = proxy;\n    const lastUpdateOptions = chart.getOptions();\n    const userOptions = mergeDefaults(deltaOptions, lastUpdateOptions);\n    debug2(\">>> AgChartV2.updateUserDelta() user delta\", deltaOptions);\n    debug2(\"AgChartV2.updateUserDelta() - base options\", lastUpdateOptions);\n    _AgChartsInternal2.createOrUpdate(userOptions, proxy);\n  }\n  /**\n   * Returns the content of the current canvas as an image.\n   */\n  static download(proxy, opts) {\n    return __async(this, null, function* () {\n      try {\n        const clone = yield _AgChartsInternal2.prepareResizedChart(proxy, opts);\n        clone.chart.ctx.scene.download(opts == null ? void 0 : opts.fileName, opts == null ? void 0 : opts.fileFormat);\n        clone.destroy();\n      } catch (error) {\n        Logger.errorOnce(error);\n      }\n    });\n  }\n  static getImageDataURL(proxy, opts) {\n    return __async(this, null, function* () {\n      const clone = yield _AgChartsInternal2.prepareResizedChart(proxy, opts);\n      const result = clone.chart.ctx.scene.getDataURL(opts == null ? void 0 : opts.fileFormat);\n      clone.destroy();\n      return result;\n    });\n  }\n  static prepareResizedChart(_0) {\n    return __async(this, arguments, function* ({ chart }, opts = {}) {\n      var _a, _b, _c, _d;\n      const width = (_b = (_a = opts.width) != null ? _a : chart.width) != null ? _b : chart.ctx.scene.canvas.width;\n      const height = (_d = (_c = opts.height) != null ? _c : chart.height) != null ? _d : chart.ctx.scene.canvas.height;\n      const options = mergeDefaults(\n        {\n          container: document.createElement(\"div\"),\n          overrideDevicePixelRatio: 1,\n          autoSize: false,\n          width,\n          height\n        },\n        // Disable enterprise features that may interfere with image generation.\n        moduleRegistry.hasEnterpriseModules() && { animation: { enabled: false } },\n        chart.userOptions\n      );\n      const cloneProxy = _AgChartsInternal2.createOrUpdate(options);\n      cloneProxy.chart.ctx.zoomManager.updateZoom(\"agChartV2\", chart.ctx.zoomManager.getZoom());\n      chart.series.forEach((series, index) => {\n        if (!series.visible) {\n          cloneProxy.chart.series[index].visible = false;\n        }\n      });\n      chart.update(0, { forceNodeDataRefresh: true });\n      yield cloneProxy.chart.waitForUpdate();\n      return cloneProxy;\n    });\n  }\n  static createChartInstance(options, oldChart) {\n    const transferableResource = oldChart == null ? void 0 : oldChart.destroy({ keepTransferableResources: true });\n    const ChartConstructor = _AgChartsInternal2.getChartByOptions(options.processedOptions);\n    return new ChartConstructor(options, transferableResource);\n  }\n  static getChartByOptions(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return CartesianChart;\n    } else if (isAgHierarchyChartOptions(options)) {\n      return HierarchyChart;\n    } else if (isAgPolarChartOptions(options)) {\n      return PolarChart;\n    } else if (isAgTopologyChartOptions(options)) {\n      return TopologyChart;\n    }\n    throw new Error(\n      `AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified`\n    );\n  }\n};\n_AgChartsInternal.initialised = false;\nvar AgChartsInternal = _AgChartsInternal;\nvar integrated_charts_scene_exports = {};\n__export(integrated_charts_scene_exports, {\n  Arc: () => Arc2,\n  BBox: () => BBox,\n  BandScale: () => BandScale,\n  Caption: () => Caption,\n  ChangeDetectableProperties: () => ChangeDetectableProperties,\n  Circle: () => Circle,\n  ContinuousScale: () => ContinuousScale,\n  Diamond: () => Diamond,\n  DropShadow: () => DropShadow,\n  ExtendedPath2D: () => ExtendedPath2D,\n  Group: () => Group,\n  HdpiCanvas: () => HdpiCanvas,\n  Image: () => Image,\n  Label: () => Label,\n  Line: () => Line,\n  LinearGradientFill: () => LinearGradientFill,\n  LinearScale: () => LinearScale,\n  Marker: () => Marker,\n  Node: () => Node,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  Path: () => Path,\n  PointerEvents: () => PointerEvents,\n  RadialColumnShape: () => RadialColumnShape,\n  Rect: () => Rect,\n  RedrawType: () => RedrawType,\n  Scene: () => Scene,\n  SceneChangeDetection: () => SceneChangeDetection,\n  ScenePathChangeDetection: () => ScenePathChangeDetection,\n  Sector: () => Sector,\n  SectorBox: () => SectorBox,\n  Selection: () => Selection,\n  Shape: () => Shape,\n  Square: () => Square,\n  Text: () => Text,\n  Tooltip: () => Tooltip,\n  Triangle: () => Triangle,\n  easing: () => easing_exports,\n  getFont: () => getFont,\n  getMarker: () => getMarker,\n  getRadialColumnWidth: () => getRadialColumnWidth,\n  motion: () => motion,\n  nearestSquared: () => nearestSquared,\n  nearestSquaredInContainer: () => nearestSquaredInContainer,\n  toRadians: () => toRadians,\n  toTooltipHtml: () => toTooltipHtml\n});\nvar Arc2 = class extends Path {\n  constructor() {\n    super();\n    this.centerX = 0;\n    this.centerY = 0;\n    this.radius = 10;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.counterClockwise = false;\n    this.type = 0;\n    this.restoreOwnStyles();\n  }\n  get fullPie() {\n    return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n  }\n  updatePath() {\n    const path = this.path;\n    path.clear();\n    path.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, this.counterClockwise);\n    if (this.type === 1) {\n      path.closePath();\n    } else if (this.type === 2 && !this.fullPie) {\n      path.lineTo(this.centerX, this.centerY);\n      path.closePath();\n    }\n  }\n  computeBBox() {\n    return new BBox(this.centerX - this.radius, this.centerY - this.radius, this.radius * 2, this.radius * 2);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return this.type !== 0 && bbox.containsPoint(point.x, point.y) && this.path.isPointInPath(point.x, point.y);\n  }\n};\nArc2.className = \"Arc\";\nArc2.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  lineWidth: 1,\n  fillStyle: null\n});\n__decorateClass2([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"centerX\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"centerY\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"radius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"startAngle\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"endAngle\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"counterClockwise\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"type\", 2);\nvar LinearGradientFill = class extends Shape {\n  constructor() {\n    super(...arguments);\n    this.direction = \"to-right\";\n    this.stops = void 0;\n    this._mask = void 0;\n  }\n  get mask() {\n    return this._mask;\n  }\n  set mask(newMask) {\n    if (this._mask != null) {\n      this.removeChild(this._mask);\n    }\n    if (newMask != null) {\n      this.appendChild(newMask);\n    }\n    this._mask = newMask;\n  }\n  isPointInPath(x, y) {\n    var _a, _b;\n    return (_b = (_a = this.mask) == null ? void 0 : _a.isPointInPath(x, y)) != null ? _b : false;\n  }\n  computeBBox() {\n    var _a;\n    return (_a = this.mask) == null ? void 0 : _a.computeBBox();\n  }\n  render(renderCtx) {\n    const { mask, stops } = this;\n    const { ctx, devicePixelRatio } = renderCtx;\n    const pixelLength = 1 / devicePixelRatio;\n    const maskBbox = mask == null ? void 0 : mask.computeTransformedBBox();\n    if (mask == null || stops == null || maskBbox == null)\n      return;\n    if (mask.dirtyPath) {\n      mask.updatePath();\n      mask.dirtyPath = false;\n    }\n    ctx.save();\n    ctx.clip(mask.path.getPath2D());\n    ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);\n    const x0 = Math.floor(maskBbox.x);\n    const x1 = Math.ceil(maskBbox.x + maskBbox.width);\n    const y0 = Math.floor(maskBbox.y);\n    const y1 = Math.ceil(maskBbox.y + maskBbox.height);\n    const colorScale = new ColorScale();\n    const [i0, i1] = this.direction === \"to-right\" ? [x0, x1] : [y0, y1];\n    colorScale.domain = stops.map((_, index) => {\n      return i0 + (i1 - i0) * index / (stops.length - 1);\n    });\n    colorScale.range = stops;\n    colorScale.update();\n    if (this.direction === \"to-right\") {\n      const height = y1 - y0;\n      for (let x = x0; x <= x1; x += pixelLength) {\n        ctx.fillStyle = colorScale.convert(x);\n        ctx.fillRect(x, y0, pixelLength, height);\n      }\n    } else {\n      const width = x1 - x0;\n      for (let y = y0; y <= y1; y += pixelLength) {\n        ctx.fillStyle = colorScale.convert(y);\n        ctx.fillRect(x0, y, width, pixelLength);\n      }\n    }\n    ctx.restore();\n  }\n};\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], LinearGradientFill.prototype, \"direction\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], LinearGradientFill.prototype, \"stops\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], LinearGradientFill.prototype, \"_mask\", 2);\nfunction rotatePoint(x, y, rotation) {\n  const radius = Math.sqrt(__pow(x, 2) + __pow(y, 2));\n  const angle = Math.atan2(y, x);\n  const rotated = angle + rotation;\n  return {\n    x: Math.cos(rotated) * radius,\n    y: Math.sin(rotated) * radius\n  };\n}\nvar RadialColumnShape = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.isBeveled = true;\n    this.columnWidth = 0;\n    this.startAngle = 0;\n    this.endAngle = 0;\n    this.outerRadius = 0;\n    this.innerRadius = 0;\n    this.axisInnerRadius = 0;\n    this.axisOuterRadius = 0;\n    this.isRadiusAxisReversed = false;\n  }\n  getRotation() {\n    const { startAngle, endAngle } = this;\n    const midAngle = angleBetween(startAngle, endAngle);\n    return normalizeAngle360(startAngle + midAngle / 2 + Math.PI / 2);\n  }\n  updatePath() {\n    const { isBeveled } = this;\n    if (isBeveled) {\n      this.updateBeveledPath();\n    } else {\n      this.updateRectangularPath();\n    }\n    this.checkPathDirty();\n  }\n  updateRectangularPath() {\n    const { columnWidth, innerRadius, outerRadius, path } = this;\n    const left = -columnWidth / 2;\n    const right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius;\n    const rotation = this.getRotation();\n    const points = [\n      [left, bottom],\n      [left, top],\n      [right, top],\n      [right, bottom],\n      [left, bottom]\n    ].map(([x, y]) => rotatePoint(x, y, rotation));\n    path.clear(true);\n    path.moveTo(points[0].x, points[0].y);\n    path.lineTo(points[1].x, points[1].y);\n    path.lineTo(points[2].x, points[2].y);\n    path.lineTo(points[3].x, points[3].y);\n    path.lineTo(points[0].x, points[0].y);\n    path.closePath();\n  }\n  updateBeveledPath() {\n    const { columnWidth, path, outerRadius, innerRadius, axisInnerRadius, axisOuterRadius, isRadiusAxisReversed } = this;\n    const isStackBottom = isEqual(innerRadius, axisInnerRadius);\n    const sideRotation = Math.asin(columnWidth / 2 / innerRadius);\n    const pointRotation = this.getRotation();\n    const rotate = (x, y) => rotatePoint(x, y, pointRotation);\n    const getTriangleHypotenuse = (leg, otherLeg) => Math.sqrt(__pow(leg, 2) + __pow(otherLeg, 2));\n    const getTriangleLeg = (hypotenuse, otherLeg) => {\n      if (otherLeg > hypotenuse) {\n        return 0;\n      }\n      return Math.sqrt(__pow(hypotenuse, 2) - __pow(otherLeg, 2));\n    };\n    const compare = (value, otherValue, lessThan) => lessThan ? value < otherValue : value > otherValue;\n    const shouldConnectBottomCircle = isStackBottom && !isNaN(sideRotation) && sideRotation < Math.PI / 6;\n    let left = -columnWidth / 2;\n    let right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius * (shouldConnectBottomCircle ? Math.cos(sideRotation) : 1);\n    const hasBottomIntersection = compare(\n      axisOuterRadius,\n      getTriangleHypotenuse(innerRadius, columnWidth / 2),\n      !isRadiusAxisReversed\n    );\n    if (hasBottomIntersection) {\n      const bottomIntersectionX = getTriangleLeg(axisOuterRadius, innerRadius);\n      left = -bottomIntersectionX;\n      right = bottomIntersectionX;\n    }\n    path.clear(true);\n    const bottomLeftPt = rotate(left, bottom);\n    path.moveTo(bottomLeftPt.x, bottomLeftPt.y);\n    const isEmpty = isEqual(innerRadius, outerRadius);\n    const hasSideIntersection = compare(\n      axisOuterRadius,\n      getTriangleHypotenuse(outerRadius, columnWidth / 2),\n      !isRadiusAxisReversed\n    );\n    if (isEmpty && shouldConnectBottomCircle) {\n      path.arc(\n        0,\n        0,\n        innerRadius,\n        normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation,\n        normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation,\n        false\n      );\n    } else if (hasSideIntersection) {\n      const sideIntersectionY = -getTriangleLeg(axisOuterRadius, columnWidth / 2);\n      const topIntersectionX = getTriangleLeg(axisOuterRadius, outerRadius);\n      if (!hasBottomIntersection) {\n        const topLeftPt = rotate(left, sideIntersectionY);\n        path.lineTo(topLeftPt.x, topLeftPt.y);\n      }\n      path.arc(\n        0,\n        0,\n        axisOuterRadius,\n        Math.atan2(sideIntersectionY, left) + pointRotation,\n        Math.atan2(top, -topIntersectionX) + pointRotation,\n        false\n      );\n      if (!isEqual(topIntersectionX, 0)) {\n        const topRightBevelPt = rotate(topIntersectionX, top);\n        path.lineTo(topRightBevelPt.x, topRightBevelPt.y);\n      }\n      path.arc(\n        0,\n        0,\n        axisOuterRadius,\n        Math.atan2(top, topIntersectionX) + pointRotation,\n        Math.atan2(sideIntersectionY, right) + pointRotation,\n        false\n      );\n    } else {\n      const topLeftPt = rotate(left, top);\n      const topRightPt = rotate(right, top);\n      path.lineTo(topLeftPt.x, topLeftPt.y);\n      path.lineTo(topRightPt.x, topRightPt.y);\n    }\n    const bottomRightPt = rotate(right, bottom);\n    path.lineTo(bottomRightPt.x, bottomRightPt.y);\n    if (shouldConnectBottomCircle) {\n      path.arc(\n        0,\n        0,\n        innerRadius,\n        normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation,\n        normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation,\n        true\n      );\n    } else {\n      const rotatedBottomLeftPt = rotate(left, bottom);\n      path.lineTo(rotatedBottomLeftPt.x, rotatedBottomLeftPt.y);\n    }\n    path.closePath();\n  }\n};\nRadialColumnShape.className = \"RadialColumnShape\";\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"isBeveled\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"columnWidth\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"startAngle\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"endAngle\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"outerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"innerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"axisInnerRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"axisOuterRadius\", 2);\n__decorateClass2([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"isRadiusAxisReversed\", 2);\nfunction getRadialColumnWidth(startAngle, endAngle, axisOuterRadius, columnWidthRatio, maxColumnWidthRatio) {\n  const rotation = angleBetween(startAngle, endAngle);\n  const pad2 = rotation * (1 - columnWidthRatio) / 2;\n  startAngle += pad2;\n  endAngle -= pad2;\n  if (rotation < 1e-3) {\n    return 2 * axisOuterRadius * maxColumnWidthRatio;\n  }\n  if (rotation >= 2 * Math.PI) {\n    const midAngle = startAngle + rotation / 2;\n    startAngle = midAngle - Math.PI;\n    endAngle = midAngle + Math.PI;\n  }\n  const startX = axisOuterRadius * Math.cos(startAngle);\n  const startY = axisOuterRadius * Math.sin(startAngle);\n  const endX = axisOuterRadius * Math.cos(endAngle);\n  const endY = axisOuterRadius * Math.sin(endAngle);\n  const colWidth = Math.floor(Math.sqrt(__pow(startX - endX, 2) + __pow(startY - endY, 2)));\n  const maxWidth = 2 * axisOuterRadius * maxColumnWidthRatio;\n  return Math.max(1, Math.min(maxWidth, colWidth));\n}\nvar Image = class extends Node {\n  constructor(sourceImage) {\n    super();\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.height = 0;\n    this.opacity = 1;\n    this.sourceImage = sourceImage;\n  }\n  render(renderCtx) {\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 && !forceRender) {\n      if (stats)\n        stats.nodesSkipped++;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const image = this.sourceImage;\n    ctx.globalAlpha = this.opacity;\n    ctx.drawImage(image, 0, 0, image.width, image.height, this.x, this.y, this.width, this.height);\n    super.render(renderCtx);\n  }\n};\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Image.prototype, \"x\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Image.prototype, \"y\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Image.prototype, \"width\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Image.prototype, \"height\", 2);\n__decorateClass2([\n  SceneChangeDetection({\n    redraw: 3\n    /* MAJOR */\n  })\n], Image.prototype, \"opacity\", 2);\nvar motion = __spreadValues2(__spreadValues2({}, fromToMotion_exports), resetMotion_exports);\nvar integrated_charts_theme_exports = {};\n__export(integrated_charts_theme_exports, {\n  CARTESIAN_AXIS_TYPE: () => CARTESIAN_AXIS_TYPE,\n  ChartTheme: () => ChartTheme,\n  DEFAULT_ANNOTATION_BACKGROUND_FILL: () => DEFAULT_ANNOTATION_BACKGROUND_FILL,\n  DEFAULT_ANNOTATION_HANDLE_FILL: () => DEFAULT_ANNOTATION_HANDLE_FILL,\n  DEFAULT_ANNOTATION_STROKE: () => DEFAULT_ANNOTATION_STROKE,\n  DEFAULT_AXIS_GRID_COLOUR: () => DEFAULT_AXIS_GRID_COLOUR,\n  DEFAULT_AXIS_LINE_COLOUR: () => DEFAULT_AXIS_LINE_COLOUR,\n  DEFAULT_BACKGROUND_COLOUR: () => DEFAULT_BACKGROUND_COLOUR,\n  DEFAULT_COLOURS: () => DEFAULT_COLOURS,\n  DEFAULT_CROSS_LINES_COLOUR: () => DEFAULT_CROSS_LINES_COLOUR,\n  DEFAULT_DIVERGING_SERIES_COLOUR_RANGE: () => DEFAULT_DIVERGING_SERIES_COLOUR_RANGE,\n  DEFAULT_FONT_FAMILY: () => DEFAULT_FONT_FAMILY,\n  DEFAULT_HIERARCHY_FILLS: () => DEFAULT_HIERARCHY_FILLS,\n  DEFAULT_HIERARCHY_STROKES: () => DEFAULT_HIERARCHY_STROKES,\n  DEFAULT_INSIDE_SERIES_LABEL_COLOUR: () => DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n  DEFAULT_INVERTED_LABEL_COLOUR: () => DEFAULT_INVERTED_LABEL_COLOUR,\n  DEFAULT_LABEL_COLOUR: () => DEFAULT_LABEL_COLOUR,\n  DEFAULT_MUTED_LABEL_COLOUR: () => DEFAULT_MUTED_LABEL_COLOUR,\n  DEFAULT_POLAR_SERIES_STROKE: () => DEFAULT_POLAR_SERIES_STROKE,\n  DEFAULT_SHADOW_COLOUR: () => DEFAULT_SHADOW_COLOUR,\n  DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE: () => DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n  DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS: () => DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n  EXTENDS_AXES_DEFAULTS: () => EXTENDS_AXES_DEFAULTS,\n  EXTENDS_AXES_GRID_LINE_DEFAULTS: () => EXTENDS_AXES_GRID_LINE_DEFAULTS,\n  EXTENDS_AXES_LINE_DEFAULTS: () => EXTENDS_AXES_LINE_DEFAULTS,\n  EXTENDS_AXES_TICK_DEFAULTS: () => EXTENDS_AXES_TICK_DEFAULTS,\n  EXTENDS_CARTESIAN_MARKER_DEFAULTS: () => EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n  EXTENDS_SERIES_DEFAULTS: () => EXTENDS_SERIES_DEFAULTS,\n  FONT_SIZE: () => FONT_SIZE,\n  FONT_WEIGHT: () => FONT_WEIGHT,\n  IS_DARK_THEME: () => IS_DARK_THEME,\n  POLAR_AXIS_SHAPE: () => POLAR_AXIS_SHAPE,\n  POLAR_AXIS_TYPE: () => POLAR_AXIS_TYPE,\n  POSITION: () => POSITION,\n  getChartTheme: () => getChartTheme,\n  markerPaletteFactory: () => markerPaletteFactory,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  themes: () => themes2\n});\nvar themes2 = mapValues(themes, (themeFactory) => themeFactory == null ? void 0 : themeFactory());\nvar sparklines_scale_exports = {};\n__export(sparklines_scale_exports, {\n  BandScale: () => BandScale,\n  ColorScale: () => ColorScale,\n  ContinuousScale: () => ContinuousScale,\n  Invalidating: () => Invalidating,\n  LinearScale: () => LinearScale,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  TimeScale: () => TimeScale\n});\nvar sparklines_util_exports = {};\n__export(sparklines_util_exports, {\n  Color: () => Color,\n  Logger: () => Logger,\n  Padding: () => Padding,\n  angleBetween: () => angleBetween,\n  areArrayItemsStrictlyEqual: () => areArrayItemsStrictlyEqual,\n  areArrayNumbersEqual: () => areArrayNumbersEqual,\n  bifurcate: () => bifurcate,\n  checkDatum: () => checkDatum,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  countFractionDigits: () => countFractionDigits,\n  createId: () => createId,\n  deepClone: () => deepClone,\n  displacePointFromVector: () => displacePointFromVector,\n  extent: () => extent,\n  findMinMax: () => findMinMax,\n  findRangeExtent: () => findRangeExtent,\n  isBetweenAngles: () => isBetweenAngles,\n  isContinuous: () => isContinuous,\n  isDate: () => isValidDate,\n  isDenseInterval: () => isDenseInterval,\n  isEqual: () => isEqual,\n  isNegative: () => isNegative,\n  isNumber: () => isFiniteNumber,\n  isNumberEqual: () => isEqual,\n  isNumberObject: () => isNumberObject,\n  isString: () => isString,\n  isStringObject: () => isStringObject,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  mod: () => mod,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  normalizeAngle180: () => normalizeAngle180,\n  normalizeAngle360: () => normalizeAngle360,\n  normalizeAngle360Inclusive: () => normalizeAngle360Inclusive,\n  range: () => range,\n  resetIds: () => resetIds,\n  round: () => round,\n  sanitizeHtml: () => sanitizeHtml,\n  setAttribute: () => setAttribute,\n  shallowClone: () => shallowClone,\n  tickFormat: () => tickFormat,\n  tickStep: () => tickStep,\n  ticks: () => ticks_default,\n  toDegrees: () => toDegrees,\n  toFixed: () => toFixed,\n  toRadians: () => toRadians,\n  transformIntegratedCategoryValue: () => transformIntegratedCategoryValue,\n  zipObject: () => zipObject\n});\nfunction zipObject(keys, values) {\n  const zipped = {};\n  if (Array.isArray(values)) {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[`${keys[i]}`] = values[i];\n    }\n  } else {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[`${keys[i]}`] = values;\n    }\n  }\n  return zipped;\n}\nvar module_support_exports = {};\n__export(module_support_exports, {\n  AND: () => AND,\n  ARRAY: () => ARRAY,\n  ARRAY_OF: () => ARRAY_OF,\n  AbstractBarSeries: () => AbstractBarSeries,\n  AbstractBarSeriesProperties: () => AbstractBarSeriesProperties,\n  ActionOnSet: () => ActionOnSet,\n  Animation: () => Animation,\n  AnimationManager: () => AnimationManager,\n  AreaSeriesTag: () => AreaSeriesTag,\n  Axis: () => Axis,\n  AxisLabel: () => AxisLabel,\n  AxisTick: () => AxisTick,\n  BOOLEAN: () => BOOLEAN,\n  BOOLEAN_ARRAY: () => BOOLEAN_ARRAY,\n  Background: () => Background,\n  BackgroundModule: () => BackgroundModule,\n  BaseModuleInstance: () => BaseModuleInstance,\n  BaseProperties: () => BaseProperties,\n  COLOR_STRING: () => COLOR_STRING,\n  COLOR_STRING_ARRAY: () => COLOR_STRING_ARRAY,\n  CartesianAxis: () => CartesianAxis,\n  CartesianSeries: () => CartesianSeries,\n  CartesianSeriesNodeEvent: () => CartesianSeriesNodeEvent,\n  CartesianSeriesProperties: () => CartesianSeriesProperties,\n  CategoryAxis: () => CategoryAxis,\n  CategoryAxisTick: () => CategoryAxisTick,\n  ChartAxisDirection: () => ChartAxisDirection,\n  ChartEventManager: () => ChartEventManager,\n  ChartOptions: () => ChartOptions,\n  ChartUpdateType: () => ChartUpdateType,\n  ContextMenuRegistry: () => ContextMenuRegistry,\n  CursorManager: () => CursorManager,\n  DATE: () => DATE,\n  DATE_ARRAY: () => DATE_ARRAY,\n  DATE_OR_DATETIME_MS: () => DATE_OR_DATETIME_MS,\n  DEFAULT_CARTESIAN_DIRECTION_KEYS: () => DEFAULT_CARTESIAN_DIRECTION_KEYS,\n  DEFAULT_CARTESIAN_DIRECTION_NAMES: () => DEFAULT_CARTESIAN_DIRECTION_NAMES,\n  DEFAULT_TOOLTIP_CLASS: () => DEFAULT_TOOLTIP_CLASS,\n  DEFAULT_TOOLTIP_DARK_CLASS: () => DEFAULT_TOOLTIP_DARK_CLASS,\n  DEGREE: () => DEGREE,\n  DIRECTION: () => DIRECTION,\n  DataController: () => DataController,\n  DataModel: () => DataModel,\n  DataModelSeries: () => DataModelSeries,\n  DataService: () => DataService,\n  Default: () => Default,\n  Deprecated: () => Deprecated,\n  DeprecatedAndRenamedTo: () => DeprecatedAndRenamedTo,\n  EMPTY_TOOLTIP_CONTENT: () => EMPTY_TOOLTIP_CONTENT,\n  FONT_STYLE: () => FONT_STYLE,\n  FONT_WEIGHT: () => FONT_WEIGHT2,\n  FUNCTION: () => FUNCTION,\n  GREATER_THAN: () => GREATER_THAN,\n  GestureDetector: () => GestureDetector,\n  GroupedCategoryAxis: () => GroupedCategoryAxis,\n  HierarchyNode: () => HierarchyNode,\n  HierarchySeries: () => HierarchySeries,\n  HierarchySeriesProperties: () => HierarchySeriesProperties,\n  HighlightManager: () => HighlightManager,\n  HighlightStyle: () => HighlightStyle,\n  INTERACTION_RANGE: () => INTERACTION_RANGE,\n  InteractionManager: () => InteractionManager,\n  InteractionState: () => InteractionState,\n  LABEL_PLACEMENT: () => LABEL_PLACEMENT,\n  LESS_THAN: () => LESS_THAN,\n  LINE_CAP: () => LINE_CAP,\n  LINE_DASH: () => LINE_DASH,\n  LINE_JOIN: () => LINE_JOIN,\n  Layers: () => Layers,\n  LayoutService: () => LayoutService,\n  LonLatBBox: () => LonLatBBox,\n  MARKER_SHAPE: () => MARKER_SHAPE,\n  MATCHING_CROSSLINE_TYPE: () => MATCHING_CROSSLINE_TYPE,\n  MAX_SPACING: () => MAX_SPACING,\n  MIN_SPACING: () => MIN_SPACING,\n  MercatorScale: () => MercatorScale,\n  Motion: () => easing_exports,\n  NAN: () => NAN,\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  NUMBER: () => NUMBER,\n  NUMBER_ARRAY: () => NUMBER_ARRAY,\n  NUMBER_OR_NAN: () => NUMBER_OR_NAN,\n  Navigator: () => Navigator,\n  NavigatorModule: () => NavigatorModule,\n  OBJECT: () => OBJECT,\n  OBJECT_ARRAY: () => OBJECT_ARRAY,\n  OR: () => OR,\n  OVERFLOW_STRATEGY: () => OVERFLOW_STRATEGY,\n  ObserveChanges: () => ObserveChanges,\n  PHASE_METADATA: () => PHASE_METADATA,\n  PHASE_ORDER: () => PHASE_ORDER,\n  PLACEMENT: () => PLACEMENT,\n  PLAIN_OBJECT: () => PLAIN_OBJECT,\n  POINTER_INTERACTION_TYPES: () => POINTER_INTERACTION_TYPES,\n  POSITION: () => POSITION2,\n  POSITIVE_NUMBER: () => POSITIVE_NUMBER,\n  PolarAxis: () => PolarAxis,\n  PolarSeries: () => PolarSeries,\n  PropertiesArray: () => PropertiesArray,\n  ProxyOnWrite: () => ProxyOnWrite,\n  ProxyProperty: () => ProxyProperty,\n  ProxyPropertyOnWrite: () => ProxyPropertyOnWrite,\n  QUICK_TRANSITION: () => QUICK_TRANSITION,\n  RATIO: () => RATIO,\n  RepeatType: () => RepeatType,\n  SMALLEST_KEY_INTERVAL: () => SMALLEST_KEY_INTERVAL,\n  SORT_DOMAIN_GROUPS: () => SORT_DOMAIN_GROUPS,\n  STRING: () => STRING,\n  STRING_ARRAY: () => STRING_ARRAY,\n  Series: () => Series,\n  SeriesGroupingChangedEvent: () => SeriesGroupingChangedEvent,\n  SeriesItemHighlightStyle: () => SeriesItemHighlightStyle,\n  SeriesMarker: () => SeriesMarker,\n  SeriesNodeEvent: () => SeriesNodeEvent,\n  SeriesNodePickMode: () => SeriesNodePickMode,\n  SeriesProperties: () => SeriesProperties,\n  SeriesTooltip: () => SeriesTooltip,\n  StateMachine: () => StateMachine,\n  TEXT_ALIGN: () => TEXT_ALIGN,\n  TEXT_WRAP: () => TEXT_WRAP,\n  ToolbarManager: () => ToolbarManager,\n  Tooltip: () => Tooltip,\n  TooltipManager: () => TooltipManager,\n  TooltipPosition: () => TooltipPosition,\n  UNION: () => UNION,\n  UpdateService: () => UpdateService,\n  VERTICAL_ALIGN: () => VERTICAL_ALIGN,\n  Validate: () => Validate,\n  ZoomManager: () => ZoomManager,\n  __FORCE_MODULE_DETECTION: () => __FORCE_MODULE_DETECTION2,\n  accumulateGroup: () => accumulateGroup,\n  accumulatedValue: () => accumulatedValue,\n  accumulativeValueProperty: () => accumulativeValueProperty,\n  addHitTestersToQuadtree: () => addHitTestersToQuadtree,\n  adjustLabelPlacement: () => adjustLabelPlacement,\n  allInStringUnion: () => allInStringUnion,\n  animationValidation: () => animationValidation,\n  area: () => area,\n  arraysEqual: () => arraysEqual,\n  assignJsonApplyConstructedArray: () => assignJsonApplyConstructedArray,\n  backfillPathPointData: () => backfillPathPointData,\n  basicContinuousCheckDatumValidation: () => basicContinuousCheckDatumValidation,\n  bifurcate: () => bifurcate,\n  buildFormatter: () => buildFormatter,\n  buildResetPathFn: () => buildResetPathFn,\n  calculateDefaultTimeTickFormat: () => calculateDefaultTimeTickFormat,\n  calculatePlacement: () => calculatePlacement,\n  checkCrisp: () => checkCrisp,\n  childrenIter: () => childrenIter,\n  circularSliceArray: () => circularSliceArray,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  collapsedStartingBarPosition: () => collapsedStartingBarPosition,\n  computeBarFocusBounds: () => computeBarFocusBounds,\n  computeMarkerFocusBounds: () => computeMarkerFocusBounds,\n  computeSectorFocusBounds: () => computeSectorFocusBounds,\n  convertValuesToScaleByDefs: () => convertValuesToScaleByDefs,\n  countFractionDigits: () => countFractionDigits,\n  createDatumId: () => createDatumId,\n  createDeprecationWarning: () => createDeprecationWarning,\n  createElement: () => createElement,\n  dateToNumber: () => dateToNumber,\n  deconstructSelectionsOrNodes: () => deconstructSelectionsOrNodes,\n  deepClone: () => deepClone,\n  deepMerge: () => deepMerge,\n  defaultTimeTickFormat: () => defaultTimeTickFormat,\n  determinePathStatus: () => determinePathStatus,\n  diff: () => diff,\n  downloadUrl: () => downloadUrl,\n  enterpriseModule: () => enterpriseModule,\n  extent: () => extent,\n  extractDecoratedProperties: () => extractDecoratedProperties,\n  findMinMax: () => findMinMax,\n  findQuadtreeMatch: () => findQuadtreeMatch,\n  findRangeExtent: () => findRangeExtent,\n  fixNumericExtent: () => fixNumericExtent,\n  fromToMotion: () => fromToMotion,\n  getDocument: () => getDocument,\n  getMissCount: () => getMissCount,\n  getPath: () => getPath,\n  getRectConfig: () => getRectConfig,\n  getWindow: () => getWindow,\n  groupAccumulativeValueProperty: () => groupAccumulativeValueProperty,\n  groupAverage: () => groupAverage,\n  groupBy: () => groupBy,\n  groupCount: () => groupCount,\n  groupSum: () => groupSum,\n  injectStyle: () => injectStyle,\n  isArray: () => isArray,\n  isBoolean: () => isBoolean,\n  isDate: () => isDate,\n  isDecoratedObject: () => isDecoratedObject,\n  isDefined: () => isDefined,\n  isEnumKey: () => isEnumKey,\n  isEnumValue: () => isEnumValue,\n  isEqual: () => isEqual,\n  isFiniteNumber: () => isFiniteNumber,\n  isFunction: () => isFunction,\n  isHtmlElement: () => isHtmlElement,\n  isNegative: () => isNegative,\n  isNumber: () => isNumber,\n  isObject: () => isObject,\n  isObjectLike: () => isObjectLike,\n  isPlainObject: () => isPlainObject,\n  isProperties: () => isProperties,\n  isRegExp: () => isRegExp,\n  isString: () => isString,\n  isSymbol: () => isSymbol,\n  isValidDate: () => isValidDate,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  keyProperty: () => keyProperty,\n  listDecoratedProperties: () => listDecoratedProperties,\n  mapIterable: () => mapIterable,\n  mapValues: () => mapValues,\n  markerFadeInAnimation: () => markerFadeInAnimation,\n  markerPaletteFactory: () => markerPaletteFactory,\n  markerScaleInAnimation: () => markerScaleInAnimation,\n  markerSwipeScaleInAnimation: () => markerSwipeScaleInAnimation,\n  mergeArrayDefaults: () => mergeArrayDefaults,\n  mergeDefaults: () => mergeDefaults,\n  midpointStartingBarPosition: () => midpointStartingBarPosition,\n  minMax: () => minMax,\n  mod: () => mod,\n  moduleRegistry: () => moduleRegistry,\n  normaliseGroupTo: () => normaliseGroupTo,\n  normalisePropertyTo: () => normalisePropertyTo,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  pairCategoryData: () => pairCategoryData,\n  pairContinuousData: () => pairContinuousData,\n  partialAssign: () => partialAssign,\n  pathFadeInAnimation: () => pathFadeInAnimation,\n  pathFadeOutAnimation: () => pathFadeOutAnimation,\n  pathSwipeInAnimation: () => pathSwipeInAnimation,\n  pickByMatchingAngle: () => pickByMatchingAngle,\n  predicateWithMessage: () => predicateWithMessage,\n  prepareAreaPathAnimation: () => prepareAreaPathAnimation,\n  prepareAxisAnimationContext: () => prepareAxisAnimationContext,\n  prepareAxisAnimationFunctions: () => prepareAxisAnimationFunctions,\n  prepareBarAnimationFunctions: () => prepareBarAnimationFunctions,\n  prepareLinePathAnimation: () => prepareLinePathAnimation,\n  prepareLinePathAnimationFns: () => prepareLinePathAnimationFns,\n  prepareMarkerAnimation: () => prepareMarkerAnimation,\n  preparePieSeriesAnimationFunctions: () => preparePieSeriesAnimationFunctions,\n  range: () => range2,\n  rangedValueProperty: () => rangedValueProperty,\n  renderPartialPath: () => renderPartialPath,\n  resetAxisGroupFn: () => resetAxisGroupFn,\n  resetAxisLabelSelectionFn: () => resetAxisLabelSelectionFn,\n  resetAxisLineSelectionFn: () => resetAxisLineSelectionFn,\n  resetAxisSelectionFn: () => resetAxisSelectionFn,\n  resetBarSelectionsFn: () => resetBarSelectionsFn,\n  resetIds: () => resetIds,\n  resetLabelFn: () => resetLabelFn,\n  resetMarkerFn: () => resetMarkerFn,\n  resetMarkerPositionFn: () => resetMarkerPositionFn,\n  resetMotion: () => resetMotion,\n  resetPieSelectionsFn: () => resetPieSelectionsFn,\n  round: () => round,\n  seriesLabelFadeInAnimation: () => seriesLabelFadeInAnimation,\n  seriesLabelFadeOutAnimation: () => seriesLabelFadeOutAnimation,\n  setDocument: () => setDocument,\n  setPath: () => setPath,\n  setWindow: () => setWindow,\n  shallowClone: () => shallowClone,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  staticFromToMotion: () => staticFromToMotion,\n  stringify: () => stringify,\n  sum: () => sum,\n  sumValues: () => sumValues,\n  toArray: () => toArray,\n  toFixed: () => toFixed,\n  toTooltipHtml: () => toTooltipHtml,\n  trailingAccumulatedValue: () => trailingAccumulatedValue,\n  trailingAccumulatedValueProperty: () => trailingAccumulatedValueProperty,\n  unique: () => unique,\n  updateClipPath: () => updateClipPath,\n  updateLabelNode: () => updateLabelNode,\n  updateRect: () => updateRect,\n  validateCrossLineValues: () => validateCrossLineValues,\n  valueProperty: () => valueProperty,\n  without: () => without\n});\nfunction convertValuesToScaleByDefs({\n  defs,\n  values,\n  xAxis,\n  yAxis\n}) {\n  if (!(xAxis && yAxis)) {\n    throw new Error(\"Axes must be defined\");\n  }\n  const result = {};\n  for (const [searchId, { def }] of defs) {\n    if (Object.hasOwn(values, searchId)) {\n      const { scale: scale2 } = def.type === \"key\" ? xAxis : yAxis;\n      result[searchId] = Math.round(scale2.convert(values[searchId]));\n    }\n  }\n  return result;\n}\nvar _HierarchyNode = class _HierarchyNode2 {\n  constructor(series, index, datum, size, colorValue, fill, stroke, sumSize, depth, parent, children) {\n    this.series = series;\n    this.index = index;\n    this.datum = datum;\n    this.size = size;\n    this.colorValue = colorValue;\n    this.fill = fill;\n    this.stroke = stroke;\n    this.sumSize = sumSize;\n    this.depth = depth;\n    this.parent = parent;\n    this.children = children;\n    this.midPoint = { x: 0, y: 0 };\n  }\n  contains(other) {\n    let current = other;\n    while (current != null && current.index >= this.index) {\n      if (current === this) {\n        return true;\n      }\n      current = current.parent;\n    }\n    return false;\n  }\n  walk(callback, order = _HierarchyNode2.Walk.PreOrder) {\n    if (order === _HierarchyNode2.Walk.PreOrder) {\n      callback(this);\n    }\n    this.children.forEach((child) => {\n      child.walk(callback, order);\n    });\n    if (order === _HierarchyNode2.Walk.PostOrder) {\n      callback(this);\n    }\n  }\n  *[Symbol.iterator]() {\n    yield this;\n    for (const child of this.children) {\n      yield* __yieldStar(__yieldStar2(child));\n    }\n  }\n};\n_HierarchyNode.Walk = {\n  PreOrder: 0,\n  PostOrder: 1\n};\nvar HierarchyNode = _HierarchyNode;\nvar HierarchySeries = class extends Series {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [\n        0\n        /* EXACT_SHAPE_MATCH */\n      ],\n      contentGroupVirtual: false\n    });\n    this.rootNode = new HierarchyNode(\n      this,\n      0,\n      void 0,\n      0,\n      void 0,\n      void 0,\n      void 0,\n      0,\n      void 0,\n      void 0,\n      []\n    );\n    this.colorDomain = [0, 0];\n    this.maxDepth = 0;\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  processData() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const { childrenKey, sizeKey, colorKey, fills, strokes, colorRange } = this.properties;\n      let index = 0;\n      const getIndex = () => {\n        index += 1;\n        return index;\n      };\n      let maxDepth = 0;\n      let minColor = Infinity;\n      let maxColor = -Infinity;\n      const colors = new Array(((_b = (_a = this.data) == null ? void 0 : _a.length) != null ? _b : 0) + 1).fill(void 0);\n      const createNode = (datum, parent) => {\n        const nodeIndex = getIndex();\n        const depth = parent.depth != null ? parent.depth + 1 : 0;\n        const children = childrenKey != null ? datum[childrenKey] : void 0;\n        const isLeaf = children == null || children.length === 0;\n        let size = sizeKey != null ? datum[sizeKey] : void 0;\n        if (Number.isFinite(size)) {\n          size = Math.max(size, 0);\n        } else {\n          size = isLeaf ? 1 : 0;\n        }\n        const sumSize = size;\n        maxDepth = Math.max(maxDepth, depth);\n        const color = colorKey != null ? datum[colorKey] : void 0;\n        if (typeof color === \"number\") {\n          colors[nodeIndex] = color;\n          minColor = Math.min(minColor, color);\n          maxColor = Math.max(maxColor, color);\n        }\n        return appendChildren(\n          new HierarchyNode(\n            this,\n            nodeIndex,\n            datum,\n            size,\n            color,\n            void 0,\n            void 0,\n            sumSize,\n            depth,\n            parent,\n            []\n          ),\n          children\n        );\n      };\n      const appendChildren = (node, data) => {\n        data == null ? void 0 : data.forEach((datum) => {\n          const child = createNode(datum, node);\n          node.children.push(child);\n          node.sumSize += child.sumSize;\n        });\n        return node;\n      };\n      const rootNode = appendChildren(\n        new HierarchyNode(\n          this,\n          0,\n          void 0,\n          0,\n          void 0,\n          void 0,\n          void 0,\n          0,\n          void 0,\n          void 0,\n          []\n        ),\n        this.data\n      );\n      const colorDomain = [minColor, maxColor];\n      let colorScale;\n      if (colorRange != null && Number.isFinite(minColor) && Number.isFinite(maxColor)) {\n        colorScale = new ColorScale();\n        colorScale.domain = colorDomain;\n        colorScale.range = colorRange;\n        colorScale.update();\n      }\n      rootNode.children.forEach((child, childIndex) => {\n        child.walk((node) => {\n          let fill;\n          const color = colors[node.index];\n          if (color != null) {\n            fill = colorScale == null ? void 0 : colorScale.convert(color);\n          }\n          fill != null ? fill : fill = fills == null ? void 0 : fills[childIndex % fills.length];\n          node.fill = fill;\n          node.stroke = colorScale == null ? strokes == null ? void 0 : strokes[childIndex % strokes.length] : \"rgba(0, 0, 0, 0.2)\";\n        });\n      });\n      this.rootNode = rootNode;\n      this.maxDepth = maxDepth;\n      this.colorDomain = colorDomain;\n    });\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      yield this.updateSelections();\n      yield this.updateNodes();\n      const animationData = this.getAnimationData();\n      const resize = this.checkResize(seriesRect);\n      if (resize) {\n        this.animationState.transition(\"resize\", animationData);\n      }\n      this.animationState.transition(\"update\", animationData);\n    });\n  }\n  resetAllAnimation(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (datum != null) {\n      resetMotion(data.datumSelections, datum);\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    if (datum != null) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData() {\n    const animationData = {\n      datumSelections: [this.groupSelection]\n    };\n    return animationData;\n  }\n  isProcessedDataAnimatable() {\n    return true;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  getSeriesDomain() {\n    return [NaN, NaN];\n  }\n  getLegendData(legendType) {\n    const { colorKey, colorName, colorRange, visible } = this.properties;\n    return legendType === \"gradient\" && colorKey != null && colorRange != null ? [\n      {\n        legendType: \"gradient\",\n        enabled: visible,\n        seriesId: this.id,\n        colorName,\n        colorRange,\n        colorDomain: this.colorDomain\n      }\n    ] : [];\n  }\n  getDatumIdFromData(node) {\n    return `${node.index}`;\n  }\n  getDatumId(node) {\n    return this.getDatumIdFromData(node);\n  }\n};\nvar HierarchySeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.childrenKey = \"children\";\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n  }\n};\n__decorateClass2([\n  Validate(STRING)\n], HierarchySeriesProperties.prototype, \"childrenKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass2([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorName\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY)\n], HierarchySeriesProperties.prototype, \"fills\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY)\n], HierarchySeriesProperties.prototype, \"strokes\", 2);\n__decorateClass2([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorRange\", 2);\nvar LonLatBBox = class {\n  constructor(lon0, lat0, lon1, lat1) {\n    this.lon0 = lon0;\n    this.lat0 = lat0;\n    this.lon1 = lon1;\n    this.lat1 = lat1;\n  }\n  merge(other) {\n    this.lon0 = Math.min(this.lon0, other.lon0);\n    this.lat0 = Math.min(this.lat0, other.lat0);\n    this.lon1 = Math.max(this.lon1, other.lon1);\n    this.lat1 = Math.max(this.lat1, other.lat1);\n  }\n};\nvar __FORCE_MODULE_DETECTION2 = 0;\n\n// enterprise-modules/sparklines/src/sparkline/tooltip/defaultTooltipCss.ts\nvar defaultTooltipCss2 = `\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;\n\n// enterprise-modules/sparklines/src/sparkline/sparkline.ts\nvar { extent: extent2, isNumber: isNumber2, isString: isString2, isStringObject: isStringObject2, isDate: isDate2, createId: createId2, Padding: Padding2 } = sparklines_util_exports;\nvar { LinearScale: LinearScale2, BandScale: BandScale2, TimeScale: TimeScale2 } = sparklines_scale_exports;\nvar SparklineAxis = class {\n  constructor() {\n    this.type = \"category\";\n    this.stroke = \"rgb(204, 214, 235)\";\n    this.strokeWidth = 1;\n  }\n};\nvar _Sparkline = class _Sparkline {\n  constructor() {\n    this.id = createId2(this);\n    this.seriesRect = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    this._context = void 0;\n    this._container = void 0;\n    this._data = void 0;\n    this.padding = new Padding2(3);\n    this.xKey = \"x\";\n    this.yKey = \"y\";\n    this.dataType = void 0;\n    this.xData = [];\n    this.yData = [];\n    // Minimum y value in provided data.\n    this.min = void 0;\n    // Maximum y value in provided data.\n    this.max = void 0;\n    this.yScale = new LinearScale2();\n    this.axis = new SparklineAxis();\n    this.highlightStyle = {\n      size: 6,\n      fill: \"yellow\",\n      stroke: \"silver\",\n      strokeWidth: 1\n    };\n    this._width = 100;\n    this._height = 100;\n    this.smallestInterval = void 0;\n    this.layoutId = 0;\n    this.defaultDateFormatter = new Intl.DateTimeFormat(\"en-US\", {\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      hour12: false\n    });\n    this._onMouseMove = this.onMouseMove.bind(this);\n    this._onMouseOut = this.onMouseOut.bind(this);\n    const root = new integrated_charts_scene_exports.Group();\n    this.rootGroup = root;\n    const element2 = document.createElement(\"div\");\n    element2.setAttribute(\"class\", \"ag-sparkline-wrapper\");\n    const scene = new integrated_charts_scene_exports.Scene({});\n    this.scene = scene;\n    this.canvasElement = scene.canvas.element;\n    scene.setRoot(root);\n    scene.setContainer(element2);\n    this.resizeAndSetDimensions(this.width, this.height);\n    if (!_Sparkline.tooltipDocuments.includes(document)) {\n      this.initialiseTooltipStyles();\n    }\n    this.setupDomEventListeners(this.canvasElement);\n  }\n  set context(value) {\n    if (this._context !== value) {\n      this._context = value;\n    }\n  }\n  get context() {\n    return this._context;\n  }\n  set container(value) {\n    if (this._container !== value) {\n      const { parentNode } = this.canvasElement;\n      if (parentNode != null) {\n        parentNode.removeChild(this.canvasElement);\n      }\n      if (value) {\n        value.appendChild(this.canvasElement);\n      }\n      this._container = value;\n    }\n  }\n  get container() {\n    return this._container;\n  }\n  set data(value) {\n    if (this._data !== value) {\n      this._data = value;\n      this.processData();\n      if (this.mouseMoveEvent && this.highlightedDatum) {\n        this.updateHitPoint(this.mouseMoveEvent);\n      }\n    }\n  }\n  get data() {\n    return this._data;\n  }\n  resizeAndSetDimensions(width, height) {\n    this.scene.resize(width, height);\n    this.seriesRect.width = width;\n    this.seriesRect.height = height;\n  }\n  initialiseTooltipStyles() {\n    const styleElement = document.createElement(\"style\");\n    styleElement.innerHTML = defaultTooltipCss2;\n    document.head.insertBefore(styleElement, document.head.querySelector(\"style\"));\n    _Sparkline.tooltipDocuments.push(document);\n  }\n  set width(value) {\n    if (this._width !== value) {\n      this._width = value;\n      this.scene.resize(value, this.height);\n      this.scheduleLayout();\n    }\n  }\n  get width() {\n    return this._width;\n  }\n  set height(value) {\n    if (this._height !== value) {\n      this._height = value;\n      this.scene.resize(this.width, value);\n      this.scheduleLayout();\n    }\n  }\n  get height() {\n    return this._height;\n  }\n  /**\n   * Generate node data from processed data.\n   * Produce data joins.\n   * Update selection's nodes using node data.\n   */\n  update() {\n  }\n  // Update y scale based on processed data.\n  updateYScale() {\n    this.updateYScaleRange();\n    this.updateYScaleDomain();\n  }\n  // Update y scale domain based on processed data.\n  updateYScaleDomain() {\n  }\n  // Update y scale range based on height and padding (seriesRect).\n  updateYScaleRange() {\n    const { yScale, seriesRect } = this;\n    yScale.range = [seriesRect.height, 0];\n  }\n  // Update x scale based on processed data.\n  updateXScale() {\n    const { type } = this.axis;\n    this.xScale = this.getXScale(type);\n    this.updateXScaleRange();\n    this.updateXScaleDomain();\n  }\n  // Update x scale range based on width and padding (seriesRect).\n  updateXScaleRange() {\n    this.xScale.range = [0, this.seriesRect.width];\n  }\n  // Update x scale domain based on processed data and type of scale.\n  updateXScaleDomain() {\n    const { xData, xScale } = this;\n    let xMinMax;\n    if (xScale instanceof LinearScale2 || xScale instanceof TimeScale2) {\n      xMinMax = extent2(xData);\n    }\n    this.xScale.domain = xMinMax ? xMinMax.slice() : xData;\n  }\n  /**\n   * Return xScale instance based on the provided type or return a `BandScale` by default.\n   * The default type is `category`.\n   * @param type\n   */\n  getXScale(type = \"category\") {\n    switch (type) {\n      case \"number\":\n        return new LinearScale2();\n      case \"time\":\n        return new TimeScale2();\n      case \"category\":\n      default:\n        return new BandScale2();\n    }\n  }\n  // Update axis line.\n  updateAxisLine() {\n  }\n  // Update X and Y scales and the axis line.\n  updateAxes() {\n    this.updateYScale();\n    this.updateXScale();\n    this.updateAxisLine();\n  }\n  // Update horizontal and vertical crosshair lines.\n  updateCrosshairs() {\n    this.updateXCrosshairLine();\n    this.updateYCrosshairLine();\n  }\n  // Using processed data, generate data that backs visible nodes.\n  generateNodeData() {\n    return [];\n  }\n  // Returns persisted node data associated with the sparkline's data.\n  getNodeData() {\n    return [];\n  }\n  // Update the selection's nodes.\n  updateNodes() {\n  }\n  // Update the vertical crosshair line.\n  updateXCrosshairLine() {\n  }\n  // Update the horizontal crosshair line.\n  updateYCrosshairLine() {\n  }\n  highlightDatum(closestDatum) {\n    this.updateNodes();\n  }\n  dehighlightDatum() {\n    this.highlightedDatum = void 0;\n    this.updateNodes();\n    this.updateCrosshairs();\n  }\n  /**\n   * Highlight closest datum and display tooltip if enabled.\n   * Only update if necessary, i.e. only update if the highlighted datum is different from previously highlighted datum,\n   * or if there is no previously highlighted datum.\n   * @param event\n   */\n  onMouseMove(event) {\n    this.mouseMoveEvent = event;\n    this.updateHitPoint(event);\n  }\n  updateHitPoint(event) {\n    var _a, _b, _c;\n    const closestDatum = this.pickClosestSeriesNodeDatum(event.offsetX, event.offsetY);\n    if (!closestDatum) {\n      return;\n    }\n    const oldHighlightedDatum = this.highlightedDatum;\n    this.highlightedDatum = closestDatum;\n    if (this.highlightedDatum && !oldHighlightedDatum || this.highlightedDatum && oldHighlightedDatum && this.highlightedDatum !== oldHighlightedDatum) {\n      this.highlightDatum(closestDatum);\n      this.updateCrosshairs();\n      this.scene.render().catch((e) => console.error(`AG Grid - chart rendering failed`, e));\n    }\n    const tooltipEnabled = (_c = (_b = (_a = this.processedOptions) == null ? void 0 : _a.tooltip) == null ? void 0 : _b.enabled) != null ? _c : true;\n    if (tooltipEnabled) {\n      this.handleTooltip(event, closestDatum);\n    }\n  }\n  /**\n   * Dehighlight all nodes and remove tooltip.\n   * @param event\n   */\n  onMouseOut(event) {\n    this.dehighlightDatum();\n    this.tooltip.toggle(false);\n    this.scene.render().catch((e) => console.error(`AG Grid - chart rendering failed`, e));\n  }\n  // Fetch required values from the data object and process them.\n  processData() {\n    const { data, yData, xData } = this;\n    if (!data || this.invalidData(this.data)) {\n      return;\n    }\n    yData.length = 0;\n    xData.length = 0;\n    const n = data.length;\n    const dataType = this.getDataType(data);\n    this.dataType = dataType;\n    const { type: xValueType } = this.axis;\n    const xType = xValueType !== \"number\" && xValueType !== \"time\" ? \"category\" : xValueType;\n    const isContinuousX = xType === \"number\" || xType === \"time\";\n    const setSmallestXInterval = (curr, prev) => {\n      if (this.smallestInterval == void 0) {\n        this.smallestInterval = { x: Infinity, y: Infinity };\n      }\n      const { x } = this.smallestInterval;\n      const interval = Math.abs(curr - prev);\n      if (interval > 0 && interval < x) {\n        this.smallestInterval.x = interval;\n      }\n    };\n    let prevX;\n    if (dataType === \"number\") {\n      for (let i = 0; i < n; i++) {\n        const xDatum = i;\n        const yDatum = data[i];\n        const x = this.getDatum(xDatum, xType);\n        const y = this.getDatum(yDatum, \"number\");\n        if (isContinuousX) {\n          setSmallestXInterval(x, prevX);\n        }\n        xData.push(x);\n        yData.push(y);\n        prevX = x;\n      }\n    } else if (dataType === \"array\") {\n      for (let i = 0; i < n; i++) {\n        const datum = data[i];\n        if (Array.isArray(datum)) {\n          const xDatum = datum[0];\n          const yDatum = datum[1];\n          const x = this.getDatum(xDatum, xType);\n          const y = this.getDatum(yDatum, \"number\");\n          if (x == void 0) {\n            continue;\n          }\n          if (isContinuousX) {\n            setSmallestXInterval(x, prevX);\n          }\n          xData.push(x);\n          yData.push(y);\n          prevX = x;\n        }\n      }\n    } else if (dataType === \"object\") {\n      const { yKey, xKey } = this;\n      for (let i = 0; i < n; i++) {\n        const datum = data[i];\n        if (typeof datum === \"object\" && !Array.isArray(datum)) {\n          const xDatum = datum[xKey];\n          const yDatum = datum[yKey];\n          const x = this.getDatum(xDatum, xType);\n          const y = this.getDatum(yDatum, \"number\");\n          if (x == void 0) {\n            continue;\n          }\n          if (isContinuousX) {\n            setSmallestXInterval(x, prevX);\n          }\n          xData.push(x);\n          yData.push(y);\n          prevX = x;\n        }\n      }\n    }\n    this.updateAxes();\n    this.immediateLayout();\n  }\n  /**\n   * Return the type of data provided to the sparkline based on the first truthy value in the data array.\n   * If the value is not a number, array or object, return `undefined`.\n   * @param data\n   */\n  getDataType(data) {\n    for (const datum of data) {\n      if (datum != void 0) {\n        if (isNumber2(datum)) {\n          return \"number\";\n        } else if (Array.isArray(datum)) {\n          return \"array\";\n        } else if (typeof datum === \"object\") {\n          return \"object\";\n        }\n      }\n    }\n  }\n  /**\n   * Return the given value depending on the type of axis.\n   * Return `undefined` if the value is invalid for the given axis type.\n   * @param value\n   */\n  getDatum(value, type) {\n    if (type === \"number\" && isNumber2(value) || type === \"time\" && (isNumber2(value) || isDate2(value))) {\n      return value;\n    } else if (type === \"category\") {\n      if (isString2(value) || isDate2(value) || isNumber2(value)) {\n        return { toString: () => String(value) };\n      } else if (isStringObject2(value)) {\n        return value;\n      }\n    }\n  }\n  /**\n   * Only `true` while we are waiting for the layout to start.\n   * This will be `false` if the layout has already started and is ongoing.\n   */\n  get layoutScheduled() {\n    return !!this.layoutId;\n  }\n  /**\n   * Execute update method on the next available screen repaint to make changes to the canvas.\n   * If we are waiting for a layout to start and a new layout is requested,\n   * cancel the previous layout using the non 0 integer (this.layoutId) returned from requestAnimationFrame.\n   */\n  scheduleLayout() {\n    if (this.layoutId) {\n      cancelAnimationFrame(this.layoutId);\n    }\n    this.layoutId = requestAnimationFrame(() => {\n      this.immediateLayout();\n      this.layoutId = 0;\n    });\n  }\n  immediateLayout() {\n    this.setSparklineDimensions();\n    if (this.invalidData(this.data)) {\n      return;\n    }\n    this.updateXScaleRange();\n    this.updateYScaleRange();\n    this.updateAxisLine();\n    this.update();\n    this.scene.render().catch((e) => console.error(`AG Grid - chart rendering failed`, e));\n  }\n  setSparklineDimensions() {\n    const { width, height, padding, seriesRect, rootGroup } = this;\n    const shrunkWidth = width - padding.left - padding.right;\n    const shrunkHeight = height - padding.top - padding.bottom;\n    seriesRect.width = shrunkWidth;\n    seriesRect.height = shrunkHeight;\n    seriesRect.x = padding.left;\n    seriesRect.y = padding.top;\n    rootGroup.translationX = seriesRect.x;\n    rootGroup.translationY = seriesRect.y;\n  }\n  /**\n   * Return the closest data point to x/y canvas coordinates.\n   * @param x\n   * @param y\n   */\n  pickClosestSeriesNodeDatum(x, y) {\n    let minDistance = Infinity;\n    let closestDatum;\n    const hitPoint = this.rootGroup.transformPoint(x, y);\n    const nodeData = this.getNodeData();\n    for (let i = 0; i < nodeData.length; i++) {\n      const datum = nodeData[i];\n      if (!datum.point) {\n        return;\n      }\n      const distance2 = this.getDistance(hitPoint, datum.point);\n      if (distance2 <= minDistance) {\n        minDistance = distance2;\n        closestDatum = datum;\n      }\n    }\n    return closestDatum;\n  }\n  /**\n   * Return the relevant distance between two points.\n   * The distance will be calculated based on the x value of the points for all sparklines except bar sparkline, where the distance is based on the y values.\n   * @param x\n   * @param y\n   */\n  getDistance(p1, p2) {\n    return Math.abs(p1.x - p2.x);\n  }\n  /**\n   * calculate x/y coordinates for tooltip based on coordinates of highlighted datum, position of canvas and page offset.\n   * @param datum\n   */\n  handleTooltip(event, datum) {\n    var _a, _b;\n    const { seriesDatum } = datum;\n    const { canvasElement } = this;\n    const { clientX, clientY } = event;\n    const tooltipOptions = (_a = this.processedOptions) == null ? void 0 : _a.tooltip;\n    const meta = {\n      pageX: clientX,\n      pageY: clientY,\n      position: {\n        xOffset: tooltipOptions == null ? void 0 : tooltipOptions.xOffset,\n        yOffset: tooltipOptions == null ? void 0 : tooltipOptions.yOffset\n      },\n      container: tooltipOptions == null ? void 0 : tooltipOptions.container\n    };\n    if (meta.container == void 0) {\n      meta.container = canvasElement;\n    }\n    const yValue = seriesDatum.y;\n    const xValue = seriesDatum.x;\n    let enabled = (_b = tooltipOptions == null ? void 0 : tooltipOptions.enabled) != null ? _b : true;\n    const tooltipRenderer = tooltipOptions == null ? void 0 : tooltipOptions.renderer;\n    if (tooltipRenderer) {\n      const tooltipRendererResult = tooltipRenderer({\n        context: this.context,\n        datum: seriesDatum,\n        yValue,\n        xValue\n      });\n      enabled = typeof tooltipRendererResult !== \"string\" && tooltipRendererResult.enabled !== void 0 ? tooltipRendererResult.enabled : enabled;\n    }\n    const html = enabled && seriesDatum.y !== void 0 && this.getTooltipHtml(datum);\n    if (html) {\n      this.tooltip.show(meta, html);\n    }\n  }\n  formatNumericDatum(datum) {\n    return String(Math.round(datum * 10) / 10);\n  }\n  // locale.format('%m/%d/%y, %H:%M:%S');\n  formatDatum(datum) {\n    const type = this.axis.type || \"category\";\n    if (type === \"number\" && typeof datum === \"number\") {\n      return this.formatNumericDatum(datum);\n    } else if (type === \"time\" && (datum instanceof Date || isNumber2(datum))) {\n      return this.defaultDateFormatter.format(datum);\n    } else {\n      return String(datum);\n    }\n  }\n  setupDomEventListeners(chartElement) {\n    chartElement.addEventListener(\"mousemove\", this._onMouseMove);\n    chartElement.addEventListener(\"mouseout\", this._onMouseOut);\n  }\n  cleanupDomEventListeners(chartElement) {\n    chartElement.removeEventListener(\"mousemove\", this._onMouseMove);\n    chartElement.removeEventListener(\"mouseout\", this._onMouseOut);\n  }\n  invalidData(data) {\n    return !data || !Array.isArray(data);\n  }\n  /**\n   * Cleanup and remove canvas element from the DOM.\n   */\n  destroy() {\n    this.cleanupDomEventListeners(this.canvasElement);\n    this.scene.destroy();\n    this.container = void 0;\n  }\n};\n_Sparkline.tooltipDocuments = [];\nvar Sparkline = _Sparkline;\n\n// enterprise-modules/sparklines/src/sparkline/tooltip/sparklineTooltip.ts\nfunction toTooltipHtml2(input, defaults) {\n  var _a, _b, _c;\n  if (typeof input === \"string\") {\n    return input;\n  }\n  defaults = defaults != null ? defaults : {};\n  const {\n    content = (_a = defaults.content) != null ? _a : \"\",\n    title = (_b = defaults.title) != null ? _b : void 0,\n    color = defaults.color,\n    backgroundColor = defaults.backgroundColor,\n    opacity = (_c = defaults.opacity) != null ? _c : 1\n  } = input;\n  let titleHtml;\n  let contentHtml;\n  if (color) {\n    titleHtml = title ? `<span class=\"${SparklineTooltip.class}-title\"; style=\"color: ${color}\">${title}</span>` : \"\";\n    contentHtml = `<span class=\"${SparklineTooltip.class}-content\" style=\"color: ${color}\">${content}</span>`;\n  } else {\n    titleHtml = title ? `<span class=\"${SparklineTooltip.class}-title\">${title}</span>` : \"\";\n    contentHtml = `<span class=\"${SparklineTooltip.class}-content\">${content}</span>`;\n  }\n  let style = `opacity: ${opacity}`;\n  if (backgroundColor) {\n    style += `; background-color: ${backgroundColor.toLowerCase()}`;\n  }\n  return `<div class=\"${SparklineTooltip.class}\" style=\"${style}\">\n                ${titleHtml}\n                ${contentHtml}\n            </div>`;\n}\nvar _SparklineTooltip = class _SparklineTooltip {\n  constructor() {\n    this.element = document.createElement(\"div\");\n    const tooltipRoot = document.body;\n    tooltipRoot.appendChild(this.element);\n  }\n  isVisible() {\n    const { element: element2 } = this;\n    if (element2.classList) {\n      return !element2.classList.contains(`${_SparklineTooltip.class}-wrapper-hidden`);\n    }\n    const classes = element2.getAttribute(\"class\");\n    if (classes) {\n      return classes.split(\" \").indexOf(`${_SparklineTooltip.class}-wrapper-hidden`) < 0;\n    }\n    return false;\n  }\n  updateClass(visible) {\n    const classList = [`${_SparklineTooltip.class}-wrapper`];\n    if (visible !== true) {\n      classList.push(`${_SparklineTooltip.class}-wrapper-hidden`);\n    }\n    this.element.setAttribute(\"class\", classList.join(\" \"));\n  }\n  show(meta, html) {\n    var _a, _b, _c, _d;\n    this.toggle(false);\n    const { element: element2 } = this;\n    if (html !== void 0) {\n      element2.innerHTML = html;\n    } else if (!element2.innerHTML) {\n      return;\n    }\n    const xOffset = (_b = (_a = meta.position) == null ? void 0 : _a.xOffset) != null ? _b : 10;\n    const yOffset = (_d = (_c = meta.position) == null ? void 0 : _c.yOffset) != null ? _d : 0;\n    let left = meta.pageX + xOffset;\n    let top = meta.pageY + yOffset;\n    const tooltipRect = element2.getBoundingClientRect();\n    let maxLeft = window.innerWidth - tooltipRect.width;\n    if (meta.container) {\n      const containerRect = meta.container.getBoundingClientRect();\n      maxLeft = containerRect.left + (containerRect.width - tooltipRect.width);\n    }\n    if (left > maxLeft) {\n      left = meta.pageX - element2.clientWidth - xOffset;\n    }\n    if (typeof scrollX !== \"undefined\") {\n      left += scrollX;\n    }\n    if (typeof scrollY !== \"undefined\") {\n      top += scrollY;\n    }\n    element2.style.left = `${Math.round(left)}px`;\n    element2.style.top = `${Math.round(top)}px`;\n    this.toggle(true);\n  }\n  toggle(visible) {\n    this.updateClass(visible);\n  }\n  destroy() {\n    const { parentNode } = this.element;\n    if (parentNode) {\n      parentNode.removeChild(this.element);\n    }\n  }\n};\n_SparklineTooltip.class = \"ag-sparkline-tooltip\";\nvar SparklineTooltip = _SparklineTooltip;\n\n// enterprise-modules/sparklines/src/sparkline/marker/markerFactory.ts\nfunction getMarker2(shape) {\n  switch (shape) {\n    case \"circle\":\n      return integrated_charts_scene_exports.Circle;\n    case \"square\":\n      return integrated_charts_scene_exports.Square;\n    case \"diamond\":\n      return integrated_charts_scene_exports.Diamond;\n    default:\n      return integrated_charts_scene_exports.Circle;\n  }\n}\n\n// enterprise-modules/sparklines/src/util/lineDash.ts\nfunction getLineDash(lineCap, lineDash = \"solid\") {\n  const buttOrNull = {\n    solid: [],\n    dash: [4, 3],\n    dot: [1, 3],\n    dashDot: [4, 3, 1, 3],\n    dashDotDot: [4, 3, 1, 3, 1, 3],\n    shortDot: [1, 1],\n    shortDash: [3, 1],\n    shortDashDot: [3, 1, 1, 1],\n    shortDashDotDot: [3, 1, 1, 1, 1, 1],\n    longDash: [8, 3],\n    longDashDot: [8, 3, 1, 3],\n    longDashDotDot: [8, 3, 1, 3, 1, 3]\n  };\n  const roundOrSquare = {\n    solid: [],\n    dash: [3, 3],\n    dot: [0, 3],\n    dashDot: [3, 3, 0, 3],\n    dashDotDot: [3, 3, 0, 3, 0, 3],\n    shortDot: [0, 2],\n    shortDash: [2, 2],\n    shortDashDot: [2, 2, 0, 2],\n    shortDashDotDot: [2, 2, 0, 2, 0, 2],\n    longDash: [7, 3],\n    longDashDot: [7, 3, 0, 3],\n    longDashDotDot: [7, 3, 0, 3, 0, 3]\n  };\n  if (lineCap === \"round\" || lineCap === \"square\") {\n    if (roundOrSquare[lineDash] == void 0) {\n      console.warn(`'${lineDash}' is not a valid 'lineDash' option.`);\n      return roundOrSquare.solid;\n    }\n    return roundOrSquare[lineDash];\n  }\n  if (buttOrNull[lineDash] == void 0) {\n    console.warn(`'${lineDash}' is not a valid 'lineDash' option.`);\n    return buttOrNull.solid;\n  }\n  return buttOrNull[lineDash];\n}\n\n// enterprise-modules/sparklines/src/sparkline/area/areaSparkline.ts\nvar { extent: extent3 } = sparklines_util_exports;\nvar { BandScale: BandScale3 } = sparklines_scale_exports;\nvar SparklineMarker = class {\n  constructor() {\n    this.enabled = true;\n    this.shape = \"circle\";\n    this.size = 0;\n    this.fill = \"rgb(124, 181, 236)\";\n    this.stroke = \"rgb(124, 181, 236)\";\n    this.strokeWidth = 1;\n    this.formatter = void 0;\n  }\n};\nvar SparklineLine = class {\n  constructor() {\n    this.stroke = \"rgb(124, 181, 236)\";\n    this.strokeWidth = 1;\n  }\n};\nvar SparklineCrosshairs = class {\n  constructor() {\n    this.xLine = {\n      enabled: true,\n      stroke: \"rgba(0,0,0, 0.54)\",\n      strokeWidth: 1,\n      lineDash: \"solid\",\n      lineCap: void 0\n    };\n    this.yLine = {\n      enabled: false,\n      stroke: \"rgba(0,0,0, 0.54)\",\n      strokeWidth: 1,\n      lineDash: \"solid\",\n      lineCap: void 0\n    };\n  }\n};\nvar AreaSparkline = class extends Sparkline {\n  constructor() {\n    super();\n    this.fill = \"rgba(124, 181, 236, 0.25)\";\n    this.strokePath = new integrated_charts_scene_exports.Path();\n    this.fillPath = new integrated_charts_scene_exports.Path();\n    this.xCrosshairLine = new integrated_charts_scene_exports.Line();\n    this.yCrosshairLine = new integrated_charts_scene_exports.Line();\n    this.areaSparklineGroup = new integrated_charts_scene_exports.Group();\n    this.xAxisLine = new integrated_charts_scene_exports.Line();\n    this.markers = new integrated_charts_scene_exports.Group();\n    this.markerSelection = integrated_charts_scene_exports.Selection.select(\n      this.markers,\n      () => this.markerFactory()\n    );\n    this.markerSelectionData = [];\n    this.marker = new SparklineMarker();\n    this.line = new SparklineLine();\n    this.crosshairs = new SparklineCrosshairs();\n    this.rootGroup.append(this.areaSparklineGroup);\n    this.xAxisLine.zIndex = 500 /* AXIS_LINE_ZINDEX */;\n    this.fillPath.zIndex = 50 /* SERIES_FILL_ZINDEX */;\n    this.strokePath.zIndex = 1e3 /* SERIES_STROKE_ZINDEX */;\n    this.xCrosshairLine.zIndex = 2e3 /* CROSSHAIR_ZINDEX */;\n    this.yCrosshairLine.zIndex = 2e3 /* CROSSHAIR_ZINDEX */;\n    this.markers.zIndex = 2500 /* SERIES_MARKERS_ZINDEX */;\n    this.areaSparklineGroup.append([\n      this.fillPath,\n      this.xAxisLine,\n      this.strokePath,\n      this.xCrosshairLine,\n      this.yCrosshairLine,\n      this.markers\n    ]);\n  }\n  markerFactory() {\n    const { shape } = this.marker;\n    const MarkerShape = getMarker2(shape);\n    return new MarkerShape();\n  }\n  getNodeData() {\n    return this.markerSelectionData;\n  }\n  update() {\n    const data = this.generateNodeData();\n    if (!data) {\n      return;\n    }\n    const { nodeData, fillData, strokeData } = data;\n    this.markerSelectionData = nodeData;\n    this.updateSelection(nodeData);\n    this.updateNodes();\n    this.updateStroke(strokeData);\n    this.updateFill(fillData);\n  }\n  updateYScaleDomain() {\n    const { yData, yScale } = this;\n    const yMinMax = extent3(yData);\n    let yMin = 0;\n    let yMax = 1;\n    if (yMinMax !== void 0) {\n      yMin = this.min = yMinMax[0];\n      yMax = this.max = yMinMax[1];\n    }\n    yMin = yMin < 0 ? yMin : 0;\n    yMax = yMax < 0 ? 0 : yMax;\n    yScale.domain = [yMin, yMax];\n  }\n  generateNodeData() {\n    const { data, yData, xData, xScale, yScale } = this;\n    if (!data) {\n      return;\n    }\n    const continuous = !(xScale instanceof BandScale3);\n    const offsetX = !continuous ? xScale.bandwidth / 2 : 0;\n    const n = yData.length;\n    const nodeData = [];\n    const fillData = [];\n    const strokeData = [];\n    let firstValidX;\n    let lastValidX;\n    let previousX;\n    let nextX;\n    const yZero = yScale.convert(0);\n    for (let i = 0; i < n; i++) {\n      const yDatum = yData[i];\n      const xDatum = xData[i];\n      const x = xScale.convert(continuous ? xScale.toDomain(xDatum) : xDatum) + offsetX;\n      const y = yDatum === void 0 ? NaN : yScale.convert(yDatum);\n      if (i + 1 < n) {\n        nextX = xScale.convert(continuous ? xScale.toDomain(xData[i + 1]) : xData[i + 1]) + offsetX;\n      }\n      strokeData.push({\n        seriesDatum: { x: xDatum, y: yDatum },\n        point: { x, y }\n      });\n      if (yDatum === void 0 && previousX !== void 0) {\n        fillData.push({ seriesDatum: void 0, point: { x: previousX, y: yZero } });\n        if (nextX !== void 0) {\n          fillData.push({ seriesDatum: void 0, point: { x: nextX, y: yZero } });\n        }\n      } else if (yDatum !== void 0) {\n        fillData.push({\n          seriesDatum: { x: xDatum, y: yDatum },\n          point: { x, y }\n        });\n        nodeData.push({\n          seriesDatum: { x: xDatum, y: yDatum },\n          point: { x, y }\n        });\n        firstValidX = firstValidX !== void 0 ? firstValidX : x;\n        lastValidX = x;\n      }\n      previousX = x;\n    }\n    fillData.push(\n      { seriesDatum: void 0, point: { x: lastValidX, y: yZero } },\n      { seriesDatum: void 0, point: { x: firstValidX, y: yZero } }\n    );\n    return { nodeData, fillData, strokeData };\n  }\n  updateAxisLine() {\n    const { xScale, yScale, axis, xAxisLine } = this;\n    xAxisLine.x1 = xScale.range[0];\n    xAxisLine.x2 = xScale.range[1];\n    xAxisLine.y1 = xAxisLine.y2 = 0;\n    xAxisLine.stroke = axis.stroke;\n    xAxisLine.strokeWidth = axis.strokeWidth;\n    const yZero = yScale.convert(0);\n    xAxisLine.translationY = yZero;\n  }\n  updateSelection(selectionData) {\n    this.markerSelection.update(selectionData);\n  }\n  updateNodes() {\n    const { highlightedDatum, highlightStyle, marker } = this;\n    const {\n      size: highlightSize,\n      fill: highlightFill,\n      stroke: highlightStroke,\n      strokeWidth: highlightStrokeWidth\n    } = highlightStyle;\n    const markerFormatter = marker.formatter;\n    this.markerSelection.each((node, datum, index) => {\n      const { point, seriesDatum } = datum;\n      if (!point) {\n        return;\n      }\n      const highlighted = datum === highlightedDatum;\n      const markerFill = highlighted && highlightFill !== void 0 ? highlightFill : marker.fill;\n      const markerStroke = highlighted && highlightStroke !== void 0 ? highlightStroke : marker.stroke;\n      const markerStrokeWidth = highlighted && highlightStrokeWidth !== void 0 ? highlightStrokeWidth : marker.strokeWidth;\n      const markerSize = highlighted && highlightSize !== void 0 ? highlightSize : marker.size;\n      let markerFormat;\n      if (markerFormatter) {\n        const first = index === 0;\n        const last = index === this.markerSelectionData.length - 1;\n        const min = seriesDatum.y === this.min;\n        const max = seriesDatum.y === this.max;\n        markerFormat = markerFormatter({\n          datum,\n          xValue: seriesDatum.x,\n          yValue: seriesDatum.y,\n          min,\n          max,\n          first,\n          last,\n          fill: markerFill,\n          stroke: markerStroke,\n          strokeWidth: markerStrokeWidth,\n          size: markerSize,\n          highlighted\n        });\n      }\n      node.size = markerFormat && markerFormat.size != void 0 ? markerFormat.size : markerSize;\n      node.fill = markerFormat && markerFormat.fill != void 0 ? markerFormat.fill : markerFill;\n      node.stroke = markerFormat && markerFormat.stroke != void 0 ? markerFormat.stroke : markerStroke;\n      node.strokeWidth = markerFormat && markerFormat.strokeWidth != void 0 ? markerFormat.strokeWidth : markerStrokeWidth;\n      node.translationX = point.x;\n      node.translationY = point.y;\n      node.visible = markerFormat && markerFormat.enabled != void 0 ? markerFormat.enabled : marker.enabled && node.size > 0;\n    });\n  }\n  updateStroke(strokeData) {\n    const { strokePath, yData, line } = this;\n    const path = strokePath.path;\n    path.clear();\n    if (yData.length < 2) {\n      return;\n    }\n    const n = strokeData.length;\n    let moveTo = true;\n    for (let i = 0; i < n; i++) {\n      const { point, seriesDatum } = strokeData[i];\n      const x = point.x;\n      const y = point.y;\n      if (seriesDatum.y == void 0) {\n        moveTo = true;\n      } else {\n        if (moveTo) {\n          path.moveTo(x, y);\n          moveTo = false;\n        } else {\n          path.lineTo(x, y);\n        }\n      }\n    }\n    strokePath.lineJoin = strokePath.lineCap = \"round\";\n    strokePath.fill = void 0;\n    strokePath.stroke = line.stroke;\n    strokePath.strokeWidth = line.strokeWidth;\n  }\n  updateFill(areaData) {\n    const { fillPath, yData, fill } = this;\n    const path = fillPath.path;\n    const n = areaData.length;\n    path.clear();\n    if (yData.length < 2) {\n      return;\n    }\n    for (let i = 0; i < n; i++) {\n      const { point } = areaData[i];\n      const x = point.x;\n      const y = point.y;\n      if (i > 0) {\n        path.lineTo(x, y);\n      } else {\n        path.moveTo(x, y);\n      }\n    }\n    path.closePath();\n    fillPath.lineJoin = \"round\";\n    fillPath.stroke = void 0;\n    fillPath.fill = fill;\n  }\n  updateXCrosshairLine() {\n    var _a;\n    const {\n      yScale,\n      xCrosshairLine,\n      highlightedDatum,\n      crosshairs: { xLine }\n    } = this;\n    if (!xLine.enabled || highlightedDatum == void 0) {\n      xCrosshairLine.strokeWidth = 0;\n      return;\n    }\n    xCrosshairLine.y1 = yScale.range[0];\n    xCrosshairLine.y2 = yScale.range[1];\n    xCrosshairLine.x1 = xCrosshairLine.x2 = 0;\n    xCrosshairLine.stroke = xLine.stroke;\n    xCrosshairLine.strokeWidth = (_a = xLine.strokeWidth) != null ? _a : 1;\n    xCrosshairLine.lineCap = xLine.lineCap === \"round\" || xLine.lineCap === \"square\" ? xLine.lineCap : void 0;\n    const { lineDash } = xLine;\n    xCrosshairLine.lineDash = Array.isArray(lineDash) ? lineDash : getLineDash(xCrosshairLine.lineCap, xLine.lineDash);\n    xCrosshairLine.translationX = highlightedDatum.point.x;\n  }\n  updateYCrosshairLine() {\n    var _a;\n    const {\n      xScale,\n      yCrosshairLine,\n      highlightedDatum,\n      crosshairs: { yLine }\n    } = this;\n    if (!yLine.enabled || highlightedDatum == void 0) {\n      yCrosshairLine.strokeWidth = 0;\n      return;\n    }\n    yCrosshairLine.x1 = xScale.range[0];\n    yCrosshairLine.x2 = xScale.range[1];\n    yCrosshairLine.y1 = yCrosshairLine.y2 = 0;\n    yCrosshairLine.stroke = yLine.stroke;\n    yCrosshairLine.strokeWidth = (_a = yLine.strokeWidth) != null ? _a : 1;\n    yCrosshairLine.lineCap = yLine.lineCap === \"round\" || yLine.lineCap === \"square\" ? yLine.lineCap : void 0;\n    const { lineDash } = yLine;\n    yCrosshairLine.lineDash = Array.isArray(lineDash) ? lineDash : getLineDash(yCrosshairLine.lineCap, yLine.lineDash);\n    yCrosshairLine.translationY = highlightedDatum.point.y;\n  }\n  getTooltipHtml(datum) {\n    var _a, _b;\n    const { dataType } = this;\n    const { seriesDatum } = datum;\n    const yValue = seriesDatum.y;\n    const xValue = seriesDatum.x;\n    const content = this.formatNumericDatum(yValue);\n    const title = dataType === \"array\" || dataType === \"object\" ? this.formatDatum(xValue) : void 0;\n    const defaults = {\n      content,\n      title\n    };\n    const tooltipRenderer = (_b = (_a = this.processedOptions) == null ? void 0 : _a.tooltip) == null ? void 0 : _b.renderer;\n    if (tooltipRenderer) {\n      return toTooltipHtml2(\n        tooltipRenderer({\n          context: this.context,\n          datum: seriesDatum,\n          yValue,\n          xValue\n        }),\n        defaults\n      );\n    }\n    return toTooltipHtml2(defaults);\n  }\n};\nAreaSparkline.className = \"AreaSparkline\";\n\n// enterprise-modules/sparklines/src/sparkline/line/lineSparkline.ts\nvar { extent: extent4 } = sparklines_util_exports;\nvar { BandScale: BandScale4 } = sparklines_scale_exports;\nvar SparklineMarker2 = class {\n  constructor() {\n    this.enabled = true;\n    this.shape = \"circle\";\n    this.size = 0;\n    this.fill = \"rgb(124, 181, 236)\";\n    this.stroke = \"rgb(124, 181, 236)\";\n    this.strokeWidth = 1;\n    this.formatter = void 0;\n  }\n};\nvar SparklineLine2 = class {\n  constructor() {\n    this.stroke = \"rgb(124, 181, 236)\";\n    this.strokeWidth = 1;\n  }\n};\nvar SparklineCrosshairs2 = class {\n  constructor() {\n    this.xLine = {\n      enabled: true,\n      stroke: \"rgba(0,0,0, 0.54)\",\n      strokeWidth: 1,\n      lineDash: \"solid\",\n      lineCap: void 0\n    };\n    this.yLine = {\n      enabled: false,\n      stroke: \"rgba(0,0,0, 0.54)\",\n      strokeWidth: 1,\n      lineDash: \"solid\",\n      lineCap: void 0\n    };\n  }\n};\nvar LineSparkline = class extends Sparkline {\n  constructor() {\n    super();\n    this.linePath = new integrated_charts_scene_exports.Path();\n    this.xCrosshairLine = new integrated_charts_scene_exports.Line();\n    this.yCrosshairLine = new integrated_charts_scene_exports.Line();\n    this.lineSparklineGroup = new integrated_charts_scene_exports.Group();\n    this.markers = new integrated_charts_scene_exports.Group();\n    this.markerSelection = integrated_charts_scene_exports.Selection.select(\n      this.markers,\n      () => this.markerFactory()\n    );\n    this.markerSelectionData = [];\n    this.marker = new SparklineMarker2();\n    this.line = new SparklineLine2();\n    this.crosshairs = new SparklineCrosshairs2();\n    this.rootGroup.append(this.lineSparklineGroup);\n    this.linePath.zIndex = 1e3 /* SERIES_STROKE_ZINDEX */;\n    this.xCrosshairLine.zIndex = 2e3 /* CROSSHAIR_ZINDEX */;\n    this.yCrosshairLine.zIndex = 2e3 /* CROSSHAIR_ZINDEX */;\n    this.markers.zIndex = 2500 /* SERIES_MARKERS_ZINDEX */;\n    this.lineSparklineGroup.append([this.linePath, this.xCrosshairLine, this.yCrosshairLine, this.markers]);\n  }\n  getNodeData() {\n    return this.markerSelectionData;\n  }\n  markerFactory() {\n    const { shape } = this.marker;\n    const MarkerShape = getMarker2(shape);\n    return new MarkerShape();\n  }\n  /**\n   * If marker shape is changed, this method should be called to remove the previous marker nodes selection.\n   */\n  onMarkerShapeChange() {\n    this.markerSelection = this.markerSelection.clear();\n    this.scheduleLayout();\n  }\n  update() {\n    const nodeData = this.generateNodeData();\n    if (!nodeData) {\n      return;\n    }\n    this.markerSelectionData = nodeData;\n    this.updateSelection(nodeData);\n    this.updateNodes();\n    this.updateLine();\n  }\n  updateYScaleDomain() {\n    const { yData, yScale } = this;\n    const yMinMax = extent4(yData);\n    let yMin = 0;\n    let yMax = 1;\n    if (yMinMax !== void 0) {\n      yMin = this.min = yMinMax[0];\n      yMax = this.max = yMinMax[1];\n    }\n    if (yMin === yMax) {\n      const padding = Math.abs(yMin * 0.01);\n      yMin -= padding;\n      yMax += padding;\n    }\n    yScale.domain = [yMin, yMax];\n  }\n  generateNodeData() {\n    const { data, yData, xData, xScale, yScale } = this;\n    if (!data) {\n      return;\n    }\n    const continuous = !(xScale instanceof BandScale4);\n    const offsetX = !continuous ? xScale.bandwidth / 2 : 0;\n    const nodeData = [];\n    for (let i = 0; i < yData.length; i++) {\n      const yDatum = yData[i];\n      const xDatum = xData[i];\n      if (yDatum == void 0) {\n        continue;\n      }\n      const x = xScale.convert(continuous ? xScale.toDomain(xDatum) : xDatum) + offsetX;\n      const y = yDatum === void 0 ? NaN : yScale.convert(yDatum);\n      nodeData.push({\n        seriesDatum: { x: xDatum, y: yDatum },\n        point: { x, y }\n      });\n    }\n    return nodeData;\n  }\n  updateSelection(selectionData) {\n    this.markerSelection.update(selectionData);\n  }\n  updateNodes() {\n    const { highlightedDatum, highlightStyle, marker } = this;\n    const {\n      size: highlightSize,\n      fill: highlightFill,\n      stroke: highlightStroke,\n      strokeWidth: highlightStrokeWidth\n    } = highlightStyle;\n    const markerFormatter = marker.formatter;\n    this.markerSelection.each((node, datum, index) => {\n      const highlighted = datum === highlightedDatum;\n      const markerFill = highlighted && highlightFill !== void 0 ? highlightFill : marker.fill;\n      const markerStroke = highlighted && highlightStroke !== void 0 ? highlightStroke : marker.stroke;\n      const markerStrokeWidth = highlighted && highlightStrokeWidth !== void 0 ? highlightStrokeWidth : marker.strokeWidth;\n      const markerSize = highlighted && highlightSize !== void 0 ? highlightSize : marker.size;\n      let markerFormat;\n      const { seriesDatum, point } = datum;\n      if (markerFormatter) {\n        const first = index === 0;\n        const last = index === this.markerSelectionData.length - 1;\n        const min = seriesDatum.y === this.min;\n        const max = seriesDatum.y === this.max;\n        markerFormat = markerFormatter({\n          datum,\n          xValue: seriesDatum.x,\n          yValue: seriesDatum.y,\n          min,\n          max,\n          first,\n          last,\n          fill: markerFill,\n          stroke: markerStroke,\n          strokeWidth: markerStrokeWidth,\n          size: markerSize,\n          highlighted\n        });\n      }\n      node.size = markerFormat && markerFormat.size != void 0 ? markerFormat.size : markerSize;\n      node.fill = markerFormat && markerFormat.fill != void 0 ? markerFormat.fill : markerFill;\n      node.stroke = markerFormat && markerFormat.stroke != void 0 ? markerFormat.stroke : markerStroke;\n      node.strokeWidth = markerFormat && markerFormat.strokeWidth != void 0 ? markerFormat.strokeWidth : markerStrokeWidth;\n      node.translationX = point.x;\n      node.translationY = point.y;\n      node.visible = markerFormat && markerFormat.enabled != void 0 ? markerFormat.enabled : marker.enabled && node.size > 0;\n    });\n  }\n  updateLine() {\n    const { linePath, yData, xData, xScale, yScale, line } = this;\n    const path = linePath.path;\n    path.clear();\n    if (yData.length < 2) {\n      return;\n    }\n    const continuous = !(xScale instanceof BandScale4);\n    const n = yData.length;\n    const offsetX = !continuous ? xScale.bandwidth / 2 : 0;\n    let moveTo = true;\n    for (let i = 0; i < n; i++) {\n      const xDatum = xData[i];\n      const yDatum = yData[i];\n      const x = xScale.convert(continuous ? xScale.toDomain(xDatum) : xDatum) + offsetX;\n      const y = yDatum === void 0 ? NaN : yScale.convert(yDatum);\n      if (yDatum == void 0) {\n        moveTo = true;\n      } else {\n        if (moveTo) {\n          path.moveTo(x, y);\n          moveTo = false;\n        } else {\n          path.lineTo(x, y);\n        }\n      }\n    }\n    linePath.fill = void 0;\n    linePath.stroke = line.stroke;\n    linePath.strokeWidth = line.strokeWidth;\n  }\n  updateXCrosshairLine() {\n    var _a;\n    const {\n      yScale,\n      xCrosshairLine,\n      highlightedDatum,\n      crosshairs: { xLine }\n    } = this;\n    if (!xLine.enabled || highlightedDatum == void 0) {\n      xCrosshairLine.strokeWidth = 0;\n      return;\n    }\n    xCrosshairLine.y1 = yScale.range[0];\n    xCrosshairLine.y2 = yScale.range[1];\n    xCrosshairLine.x1 = xCrosshairLine.x2 = 0;\n    xCrosshairLine.stroke = xLine.stroke;\n    xCrosshairLine.strokeWidth = (_a = xLine.strokeWidth) != null ? _a : 1;\n    xCrosshairLine.lineCap = xLine.lineCap === \"round\" || xLine.lineCap === \"square\" ? xLine.lineCap : void 0;\n    const { lineDash } = xLine;\n    xCrosshairLine.lineDash = Array.isArray(lineDash) ? lineDash : getLineDash(xCrosshairLine.lineCap, xLine.lineDash);\n    xCrosshairLine.translationX = highlightedDatum.point.x;\n  }\n  updateYCrosshairLine() {\n    var _a;\n    const {\n      xScale,\n      yCrosshairLine,\n      highlightedDatum,\n      crosshairs: { yLine }\n    } = this;\n    if (!yLine.enabled || highlightedDatum == void 0) {\n      yCrosshairLine.strokeWidth = 0;\n      return;\n    }\n    yCrosshairLine.x1 = xScale.range[0];\n    yCrosshairLine.x2 = xScale.range[1];\n    yCrosshairLine.y1 = yCrosshairLine.y2 = 0;\n    yCrosshairLine.stroke = yLine.stroke;\n    yCrosshairLine.strokeWidth = (_a = yLine.strokeWidth) != null ? _a : 1;\n    yCrosshairLine.lineCap = yLine.lineCap === \"round\" || yLine.lineCap === \"square\" ? yLine.lineCap : void 0;\n    const { lineDash } = yLine;\n    yCrosshairLine.lineDash = Array.isArray(lineDash) ? lineDash : getLineDash(yCrosshairLine.lineCap, yLine.lineDash);\n    yCrosshairLine.translationY = highlightedDatum.point.y;\n  }\n  getTooltipHtml(datum) {\n    var _a, _b;\n    const { dataType } = this;\n    const { seriesDatum } = datum;\n    const yValue = seriesDatum.y;\n    const xValue = seriesDatum.x;\n    const content = this.formatNumericDatum(yValue);\n    const title = dataType === \"array\" || dataType === \"object\" ? this.formatDatum(xValue) : void 0;\n    const defaults = {\n      content,\n      title\n    };\n    const tooltipRenderer = (_b = (_a = this.processedOptions) == null ? void 0 : _a.tooltip) == null ? void 0 : _b.renderer;\n    if (tooltipRenderer) {\n      return toTooltipHtml2(\n        tooltipRenderer({\n          context: this.context,\n          datum: seriesDatum,\n          yValue,\n          xValue\n        }),\n        defaults\n      );\n    }\n    return toTooltipHtml2(defaults);\n  }\n};\nLineSparkline.className = \"LineSparkline\";\n\n// enterprise-modules/sparklines/src/sparkline/label/label.ts\nvar Label2 = class {\n  constructor() {\n    this.enabled = true;\n    this.fontSize = 8;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.color = \"rgba(70, 70, 70, 1)\";\n  }\n};\n\n// enterprise-modules/sparklines/src/sparkline/bar-column/barColumnSparkline.ts\nvar { extent: extent5 } = sparklines_util_exports;\nvar BarColumnLabel = class extends Label2 {\n  constructor() {\n    super(...arguments);\n    this.formatter = void 0;\n    this.placement = \"insideEnd\" /* InsideEnd */;\n  }\n};\nvar BarColumnSparkline = class extends Sparkline {\n  constructor() {\n    super();\n    this.fill = \"rgb(124, 181, 236)\";\n    this.stroke = \"silver\";\n    this.strokeWidth = 0;\n    this.paddingInner = 0.1;\n    this.paddingOuter = 0.2;\n    this.valueAxisDomain = void 0;\n    this.formatter = void 0;\n    this.axisLine = new integrated_charts_scene_exports.Line();\n    this.bandWidth = 0;\n    this.sparklineGroup = new integrated_charts_scene_exports.Group();\n    this.rectGroup = new integrated_charts_scene_exports.Group();\n    this.labelGroup = new integrated_charts_scene_exports.Group();\n    this.rectSelection = integrated_charts_scene_exports.Selection.select(\n      this.rectGroup,\n      integrated_charts_scene_exports.Rect\n    );\n    this.labelSelection = integrated_charts_scene_exports.Selection.select(\n      this.labelGroup,\n      integrated_charts_scene_exports.Text\n    );\n    this.nodeSelectionData = [];\n    this.label = new BarColumnLabel();\n    this.rootGroup.append(this.sparklineGroup);\n    this.rectGroup.zIndex = 50 /* SERIES_FILL_ZINDEX */;\n    this.axisLine.zIndex = 500 /* AXIS_LINE_ZINDEX */;\n    this.labelGroup.zIndex = 1500 /* SERIES_LABEL_ZINDEX */;\n    this.sparklineGroup.append([this.rectGroup, this.axisLine, this.labelGroup]);\n    this.axisLine.lineCap = \"round\";\n    this.label.enabled = false;\n  }\n  getNodeData() {\n    return this.nodeSelectionData;\n  }\n  update() {\n    this.updateSelections();\n    this.updateNodes();\n  }\n  updateSelections() {\n    const nodeData = this.generateNodeData();\n    if (!nodeData) {\n      return;\n    }\n    this.nodeSelectionData = nodeData;\n    this.updateRectSelection(nodeData);\n    this.updateLabelSelection(nodeData);\n  }\n  updateNodes() {\n    this.updateRectNodes();\n    this.updateLabelNodes();\n  }\n  calculateStep(range3) {\n    var _a;\n    const { xScale, paddingInner, paddingOuter, smallestInterval } = this;\n    let domainLength = xScale.domain[1] - xScale.domain[0];\n    let intervals = domainLength / ((_a = smallestInterval == null ? void 0 : smallestInterval.x) != null ? _a : 1) + 1;\n    const maxBands = 50;\n    const bands = Math.min(intervals, maxBands);\n    const gaps = bands - 1;\n    const step = range3 / Math.max(1, 2 * paddingOuter + gaps * paddingInner + bands);\n    return step;\n  }\n  updateYScaleDomain() {\n    const { yScale, yData, valueAxisDomain } = this;\n    const yMinMax = extent5(yData);\n    let yMin = 0;\n    let yMax = 1;\n    if (yMinMax !== void 0) {\n      yMin = this.min = yMinMax[0];\n      yMax = this.max = yMinMax[1];\n    }\n    yMin = yMin < 0 ? yMin : 0;\n    yMax = yMax < 0 ? 0 : yMax;\n    if (valueAxisDomain) {\n      if (valueAxisDomain[1] < yMax) {\n        valueAxisDomain[1] = yMax;\n      }\n      if (valueAxisDomain[0] > yMin) {\n        valueAxisDomain[0] = yMin;\n      }\n    }\n    yScale.domain = valueAxisDomain ? valueAxisDomain : [yMin, yMax];\n  }\n  updateRectSelection(selectionData) {\n    this.rectSelection.update(selectionData);\n  }\n  updateRectNodes() {\n    const { highlightedDatum, formatter: nodeFormatter, fill, stroke, strokeWidth } = this;\n    const { fill: highlightFill, stroke: highlightStroke, strokeWidth: highlightStrokeWidth } = this.highlightStyle;\n    this.rectSelection.each((node, datum, index) => {\n      const highlighted = datum === highlightedDatum;\n      const nodeFill = highlighted && highlightFill !== void 0 ? highlightFill : fill;\n      const nodeStroke = highlighted && highlightStroke !== void 0 ? highlightStroke : stroke;\n      const nodeStrokeWidth = highlighted && highlightStrokeWidth !== void 0 ? highlightStrokeWidth : strokeWidth;\n      let nodeFormat;\n      const { x, y, width, height, seriesDatum } = datum;\n      if (nodeFormatter) {\n        const first = index === 0;\n        const last = index === this.nodeSelectionData.length - 1;\n        const min = seriesDatum.y === this.min;\n        const max = seriesDatum.y === this.max;\n        nodeFormat = nodeFormatter({\n          datum,\n          xValue: seriesDatum.x,\n          yValue: seriesDatum.y,\n          width,\n          height,\n          min,\n          max,\n          first,\n          last,\n          fill: nodeFill,\n          stroke: nodeStroke,\n          strokeWidth: nodeStrokeWidth,\n          highlighted\n        });\n      }\n      node.fill = nodeFormat && nodeFormat.fill || nodeFill;\n      node.stroke = nodeFormat && nodeFormat.stroke || nodeStroke;\n      node.strokeWidth = nodeFormat && nodeFormat.strokeWidth || nodeStrokeWidth;\n      node.x = node.y = 0;\n      node.width = width;\n      node.height = height;\n      node.visible = node.height > 0;\n      node.translationX = x;\n      node.translationY = y;\n    });\n  }\n  updateLabelSelection(selectionData) {\n    this.labelSelection.update(selectionData, (text) => {\n      text.tag = 1 /* Label */;\n      text.pointerEvents = integrated_charts_scene_exports.PointerEvents.None;\n    });\n  }\n  updateLabelNodes() {\n    const {\n      label: { enabled: labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color }\n    } = this;\n    this.labelSelection.each((text, datum) => {\n      const label = datum.label;\n      if (label && labelEnabled) {\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.textAlign = label.textAlign;\n        text.textBaseline = label.textBaseline;\n        text.text = label.text;\n        text.x = label.x;\n        text.y = label.y;\n        text.fill = color;\n        text.visible = true;\n      } else {\n        text.visible = false;\n      }\n    });\n  }\n  getTooltipHtml(datum) {\n    var _a, _b;\n    const { dataType } = this;\n    const { seriesDatum } = datum;\n    const yValue = seriesDatum.y;\n    const xValue = seriesDatum.x;\n    const content = this.formatNumericDatum(yValue);\n    const title = dataType === \"array\" || dataType === \"object\" ? this.formatDatum(xValue) : void 0;\n    const defaults = {\n      content,\n      title\n    };\n    const tooltipRenderer = (_b = (_a = this.processedOptions) == null ? void 0 : _a.tooltip) == null ? void 0 : _b.renderer;\n    if (tooltipRenderer) {\n      return toTooltipHtml2(\n        tooltipRenderer({\n          context: this.context,\n          datum: seriesDatum,\n          yValue,\n          xValue\n        }),\n        defaults\n      );\n    }\n    return toTooltipHtml2(defaults);\n  }\n  formatLabelValue(value) {\n    return value % 1 !== 0 ? value.toFixed(1) : value.toFixed(0);\n  }\n};\n\n// enterprise-modules/sparklines/src/sparkline/bar-column/barSparkline.ts\nvar { isNumber: isNumber3 } = sparklines_util_exports;\nvar { BandScale: BandScale5 } = sparklines_scale_exports;\nvar BarSparkline = class extends BarColumnSparkline {\n  updateYScaleRange() {\n    const { seriesRect, yScale } = this;\n    yScale.range = [0, seriesRect.width];\n  }\n  updateXScaleRange() {\n    const { xScale, seriesRect, paddingOuter, paddingInner } = this;\n    if (xScale instanceof BandScale5) {\n      xScale.range = [0, seriesRect.height];\n      xScale.paddingInner = paddingInner;\n      xScale.paddingOuter = paddingOuter;\n    } else {\n      const step = this.calculateStep(seriesRect.height);\n      const padding = step * paddingOuter;\n      this.bandWidth = step * (1 - paddingInner);\n      xScale.range = [padding, seriesRect.height - padding - this.bandWidth];\n    }\n  }\n  updateAxisLine() {\n    const { yScale, axis, axisLine, seriesRect } = this;\n    const { strokeWidth } = axis;\n    axisLine.x1 = 0;\n    axisLine.x2 = 0;\n    axisLine.y1 = 0;\n    axisLine.y2 = seriesRect.height;\n    axisLine.stroke = axis.stroke;\n    axisLine.strokeWidth = strokeWidth + (strokeWidth % 2 === 1 ? 1 : 0);\n    const yZero = yScale.convert(0);\n    axisLine.translationX = yZero;\n  }\n  generateNodeData() {\n    const { data, yData, xData, xScale, yScale, fill, stroke, strokeWidth, label } = this;\n    if (!data) {\n      return;\n    }\n    const {\n      fontStyle: labelFontStyle,\n      fontWeight: labelFontWeight,\n      fontSize: labelFontSize,\n      fontFamily: labelFontFamily,\n      color: labelColor,\n      formatter: labelFormatter,\n      placement: labelPlacement\n    } = label;\n    const nodeData = [];\n    const yZero = yScale.convert(0);\n    const continuous = !(xScale instanceof BandScale5);\n    for (let i = 0, n = yData.length; i < n; i++) {\n      let yDatum = yData[i];\n      const xDatum = xData[i];\n      const invalidDatum = yDatum === void 0;\n      if (invalidDatum) {\n        yDatum = 0;\n      }\n      const y = xScale.convert(continuous ? xScale.toDomain(xDatum) : xDatum);\n      const x = Math.min(yDatum === void 0 ? NaN : yScale.convert(yDatum), yZero);\n      const bottom = Math.max(yDatum === void 0 ? NaN : yScale.convert(yDatum), yZero);\n      const height = !continuous ? xScale.bandwidth : this.bandWidth;\n      const width = bottom - x;\n      const midPoint = {\n        x: yZero,\n        y\n      };\n      let labelText;\n      if (labelFormatter) {\n        labelText = labelFormatter({ value: yDatum });\n      } else {\n        labelText = yDatum !== void 0 && isNumber3(yDatum) ? this.formatLabelValue(yDatum) : \"\";\n      }\n      const labelY = y + height / 2;\n      let labelX;\n      const labelTextBaseline = \"middle\";\n      let labelTextAlign;\n      const isPositiveY = yDatum !== void 0 && yDatum >= 0;\n      const labelPadding = 4;\n      if (labelPlacement === \"center\" /* Center */) {\n        labelX = x + width / 2;\n        labelTextAlign = \"center\";\n      } else if (labelPlacement === \"outsideEnd\" /* OutsideEnd */) {\n        labelX = x + (isPositiveY ? width + labelPadding : -labelPadding);\n        labelTextAlign = isPositiveY ? \"start\" : \"end\";\n      } else if (labelPlacement === \"insideEnd\" /* InsideEnd */) {\n        labelX = x + (isPositiveY ? width - labelPadding : labelPadding);\n        labelTextAlign = isPositiveY ? \"end\" : \"start\";\n        const textSize = integrated_charts_scene_exports.Text.getTextSize(labelText, labelFontFamily);\n        const textWidth = textSize.width || 20;\n        const positiveBoundary = yZero + textWidth;\n        const negativeBoundary = yZero - textWidth;\n        const exceedsBoundaries = isPositiveY && labelX < positiveBoundary || !isPositiveY && labelX > negativeBoundary;\n        if (exceedsBoundaries) {\n          labelX = yZero + labelPadding * (isPositiveY ? 1 : -1);\n          labelTextAlign = isPositiveY ? \"start\" : \"end\";\n        }\n      } else {\n        labelX = yZero + labelPadding * (isPositiveY ? 1 : -1);\n        labelTextAlign = isPositiveY ? \"start\" : \"end\";\n      }\n      nodeData.push({\n        x,\n        y,\n        width,\n        height,\n        fill,\n        stroke,\n        strokeWidth,\n        seriesDatum: { x: xDatum, y: invalidDatum ? void 0 : yDatum },\n        point: midPoint,\n        label: {\n          x: labelX,\n          y: labelY,\n          text: labelText,\n          fontStyle: labelFontStyle,\n          fontWeight: labelFontWeight,\n          fontSize: labelFontSize,\n          fontFamily: labelFontFamily,\n          textAlign: labelTextAlign,\n          textBaseline: labelTextBaseline,\n          fill: labelColor\n        }\n      });\n    }\n    return nodeData;\n  }\n  getDistance(p1, p2) {\n    return Math.abs(p1.y - p2.y);\n  }\n};\nBarSparkline.className = \"BarSparkline\";\n\n// enterprise-modules/sparklines/src/sparkline/bar-column/columnSparkline.ts\nvar { isNumber: isNumber4 } = sparklines_util_exports;\nvar { BandScale: BandScale6 } = sparklines_scale_exports;\nvar ColumnSparkline = class extends BarColumnSparkline {\n  updateYScaleRange() {\n    const { seriesRect, yScale } = this;\n    yScale.range = [seriesRect.height, 0];\n  }\n  updateXScaleRange() {\n    const { xScale, seriesRect, paddingOuter, paddingInner } = this;\n    if (xScale instanceof BandScale6) {\n      xScale.range = [0, seriesRect.width];\n      xScale.paddingInner = paddingInner;\n      xScale.paddingOuter = paddingOuter;\n    } else {\n      const step = this.calculateStep(seriesRect.width);\n      const padding = step * paddingOuter;\n      this.bandWidth = step * (1 - paddingInner);\n      xScale.range = [padding, seriesRect.width - padding - this.bandWidth];\n    }\n  }\n  updateAxisLine() {\n    const { yScale, axis, axisLine, seriesRect } = this;\n    const { strokeWidth } = axis;\n    axisLine.x1 = 0;\n    axisLine.x2 = seriesRect.width;\n    axisLine.y1 = 0;\n    axisLine.y2 = 0;\n    axisLine.stroke = axis.stroke;\n    axisLine.strokeWidth = strokeWidth + (strokeWidth % 2 === 1 ? 1 : 0);\n    const yZero = yScale.convert(0);\n    axisLine.translationY = yZero;\n  }\n  generateNodeData() {\n    const { data, yData, xData, xScale, yScale, fill, stroke, strokeWidth, label } = this;\n    if (!data) {\n      return;\n    }\n    const {\n      fontStyle: labelFontStyle,\n      fontWeight: labelFontWeight,\n      fontSize: labelFontSize,\n      fontFamily: labelFontFamily,\n      color: labelColor,\n      formatter: labelFormatter,\n      placement: labelPlacement\n    } = label;\n    const nodeData = [];\n    const yZero = yScale.convert(0);\n    const continuous = !(xScale instanceof BandScale6);\n    for (let i = 0, n = yData.length; i < n; i++) {\n      let yDatum = yData[i];\n      const xDatum = xData[i];\n      const invalidDatum = yDatum === void 0;\n      if (invalidDatum) {\n        yDatum = 0;\n      }\n      const y = Math.min(yDatum === void 0 ? NaN : yScale.convert(yDatum), yZero);\n      const x = xScale.convert(continuous ? xScale.toDomain(xDatum) : xDatum);\n      const bottom = Math.max(yDatum === void 0 ? NaN : yScale.convert(yDatum), yZero);\n      const width = !continuous ? xScale.bandwidth : this.bandWidth;\n      const height = bottom - y;\n      const midPoint = {\n        x: x + width / 2,\n        y: yZero\n      };\n      let labelText;\n      if (labelFormatter) {\n        labelText = labelFormatter({ value: yDatum });\n      } else {\n        labelText = yDatum !== void 0 && isNumber4(yDatum) ? this.formatLabelValue(yDatum) : \"\";\n      }\n      const labelX = x + width / 2;\n      let labelY;\n      const labelTextAlign = \"center\";\n      let labelTextBaseline;\n      const isPositiveY = yDatum !== void 0 && yDatum >= 0;\n      const labelPadding = 2;\n      if (labelPlacement === \"center\" /* Center */) {\n        labelY = y + height / 2;\n        labelTextBaseline = \"middle\";\n      } else if (labelPlacement === \"outsideEnd\" /* OutsideEnd */) {\n        labelY = y + (isPositiveY ? -labelPadding : height + labelPadding);\n        labelTextBaseline = isPositiveY ? \"bottom\" : \"top\";\n      } else if (labelPlacement === \"insideEnd\" /* InsideEnd */) {\n        labelY = y + (isPositiveY ? labelPadding : height - labelPadding);\n        labelTextBaseline = isPositiveY ? \"top\" : \"bottom\";\n        const textSize = integrated_charts_scene_exports.Text.getTextSize(labelText, labelFontFamily);\n        const textHeight = textSize.height || 10;\n        const positiveBoundary = yZero - textHeight;\n        const negativeBoundary = yZero + textHeight;\n        const exceedsBoundaries = isPositiveY && labelY > positiveBoundary || !isPositiveY && labelY < negativeBoundary;\n        if (exceedsBoundaries) {\n          labelY = yZero + labelPadding * (isPositiveY ? -1 : 1);\n          labelTextBaseline = isPositiveY ? \"bottom\" : \"top\";\n        }\n      } else {\n        labelY = yZero + labelPadding * (isPositiveY ? -1 : 1);\n        labelTextBaseline = isPositiveY ? \"bottom\" : \"top\";\n      }\n      nodeData.push({\n        x,\n        y,\n        width,\n        height,\n        fill,\n        stroke,\n        strokeWidth,\n        seriesDatum: { x: xDatum, y: invalidDatum ? void 0 : yDatum },\n        point: midPoint,\n        label: {\n          x: labelX,\n          y: labelY,\n          text: labelText,\n          fontStyle: labelFontStyle,\n          fontWeight: labelFontWeight,\n          fontSize: labelFontSize,\n          fontFamily: labelFontFamily,\n          textAlign: labelTextAlign,\n          textBaseline: labelTextBaseline,\n          fill: labelColor\n        }\n      });\n    }\n    return nodeData;\n  }\n};\nColumnSparkline.className = \"ColumnSparkline\";\n\n// enterprise-modules/sparklines/src/sparkline/agSparkline.ts\nvar { isNumber: isNumber5 } = sparklines_util_exports;\nvar AgSparkline = class {\n  static create(options, tooltip) {\n    options = sparklines_util_exports.deepClone(options);\n    const sparkline = getSparklineInstance(options.type);\n    if (tooltip) {\n      sparkline.tooltip = tooltip;\n    }\n    initSparkline(sparkline, options);\n    initSparklineByType(sparkline, options);\n    if (options.data) {\n      sparkline.data = options.data;\n    }\n    sparkline.processedOptions = options;\n    return sparkline;\n  }\n};\nfunction getSparklineInstance(type = \"line\") {\n  switch (type) {\n    case \"column\":\n      return new ColumnSparkline();\n    case \"bar\":\n      return new BarSparkline();\n    case \"area\":\n      return new AreaSparkline();\n    case \"line\":\n    default:\n      return new LineSparkline();\n  }\n}\nfunction initSparklineByType(sparkline, options) {\n  switch (options.type) {\n    case \"bar\":\n      initBarColumnSparkline(sparkline, options);\n      break;\n    case \"column\":\n      initBarColumnSparkline(sparkline, options);\n      break;\n    case \"area\":\n      initAreaSparkline(sparkline, options);\n      break;\n    case \"line\":\n    default:\n      initLineSparkline(sparkline, options);\n      break;\n  }\n}\nfunction initSparkline(sparkline, options) {\n  setValueIfPropertyExists(sparkline, \"context\", options.context, options);\n  setValueIfPropertyExists(sparkline, \"width\", options.width, options);\n  setValueIfPropertyExists(sparkline, \"height\", options.height, options);\n  setValueIfPropertyExists(sparkline, \"container\", options.container, options);\n  setValueIfPropertyExists(sparkline, \"xKey\", options.xKey, options);\n  setValueIfPropertyExists(sparkline, \"yKey\", options.yKey, options);\n  if (options.padding) {\n    initPaddingOptions(sparkline.padding, options.padding);\n  }\n  if (options.axis) {\n    initAxisOptions(sparkline.axis, options.axis);\n  }\n  if (options.highlightStyle) {\n    initHighlightStyleOptions(sparkline.highlightStyle, options.highlightStyle);\n  }\n}\nfunction initLineSparkline(sparkline, options) {\n  if (options.marker) {\n    initMarkerOptions(sparkline.marker, options.marker);\n  }\n  if (options.line) {\n    initLineOptions(sparkline.line, options.line);\n  }\n  if (options.crosshairs) {\n    initCrosshairsOptions(sparkline.crosshairs, options.crosshairs);\n  }\n}\nfunction initAreaSparkline(sparkline, options) {\n  setValueIfPropertyExists(sparkline, \"fill\", options.fill, options);\n  if (options.marker) {\n    initMarkerOptions(sparkline.marker, options.marker);\n  }\n  if (options.line) {\n    initLineOptions(sparkline.line, options.line);\n  }\n  if (options.crosshairs) {\n    initCrosshairsOptions(sparkline.crosshairs, options.crosshairs);\n  }\n}\nfunction initBarColumnSparkline(sparkline, options) {\n  setValueIfPropertyExists(sparkline, \"valueAxisDomain\", options.valueAxisDomain, options);\n  setValueIfPropertyExists(sparkline, \"fill\", options.fill, options);\n  setValueIfPropertyExists(sparkline, \"stroke\", options.stroke, options);\n  setValueIfPropertyExists(sparkline, \"strokeWidth\", options.strokeWidth, options);\n  setValueIfPropertyExists(sparkline, \"paddingInner\", options.paddingInner, options);\n  setValueIfPropertyExists(sparkline, \"paddingOuter\", options.paddingOuter, options);\n  setValueIfPropertyExists(sparkline, \"formatter\", options.formatter, options);\n  if (options.label) {\n    initLabelOptions(sparkline.label, options.label);\n  }\n}\nfunction initPaddingOptions(target, options) {\n  setValueIfPropertyExists(target, \"top\", options.top, options);\n  setValueIfPropertyExists(target, \"right\", options.right, options);\n  setValueIfPropertyExists(target, \"bottom\", options.bottom, options);\n  setValueIfPropertyExists(target, \"left\", options.left, options);\n}\nfunction initMarkerOptions(target, options) {\n  setValueIfPropertyExists(target, \"enabled\", options.enabled, options);\n  setValueIfPropertyExists(target, \"size\", options.size, options);\n  setValueIfPropertyExists(target, \"shape\", options.shape, options);\n  setValueIfPropertyExists(target, \"fill\", options.fill, options);\n  setValueIfPropertyExists(target, \"stroke\", options.stroke, options);\n  setValueIfPropertyExists(target, \"strokeWidth\", options.strokeWidth, options);\n  setValueIfPropertyExists(target, \"formatter\", options.formatter, options);\n}\nfunction initLabelOptions(target, options) {\n  setValueIfPropertyExists(target, \"enabled\", options.enabled, options);\n  setValueIfPropertyExists(target, \"fontStyle\", options.fontStyle, options);\n  setValueIfPropertyExists(target, \"fontWeight\", options.fontWeight, options);\n  setValueIfPropertyExists(target, \"fontSize\", options.fontSize, options);\n  setValueIfPropertyExists(target, \"fontFamily\", options.fontFamily, options);\n  setValueIfPropertyExists(target, \"textAlign\", options.textAlign, options);\n  setValueIfPropertyExists(target, \"textBaseline\", options.textBaseline, options);\n  setValueIfPropertyExists(target, \"color\", options.color, options);\n  setValueIfPropertyExists(target, \"formatter\", options.formatter, options);\n  setValueIfPropertyExists(target, \"placement\", options.placement, options);\n}\nfunction initLineOptions(target, options) {\n  setValueIfPropertyExists(target, \"stroke\", options.stroke, options);\n  setValueIfPropertyExists(target, \"strokeWidth\", options.strokeWidth, options);\n}\nfunction initAxisOptions(target, options) {\n  setValueIfPropertyExists(target, \"type\", options.type, options);\n  setValueIfPropertyExists(target, \"stroke\", options.stroke, options);\n  setValueIfPropertyExists(target, \"strokeWidth\", options.strokeWidth, options);\n}\nfunction initHighlightStyleOptions(target, options) {\n  setValueIfPropertyExists(target, \"fill\", options.fill, options);\n  setValueIfPropertyExists(target, \"size\", options.size, options);\n  setValueIfPropertyExists(target, \"stroke\", options.stroke, options);\n  setValueIfPropertyExists(target, \"strokeWidth\", options.strokeWidth, options);\n}\nfunction initCrosshairsOptions(target, options) {\n  if (target.xLine && options.xLine) {\n    initCrosshairLineOptions(target.xLine, options.xLine);\n  }\n  if (target.yLine && options.yLine) {\n    initCrosshairLineOptions(target.yLine, options.yLine);\n  }\n}\nfunction initCrosshairLineOptions(target, options) {\n  setValueIfPropertyExists(target, \"enabled\", options.enabled, options);\n  setValueIfPropertyExists(target, \"stroke\", options.stroke, options);\n  setValueIfPropertyExists(target, \"strokeWidth\", options.strokeWidth, options);\n  setValueIfPropertyExists(target, \"lineDash\", options.lineDash, options);\n  setValueIfPropertyExists(target, \"lineCap\", options.lineCap, options);\n}\nvar doOnceFlags = {};\nfunction doOnce2(func, key) {\n  if (doOnceFlags[key]) {\n    return;\n  }\n  func();\n  doOnceFlags[key] = true;\n}\nvar offsetValidator = (property, value, defaultOffset) => {\n  if (isNumber5(value)) {\n    return true;\n  }\n  const message = `AG Charts: ${property} must be a number, the value you provided is not a valid number. Using the default of ${defaultOffset}px.`;\n  doOnce2(() => console.warn(message), `${property} not a number`);\n  return false;\n};\nvar validators = {\n  xOffset: offsetValidator,\n  yOffset: offsetValidator\n};\nfunction setValueIfPropertyExists(target, property, value, options) {\n  if (property in options) {\n    if (property in target) {\n      const validator = validators[property];\n      const isValid = validator ? validator(property, value, target[property]) : true;\n      if (isValid && target[property] !== value) {\n        target[property] = value;\n      }\n    } else {\n      console.warn(`Property ${property} does not exist on the target object.`);\n    }\n  }\n}\n\n// enterprise-modules/sparklines/src/sparklineCellRenderer.ts\nvar _SparklineCellRenderer = class _SparklineCellRenderer extends Component {\n  constructor() {\n    super(_SparklineCellRenderer.TEMPLATE);\n  }\n  init(params) {\n    let firstTimeIn = true;\n    const updateSparkline = () => {\n      const { clientWidth, clientHeight } = this.getGui();\n      if (clientWidth === 0 || clientHeight === 0) {\n        return;\n      }\n      if (firstTimeIn) {\n        const options = __spreadValues({\n          data: params.value,\n          width: clientWidth,\n          height: clientHeight,\n          context: {\n            data: params.data\n          }\n        }, params.sparklineOptions);\n        this.sparkline = AgSparkline.create(options, this.sparklineTooltipSingleton.getSparklineTooltip());\n        this.eSparkline.appendChild(this.sparkline.canvasElement);\n        firstTimeIn = false;\n      } else {\n        this.sparkline.width = clientWidth;\n        this.sparkline.height = clientHeight;\n      }\n    };\n    const unsubscribeFromResize = this.resizeObserverService.observeResize(this.getGui(), updateSparkline);\n    this.addDestroyFunc(() => unsubscribeFromResize());\n  }\n  refresh(params) {\n    if (this.sparkline) {\n      this.sparkline.data = params.value;\n      return true;\n    }\n    return false;\n  }\n  destroy() {\n    if (this.sparkline) {\n      this.sparkline.destroy();\n    }\n    super.destroy();\n  }\n};\n_SparklineCellRenderer.TEMPLATE = `<div class=\"ag-sparkline-wrapper\">\n            <span ref=\"eSparkline\"></span>\n        </div>`;\n__decorateClass([\n  RefSelector(\"eSparkline\")\n], _SparklineCellRenderer.prototype, \"eSparkline\", 2);\n__decorateClass([\n  Autowired(\"resizeObserverService\")\n], _SparklineCellRenderer.prototype, \"resizeObserverService\", 2);\n__decorateClass([\n  Autowired(\"sparklineTooltipSingleton\")\n], _SparklineCellRenderer.prototype, \"sparklineTooltipSingleton\", 2);\nvar SparklineCellRenderer = _SparklineCellRenderer;\n\n// enterprise-modules/sparklines/src/tooltip/sparklineTooltipSingleton.ts\nimport { Bean, BeanStub, PostConstruct, PreDestroy } from \"@ag-grid-community/core\";\nvar SparklineTooltipSingleton = class extends BeanStub {\n  postConstruct() {\n    this.tooltip = new SparklineTooltip();\n  }\n  getSparklineTooltip() {\n    return this.tooltip;\n  }\n  destroyTooltip() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n  }\n};\n__decorateClass([\n  PostConstruct\n], SparklineTooltipSingleton.prototype, \"postConstruct\", 1);\n__decorateClass([\n  PreDestroy\n], SparklineTooltipSingleton.prototype, \"destroyTooltip\", 1);\nSparklineTooltipSingleton = __decorateClass([\n  Bean(\"sparklineTooltipSingleton\")\n], SparklineTooltipSingleton);\n\n// enterprise-modules/sparklines/src/version.ts\nvar VERSION = \"31.3.0\";\n\n// enterprise-modules/sparklines/src/sparklinesModule.ts\nvar SparklinesModule = {\n  version: VERSION,\n  moduleName: ModuleNames.SparklinesModule,\n  beans: [SparklineTooltipSingleton],\n  userComponents: [{ componentName: \"agSparklineCellRenderer\", componentClass: SparklineCellRenderer }],\n  dependantModules: [EnterpriseCoreModule]\n};\nexport {\n  SparklinesModule\n};\n"],
  "mappings": "AAAA,IAAIA,GAAY,OAAO,eACnBC,GAAmB,OAAO,yBAC1BC,GAAsB,OAAO,sBAC7BC,GAAe,OAAO,UAAU,eAChCC,GAAe,OAAO,UAAU,qBAChCC,GAAgB,CAACC,EAAMC,KACjBA,EAAS,OAAOD,CAAI,GAAKC,EAAS,OAAO,IAAI,UAAYD,CAAI,EAEnEE,GAAkB,CAACC,EAAKC,EAAKC,IAAUD,KAAOD,EAAMT,GAAUS,EAAKC,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,MAAAC,CAAM,CAAC,EAAIF,EAAIC,CAAG,EAAIC,EACtJC,GAAiB,CAACC,EAAGC,IAAM,CAC7B,QAASC,KAAQD,IAAMA,EAAI,CAAC,GACtBX,GAAa,KAAKW,EAAGC,CAAI,GAC3BP,GAAgBK,EAAGE,EAAMD,EAAEC,CAAI,CAAC,EACpC,GAAIb,GACF,QAASa,KAAQb,GAAoBY,CAAC,EAChCV,GAAa,KAAKU,EAAGC,CAAI,GAC3BP,GAAgBK,EAAGE,EAAMD,EAAEC,CAAI,CAAC,EAEtC,OAAOF,CACT,EACIG,GAAkB,CAACC,EAAYC,EAAQR,EAAKS,IAAS,CAEvD,QADIC,EAASD,EAAO,EAAI,OAASA,EAAOlB,GAAiBiB,EAAQR,CAAG,EAAIQ,EAC/DG,EAAIJ,EAAW,OAAS,EAAGK,EAAWD,GAAK,EAAGA,KACjDC,EAAYL,EAAWI,CAAC,KAC1BD,GAAUD,EAAOG,EAAUJ,EAAQR,EAAKU,CAAM,EAAIE,EAAUF,CAAM,IAAMA,GAC5E,OAAID,GAAQC,GACVpB,GAAUkB,EAAQR,EAAKU,CAAM,EACxBA,CACT,EACIG,GAAU,SAASC,EAASC,EAAa,CAC3C,KAAK,CAAC,EAAID,EACV,KAAK,CAAC,EAAIC,CACZ,EACIC,GAAef,GAAU,CAC3B,IAAIF,EAAME,EAAMN,GAAc,eAAe,CAAC,EAC1CsB,EAAU,GACVC,EACAC,EAAK,CAAC,EACV,OAAIpB,GAAO,MACTA,EAAME,EAAMN,GAAc,UAAU,CAAC,EAAE,EACvCuB,EAAUE,GAAMD,EAAGC,CAAC,EAAKC,GAAMtB,EAAIqB,CAAC,EAAEC,CAAC,IAEvCtB,EAAMA,EAAI,KAAKE,CAAK,EACpBiB,EAAUE,GAAMD,EAAGC,CAAC,EAAKE,GAAM,CAC7B,GAAIL,EAAS,CAEX,GADAA,EAAU,GACNG,IAAM,QACR,MAAME,EACR,OAAOA,CACT,CACA,OAAAL,EAAU,GACH,CACL,KAAM,GACN,MAAO,IAAIJ,GAAQ,IAAI,QAASU,GAAY,CAC1C,IAAIF,EAAItB,EAAIqB,CAAC,EAAEE,CAAC,EAChB,GAAI,EAAED,aAAa,QACjB,MAAM,UAAU,iBAAiB,EACnCE,EAAQF,CAAC,CACX,CAAC,EAAG,CAAC,CACP,CACF,GAEKF,EAAGxB,GAAc,UAAU,CAAC,EAAI,IAAMwB,EAAID,EAAO,MAAM,EAAG,UAAWnB,EAAMmB,EAAO,OAAO,EAAIC,EAAG,MAASE,GAAM,CACpH,MAAMA,CACR,EAAG,WAAYtB,GAAOmB,EAAO,QAAQ,EAAGC,CAC1C,EAGA,OAAS,eAAAK,OAAmB,0BAC5B,OAAS,wBAAAC,OAA4B,2BAGrC,OACE,aAAAC,GACA,aAAAC,GACA,eAAAC,OACK,0BAGP,IAAIC,GAAa,OAAO,eACpBC,GAAa,OAAO,iBACpBC,GAAoB,OAAO,yBAC3BC,GAAoB,OAAO,0BAC3BC,GAAuB,OAAO,sBAC9BC,GAAe,OAAO,eACtBC,GAAgB,OAAO,UAAU,eACjCC,GAAgB,OAAO,UAAU,qBACjCC,GAAe,QAAQ,IACvBC,GAAiB,CAAC1C,EAAMC,KAClBA,EAAS,OAAOD,CAAI,GAAKC,EAAS,OAAO,IAAI,UAAYD,CAAI,EAEnE2C,EAAQ,KAAK,IACbC,GAAmB,CAACzC,EAAKC,EAAKC,IAAUD,KAAOD,EAAM8B,GAAW9B,EAAKC,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,MAAAC,CAAM,CAAC,EAAIF,EAAIC,CAAG,EAAIC,EACxJwC,EAAkB,CAACtC,EAAGC,IAAM,CAC9B,QAASC,KAAQD,IAAMA,EAAI,CAAC,GACtB+B,GAAc,KAAK/B,EAAGC,CAAI,GAC5BmC,GAAiBrC,EAAGE,EAAMD,EAAEC,CAAI,CAAC,EACrC,GAAI4B,GACF,QAAS5B,KAAQ4B,GAAqB7B,CAAC,EACjCgC,GAAc,KAAKhC,EAAGC,CAAI,GAC5BmC,GAAiBrC,EAAGE,EAAMD,EAAEC,CAAI,CAAC,EAEvC,OAAOF,CACT,EACIuC,EAAgB,CAACvC,EAAGC,IAAM0B,GAAW3B,EAAG6B,GAAkB5B,CAAC,CAAC,EAC5DuC,GAAY,CAACC,EAAQC,IAAY,CACnC,IAAIrC,EAAS,CAAC,EACd,QAASH,KAAQuC,EACXT,GAAc,KAAKS,EAAQvC,CAAI,GAAKwC,EAAQ,QAAQxC,CAAI,EAAI,IAC9DG,EAAOH,CAAI,EAAIuC,EAAOvC,CAAI,GAC9B,GAAIuC,GAAU,MAAQX,GACpB,QAAS5B,KAAQ4B,GAAqBW,CAAM,EACtCC,EAAQ,QAAQxC,CAAI,EAAI,GAAK+B,GAAc,KAAKQ,EAAQvC,CAAI,IAC9DG,EAAOH,CAAI,EAAIuC,EAAOvC,CAAI,GAEhC,OAAOG,CACT,EACIsC,GAAW,CAACtC,EAAQuC,IAAQ,CAC9B,QAASnD,KAAQmD,EACflB,GAAWrB,EAAQZ,EAAM,CAAE,IAAKmD,EAAInD,CAAI,EAAG,WAAY,EAAK,CAAC,CACjE,EACIoD,EAAmB,CAACzC,EAAYC,EAAQR,EAAKS,IAAS,CAExD,QADIC,EAASD,EAAO,EAAI,OAASA,EAAOsB,GAAkBvB,EAAQR,CAAG,EAAIQ,EAChEG,EAAIJ,EAAW,OAAS,EAAGK,EAAWD,GAAK,EAAGA,KACjDC,EAAYL,EAAWI,CAAC,KAC1BD,GAAUD,EAAOG,EAAUJ,EAAQR,EAAKU,CAAM,EAAIE,EAAUF,CAAM,IAAMA,GAC5E,OAAID,GAAQC,GACVmB,GAAWrB,EAAQR,EAAKU,CAAM,EACzBA,CACT,EACIuC,GAAa,CAACC,EAAKnD,EAAKC,IAAQqC,GAAaH,GAAagB,CAAG,EAAGlD,EAAKD,CAAG,EACxEoD,EAAU,CAACC,EAAQC,EAAaC,IAC3B,IAAI,QAAQ,CAAC/B,EAASgC,IAAW,CACtC,IAAIC,EAAavD,GAAU,CACzB,GAAI,CACFwD,EAAKH,EAAU,KAAKrD,CAAK,CAAC,CAC5B,OAASyD,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,EACIC,EAAY1D,GAAU,CACxB,GAAI,CACFwD,EAAKH,EAAU,MAAMrD,CAAK,CAAC,CAC7B,OAASyD,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,EACID,EAAQpC,GAAMA,EAAE,KAAOE,EAAQF,EAAE,KAAK,EAAI,QAAQ,QAAQA,EAAE,KAAK,EAAE,KAAKmC,EAAWG,CAAQ,EAC/FF,GAAMH,EAAYA,EAAU,MAAMF,EAAQC,CAAW,GAAG,KAAK,CAAC,CAChE,CAAC,EAECO,GAAW,SAAS9C,EAASC,EAAa,CAC5C,KAAK,CAAC,EAAID,EACV,KAAK,CAAC,EAAIC,CACZ,EACI8C,GAAgB5D,GAAU,CAC5B,IAAIF,EAAME,EAAMqC,GAAe,eAAe,CAAC,EAC3CrB,EAAU,GACVC,EACAC,EAAK,CAAC,EACV,OAAIpB,GAAO,MACTA,EAAME,EAAMqC,GAAe,UAAU,CAAC,EAAE,EACxCpB,EAAUE,GAAMD,EAAGC,CAAC,EAAKC,GAAMtB,EAAIqB,CAAC,EAAEC,CAAC,IAEvCtB,EAAMA,EAAI,KAAKE,CAAK,EACpBiB,EAAUE,GAAMD,EAAGC,CAAC,EAAKE,GAAM,CAC7B,GAAIL,EAAS,CAEX,GADAA,EAAU,GACNG,IAAM,QACR,MAAME,EACR,OAAOA,CACT,CACA,OAAAL,EAAU,GACH,CACL,KAAM,GACN,MAAO,IAAI2C,GAAS,IAAI,QAASrC,GAAY,CAC3C,IAAIF,EAAItB,EAAIqB,CAAC,EAAEE,CAAC,EAChB,GAAI,EAAED,aAAa,QACjB,MAAM,UAAU,iBAAiB,EACnCE,EAAQF,CAAC,CACX,CAAC,EAAG,CAAC,CACP,CACF,GAEKF,EAAGmB,GAAe,UAAU,CAAC,EAAI,IAAMnB,EAAID,EAAO,MAAM,EAAG,UAAWnB,EAAMmB,EAAO,OAAO,EAAIC,EAAG,MAASE,GAAM,CACrH,MAAMA,CACR,EAAG,WAAYtB,GAAOmB,EAAO,QAAQ,EAAGC,CAC1C,EACI2C,GAA8B,CAAC,EAC/BC,GAAqC,OACzCA,GAAqCD,GACrC,IAAIE,IAA0CC,IAC5CA,EAAuB,QAAa,UACpCA,EAAuB,KAAU,OACjCA,EAAuB,IAAS,MAChCA,EAAuB,MAAW,QAClCA,EAAuB,OAAY,SACnCA,EAAuB,KAAU,OACjCA,EAAuB,SAAc,WACrCA,EAAuB,UAAe,YACtCA,EAAuB,aAAkB,eACzCA,EAAuB,YAAiB,cACjCA,IACND,IAAyB,CAAC,CAAC,EAC1BE,GAAoB,CAAC,EACrBC,GAA2B,OAC/BA,GAA2BD,GAC3B,IAAIE,GAAe,CAAC,EACpBtB,GAASsB,GAAc,CACrB,IAAK,IAAMC,GACX,OAAQ,IAAMC,GACd,KAAM,IAAMC,GACZ,YAAa,IAAMC,GACnB,OAAQ,IAAMC,GACd,OAAQ,IAAMC,GACd,MAAO,IAAMC,GACb,SAAU,IAAMC,GAChB,OAAQ,IAAMC,GACd,OAAQ,IAAMC,GACd,SAAU,IAAMC,GAChB,QAAS,IAAMC,GACf,OAAQ,IAAMC,GACd,QAAS,IAAMC,GACf,UAAW,IAAMC,GACjB,SAAU,IAAMC,GAChB,QAAS,IAAMC,GACf,UAAW,IAAMC,GACjB,KAAM,IAAMC,EACd,CAAC,EACD,IAAIC,GAA8B,IAAI,IACtC,SAASC,GAAOC,EAAM1F,EAAK,CACrBwF,GAAY,IAAIxF,CAAG,IAEvBwF,GAAY,IAAIxF,EAAK,EAAI,EACzB0F,EAAK,EACP,CACAD,GAAO,MAAQ,IAAMD,GAAY,MAAM,EACvC,SAASG,GAAStE,EAAG,CACnB,OAAOA,CACT,CACA,SAAUuE,MAAWC,EAAW,CAC9B,UAAWC,KAAYD,EACrB,MAAO7E,GAAY6C,GAAaiC,CAAQ,CAAC,CAE7C,CACA,SAAUC,GAAoBC,EAAO,CACnC,QAASC,EAAID,EAAM,OAAS,EAAGC,GAAK,EAAGA,IACrC,MAAMD,EAAMC,CAAC,CAEjB,CACA,SAASC,GAASC,EAAUC,EAAS,EAAGC,EAAS,CAC/C,KAAM,CAAE,QAAAC,EAAU,GAAM,SAAAC,EAAW,EAAK,EAAIF,GAA4B,CAAC,EACzE,IAAIG,EACAC,EACAC,EAAa,GACjB,SAASC,GAAiB,CACpBJ,GAAYE,GACdD,EAAU,WAAWG,EAAgBP,CAAM,EAC3CD,EAAS,GAAGM,CAAQ,GAEpBC,EAAa,GAEfD,EAAW,IACb,CACA,SAASG,KAAoBC,EAAM,CAC7BH,EACFD,EAAWI,GAEXH,EAAa,GACbF,EAAU,WAAWG,EAAgBP,CAAM,EACvCE,EACFH,EAAS,GAAGU,CAAI,EAEhBJ,EAAWI,EAGjB,CACA,OAAO,OAAO,OAAOD,EAAkB,CACrC,QAAS,CACP,aAAaJ,CAAO,EACpBE,EAAa,GACbD,EAAW,IACb,CACF,CAAC,CACH,CACA,SAASK,MAAiBC,EAAK,CAC7B,MAAO,IAAM,CACX,UAAWC,KAAMD,EACfC,EAAG,CAEP,CACF,CACA,IAAIC,EAAS,CACX,OAAOC,EAAY,CACjB,QAAQ,IAAI,GAAGA,CAAU,CAC3B,EACA,KAAKC,KAAYD,EAAY,CAC3B,QAAQ,KAAK,eAAeC,CAAO,GAAI,GAAGD,CAAU,CACtD,EACA,MAAMC,KAAYD,EAAY,CACxB,OAAOC,GAAY,SACrB,QAAQ,MAAM,kBAAmBA,EAAS,GAAGD,CAAU,EAEvD,QAAQ,MAAM,eAAeC,CAAO,GAAI,GAAGD,CAAU,CAEzD,EACA,SAASA,EAAY,CACnB,QAAQ,MAAM,GAAGA,CAAU,CAC7B,EACA,SAASC,KAAYD,EAAY,CAC/BzB,GAAO,IAAMwB,EAAO,KAAKE,EAAS,GAAGD,CAAU,EAAG,gBAAgBC,CAAO,EAAE,CAC7E,EACA,UAAUA,KAAYD,EAAY,CAChCzB,GAAO,IAAMwB,EAAO,MAAME,EAAS,GAAGD,CAAU,EAAG,iBAAiBC,CAAO,EAAE,CAC/E,CACF,EACIC,GAAe,KAAM,CACvB,YAAYC,EAASC,EAASC,EAAgB,CAC5C,KAAK,QAAUF,EACf,KAAK,QAAUC,EACf,KAAK,eAAiBC,CACxB,CAMA,MAAMC,EAAM,CACV,MAAMC,EAAI,IAAI,KAAKD,CAAI,EACjB9D,EAAI,KAAK,QAAQ+D,CAAC,EACxB,OAAO,KAAK,QAAQ/D,CAAC,CACvB,CAKA,KAAK8D,EAAM,CACT,MAAMC,EAAI,IAAI,KAAK,OAAOD,CAAI,EAAI,CAAC,EAC7B9D,EAAI,KAAK,QAAQ+D,CAAC,EACxB,OAAO,KAAK,QAAQ/D,EAAI,CAAC,CAC3B,CAOA,MAAMgE,EAAOC,EAAMC,EAAQ,CACzB,IAAIC,EACJ,MAAMC,GAAiBD,EAAK,KAAK,iBAAmB,KAAO,OAASA,EAAG,KAAK,KAAMH,EAAOC,CAAI,EACvFI,EAAK,KAAK,QAAQH,EAAS,KAAK,MAAMF,CAAK,EAAI,KAAK,KAAKA,CAAK,CAAC,EAC/DM,EAAK,KAAK,QAAQJ,EAAS,KAAK,KAAKD,CAAI,EAAI,KAAK,MAAMA,CAAI,CAAC,EACnE,GAAIK,EAAKD,EACP,MAAO,CAAC,EAEV,MAAME,EAAS,CAAC,EAChB,QAASvE,EAAIqE,EAAIrE,GAAKsE,EAAItE,IAAK,CAC7B,MAAM+D,EAAI,KAAK,QAAQ/D,CAAC,EACxBuE,EAAO,KAAKR,CAAC,CACf,CACA,OAAiCK,IAAc,EACxCG,CACT,CACF,EACIC,GAAwB,cAAcd,EAAa,CACrD,UAAUe,EAAQ1E,EAAM,CACtB,MAAM2E,EAAI,OAAOD,GAAW,UAAYA,aAAkB,KAAO,KAAK,QAAQ,IAAI,KAAKA,CAAM,CAAC,EAAI,EAClG,OAAO,KAAK,MAAMC,CAAC,EAAI3E,CACzB,CAOA,MAAMA,EAAM4C,EAAS,CACnB,IAAIgC,EAAU,EACVP,EACJ,MAAMQ,EAAa7E,EACnBA,EAAO,KAAK,IAAI,EAAG,KAAK,MAAMA,CAAI,CAAC,EAC/B6E,IAAe7E,GACjBwD,EAAO,SAAS,qBAAqBqB,CAAU,iBAAiB7E,CAAI,IAAI,EAE1E,KAAM,CAAE,OAAA0E,EAAS,OAAQ,EAAI9B,GAA4B,CAAC,EAC1D,GAAI,OAAO8B,GAAW,SAAU,CAC9B,MAAMI,EAAgBF,EACtBP,EAAgB,CAACJ,EAAOC,IAAS,CAC/B,MAAMS,EAAID,IAAW,QAAUT,EAAQC,EACvC,OAAAU,EAAU,KAAK,UAAUD,EAAG3E,CAAI,EACzB,IAAM4E,EAAUE,CACzB,CACF,MAAW,OAAOJ,GAAW,SAC3BE,EAAU,KAAK,UAAU,IAAI,KAAKF,CAAM,EAAG1E,CAAI,EACtC0E,aAAkB,OAC3BE,EAAU,KAAK,UAAUF,EAAQ1E,CAAI,GAEvC,MAAM+E,EAAYhB,GAAS,CACzB,MAAM9D,EAAI,KAAK,QAAQ8D,CAAI,EAC3B,OAAO,KAAK,OAAO9D,EAAI2E,GAAW5E,CAAI,CACxC,EACMgF,EAAYC,GACT,KAAK,QAAQA,EAAUjF,EAAO4E,CAAO,EAE9C,OAAO,IAAIjB,GAAaoB,EAAUC,EAAUX,CAAa,CAC3D,CACF,EACA,SAASa,GAAOnB,EAAM,CACpB,OAAOA,EAAK,QAAQ,CACtB,CACA,SAASoB,GAAOF,EAAS,CACvB,OAAO,IAAI,KAAKA,CAAO,CACzB,CACA,IAAIlE,GAAc,IAAI0D,GAAsBS,GAAQC,EAAM,EACtDC,GAAsBrE,GACtBsE,GAA6B,IAAI,KAAK,CAAC,EAAG,YAAY,EACtDC,GAAiB,IACjBC,GAAiBD,GAAiB,GAClCE,GAAeD,GAAiB,GAChCE,GAAcD,GAAe,GAC7BE,GAAeD,GAAc,EAC7BE,GAAgBF,GAAc,GAC9BG,GAAeH,GAAc,IAC7BI,GAA0B,IAAI,KAAK,EAAG,kBAAkB,EAAIN,GAChE,SAASO,GAAQ/B,EAAM,CACrB,OAAO,KAAK,OAAOA,EAAK,QAAQ,EAAI8B,IAAUP,EAAc,CAC9D,CACA,SAASS,GAAQd,EAAS,CACxB,OAAO,IAAI,KAAKY,GAASZ,EAAUK,EAAc,CACnD,CACA,IAAIlE,GAAS,IAAIqD,GAAsBqB,GAASC,EAAO,EACnDC,GAAiB5E,GACjB6E,GAA2B,IAAI,KAAK,EAAG,kBAAkB,EAAIV,GACjE,SAASW,GAAQnC,EAAM,CACrB,OAAO,KAAK,OAAOA,EAAK,QAAQ,EAAIkC,IAAWV,EAAc,CAC/D,CACA,SAASY,GAAQlB,EAAS,CACxB,OAAO,IAAI,KAAKgB,GAAUhB,EAAUM,EAAc,CACpD,CACA,IAAIvE,GAAS,IAAIyD,GAAsByB,GAASC,EAAO,EACnDC,GAAiBpF,GACjBqF,GAA2B,IAAI,KAAK,EAAG,kBAAkB,EAAId,GACjE,SAASe,GAAQvC,EAAM,CACrB,OAAO,KAAK,OAAOA,EAAK,QAAQ,EAAIsC,IAAWb,EAAY,CAC7D,CACA,SAASe,GAAQtB,EAAS,CACxB,OAAO,IAAI,KAAKoB,GAAUpB,EAAUO,EAAY,CAClD,CACA,IAAI1E,GAAO,IAAI2D,GAAsB6B,GAASC,EAAO,EACjDC,GAAe1F,GACnB,SAAS2F,GAAQ1C,EAAM,CACrB,MAAM2C,EAAa3C,EAAK,kBAAkB,EAAIwB,GAC9C,OAAO,KAAK,OAAOxB,EAAK,QAAQ,EAAI2C,GAAcjB,EAAW,CAC/D,CACA,SAASkB,GAAQ1B,EAAS,CACxB,MAAMjB,EAAI,IAAI,KAAK,KAAM,EAAG,CAAC,EAC7B,OAAAA,EAAE,QAAQA,EAAE,QAAQ,EAAIiB,CAAO,EACxBjB,CACT,CACA,IAAIpD,GAAM,IAAI6D,GAAsBgC,GAASE,EAAO,EAChDC,GAAchG,GAClB,SAASiG,GAAQC,EAAW,CAE1B,MAAMC,GAAY,EAAID,EAAY,GAAa,EAC/C,SAAS/B,EAAShB,EAAM,CACtB,MAAM2C,EAAa3C,EAAK,kBAAkB,EAAIwB,GAC9C,OAAO,KAAK,OAAOxB,EAAK,QAAQ,EAAI2C,GAAchB,GAAeqB,EAAW,CAAC,CAC/E,CACA,SAAS/B,EAASC,EAAS,CACzB,MAAMjB,EAAI,IAAI,KAAK,KAAM,EAAG,CAAC,EAC7B,OAAAA,EAAE,QAAQA,EAAE,QAAQ,EAAIiB,EAAU,EAAI8B,CAAQ,EACvC/C,CACT,CACA,OAAO,IAAIS,GAAsBM,EAAUC,CAAQ,CACrD,CACA,IAAI3D,GAASwF,GAAQ,CAAC,EAClB5F,GAAS4F,GAAQ,CAAC,EAClBtF,GAAUsF,GAAQ,CAAC,EACnBhF,GAAYgF,GAAQ,CAAC,EACrBvF,GAAWuF,GAAQ,CAAC,EACpBhG,GAASgG,GAAQ,CAAC,EAClB1F,GAAW0F,GAAQ,CAAC,EACpBG,GAAe3F,GACnB,SAAS4F,GAAQlD,EAAM,CACrB,OAAOA,EAAK,YAAY,EAAI,GAAKA,EAAK,SAAS,CACjD,CACA,SAASmD,GAAQjC,EAAS,CACxB,MAAMkC,EAAQ,KAAK,MAAMlC,EAAU,EAAE,EAC/BmC,EAASnC,EAAUkC,EAAQ,GACjC,OAAO,IAAI,KAAKA,EAAOC,EAAQ,CAAC,CAClC,CACA,IAAIlG,GAAQ,IAAIuD,GAAsBwC,GAASC,EAAO,EAClDG,GAAgBnG,GACpB,SAASoG,GAAQvD,EAAM,CACrB,OAAOA,EAAK,YAAY,CAC1B,CACA,SAASwD,GAAQtC,EAAS,CACxB,MAAMjB,EAAoB,IAAI,KAC9B,OAAAA,EAAE,YAAYiB,CAAO,EACrBjB,EAAE,SAAS,EAAG,CAAC,EACfA,EAAE,SAAS,EAAG,EAAG,EAAG,CAAC,EACdA,CACT,CACA,IAAIlC,GAAO,IAAI2C,GAAsB6C,GAASC,EAAO,EACjDC,GAAe1F,GACnB,SAAS2F,GAAQ1D,EAAM,CACrB,OAAO,KAAK,MAAMA,EAAK,QAAQ,EAAIwB,EAAc,CACnD,CACA,SAASmC,GAAQzC,EAAS,CACxB,OAAO,IAAI,KAAKA,EAAUM,EAAc,CAC1C,CACA,IAAI7D,GAAY,IAAI+C,GAAsBgD,GAASC,EAAO,EAC1D,SAASC,GAAQ5D,EAAM,CACrB,OAAO,KAAK,MAAMA,EAAK,QAAQ,EAAIyB,EAAY,CACjD,CACA,SAASoC,GAAQ3C,EAAS,CACxB,OAAO,IAAI,KAAKA,EAAUO,EAAY,CACxC,CACA,IAAI/D,GAAU,IAAIgD,GAAsBkD,GAASC,EAAO,EACxD,SAASC,GAAS9D,EAAM,CACtB,OAAO,KAAK,MAAMA,EAAK,QAAQ,EAAI0B,EAAW,CAChD,CACA,SAASqC,GAAS7C,EAAS,CACzB,MAAMjB,EAAoB,IAAI,KAAK,CAAC,EACpC,OAAAA,EAAE,WAAWA,EAAE,WAAW,EAAIiB,CAAO,EACrCjB,EAAE,YAAY,EAAG,EAAG,EAAG,CAAC,EACjBA,CACT,CACA,IAAIxC,GAAS,IAAIiD,GAAsBoD,GAAUC,EAAQ,EACzD,SAASC,GAAShE,EAAM,CACtB,OAAOA,EAAK,eAAe,EAAI,GAAKA,EAAK,YAAY,CACvD,CACA,SAASiE,GAAS/C,EAAS,CACzB,MAAMkC,EAAQ,KAAK,MAAMlC,EAAU,EAAE,EAC/BmC,EAASnC,EAAUkC,EAAQ,GACjC,OAAO,IAAI,KAAK,KAAK,IAAIA,EAAOC,EAAQ,CAAC,CAAC,CAC5C,CACA,IAAIzF,GAAW,IAAI8C,GAAsBsD,GAAUC,EAAQ,EAC3D,SAASC,GAASlE,EAAM,CACtB,OAAOA,EAAK,eAAe,CAC7B,CACA,SAASmE,GAASjD,EAAS,CACzB,MAAMjB,EAAoB,IAAI,KAC9B,OAAAA,EAAE,eAAeiB,CAAO,EACxBjB,EAAE,YAAY,EAAG,CAAC,EAClBA,EAAE,YAAY,EAAG,EAAG,EAAG,CAAC,EACjBA,CACT,CACA,IAAIpC,GAAU,IAAI6C,GAAsBwD,GAAUC,EAAQ,EACtDC,GAAmB,CACrB,aAAc,EAChB,EACIC,GAAqB,KAAM,CAC7B,aAAc,CACZ,KAAK,WAAa,CAAC,CACrB,CACA,SAAU,CACR,UAAWC,KAAa,KAAK,WAC3BA,EAAU,CAEd,CACF,EACIC,GAAiB,KAAM,CACzB,aAAc,CACZ,KAAK,QAAU,CAAC,EAChB,KAAK,aAA+B,IAAI,IACxC,KAAK,WAA6B,IAAI,GACxC,CACA,YAAYC,EAAS,CACnB,UAAWC,KAAUD,EAAS,CAC5B,KAAK,qBAAqBC,CAAM,EAChC,MAAMC,EAAc,KAAK,QAAQ,KAC9BC,GAAUF,EAAO,OAASE,EAAM,MAAQF,EAAO,aAAeE,EAAM,YAAcF,EAAO,aAAeE,EAAM,UACjH,EACA,GAAID,GACF,GAAID,EAAO,cAAgB,cAAgBC,EAAY,cAAgB,YAAa,CAClF,MAAME,EAAQ,KAAK,QAAQ,QAAQF,CAAW,EAC9C,KAAK,QAAQ,OAAOE,EAAO,EAAGH,CAAM,CACtC,OAEA,KAAK,QAAQ,KAAKA,CAAM,CAE5B,CACF,CACA,sBAAuB,CACrB,OAAO,KAAK,QAAQ,KAAMI,GAAMA,EAAE,cAAgB,YAAY,CAChE,CACA,CAAC,UAAUC,EAAO,CAChB,UAAWL,KAAU,KAAK,QACpBK,EAAM,SAASL,EAAO,IAAI,GAAK,KAAK,aAAa,IAAIA,EAAO,UAAU,IACxE,MAAMA,GAGV,UAAWA,KAAU,KAAK,QACpBK,EAAM,SAASL,EAAO,IAAI,GAAK,CAAC,KAAK,aAAa,IAAIA,EAAO,UAAU,GAAK,CAAC,KAAK,WAAW,IAAIA,EAAO,UAAU,IACpH,MAAMA,GAGV,UAAWA,KAAU,KAAK,QACpBK,EAAM,SAASL,EAAO,IAAI,GAAK,KAAK,WAAW,IAAIA,EAAO,UAAU,IACtE,MAAMA,EAGZ,CACA,qBAAqBA,EAAQ,CAC3B,GAAI,EAAAA,EAAO,cAAgB,MAAQA,EAAO,aAAa,SAAW,GAElE,IAAI,KAAK,aAAa,IAAIA,EAAO,UAAU,EACzC,MAAM,IAAI,MACR,WAAWA,EAAO,UAAU,2EAA2EA,EAAO,YAAY,IAC5H,EAEF,UAAWM,KAAON,EAAO,aAAc,CACrC,GAAI,KAAK,WAAW,IAAIM,CAAG,EACzB,MAAM,IAAI,MACR,WAAWA,CAAG,2EAA2EN,EAAO,UAAU,IAC5G,EAEF,KAAK,aAAa,IAAIM,CAAG,CAC3B,CACA,KAAK,WAAW,IAAIN,EAAO,UAAU,EACvC,CACF,EACIO,GAAiB,IAAIT,GACrBU,GAAe,KAAM,CACvB,aAAc,CACZ,KAAK,QAA0B,IAAI,IACnC,KAAK,OAAyB,IAAI,IAClC,KAAK,eAAiC,IAAI,GAC5C,CACA,SAASC,EAAUT,EAAQ,CACzB,KAAK,QAAQ,IAAIS,EAAUT,EAAO,mBAAmB,EACjDA,EAAO,eACT,KAAK,iBAAiBS,EAAUT,EAAO,aAAa,EAElDA,EAAO,QACT,KAAK,OAAO,IAAIS,CAAQ,CAE5B,CACA,OAAOA,EAAUC,EAAe,CAC9B,MAAMC,EAAkB,KAAK,QAAQ,IAAIF,CAAQ,EACjD,GAAIE,EACF,OAAO,IAAIA,EAAgBD,CAAa,EAE1C,MAAM,IAAI,MAAM,kCAAkCD,CAAQ,EAAE,CAC9D,CACA,IAAIA,EAAU,CACZ,OAAO,KAAK,QAAQ,IAAIA,CAAQ,CAClC,CACA,MAAO,CACL,OAAO,KAAK,QAAQ,KAAK,CAC3B,CACA,YAAa,CACX,MAAO,CAAC,GAAG,KAAK,KAAK,CAAC,EAAE,OAAQtL,GAAM,CAAC,KAAK,OAAO,IAAIA,CAAC,CAAC,CAC3D,CACA,iBAAiBsL,EAAUG,EAAe,CACxC,YAAK,eAAe,IAAIH,EAAUG,CAAa,EACxC,IACT,CACA,iBAAiBH,EAAU,CACzB,OAAO,KAAK,eAAe,IAAIA,CAAQ,CACzC,CACF,EACII,GAAe,IAAIL,GACnBM,GAAwB,OAAO,OAAO,EACtCC,GAAa,qBACjB,SAASC,GAAiBzM,EAAQ0M,EAAqB,CACjD,OAAO,yBAAyB1M,EAAQwM,EAAU,GAAK,MACzD,OAAO,eAAexM,EAAQwM,GAAY,CAAE,MAAO,CAAC,CAAE,CAAC,EAEzD,MAAMG,EAAS3M,EAAOwM,EAAU,EAC1BI,EAAcF,EAAoB,SAAS,EACjD,GAAI,OAAOC,EAAOC,CAAW,EAAM,IACjC,OAAOD,EAAOC,CAAW,EAE3B,MAAMC,EAA4B,IAAI,QACtCF,EAAOC,CAAW,EAAI,CAAE,QAAS,CAAC,EAAG,QAAS,CAAC,EAAG,UAAW,CAAC,EAAG,UAAAC,CAAU,EAC3E,MAAMC,EAAa,OAAO,yBAAyB9M,EAAQ0M,CAAmB,EACxEK,EAAwCD,GAAW,IACnDE,EAAwCF,GAAW,IAgCzD,cAAO,eAAe9M,EAAQ0M,EAAqB,CACjD,IAtBa,SAASjN,EAAO,CAC7B,KAAM,CAAE,QAAAwN,EAAS,UAAAC,CAAU,EAAIP,EAAOC,CAAW,EACjD,IAAIO,EACAF,EAAQ,KAAM,GAAM,EAAE,OAAS,CAAC,IAClCE,EAAWH,EAAUA,EAAQ,KAAK,IAAI,EAAIH,EAAU,IAAI,IAAI,GAE9D,UAAWO,KAAeH,EAExB,GADAxN,EAAQ2N,EAAY,KAAMV,EAAqBjN,EAAO0N,CAAQ,EAC1D1N,IAAU8M,GACZ,OAGAQ,EACFA,EAAQ,KAAK,KAAMtN,CAAK,EAExBoN,EAAU,IAAI,KAAMpN,CAAK,EAE3B,UAAW4N,KAAcH,EACvBG,EAAW,KAAM5N,EAAO0N,CAAQ,CAEpC,EAGE,IAjCa,UAAW,CACxB,IAAI1N,EAAQuN,EAAUA,EAAQ,KAAK,IAAI,EAAIH,EAAU,IAAI,IAAI,EAC7D,UAAWO,KAAeT,EAAOC,CAAW,EAAE,QAE5C,GADAnN,EAAQ2N,EAAY,KAAMV,EAAqBjN,CAAK,EAChDA,IAAU8M,GACZ,OAGJ,OAAO9M,CACT,EAyBE,WAAY,GACZ,aAAc,EAChB,CAAC,EACMkN,EAAOC,CAAW,CAC3B,CACA,SAASU,GAA+BC,EAAcC,EAAcC,EAAgB,CAClF,MAAO,CAACzN,EAAQ0M,IAAwB,CACtC,MAAMC,EAASF,GAAiBzM,EAAQ0M,CAAmB,EAC3DC,EAAO,QAAQ,KAAKY,CAAY,EAC5BC,GACFb,EAAO,QAAQ,QAAQa,CAAY,EAEjCC,GACF,OAAO,OAAOd,EAAQc,CAAc,CAExC,CACF,CACA,SAASC,GAA8BC,EAAa,CAClD,MAAO,CAAC3N,EAAQ0M,IAAwB,CACtCD,GAAiBzM,EAAQ0M,CAAmB,EAAE,UAAU,KAAKiB,CAAW,CAC1E,CACF,CACA,SAASC,GAAkB5N,EAAQ,CACjC,OAAO,OAAOA,EAAW,KAAewM,MAAcxM,CACxD,CACA,SAAS6N,GAAwB7N,EAAQ,CACvC,MAAM8N,EAA0B,IAAI,IACpC,KAAOF,GAAkB5N,CAAM,GAC7B8N,EAAQ,IAA8B9N,IAAOwM,EAAU,CAAC,EACxDxM,EAAS,OAAO,eAAeA,CAAM,EAEvC,OAAO,MAAM,KAAK8N,CAAO,EAAE,QAASC,GAAc,OAAO,KAAKA,CAAS,CAAC,CAC1E,CACA,SAASC,GAA2BhO,EAAQ,CAC1C,OAAO6N,GAAwB7N,CAAM,EAAE,OAAO,CAACE,EAAQV,IAAQ,CAC7D,IAAI6H,EACJ,OAAAnH,EAAOV,CAAG,GAAK6H,EAAKrH,EAAOR,CAAG,IAAM,KAAO6H,EAAK,KACzCnH,CACT,EAAG,CAAC,CAAC,CACP,CACA,SAAS+N,GAAiCjO,EAAQ0M,EAAqB,CACrE,MAAME,EAAcF,EAAoB,SAAS,EACjD,KAAOkB,GAAkB5N,CAAM,GAAG,CAChC,MAAM2M,EAAS3M,EAAOwM,EAAU,EAChC,GAAI,OAAO,OAAOG,EAAQC,CAAW,EACnC,OAAOD,EAAOC,CAAW,EAE3B5M,EAAS,OAAO,eAAeA,CAAM,CACvC,CACF,CACA,SAASkO,GAAUC,EAAK,CACtB,OAAOA,GAAO,IAChB,CACA,SAASC,GAAQ3O,EAAO,CACtB,OAAO,MAAM,QAAQA,CAAK,CAC5B,CACA,SAAS4O,GAAU5O,EAAO,CACxB,OAAO,OAAOA,GAAU,SAC1B,CACA,SAAS6O,GAAO7O,EAAO,CACrB,OAAOA,aAAiB,IAC1B,CACA,SAAS8O,GAAY9O,EAAO,CAC1B,OAAO6O,GAAO7O,CAAK,GAAK,CAAC,MAAM,OAAOA,CAAK,CAAC,CAC9C,CACA,SAAS+O,GAAS/O,EAAO,CACvB,OAAOA,aAAiB,MAC1B,CACA,SAASgP,GAAWhP,EAAO,CACzB,OAAO,OAAOA,GAAU,UAC1B,CACA,SAASiP,GAASjP,EAAO,CACvB,OAAO,OAAOA,GAAU,UAAYA,IAAU,MAAQ,CAAC2O,GAAQ3O,CAAK,CACtE,CACA,SAASkP,GAAalP,EAAO,CAC3B,OAAO2O,GAAQ3O,CAAK,GAAKmP,GAAcnP,CAAK,CAC9C,CACA,SAASmP,GAAcnP,EAAO,CAC5B,OAAO,OAAOA,GAAU,UAAYA,IAAU,MAAQA,EAAM,cAAgB,MAC9E,CACA,SAASoP,GAASpP,EAAO,CACvB,OAAO,OAAOA,GAAU,QAC1B,CACA,SAASqP,GAASrP,EAAO,CACvB,OAAO,OAAOA,GAAU,QAC1B,CACA,SAASsP,GAAetP,EAAO,CAC7B,OAAOqP,GAASrP,CAAK,GAAK,OAAO,SAASA,CAAK,CACjD,CACA,SAASuP,GAAcvP,EAAO,CAC5B,OAAO,OAAO,OAAW,KAAeA,aAAiB,WAC3D,CACA,SAASwP,GAAUC,EAAYC,EAAS,CACtC,OAAON,GAASM,CAAO,GAAK,OAAO,KAAKD,CAAU,EAAE,SAASC,CAAO,CACtE,CACA,SAASC,GAAYF,EAAYG,EAAW,CAC1C,OAAO,OAAO,OAAOH,CAAU,EAAE,SAASG,CAAS,CACrD,CACA,SAASC,GAAS7P,EAAO,CACvB,OAAO,OAAOA,GAAU,QAC1B,CACA,SAAS8P,MAAaC,EAAS,CAC7B,OAAOC,GAAc,GAAGD,EAAQ,QAAQ,CAAC,CAC3C,CACA,SAASC,MAAiBD,EAAS,CACjC,IAAInI,EACJ,MAAMrH,EAAS,CAAC,EAChB,UAAWoC,KAAUoN,EAAS,CAC5B,GAAI,CAACd,GAAStM,CAAM,EAClB,SACF,MAAMsN,EAAO9B,GAAkBxL,CAAM,EAAIyL,GAAwBzL,CAAM,EAAI,OAAO,KAAKA,CAAM,EAC7F,UAAW5C,KAAOkQ,EACZd,GAAc5O,EAAOR,CAAG,CAAC,GAAKoP,GAAcxM,EAAO5C,CAAG,CAAC,EACzDQ,EAAOR,CAAG,EAAIiQ,GAAczP,EAAOR,CAAG,EAAG4C,EAAO5C,CAAG,CAAC,GAEnD6H,EAAKrH,EAAOR,CAAG,IAAM,OAAYQ,EAAOR,CAAG,EAAI4C,EAAO5C,CAAG,EAGhE,CACA,OAAOQ,CACT,CACA,SAAS2P,GAAmBC,KAAcC,EAAc,CACtD,OAAIA,GAAgBzB,GAAQwB,CAAS,EAC5BA,EAAU,IAAKE,GAASL,GAAcK,EAAM,GAAGD,CAAY,CAAC,EAE9DD,CACT,CACA,SAASG,GAAUC,EAAQC,EAAQ,CACjC,OAAO,OAAO,QAAQD,CAAM,EAAE,OAC5B,CAAC9P,EAAQ,CAACV,EAAKC,CAAK,KAClBS,EAAOV,CAAG,EAAIyQ,EAAOxQ,EAAOD,EAAKwQ,CAAM,EAChC9P,GAET,CAAC,CACH,CACF,CACA,SAASgQ,GAAQF,EAAQN,EAAM,CAC7B,MAAMS,EAAQlO,EAAgB,CAAC,EAAG+N,CAAM,EACxC,UAAWxQ,KAAOkQ,EAChB,OAAOS,EAAM3Q,CAAG,EAElB,OAAO2Q,CACT,CACA,SAASC,GAAQJ,EAAQK,EAAM,CAE7B,OADkBjC,GAAQiC,CAAI,EAAIA,EAAOA,EAAK,MAAM,GAAG,GACtC,OAAO,CAAC5Q,EAAO6Q,IAAY7Q,EAAM6Q,CAAO,EAAGN,CAAM,CACpE,CACA,SAASO,GAAQP,EAAQK,EAAMG,EAAU,CACvC,MAAMC,EAAYrC,GAAQiC,CAAI,EAAIA,EAAK,MAAM,EAAIA,EAAK,MAAM,GAAG,EACzDK,EAAUD,EAAU,IAAI,EACxBE,EAAaF,EAAU,OAAO,CAAChR,EAAO6Q,IAAY7Q,EAAM6Q,CAAO,EAAGN,CAAM,EAC9EW,EAAWD,CAAO,EAAIF,CACxB,CACA,SAASI,GAAcC,EAAY7Q,EAAQoC,EAAQ,CACjD,GAAIA,IAAW,OACb,OAAOpC,EAET,UAAWR,KAAOqR,EAAY,CAC5B,MAAMpR,EAAQ2C,EAAO5C,CAAG,EACpBC,IAAU,SACZO,EAAOR,CAAG,EAAIC,EAElB,CACA,OAAOO,CACT,CACA,IAAI8Q,GAAa,cAAc,GAAI,CACjC,IAAIC,EAAY,CACd,IAAI1J,EACJ,OAAQA,EAAK,MAAM,IAAI0J,CAAU,IAAM,KAAO1J,EAAK,SACrD,CACA,YAAY0J,EAAY,CACtB,OAAO,KAAK,IAAIA,CAAU,IAAM,WAClC,CACA,QAAQA,EAAY,CAClB,OAAO,KAAK,IAAIA,CAAU,IAAM,OAClC,CACA,YAAYA,EAAY,CACtB,OAAO,KAAK,IAAIA,CAAU,IAAM,WAClC,CACA,WAAWA,EAAY,CACrB,OAAO,KAAK,IAAIA,CAAU,IAAM,UAClC,CACA,IAAI,aAAc,CAChB,OAAO,MAAM,KAAK,KAAK,KAAK,CAAC,CAC/B,CACA,IAAI,gBAAiB,CACnB,OAAO,KAAK,YAAY,OAAQC,GAAM,KAAK,YAAYA,CAAC,CAAC,CAC3D,CACA,IAAI,YAAa,CACf,OAAO,KAAK,YAAY,OAAQA,GAAM,KAAK,QAAQA,CAAC,CAAC,CACvD,CACA,IAAI,gBAAiB,CACnB,OAAO,KAAK,YAAY,OAAQA,GAAM,KAAK,YAAYA,CAAC,CAAC,CAC3D,CACA,IAAI,eAAgB,CAClB,OAAO,KAAK,YAAY,OAAQA,GAAM,KAAK,WAAWA,CAAC,CAAC,CAC1D,CACF,EACIC,GAAgB,cAAc,GAAI,CACpC,IAAIC,EAAYC,EAAU,CACxB,OAAO,MAAM,IAAID,EAAYzB,GAAc0B,EAAU,KAAK,IAAID,CAAU,CAAC,CAAC,CAC5E,CACF,EACIE,GAAa,IAAIN,GACjBO,GAAmB,IAAIP,GACvBQ,GAAgB,IAAIL,GACpBM,GAA8B,CAChC,CAAE,KAAM,OAAQ,WAAY,YAAa,WAAY,CAAC,YAAa,QAAS,YAAa,UAAU,CAAE,EACrG,CAAE,KAAM,OAAQ,WAAY,cAAe,WAAY,CAAC,WAAW,CAAE,EACrE,CACE,KAAM,OACN,WAAY,aACZ,WAAY,CAAC,YAAa,QAAS,YAAa,UAAU,EAC1D,gBAAiB,OACnB,EACA,CAAE,KAAM,OAAQ,WAAY,cAAe,WAAY,CAAC,YAAa,QAAS,YAAa,UAAU,CAAE,EACvG,CAAE,KAAM,OAAQ,WAAY,aAAc,WAAY,CAAC,YAAa,QAAS,YAAa,UAAU,CAAE,EACtG,CAAE,KAAM,OAAQ,WAAY,OAAQ,WAAY,CAAC,WAAW,CAAE,EAC9D,CAAE,KAAM,OAAQ,WAAY,OAAQ,WAAY,CAAC,YAAa,UAAU,CAAE,EAC1E,CACE,KAAM,SACN,WAAY,iBACZ,WAAY,CAAC,YAAa,QAAS,YAAa,UAAU,EAC1D,WAAY,UACd,EACA,CAAE,KAAM,OAAQ,WAAY,YAAa,WAAY,CAAC,WAAW,EAAG,gBAAiB,WAAY,EACjG,CAAE,KAAM,OAAQ,WAAY,SAAU,WAAY,CAAC,OAAO,EAAG,WAAY,gBAAiB,EAC1F,CAAE,KAAM,OAAQ,WAAY,SAAU,WAAY,CAAC,OAAO,EAAG,WAAY,cAAe,EACxF,CAAE,KAAM,OAAQ,WAAY,SAAU,WAAY,CAAC,OAAO,EAAG,WAAY,iBAAkB,EAC3F,CAAE,KAAM,OAAQ,WAAY,SAAU,WAAY,CAAC,OAAO,EAAG,WAAY,eAAgB,EACzF,CAAE,KAAM,OAAQ,WAAY,SAAU,WAAY,CAAC,WAAW,EAAG,WAAY,cAAe,EAC5F,CAAE,KAAM,cAAe,WAAY,YAAa,WAAY,CAAC,WAAW,CAAE,EAC1E,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,UAAW,EAC5F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,aAAc,EAC/F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,MAAO,EACxF,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,QAAS,EAC1F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,SAAU,EAC3F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,YAAa,EAC9F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,WAAY,EAC7F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,WAAY,EAC7F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,OAAO,EAAG,WAAY,aAAc,EAC3F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,OAAO,EAAG,WAAY,YAAa,EAC1F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,OAAO,EAAG,WAAY,YAAa,EAC1F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,OAAO,EAAG,WAAY,YAAa,EAC1F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,OAAO,EAAG,WAAY,eAAgB,EAC7F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,UAAW,EAC5F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,SAAU,EAC3F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,UAAU,EAAG,WAAY,WAAY,EAC5F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,UAAU,EAAG,WAAY,UAAW,EAC3F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,UAAU,EAAG,WAAY,YAAa,EAC7F,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,UAAU,EAAG,WAAY,sBAAuB,EACvG,CAAE,KAAM,SAAU,WAAY,WAAY,WAAY,CAAC,UAAU,EAAG,WAAY,qBAAsB,EACtG,CAAE,KAAM,gBAAiB,WAAY,WAAY,WAAY,CAAC,WAAW,EAAG,WAAY,YAAa,CACvG,EACA,SAASC,GAAuBC,EAAM,CACpC,OAAOF,GAA4B,KAAM3J,GAAMA,EAAE,OAAS,UAAYA,EAAE,aAAe6J,CAAI,CAC7F,CACA,SAASC,GAA8BD,EAAM,CAC3C,IAAIpK,EACJ,OAAQA,EAAKkK,GAA4B,KAAM3J,GAAMA,EAAE,OAAS,UAAYA,EAAE,aAAe6J,CAAI,IAAM,KAAO,OAASpK,EAAG,UAC5H,CACA,SAASsK,GAAsBZ,EAAY,CACzC,IAAI1J,EAEJ,QADcA,EAAKqK,GAA8BX,CAAU,IAAM,KAAO,OAAS1J,EAAG,KAAMvG,GAAMA,IAAM,WAAW,KACjG,WAClB,CACA,SAAS8Q,GAAkBb,EAAY,CACrC,IAAI1J,EAEJ,QADcA,EAAKqK,GAA8BX,CAAU,IAAM,KAAO,OAAS1J,EAAG,KAAMvG,GAAMA,IAAM,OAAO,KAC7F,OAClB,CACA,SAAS+Q,GAAsBd,EAAY,CACzC,IAAI1J,EAEJ,QADcA,EAAKqK,GAA8BX,CAAU,IAAM,KAAO,OAAS1J,EAAG,KAAMvG,GAAMA,IAAM,WAAW,KACjG,WAClB,CACA,SAASgR,GAAqBf,EAAY,CACxC,IAAI1J,EAEJ,QADcA,EAAKqK,GAA8BX,CAAU,IAAM,KAAO,OAAS1J,EAAG,KAAMvG,GAAMA,IAAM,UAAU,KAChG,UAClB,CACA,SAASiR,GAAmBtG,EAAQ,CAClC,OAAOA,EAAO,cAAgB,YAChC,CACA,SAASuG,GAAuBvG,EAAQ,CACtC,IAAIpE,EACJ,GAAI,CAAC0K,GAAmBtG,CAAM,EAC5B,MAAM,IAAI,MAAM,sFAAsF,EAExG,MAAMwG,EAAOV,GAA4B,KAAM,GACtC,EAAE,OAAS9F,EAAO,MAAQ,EAAE,aAAeA,EAAO,YAAc,EAAE,aAAeA,EAAO,YAAcA,EAAO,WAAW,MAAOuF,GAAM,EAAE,WAAW,SAASA,CAAC,CAAC,CACrK,EACD,OAAIiB,KACD5K,EAAK4K,EAAK,WAAa,OAAYA,EAAK,SAAW,GACpDA,EAAK,YAEAA,GAAQ,IACjB,CACA,SAASC,IAA2B,CAClC,OAAOX,GAA4B,OAAO,CAAC,CAAE,SAAAY,CAAS,IAAMA,GAAY,MAAQA,IAAa,CAAC,CAChG,CACA,SAASC,GAAYC,EAAO,CAC1B,IAAIhL,EAAIiL,EAAIC,EACZ,OAAQA,GAAMD,GAAMjL,EAAKgL,EAAM,SAAW,KAAO,OAAShL,EAAG,CAAC,IAAM,KAAO,OAASiL,EAAG,OAAS,KAAOC,EAAK,MAC9G,CACA,SAASC,GAA0BH,EAAO,CACxC,MAAMI,EAAgBL,GAAYC,CAAK,EACvC,OAAII,GAAiB,KACZ,GAELA,IAAkB,aACpBhM,EAAO,SAAS,SAASgM,CAAa,4CAA4C,EAC3E,IAEFrB,GAAW,YAAYqB,CAAa,GAAKd,GAAsBc,CAAa,CACrF,CACA,SAASC,GAAsBL,EAAO,CACpC,MAAMI,EAAgBL,GAAYC,CAAK,EACvC,OAAII,GAAiB,KACZ,GAELA,IAAkB,SACpBhM,EAAO,SAAS,SAASgM,CAAa,4CAA4C,EAC3E,IAEFrB,GAAW,QAAQqB,CAAa,GAAKb,GAAkBa,CAAa,CAC7E,CACA,SAASE,GAA0BN,EAAO,CACxC,MAAMI,EAAgBL,GAAYC,CAAK,EACvC,OAAII,GAAiB,KACZ,GAELA,IAAkB,aACpBhM,EAAO,SAAS,SAASgM,CAAa,4CAA4C,EAC3E,IAEFrB,GAAW,YAAYqB,CAAa,GAAKZ,GAAsBY,CAAa,CACrF,CACA,SAASG,GAAyBP,EAAO,CACvC,MAAMI,EAAgBL,GAAYC,CAAK,EACvC,OAAII,GAAiB,KACZ,GAELA,IAAkB,YACpBhM,EAAO,SAAS,SAASgM,CAAa,4CAA4C,EAC3E,IAEFrB,GAAW,WAAWqB,CAAa,GAAKX,GAAqBW,CAAa,CACnF,CACA,SAASI,GAA2CR,EAAO,CACzD,MAAMI,EAAgBL,GAAYC,CAAK,EACvC,OAAOK,GAAsBL,CAAK,GAAKI,IAAkB,OAASA,IAAkB,OACtF,CACA,SAASK,GAAmBT,EAAO,CACjC,OAAIA,GAAS,KACJ,GAEFjB,GAAW,IAAIiB,CAAK,CAC7B,CACA,SAASU,GAAiBV,EAAO,CAC/B,OAAIA,GAAS,KACJ,GAEF/F,GAAa,IAAI+F,CAAK,CAC/B,CACA,SAASW,GAA4BnN,EAAS,CAC5C,IAAIwB,EAAIiL,EAAIC,EAAIU,EAChB,MAAMC,EAAc,CAAC,EACfC,EAAmB/B,GAAW,IAAIgB,GAAYvM,CAAO,CAAC,EAC5D,SAAW,CACT,KAAA4L,EACA,WAAY2B,EACZ,WAAAC,EACA,gBAAAC,EACA,WAAAC,CACF,IAAKhC,GACH,GAAI,EAAA4B,IAAqB,WAAa,CAACC,EAAiB,SAASD,CAAgB,IAEjF,GAAI1B,IAAS,QAAUA,IAAS,SAAU,CACxC,MAAM+B,EAAc3N,EAAQwN,CAAU,EACtC,GAAIG,GAAe,KACjB,SACGF,EAGME,EAAYF,CAAe,IACpCJ,EAAY,KAAK,GAAGG,CAAU,IAAIC,CAAe,EAAE,EACnD,OAAOE,EAAYF,CAAe,IAJlCJ,EAAY,KAAKG,CAAU,EAC3B,OAAOxN,EAAQwN,CAAU,EAK7B,SAAW5B,IAAS,OAAQ,CAC1B,GAAI,EAAE,SAAU5L,IAAY,GAAGwB,EAAKxB,EAAQ,OAAS,MAAgBwB,EAAG,KAAMoM,GAASA,EAAK,OAASF,CAAU,GAC7G,SACFL,EAAY,KAAK,aAAaK,CAAU,GAAG,EAC3C1N,EAAQ,KAAOA,EAAQ,KAAK,OAAQ4N,GAASA,EAAK,OAASF,CAAU,CACvE,SAAW9B,IAAS,cAAe,CACjC,GAAI,EAAE,SAAU5L,IAAY,GAAGyM,EAAKzM,EAAQ,OAAS,MAAgByM,EAAG,KAAMmB,GAASA,EAAKJ,CAAU,CAAC,GACrG,SACFH,EAAY,KAAK,QAAQG,CAAU,EAAE,EACrCxN,EAAQ,KAAK,QAAS4N,GAAS,CACzBA,EAAKJ,CAAU,GACjB,OAAOI,EAAKJ,CAAU,CAE1B,CAAC,CACH,SAAW5B,IAAS,SAAU,CAC5B,GAAI,GAAGc,EAAK1M,EAAQ,SAAW,MAAgB0M,EAAG,KAAMmB,GAAWA,EAAO,OAASH,CAAU,GAC3F,SACFL,EAAY,KAAK,eAAeK,CAAU,GAAG,EAC7C1N,EAAQ,OAASA,EAAQ,OAAO,OAAQ6N,GAAWA,EAAO,OAASH,CAAU,CAC/E,SAAW9B,IAAS,gBAAiB,CACnC,GAAI,GAAGwB,EAAKpN,EAAQ,SAAW,MAAgBoN,EAAG,KAAMS,GAAWA,EAAOL,CAAU,CAAC,GACnF,SACFH,EAAY,KAAK,UAAUG,CAAU,EAAE,EACvCxN,EAAQ,OAAO,QAAS6N,GAAW,CAC7BA,EAAOL,CAAU,GACnB,OAAOK,EAAOL,CAAU,CAE5B,CAAC,CACH,EAEF,GAAIH,EAAY,OAAQ,CACtB,IAAIS,EAAwB,uBACxBC,EAAyB,sDACzB/N,EAAQ,OAAS,eACnB8N,EAAwB,sEACxBC,EAAyB,gFAE3BnN,EAAO,SACL,CACE,+CAA+CkN,CAAqB,yBACpE,GACA,GAAGT,EACH,GACA,QAAQU,CAAsB,EAChC,EAAE,KAAK;AAAA,CAAI,CACb,CACF,CACF,CACA,IAAIC,GAAiB,KAAM,CACzB,IAAIC,EAAY,CACd,KAAM,CAAE,UAAAC,EAAY,KAAK,YAAY,IAAK,EAAI,KAAK,YACnD,GAAI,OAAOD,GAAe,SACxB,OAAArN,EAAO,KAAK,iBAAiBsN,CAAS,kCAAkC,EACjE,KAET,MAAMrE,EAAO,IAAI,IAAI,OAAO,KAAKoE,CAAU,CAAC,EAC5C,UAAWlH,KAAeiB,GAAwB,IAAI,EACpD,GAAI6B,EAAK,IAAI9C,CAAW,EAAG,CACzB,MAAMnN,EAAQqU,EAAWlH,CAAW,EAC9BoH,EAAO,KACTC,GAAaD,EAAKpH,CAAW,CAAC,EAChCoH,EAAKpH,CAAW,EAAIoH,EAAKpH,CAAW,YAAasH,GAAkBF,EAAKpH,CAAW,EAAE,MAAMnN,CAAK,EAAIuU,EAAKpH,CAAW,EAAE,IAAInN,CAAK,EAE/HuU,EAAKpH,CAAW,EAAInN,EAEtBiQ,EAAK,OAAO9C,CAAW,CACzB,CAEF,UAAWuH,KAAczE,EACvBjJ,EAAO,KAAK,kBAAkB0N,CAAU,QAAQJ,CAAS,wBAAwB,EAEnF,OAAO,IACT,CACA,SAAU,CACR,OAAOlG,GAAwB,IAAI,EAAE,MAAOjB,GAAgB,CAC1D,KAAM,CAAE,SAAAwH,CAAS,EAAInG,GAAiC,KAAMrB,CAAW,EACjEyH,EAAQD,GAAY,OAAO,KAAKxH,CAAW,EAAM,IACvD,OAAKyH,GACH5N,EAAO,SAAS,IAAImG,CAAW,gBAAgB,EAE1CyH,CACT,CAAC,CACH,CACA,QAAS,CACP,OAAOxG,GAAwB,IAAI,EAAE,OAAO,CAACmC,EAAQpD,IAAgB,CACnE,MAAM0H,EAAgB,KAAK1H,CAAW,EACtC,OAAAoD,EAAOpD,CAAW,EAAIqH,GAAaK,CAAa,EAAIA,EAAc,OAAO,EAAIA,EACtEtE,CACT,EAAG,CAAC,CAAC,CACP,CACF,EACIkE,GAAkB,MAAMK,WAAyB,KAAM,CACzD,YAAYC,KAAgBV,EAAY,CACtC,MAAMA,EAAW,MAAM,EACvB,OAAO,eAAe,KAAM,cAAe,CAAE,MAAOU,EAAa,WAAY,GAAO,aAAc,EAAM,CAAC,EACzG,KAAK,IAAIV,CAAU,CACrB,CACA,IAAIA,EAAY,CACd,GAAI1F,GAAQ0F,CAAU,EAAG,CACvB,KAAK,OAASA,EAAW,OACzB,QAAS,EAAI,EAAG,EAAIA,EAAW,OAAQ,IACrC,KAAK,CAAC,EAAI,IAAI,KAAK,YAAY,EAAE,IAAIA,EAAW,CAAC,CAAC,CAEtD,CACA,OAAO,IACT,CACA,MAAMA,EAAY,CAChB,OAAO,IAAIS,GAAiB,KAAK,YAAa,GAAGT,CAAU,CAC7D,CACA,QAAS,CACP,OAAO,KAAK,IAAKrU,GAAU,CACzB,IAAI4H,EAAIiL,EACR,OAAQA,GAAMjL,EAA8B5H,GAAM,SAAW,KAAO,OAAS4H,EAAG,KAAK5H,CAAK,IAAM,KAAO6S,EAAK7S,CAC9G,CAAC,CACH,CACF,EACA,SAASwU,GAAaxU,EAAO,CAC3B,OAAOA,aAAiBoU,IAAkBpU,aAAiByU,EAC7D,CACA,IAAIO,GAAsB,iBAC1B,SAASC,GAAStS,EAAQpC,EAAQ2U,EAAM,CACtC,GAAIvG,GAAQpO,CAAM,GAChB,GAAI,CAACoO,GAAQhM,CAAM,GAAKA,EAAO,SAAWpC,EAAO,QAAUA,EAAO,KAAK,CAACc,EAAGX,IAAMuU,GAAStS,EAAOjC,CAAC,EAAGW,CAAC,GAAK,IAAI,EAC7G,OAAOd,UAEA4O,GAAc5O,CAAM,EAAG,CAChC,GAAI,CAAC4O,GAAcxM,CAAM,EACvB,OAAOpC,EAET,MAAME,EAAS,CAAC,EACV0U,EAA0B,IAAI,IAAI,CACtC,GAAG,OAAO,KAAKxS,CAAM,EACrB,GAAG,OAAO,KAAKpC,CAAM,CACvB,CAAC,EACD,UAAWR,KAAOoV,EAChB,GAAI,EAAAxS,EAAO5C,CAAG,IAAMQ,EAAOR,CAAG,GAA8BmV,GAAK,SAASnV,CAAG,GAG7E,GAAI,OAAO4C,EAAO5C,CAAG,GAAM,OAAOQ,EAAOR,CAAG,EAAG,CAC7C,MAAMqV,EAAQH,GAAStS,EAAO5C,CAAG,EAAGQ,EAAOR,CAAG,CAAC,EAC3CqV,IAAU,OACZ3U,EAAOV,CAAG,EAAIqV,EAElB,MACE3U,EAAOV,CAAG,EAAIQ,EAAOR,CAAG,EAG5B,OAAO,OAAO,KAAKU,CAAM,EAAE,OAASA,EAAS,IAC/C,SAAWkC,IAAWpC,EACpB,OAAOA,EAET,OAAO,IACT,CACA,SAAS8U,GAAU1S,EAAQyD,EAAS,CAClC,OAAIuI,GAAQhM,CAAM,EACTA,EAAO,IAAK0N,GAASgF,GAAUhF,EAAMjK,CAAO,CAAC,EAElD+I,GAAcxM,CAAM,EACf2N,GACL3N,EACA,CAAC3C,EAAOD,IAAQ,CACd,IAAI6H,EACJ,OAASA,EAAgCxB,GAAQ,UAAY,MAAgBwB,EAAG,SAAS7H,CAAG,EAAKuV,GAAatV,CAAK,EAAIqV,GAAUrV,EAAOoG,CAAO,CACjJ,CACF,EAEKkP,GAAa3S,CAAM,CAC5B,CACA,SAAS2S,GAAa3S,EAAQ,CAC5B,OAAIgM,GAAQhM,CAAM,EACT,CAAC,GAAGA,CAAM,EAEfwM,GAAcxM,CAAM,EACfH,EAAgB,CAAC,EAAGG,CAAM,EAE/BkM,GAAOlM,CAAM,EACR,IAAI,KAAKA,CAAM,EAEpBoM,GAASpM,CAAM,EACV,IAAI,OAAOA,EAAO,OAAQA,EAAO,KAAK,EAExCA,CACT,CACA,SAAS4S,GAASC,EAAMC,EAAOC,KAASC,EAAO,CAC7C,IAAI/N,EACJ,GAAI+G,GAAQ6G,CAAI,EACdC,EAAMD,EAAM,GAAGG,CAAK,EACpBH,EAAK,QAAQ,CAACI,EAAMzJ,IAAU,CAC5BoJ,GAASK,EAAMH,EAAOC,EAAM,GAAGG,GAAUF,EAAOxJ,CAAK,CAAC,CACxD,CAAC,UACQgD,GAAcqG,CAAI,EAAG,CAC9BC,EAAMD,EAAM,GAAGG,CAAK,EACpB,UAAW5V,KAAO,OAAO,KAAKyV,CAAI,EAAG,CACnC,IAAK5N,EAA6B8N,GAAK,OAAS,MAAgB9N,EAAG,SAAS7H,CAAG,EAC7E,SAEF,MAAMC,EAAQwV,EAAKzV,CAAG,GAClB4O,GAAQ3O,CAAK,GAAKmP,GAAcnP,CAAK,IACvCuV,GAASvV,EAAOyV,EAAOC,EAAM,GAAGG,GAAUF,EAAO5V,CAAG,CAAC,CAEzD,CACF,CACF,CACA,SAAS+V,GAAUvV,EAAQoC,EAAQoT,EAAS,CAAC,EAAG,CAC9C,KAAM,CAAE,KAAAnF,EAAM,kBAAAoF,EAAmB,YAAAC,EAAsCrF,GAAK,QAAQ,gBAAiB,IAAI,EAAG,KAAAsE,EAAO,CAAC,CAAE,EAAIa,EAC1H,GAAIxV,GAAU,KACZ,MAAM,IAAI,MAAM,wCAAwCqQ,GAAsB,QAAQ,EAAE,EAE1F,GAAIjO,GAAU,KACZ,OAAOpC,EAET,GAAIiU,GAAajU,CAAM,EACrB,OAAOA,EAAO,IAAIoC,CAAM,EAE1B,MAAMuT,EAAY3V,EACZ4V,EAAaC,GAAS7V,CAAM,EAClC,UAAW8V,KAAY1T,EAAQ,CAC7B,MAAM2T,EAAsB,GAAGL,EAAcA,EAAc,IAAM,EAAE,GAAGI,CAAQ,GAC9E,GAAInB,EAAK,SAASoB,CAAmB,EACnC,SACF,MAAMvF,EAAWpO,EAAO0T,CAAQ,EAC1BE,EAAe,GAAG3F,EAAOA,EAAO,IAAM,EAAE,GAAGyF,CAAQ,GACnDG,EAAcN,EAAU,YACxBO,EAAeP,EAAUG,CAAQ,EACvC,IAAIK,EACJ,GAAI,CACF,MAAMC,EAAmBP,GAASK,CAAY,EACxCG,EAAeR,GAASrF,CAAQ,EACtC,GAAIoF,IAAenB,IAAuB,EAAEqB,KAAY9V,GAAS,CAC/DyG,EAAO,KAAK,kBAAkBuP,CAAY,QAAuCC,GAAY,IAAI,wBAAwB,EACzH,QACF,CACA,GAAIG,GAAoB,MAAQC,GAAgB,MAAQA,IAAiBD,IAAqBA,IAAqB3B,IAAuB4B,IAAiB,UAAW,CACpK5P,EAAO,KACL,kBAAkBuP,CAAY,QAAuCC,GAAY,IAAI,2BAA2BI,CAAY,0BAA0BD,CAAgB,GACxK,EACA,QACF,CACA,GAAInC,GAAaiC,CAAY,EAC3BP,EAAUG,CAAQ,EAAE,IAAItF,CAAQ,UACvB6F,IAAiB,QAE1B,GADAF,IAAoBA,EAA2CV,GAAkB,IAAIS,CAAY,GAC7FC,GAAO,KACTR,EAAUG,CAAQ,EAAItF,MACjB,CACL,MAAM8F,EAAgB9F,EACtBmF,EAAUG,CAAQ,EAAIQ,EAAc,IACjCxV,GAAMyU,GAAU,IAAIY,EAAOrV,EAAGoB,EAAcD,EAAgB,CAAC,EAAGuT,CAAM,EAAG,CACxE,KAAMQ,EACN,YAAaD,EAAsB,IACrC,CAAC,CAAC,CACJ,CACF,MACSM,IAAiB5B,GAC1BkB,EAAUG,CAAQ,EAAItF,EACb6F,IAAiB,SACtBH,GAAgB,KAClBX,GAAUW,EAAc1F,EAAUtO,EAAcD,EAAgB,CAAC,EAAGuT,CAAM,EAAG,CAC3E,KAAMQ,EACN,YAAaD,CACf,CAAC,CAAC,EACOI,GAAO,MAChBR,EAAUG,CAAQ,EAAI,CAAC,EACvBP,GAAUI,EAAUG,CAAQ,EAAGtF,EAAUtO,EAAcD,EAAgB,CAAC,EAAGuT,CAAM,EAAG,CAClF,KAAMQ,EACN,YAAaD,CACf,CAAC,CAAC,GAEFJ,EAAUG,CAAQ,EAAIP,GAAU,IAAIY,EAAO3F,EAAUtO,EAAcD,EAAgB,CAAC,EAAGuT,CAAM,EAAG,CAC9F,KAAMQ,EACN,YAAaD,CACf,CAAC,CAAC,EAGJJ,EAAUG,CAAQ,EAAItF,CAE1B,OAAS+F,EAAO,CACd9P,EAAO,KAAK,kBAAkBuP,CAAY,SAAwCC,GAAY,IAAI,uBAAuBM,EAAM,OAAO,EAAE,CAC1I,CACF,CACA,OAAOvW,CACT,CACA,SAASsV,GAAUkB,EAAMhX,EAAK,CAC5B,OAAOgX,EAAK,IAAKC,GAA6CA,IAAWjX,CAAG,CAAC,CAC/E,CACA,SAASqW,GAASpW,EAAO,CACvB,OAAIA,GAAS,KACJ,KAELuP,GAAcvP,CAAK,GAAK6O,GAAO7O,CAAK,EAC/B,YAEL2O,GAAQ3O,CAAK,EACR,QAELiP,GAASjP,CAAK,EACTmP,GAAcnP,CAAK,EAAI,SAAWgV,GAEvChG,GAAWhP,CAAK,EACX,WAEF,WACT,CACA,IAAIiX,GAAiB,KAAM,CACzB,aAAc,CACZ,KAAK,UAA4B,IAAI,IACrC,KAAK,eAAiC,IAAI,GAC5C,CACA,SAAS3F,EAAY,CACnB,WAAY,CAACG,CAAU,EACvB,oBAAAyF,EACA,YAAAC,EACA,cAAAvK,EACA,wBAAAwK,EACA,eAAAC,EACA,KAAAC,EACA,UAAAC,EACA,UAAAC,EACA,iBAAAC,EACA,yBAAAC,EACA,OAAAC,CACF,EAAG,CACD,KAAK,iBAAiBrG,EAAY1E,EAAewK,CAAuB,EACxE,KAAK,UAAU,IAAI9F,EAAY,CAC7B,oBAAA4F,EACA,YAAAC,EACA,eAAAE,EACA,KAAAC,EACA,UAAAC,EACA,UAAAC,EACA,iBAAAC,EACA,yBAAAC,CACF,CAAC,EACD/F,GAAW,IAAIL,EAAYG,CAAU,EAChCkG,GACH/F,GAAiB,IAAIN,EAAYG,CAAU,CAE/C,CACA,OAAOH,EAAY5E,EAAe,CAChC,IAAI9E,EACJ,MAAMgQ,GAAqBhQ,EAAK,KAAK,UAAU,IAAI0J,CAAU,IAAM,KAAO,OAAS1J,EAAG,oBACtF,GAAIgQ,EACF,OAAO,IAAIA,EAAkBlL,CAAa,EAE5C,MAAM,IAAI,MAAM,oCAAoC4E,CAAU,EAAE,CAClE,CACA,iBAAiBA,EAAY,CAC3B,IAAI1J,EACJ,MAAMuP,GAAevP,EAAK,KAAK,UAAU,IAAI0J,CAAU,IAAM,KAAO,OAAS1J,EAAG,YAChF,OAAOuP,EAAc,CAAE,KAAM9B,GAAU8B,CAAW,CAAE,EAAI,IAC1D,CACA,iBAAiB7F,EAAY1E,EAAewK,EAA0B,CAAC,EAAG,CACxE,MAAMS,EAAkB,KAAK,eAAe,IAAIvG,CAAU,EAC1D,KAAK,eAAe,IAAIA,EAAY,CAClC,UAAWtB,GAAcpD,EAAkDiL,GAAgB,SAAS,EACpG,WAAY7H,GAAcoH,EAAyBxK,EAAkDiL,GAAgB,SAAS,CAChI,CAAC,CACH,CACA,iBAAiBvG,EAAY,CAC3B,MAAM1E,EAAgB,KAAK,eAAe,IAAI0E,CAAU,EACxD,OAAO3F,GAAiB,aAAgDiB,GAAc,WAA8CA,GAAc,SACpJ,CACA,kBAAkB0E,EAAY,CAC5B,IAAI1J,EACJ,OAAQA,EAAK,KAAK,UAAU,IAAI0J,CAAU,IAAM,KAAO,OAAS1J,EAAG,cACrE,CACA,OAAO0J,EAAY,CACjB,IAAI1J,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,UAAU,IAAI0J,CAAU,IAAM,KAAO,OAAS1J,EAAG,OAAS,KAAOiL,EAAK,EAChG,CACA,YAAYvB,EAAY,CACtB,IAAI1J,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,UAAU,IAAI0J,CAAU,IAAM,KAAO,OAAS1J,EAAG,YAAc,KAAOiL,EAAK,EACrG,CACA,YAAYvB,EAAY,CACtB,IAAI1J,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,UAAU,IAAI0J,CAAU,IAAM,KAAO,OAAS1J,EAAG,YAAc,KAAOiL,EAAK,EACrG,CACA,mBAAmBvB,EAAY,CAC7B,IAAI1J,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,UAAU,IAAI0J,CAAU,IAAM,KAAO,OAAS1J,EAAG,mBAAqB,KAAOiL,EAAK,EAC5G,CACA,wBAAwBzM,EAAS,CAC/B,IAAIwB,EAAIiL,EAAIC,EACZ,IAAIrS,EACJ,UAAWwT,KAAWrM,EAAKxB,EAAQ,SAAW,KAAOwB,EAAK,CAAC,EAAG,CAC5D,KAAM,CAAE,KAAAoK,EAAO,MAAO,EAAIiC,EACpB6D,GAAwBhF,GAAMD,EAAK,KAAK,UAAU,IAAIb,CAAI,IAAM,KAAO,OAASa,EAAG,2BAA6B,KAAO,OAASC,EAAG,KAAKD,EAAIoB,CAAM,EACxJ,GAAI6D,GAAwB,KAAM,CAChC,GAAIrX,GAAU,MAAQA,GAAUqX,EAC9B,MAAM,IAAI,MAAM,8DAA8D,EAEhFrX,EAASqX,CACX,CACF,CACA,OAAOrX,CACT,CACF,EACIsX,GAAiB,IAAId,GACrBe,GAAiB,KAAM,CACzB,aAAc,CACZ,KAAK,UAA4B,IAAI,IACrC,KAAK,eAAiC,IAAI,GAC5C,CACA,SAASC,EAAY,CAAE,WAAArE,EAAY,oBAAAsD,EAAqB,cAAAtK,CAAc,EAAG,CACvE,KAAK,UAAU,IAAIqL,EAAY,CAAE,WAAArE,EAAY,oBAAAsD,CAAoB,CAAC,EAClE,KAAK,eAAe,IAAItD,EAAYhH,CAAa,CACnD,CACA,OAAOqL,EAAYvL,EAAe,CAChC,IAAI9E,EACJ,MAAMsQ,GAAqBtQ,EAAK,KAAK,UAAU,IAAIqQ,CAAU,IAAM,KAAO,OAASrQ,EAAG,oBACtF,GAAIsQ,EACF,OAAO,IAAIA,EAAkBxL,CAAa,EAE5C,MAAM,IAAI,MAAM,oCAAoCuL,CAAU,EAAE,CAClE,CACA,mBAAoB,CAClB,OAAO,OAAO,YAAY,KAAK,cAAc,CAC/C,CACA,SAAU,CACR,OAAO,MAAM,KAAK,KAAK,UAAU,QAAQ,CAAC,EAAE,OAC1C,CAACxX,EAAQ,CAACwX,EAAYE,CAAM,KAC1B1X,EAAOwX,CAAU,EAAIE,EAAO,WACrB1X,GAET,CAAC,CACH,CACF,CACF,EACI2X,GAAiB,IAAIJ,GACrBK,IAA8BC,IAChCA,EAAWA,EAAW,MAAW,EAAE,EAAI,QACvCA,EAAWA,EAAW,OAAY,EAAE,EAAI,SACxCA,EAAWA,EAAW,MAAW,EAAE,EAAI,QAChCA,IACND,IAAa,CAAC,CAAC,EACdE,IAAgCC,IAClCA,EAAa,OAAY,SACzBA,EAAa,KAAU,OACvBA,EAAa,OAAY,SACzBA,EAAa,QAAa,UACnBA,IACND,IAAe,CAAC,CAAC,EAChBE,IAA6BC,IAC/BA,EAAU,IAAS,MACnBA,EAAU,MAAW,QACrBA,EAAU,OAAY,SACtBA,EAAU,KAAU,OACbA,IACND,IAAY,CAAC,CAAC,EACbE,IAAwCC,IAC1CA,EAAqB,SAAc,WACnCA,EAAqB,aAAkB,eACvCA,EAAqB,OAAY,SACjCA,EAAqB,KAAU,OAC/BA,EAAqB,IAAS,MACvBA,IACND,IAAuB,CAAC,CAAC,EACxBE,IAAoCC,IACtCA,EAAiB,eAAoB,iBACrCA,EAAiB,aAAkB,eACnCA,EAAiB,gBAAqB,kBACtCA,EAAiB,cAAmB,gBAC7BA,IACND,IAAmB,CAAC,CAAC,EACpBE,IAAqCC,IACvCA,EAAkB,OAAY,SAC9BA,EAAkB,QAAa,UACxBA,IACND,IAAoB,CAAC,CAAC,EACrBE,GAAgB,CAClB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAkB,CACpB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAgB,OAAO,eAAe,EACtCC,GAAwB,OAAO,uBAAuB,EACtDC,GAA6B,OAAO,4BAA4B,EAChEC,GAA6B,OAAO,4BAA4B,EAChEC,GAAkC,OAAO,iCAAiC,EAC1EC,GAA0B,OAAO,yBAAyB,EAC1DC,GAAoC,OAAO,mCAAmC,EAC9EC,GAAsB,OAAO,cAAc,EAC3CC,GAAuB,OAAO,sBAAsB,EACpDC,GAAgC,OAAO,+BAA+B,EACtEC,GAAqC,OAAO,oCAAoC,EAChFC,GAA6B,OAAO,4BAA4B,EAChEC,GAA2B,OAAO,0BAA0B,EAC5DC,GAA2B,OAAO,0BAA0B,EAC5DC,GAA6B,OAAO,4BAA4B,EAChEC,GAA4B,OAAO,2BAA2B,EAC9DC,GAAwB,OAAO,uBAAuB,EACtDC,GAAkB,OAAO,iBAAiB,EAC1CC,GAA4C,OAC9C,0CACF,EACIC,GAA4C,OAC9C,0CACF,EACIC,GAAyC,OAC3C,uCACF,EACIC,GAAiD,OACnD,gDACF,EACIC,GAA8B,OAAO,6BAA6B,EAClEC,GAAwC,OAC1C,uCACF,EACIC,GAA0B,OAAO,yBAAyB,EAC1DC,GAA4B,OAAO,2BAA2B,EAC9DC,GAA4B,OAAO,2BAA2B,EAC9DC,GAAqC,OAAO,oCAAoC,EAChFC,GAAiC,OAAO,gCAAgC,EACxEC,GAA0B,QAC1BC,GAAkB,CACpB,MAAO,OAAO,OAAOhC,EAAa,EAClC,QAAS,OAAO,OAAOC,EAAe,CACxC,EACIgC,GAAoB,CACtB,IAAI,WAAY,CACd,MAAO,CAAE,YAAavJ,GAAW,eAAgB,cAAe,CAAC,OAAQ,WAAW,CAAE,CACxF,EACA,IAAI,OAAQ,CACV,MAAO,CAAE,YAAaA,GAAW,WAAY,cAAe,CAAC,CAAE,CACjE,EACA,IAAI,WAAY,CACd,MAAO,CAAE,YAAaA,GAAW,eAAgB,cAAe,CAAC,CAAE,CACrE,EACA,IAAI,UAAW,CACb,MAAO,CAAE,YAAaA,GAAW,cAAe,cAAe,CAAC,CAAE,CACpE,CACF,EACIwJ,GAAqC,OAAO,OAAOD,EAAiB,EAAE,OAAO,CAACE,EAAG,CAAE,cAAAC,CAAc,IAAMD,EAAE,OAAOC,CAAa,EAAG,CAAC,CAAC,EAClIC,GAAc,MAAMC,EAAa,CACnC,YAAa,CACX,OAAON,EACT,CACA,OAAO,gBAAgBO,EAAkB,CACvC,OAAOxL,GAAcwL,EAAkB,CACrC,MAAO,CACL,QAAS,GACT,KAAM,aACN,QAAS,GACT,WAAY,SACZ,SAAU,GACV,WAAY9B,GACZ,MAAOC,EACT,EACA,MAAO,CACL,SAAU,GACV,WAAYD,GACZ,QAAS,EACT,MAAOC,GACP,gBAAiB,EACnB,EACA,KAAM,CACJ,QAAS,GACT,MAAO,EACP,MAAOK,EACT,EACA,KAAM,CACJ,QAAS,GACT,MAAO,EACP,MAAOA,EACT,EACA,SAAU,CACR,QAAS,GACT,MAAO,CAAC,CAAE,OAAQD,GAA0B,SAAU,CAAC,CAAE,CAAC,CAC5D,EACA,WAAY,CACV,QAAS,GACT,KAAME,GACN,OAAQA,GACR,YAAa,GACb,YAAa,EACb,MAAO,CACL,QAAS,GACT,SAAU,GACV,WAAYP,GACZ,QAAS,EACT,MAAOC,EACT,CACF,CACF,CAAC,CACH,CACA,OAAO,mBAAoB,CACzB,MAAO,CACL,QAAS,GACT,aAAc,GACd,eAAgB,CACd,KAAM,CAAE,KAAM,YAAa,OAAQ,QAAS,YAAa,CAAE,EAC3D,OAAQ,CAAE,WAAY,CAAE,CAC1B,EACA,eAAgB,QAChB,QAAS,CAAE,QAAS,EAAK,CAC3B,CACF,CACA,OAAO,kCAAmC,CACxC,MAAO,CAAE,QAAS,GAAM,MAAO,SAAU,KAAM,EAAG,YAAa,CAAE,CACnE,CACA,OAAO,kBAAmB,CACxB,MAAO,CACL,WAAY,CAAE,QAAS,GAAM,KAAMO,EAA0B,EAC7D,QAAS,CAAE,IAAK,GAAI,MAAO,GAAI,OAAQ,GAAI,KAAM,EAAG,EACpD,SAAU,CAAE,QAAS,EAAK,EAC1B,MAAO,CACL,QAAS,GACT,KAAM,QACN,WAAY,SACZ,SAAU,GACV,WAAYR,GACZ,MAAOC,GACP,SAAU,WACZ,EACA,SAAU,CACR,QAAS,GACT,KAAM,WACN,QAAS,GACT,SAAU,GACV,WAAYD,GACZ,MAAOI,GACP,SAAU,WACZ,EACA,SAAU,CACR,QAAS,GACT,KAAM,WACN,QAAS,GACT,SAAU,GACV,WAAYJ,GACZ,MAAO,qBACP,SAAU,WACZ,EACA,OAAQ,CACN,SAAU,SACV,QAAS,GACT,UAAW,CAAC,EACZ,KAAM,CACJ,SAAU,GACV,SAAU,EACV,OAAQ,CAAE,KAAM,GAAI,QAAS,CAAE,EAC/B,oBAAqB,GACrB,MAAO,CACL,MAAOC,GACP,SAAU,GACV,WAAYD,EACd,CACF,EACA,aAAc,GACd,WAAY,CACV,OAAQ,CAAE,KAAM,EAAG,EACnB,YAAa,CAAE,KAAMC,EAAqB,EAC1C,cAAe,CAAE,KAAMG,EAA2B,EAClD,eAAgB,CAAE,KAAMH,EAAqB,EAC7C,MAAO,CAAE,MAAOA,EAAqB,CACvC,CACF,EACA,QAAS,CACP,QAAS,GACT,UAAWR,GACX,MAAO,UACP,MAAO,CACT,EACA,SAAU,CACR,QAAS,CAAE,UAAWA,EAAc,EACpC,OAAQ,CAAE,UAAWA,EAAc,EACnC,gBAAiB,CAAE,UAAWA,EAAc,CAC9C,EACA,UAAW,CAAC,CACd,CACF,CACA,YAAY/S,EAAU,CAAC,EAAG,CACxB,KAAM,CAAE,UAAAqV,EAAW,QAASC,CAAU,EAAIrG,GAAUjP,CAAO,EACrDsL,EAAW,KAAK,8BAA8B,KAAK,YAAY,CAAC,EAClE+J,GACF,KAAK,eAAe/J,EAAU+J,CAAS,EAEzC,KAAK,OAAS,OAAO,OAAO,KAAK,cAAc/J,CAAQ,CAAC,EACxD,KAAK,QAAU1B,GAAc0L,EAAW,KAAK,WAAW,CAAC,CAC3D,CACA,eAAehK,EAAU+J,EAAW,CAClC,SAAW,CAAE,YAAAE,EAAa,cAAAN,CAAc,IAAK,OAAO,OAAOH,EAAiB,EAAG,CAC7E,MAAMU,EAAgBpZ,EAAgB,CAAC,EAAGiZ,EAAU,MAAM,EAC1D,UAAWI,KAAaV,GACjBE,EAAc,SAASQ,CAAS,GACnC,OAAOD,EAAcC,CAAS,EAGlC,GAAKD,EAEL,UAAWzT,KAAKwT,EAAa,CAC3B,MAAMrK,EAAanJ,EACnBuJ,EAASJ,CAAU,EAAItB,GAAc4L,EAAelK,EAASJ,CAAU,CAAC,CAC1E,CACF,CACAK,GAAW,YAAY,QAAS,GAAM,CACpC,MAAML,EAAa,EACfmK,EAAUnK,CAAU,IACtBI,EAASJ,CAAU,EAAItB,GAAcyL,EAAUnK,CAAU,EAAGI,EAASJ,CAAU,CAAC,EAEpF,CAAC,CACH,CACA,8BAA8BpE,EAAQ,CACpC,SAAW,CAAC4O,EAAU,CAAE,YAAAH,CAAY,CAAC,IAAK,OAAO,QAAQT,EAAiB,EAAG,CAC3E,MAAMa,EAAelK,GAAc,IAAIiK,CAAQ,EAC/C,UAAWxK,KAAcqK,EACvBzO,EAAOoE,CAAU,IAAMpE,EAAOoE,CAAU,EAAI+D,GAAU0G,CAAY,EAEtE,CACA,OAAO7O,CACT,CACA,aAAc,CACZ,MAAM8O,EAAqB,CAACvK,EAAYkK,IAAgB,CACtD,IAAI/T,EACJ,MAAMnH,EAAS,CAAC,EACVwb,EAAoBzZ,EAAgBA,EAAgBA,EAAgB,CACxE,KAAM,CAAC,CACT,EAAG4V,GAAe,kBAAkB,CAAC,EAAGmD,GAAa,iBAAiB,CAAC,EAAG1J,GAAc,IAAIJ,CAAU,CAAC,EACvG,UAAWH,KAAcqK,EAAa,CACpClb,EAAO6Q,CAAU,EAAItB,GACnB+H,GAAe,iBAAiBzG,CAAU,GACzC1J,EAAKnH,EAAO6Q,CAAU,IAAM,KAAO1J,EAAKyN,GAAU4G,CAAiB,CACtE,EACA,KAAM,CAAE,KAAAC,CAAK,EAAIzb,EAAO6Q,CAAU,EAClC,UAAW7E,KAAYI,GAAa,KAAK,EACvCqP,EAAKzP,CAAQ,EAAIuD,GACfkM,EAAKzP,CAAQ,EACbI,GAAa,iBAAiBJ,CAAQ,EACtCgF,IAAe,aAAe8J,GAAa,qBAAqB9O,CAAQ,CAC1E,CAEJ,CACA,OAAOhM,CACT,EACA,OAAOuP,GACLgM,EAAmB,YAAarK,GAAW,cAAc,EACzDqK,EAAmB,QAASrK,GAAW,UAAU,EACjDqK,EAAmB,YAAarK,GAAW,cAAc,EACzDqK,EAAmB,WAAYrK,GAAW,aAAa,CACzD,CACF,CACA,cAAc/E,EAAe,CAC3B,MAAMuP,EAAgB9G,GAAUzI,CAAa,EACvC,CAAE,WAAAwP,EAAY,WAAA/H,CAAW,EAAI,KAAK,sBAAsB,EAC9D,OAAAkB,GAAS4G,EAAgBvG,GAAS,CAChC,GAAIA,EAAK,YAAgB,CACvB,MAAMyG,EAAezG,EAAK,YACpBjT,EAASyZ,EAAW,IAAIC,CAAY,EAC1C,GAAI1Z,GAAU,KACZ,MAAM,IAAI,MAAM,kDAAkD0Z,CAAY,EAAE,EAElF,OAAO,KAAK1Z,CAAM,EAAE,QAAS5C,GAAQ,CAC7BA,KAAO6V,EAEF3G,GAAS2G,EAAK7V,CAAG,CAAC,IAC3B6V,EAAK7V,CAAG,EAAIiQ,GAAc4F,EAAK7V,CAAG,EAAG4C,EAAO5C,CAAG,CAAC,GAFhD6V,EAAK7V,CAAG,EAAI4C,EAAO5C,CAAG,CAI1B,CAAC,EACD,OAAO6V,EAAK,WACd,CACA,GAAIjH,GAAQiH,CAAI,EACd,QAASlV,EAAI,EAAGA,EAAIkV,EAAK,OAAQlV,IAAK,CACpC,MAAMd,EAASgW,EAAKlV,CAAC,EACjB2T,EAAW,IAAIzU,CAAM,IACvBgW,EAAKlV,CAAC,EAAI2T,EAAW,IAAIzU,CAAM,EAEnC,KAEA,UAAW,CAACD,EAAMK,CAAK,IAAK,OAAO,QAAQ4V,CAAI,EACzCvB,EAAW,IAAIrU,CAAK,IACtB4V,EAAKjW,CAAI,EAAI0U,EAAW,IAAIrU,CAAK,EAIzC,CAAC,EACMqV,GAAU8G,CAAa,CAChC,CACA,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAOlD,GACP,QAASC,EACX,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAc,KACpB,OAAQC,GAAgB,KACxB,MAAO,CACL,MAAOS,EACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMV,GAAc,OACpB,OAAQC,GAAgB,OACxB,MAAO,CACL,MAAOS,EACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMV,GAAc,KACpB,OAAQC,GAAgB,KACxB,MAAO,CACL,MAAOS,EACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMyC,EAA6B,IAAI,IACvCA,EAAW,IAAIhD,GAAuBmC,GAAa,gBAAgB,CAAC,EACpEa,EAAW,IAAI/C,GAA4BkC,GAAa,gBAAgB,EAAE,IAAI,EAC9Ea,EAAW,IAAI9C,GAA4BiC,GAAa,gBAAgB,EAAE,IAAI,EAC9Ea,EAAW,IAAI7C,GAAiCgC,GAAa,gBAAgB,EAAE,QAAQ,EACvFa,EAAW,IAAI5C,GAAyB+B,GAAa,kBAAkB,CAAC,EACxEa,EAAW,IAAI3C,GAAmC8B,GAAa,iCAAiC,CAAC,EACjG,MAAMlH,EAA6B,IAAI,IACvC,OAAAA,EAAW,IAAI8E,GAAe,EAAK,EACnC9E,EAAW,IAAIqF,GAAqB,qBAAqB,EACzDrF,EAAW,IAAIsF,GAAsB,iBAAiB,EACtDtF,EAAW,IAAIuF,GAA+B,OAAO,EACrDvF,EAAW,IAAIyF,GAA4B,oBAAoB,EAC/DzF,EAAW,IAAI0F,GAA0B,kBAAkB,EAC3D1F,EAAW,IAAI2F,GAA0B,oBAAoB,EAC7D3F,EAAW,IAAI4F,GAA4B,iBAAiB,EAC5D5F,EAAW,IAAIwF,GAAoCmB,EAAuB,EAC1E3G,EAAW,IAAI6F,GAA2Bc,EAAuB,EACjE3G,EAAW,IAAI8F,GAAuB,oBAAoB,EAC1D9F,EAAW,IAAIqG,GAAuC,CACpDzB,GAAc,OACdA,GAAc,OACdA,GAAc,KAChB,CAAC,EACD5E,EAAW,IAAIsG,GAAyB,CAAC,UAAW,UAAW,UAAW,UAAW,SAAS,CAAC,EAC/FtG,EAAW,IAAIuG,GAA2B,CAAC,UAAW,UAAW,UAAW,UAAW,SAAS,CAAC,EACjGvG,EAAW,IAAIoG,GAA6BO,EAAuB,EACnE3G,EAAW,IAAI+F,GAAiBmB,GAAa,iBAAiB,CAAC,EAC/DlH,EAAW,IAAIgG,GAA2CkB,GAAa,wCAAwC,CAAC,EAChHlH,EAAW,IAAIiG,GAA2CiB,GAAa,wCAAwC,CAAC,EAChHlH,EAAW,IAAIkG,GAAwCgB,GAAa,qCAAqC,CAAC,EAC1GlH,EAAW,IACTmG,GACAe,GAAa,qCAAqC,EAAE,MACtD,EACAlH,EAAW,IAAIwG,GAA2B3B,GAAgB,IAAI,EAC9D7E,EAAW,IAAIyG,GAAoC7B,GAAc,IAAI,EACrE5E,EAAW,IAAI0G,GAAgCC,EAAuB,EAC/D,CACL,WAAAoB,EACA,WAAA/H,CACF,CACF,CACF,EACAiH,GAAY,qBAAuB,CAE/B,OAECA,GAAY,gBAAgB,CAAE,KAAM,CAAE,QAAS,EAAM,CAAE,CAAC,EAEzD,IAECA,GAAY,gBAAgB,CAAE,KAAM,GAAI,KAAM,CAAE,QAAS,EAAM,CAAE,CAAC,EAEnE,SAECA,GAAY,gBAAgB,CAC7B,kBAAmB,GACnB,MAAO,CAAE,WAAY,EAAK,EAC1B,SAAU,CAAE,QAAS,EAAM,CAC7B,CAAC,EAEC,KAECA,GAAY,gBAAgB,CAAE,SAAU,CAAE,QAAS,EAAM,CAAE,CAAC,EAC/D,mBAAoBA,GAAY,gBAAgB,CAClD,EACA,IAAIgB,GAAahB,GACbiB,GAA+B,UAC/BC,GAAqB,CACvB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAuB,CACzB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAU,CACZ,MAAO,OAAO,OAAOF,EAAkB,EACvC,QAAS,OAAO,OAAOC,EAAoB,CAC7C,EACIE,GAAY,MAAMC,WAAmBN,EAAW,CAClD,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAOE,GACP,QAASC,EACX,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAmB,KACzB,OAAQC,GAAqB,KAC7B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAmB,OACzB,OAAQC,GAAqB,OAC7B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMD,GAAmB,KACzB,OAAQC,GAAqB,KAC7B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMhc,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI0Y,GAAe,EAAI,EACzC1Y,EAAO,WAAW,IAAI2Z,GAAiBwC,GAAW,iBAAiB,CAAC,EACpEnc,EAAO,WAAW,IAChB4Z,GACAuC,GAAW,wCAAwC,CACrD,EACAnc,EAAO,WAAW,IAChB6Z,GACAsC,GAAW,wCAAwC,CACrD,EACAnc,EAAO,WAAW,IAAI8Z,GAAwCqC,GAAW,qCAAqC,CAAC,EAC/Gnc,EAAO,WAAW,IAChB+Z,GACAoC,GAAW,qCAAqC,EAAE,MACpD,EACAnc,EAAO,WAAW,IAAIga,GAA6B8B,EAA4B,EAC/E9b,EAAO,WAAW,IAAIkZ,GAAsB,OAAO,EACnDlZ,EAAO,WAAW,IAAIqZ,GAA4B,SAAS,EAC3DrZ,EAAO,WAAW,IAAIsZ,GAA0B,SAAS,EACzDtZ,EAAO,WAAW,IAAIwZ,GAA4B,OAAO,EACzDxZ,EAAO,WAAW,IAAIia,GAAuC,CAC3D8B,GAAmB,OACnBA,GAAmB,OACnBA,GAAmB,KACrB,CAAC,EACD/b,EAAO,WAAW,IAAIka,GAAyB,CAAC,UAAW,UAAW,UAAW,UAAW,SAAS,CAAC,EACtGla,EAAO,WAAW,IAAIma,GAA2B,CAAC,UAAW,UAAW,UAAW,UAAW,SAAS,CAAC,EACxGna,EAAO,WAAW,IAAIyZ,GAA2BqC,EAA4B,EAC7E9b,EAAO,WAAW,IAAIoZ,GAAoC0C,EAA4B,EACtF9b,EAAO,WAAW,IAAIoa,GAA2B4B,GAAqB,IAAI,EAC1Ehc,EAAO,WAAW,IAAIqa,GAAoC0B,GAAmB,IAAI,EACjF/b,EAAO,WAAW,IAAIsa,GAAgCwB,EAA4B,EAC3E9b,CACT,CACA,YAAa,CACX,OAAOic,EACT,CACA,YAAYtW,EAAS,CACnB,MAAMA,CAAO,CACf,CACF,EACIyW,GAAsB,CACxB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAwB,CAC1B,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAW,CACb,MAAO,OAAO,OAAOF,EAAmB,EACxC,QAAS,OAAO,OAAOC,EAAqB,CAC9C,EACIE,GAAe,MAAMC,WAAsBN,EAAU,CACvD,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAOE,GACP,QAASC,EACX,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAoB,KAC1B,OAAQC,GAAsB,KAC9B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAoB,IAC1B,OAAQC,GAAsB,IAC9B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMD,GAAoB,KAC1B,OAAQC,GAAsB,KAC9B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMrc,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI2Z,GAAiB6C,GAAc,iBAAiB,CAAC,EACvExc,EAAO,WAAW,IAChB4Z,GACA4C,GAAc,wCAAwC,CACxD,EACAxc,EAAO,WAAW,IAChB6Z,GACA2C,GAAc,wCAAwC,CACxD,EACAxc,EAAO,WAAW,IAChB8Z,GACA0C,GAAc,qCAAqC,CACrD,EACAxc,EAAO,WAAW,IAAIia,GAAuC,CAC3DmC,GAAoB,OACpBA,GAAoB,OACpBA,GAAoB,KACtB,CAAC,EACDpc,EAAO,WAAW,IAChB+Z,GACAyC,GAAc,qCAAqC,EAAE,MACvD,EACAxc,EAAO,WAAW,IAAIoa,GAA2BiC,GAAsB,IAAI,EAC3Erc,EAAO,WAAW,IAAIqa,GAAoC+B,GAAoB,IAAI,EAC3Epc,CACT,CACA,YAAa,CACX,OAAOsc,EACT,CACF,EACIG,GAAuB,CACzB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAyB,CAC3B,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAW,CACb,MAAO,OAAO,OAAOF,EAAoB,EACzC,QAAS,OAAO,OAAOC,EAAsB,CAC/C,EACIE,GAAgB,MAAMC,WAAuBhB,EAAW,CAC1D,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAOY,GACP,QAASC,EACX,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAqB,KAC3B,OAAQC,GAAuB,KAC/B,MAAO,CACL,MAAOxD,EACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMuD,GAAqB,IAC3B,OAAQC,GAAuB,IAC/B,MAAO,CACL,MAAOxD,EACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMuD,GAAqB,KAC3B,OAAQC,GAAuB,KAC/B,MAAO,CACL,MAAOxD,EACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMlZ,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI2Z,GAAiBkD,GAAe,iBAAiB,CAAC,EACxE7c,EAAO,WAAW,IAChB4Z,GACAiD,GAAe,wCAAwC,CACzD,EACA7c,EAAO,WAAW,IAChB6Z,GACAgD,GAAe,wCAAwC,CACzD,EACA7c,EAAO,WAAW,IAChB8Z,GACA+C,GAAe,qCAAqC,CACtD,EACA7c,EAAO,WAAW,IAAIia,GAAuC,CAC3DwC,GAAqB,OACrBA,GAAqB,OACrBA,GAAqB,KACvB,CAAC,EACDzc,EAAO,WAAW,IAChB+Z,GACA8C,GAAe,qCAAqC,EAAE,MACxD,EACA7c,EAAO,WAAW,IAAIoa,GAA2BsC,GAAuB,IAAI,EAC5E1c,EAAO,WAAW,IAAIqa,GAAoCoC,GAAqB,IAAI,EAC5Ezc,CACT,CACA,YAAa,CACX,OAAO2c,EACT,CACF,EACIG,GAAwB,CAC1B,KAAM,UACN,OAAQ,UACR,QAAS,UACT,KAAM,UACN,IAAK,UACL,OAAQ,UACR,OAAQ,UACR,MAAO,UACP,KAAM,UACN,cAAe,SACjB,EACIC,GAA0B,CAC5B,KAAM,UACN,OAAQ,UACR,QAAS,UACT,KAAM,UACN,IAAK,UACL,OAAQ,UACR,OAAQ,UACR,MAAO,UACP,KAAM,UACN,cAAe,SACjB,EACIC,GAA4B,UAC5BC,GAA8B,UAC9BC,GAAW,CACb,MAAO,OAAO,OAAOJ,EAAqB,EAC1C,QAAS,OAAO,OAAOC,EAAuB,CAChD,EACII,GAAiB,MAAMC,WAAwBlB,EAAU,CAC3D,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAOY,GACP,QAASC,EACX,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAsB,KAC5B,OAAQC,GAAwB,KAChC,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAsB,IAC5B,OAAQC,GAAwB,IAChC,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMC,GACN,OAAQC,GACR,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMjd,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI2Z,GAAiByD,GAAgB,iBAAiB,CAAC,EACzEpd,EAAO,WAAW,IAChB4Z,GACAwD,GAAgB,wCAAwC,CAC1D,EACApd,EAAO,WAAW,IAChB6Z,GACAuD,GAAgB,wCAAwC,CAC1D,EACApd,EAAO,WAAW,IAChB8Z,GACAsD,GAAgB,qCAAqC,CACvD,EACApd,EAAO,WAAW,IAAIia,GAAuC,CAC3D6C,GAAsB,KACtBA,GAAsB,GACxB,CAAC,EACD9c,EAAO,WAAW,IAChB+Z,GACAqD,GAAgB,qCAAqC,EAAE,MACzD,EACApd,EAAO,WAAW,IAAIoa,GAA2B2C,GAAwB,IAAI,EAC7E/c,EAAO,WAAW,IAAIqa,GAAoCyC,GAAsB,IAAI,EAC7E9c,CACT,CACA,YAAa,CACX,OAAOkd,EACT,CACF,EACIG,GAAyB,CAC3B,KAAM,UACN,OAAQ,UACR,QAAS,UACT,KAAM,UACN,IAAK,UACL,OAAQ,UACR,OAAQ,UACR,MAAO,UACP,KAAM,UACN,cAAe,SACjB,EACIC,GAA2B,CAC7B,KAAM,UACN,OAAQ,UACR,QAAS,UACT,KAAM,UACN,IAAK,UACL,OAAQ,UACR,OAAQ,UACR,MAAO,UACP,KAAM,UACN,cAAe,SACjB,EACIC,GAA6B,UAC7BC,GAA+B,UAC/BC,GAAW,CACb,MAAO,OAAO,OAAOJ,EAAsB,EAC3C,QAAS,OAAO,OAAOC,EAAwB,CACjD,EACII,GAAkB,MAAMC,WAAyB9B,EAAW,CAC9D,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAOwB,GACP,QAASC,EACX,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAuB,KAC7B,OAAQC,GAAyB,KACjC,MAAO,CACL,MAAOpE,EACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMmE,GAAuB,IAC7B,OAAQC,GAAyB,IACjC,MAAO,CACL,MAAOpE,EACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMqE,GACN,OAAQC,GACR,MAAO,CACL,MAAOtE,EACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMlZ,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI2Z,GAAiBgE,GAAiB,iBAAiB,CAAC,EAC1E3d,EAAO,WAAW,IAChB4Z,GACA+D,GAAiB,wCAAwC,CAC3D,EACA3d,EAAO,WAAW,IAChB6Z,GACA8D,GAAiB,wCAAwC,CAC3D,EACA3d,EAAO,WAAW,IAChB8Z,GACA6D,GAAiB,qCAAqC,CACxD,EACA3d,EAAO,WAAW,IAAIia,GAAuC,CAC3DoD,GAAuB,KACvBA,GAAuB,GACzB,CAAC,EACDrd,EAAO,WAAW,IAChB+Z,GACA4D,GAAiB,qCAAqC,EAAE,MAC1D,EACA3d,EAAO,WAAW,IAAIoa,GAA2BkD,GAAyB,IAAI,EAC9Etd,EAAO,WAAW,IAAIqa,GAAoCgD,GAAuB,IAAI,EAC9Erd,CACT,CACA,YAAa,CACX,OAAOyd,EACT,CACF,EACIG,GAAoB,CACtB,KAAM,UACN,OAAQ,UACR,KAAM,UACN,OAAQ,UACR,cAAe,UACf,MAAO,UACP,UAAW,UACX,UAAW,UACX,eAAgB,UAChB,YAAa,SACf,EACIC,GAAsB,CACxB,KAAM,UACN,OAAQ,UACR,KAAM,UACN,OAAQ,UACR,cAAe,UACf,MAAO,UACP,UAAW,UACX,UAAW,UACX,eAAgB,UAChB,YAAa,SACf,EACIC,GAAW,CACb,MAAO,OAAO,OAAOF,EAAiB,EACtC,QAAS,OAAO,OAAOC,EAAmB,CAC5C,EACIE,GAAa,MAAMC,WAAoB9B,EAAU,CACnD,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAOla,EAAcD,EAAgB,CAAC,EAAG6b,EAAiB,EAAG,CAAE,IAAKA,GAAkB,MAAO,CAAC,EAC9F,QAAS5b,EAAcD,EAAgB,CAAC,EAAG8b,EAAmB,EAAG,CAAE,IAAKA,GAAoB,MAAO,CAAC,CACtG,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAkB,KACxB,OAAQC,GAAoB,KAC5B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAkB,OACxB,OAAQC,GAAoB,OAC5B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMD,GAAkB,KACxB,OAAQC,GAAoB,KAC5B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAM7d,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI2Z,GAAiBqE,GAAY,iBAAiB,CAAC,EACrEhe,EAAO,WAAW,IAChB4Z,GACAoE,GAAY,wCAAwC,CACtD,EACAhe,EAAO,WAAW,IAChB6Z,GACAmE,GAAY,wCAAwC,CACtD,EACAhe,EAAO,WAAW,IAChB8Z,GACAkE,GAAY,qCAAqC,CACnD,EACAhe,EAAO,WAAW,IAAIia,GAAuC,CAC3D2D,GAAkB,OAClBA,GAAkB,OAClBA,GAAkB,KACpB,CAAC,EACD5d,EAAO,WAAW,IAChB+Z,GACAiE,GAAY,qCAAqC,EAAE,MACrD,EACAhe,EAAO,WAAW,IAAIoa,GAA2ByD,GAAoB,IAAI,EACzE7d,EAAO,WAAW,IAAIqa,GAAoCuD,GAAkB,IAAI,EACzE5d,CACT,CACA,YAAa,CACX,OAAO8d,EACT,CACF,EACIG,GAAqB,CACvB,KAAM,UACN,OAAQ,UACR,KAAM,UACN,OAAQ,UACR,cAAe,UACf,MAAO,UACP,UAAW,UACX,UAAW,UACX,eAAgB,UAChB,YAAa,SACf,EACIC,GAAuB,CACzB,KAAM,UACN,OAAQ,UACR,KAAM,UACN,OAAQ,UACR,cAAe,UACf,MAAO,UACP,UAAW,UACX,UAAW,UACX,eAAgB,UAChB,YAAa,SACf,EACIC,GAAW,CACb,MAAO,OAAO,OAAOF,EAAkB,EACvC,QAAS,OAAO,OAAOC,EAAoB,CAC7C,EACIE,GAAc,MAAMC,WAAqBxC,EAAW,CACtD,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAO7Z,EAAcD,EAAgB,CAAC,EAAGkc,EAAkB,EAAG,CAAE,IAAKA,GAAmB,MAAO,CAAC,EAChG,QAASjc,EAAcD,EAAgB,CAAC,EAAGmc,EAAoB,EAAG,CAAE,IAAKA,GAAqB,MAAO,CAAC,CACxG,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAmB,KACzB,OAAQC,GAAqB,KAC7B,MAAO,CACL,MAAOhF,EACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAM+E,GAAmB,OACzB,OAAQC,GAAqB,OAC7B,MAAO,CACL,MAAOhF,EACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAM+E,GAAmB,KACzB,OAAQC,GAAqB,KAC7B,MAAO,CACL,MAAOhF,EACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMlZ,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI2Z,GAAiB0E,GAAa,iBAAiB,CAAC,EACtEre,EAAO,WAAW,IAChB4Z,GACAyE,GAAa,wCAAwC,CACvD,EACAre,EAAO,WAAW,IAChB6Z,GACAwE,GAAa,wCAAwC,CACvD,EACAre,EAAO,WAAW,IAChB8Z,GACAuE,GAAa,qCAAqC,CACpD,EACAre,EAAO,WAAW,IAAIia,GAAuC,CAC3DgE,GAAmB,OACnBA,GAAmB,OACnBA,GAAmB,KACrB,CAAC,EACDje,EAAO,WAAW,IAChB+Z,GACAsE,GAAa,qCAAqC,EAAE,MACtD,EACAre,EAAO,WAAW,IAAIoa,GAA2B8D,GAAqB,IAAI,EAC1Ele,EAAO,WAAW,IAAIqa,GAAoC4D,GAAmB,IAAI,EAC1Eje,CACT,CACA,YAAa,CACX,OAAOme,EACT,CACF,EACIG,GAAmB,CACrB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAqB,CACvB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAW,CACb,MAAO,OAAO,OAAOF,EAAgB,EACrC,QAAS,OAAO,OAAOC,EAAkB,CAC3C,EACIE,GAAY,MAAMC,WAAmBxC,EAAU,CACjD,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAOoC,GACP,QAASC,EACX,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAiB,KACvB,OAAQC,GAAmB,KAC3B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAiB,OACvB,OAAQC,GAAmB,OAC3B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMD,GAAiB,KACvB,OAAQC,GAAmB,KAC3B,MAAO,CACL,MAAO,OACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMve,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI2Z,GAAiB+E,GAAW,iBAAiB,CAAC,EACpE1e,EAAO,WAAW,IAChB4Z,GACA8E,GAAW,wCAAwC,CACrD,EACA1e,EAAO,WAAW,IAChB6Z,GACA6E,GAAW,wCAAwC,CACrD,EACA1e,EAAO,WAAW,IAAI8Z,GAAwC4E,GAAW,qCAAqC,CAAC,EAC/G1e,EAAO,WAAW,IAAIia,GAAuC,CAC3DqE,GAAiB,OACjBA,GAAiB,OACjBA,GAAiB,KACnB,CAAC,EACDte,EAAO,WAAW,IAChB+Z,GACA2E,GAAW,qCAAqC,EAAE,MACpD,EACA1e,EAAO,WAAW,IAAIoa,GAA2BmE,GAAmB,IAAI,EACxEve,EAAO,WAAW,IAAIqa,GAAoCiE,GAAiB,IAAI,EACxEte,CACT,CACA,YAAa,CACX,OAAOwe,EACT,CACF,EACIG,GAAc,CAChB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAgB,CAClB,KAAM,UACN,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,KAAM,UACN,QAAS,UACT,MAAO,UACP,IAAK,SACP,EACIC,GAAW,CACb,MAAO,OAAO,OAAOF,EAAW,EAChC,QAAS,OAAO,OAAOC,EAAa,CACtC,EACIE,GAAa,MAAMC,WAAoBlD,EAAW,CACpD,OAAO,kBAAmB,CACxB,MAAO,CACL,MAAO8C,GACP,QAASC,EACX,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMD,GAAY,KAClB,OAAQC,GAAc,KACtB,MAAO,CACL,MAAO1F,EACT,CACF,CACF,CACA,OAAO,yCAA0C,CAC/C,MAAO,CACL,KAAMyF,GAAY,OAClB,OAAQC,GAAc,OACtB,MAAO,CACL,MAAO1F,EACT,CACF,CACF,CACA,OAAO,sCAAuC,CAC5C,MAAO,CACL,KAAMyF,GAAY,KAClB,OAAQC,GAAc,KACtB,MAAO,CACL,MAAO1F,EACT,CACF,CACF,CACA,uBAAwB,CACtB,MAAMlZ,EAAS,MAAM,sBAAsB,EAC3C,OAAAA,EAAO,WAAW,IAAI2Z,GAAiBoF,GAAY,iBAAiB,CAAC,EACrE/e,EAAO,WAAW,IAChB4Z,GACAmF,GAAY,wCAAwC,CACtD,EACA/e,EAAO,WAAW,IAChB6Z,GACAkF,GAAY,wCAAwC,CACtD,EACA/e,EAAO,WAAW,IAChB8Z,GACAiF,GAAY,qCAAqC,CACnD,EACA/e,EAAO,WAAW,IAAIia,GAAuC,CAC3D0E,GAAY,OACZA,GAAY,OACZA,GAAY,KACd,CAAC,EACD3e,EAAO,WAAW,IAChB+Z,GACAgF,GAAY,qCAAqC,EAAE,MACrD,EACA/e,EAAO,WAAW,IAAIoa,GAA2BwE,GAAc,IAAI,EACnE5e,EAAO,WAAW,IAAIqa,GAAoCsE,GAAY,IAAI,EACnE3e,CACT,CACA,YAAa,CACX,OAAO6e,EACT,CACF,EACIG,GAAa,IAAM,IAAInD,GACvBoD,GAAY,IAAM,IAAI/C,GACtBgD,GAAc,CAChB,UAAWF,GACX,KAAMA,GACN,aAAcA,GACd,YAAa,IAAM,IAAIZ,GACvB,gBAAiB,IAAM,IAAIV,GAC3B,WAAY,IAAM,IAAIoB,GACtB,cAAe,IAAM,IAAIlC,EAC3B,EACIuC,GAAa,CACf,UAAWF,GACX,KAAMA,GACN,kBAAmBA,GACnB,iBAAkB,IAAM,IAAIlB,GAC5B,qBAAsB,IAAM,IAAIZ,GAChC,gBAAiB,IAAM,IAAIsB,GAC3B,mBAAoB,IAAM,IAAIlC,EAChC,EACI6C,GAASrd,EAAgBA,EAAgB,CAAC,EAAGod,EAAU,EAAGD,EAAW,EACzE,SAASG,GAAyBC,EAAe,CAC/C,GAAIA,IAAkB,KACpB,OAEF,IAAInL,EAAQ,GACZ,KAAM,CAAE,UAAAoL,EAAW,QAAStE,EAAW,UAAAD,CAAU,EAAIsE,EASrD,GARIC,IAAc,QAAU,OAAOA,GAAc,UAAY,OAAOA,GAAc,WAChFhZ,EAAO,KAAK,gCAAgC,OAAOgZ,CAAS,+BAA+B,EAC3FpL,EAAQ,IAEN6G,IAAc,QAAU,OAAOA,GAAc,WAC/CzU,EAAO,KAAK,gCAAgC,OAAOyU,CAAS,oBAAoB,EAChF7G,EAAQ,IAEN,OAAO8G,GAAc,UACvB,GAAIA,IAAc,KAAM,CACtB,KAAM,CAAE,MAAAuE,EAAO,QAAAC,CAAQ,EAAIxE,EACvBuE,IAAU,QAAU,CAAC,MAAM,QAAQA,CAAK,IAC1CjZ,EAAO,KAAK,qDAAqD,EACjE4N,EAAQ,IAENsL,IAAY,QAAU,CAAC,MAAM,QAAQA,CAAO,IAC9ClZ,EAAO,KAAK,uDAAuD,EACnE4N,EAAQ,GAEZ,OACS8G,IAAc,SACvB1U,EAAO,KAAK,8BAA8B,OAAO0U,CAAS,oBAAoB,EAC9E9G,EAAQ,IAEV,GAAIA,EACF,OAAOmL,CAEX,CACA,SAASI,GAAmBngB,EAAO,CACjC,GAAIA,IAAU,QAAU,OAAOA,GAAU,UAAYA,aAAiBsc,GACpE,OAAOtc,EAET,GAAI,OAAOA,GAAU,SACnB,OAAO8f,GAAyB9f,CAAK,EAEvCgH,EAAO,KAAK,4BAA4B,OAAOhH,CAAK,8BAA8B,CACpF,CACA,SAASogB,GAAcC,EAAkB,CACvC,IAAIrgB,EAAQmgB,GAAmBE,CAAgB,EAC/C,GAAIrgB,aAAiBsc,GACnB,OAAOtc,EAET,GAAIA,GAAS,MAAQ,OAAOA,GAAU,SAAU,CAC9C,MAAMsgB,EAAaT,GAAO7f,CAAK,EAC/B,OAAIsgB,EACKA,EAAW,GAEpBtZ,EAAO,SAAS,cAAchH,CAAK,2CAA2C,EACvEyf,GAAW,EACpB,CACA,MAAMhE,EAAY,CAAC,EACnB,IAAIC,EACJ,KAAO,OAAO1b,GAAU,UACtByb,EAAU,KAAKzb,EAAM,SAAS,EAC9B0b,IAAgCA,EAAY1b,EAAM,SAClDA,EAAQA,EAAM,UAEhB,MAAMugB,EAAiB,CACrB,UAAWvgB,EACX,UAAWgQ,GAAc,GAAGyL,CAAS,EACrC,QAASC,CACX,EACMsE,EAAYO,EAAe,UAAYH,GAAcG,EAAe,SAAS,EAAId,GAAW,EAClG,OAAO,IAAIO,EAAU,YAAYO,CAAc,CACjD,CACA,SAASC,GAAOC,EAAQ,CACtB,GAAIA,EAAO,SAAW,EACpB,OAEF,IAAIC,EAAM,IACNC,EAAM,KACV,QAAS,KAAKF,EACR,aAAa,OACf,EAAI,EAAE,QAAQ,GAEZ,OAAO,GAAM,WAGb,EAAIC,IACNA,EAAM,GAEJ,EAAIC,IACNA,EAAM,IAGV,MAAMlgB,EAAS,CAACigB,EAAKC,CAAG,EACxB,GAAIlgB,EAAO,MAAM,QAAQ,EACvB,OAAOA,CAEX,CACA,SAASmgB,GAAiBpZ,EAAGkZ,EAAKC,EAAK,CACrC,OAAOE,GAA6BrZ,EAAGkZ,EAAKC,CAAG,EAAE,MACnD,CACA,SAASE,GAA6BrZ,EAAGkZ,EAAKC,EAAK,CACjD,IAAI/Y,EACJ,IAAIkZ,EAAU,GACd,OAAItZ,EAAE,OAAS,IACbA,GAAKI,EAAK4Y,GAAOhZ,CAAC,IAAM,KAAOI,EAAK,CAAC,IAAK,GAAG,GAE1C,MAAM8Y,CAAG,IACZI,IAAYA,EAAUJ,EAAMlZ,EAAE,CAAC,GAC/BA,EAAI,CAACkZ,EAAKlZ,EAAE,CAAC,CAAC,GAEX,MAAMmZ,CAAG,IACZG,IAAYA,EAAUH,EAAMnZ,EAAE,CAAC,GAC/BA,EAAI,CAACA,EAAE,CAAC,EAAGmZ,CAAG,GAEZnZ,EAAE,CAAC,EAAIA,EAAE,CAAC,IACZA,EAAI,CAAC,GAEA,CAAE,OAAQA,EAAG,QAAAsZ,CAAQ,CAC9B,CACA,SAASC,GAAY7gB,EAAGC,EAAG,CACzB,GAAID,GAAK,MAAQC,GAAK,MAAQD,EAAE,SAAWC,EAAE,OAC3C,MAAO,GAET,QAAS,EAAI,EAAG,EAAID,EAAE,OAAQ,IAC5B,GAAI,MAAM,QAAQA,EAAE,CAAC,CAAC,GAAK,MAAM,QAAQC,EAAE,CAAC,CAAC,GAC3C,GAAI,CAAC4gB,GAAY7gB,EAAE,CAAC,EAAGC,EAAE,CAAC,CAAC,EACzB,MAAO,WAEAD,EAAE,CAAC,IAAMC,EAAE,CAAC,EACrB,MAAO,GAGX,MAAO,EACT,CACA,SAAS6gB,GAAQhhB,EAAO,CACtB,OAAI,OAAOA,EAAU,IACZ,CAAC,EAEH,MAAM,QAAQA,CAAK,EAAIA,EAAQ,CAACA,CAAK,CAC9C,CACA,SAASihB,GAAOlb,EAAO,CACrB,OAAO,MAAM,KAAK,IAAI,IAAIA,CAAK,CAAC,CAClC,CACA,SAASmb,GAAQnb,EAAOob,EAAU,CAChC,OAAOpb,EAAM,OAAO,CAACtF,EAAQ4P,IAAS,CACpC,IAAIzI,EACJ,MAAMwZ,EAAWD,EAAS9Q,CAAI,EAC9B,OAACzI,EAAKnH,EAAO2gB,CAAQ,IAAM,OAAY3gB,EAAO2gB,CAAQ,EAAI,CAAC,GAC3D3gB,EAAO2gB,CAAQ,EAAE,KAAK/Q,CAAI,EACnB5P,CACT,EAAG,CAAC,CAAC,CACP,CACA,SAAS4gB,GAAmBtK,EAAMuK,EAAMlZ,EAAU,EAAG,CACnD,GAAI2O,EAAK,SAAW,EAClB,MAAO,CAAC,EAEV,MAAMtW,EAAS,CAAC,EAChB,QAASC,EAAI,EAAGA,EAAI4gB,EAAM5gB,IACxBD,EAAO,KAAKsW,EAAK,IAAIrW,EAAI0H,GAAW2O,EAAK,MAAM,CAAC,EAElD,OAAOtW,CACT,CACA,SAAS8gB,GAAUC,EAAQzb,EAAO,CAChC,OAAOA,EAAM,OACX,CAAC,CAAC0b,EAAMC,CAAK,EAAG1hB,IAAUwhB,EAAOxhB,CAAK,EAAI,CAAC,CAAC,GAAGyhB,EAAMzhB,CAAK,EAAG0hB,CAAK,EAAI,CAACD,EAAM,CAAC,GAAGC,EAAO1hB,CAAK,CAAC,EAC9F,CAAC,CAAC,EAAG,CAAC,CAAC,CACT,CACF,CACA,SAAU2hB,GAAYC,EAAKC,EAAW,CACpC,UAAWpe,KAAKme,EACd,MAAMC,EAAUpe,CAAC,CAErB,CACA,SAASqe,GAAqB/b,EAAO/F,EAAO,CAE1C,OADgB+F,EACD,SAAS/F,CAAK,CAC/B,CACA,SAAS+hB,GAAgBC,EAAahiB,EAAO,CAC3C,OAAO8hB,GAAqBE,EAAahiB,CAAK,CAChD,CACA,SAASiiB,GAAiBD,EAAavB,EAAQ,CAC7C,MAAO,CAACA,EAAO,KAAMpf,GAAM,CAAC0gB,GAAgBC,EAAa3gB,CAAC,CAAC,CAC7D,CACA,IAAI6gB,GAAkB,CAAC,EACnBC,GAA8B,IAAI,QAClC,OAAO,OAAW,IACpBD,GAAgB,OAAS,OAChB,OAAO,OAAW,MAC3BA,GAAgB,OAAS,OAAO,QAE9B,OAAO,SAAa,IACtBA,GAAgB,SAAW,SAClB,OAAO,OAAW,MAC3BA,GAAgB,SAAW,OAAO,UAEpC,SAASE,GAAYC,EAAc,CACjC,IAAIza,EACJ,OAAOya,GAAgBza,EAAKsa,GAAgB,WAAa,KAAO,OAASta,EAAGya,CAAY,EAAIH,GAAgB,QAC9G,CACA,SAASI,GAAUD,EAAc,CAC/B,IAAIza,EACJ,OAAOya,GAAgBza,EAAKsa,GAAgB,SAAW,KAAO,OAASta,EAAGya,CAAY,EAAIH,GAAgB,MAC5G,CACA,SAASK,GAAcC,EAASlO,EAAWmO,EAAO,CAChD,MAAMC,EAAWN,GAAY,EAAE,cAAcI,CAAO,EACpD,OAAI,OAAOlO,GAAc,WACvBmO,EAAQnO,EACRA,EAAY,QAEVA,GACFoO,EAAS,UAAU,IAAIpO,CAAS,EAE9BmO,GACF,OAAO,OAAOC,EAAS,MAAOD,CAAK,EAE9BC,CACT,CACA,SAASC,GAAYC,EAASC,EAAU,CACtC,KAAM,CAAE,KAAAC,CAAK,EAAIV,GAAY,EACvBM,EAAWH,GAAc,IAAK,CAAE,QAAS,MAAO,CAAC,EACvDG,EAAS,KAAOE,EAChBF,EAAS,SAAWG,EACpBC,EAAK,YAAYJ,CAAQ,EACzBA,EAAS,MAAM,EACf,WAAW,IAAMI,EAAK,YAAYJ,CAAQ,CAAC,CAC7C,CACA,SAASK,GAAYC,EAAUC,EAAU,CACvC,IAAIrb,EAAIiL,EACR,MAAMqQ,EAAYd,GAAY,EAC9B,GAAIa,KAAcrb,EAAKua,GAAY,IAAIe,CAAS,IAAM,MAAgBtb,EAAG,IAAIqb,CAAQ,GACnF,OACF,MAAME,EAAeZ,GAAc,OAAO,EAC1CY,EAAa,UAAYH,EACzBE,EAAU,KAAK,aAAaC,EAAcD,EAAU,KAAK,cAAc,OAAO,CAAC,EAC3ED,GAAY,CAACd,GAAY,IAAIe,CAAS,EACxCf,GAAY,IAAIe,EAA2B,IAAI,IAAI,CAACD,CAAQ,CAAC,CAAC,EACrDA,KACRpQ,EAAKsP,GAAY,IAAIe,CAAS,IAAM,MAAgBrQ,EAAG,IAAIoQ,CAAQ,EAExE,CACA,SAASG,GAAYF,EAAW,CAC9BhB,GAAgB,SAAWgB,CAC7B,CACA,SAASG,GAAUC,EAAS,CAC1BpB,GAAgB,OAASoB,CAC3B,CACA,IAAIC,GAA6B,IAC7BC,GAAgB,KAAK,IAAI,EACzBC,GAAa,IAAM,CACrB,MAAMC,EAAmB,KAAK,IAAI,EAAIF,GACtC,GAAIE,EAAmBH,GAA4B,CACjD,MAAMI,GAAkB,KAAK,MAAMD,EAAmB,GAAG,EAAI,IAAI,QAAQ,CAAC,EAC1E1c,EAAO,IAAI,QAAQ2c,CAAc,+BAA+B,CAClE,CACAH,GAAgB,KAAK,IAAI,CAC3B,EACII,GAAQ,CACV,UAAUC,EAAgB,CAUxB,OAAO,OAAO,OATG,IAAI5c,IAAe,CAC9B2c,GAAM,MAAM,GAAGC,CAAc,IAC3B,OAAO5c,EAAW,CAAC,GAAM,aAC3BA,EAAa+Z,GAAQ/Z,EAAW,CAAC,EAAE,CAAC,GAEtCwc,GAAW,EACXzc,EAAO,IAAI,GAAGC,CAAU,EAE5B,EAC+B,CAAE,MAAO,IAAM2c,GAAM,MAAM,GAAGC,CAAc,CAAE,CAAC,CAChF,EACA,SAASA,EAAgB,CACvB,OAAIA,EAAe,SAAW,GAC5BA,EAAe,KAAK,EAAI,EAEP7C,GAAQsB,GAAU,eAAe,CAAC,EACnC,KAAMwB,GAAaD,EAAe,SAASC,CAAQ,CAAC,CACxE,CACF,EACIC,GAAiC,IAAI,IAAI,CAAC,uBAAwB,qBAAqB,CAAC,EACxFC,GAAe,KAAM,CACvB,YAAYC,EAAaC,EAAkB,CACzC,IAAIrR,EAAIC,EAAIU,EACZ,MAAM2Q,EAAe,CAAE,QAAS,CAAC,MAAM,CAAE,EACnC/d,EAAUiP,GAAU4O,EAAaE,CAAY,EAC7C1S,EAAa,KAAK,YAAYrL,CAAO,EAC3C,KAAK,sBAAsBA,CAAO,EAClC,KAAK,YAAcA,EACnB,KAAK,YAAcga,GAAcha,EAAQ,KAAK,EAC9C,KAAK,YAAc,KAAK,eAAeA,CAAO,EAC9C,KAAK,iBAAmB,KAAK,yBAAyB5D,EAAgB,CAAC,EAAG0hB,CAAgB,CAAC,EAC3F,MAAMtc,EAAK,KAAK,qBAAqB6J,CAAU,EAAG,CAChD,KAAM2S,EAAa,CAAC,EACpB,YAAaC,EAAoB,CAAC,EAClC,OAAQC,CACV,EAAI1c,EAAI2c,EAAgB7hB,GAAUkF,EAAI,CACpC,OACA,cACA,QACF,CAAC,EACD,KAAK,iBAAmByN,GACtBrF,GAAc,KAAK,YAAauU,EAAe,KAAK,WAAW,EAC/DJ,CACF,EACA,KAAK,mBAAmB,KAAK,iBAAkBC,CAAU,EACzD,KAAK,qBAAqB,KAAK,gBAAgB,EAC/C,KAAK,8BAA8B,KAAK,gBAAgB,EACxD,KAAK,0BAA0B,KAAK,iBAAkBC,CAAiB,GAClEtR,GAA0B,KAAK,gBAAgB,GAAKK,GAA2C,KAAK,gBAAgB,MAAQP,EAAK,KAAK,iBAAiB,SAAW,KAAO,OAASA,EAAG,UAAY,QACnMW,GAAMV,EAAK,KAAK,kBAAkB,SAAW,OAAYA,EAAG,OAAS,CAAC,GACvE,KAAK,iBAAiB,OAAO,QAAU,KAAK,iBAAiB,OAAO,OAAS,GAE/E,KAAK,wBAAwB,KAAK,gBAAgB,EAC7CnH,GAAiB,cACpB4H,GAA4B,KAAK,gBAAgB,CAErD,CACA,YAAa,CACX,IAAI3L,EACJ,OAAQA,EAAK,KAAK,mBAAqB,KAAOA,EAAK,CAAC,CACtD,CACA,YAAYxB,EAAS,CACnB,OAAO6O,GAAS7O,EAAS,KAAK,gBAAgB,CAChD,CACA,qBAAqBkL,EAAY,CAC/B,IAAI1J,EAAIiL,EACR,OAAOwC,IAAWxC,GAAMjL,EAAK,KAAK,cAAgB,KAAO,OAASA,EAAG,OAAO0J,CAAU,IAAM,KAAOuB,EAAK,CAAC,CAAC,CAC5G,CACA,eAAezM,EAAS,CACtB,MAAMoe,EAAe,KAAK,YAAYpe,CAAO,EACvCqe,EAAe1M,GAAe,iBAAiByM,CAAY,EACjE,OAAIzM,GAAe,wBAAwB3R,CAAO,GAChD,KAAK,iBAAiBqe,CAAY,EAE7BA,CACT,CACA,YAAYre,EAAS,CACnB,IAAIwB,EAAIiL,EAAIC,EACZ,OAAQA,GAAMD,GAAMjL,EAAKxB,EAAQ,SAAW,KAAO,OAASwB,EAAG,CAAC,IAAM,KAAO,OAASiL,EAAG,OAAS,KAAOC,EAAK,MAChH,CACA,sBAAsB1M,EAAS,CAC7B,IAAIwB,EACJ,KAAK,oBAAoBxB,CAAO,EAChC,KAAK,kBAAkBA,CAAO,EAC9B,KAAK,oBAAoBA,CAAO,EAChC,KAAK,oBAAoBA,CAAO,EAChC,KAAK,sBAAsBA,CAAO,EAClC,KAAK,sBAAsBA,CAAO,GAC5BwB,EAAKxB,EAAQ,SAAW,MAAgBwB,EAAG,KAAMO,GAAMA,EAAE,OAAS,QAAQ,GAAM/B,EAAQ,MAAQ,MAAQA,EAAQ,KAAK,UAAY,KACrIY,EAAO,SAAS,4DAA4D,EAC5E,OAAOZ,EAAQ,KAEnB,CACA,iBAAiBA,EAAS,CACxB,IAAIwB,EACJ,GAAImL,GAA0B3M,CAAO,EAAG,CACtC,KAAM,CAACse,EAAOC,CAAK,GAAK/c,EAAKxB,EAAQ,OAAS,KAAOwB,EAAK,CAAC,EAC3DxB,EAAQ,KAAO,CACb3D,EAAcD,EAAgB,CAAC,EAAGkiB,CAAK,EAAG,CAAE,SAAUC,EAAM,QAAS,CAAC,EACtEliB,EAAcD,EAAgB,CAAC,EAAGmiB,CAAK,EAAG,CAAE,SAAUD,EAAM,QAAS,CAAC,CACxE,CACF,CACF,CACA,mBAAmBte,EAASge,EAAY,CAChC,SAAUhe,IAEhBA,EAAQ,KAAOA,EAAQ,KAAK,IAAK4N,GAAS,CACxC,IAAIpM,EAAIkL,EAAIU,EACZ,MAAMX,EAAK7C,IACRpI,EAAKwc,EAAWpQ,EAAK,IAAI,IAAM,KAAO,OAASpM,EAAGoM,EAAK,QAAQ,EAChEoQ,EAAWpQ,EAAK,IAAI,CACtB,EAAG,CAAE,WAAY4Q,CAAgB,EAAI/R,EAAIgS,EAAYniB,GAAUmQ,EAAI,CAAC,YAAY,CAAC,EAC7EmB,EAAK,aACPA,EAAK,WAAa9D,GAAmB8D,EAAK,WAAY4Q,CAAe,GAEvE,MAAME,GAAiBhS,EAAK+R,EAAU,WAAa,KAAO,OAAS/R,EAAG,OAChEU,EAAKQ,EAAK,WAAa,MAAgBR,EAAG,OAA4CsR,GAAc,SACxG9Q,EAAK,SAAS,MAAQA,EAAK,SAAS,MAAM,IACxC,CAACyO,EAAOtW,IAAUsW,EAAM,QAAU,MAAQA,EAAM,UAAY,KAAOzS,GAAcyS,EAAOqC,EAAc,GAAG3Y,EAAQ2Y,EAAc,MAAM,CAAC,EAAIrC,CAC5I,GAEF,MAAMsC,EAAK/U,GAAcgE,EAAM6Q,CAAS,EAAG,CAAE,IAAKG,EAAI,MAAOC,EAAI,OAAQC,EAAI,KAAMC,CAAG,EAAIJ,EAC1F,OAD4GriB,GAAUqiB,EAAI,CAAC,MAAO,QAAS,SAAU,MAAM,CAAC,CAE9J,CAAC,EACH,CACA,qBAAqB3e,EAAS,CAC5B,MAAMgf,EAAoB,KAAK,qBAAqBhf,CAAO,EACrDif,EAAyB,KAAK,2BAA2Bjf,CAAO,EAChEkf,EAAc,GAAQrW,GAAS7I,EAAQ,KAAK,GAAKA,EAAQ,MAAM,SAC/Dmf,EAAiB,CACrB,YAAa,EACb,YAAAD,CACF,EACME,EAAkBpf,EAAQ,OAAO,IAAK6N,GAAW,CACrD,IAAIrM,EAAIiL,GACPjL,EAAKqM,EAAO,OAAS,OAAYA,EAAO,KAAOmR,GAChD,MAAMtS,GAAMD,EAAK,KAAK,qBAAqBoB,EAAO,IAAI,EAAE,SAAW,KAAOpB,EAAK,CAAC,EAAG,CAAE,YAAa4S,CAAiB,EAAI3S,EAAI4S,EAAchjB,GAAUoQ,EAAI,CAAC,aAAa,CAAC,EAChK6S,EAAuB5B,GAAe,IAAI9P,EAAO,IAAI,EAAI,CAAE,YAAa,EAAG,YAAAqR,CAAY,EAAIC,EAC3F7J,EAAY,KAAK,iBAAiBzH,EAAO,KAAM0R,CAAoB,EACnEC,EAAgB5V,GACpB,KAAK,yBAAyBiE,CAAM,EACpCA,EACAoR,EACAK,EACAhK,CACF,EACA,OAAIkK,EAAc,cAChBA,EAAc,YAAc1V,GAAmB0V,EAAc,YAAaH,CAAgB,GAErF,KAAK,YAAY,cAAcG,CAAa,CACrD,CAAC,EACDxf,EAAQ,OAAS,KAAK,yBAAyBof,CAAe,CAChE,CACA,8BAA8Bpf,EAAS,CACrC,IAAIwB,EAAIiL,EACR,IAAIgT,GAAmBhT,GAAMjL,EAAKxB,EAAQ,YAAc,KAAO,OAASwB,EAAG,YAAc,KAAO,OAASiL,EAAG,OAC5G,GAAIgT,GAAmB,KACrB,OACF,MAAMN,EAAiB,CACrB,YAAa,EACb,YAAa,GAAQtW,GAAS7I,EAAQ,KAAK,GAAKA,EAAQ,MAAM,QAChE,EACAyf,EAAkBA,EAAgB,IAAK5R,GAAW,CAChD,IAAI6R,EAAKC,GACRD,EAAM7R,EAAO,OAAS,OAAaA,EAAO,KAAO,QAClD,MAAMnB,GAAMiT,EAAM,KAAK,qBAAqB9R,EAAO,IAAI,EAAE,SAAW,KAAO8R,EAAM,CAAC,EAAG,CAAE,YAAazB,CAAE,EAAIxR,EAAI4S,EAAchjB,GAAUoQ,EAAI,CAAC,aAAa,CAAC,EACnJ8S,EAAgB5V,GACpB,KAAK,yBAAyBiE,CAAM,EACpCA,EACAyR,EACA,KAAK,iBAAiBzR,EAAO,KAAMsR,CAAc,CACnD,EACA,OAAO,KAAK,YAAY,cAAcK,CAAa,CACrD,CAAC,EACDxf,EAAQ,UAAU,UAAU,OAAS,KAAK,yBAAyByf,CAAe,CACpF,CACA,0BAA0Bzf,EAAS4f,EAAoB,CAChDjT,GAA0B3M,CAAO,CAExC,CACA,iBAAiBkL,EAAYlL,EAAS,CACpC,MAAMiR,EAAiBU,GAAe,kBAAkBzG,CAAU,EAC5D,CAAE,YAAa2U,EAAc,YAAAX,CAAY,EAAIlf,EAC7C,CAAE,MAAA6Z,EAAQ,CAAC,EAAG,QAAAC,EAAU,CAAC,CAAE,EAAI,KAAK,YAAY,QACtD,OAAyC7I,IAAe,CACtD,YAAAiO,EACA,YAAa,KAAK,IAAIrF,EAAM,OAAQC,EAAQ,MAAM,EAClD,wBAAyB,KAAK,YAAY,sBAAsB,EAChE,WAAWgG,EAAO,CAChB,OAAA9f,EAAQ,aAAe8f,EAChB,CACL,MAAO7E,GAAmBpB,EAAOiG,EAAOD,CAAY,EACpD,QAAS5E,GAAmBnB,EAASgG,EAAOD,CAAY,CAC1D,CACF,CACF,CAAC,CACH,CACA,yBAAyBhS,EAAQ,CAC/B,MAAMuD,EAAYO,GAAe,YAAY9D,EAAO,IAAI,EAClDsD,EAAYQ,GAAe,YAAY9D,EAAO,IAAI,EAClDwD,EAAmBM,GAAe,mBAAmB9D,EAAO,IAAI,EAClEA,EAAO,SAAW,CAACuD,GACrBxQ,EAAO,SAAS,wCAAwCiN,EAAO,IAAI,IAAI,GAEpEA,EAAO,SAAWA,EAAO,aAAe,CAACsD,GAC5CvQ,EAAO,SAAS,wCAAwCiN,EAAO,IAAI,IAAI,EAEzE,GAAI,CAAE,QAAAkS,EAAS,QAAAC,CAAQ,EAAInS,EAC3B,OAAAmS,IAA4BA,GAAW3O,GAAoBxD,EAAO,YAAc,OAAS,EAAEuD,GAAa2O,IACxGA,IAA4BA,EAAU,IAC/B,CACL,QAAS5O,GAAa6O,EACtB,QAAS5O,GAAa2O,GAAW,EAAE5O,GAAa6O,EAClD,CACF,CACA,yBAAyBC,EAAW,CAClC,MAAMC,EAAe,KAAK,kBAAkBD,CAAS,EACrDzC,GAAM,OAAO,GAAM,MAAM,EAAE,iDAAkD0C,CAAY,EACzF,MAAMC,EAAW,CAAC,EACZC,EAAcF,EAAa,OAAO,CAACG,EAAUC,IAAgB,CACjE,IAAI9e,EAAIiL,EACR,OAAI6T,EAAY,YAAc,aAG7B7T,EAAK4T,EAAS7e,EAAK8e,EAAY,UAAU,IAAM,OAAYD,EAAS7e,CAAE,EAAI,GAC3E6e,EAASC,EAAY,UAAU,GAAKA,EAAY,YAAc,QAAU,EAAIA,EAAY,OAAO,QACxFD,CACT,EAAG,CAAC,CAAC,EACL,OAAOH,EAAa,QAASI,GAAgB,CAC3C,IAAI9e,EAAIiL,EAER,QADCA,EAAK0T,EAAS3e,EAAK8e,EAAY,UAAU,IAAM,OAAYH,EAAS3e,CAAE,EAAI,GACnE8e,EAAY,UAAW,CAC7B,IAAK,QACH,MAAMC,EAAaJ,EAASG,EAAY,UAAU,IAClD,OAAOA,EAAY,OAAO,IACxB,CAACzS,EAAQ2S,IAAe,OAAO,OAAO3S,EAAQ,CAC5C,eAAgB,CACd,WAAA0S,EACA,WAAYH,EAAYE,EAAY,UAAU,EAC9C,WAAAE,EACA,WAAYF,EAAY,OAAO,MACjC,CACF,CAAC,CACH,EACF,IAAK,QACH,OAAOA,EAAY,OAAO,IACvBzS,GAAW,OAAO,OAAOA,EAAQ,CAChC,eAAgB,CACd,WAAYsS,EAASG,EAAY,UAAU,IAC3C,WAAYF,EAAYE,EAAY,UAAU,EAC9C,WAAY,EACZ,WAAY,CACd,CACF,CAAC,CACH,CACJ,CACA,OAAOA,EAAY,MACrB,CAAC,EAAE,IAAK9e,GAAO,CACb,IAAIiL,EAAKjL,EAAI,CAAE,QAAS0c,EAAG,QAASuC,CAAG,EAAIhU,EAAI+S,EAAgBljB,GAAUmQ,EAAI,CAAC,UAAW,SAAS,CAAC,EACnG,OAAO+S,CACT,CAAC,CACH,CACA,iBAAiB3R,EAAQ,CACvB,IAAIrM,EACJ,MAAO,CAACqM,EAAO,KAAMA,EAAO,KAAMA,EAAO,SAAWrM,EAAKqM,EAAO,aAAe,KAAOrM,EAAK,UAAY,SAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,CAC5I,CACA,kBAAkBye,EAAW,CAC3B,MAAMS,EAA2B,IAAI,IACrC,OAAOT,EAAU,OAAO,CAAC5lB,EAAQwT,IAAW,CAC1C,MAAM3C,EAAa2C,EAAO,KAC1B,GAAI,CAACA,EAAO,SAAW,CAACA,EAAO,QAC7BxT,EAAO,KAAK,CAAE,UAAW,UAAW,WAAA6Q,EAAY,OAAQ,CAAC2C,CAAM,CAAE,CAAC,MAC7D,CACL,MAAM8S,EAAU,KAAK,iBAAiB9S,CAAM,EAC5C,GAAI,CAAC6S,EAAS,IAAIC,CAAO,EAAG,CAE1B,MAAM5O,EAAS,CAAE,UADClE,EAAO,QAAU,QAAU,QACjB,WAAA3C,EAAY,OAAQ,CAAC,CAAE,EACnDwV,EAAS,IAAIC,EAAS5O,CAAM,EAC5B1X,EAAO,KAAK0X,CAAM,CACpB,CACA2O,EAAS,IAAIC,CAAO,EAAE,OAAO,KAAK9S,CAAM,CAC1C,CACA,OAAOxT,CACT,EAAG,CAAC,CAAC,CACP,CACA,qBAAqB2F,EAAS,CAC5B,GAAI2M,GAA0B3M,CAAO,EACnC,MAAO,OACF,GAAI6M,GAAsB7M,CAAO,EACtC,MAAO,MACF,GAAI8M,GAA0B9M,CAAO,EAC1C,MAAO,UACF,GAAI+M,GAAyB/M,CAAO,EACzC,MAAO,YAET,MAAM,IAAI,MAAM,sCAAsC,CACxD,CACA,2BAA2BA,EAAS,CAClC,IAAIwB,EACJ,MAAMof,GAAYpf,EAAKxB,EAAQ,UAAY,KAAO,OAASwB,EAAG,SAC9D,GAAI,CAACuH,GAAc6X,CAAQ,EACzB,OAEF,KAAM,CAAE,KAAAhV,EAAM,QAAAiV,EAAS,QAAAC,CAAQ,EAAIF,EAC7BvmB,EAAS,CAAC,EAChB,OAAI2O,GAAS4C,CAAI,GAAKrC,GAAY5L,GAAuBiO,CAAI,IAC3DvR,EAAO,KAAOuR,GAEZ1C,GAAe2X,CAAO,IACxBxmB,EAAO,QAAUwmB,GAEf3X,GAAe4X,CAAO,IACxBzmB,EAAO,QAAUymB,GAEZ,CAAE,QAAS,CAAE,SAAUzmB,CAAO,CAAE,CACzC,CACA,oBAAoB2F,EAAS,CAE3B,OAAO,QADsB,CAAE,MAAO,OAAQ,OAAQ,OAAQ,CAC3B,EAAE,QAAQ,CAAC,CAAC+gB,EAASC,CAAO,IAAM,CACnE,IAAIxf,GACCA,EAAKxB,EAAQ,SAAW,MAAgBwB,EAAG,KAAMO,GAAMA,EAAEgf,CAAO,GAAK,IAAI,GAC5EngB,EAAO,SACL,oBAAoBmgB,CAAO,uCAAuCC,CAAO,gCAC3E,CAEJ,CAAC,CACH,CACA,kBAAkBhhB,EAAS,CACzB,IAAIwB,EACJ,GAAI,SAAUxB,EAAS,CACrB,MAAM8V,GAAQtU,EAAKxB,EAAQ,OAAS,KAAOwB,EAAK,CAAC,EACjD,SAAW,CAAE,KAAAoK,CAAK,IAAKkK,EACrB,GAAI,CAAC5I,GAAiBtB,CAAI,EAAG,CAC3B,OAAO5L,EAAQ,KACf,MAAMihB,EAAgB,MAAM,KAAKxa,GAAa,WAAW,CAAC,EAAE,KAAK,IAAI,EACrE7F,EAAO,SAAS,sBAAsBgL,CAAI,sBAAsBqV,CAAa,EAAE,CACjF,CAEJ,CACF,CACA,oBAAoBjhB,EAAS,CAC3B,IAAIwB,EACJ,MAAMqM,GAAUrM,EAAKxB,EAAQ,SAAW,KAAOwB,EAAK,CAAC,EACrDxB,EAAQ,OAAS6N,EAAO,OAAO,CAAC,CAAE,KAAAjC,CAAK,IAAM,CAC3C,GAAIA,GAAQ,MAAQqB,GAAmBrB,CAAI,GAAKD,GAAuBC,CAAI,EACzE,MAAO,GAEThL,EAAO,SACL,wBAAwBgL,CAAI,sBAAsBJ,GAAiB,YAAY,KAAK,IAAI,CAAC,EAC3F,CACF,CAAC,CACH,CACA,oBAAoBxL,EAAS,CAC3B,MAAMigB,EAAYjgB,EAAQ,OAC1B,GAAIigB,GAAaA,EAAU,OAAS,GAAKA,EAAU,KAAMpS,GAAW8D,GAAe,OAAO9D,EAAO,IAAI,CAAC,EAAG,CACvG,MAAMqT,EAAiB,KAAK,YAAYlhB,CAAO,EAC/C,GAAI2R,GAAe,OAAOuP,CAAc,EACtCtgB,EAAO,KACL,sBAAsBsgB,CAAc,sEACtC,EACAlhB,EAAQ,OAASigB,EAAU,MAAM,EAAG,CAAC,MAChC,CACL,KAAM,CAAE,KAAA/O,EAAM,QAAAiQ,CAAQ,EAAIrG,GACxBmF,EACCle,GAAM4P,GAAe,OAAO5P,EAAE,IAAI,EAAI,OAAS,SAClD,EACMqf,EAAUvG,GAAO3J,EAAK,IAAKnP,GAAMA,EAAE,IAAI,CAAC,EAAE,KAAK,IAAI,EACzDnB,EAAO,KAAK,+DAA+DwgB,CAAO,EAAE,EACpFphB,EAAQ,OAASmhB,CACnB,CACF,CACF,CACA,wBAAwBnhB,EAAS,CAC/BmP,GACE,KAAK,YACL,CAACkS,EAAkBC,IAAuB,CACpCA,GAAsB,YAAaA,GAAsB,CAACA,EAAmB,mBAAqBD,EAAiB,SAAW,OAChIC,EAAmB,QAAU,GAEjC,EACA,CAAE,KAAM,CAAC,OAAQ,OAAO,CAAE,EAC1BthB,CACF,EACAmP,GACEnP,EACCshB,GAAuB,CAClBA,EAAmB,mBAAqB,MAC1C,OAAOA,EAAmB,iBAE9B,EACA,CAAE,KAAM,CAAC,OAAQ,OAAO,CAAE,CAC5B,CACF,CACA,sBAAsBthB,EAAS,CAC7BmP,GACEnP,EACCuhB,GAAgB,CACX,YAAaA,GAAeA,EAAY,UAAY,IACtD,OAAO,KAAKA,CAAW,EAAE,QAAS5nB,GAAQ,CACpCA,IAAQ,WAEZ,OAAO4nB,EAAY5nB,CAAG,CACxB,CAAC,CAEL,EACA,CAAE,KAAM,CAAC,OAAQ,OAAO,CAAE,CAC5B,CACF,CACA,sBAAsBqG,EAAS,CAC7BmP,GACEnP,EACCuhB,GAAgB,CACf,GAAI,GAACA,GAAe,CAAC1Y,GAAS0Y,CAAW,GAEzC,SAAW,CAAC5nB,EAAKC,CAAK,IAAK,OAAO,QAAQ2nB,CAAW,EAC/C9X,GAAS7P,CAAK,GAChB,OAAO2nB,EAAY5nB,CAAG,CAG5B,EACA,CAAE,KAAM,CAAC,MAAM,CAAE,CACnB,CACF,CACA,yBAAyBqG,EAAS,CAehC,GAdIA,EAAQ,QAAU,KACpBid,GAAUjd,EAAQ,MAAM,EACf,OAAO,OAAW,IAC3BA,EAAQ,OAAS,OACR,OAAO,OAAW,MAC3BA,EAAQ,OAAS,OAAO,QAEtBA,EAAQ,UAAY,KACtBgd,GAAYhd,EAAQ,QAAQ,EACnB,OAAO,SAAa,IAC7BA,EAAQ,SAAW,SACV,OAAO,OAAW,MAC3BA,EAAQ,SAAW,OAAO,UAExBA,EAAQ,QAAU,KACpB,MAAM,IAAI,MAAM,6CAA6C,EAE/D,GAAIA,EAAQ,UAAY,KACtB,MAAM,IAAI,MAAM,+CAA+C,EAEjE,OAAOA,CACT,CACF,EACA,SAASwhB,IAA2B,CAClC,MAAO,CAAC7nB,EAAKmH,IAAY,CACvB,MAAM2gB,EAAM,CAAC,aAAa9nB,CAAG,mBAAoBmH,CAAO,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,EAClFF,EAAO,SAAS6gB,CAAG,CACrB,CACF,CACA,SAASC,GAAW5gB,EAASwO,EAAM,CACjC,MAAMqS,EAAiBH,GAAyB,EAC1CI,EAA8BtS,GAAK,QACzC,OAAO7H,GAA+B,CAACyW,EAAGvkB,EAAKC,KACzCA,IAAUgoB,GACZD,EAAehoB,EAAI,SAAS,EAAGmH,CAAO,EAEjClH,EACR,CACH,CACA,SAASioB,GAAuBC,EAAaC,EAAU,CACrD,MAAMJ,EAAiBH,GAAyB,EAChD,OAAO/Z,GACL,CAACtN,EAAQR,EAAKC,KACRA,IAAUO,EAAO2nB,CAAW,IAC9BH,EAAehoB,EAAI,SAAS,EAAG,QAAQmoB,CAAW,YAAY,EAC9DpX,GAAQvQ,EAAQ2nB,EAAaC,EAAWA,EAASnoB,CAAK,EAAIA,CAAK,GAE1D8M,IAET,CAACvM,EAAQR,KACPgoB,EAAehoB,EAAI,SAAS,EAAG,QAAQmoB,CAAW,YAAY,EACvDvX,GAAQpQ,EAAQ2nB,CAAW,EAEtC,CACF,CACA,IAAIE,GAAuB,CAAC,EAC5BvlB,GAASulB,GAAsB,CAC7B,mCAAoC,IAAMC,GAC1C,aAAc,IAAMC,GACpB,mBAAoB,IAAMC,EAC5B,CAAC,EACD,IAAIC,GAAyB,IAAI,IACjC,SAASC,IAAW,CAClBD,GAAO,MAAM,CACf,CACA,SAASE,GAASC,EAAU,CAC1B,IAAI/gB,EACJ,MAAMghB,EAAcD,EAAS,YACvBrU,EAAY,OAAO,OAAOsU,EAAa,WAAW,EAAIA,EAAY,UAAYA,EAAY,KAChG,GAAI,CAACtU,EACH,MAAM,IAAI,MAAM,OAAOsU,CAAW,uCAAuC,EAE3E,MAAMC,IAAWjhB,EAAK4gB,GAAO,IAAIlU,CAAS,IAAM,KAAO1M,EAAK,GAAK,EACjE,OAAA4gB,GAAO,IAAIlU,EAAWuU,CAAM,EACrB,GAAGvU,CAAS,IAAIuU,CAAM,EAC/B,CACA,IAAIC,GAAc,eACdC,GAAmB3nB,GAAMA,EAAE0nB,EAAW,GAAK,KAC/C,SAASE,GAAMtI,EAAK1gB,EAAO2gB,EAAK,CAC9B,OAAO,KAAK,IAAIA,EAAK,KAAK,IAAID,EAAK1gB,CAAK,CAAC,CAC3C,CACA,SAASipB,GAAWjpB,EAAO+F,EAAO,CAChC,KAAM,CAAC2a,EAAKC,CAAG,EAAIuI,GAAWnjB,CAAK,EACnC,OAAOijB,GAAMtI,EAAK1gB,EAAO2gB,CAAG,CAC9B,CACA,SAASuI,GAAWnjB,EAAO,CACzB,OAAOA,EAAM,OAAS,CAAC,KAAK,IAAI,GAAGA,CAAK,EAAG,KAAK,IAAI,GAAGA,CAAK,CAAC,EAAI,CAAC,CACpE,CACA,SAASojB,GAAgBpjB,EAAO,CAC9B,KAAM,CAAC2a,EAAKC,CAAG,EAAIuI,GAAWnjB,CAAK,EACnC,OAAO4a,EAAMD,CACf,CACA,SAAS0I,GAAQlpB,EAAGC,EAAGkpB,EAAW,MAAO,CACvC,OAAO,KAAK,IAAInpB,EAAIC,CAAC,EAAIkpB,CAC3B,CACA,SAASC,GAAWtpB,EAAO,CACzB,OAAO,KAAK,KAAKA,CAAK,IAAM,IAAM,OAAO,GAAGA,EAAO,EAAE,CACvD,CACA,SAASupB,GAAMvpB,EAAOwpB,EAAW,EAAG,CAClC,MAAMC,EAAOnnB,EAAM,GAAIknB,CAAQ,EAC/B,OAAO,KAAK,MAAMxpB,EAAQypB,CAAI,EAAIA,CACpC,CACA,SAASC,GAAQ1pB,EAAO2pB,EAA8B,EAAG,CACvD,MAAMC,EAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI5pB,CAAK,CAAC,EAAI,KAAK,IAAI,EAC9D,OAAI4pB,GAAS,GAAK,CAAC,SAASA,CAAK,EACxB5pB,EAAM,QAAQ2pB,CAA2B,EAE3C3pB,EAAM,QAAQ,KAAK,IAAI4pB,CAAK,EAAI,EAAID,CAA2B,CACxE,CACA,SAASE,GAAIC,EAAG1d,EAAG,CACjB,OAAO,KAAK,MAAM0d,EAAI1d,GAAK0d,EAAI,EAAI1d,EAAI,EAAE,CAC3C,CACA,SAAS2d,GAAoB/pB,EAAOgqB,EAAwB,GAAI,CAC9D,KAAM,CAAC,CAAEC,EAAU,EAAE,GAAK,KAAK,IAAIjqB,CAAK,EAAI,GAAG,eAAe,QAAS,CAAE,sBAAuB,EAAG,sBAAAgqB,CAAsB,CAAC,EAAE,MAAM,GAAG,EACrI,OAAOC,EAAQ,MACjB,CACA,SAASC,GAAe9oB,EAAG+oB,EAAGC,EAASC,EAAqB,IAAU,CACpE,MAAM5pB,EAAS,CAAE,QAAS,OAAQ,gBAAiB4pB,CAAmB,EACtE,UAAWvqB,KAAOsqB,EAAS,CACzB,MAAME,EAAexqB,EAAI,gBAAgBsB,EAAG+oB,CAAC,EAC7C,GAAIG,IAAiB,EACnB,MAAO,CAAE,QAASxqB,EAAK,gBAAiB,CAAE,EACjCwqB,EAAe7pB,EAAO,kBAC/BA,EAAO,QAAUX,EACjBW,EAAO,gBAAkB6pB,EAE7B,CACA,OAAO7pB,CACT,CACA,SAAS8pB,GAA0BnpB,EAAG+oB,EAAGK,EAAWH,EAAqB,IAAU,CACjF,KAAM,CAAE,EAAGI,EAAI,EAAGC,CAAG,EAAIF,EAAU,eAAeppB,EAAG+oB,CAAC,EAChD1pB,EAAS,CAAE,QAAS,OAAQ,gBAAiB4pB,CAAmB,EACtE,UAAWM,KAASH,EAAU,SAAU,CACtC,KAAM,CAAE,QAAAI,EAAS,gBAAiBC,CAAiB,EAAIF,EAAM,eAAeF,EAAIC,EAAIjqB,EAAO,eAAe,EAC1G,GAAIoqB,IAAqB,EACvB,MAAO,CAAE,QAAAD,EAAS,gBAAiBC,CAAiB,EAC3CA,EAAmBpqB,EAAO,kBACnCA,EAAO,QAAUmqB,EACjBnqB,EAAO,gBAAkBoqB,EAE7B,CACA,OAAOpqB,CACT,CACA,IAAIqqB,GAAQ,MAAMC,EAAO,CACvB,YAAY3pB,EAAG+oB,EAAGa,EAAOC,EAAQ,CAC/B,KAAK,EAAI7pB,EACT,KAAK,EAAI+oB,EACT,KAAK,MAAQa,EACb,KAAK,OAASC,CAChB,CACA,OAAQ,CACN,KAAM,CAAE,EAAA7pB,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,CAAO,EAAI,KAChC,OAAO,IAAIF,GAAO3pB,EAAG+oB,EAAGa,EAAOC,CAAM,CACvC,CACA,OAAO/e,EAAO,CACZ,OAAO,KAAK,IAAMA,EAAM,GAAK,KAAK,IAAMA,EAAM,GAAK,KAAK,QAAUA,EAAM,OAAS,KAAK,SAAWA,EAAM,MACzG,CACA,cAAc9K,EAAG+oB,EAAG,CAClB,OAAO/oB,GAAK,KAAK,GAAKA,GAAK,KAAK,EAAI,KAAK,OAAS+oB,GAAK,KAAK,GAAKA,GAAK,KAAK,EAAI,KAAK,MACtF,CACA,aAAaje,EAAO,CAClB,OAAO,KAAK,EAAIA,EAAM,EAAIA,EAAM,OAAS,KAAK,EAAI,KAAK,MAAQA,EAAM,GAAK,KAAK,EAAIA,EAAM,EAAIA,EAAM,QAAU,KAAK,EAAI,KAAK,OAASA,EAAM,CAC5I,CACA,eAAgB,CACd,MAAO,CAAE,EAAG,KAAK,EAAI,KAAK,MAAQ,EAAG,EAAG,KAAK,EAAI,KAAK,OAAS,CAAE,CACnE,CACA,UAAW,CACT,OAAO,OAAO,SAAS,KAAK,CAAC,GAAK,OAAO,SAAS,KAAK,CAAC,GAAK,OAAO,SAAS,KAAK,KAAK,GAAK,OAAO,SAAS,KAAK,MAAM,CACzH,CACA,gBAAgB9K,EAAG+oB,EAAG,CACpB,GAAI,KAAK,cAAc/oB,EAAG+oB,CAAC,EACzB,MAAO,GAET,MAAMe,EAAK9pB,EAAI4nB,GAAM,KAAK,EAAG5nB,EAAG,KAAK,EAAI,KAAK,KAAK,EAC7C+pB,EAAKhB,EAAInB,GAAM,KAAK,EAAGmB,EAAG,KAAK,EAAI,KAAK,MAAM,EACpD,OAAOe,EAAKA,EAAKC,EAAKA,CACxB,CACA,OAAO,WAAW/pB,EAAG+oB,EAAGiB,EAAO,CAC7B,OAAOlB,GAAe9oB,EAAG+oB,EAAGiB,CAAK,CACnC,CACA,KAAKC,EAAU,CACb,GAAIA,IAAa,OACf,OAAO,KACT,MAAMC,EAAK,KAAK,IAAI,KAAK,EAAGD,EAAS,CAAC,EAChCE,EAAK,KAAK,IAAI,KAAK,EAAGF,EAAS,CAAC,EAChCG,EAAK,KAAK,IAAI,KAAK,EAAI,KAAK,MAAOH,EAAS,EAAIA,EAAS,KAAK,EAC9DI,EAAK,KAAK,IAAI,KAAK,EAAI,KAAK,OAAQJ,EAAS,EAAIA,EAAS,MAAM,EACtE,YAAK,EAAIC,EACT,KAAK,EAAIC,EACT,KAAK,MAAQ,KAAK,IAAI,EAAGC,EAAKF,CAAE,EAChC,KAAK,OAAS,KAAK,IAAI,EAAGG,EAAKF,CAAE,EAC1B,IACT,CACA,OAAOG,EAAQ1E,EAAU,CACvB,MAAM2E,EAAQ,CAACC,EAAKC,IAAQ,CAC1B,OAAQD,EAAK,CACX,IAAK,MACH,KAAK,GAAKC,EACZ,IAAK,SACH,KAAK,QAAUA,EACf,MACF,IAAK,OACH,KAAK,GAAKA,EACZ,IAAK,QACH,KAAK,OAASA,EACd,MACF,IAAK,WACH,KAAK,GAAKA,EACV,KAAK,QAAUA,EAAM,EACrB,MACF,IAAK,aACH,KAAK,GAAKA,EACV,KAAK,OAASA,EAAM,EACpB,MACF,KAAK,OACH,KAAK,GAAKA,EACV,KAAK,OAASA,EAAM,EACpB,KAAK,GAAKA,EACV,KAAK,QAAUA,EAAM,EACrB,MACF,QACF,CACF,EACA,OAAI,OAAOH,GAAW,SACpBC,EAAM3E,EAAU0E,CAAM,EACb,OAAOA,GAAW,UAC3B,OAAO,QAAQA,CAAM,EAAE,QAAQ,CAAC,CAACE,EAAKC,CAAG,IAAMF,EAAMC,EAAKC,CAAG,CAAC,EAEzD,IACT,CACA,KAAKH,EAAQ1E,EAAU,CACrB,GAAI,OAAO0E,GAAW,SACpB,KAAK,OAAO,CAACA,EAAQ1E,CAAQ,MACxB,CACL,MAAM8E,EAActpB,EAAgB,CAAC,EAAGkpB,CAAM,EAC9C,UAAW3rB,KAAO+rB,EAChBA,EAAY/rB,CAAG,GAAK,GAEtB,KAAK,OAAO+rB,CAAW,CACzB,CACA,OAAO,IACT,CACA,QAAQ5f,EAAO,CACb,KAAM,CAAE,EAAA9K,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,CAAO,EAAI,KAChC,KAAK,EAAI,KAAK,IAAI7pB,EAAG8K,EAAM,CAAC,EAC5B,KAAK,EAAI,KAAK,IAAIie,EAAGje,EAAM,CAAC,EAC5B,KAAK,MAAQ,KAAK,IAAI9K,EAAI4pB,EAAO9e,EAAM,EAAIA,EAAM,KAAK,EAAI,KAAK,EAC/D,KAAK,OAAS,KAAK,IAAIie,EAAIc,EAAQ/e,EAAM,EAAIA,EAAM,MAAM,EAAI,KAAK,CACpE,CACA,OAAO,MAAMkf,EAAO,CAClB,IAAI3J,EAAO,IACPsK,EAAM,IACNrK,EAAQ,KACRsK,EAAS,KACb,UAAWC,KAAOb,EACZa,EAAI,EAAIxK,IACVA,EAAOwK,EAAI,GAETA,EAAI,EAAIF,IACVA,EAAME,EAAI,GAERA,EAAI,EAAIA,EAAI,MAAQvK,IACtBA,EAAQuK,EAAI,EAAIA,EAAI,OAElBA,EAAI,EAAIA,EAAI,OAASD,IACvBA,EAASC,EAAI,EAAIA,EAAI,QAGzB,OAAO,IAAIlB,GAAOtJ,EAAMsK,EAAKrK,EAAQD,EAAMuK,EAASD,CAAG,CACzD,CACA,CAACjD,EAAW,EAAE5c,EAAO1E,EAAG,CACtB,OAAO,IAAIujB,GACT,KAAK,GAAK,EAAIvjB,GAAK0E,EAAM,EAAI1E,EAC7B,KAAK,GAAK,EAAIA,GAAK0E,EAAM,EAAI1E,EAC7B,KAAK,OAAS,EAAIA,GAAK0E,EAAM,MAAQ1E,EACrC,KAAK,QAAU,EAAIA,GAAK0E,EAAM,OAAS1E,CACzC,CACF,CACF,EACAsjB,GAAM,KAAO,IAAIA,GAAM,EAAG,EAAG,EAAG,CAAC,EACjCA,GAAM,IAAM,IAAIA,GAAM,IAAK,IAAK,IAAK,GAAG,EACxC,IAAIoB,EAAOpB,GACPqB,IAA+BC,IACjCA,EAAYA,EAAY,KAAU,CAAC,EAAI,OACvCA,EAAYA,EAAY,QAAa,CAAC,EAAI,UAC1CA,EAAYA,EAAY,MAAW,CAAC,EAAI,QACxCA,EAAYA,EAAY,MAAW,CAAC,EAAI,QACjCA,IACND,IAAc,CAAC,CAAC,EACnB,SAASE,IAA+B,CACtC,GAAI,CACF,WAAI,SAAS,aAAa,EACnB,EACT,MAAY,CACV,MAAO,EACT,CACF,CACA,IAAIC,GAA0BD,GAA6B,EAC3D,SAASE,EAAqB7W,EAAM,CAClC,KAAM,CAAE,SAAA8W,EAAU,UAAAC,CAAU,EAAI/W,GAAsB,CAAC,EACvD,OAAO,SAASnV,EAAQR,EAAK,CAC3B,MAAM2sB,EAAa,KAAK3sB,CAAG,GACvBQ,EAAOR,CAAG,IAGVusB,IAA2BE,GAAY,MAAQC,GAAa,KAC9DE,GAAkBpsB,EAAQR,EAAK2sB,EAAYhX,CAAI,EAE/CkX,GAAkBrsB,EAAQR,EAAK2sB,EAAYhX,CAAI,EAEnD,CACF,CACA,SAASiX,GAAkBpsB,EAAQR,EAAK2sB,EAAYhX,EAAM,CACxD,KAAM,CAAE,OAAAmX,EAAS,EAAG,KAAA7a,EAAO,SAAU,uBAAA8a,EAAyB,EAAM,EAAIpX,GAAsB,CAAC,EACzFqX,EAAW,IAAI,SACnB,QACA;AAAA,gCAC4BL,CAAU;AAAA;AAAA,mBAEvBA,CAAU;AAAA,cACf1a,IAAS,SAAW,wBAAwB6a,CAAM,KAAO,EAAE;AAAA,cAC3D7a,IAAS,YAAc,2BAA2B6a,CAAM,KAAO,EAAE;AAAA,cACjE7a,IAAS,OAAS,wEAAwE6a,CAAM,OAAS,EAAE;AAAA,cAC3G7a,IAAS,OAAS,wEAAwE6a,CAAM,OAAS,EAAE;AAAA;AAAA,UAE/GC,EAAyB,kFAAuF,EAAE;AAAA,CAE1H,EACME,EAAW,IAAI,SAAS,eAAeN,CAAU,GAAG,EAC1D,OAAO,eAAensB,EAAQR,EAAK,CACjC,IAAKgtB,EACL,IAAKC,EACL,WAAY,GACZ,aAAc,EAChB,CAAC,CACH,CACA,SAASJ,GAAkBrsB,EAAQR,EAAK2sB,EAAYhX,EAAM,CACxD,KAAM,CACJ,OAAAmX,EAAS,EACT,KAAA7a,EAAO,SACP,SAAAwa,EACA,UAAAC,EACA,uBAAAK,EAAyB,EAC3B,EAAIpX,GAAsB,CAAC,EA0B3B,OAAO,eAAenV,EAAQR,EAAK,CACjC,IA1Ba,SAASC,EAAO,CAC7B,MAAM0N,EAAW,KAAKgf,CAAU,EAChC1sB,EAAQysB,EAAYA,EAAUzsB,CAAK,EAAIA,EACnCA,IAAU0N,IACZ,KAAKgf,CAAU,EAAI1sB,EACfgS,IAAS,UACX,KAAK,UAAU,KAAM6a,CAAM,EACzB7a,IAAS,aACX,KAAK,mBAAmB6a,CAAM,EAC5B7a,IAAS,QAAU,CAAC,KAAK,aAC3B,KAAK,WAAa,GAClB,KAAK,UAAU,KAAM6a,CAAM,GAEzB7a,IAAS,QAAU,CAAC,KAAK,aAC3B,KAAK,WAAa,GAClB,KAAK,UAAU,KAAM6a,CAAM,GAEDL,IAAS,IAAI,GAEvCM,GAA0B9sB,GAAS,MAAQA,EAAM,OAAS,GAC5D,KAAK,UAAUA,EAAOA,EAAM,MAAM,CACtC,EAME,IALa,UAAW,CACxB,OAAO,KAAK0sB,CAAU,CACxB,EAIE,WAAY,GACZ,aAAc,EAChB,CAAC,CACH,CACA,IAAIO,GAAmB,KAAM,CAC3B,aAAc,CACZ,KAAK,OAAS,CAChB,CACA,UAAUC,EAASlb,EAAO,EAAG,CACvB,KAAK,OAASA,IAChB,KAAK,OAASA,EAElB,CACA,UAAUmb,EAAO,CACf,KAAK,OAAS,CAChB,CACA,SAAU,CACR,OAAO,KAAK,OAAS,CACvB,CACF,EACIC,GAAU,MAAMC,EAAS,CAC3B,IAAI,GAAI,CACN,MAAO,CAAC,GAAG,KAAK,QAAQ,CAC1B,CACA,YAAYC,EAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAAG,CAC1C,KAAK,SAAWA,CAClB,CACA,YAAYA,EAAW,CACrB,MAAM7pB,EAAI,KAAK,SACf,OAAAA,EAAE,CAAC,EAAI6pB,EAAU,CAAC,EAClB7pB,EAAE,CAAC,EAAI6pB,EAAU,CAAC,EAClB7pB,EAAE,CAAC,EAAI6pB,EAAU,CAAC,EAClB7pB,EAAE,CAAC,EAAI6pB,EAAU,CAAC,EAClB7pB,EAAE,CAAC,EAAI6pB,EAAU,CAAC,EAClB7pB,EAAE,CAAC,EAAI6pB,EAAU,CAAC,EACX,IACT,CACA,IAAI,UAAW,CACb,MAAM7pB,EAAI,KAAK,SACf,OAAOA,EAAE,CAAC,IAAM,GAAKA,EAAE,CAAC,IAAM,GAAKA,EAAE,CAAC,IAAM,GAAKA,EAAE,CAAC,IAAM,GAAKA,EAAE,CAAC,IAAM,GAAKA,EAAE,CAAC,IAAM,CACxF,CAKA,IAAI8pB,EAAGC,EAAGC,EAAG,CACX,MAAMvtB,EAAIqtB,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAID,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAGrtB,EAAIotB,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAID,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAGE,EAAIH,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAID,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAGhmB,EAAI+lB,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAID,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAG/pB,EAAI8pB,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAID,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAID,EAAE,CAAC,EAAGI,EAAIJ,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAID,EAAE,CAAC,EAAIC,EAAE,CAAC,EAAID,EAAE,CAAC,EAC3ME,EAAIA,GAAgBF,EACpBE,EAAE,CAAC,EAAIvtB,EACPutB,EAAE,CAAC,EAAIttB,EACPstB,EAAE,CAAC,EAAIC,EACPD,EAAE,CAAC,EAAIjmB,EACPimB,EAAE,CAAC,EAAIhqB,EACPgqB,EAAE,CAAC,EAAIE,CACT,CAMA,aAAazhB,EAAO,CAClB,YAAK,IAAI,KAAK,SAAUA,EAAM,QAAQ,EAC/B,IACT,CAMA,SAASA,EAAO,CACd,MAAMohB,EAAY,IAAI,MAAM,CAAC,EAC7B,YAAK,IAAI,KAAK,SAAUphB,EAAM,SAAUohB,CAAS,EAC1C,IAAID,GAASC,CAAS,CAC/B,CACA,gBAAgBphB,EAAO,CACrB,YAAK,IAAIA,EAAM,SAAU,KAAK,SAAU,KAAK,QAAQ,EAC9C,IACT,CAIA,SAAU,CACR,MAAM0hB,EAAK,KAAK,SAChB,IAAI1tB,EAAI0tB,EAAG,CAAC,EAAGztB,EAAIytB,EAAG,CAAC,EAAGF,EAAIE,EAAG,CAAC,EAAGpmB,EAAIomB,EAAG,CAAC,EAC7C,MAAMnqB,EAAImqB,EAAG,CAAC,EAAGD,EAAIC,EAAG,CAAC,EACnBC,EAAK,GAAK3tB,EAAIsH,EAAIrH,EAAIutB,GAC5B,OAAAxtB,GAAK2tB,EACL1tB,GAAK0tB,EACLH,GAAKG,EACLrmB,GAAKqmB,EACE,IAAIR,GAAS,CAAC7lB,EAAG,CAACrH,EAAG,CAACutB,EAAGxtB,EAAGwtB,EAAIC,EAAInmB,EAAI/D,EAAGtD,EAAIsD,EAAIvD,EAAIytB,CAAC,CAAC,CAClE,CAIA,UAAUzhB,EAAO,CACf,MAAM0hB,EAAK,KAAK,SAChB,IAAI1tB,EAAI0tB,EAAG,CAAC,EAAGztB,EAAIytB,EAAG,CAAC,EAAGF,EAAIE,EAAG,CAAC,EAAGpmB,EAAIomB,EAAG,CAAC,EAC7C,MAAMnqB,EAAImqB,EAAG,CAAC,EAAGD,EAAIC,EAAG,CAAC,EACnBC,EAAK,GAAK3tB,EAAIsH,EAAIrH,EAAIutB,GAC5B,OAAAxtB,GAAK2tB,EACL1tB,GAAK0tB,EACLH,GAAKG,EACLrmB,GAAKqmB,EACL3hB,EAAM,YAAY,CAAC1E,EAAG,CAACrH,EAAG,CAACutB,EAAGxtB,EAAGwtB,EAAIC,EAAInmB,EAAI/D,EAAGtD,EAAIsD,EAAIvD,EAAIytB,CAAC,CAAC,EACvD,IACT,CACA,YAAa,CACX,MAAMC,EAAK,KAAK,SAChB,IAAI1tB,EAAI0tB,EAAG,CAAC,EAAGztB,EAAIytB,EAAG,CAAC,EAAGF,EAAIE,EAAG,CAAC,EAAGpmB,EAAIomB,EAAG,CAAC,EAC7C,MAAMnqB,EAAImqB,EAAG,CAAC,EAAGD,EAAIC,EAAG,CAAC,EACnBC,EAAK,GAAK3tB,EAAIsH,EAAIrH,EAAIutB,GAC5B,OAAAxtB,GAAK2tB,EACL1tB,GAAK0tB,EACLH,GAAKG,EACLrmB,GAAKqmB,EACLD,EAAG,CAAC,EAAIpmB,EACRomB,EAAG,CAAC,EAAI,CAACztB,EACTytB,EAAG,CAAC,EAAI,CAACF,EACTE,EAAG,CAAC,EAAI1tB,EACR0tB,EAAG,CAAC,EAAIF,EAAIC,EAAInmB,EAAI/D,EACpBmqB,EAAG,CAAC,EAAIztB,EAAIsD,EAAIvD,EAAIytB,EACb,IACT,CACA,eAAevsB,EAAG+oB,EAAG,CACnB,MAAM1mB,EAAI,KAAK,SACf,MAAO,CACL,EAAGrC,EAAIqC,EAAE,CAAC,EAAI0mB,EAAI1mB,EAAE,CAAC,EAAIA,EAAE,CAAC,EAC5B,EAAGrC,EAAIqC,EAAE,CAAC,EAAI0mB,EAAI1mB,EAAE,CAAC,EAAIA,EAAE,CAAC,CAC9B,CACF,CACA,cAAcqqB,EAAMvtB,EAAQ,CAC1B,MAAM+sB,EAAY,KAAK,SACjBS,EAAKT,EAAU,CAAC,EAChBU,EAAKV,EAAU,CAAC,EAChBW,EAAKX,EAAU,CAAC,EAChBY,EAAKZ,EAAU,CAAC,EAChBa,EAAML,EAAK,MAAQ,GACnBM,EAAMN,EAAK,OAAS,GACpBO,EAAKP,EAAK,EAAIK,EACdG,EAAKR,EAAK,EAAIM,EACdG,EAAI,KAAK,IAAIJ,EAAMJ,CAAE,EAAI,KAAK,IAAIK,EAAMH,CAAE,EAC1CO,EAAI,KAAK,IAAIL,EAAMH,CAAE,EAAI,KAAK,IAAII,EAAMF,CAAE,EAChD,OAAK3tB,IACHA,EAAS,IAAI2rB,EAAK,EAAG,EAAG,EAAG,CAAC,GAE9B3rB,EAAO,EAAI8tB,EAAKN,EAAKO,EAAKL,EAAKX,EAAU,CAAC,EAAIiB,EAC9ChuB,EAAO,EAAI8tB,EAAKL,EAAKM,EAAKJ,EAAKZ,EAAU,CAAC,EAAIkB,EAC9CjuB,EAAO,MAAQguB,EAAIA,EACnBhuB,EAAO,OAASiuB,EAAIA,EACbjuB,CACT,CACA,UAAUkuB,EAAK,CACb,GAAI,KAAK,SACP,OAEF,MAAMhrB,EAAI,KAAK,SACfgrB,EAAI,UAAUhrB,EAAE,CAAC,EAAGA,EAAE,CAAC,EAAGA,EAAE,CAAC,EAAGA,EAAE,CAAC,EAAGA,EAAE,CAAC,EAAGA,EAAE,CAAC,CAAC,CAClD,CACA,OAAO,UAAUirB,EAAc,CAC7B,OAAOrB,GAAS,SAAS,YAAYqB,EAAa,QAAQ,CAC5D,CACA,OAAO,sBAAsBC,EAAQC,EAAUC,EAAUC,EAAUC,EAAcC,EAActZ,EAAM,CACnG,KAAM,CAACuZ,EAAMC,CAAI,EAAI,CAAC,EAAG,CAAC,EACpBC,EAAKP,EACLQ,EAAKP,EACX,IAAIQ,EACAC,EACAH,IAAO,GAAKC,IAAO,GACrBC,EAAM,EACNC,EAAM,IAEND,EAA+B3Z,GAAK,gBAAmB,KAAOuZ,EAA+BvZ,GAAK,eAClG4Z,EAA+B5Z,GAAK,gBAAmB,KAAOwZ,EAA+BxZ,GAAK,gBAEpG,MAAM0F,EAAI0T,EACJS,EAAM,KAAK,IAAInU,CAAC,EAChBoU,EAAM,KAAK,IAAIpU,CAAC,EACtB,IAAIqU,EACAC,EACAtU,IAAM,GACRqU,EAAM,EACNC,EAAM,IAEND,EAA+B/Z,GAAK,iBAAoB,KAAOuZ,EAA+BvZ,GAAK,gBACnGga,EAA+Bha,GAAK,iBAAoB,KAAOwZ,EAA+BxZ,GAAK,iBAErG,MAAM+U,EAAKsE,EACLrE,EAAKsE,EACLW,EAAMN,GAAO,EAAIF,GAAMM,EACvBG,EAAMN,GAAO,EAAIF,GAAMM,EAC7B,OAAAf,EAAO,YAAY,CACjBY,EAAMJ,EACNK,EAAML,EACN,CAACK,EAAMJ,EACPG,EAAMH,EACNG,EAAMI,EAAMH,EAAMI,EAAMH,EAAMhF,EAC9B+E,EAAMG,EAAMJ,EAAMK,EAAMF,EAAMhF,CAChC,CAAC,EACMiE,CACT,CACA,OAAO,YAAYF,EAAK,CACtB,MAAMoB,EAAYpB,EAAI,aAAa,EACnC,OAAO,IAAIpB,GAAS,CAACwC,EAAU,EAAGA,EAAU,EAAGA,EAAU,EAAGA,EAAU,EAAGA,EAAU,EAAGA,EAAU,CAAC,CAAC,CACpG,CACF,EACAzC,GAAQ,SAAW,IAAIA,GACvB,IAAI0C,GAAS1C,GACT2C,IAAkCC,IACpCA,EAAeA,EAAe,IAAS,CAAC,EAAI,MAC5CA,EAAeA,EAAe,KAAU,CAAC,EAAI,OACtCA,IACND,IAAiB,CAAC,CAAC,EAClBE,GAAQ,MAAMC,WAAejD,EAAiB,CAChD,YAAY,CAAE,UAAAkD,EAAW,IAAAC,EAAK,OAAAC,CAAO,EAAI,CAAC,EAAG,CAC3C,MAAM,EACN,KAAK,aAAeH,GAAO,oBAC3B,KAAK,GAAKxH,GAAS,IAAI,EACvB,KAAK,gBAAkB,GACvB,KAAK,iBAAmB,CAAC,EACzB,KAAK,UAAY,CAAC,EAClB,KAAK,SAAW,CAAC,EACjB,KAAK,OAAS,IAAIoH,GAClB,KAAK,eAAiB,GACtB,KAAK,SAAW,EAChB,KAAK,SAAW,EAChB,KAAK,eAAiB,KACtB,KAAK,eAAiB,KACtB,KAAK,gBAAkB,KACvB,KAAK,gBAAkB,KACvB,KAAK,SAAW,EAChB,KAAK,aAAe,EACpB,KAAK,aAAe,EACpB,KAAK,iBAAmB,CACtB,OAAQ,EACR,UAAW,CACb,EACA,KAAK,QAAU,GACf,KAAK,YAAc,GACnB,KAAK,OAAS,EACd,KAAK,eAAiB,OACtB,KAAK,cAAgB,EACrB,KAAK,UAAYK,GAAgC,GACjD,KAAK,IAAMC,GAAoB,IAC/B,KAAK,OAASC,GAA0B,CAC1C,CAIA,IAAI,OAAQ,CACV,IAAIzoB,EAAIiL,EACR,OAAQA,EAAK,KAAK,SAAW,KAAOA,GAAMjL,EAAK,KAAK,UAAY,KAAO,OAASA,EAAG,KACrF,CACA,IAAI,eAAgB,CAClB,OAAO,KAAK,cACd,CACA,IAAI,MAAM0oB,EAAO,CACX,KAAK,SAAWA,IAClB,KAAK,eAAiB,KAAK,QAE7B,KAAK,OAASA,CAChB,CACA,iBAAiBtwB,EAAO,CACtB,KAAK,cAAgBA,EACrB,KAAK,OAAkCA,GAAM,MAC7C,UAAW2qB,KAAS,KAAK,UACvBA,EAAM,iBAAiB3qB,CAAK,EAE9B,UAAW2qB,KAAS,KAAK,iBACvBA,EAAM,iBAAiB3qB,CAAK,CAEhC,CACA,IAAI,cAAe,CACjB,OAAO,KAAK,aACd,CACA,CAAC,WAAY,CACX,IAAI4V,EAAO,KACX,KAAOA,EAAOA,EAAK,QACjB,MAAMA,CAEV,CACA,CAAC,YAAa,CACZ,MAAM,KACN,MAAO7U,GAAY6C,GAAa,KAAK,UAAU,CAAC,CAAC,CACnD,CACA,IAAI,QAAS,CACX,OAAO,KAAK,OACd,CACA,IAAI,UAAW,CACb,OAAO,KAAK,iBAAiB,OAAS,KAAK,UAAU,OAAO,KAAK,iBAAiB,QAAS2sB,GAASA,EAAK,QAAQ,CAAC,EAAI,KAAK,SAC7H,CACA,IAAI,iBAAkB,CACpB,OAAO,KAAK,gBACd,CACA,oBAAqB,CACnB,OAAO,KAAK,iBAAiB,OAAS,CACxC,CAEA,cAAcC,EAAQC,EAAU,CAC9B,MAAMxgB,EAAOwgB,GAA8B,OAAO,KAAKD,CAAM,EAC7D,UAAWzwB,KAAOkQ,EAChB,KAAKlQ,CAAG,EAAIywB,EAAOzwB,CAAG,EAExB,OAAO,IACT,CASA,OAAO2wB,EAAO,CACP,MAAM,QAAQA,CAAK,IACtBA,EAAQ,CAACA,CAAK,GAEhB,UAAW9a,KAAQ8a,EAAO,CACxB,GAAI9a,EAAK,OACP,MAAM,IAAI,MAAM,GAAGA,CAAI,uCAAuCA,EAAK,MAAM,GAAG,EAE9E,GAAIA,EAAK,aACP,MAAM,IAAI,MAAM,GAAGA,CAAI,gCAAgCA,EAAK,YAAY,GAAG,EAE7E,GAAI,KAAK,SAASA,EAAK,EAAE,EACvB,MAAM,IAAI,MAAM,aAAaA,EAAK,YAAY,IAAI,UAAUA,CAAI,EAAE,EAEhEA,EAAK,UACP,KAAK,iBAAiB,KAAKA,CAAI,EAE/B,KAAK,UAAU,KAAKA,CAAI,EAE1B,KAAK,SAASA,EAAK,EAAE,EAAI,GACzBA,EAAK,QAAU,KACfA,EAAK,iBAAiB,KAAK,YAAY,CACzC,CACA,KAAK,YAAc,GACnB,KAAK,UACH,KACA,CAEF,CACF,CACA,YAAYA,EAAM,CAChB,YAAK,OAAOA,CAAI,EACTA,CACT,CACA,YAAYA,EAAM,CAChB,MAAMkB,EAAQ,IAAM,CAClB,MAAM,IAAI,MAAM,qDAAqD,CACvE,EAIA,GAHIlB,EAAK,SAAW,MAClBkB,EAAM,EAEJlB,EAAK,UAAW,CAClB,MAAMlV,EAAI,KAAK,iBAAiB,QAAQkV,CAAI,EACxClV,EAAI,GACNoW,EAAM,EACR,KAAK,iBAAiB,OAAOpW,EAAG,CAAC,CACnC,KAAO,CACL,MAAMA,EAAI,KAAK,UAAU,QAAQkV,CAAI,EACjClV,EAAI,GACNoW,EAAM,EACR,KAAK,UAAU,OAAOpW,EAAG,CAAC,CAC5B,CACA,cAAO,KAAK,SAASkV,EAAK,EAAE,EAC5BA,EAAK,QAAU,OACfA,EAAK,iBAAiB,EACtB,KAAK,YAAc,GACnB,KAAK,UACHA,EACA,CAEF,EACOA,CACT,CACA,2BAA4B,CAC1B,KAAK,uBAAuB,EAC5B,MAAM+Y,EAASmB,GAAO,UAAU,KAAK,MAAM,EAC3C,UAAWa,KAAU,KAAK,UAAU,EAClCA,EAAO,uBAAuB,EAC9BhC,EAAO,gBAAgBgC,EAAO,MAAM,EAEtC,OAAOhC,CACT,CACA,eAAevtB,EAAG+oB,EAAG,CAEnB,OADe,KAAK,0BAA0B,EAChC,WAAW,EAAE,eAAe/oB,EAAG+oB,CAAC,CAChD,CACA,sBAAsB/oB,EAAG+oB,EAAG,CAE1B,OADe,KAAK,0BAA0B,EAChC,eAAe/oB,EAAG+oB,CAAC,CACnC,CACA,cAAc2D,EAAM,CAElB,OADe,KAAK,0BAA0B,EAChC,WAAW,EAAE,cAAcA,CAAI,CAC/C,CACA,qBAAqBA,EAAM,CAEzB,OADe,KAAK,0BAA0B,EAChC,cAAcA,CAAI,CAClC,CACA,oBAAqB,CACnB,KAAK,eAAiB,GACtB,KAAK,UACH,KACA,CAEF,CACF,CACA,cAAc8C,EAAIC,EAAI,CACpB,MAAO,EACT,CAOA,SAASzvB,EAAG+oB,EAAG,CACb,IAAIviB,EACJ,GAAI,CAAC,KAAK,SAAW,KAAK,gBAAkB,GAAK,CAAC,KAAK,cAAcxG,EAAG+oB,CAAC,EACvE,OAEF,KAAM,CAAE,SAAA2G,CAAS,EAAI,KACrB,GAAIA,EAAS,OAAS,IACpB,QAASpwB,EAAIowB,EAAS,OAAS,EAAGpwB,GAAK,EAAGA,IAAK,CAC7C,MAAMiqB,EAAQmG,EAASpwB,CAAC,EAElBqwB,IADiBnpB,EAAK+iB,EAAM,uBAAuB,IAAM,KAAO,OAAS/iB,EAAG,cAAcxG,EAAG+oB,CAAC,GACxEQ,EAAM,SAASvpB,EAAG+oB,CAAC,EAAI,OACnD,GAAI4G,EACF,OAAOA,CAEX,SACSD,EAAS,OAClB,QAASpwB,EAAIowB,EAAS,OAAS,EAAGpwB,GAAK,EAAGA,IAAK,CAC7C,MAAMqwB,EAAMD,EAASpwB,CAAC,EAAE,SAASU,EAAG+oB,CAAC,EACrC,GAAI4G,EACF,OAAOA,CAEX,SACS,CAAC,KAAK,gBACf,OAAO,IAEX,CACA,eAAgB,CACd,IAAInpB,EACJ,OAAQA,EAAK,KAAK,aAAe,KAAOA,EAAKskB,EAAK,IACpD,CACA,aAAc,CAEd,CACA,wBAAyB,CACvB,MAAM4B,EAAO,KAAK,YAAY,EAC9B,GAAI,CAACA,EACH,OAEF,KAAK,uBAAuB,EAC5B,MAAMa,EAASmB,GAAO,UAAU,KAAK,MAAM,EAC3C,UAAWa,KAAU,KAAK,UAAU,EAClCA,EAAO,uBAAuB,EAC9BhC,EAAO,gBAAgBgC,EAAO,MAAM,EAEtC,OAAAhC,EAAO,cAAcb,EAAMA,CAAI,EACxBA,CACT,CACA,wBAAyB,CACvB,GAAI,CAAC,KAAK,eACR,OAEF,KAAM,CACJ,OAAAa,EACA,SAAAC,EACA,SAAAC,EACA,SAAAC,EACA,aAAAC,EACA,aAAAC,EACA,eAAAgC,EACA,eAAAC,EACA,gBAAAC,EACA,gBAAAC,CACF,EAAI,KACJrB,GAAO,sBAAsBnB,EAAQC,EAAUC,EAAUC,EAAUC,EAAcC,EAAc,CAC7F,eAAAgC,EACA,eAAAC,EACA,gBAAAC,EACA,gBAAAC,CACF,CAAC,EACD,KAAK,eAAiB,EACxB,CAEA,WAAY,CACV,KAAK,iBAAiB,OAAS,EAC/B,KAAK,iBAAiB,UAAY,EAClC,UAAWxG,KAAS,KAAK,SAAU,CACjC,MAAMyG,EAAczG,EAAM,UAAU,EACpC,KAAK,iBAAiB,QAAUyG,EAAY,OAC5C,KAAK,iBAAiB,WAAaA,EAAY,SACjD,CACA,OAAO,KAAK,gBACd,CACA,OAAOC,EAAW,CAChB,KAAM,CAAE,MAAAC,CAAM,EAAID,EAClB,KAAK,OAAS,EACd,KAAK,WAAa,KAAK,YAAY,EAC/BC,GACFA,EAAM,eAEV,CACA,UAAUpE,EAASlb,EAAO,EAAGuf,EAAavf,EAAM,CAC1C,KAAK,OAASA,GAAQ,KAAK,SAAWA,GAAQA,IAASuf,IAG3D,KAAK,OAASvf,EACV,KAAK,OACP,KAAK,OAAO,UAAU,KAAMuf,CAAU,EAC7B,KAAK,cACd,KAAK,aAAa,UAAU,EAEhC,CACA,IAAI,OAAQ,CACV,OAAO,KAAK,MACd,CACA,UAAU7b,EAAM,CACd,KAAM,CAAE,MAAA8b,EAAQ,GAAO,UAAAC,EAAY,EAAK,EAAI/b,GAAsB,CAAC,EACnE,GAAI,OAAK,SAAW,GAAK,CAAC8b,GAI1B,IADA,KAAK,OAAS,EACVC,IAAc,GAChB,UAAW9G,KAAS,KAAK,iBACvBA,EAAM,UAAU,CAAE,MAAA6G,CAAM,CAAC,EAG7B,GAAIC,IAAc,GAChB,UAAW9G,KAAS,KAAK,UACvBA,EAAM,UAAU,CAAE,MAAA6G,CAAM,CAAC,EAG/B,CACA,iBAAkB,CAClB,CACA,IAAI,WAAY,CACd,IAAItL,EAAQ,EACRwL,EAAa,KAAK,QAAU,GAAK,KAAK,eAAiB,EAAI,EAC3DC,EAAe,KAAK,QAAU,EAAI,EACtC,MAAMC,EAAcjH,GAAU,CAC5B,KAAM,CAAE,MAAOkH,EAAY,aAAcC,EAAmB,WAAYC,CAAgB,EAAIpH,EAAM,UAClGzE,GAAS2L,EACTF,GAAgBG,EAChBJ,GAAcK,CAChB,EACA,UAAWpH,KAAS,KAAK,UACvBiH,EAAWjH,CAAK,EAElB,UAAWA,KAAS,KAAK,iBACvBiH,EAAWjH,CAAK,EAElB,MAAO,CAAE,MAAAzE,EAAO,aAAAyL,EAAc,WAAAD,CAAW,CAC3C,CACA,gBAAiB,CACX,KAAK,SACP,KAAK,OAAO,YAAc,GAE9B,CACF,EACAzB,GAAM,kBAAoB,EAC1BltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,WAAY,CAAC,EACjCltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,WAAY,CAAC,EACjCltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,iBAAkB,CAAC,EACvCltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,iBAAkB,CAAC,EACvCltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,kBAAmB,CAAC,EACxCltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,kBAAmB,CAAC,EACxCltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,WAAY,CAAC,EACjCltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,eAAgB,CAAC,EACrCltB,EAAiB,CACfwpB,EAAqB,CAAE,KAAM,WAAY,CAAC,CAC5C,EAAG0D,GAAM,UAAW,eAAgB,CAAC,EACrCltB,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,EACR,SAAWhsB,GAAWA,EAAO,gBAAgB,CAC/C,CAAC,CACH,EAAG0vB,GAAM,UAAW,UAAW,CAAC,EAChCltB,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,EACR,SAAWhsB,GAAWA,EAAO,eAAe,CAC9C,CAAC,CACH,EAAG0vB,GAAM,UAAW,SAAU,CAAC,EAC/BltB,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,EACR,SAAWhsB,GAAWA,EAAO,eAAe,CAC9C,CAAC,CACH,EAAG0vB,GAAM,UAAW,iBAAkB,CAAC,EACvC,IAAI+B,GAAO/B,GACPgC,GAAgBjyB,GAAU,CAC5B,MAAMkyB,EAAOlyB,EAAQ,EAAI,GAAK,EACxBmyB,EAAM,KAAK,IAAInyB,CAAK,EAC1B,OAAImyB,GAAO,OACFnyB,EAAQ,MACVkyB,EAAO5vB,GAAO6vB,EAAM,MAAS,MAAO,GAAG,CAChD,EACIC,GAAkBpyB,GAAU,CAC9B,MAAMkyB,EAAOlyB,EAAQ,EAAI,GAAK,EACxBmyB,EAAM,KAAK,IAAInyB,CAAK,EAC1B,OAAImyB,EAAM,SACDD,GAAQ,MAAQ5vB,EAAM6vB,EAAK,EAAI,GAAG,EAAI,MAExC,MAAQnyB,CACjB,EACIqyB,GAAS,MAAMC,EAAQ,CAazB,YAAYlX,EAAGmX,EAAGpyB,EAAGD,EAAI,EAAG,CAC1B,KAAK,EAAI8oB,GAAM,EAAG5N,GAAK,EAAG,CAAC,EAC3B,KAAK,EAAI4N,GAAM,EAAGuJ,GAAK,EAAG,CAAC,EAC3B,KAAK,EAAIvJ,GAAM,EAAG7oB,GAAK,EAAG,CAAC,EAC3B,KAAK,EAAI6oB,GAAM,EAAG9oB,GAAK,EAAG,CAAC,CAC7B,CASA,OAAO,iBAAiBsyB,EAAK,CAC3B,OAAIA,EAAI,QAAQ,GAAG,GAAK,EACf,CAAC,CAACF,GAAQ,SAASE,CAAG,EAE3BA,EAAI,QAAQ,KAAK,GAAK,EACjB,CAAC,CAACF,GAAQ,aAAaE,CAAG,EAE5B,CAAC,CAACF,GAAQ,UAAUE,EAAI,YAAY,CAAC,CAC9C,CAUA,OAAO,WAAWA,EAAK,CACrB,GAAIA,EAAI,QAAQ,GAAG,GAAK,EACtB,OAAOF,GAAQ,cAAcE,CAAG,EAElC,MAAMC,EAAMH,GAAQ,UAAUE,EAAI,YAAY,CAAC,EAC/C,GAAIC,EACF,OAAOH,GAAQ,cAAcG,CAAG,EAElC,GAAID,EAAI,QAAQ,KAAK,GAAK,EACxB,OAAOF,GAAQ,eAAeE,CAAG,EAEnC,MAAM,IAAI,MAAM,0BAA0BA,CAAG,GAAG,CAClD,CACA,OAAO,mBAAmBA,EAAK,CAC7B,GAAI,CACF,OAAOF,GAAQ,WAAWE,CAAG,CAC/B,MAAY,CACV,OAAAxrB,EAAO,SAAS,0BAA0BwrB,CAAG,IAAI,EAC1CF,GAAQ,UAAU,CAAC,EAAG,EAAG,CAAC,CAAC,CACpC,CACF,CAEA,OAAO,SAAS1f,EAAO,CACrBA,EAAQA,EAAM,QAAQ,KAAM,EAAE,EAAE,MAAM,CAAC,EACvC,IAAI8f,EACJ,OAAQ9f,EAAM,OAAQ,CACpB,IAAK,GACL,IAAK,GACH8f,EAAQ,CAAC,EACT,QAAShyB,EAAI,EAAGA,EAAIkS,EAAM,OAAQlS,GAAK,EACrCgyB,EAAM,KAAK,SAAS,GAAG9f,EAAMlS,CAAC,CAAC,GAAGkS,EAAMlS,EAAI,CAAC,CAAC,GAAI,EAAE,CAAC,EAEvD,MACF,IAAK,GACL,IAAK,GACHgyB,EAAQ9f,EAAM,MAAM,EAAE,EAAE,IAAK+f,GAAM,SAASA,EAAG,EAAE,CAAC,EAAE,IAAKA,GAAMA,EAAIA,EAAI,EAAE,EACzE,KACJ,CACA,GAA8BD,GAAM,QAAW,GAAKA,EAAM,MAAOC,GAAMA,GAAK,CAAC,EAC3E,OAAID,EAAM,SAAW,GACnBA,EAAM,KAAK,GAAG,EAETA,CAEX,CACA,OAAO,cAAcF,EAAK,CACxB,MAAM/R,EAAS6R,GAAQ,SAASE,CAAG,EACnC,GAAI/R,EAAQ,CACV,KAAM,CAACrF,EAAGmX,EAAGpyB,EAAGD,CAAC,EAAIugB,EACrB,OAAO,IAAI6R,GAAQlX,EAAI,IAAKmX,EAAI,IAAKpyB,EAAI,IAAKD,EAAI,GAAG,CACvD,CACA,MAAM,IAAI,MAAM,wCAAwCsyB,CAAG,GAAG,CAChE,CACA,OAAO,aAAaA,EAAK,CACvB,GAAI,CAACI,EAAIC,CAAE,EAAI,CAAC,IAAK,GAAG,EACxB,QAASnyB,EAAI,EAAGA,EAAI8xB,EAAI,OAAQ9xB,IAAK,CACnC,MAAMgtB,EAAI8E,EAAI9xB,CAAC,EACf,GAAI,CAACkyB,GAAMlF,IAAM,IACfkF,EAAKlyB,UACIgtB,IAAM,IAAK,CACpBmF,EAAKnyB,EACL,KACF,CACF,CACA,MAAMoyB,EAAWF,GAAMC,GAAML,EAAI,UAAUI,EAAK,EAAGC,CAAE,EACrD,GAAI,CAACC,EACH,OAEF,MAAMJ,EAAQI,EAAS,MAAM,GAAG,EAC1BC,EAAO,CAAC,EACd,QAASryB,EAAI,EAAGA,EAAIgyB,EAAM,OAAQhyB,IAAK,CACrC,MAAMsyB,EAAON,EAAMhyB,CAAC,EACpB,IAAIV,EAAQ,WAAWgzB,CAAI,EAC3B,GAAI,MAAMhzB,CAAK,EACb,OAEEgzB,EAAK,QAAQ,GAAG,GAAK,GACvBhzB,EAAQgpB,GAAM,EAAGhpB,EAAO,GAAG,EAC3BA,GAAS,KACAU,IAAM,EACfV,EAAQgpB,GAAM,EAAGhpB,EAAO,CAAC,GAEzBA,EAAQgpB,GAAM,EAAGhpB,EAAO,GAAG,EAC3BA,GAAS,KAEX+yB,EAAK,KAAK/yB,CAAK,CACjB,CACA,OAAO+yB,CACT,CACA,OAAO,eAAeP,EAAK,CACzB,MAAMO,EAAOT,GAAQ,aAAaE,CAAG,EACrC,GAAIO,EAAM,CACR,GAAIA,EAAK,SAAW,EAClB,OAAO,IAAIT,GAAQS,EAAK,CAAC,EAAGA,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,EACvC,GAAIA,EAAK,SAAW,EACzB,OAAO,IAAIT,GAAQS,EAAK,CAAC,EAAGA,EAAK,CAAC,EAAGA,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CAEzD,CACA,MAAM,IAAI,MAAM,qCAAqCP,CAAG,GAAG,CAC7D,CACA,OAAO,UAAUS,EAAK,CACpB,GAAIA,EAAI,SAAW,EACjB,OAAO,IAAIX,GAAQW,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAEnD,GAAIA,EAAI,SAAW,EACjB,OAAO,IAAIX,GAAQW,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAE3C,MAAM,IAAI,MAAM,mEAAmE,CACrF,CACA,OAAO,QAAQzE,EAAGrmB,EAAGhI,EAAG+yB,EAAQ,EAAG,CACjC,MAAMC,EAAMb,GAAQ,SAAS9D,EAAGrmB,EAAGhI,CAAC,EACpC,OAAO,IAAImyB,GAAQa,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGD,CAAK,CAClD,CACA,OAAO,QAAQ1E,EAAGrmB,EAAGirB,EAAGF,EAAQ,EAAG,CACjC,MAAMC,EAAMb,GAAQ,SAAS9D,EAAGrmB,EAAGirB,CAAC,EACpC,OAAO,IAAId,GAAQa,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGD,CAAK,CAClD,CACA,OAAO,UAAUE,EAAG1F,EAAGc,EAAG0E,EAAQ,EAAG,CACnC,MAAMC,EAAMb,GAAQ,WAAWc,EAAG1F,EAAGc,CAAC,EACtC,OAAO,IAAI8D,GAAQa,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGD,CAAK,CAClD,CACA,OAAO,OAAOV,EAAK,CACjB,OAAOA,EAAI,SAAW,EAAI,IAAMA,EAAMA,CACxC,CACA,aAAc,CACZ,IAAIC,EAAM,IAAMH,GAAQ,OAAO,KAAK,MAAM,KAAK,EAAI,GAAG,EAAE,SAAS,EAAE,CAAC,EAAIA,GAAQ,OAAO,KAAK,MAAM,KAAK,EAAI,GAAG,EAAE,SAAS,EAAE,CAAC,EAAIA,GAAQ,OAAO,KAAK,MAAM,KAAK,EAAI,GAAG,EAAE,SAAS,EAAE,CAAC,EACpL,OAAI,KAAK,EAAI,IACXG,GAAOH,GAAQ,OAAO,KAAK,MAAM,KAAK,EAAI,GAAG,EAAE,SAAS,EAAE,CAAC,GAEtDG,CACT,CACA,aAAaY,EAAiB,EAAG,CAC/B,MAAMC,EAAa,CAAC,KAAK,MAAM,KAAK,EAAI,GAAG,EAAG,KAAK,MAAM,KAAK,EAAI,GAAG,EAAG,KAAK,MAAM,KAAK,EAAI,GAAG,CAAC,EAC1FnyB,EAAI,KAAK,IAAI,GAAIkyB,CAAc,EACrC,OAAI,KAAK,IAAM,GACbC,EAAW,KAAK,KAAK,MAAM,KAAK,EAAInyB,CAAC,EAAIA,CAAC,EACnC,QAAQmyB,EAAW,KAAK,IAAI,CAAC,KAE/B,OAAOA,EAAW,KAAK,IAAI,CAAC,GACrC,CACA,UAAW,CACT,OAAI,KAAK,IAAM,EACN,KAAK,YAAY,EAEnB,KAAK,aAAa,CAC3B,CACA,OAAQ,CACN,OAAOhB,GAAQ,SAAS,KAAK,EAAG,KAAK,EAAG,KAAK,CAAC,CAChD,CACA,OAAO,WAAWlX,EAAGmX,EAAGpyB,EAAG,CACzB,MAAMozB,EAAStB,GAAa7W,CAAC,EACvBoY,EAASvB,GAAaM,CAAC,EACvBkB,EAASxB,GAAa9xB,CAAC,EACvBuzB,EAAO,KAAK,KAAK,YAAeH,EAAS,YAAeC,EAAS,YAAeC,CAAM,EACtFE,EAAO,KAAK,KAAK,YAAeJ,EAAS,YAAeC,EAAS,YAAeC,CAAM,EACtFG,EAAO,KAAK,KAAK,YAAeL,EAAS,YAAeC,EAAS,YAAeC,CAAM,EACtFI,EAAS,YAAeH,EAAO,WAAcC,EAAO,YAAeC,EACnEE,EAAS,aAAeJ,EAAO,YAAcC,EAAO,YAAeC,EACnEG,EAAS,YAAeL,EAAO,YAAeC,EAAO,WAAcC,EACnEI,EAAM,KAAK,MAAMD,EAAQD,CAAM,EAAI,IAAM,KAAK,GAC9CG,EAASJ,EACTK,EAAS,KAAK,MAAMJ,EAAQC,CAAM,EAClCI,EAASH,GAAO,EAAIA,EAAMA,EAAM,IACtC,MAAO,CAACC,EAAQC,EAAQC,CAAM,CAChC,CACA,OAAO,WAAWf,EAAG1F,EAAGc,EAAG,CACzB,MAAMqF,EAAST,EACTU,EAASpG,EAAI,KAAK,IAAIc,EAAI,KAAK,GAAK,GAAG,EACvCuF,EAASrG,EAAI,KAAK,IAAIc,EAAI,KAAK,GAAK,GAAG,EACvCkF,EAAOpxB,EAAMuxB,EAAS,YAAeC,EAAS,YAAeC,EAAQ,CAAC,EACtEJ,EAAOrxB,EAAMuxB,EAAS,YAAeC,EAAS,YAAeC,EAAQ,CAAC,EACtEH,EAAOtxB,EAAMuxB,EAAS,YAAeC,EAAS,YAAcC,EAAQ,CAAC,EACrER,EAAS,aAAeG,EAAO,aAAeC,EAAO,YAAeC,EACpEJ,EAAS,cAAgBE,EAAO,aAAeC,EAAO,YAAeC,EACrEH,EAAS,aAAgBC,EAAO,YAAeC,EAAO,YAAcC,EACpEQ,EAAQhC,GAAemB,CAAM,EAC7Bc,EAAQjC,GAAeoB,CAAM,EAC7Bc,EAAQlC,GAAeqB,CAAM,EACnC,MAAO,CAACW,EAAOC,EAAOC,CAAK,CAC7B,CACA,OAAO,SAASlZ,EAAGmX,EAAGpyB,EAAG,CACvB,MAAMugB,EAAM,KAAK,IAAItF,EAAGmX,EAAGpyB,CAAC,EACtBwgB,EAAM,KAAK,IAAIvF,EAAGmX,EAAGpyB,CAAC,EACtBizB,GAAKzS,EAAMD,GAAO,EACxB,IAAI8N,EACArmB,EACJ,GAAIwY,IAAQD,EACV8N,EAAI,IACJrmB,EAAI,MACC,CACL,MAAMosB,EAAS5T,EAAMD,EACrBvY,EAAIirB,EAAI,GAAMmB,GAAU,EAAI5T,EAAMD,GAAO6T,GAAU5T,EAAMD,GACrDC,IAAQvF,EACVoT,GAAK+D,EAAIpyB,GAAKo0B,GAAUhC,EAAIpyB,EAAI,EAAI,GAC3BwgB,IAAQ4R,EACjB/D,GAAKruB,EAAIib,GAAKmZ,EAAS,EAEvB/F,GAAKpT,EAAImX,GAAKgC,EAAS,EAEzB/F,GAAK,IAAM,CACb,CACA,MAAO,CAACA,EAAGrmB,EAAGirB,CAAC,CACjB,CACA,OAAO,SAAS5E,EAAGrmB,EAAGirB,EAAG,CACvB,GAAIjrB,IAAM,EACR,MAAO,CAACirB,EAAGA,EAAGA,CAAC,EAEjB,MAAMoB,EAAIpB,EAAI,GAAMA,GAAK,EAAIjrB,GAAKirB,EAAIjrB,EAAIirB,EAAIjrB,EACxCwqB,EAAI,EAAIS,EAAIoB,EAClB,SAASC,EAASljB,EAAG,CAKnB,OAJIA,EAAI,IACNA,GAAK,GACHA,EAAI,IACNA,GAAK,GACHA,EAAI,EAAI,EACHohB,GAAK6B,EAAI7B,GAAK,EAAIphB,EACvBA,EAAI,EAAI,EACHijB,EACLjjB,EAAI,EAAI,EACHohB,GAAK6B,EAAI7B,IAAM,EAAI,EAAIphB,GAAK,EAC9BohB,CACT,CACA,MAAMvX,EAAIqZ,EAASjG,EAAI,IAAM,EAAI,CAAC,EAC5B+D,EAAIkC,EAASjG,EAAI,GAAG,EACpBruB,EAAIs0B,EAASjG,EAAI,IAAM,EAAI,CAAC,EAClC,MAAO,CAACpT,EAAGmX,EAAGpyB,CAAC,CACjB,CAKA,OAAO,SAASib,EAAGmX,EAAGpyB,EAAG,CACvB,MAAMugB,EAAM,KAAK,IAAItF,EAAGmX,EAAGpyB,CAAC,EACtBwgB,EAAM,KAAK,IAAIvF,EAAGmX,EAAGpyB,CAAC,EACtBu0B,EAAI/T,IAAQ,EAAI,GAAKA,EAAMD,GAAOC,EACxC,IAAIgU,EAAI,IACR,GAAIjU,IAAQC,EAAK,CACf,MAAM4T,EAAS5T,EAAMD,EACfkU,GAAMjU,EAAMvF,GAAKmZ,EACjBM,GAAMlU,EAAM4R,GAAKgC,EACjBO,GAAMnU,EAAMxgB,GAAKo0B,EACnBnZ,IAAMuF,EACRgU,EAAIG,EAAKD,EACAtC,IAAM5R,EACfgU,EAAI,EAAIC,EAAKE,EAEbH,EAAI,EAAIE,EAAKD,EAEfD,GAAK,EACDA,EAAI,IACNA,EAAIA,EAAI,EAEZ,CACA,MAAO,CAACA,EAAI,IAAKD,EAAG/T,CAAG,CACzB,CAIA,OAAO,SAASgU,EAAGD,EAAGlH,EAAG,CACnB,MAAMmH,CAAC,IACTA,EAAI,GAENA,GAAKA,EAAI,IAAM,KAAO,IAAM,IAC5B,IAAIvZ,EAAI,EACJmX,EAAI,EACJpyB,EAAI,EACR,GAAIu0B,IAAM,EACRtZ,EAAImX,EAAIpyB,EAAIqtB,MACP,CACL,MAAMgB,GAAKmG,EAAI,KAAK,MAAMA,CAAC,GAAK,EAC1BhH,EAAIa,EAAI,KAAK,MAAMA,CAAC,EACpBmE,EAAInF,GAAK,EAAIkH,GACbF,EAAIhH,GAAK,EAAIkH,EAAI/G,GACjBpc,EAAIic,GAAK,EAAIkH,GAAK,EAAI/G,IAC5B,OAAQa,GAAK,EAAG,CACd,IAAK,GACHpT,EAAIoS,EACJ+E,EAAIhhB,EACJpR,EAAIwyB,EACJ,MACF,IAAK,GACHvX,EAAIoZ,EACJjC,EAAI/E,EACJrtB,EAAIwyB,EACJ,MACF,IAAK,GACHvX,EAAIuX,EACJJ,EAAI/E,EACJrtB,EAAIoR,EACJ,MACF,IAAK,GACH6J,EAAIuX,EACJJ,EAAIiC,EACJr0B,EAAIqtB,EACJ,MACF,IAAK,GACHpS,EAAI7J,EACJghB,EAAII,EACJxyB,EAAIqtB,EACJ,MACF,IAAK,GACHpS,EAAIoS,EACJ+E,EAAII,EACJxyB,EAAIq0B,EACJ,KACJ,CACF,CACA,MAAO,CAACpZ,EAAGmX,EAAGpyB,CAAC,CACjB,CACA,OAAO40B,EAAUC,EAAkBC,EAAkBC,EAAe,CAClE,MAAMC,EAAM7C,GAAQ,SAAS,KAAK,EAAG,KAAK,EAAG,KAAK,CAAC,EACnD,IAAInyB,EAAIg1B,EAAI,CAAC,EACTh1B,GAAK,GAAK80B,EAAmB,IAC/B90B,EAAI,KAEN,MAAMquB,IAAM2G,EAAI,CAAC,EAAIJ,GAAY,IAAM,KAAO,IACxC5sB,EAAI6gB,GAAM,EAAGmM,EAAI,CAAC,EAAIH,EAAkB,CAAC,EAC/C70B,EAAI6oB,GAAM,EAAG7oB,EAAI80B,EAAkB,CAAC,EACpC,MAAM/0B,EAAI8oB,GAAM,EAAG,KAAK,EAAIkM,EAAe,CAAC,EACtCnC,EAAOT,GAAQ,SAAS9D,EAAGrmB,EAAGhI,CAAC,EACrC,OAAA4yB,EAAK,KAAK7yB,CAAC,EACJoyB,GAAQ,UAAUS,CAAI,CAC/B,CACA,UAAW,CACT,OAAO,KAAK,OAAO,EAAG,EAAG,EAAI,GAAK,CAAC,CACrC,CACA,QAAS,CACP,OAAO,KAAK,OAAO,EAAG,EAAG,GAAK,CAAC,CACjC,CACA,OAAO,YAAYqC,EAAOlpB,EAAO,CAC/B,MAAMmpB,EAAK/C,GAAQ,mBAAmB8C,CAAK,EACrCE,EAAKhD,GAAQ,mBAAmBpmB,CAAK,EAC3C,OAAQqF,GAAM,CACZ,MAAM7Q,EAAI,CAACU,EAAG+oB,IAAM/oB,GAAK,EAAImQ,GAAK4Y,EAAI5Y,EAEtC,OADU,IAAI+gB,GAAQ5xB,EAAE20B,EAAG,EAAGC,EAAG,CAAC,EAAG50B,EAAE20B,EAAG,EAAGC,EAAG,CAAC,EAAG50B,EAAE20B,EAAG,EAAGC,EAAG,CAAC,EAAG50B,EAAE20B,EAAG,EAAGC,EAAG,CAAC,CAAC,EACvE,SAAS,CACpB,CACF,CACF,EACAjD,GAAO,SAAW,GAClBA,GAAO,UAAY,OAAO,OAAO,CAC/B,UAAW,UACX,aAAc,UACd,KAAM,UACN,WAAY,UACZ,MAAO,UACP,MAAO,UACP,OAAQ,UACR,MAAO,UACP,eAAgB,UAChB,KAAM,UACN,WAAY,UACZ,MAAO,UACP,UAAW,UACX,UAAW,UACX,WAAY,UACZ,UAAW,UACX,MAAO,UACP,eAAgB,UAChB,SAAU,UACV,QAAS,UACT,KAAM,UACN,SAAU,UACV,SAAU,UACV,cAAe,UACf,SAAU,UACV,UAAW,UACX,SAAU,UACV,UAAW,UACX,YAAa,UACb,eAAgB,UAChB,WAAY,UACZ,WAAY,UACZ,QAAS,UACT,WAAY,UACZ,aAAc,UACd,cAAe,UACf,cAAe,UACf,cAAe,UACf,cAAe,UACf,WAAY,UACZ,SAAU,UACV,YAAa,UACb,QAAS,UACT,QAAS,UACT,WAAY,UACZ,UAAW,UACX,YAAa,UACb,YAAa,UACb,QAAS,UACT,UAAW,UACX,WAAY,UACZ,KAAM,UACN,UAAW,UACX,KAAM,UACN,MAAO,UACP,YAAa,UACb,KAAM,UACN,SAAU,UACV,QAAS,UACT,UAAW,UACX,OAAQ,UACR,MAAO,UACP,MAAO,UACP,SAAU,UACV,cAAe,UACf,UAAW,UACX,aAAc,UACd,UAAW,UACX,WAAY,UACZ,UAAW,UACX,qBAAsB,UACtB,UAAW,UACX,WAAY,UACZ,UAAW,UACX,UAAW,UACX,YAAa,UACb,cAAe,UACf,aAAc,UACd,eAAgB,UAChB,eAAgB,UAChB,eAAgB,UAChB,YAAa,UACb,KAAM,UACN,UAAW,UACX,MAAO,UACP,QAAS,UACT,OAAQ,UACR,iBAAkB,UAClB,WAAY,UACZ,aAAc,UACd,aAAc,UACd,eAAgB,UAChB,gBAAiB,UACjB,kBAAmB,UACnB,gBAAiB,UACjB,gBAAiB,UACjB,aAAc,UACd,UAAW,UACX,UAAW,UACX,SAAU,UACV,YAAa,UACb,KAAM,UACN,QAAS,UACT,MAAO,UACP,UAAW,UACX,OAAQ,UACR,UAAW,UACX,OAAQ,UACR,cAAe,UACf,UAAW,UACX,cAAe,UACf,cAAe,UACf,WAAY,UACZ,UAAW,UACX,KAAM,UACN,KAAM,UACN,KAAM,UACN,WAAY,UACZ,OAAQ,UACR,cAAe,UACf,IAAK,UACL,UAAW,UACX,UAAW,UACX,YAAa,UACb,OAAQ,UACR,WAAY,UACZ,SAAU,UACV,SAAU,UACV,OAAQ,UACR,OAAQ,UACR,QAAS,UACT,UAAW,UACX,UAAW,UACX,UAAW,UACX,KAAM,UACN,YAAa,UACb,UAAW,UACX,IAAK,UACL,KAAM,UACN,QAAS,UACT,OAAQ,UACR,YAAa,YACb,UAAW,UACX,OAAQ,UACR,MAAO,UACP,MAAO,UACP,WAAY,UACZ,OAAQ,UACR,YAAa,SACf,CAAC,EACD,IAAIkD,GAAQlD,GACZ,SAASmD,GAAkBt1B,EAAGC,EAAG,CAC/B,OAAQqH,GAAM,OAAOtH,CAAC,GAAK,EAAIsH,GAAK,OAAOrH,CAAC,EAAIqH,CAClD,CACA,SAASiuB,GAAiBv1B,EAAGC,EAAG,CAC9B,GAAI,OAAOD,GAAM,SACf,GAAI,CACFA,EAAIq1B,GAAM,WAAWr1B,CAAC,CACxB,MAAY,CACVA,EAAIq1B,GAAM,UAAU,CAAC,EAAG,EAAG,CAAC,CAAC,CAC/B,CAEF,GAAI,OAAOp1B,GAAM,SACf,GAAI,CACFA,EAAIo1B,GAAM,WAAWp1B,CAAC,CACxB,MAAY,CACVA,EAAIo1B,GAAM,UAAU,CAAC,EAAG,EAAG,CAAC,CAAC,CAC/B,CAEF,MAAMG,EAAMF,GAAkBt1B,EAAE,EAAGC,EAAE,CAAC,EAChCw1B,EAAQH,GAAkBt1B,EAAE,EAAGC,EAAE,CAAC,EAClCy1B,EAAOJ,GAAkBt1B,EAAE,EAAGC,EAAE,CAAC,EACjC+yB,EAAQsC,GAAkBt1B,EAAE,EAAGC,EAAE,CAAC,EACxC,OAAQqH,GAAM+tB,GAAM,UAAU,CAACG,EAAIluB,CAAC,EAAGmuB,EAAMnuB,CAAC,EAAGouB,EAAKpuB,CAAC,EAAG0rB,EAAM1rB,CAAC,CAAC,CAAC,EAAE,aAAa,CACpF,CACA,IAAIquB,GAAiB,CAAC,EACtBhzB,GAASgzB,GAAgB,CACvB,OAAQ,IAAMC,GACd,UAAW,IAAMC,GACjB,cAAe,IAAMC,GACrB,WAAY,IAAMC,GAClB,QAAS,IAAMC,GACf,YAAa,IAAMC,GACnB,eAAgB,IAAMC,GACtB,OAAQ,IAAMC,EAChB,CAAC,EACD,IAAIA,GAAUvM,GAAMA,EAChBgM,GAAUhM,GAAM,EAAI,KAAK,IAAIA,EAAI,KAAK,GAAK,CAAC,EAC5CoM,GAAWpM,GAAM,KAAK,IAAIA,EAAI,KAAK,GAAK,CAAC,EACzCiM,GAAajM,GAAM,EAAE,KAAK,IAAIA,EAAI,KAAK,EAAE,EAAI,GAAK,EAClDmM,GAAcnM,GAAMA,EAAIA,EACxBqM,GAAerM,GAAM,EAAIxnB,EAAM,EAAIwnB,EAAG,CAAC,EACvCkM,GAAiBlM,GAAMA,EAAI,GAAM,EAAIA,EAAIA,EAAI,EAAIxnB,EAAM,GAAKwnB,EAAI,EAAG,CAAC,EAAI,EACxEsM,GAAkBh1B,GAAM,EAAI,KAAK,KAAKA,CAAC,EAAI,KAAK,GAChDk1B,GAAmB,GACnBC,GAAc,CAAC,UAAW,SAAU,SAAU,MAAO,WAAY,MAAO,MAAM,EAC9EC,GAAiB,CACnB,QAAS,CACP,kBAAmB,EACnB,eAAgB,CAClB,EACA,IAAK,CACH,kBAAmB,IACnB,eAAgB,GAClB,EACA,OAAQ,CACN,kBAAmB,IACnB,eAAgB,CAClB,EACA,OAAQ,CACN,kBAAmB,GACnB,eAAgB,GAClB,EACA,SAAU,CACR,kBAAmBF,GACnB,eAAgB,EAChB,0BAA2B,EAC7B,EACA,IAAK,CACH,eAAgB,EAAIA,GACpB,kBAAmB,EACnB,0BAA2B,EAC7B,EACA,KAAM,CACJ,kBAAmB,EACnB,eAAgB,CAClB,CACF,EACIG,IAA+BC,IACjCA,EAAY,KAAU,OACtBA,EAAY,QAAa,UAClBA,IACND,IAAc,CAAC,CAAC,EACnB,SAASE,GAAY5wB,EAAO,CAC1B,OAAOA,EAAM,MAAO+jB,GAAMA,aAAakI,EAAI,CAC7C,CACA,SAAS4E,GAA6BC,EAAmB,CACvD,OAAOF,GAAYE,CAAiB,EAAI,CAAE,MAAOA,EAAmB,WAAY,CAAC,CAAE,EAAI,CAAE,MAAO,CAAC,EAAG,WAAYA,CAAkB,CACpI,CACA,IAAIC,GAAY,KAAM,CACpB,YAAYphB,EAAM,CAChB,KAAK,WAAa,GAClB,KAAK,QAAU,EACf,KAAK,UAAY,EACjB,KAAK,UAAY,GACjB,KAAK,UAAY,GACjB,IAAI9N,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EAAIC,EAC5B,KAAK,GAAKthB,EAAK,GACf,KAAK,QAAUA,EAAK,QACpB,KAAK,UAAY9N,EAAK8N,EAAK,WAAa,KAAO9N,EAAK,GACpD,KAAK,MAAQiL,EAAK6C,EAAK,OAAS,KAAO7C,EAAKwjB,GAC5C,KAAK,MAAQ3gB,EAAK,MAClB,MAAMuhB,GAAsBnkB,EAAK4C,EAAK,WAAa,KAAO5C,EAAK0jB,GAAe,KAAK,KAAK,EAAE,kBAC1F,KAAK,SAAWS,EAAqBvhB,EAAK,gBAC1C,KAAK,QAAUlC,EAAKkC,EAAK,QAAU,KAAOlC,EAAK,GAAKkC,EAAK,gBACzD,KAAK,WAAaA,EAAK,WACvB,KAAK,OAASA,EAAK,OACnB,KAAK,OAASA,EAAK,OACnB,KAAK,SAAWA,EAAK,SACrB,KAAK,YAAc,KAAK,mBAAmBA,EAAK,KAAMA,EAAK,EAAE,EAC7D,KAAK,KAAOA,EAAK,KACbA,EAAK,OAAS,MACfqP,EAAK,KAAK,WAAa,MAAgBA,EAAG,KAAK,KAAMrP,EAAK,GAAI,GAAO,IAAI,GACzEqhB,EAAK,KAAK,SAAW,MAAgBA,EAAG,KAAK,KAAM,IAAI,GACvDC,EAAK,KAAK,aAAe,MAAgBA,EAAG,KAAK,KAAM,IAAI,EAC5D,KAAK,WAAa,IAEhBthB,EAAK,cAAgB,KACvB,KAAK,SAAW,KAAK,cAAcA,EAAM,KAAK,QAAQ,EAE1D,CACA,cAAcA,EAAMwhB,EAAoB,CACtC,OAAIxhB,EAAK,OAASA,EAAK,GACd,GACK,OAAOA,EAAK,MAAS,SAAWT,GAASS,EAAK,KAAMA,EAAK,EAAE,EAAI,MAEpEwhB,EAEF,CACT,CACA,KAAKC,EAAgB,GAAO,CAC1B,IAAIvvB,EAAIiL,EACJ,KAAK,WAAa,KAAK,aAE3B,KAAK,UAAY,IAChBjL,EAAK,KAAK,SAAW,MAAgBA,EAAG,KAAK,KAAM,IAAI,EACnD,KAAK,WAEV,KAAK,SAAW,GACXuvB,KAEJtkB,EAAK,KAAK,WAAa,MAAgBA,EAAG,KAAK,KAAM,KAAK,KAAM,GAAM,IAAI,IAC7E,CACA,OAAQ,CACN,KAAK,UAAY,EACnB,CACA,MAAO,CACL,IAAIjL,EACJ,KAAK,UAAY,GACZ,KAAK,aACR,KAAK,WAAa,IACjBA,EAAK,KAAK,SAAW,MAAgBA,EAAG,KAAK,KAAM,IAAI,EAE5D,CACA,OAAOwvB,EAAO,CACZ,IAAIxvB,EAAIiL,EACR,GAAI,KAAK,WACP,OAAOukB,EACL,CAAC,KAAK,WAAa,KAAK,UAC1B,KAAK,KAAK,EAAI,EAEhB,MAAMC,EAAkB,KAAK,QAE7B,GADA,KAAK,SAAWD,EACZ,KAAK,MAAQ,KAAK,QACpB,MAAO,GACT,MAAMp3B,EAAQ,KAAK,YAAY,KAAK,UAAY,EAAI,KAAK,MAAQ,KAAK,KAAK,GAC1E4H,EAAK,KAAK,WAAa,MAAgBA,EAAG,KAAK,KAAM5H,EAAO,GAAO,IAAI,EACxE,MAAMs3B,EAAgB,KAAK,MAAQ,KAAK,SACxC,OAAI,KAAK,SAAWA,GAClB,KAAK,KAAK,EACV,KAAK,WAAa,IACjBzkB,EAAK,KAAK,aAAe,MAAgBA,EAAG,KAAK,KAAM,IAAI,EACrDukB,GAASE,EAAgBD,IAE3B,CACT,CACA,IAAI,OAAQ,CACV,OAAO,KAAK,KAAKrO,GAAM,GAAI,KAAK,QAAU,KAAK,OAAS,KAAK,SAAU,CAAC,CAAC,CAC3E,CACA,mBAAmBuO,EAAMC,EAAI,CAC3B,GAAI,OAAOA,GAAO,UAAYzO,GAAgByO,CAAE,EAC9C,OAAO,KAAK,iBAAiBD,EAAMC,CAAE,EAEvC,MAAMC,EAAsB,CAAC,EAC7B,UAAW13B,KAAOy3B,EAAI,CACpB,MAAME,EAAe,KAAK,iBAAiBH,EAAKx3B,CAAG,EAAGy3B,EAAGz3B,CAAG,CAAC,EACzD23B,GAAgB,MAClBD,EAAoB,KAAK,CAAC13B,EAAK23B,CAAY,CAAC,CAEhD,CACA,OAAQlwB,GAAM,CACZ,MAAM/G,EAAS,CAAC,EAChB,SAAW,CAACV,EAAK23B,CAAY,IAAKD,EAChCh3B,EAAOV,CAAG,EAAI23B,EAAalwB,CAAC,EAE9B,OAAO/G,CACT,CACF,CACA,iBAAiBP,EAAGC,EAAG,CACrB,GAAI,EAAAD,IAAM,QAAUC,IAAM,QAEnB,IAAI4oB,GAAgB7oB,CAAC,EAC1B,OAAQsH,GAAMtH,EAAE4oB,EAAW,EAAE3oB,EAAGqH,CAAC,EAEnC,GAAI,CACF,OAAQ,OAAOtH,EAAG,CAChB,IAAK,SACH,OAAOs1B,GAAkBt1B,EAAGC,CAAC,EAC/B,IAAK,SACH,OAAOs1B,GAAiBv1B,EAAGC,CAAC,EAC9B,IAAK,UACH,GAAID,IAAMC,EACR,MAAO,IAAMD,EACf,KACJ,CACF,MAAY,CACZ,CACA,MAAM,IAAI,MAAM,iCAAiCA,CAAC,KAAKC,CAAC,EAAE,EAC5D,CACF,EACIkoB,GAAqC,CACvC,MAAO,MACP,QAAS,SACT,QAAS,SACT,QAAS,UACT,QAAS,MACX,EACA,SAASC,GAAavB,EAAS4Q,EAAOC,EAAkBf,EAAmB/vB,EAAK+wB,EAAYziB,EAAO,CACjG,KAAM,CAAE,OAAA0iB,EAAQ,KAAAC,EAAM,eAAAC,CAAe,EAAIlxB,EACnC,CAAE,MAAA4pB,EAAO,WAAAuH,CAAW,EAAIrB,GAA6BC,CAAiB,EACtEqB,EAAe,CAACC,EAAWC,IAAa,CAC5C,IAAItlB,EACJ,IAAIulB,EACAC,EAAgB,EAChBC,EAAY,EAChB,UAAW3iB,KAAQwiB,EAAU,CAC3B,MAAMI,EAASL,EAAUG,CAAa,IAAM1iB,EACtC6Y,EAAM,CACV,KAAM8J,GAAaH,EAAS,OAAS,EACrC,SAAUE,GAAiBH,EAAU,OAAS,EAC9C,KAAMC,EAASG,EAAY,CAAC,EAC5B,cAAAF,EACA,SAAUF,EAAUG,EAAgB,CAAC,EACrC,KAAMF,EAASG,EAAY,CAAC,EAC5B,SAAUJ,EAAUG,GAAiBE,EAAS,EAAI,EAAE,CACtD,EACMC,EAAc,GAAG1R,CAAO,IAAI4Q,CAAK,IAAI/hB,EAAK,EAAE,GAClDgiB,EAAiB,kBAAkBa,CAAW,EAC9C,IAAIC,EAAS,UACRF,EAEMX,GAAcziB,IACvBsjB,EAASC,GAAgB/iB,EAAMA,EAAK,MAAOiiB,EAAYziB,CAAK,GAF5DsjB,EAAS,UAIX,MAAM9wB,EAAKkwB,EAAOliB,EAAMA,EAAK,MAAO8iB,EAAQjK,CAAG,EAAG,CAAE,MAAAmK,EAAO,MAAAnxB,EAAO,OAAAoxB,EAAQ,MAAAC,EAAO,SAAAC,CAAS,EAAInxB,EAAI2vB,EAAO70B,GAAUkF,EAAI,CAAC,QAAS,QAAS,SAAU,QAAS,UAAU,CAAC,EAClKiL,EAAKklB,EAAKniB,EAAMA,EAAK,MAAO8iB,EAAQjK,CAAG,EAAG,CAC9C,MAAOuK,EACP,MAAOC,EACP,OAAQC,EACR,MAAOC,GACP,SAAUC,EACZ,EAAIvmB,EAAI2kB,GAAK90B,GAAUmQ,EAAI,CACzB,QACA,QACA,SACA,QACA,UACF,CAAC,EACKwmB,GAAcR,GAAU,MAAQK,GAAY,KAClDtB,EAAiB,QAAQ,CACvB,GAAIa,EACJ,QAAA1R,EACA,OAAQjU,EAAK8lB,GAAwBI,IAAY,KAAOlmB,EAAK,SAC7D,SAAUimB,GAA8BK,GACxC,MAAON,GAAwBK,GAC/B,KAAA5B,EACA,GAAAC,GACA,KAAMtB,GACN,YAAAmD,GACA,OAAQ,IAAM,CACZzjB,EAAK,cAAcpT,EAAgBA,EAAgB,CAAC,EAAGiF,CAAK,EAAGwxB,CAAO,CAAC,CACzE,EACA,SAASK,GAAO,CACd1jB,EAAK,cAAc0jB,EAAK,EACpBtB,GACFpiB,EAAK,cAAcoiB,EAAepiB,EAAMA,EAAK,MAAO8iB,EAAQjK,CAAG,CAAC,CAEpE,EACA,OAAQ,IAAM,CACZ7Y,EAAK,cAAcpT,EAAgBA,EAAgBA,EAAgBA,EAAgBA,EAAgBA,EAAgB,CAAC,EAAGiF,CAAK,EAAGwxB,CAAO,EAAG1B,CAAI,EAAGC,EAAE,EAAGqB,CAAM,EAAGK,CAAQ,CAAC,CACzK,CACF,CAAC,EACGV,GACFF,IAEFC,IACAF,EAAgBd,CAClB,CACF,EACA,IAAIgC,EAAiB,EACrB,UAAWC,KAAavB,EAAY,CAClC,MAAMwB,EAAiBD,EAAU,MAAM,EACjCrB,EAAYsB,EAAe,OAAQ3P,GAAM,CAAC0P,EAAU,UAAU1P,CAAC,CAAC,EACtEoO,EAAaC,EAAWsB,CAAc,EACtC7B,EAAiB,QAAQ,CACvB,GAAI,GAAG7Q,CAAO,IAAI4Q,CAAK,cAAc4B,CAAc,GACnD,QAAAxS,EACA,MAAO,MACP,KAAM,EACN,GAAI,EACJ,KAAMmP,GACN,QAAS,CACPsD,EAAU,QAAQ,CACpB,CACF,CAAC,EACDD,GACF,CACArB,EAAaxH,EAAOA,CAAK,CAC3B,CACA,SAASnI,GAAmBxB,EAAS4Q,EAAOC,EAAkBf,EAAmBU,EAAMC,EAAIkC,EAAW,CACpG,KAAM,CAAE,MAAAhJ,EAAO,WAAAuH,CAAW,EAAIrB,GAA6BC,CAAiB,EACtE,CAAE,MAAApvB,EAAO,OAAAoxB,EAAQ,MAAAD,CAAM,EAAIc,EAC3BL,EAAcR,GAAU,KAC9BjB,EAAiB,QAAQ,CACvB,GAAI,GAAG7Q,CAAO,IAAI4Q,CAAK,GACvB,QAAA5Q,EACA,MAAO6R,GAAwB,SAC/B,KAAArB,EACA,GAAAC,EACA,KAAMtB,GACN,YAAAmD,EACA,OAAQ,IAAM,CACZ,GAAK5xB,EAEL,WAAWmO,KAAQ8a,EACjB9a,EAAK,cAAcnO,CAAK,EAE1B,UAAW+xB,KAAavB,EACtB,UAAWriB,KAAQ4jB,EAAU,MAAM,EACjC5jB,EAAK,cAAcnO,CAAK,EAG9B,EACA,SAAS6xB,EAAO,CACd,UAAW1jB,KAAQ8a,EACjB9a,EAAK,cAAc0jB,CAAK,EAE1B,UAAWE,KAAavB,EACtB,UAAWriB,KAAQ4jB,EAAU,MAAM,EACjC5jB,EAAK,cAAc0jB,CAAK,CAG9B,EACA,OAAQ,IAAM,CACZ,UAAW1jB,KAAQ8a,EACjB9a,EAAK,cAAcpT,EAAgBA,EAAgB,CAAC,EAAGg1B,CAAE,EAAGqB,CAAM,CAAC,EAErE,UAAWW,KAAavB,EACtB,UAAWriB,KAAQ4jB,EAAU,MAAM,EACjC5jB,EAAK,cAAcpT,EAAgBA,EAAgB,CAAC,EAAGg1B,CAAE,EAAGqB,CAAM,CAAC,CAGzE,CACF,CAAC,CACH,CACA,SAASF,GAAgB/iB,EAAM0a,EAAOuH,EAAYziB,EAAO,CACvD,MAAMukB,EAAK9B,EAAWjiB,EAAM0a,CAAK,EACjC,OAAIlb,EAAM,MAAM,IAAIukB,CAAE,EACb,QAELvkB,EAAM,QAAQ,IAAIukB,CAAE,EACf,UAEF,SACT,CACA,IAAIC,GAAQ,KAAK,GAAK,EACtB,SAASC,GAAkBC,EAAS,CAClC,OAAAA,GAAWF,GACXE,GAAWF,GACXE,GAAWF,GACJE,CACT,CACA,SAASC,GAA2BD,EAAS,CAC3C,OAAAA,GAAWF,GACXE,GAAWF,GACPE,IAAYF,KACdE,GAAWF,IAENE,CACT,CACA,SAASE,GAAkBF,EAAS,CAClC,OAAAA,GAAWF,GACPE,EAAU,CAAC,KAAK,GAClBA,GAAWF,GACFE,GAAW,KAAK,KACzBA,GAAWF,IAENE,CACT,CACA,SAASG,GAAgBC,EAAaC,EAAYC,EAAU,CAC1D,MAAM7oB,EAAIsoB,GAAkBK,CAAW,EACjCG,EAAKR,GAAkBM,CAAU,EACjCG,EAAKP,GAA2BK,CAAQ,EAC9C,OAAIC,GAAMC,EACDD,GAAM9oB,GAAKA,GAAK+oB,EAEhBD,GAAM9oB,GAAKA,GAAK+oB,CAE3B,CACA,SAASC,GAAUC,EAAS,CAC1B,OAAOA,EAAU,IAAM,KAAK,EAC9B,CACA,SAASC,GAAUX,EAAS,CAC1B,OAAOA,EAAU,KAAK,GAAK,GAC7B,CACA,SAASY,GAAaC,EAAQC,EAAQ,CACpC,OAAAD,EAASd,GAAkBc,CAAM,EACjCC,EAASf,GAAkBe,CAAM,EAC1BA,EAASD,GAAUA,EAASC,EAAS,EAAI,KAAK,GAAK,EAC5D,CACA,SAASC,GAAwBC,EAASC,EAASC,EAAQC,EAAO,CAChE,MAAM75B,EAAI05B,EAAUE,EAAS,KAAK,IAAIC,CAAK,EACrC9Q,EAAI4Q,EAAUC,EAAS,KAAK,IAAIC,CAAK,EAC3C,MAAO,CAAE,EAAA75B,EAAG,EAAA+oB,CAAE,CAChB,CACA,IAAI+Q,GAAe,CAAC36B,EAAQ4M,IAAgB,CAC1C,MAAMguB,EAAiB,OAAO,OAAOhuB,CAAW,CAAC,EACjD5M,EAAO46B,CAAc,EAAI,OACzB,OAAO,eAAe56B,EAAQ4M,EAAa,CACzC,KAAM,CACJ,OAAO,KAAKguB,CAAc,CAC5B,EACA,IAAIpqB,EAAU,CACK,KAAKoqB,CAAc,IACnBpqB,IACf,KAAKoqB,CAAc,EAAIpqB,EACvB,KAAK,QAAU,GAEnB,EACA,WAAY,GACZ,aAAc,EAChB,CAAC,CACH,EACIqqB,GAAa,MAAMC,EAAY,CACjC,aAAc,CACZ,KAAK,KAAO,OACZ,KAAK,QAAU,GACf,KAAK,SAAW,OAChB,KAAK,MAAwB,IAAI,IACjC,KAAK,aAAe,CAAC,EACrB,KAAK,QAAU,CAAC,EAChB,KAAK,MAAQ,CAAC,EAAG,CAAC,EAClB,KAAK,WAAa,EAClB,KAAK,MAAQ,EACb,KAAK,cAAgB,EACrB,KAAK,cAAgB,EACrB,KAAK,cAAgB,EACrB,KAAK,MAAQ,EACf,CACA,OAAO,GAAGr7B,EAAO,CACf,OAAOA,aAAiBq7B,EAC1B,CACA,SAAU,CACH,KAAK,UAEV,KAAK,QAAU,GACf,KAAK,OAAO,EACR,KAAK,SACPr0B,EAAO,SAAS,yCAAyC,EAE7D,CACA,IAAI,OAAOyZ,EAAQ,CACjB,KAAK,QAAU,GACf,MAAM6a,EAAS,CAAC,EAChB,KAAK,MAAwB,IAAI,IACjC,MAAMnvB,EAAQ,KAAK,MACnBsU,EAAO,QAASzgB,GAAU,CACpB,KAAK,SAASA,CAAK,IAAM,QAC3BmM,EAAM,IAAInM,EAAOs7B,EAAO,KAAKt7B,CAAK,EAAI,CAAC,CAE3C,CAAC,EACD,KAAK,QAAUs7B,CACjB,CACA,IAAI,QAAS,CACX,OAAO,KAAK,OACd,CACA,OAAQ,CACN,KAAK,QAAQ,EACb,GAAI,CAAE,SAAAC,EAAW,CAAE,EAAI,KACnB,OAAOA,GAAa,WACtBA,EAAW,OAAOA,CAAQ,GAE5B,MAAM/3B,EAAO,KAAK,IAAI,KAAK,MAAM+3B,CAAQ,CAAC,EAC1C,OAAO,KAAK,QAAQ,OAAO,CAACjX,EAAG5jB,IAAMA,EAAI8C,IAAS,CAAC,CACrD,CACA,QAAQgE,EAAG,CACT,KAAK,QAAQ,EACb,MAAM,EAAI,KAAK,SAASA,CAAC,EACzB,GAAI,IAAM,OACR,MAAO,KAET,MAAM4T,EAAI,KAAK,aAAa,CAAC,EAC7B,OAAIA,IAAM,OACD,IAEFA,CACT,CACA,OAAO4L,EAAU,CACf,KAAK,QAAQ,EACb,MAAM7a,EAAQ,KAAK,aAAa,UAAWwmB,GAAMA,IAAM3L,CAAQ,EAC/D,OAAO,KAAK,OAAO7a,CAAK,CAC1B,CACA,cAAc6a,EAAU,CACtB,IAAIpf,EACJ,KAAK,QAAQ,EACb,IAAIgjB,EAAU,GACV4Q,EAAc,IAClB,MAAMrvB,EAAQ,KAAK,aAAa,UAAU,CAACwmB,EAAGjyB,IAAM,CAClD,GAAIiyB,IAAM3L,EACR,MAAO,GACT,MAAMyU,EAAY,KAAK,IAAIzU,EAAW2L,CAAC,EACvC,OAAI8I,EAAYD,IACdA,EAAcC,EACd7Q,EAAUlqB,GAEL,EACT,CAAC,EACD,OAAQkH,EAAK,KAAK,OAAOuE,CAAK,IAAM,KAAOvE,EAAK,KAAK,OAAOgjB,CAAO,CACrE,CACA,IAAI,WAAY,CACd,YAAK,QAAQ,EACN,KAAK,UACd,CACA,IAAI,MAAO,CACT,YAAK,QAAQ,EACN,KAAK,KACd,CACA,IAAI,cAAe,CACjB,YAAK,QAAQ,EACN,KAAK,aACd,CACA,IAAI,QAAQ5qB,EAAO,CACjBA,EAAQgpB,GAAM,EAAGhpB,EAAO,CAAC,EACzB,KAAK,cAAgBA,EACrB,KAAK,cAAgBA,CACvB,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,aACd,CACA,IAAI,aAAaA,EAAO,CACtB,KAAK,cAAgBgpB,GAAM,EAAGhpB,EAAO,CAAC,CACxC,CACA,IAAI,cAAe,CACjB,OAAO,KAAK,aACd,CACA,IAAI,aAAaA,EAAO,CACtB,KAAK,cAAgBgpB,GAAM,EAAGhpB,EAAO,CAAC,CACxC,CACA,IAAI,cAAe,CACjB,OAAO,KAAK,aACd,CACA,QAAS,CACP,MAAMkmB,EAAQ,KAAK,QAAQ,OAC3B,GAAIA,IAAU,EACZ,OAEF,MAAMwV,EAAS,KAAK,MACdC,EAAe,KAAK,cACpBC,EAAe,KAAK,cACpB,CAACC,EAAIC,CAAE,EAAI,KAAK,MAChB9Q,EAAQ8Q,EAAKD,EACbE,EAAU/Q,EAAQ,KAAK,IAAI,EAAG9E,EAAQ,EAAI0V,EAAeD,CAAY,EACrEn4B,EAAOk4B,EAAS,KAAK,MAAMK,CAAO,EAAIA,EACtCC,EAAgBx4B,GAAQ0iB,EAAQyV,GAChCM,EAAKJ,GAAM7Q,EAAQgR,GAAiB,EACpCv0B,EAAQi0B,EAAS,KAAK,MAAMO,CAAE,EAAIA,EAClCC,EAAK14B,GAAQ,EAAIm4B,GACjBQ,EAAYT,EAAS,KAAK,MAAMQ,CAAE,EAAIA,EACtCE,EAAeL,GAAW,EAAIJ,GAC9Blb,EAAS,CAAC,EAChB,QAAS/f,EAAI,EAAGA,EAAIwlB,EAAOxlB,IACzB+f,EAAO,KAAKhZ,EAAQjE,EAAO9C,CAAC,EAE9B,KAAK,WAAay7B,EAClB,KAAK,cAAgBC,EACrB,KAAK,MAAQ54B,EACb,KAAK,aAAeid,CACtB,CACA,SAASzgB,EAAO,CACd,GAAI,EAAEA,aAAiB,MACrB,OAAO,KAAK,MAAM,IAAIA,CAAK,EAE7B,MAAMq8B,EAAUr8B,EAAM,QAAQ,EAC9B,IAAImM,EAAQ,EACZ,UAAWpM,KAAO,KAAK,MAAM,KAAK,EAAG,CACnC,GAAIA,aAAe,MAAQA,EAAI,QAAQ,IAAMs8B,EAC3C,OAAOlwB,EAETA,GACF,CACF,CACF,EACApJ,EAAiB,CACfm4B,EACF,EAAGE,GAAW,UAAW,WAAY,CAAC,EACtCr4B,EAAiB,CACfm4B,EACF,EAAGE,GAAW,UAAW,QAAS,CAAC,EACnCr4B,EAAiB,CACfm4B,EACF,EAAGE,GAAW,UAAW,QAAS,CAAC,EACnC,IAAIkB,GAAYlB,GAChB,SAASmB,GAAQC,EAAcC,EAAW,CAAC,MAAM,EAAG,CAClD,OAAO5uB,GAA+B,CAACyW,EAAGuC,EAAIxlB,IACxCo7B,EAAS,SAASp7B,CAAC,EACd2N,GAAWwtB,CAAY,EAAIA,EAAan7B,CAAC,EAAIm7B,EAE/Cn7B,CACR,CACH,CACA,SAASq7B,EAAS7a,EAAWzb,EAAU,CAAC,EAAG,CACzC,KAAM,CAAE,SAAAuO,EAAW,GAAO,SAAUgoB,CAAiB,EAAIv2B,EACzD,OAAOyH,GACL,CAACtN,EAAQ8V,EAAUrW,IAAU,CAC3B,IAAI4H,EACJ,MAAMg1B,EAAUn6B,EAAcD,EAAgB,CAAC,EAAG4D,CAAO,EAAG,CAAE,OAAA7F,EAAQ,SAAA8V,CAAS,CAAC,EAChF,GAAI1B,GAAY,OAAO3U,EAAU,KAAe6hB,EAAU7hB,EAAO48B,CAAO,EACtE,OAAIpoB,GAAajU,EAAO8V,CAAQ,CAAC,GAAK,CAAC7B,GAAaxU,CAAK,GACvDO,EAAO8V,CAAQ,EAAE,IAAIrW,CAAK,EACnBO,EAAO8V,CAAQ,GAEjBrW,EAET,MAAM68B,EAAWF,GAA8C,OAAOtmB,CAAQ,EAAE,QAAQ,MAAO,EAAE,EAC3FymB,GAAcl1B,EAAKrH,EAAO,YAAY,YAAc,KAAOqH,EAAKrH,EAAO,YAAY,KAAK,QAAQ,cAAe,EAAE,EACvH,IAAIw8B,EAAcC,GAAUh9B,CAAK,EACjC,MAAMi9B,EAAY,GAClB,GAAIF,GAAe,MAAQA,EAAY,OAASE,EAAW,CACzD,MAAMC,EAAmBH,EAAY,OAASE,EAC9CF,EAAcA,EAAY,MAAM,EAAGE,CAAS,EAAI,SAASC,CAAgB,cAC3E,CACA,OAAAl2B,EAAO,KACL,aAAa61B,CAAQ,SAASC,CAAU,uBAAuBC,CAAW,IAAIlb,EAAU,QAAU,eAAesb,GAAoBtb,EAAW+a,CAAO,CAAC,GAAK,EAAE,aACjK,EACO9vB,EACT,EACA,OACA,CAAE,SAAA6H,CAAS,CACb,CACF,CACA,IAAIyoB,GAAM,IAAIC,IAAe,CAC3B,MAAMC,EAAW,CAAC,EAClB,OAAOC,GACL,CAACv9B,EAAOyuB,KACN6O,EAAS,OAAS,EACXD,EAAW,MAAOxb,GAAc,CACrC,MAAM2b,EAAU3b,EAAU7hB,EAAOyuB,CAAG,EACpC,OAAK+O,GACHF,EAAS,KAAKH,GAAoBtb,EAAW4M,CAAG,CAAC,EAE5C+O,CACT,CAAC,GAEH,IAAMF,EAAS,OAAO,OAAO,EAAE,KAAK,OAAO,CAC7C,CACF,EACIG,GAAK,IAAIJ,IAAeE,GAC1B,CAACv9B,EAAOyuB,IAAQ4O,EAAW,KAAMxb,GAAcA,EAAU7hB,EAAOyuB,CAAG,CAAC,EACnEA,GAAQ4O,EAAW,IAAIK,GAA0BjP,CAAG,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,MAAM,CACrF,EACIkP,EAASC,GACXL,GACE,CAACv9B,EAAOyuB,IAAQja,GAAaxU,CAAK,GAAKiP,GAASjP,CAAK,GAAKwU,GAAaia,EAAI,OAAOA,EAAI,QAAQ,CAAC,EAC/F,qBACF,CACF,EACIoP,GAAeD,GAAyBL,GAAsBv9B,GAAUiP,GAASjP,CAAK,EAAG,WAAW,CAAC,EACrG89B,EAAUP,GAAqB3uB,GAAW,WAAW,EACrDmvB,GAAWR,GAAqBvuB,GAAY,YAAY,EACxDgvB,EAAST,GAAqBnuB,GAAU,UAAU,EAClD6uB,GAASC,GAAyBX,GAAqBjuB,GAAgB,UAAU,CAAC,EAClF6uB,GAAMZ,GAAsBv9B,GAAUqP,GAASrP,CAAK,GAAK,MAAMA,CAAK,EAAG,KAAK,EAC5Eo+B,EAAkBH,GAAO,SAAS,CAAE,IAAK,CAAE,CAAC,EAC5CI,GAAQJ,GAAO,SAAS,CAAE,IAAK,EAAG,IAAK,CAAE,CAAC,EAC1CK,GAASL,GAAO,SAAS,CAAE,IAAK,KAAM,IAAK,GAAI,CAAC,EAChDM,GAAgBd,GAAGQ,GAAQE,EAAG,EAC9BK,GAAQC,GAAwBlB,GAAqB5uB,GAAS,UAAU,CAAC,EACzE+vB,GAAW,CAAC7c,EAAW3a,IAAYq2B,GACrC,CAACv9B,EAAOyuB,IAAQ9f,GAAQ3O,CAAK,GAAKA,EAAM,MAAOqQ,GAASwR,EAAUxR,EAAMoe,CAAG,CAAC,EAC3EA,GAAQ,CACP,IAAI7mB,EACJ,MAAM+2B,GAAgB/2B,EAAKu1B,GAAoBqB,GAAO/P,CAAG,IAAM,KAAO7mB,EAAK,GAC3E,OAAOV,EAAU,GAAGy3B,CAAY,OAAOz3B,CAAO,GAAKy3B,CACrD,CACF,EACIC,GAAgB5+B,GAAUsP,GAAetP,CAAK,GAAK8O,GAAY9O,CAAK,EACpE6+B,GAAaC,GAAevB,GAC9B,CAACl8B,EAAGotB,IAAQ,CAACmQ,GAAav9B,CAAC,GAAK,CAACu9B,GAAanQ,EAAI,OAAOqQ,CAAU,CAAC,GAAKz9B,EAAIotB,EAAI,OAAOqQ,CAAU,EAClG,mBAAmBA,CAAU,EAC/B,EACIC,GAAgBD,GAAevB,GACjC,CAACl8B,EAAGotB,IAAQ,CAACmQ,GAAav9B,CAAC,GAAK,CAACu9B,GAAanQ,EAAI,OAAOqQ,CAAU,CAAC,GAAKz9B,EAAIotB,EAAI,OAAOqQ,CAAU,EAClG,sBAAsBA,CAAU,EAClC,EACIE,GAAOzB,GAAqBzuB,GAAa,aAAa,EACtDmwB,GAAsBxB,GAAGuB,GAAMZ,CAAe,EAC9Cc,GAAe,8KACfC,GAAe5B,GAChBl8B,GAAM+N,GAAS/N,CAAC,GAAKk0B,GAAM,iBAAiBl0B,CAAC,EAC9C,iBAAiB69B,EAAY,EAC/B,EACIE,GAAqB7B,GAAqBmB,GAASS,EAAY,EAAG,kBAAkBD,EAAY,EAAE,EAClGG,GAAgBX,GAASZ,EAAS,gBAAgB,EAClDwB,GAAeZ,GAAST,GAAQ,SAAS,EACzCsB,GAAeb,GAASV,EAAQ,SAAS,EACzCwB,GAAajC,GAAqBmB,GAASM,EAAI,EAAG,cAAc,EAChES,GAAelC,GAAqBmB,GAASf,CAAM,EAAG,SAAS,EAC/D+B,GAAWC,GAAM,CAAC,OAAQ,QAAS,QAAQ,EAAG,YAAY,EAC1DC,GAAYD,GAAM,CAAC,QAAS,QAAS,OAAO,EAAG,aAAa,EAC5DE,GAAYtC,GACdmB,GAASN,CAAe,EACxB,mKACF,EACI0B,GAAYH,GAAM,CAAC,MAAO,QAAS,SAAU,MAAM,EAAG,YAAY,EAClEI,GAAaJ,GAAM,CAAC,SAAU,SAAU,SAAS,EAAG,cAAc,EAClEK,GAAevC,GACjBkC,GAAM,CAAC,SAAU,OAAQ,SAAU,SAAS,EAAG,eAAe,EAC9D1B,GAAO,SAAS,CAAE,IAAK,EAAG,IAAK,GAAI,CAAC,CACtC,EACIgC,GAAYN,GAAM,CAAC,QAAS,SAAU,YAAa,UAAU,EAAG,sBAAsB,EACtFO,GAAaP,GAAM,CAAC,OAAQ,SAAU,OAAO,EAAG,cAAc,EAC9DQ,GAAiBR,GAAM,CAAC,MAAO,SAAU,QAAQ,EAAG,kBAAkB,EACtES,GAAoBT,GAAM,CAAC,WAAY,MAAM,EAAG,sBAAsB,EACtEU,GAAYV,GAAM,CAAC,aAAc,UAAU,EAAG,aAAa,EAC3DW,GAAYX,GAAM,CAAC,SAAU,SAAS,EAAG,aAAa,EACtDY,GAAoB9C,GAAGkC,GAAM,CAAC,QAAS,SAAS,EAAG,mBAAmB,EAAG1B,EAAM,EAC/EuC,GAAkBb,GAAM,CAAC,MAAO,SAAU,OAAQ,OAAO,CAAC,EAC9D,SAASA,GAAMv5B,EAASc,EAAU,IAAK,CACrC,OAAOq2B,GACJl8B,GAAM+E,EAAQ,SAAS/E,CAAC,EACzB,GAAG6F,CAAO,oBAAoBu5B,GAAiBr6B,CAAO,CAAC,EACzD,CACF,CACA,IAAIs6B,GAAcjD,GAAGL,GAAIa,GAAO,SAAS,CAAE,IAAK,CAAE,CAAC,EAAGY,GAAU,YAAY,CAAC,EAAGV,EAAG,EAC/EwC,GAAclD,GAAGL,GAAIa,GAAO,SAAS,CAAE,IAAK,CAAE,CAAC,EAAGc,GAAa,YAAY,CAAC,EAAGZ,EAAG,EACtF,SAASZ,GAAqB1b,EAAW3a,EAAS,CAChD,OAAA2a,EAAU,QAAU3a,EACb2a,CACT,CACA,SAAS4e,GAAiBr6B,EAAS,CACjC,MAAMqa,EAASra,EAAQ,IAAKw6B,GAAW,IAAIA,CAAM,GAAG,EACpD,GAAIngB,EAAO,SAAW,EACpB,OAAOA,EAAO,CAAC,EAEjB,MAAMogB,EAAYpgB,EAAO,IAAI,EAC7B,MAAO,GAAGA,EAAO,KAAK,IAAI,CAAC,OAAOogB,CAAS,EAC7C,CACA,SAAS1D,GAAoBtb,EAAW4M,EAAK,CAC3C,OAAOzf,GAAW6S,EAAU,OAAO,EAAIA,EAAU,QAAQ4M,CAAG,EAAI5M,EAAU,OAC5E,CACA,SAAS6b,GAA0BjP,EAAK,CACtC,OAAQ5M,GAAcsb,GAAoBtb,EAAW4M,CAAG,CAC1D,CACA,SAASgQ,GAAwB5c,EAAW,CAC1C,OAAO,OAAO,OAAOA,EAAW,CAC9B,SAAS,CAAE,OAAAif,EAAQ,UAAAC,CAAU,EAAI,CAAC,EAAG,CACnC,IAAI75B,EAAU,WACd,OAAImI,GAAS0xB,CAAS,GAAKA,EAAY,EACrC75B,EAAU,oBACDmI,GAASyxB,CAAM,IACxB55B,EAAU,sBAAsB45B,CAAM,IAEjCvD,GACJv9B,GAAU2O,GAAQ3O,CAAK,IAAMqP,GAASyxB,CAAM,EAAI9gC,EAAM,SAAW8gC,EAAS,MAAUzxB,GAAS0xB,CAAS,EAAI/gC,EAAM,QAAU+gC,EAAY,IACvI75B,CACF,CACF,CACF,CAAC,CACH,CACA,SAASg3B,GAAyBrc,EAAW,CAC3C,OAAO,OAAO,OAAOA,EAAW,CAC9B,SAAS,CAAE,IAAAnB,EAAK,IAAAC,CAAI,EAAI,CAAC,EAAG,CAC1B,MAAMzZ,EAAU,CAAC,UAAU,EACrB85B,EAAS3xB,GAASqR,CAAG,EACrBugB,EAAS5xB,GAASsR,CAAG,EAC3B,OAAIqgB,GAAUC,EACZ/5B,EAAQ,KAAK,WAAWwZ,CAAG,QAAQC,CAAG,YAAY,EACzCqgB,EACT95B,EAAQ,KAAK,4BAA4BwZ,CAAG,EAAE,EACrCugB,GACT/5B,EAAQ,KAAK,yBAAyByZ,CAAG,EAAE,EAEtC4c,GACJv9B,GAAUsP,GAAetP,CAAK,IAAMghC,EAAShhC,GAAS0gB,EAAM,MAAUugB,EAASjhC,GAAS2gB,EAAM,IAC/FzZ,EAAQ,KAAK,GAAG,CAClB,CACF,CACF,CAAC,CACH,CACA,SAAS02B,GAAyB/b,EAAW,CAC3C,OAAO,OAAO,OAAOA,EAAW,CAC9B,SAASqf,EAAY,CACnB,OAAO3D,GACJv9B,GAAUA,aAAiBkhC,EAC3BzS,GAAQ,CACP,IAAI7mB,EACJ,OAAQA,EAAKu1B,GAAoBtb,EAAW4M,CAAG,IAAM,KAAO7mB,EAAK,kBAAkBs5B,EAAW,IAAI,EACpG,CACF,CACF,CACF,CAAC,CACH,CACA,SAASlE,GAAUh9B,EAAO,CACxB,GAAI,OAAOA,GAAU,SAAU,CAC7B,GAAI,MAAMA,CAAK,EACb,MAAO,MACT,GAAIA,IAAU,IACZ,MAAO,WACT,GAAIA,IAAU,KACZ,MAAO,WACX,CACA,OAAO,KAAK,UAAUA,CAAK,CAC7B,CACA,IAAImhC,GAAgB5D,GACjBv9B,GAAUsP,GAAetP,CAAK,GAAKA,EAAQ,GAAKA,aAAiBmH,GAClE,qGACF,EACIi6B,GAAW,cAAchtB,EAAe,CAC1C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,GACf,KAAK,MAAQ,EACb,KAAK,KAAO,EACZ,KAAK,MAAQ,OACb,KAAK,SAAW,OAChB,KAAK,OAAS,MAChB,CACF,EACArR,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGsD,GAAS,UAAW,UAAW,CAAC,EACnCr+B,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGgD,GAAS,UAAW,QAAS,CAAC,EACjCr+B,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGgD,GAAS,UAAW,OAAQ,CAAC,EAChCr+B,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGiC,GAAS,UAAW,QAAS,CAAC,EACjCr+B,EAAiB,CACf25B,EAASyE,GAAe,CAAE,SAAU,EAAK,CAAC,CAC5C,EAAGC,GAAS,UAAW,WAAY,CAAC,EACpCr+B,EAAiB,CACf25B,EAAS8B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAG4C,GAAS,UAAW,SAAU,CAAC,EAClC,IAAIC,IAAuCC,IACzCA,EAAoB,EAAO,IAC3BA,EAAoB,EAAO,IACpBA,IACND,IAAsB,CAAC,CAAC,EACvBE,GAAqB,CACvB,kBAAmC,IAAI,OACzC,EACA,SAASC,GAAgCz7B,EAAO07B,EAAM,CACpD,IAAI75B,GACHA,EAAK25B,GAAmB,oBAAsB,MAAgB35B,EAAG,IAAI7B,EAAO07B,CAAI,CACnF,CACA,IAAIC,GAAmB,MAAMC,EAAkB,CAC7C,YAAYrG,EAAQtzB,EAAQ,CAC1B,KAAK,QAAU,GACf,KAAK,KAAO,GACZ,KAAK,SAAW,OAChB,KAAK,UAAY25B,GAAkB,iBACnC,KAAK,aAAe,EACpB,KAAK,aAAe,IACpB,KAAK,WAAa,CAAC,EACnB,KAAK,iBAAmB,MACxB,KAAK,OAASrG,EACd,KAAK,MAAQtzB,CACf,CACA,OAAO,GAAGhI,EAAO,CACf,OAAOA,aAAiB2hC,EAC1B,CACA,UAAUvgC,EAAG,CACX,OAAOA,CACT,CACA,gBAAgBA,EAAG,CACjB,OAAOA,CACT,CACA,cAAcwgC,EAAmB,EAAG,CAClC,KAAM,CAAE,MAAO55B,CAAO,EAAI,KACpBszB,EAAS,KAAK,UAAU,EACxBuG,EAAgB,KAAK,IAAI75B,EAAO,CAAC,EAAIA,EAAO,CAAC,CAAC,EAC9C85B,EAAY,KAAK,IAAIxG,EAAO,CAAC,EAAIA,EAAO,CAAC,CAAC,EAAIsG,EAAmB,EACjEG,EAAW,KAAK,MAAMF,CAAa,EACnCG,EAAQ,KAAK,IAAIF,EAAWC,CAAQ,EAC1C,OAAOF,EAAgB,KAAK,IAAI,EAAGG,CAAK,CAC1C,CACA,WAAY,CACV,OAAI,KAAK,OACP,KAAK,QAAQ,EACT,KAAK,WAAW,QACX,KAAK,WAGT,KAAK,MACd,CACA,QAAQ5gC,EAAGsU,EAAM,CACf,IAAI9N,EACJ,MAAMq6B,GAAar6B,EAA6B8N,GAAK,YAAc,KAAO9N,EAAK,KAAK,iBACpF,GAAI,CAAC,KAAK,QAAU,KAAK,OAAO,OAAS,EACvC,MAAO,KAET,KAAK,QAAQ,EACb,MAAM0zB,EAAS,KAAK,UAAU,EAAE,IAAK9zB,GAAM,KAAK,UAAUA,CAAC,CAAC,EACtD,CAAC06B,EAAIC,CAAE,EAAI7G,EACX,CAAE,MAAOtzB,CAAO,EAAI,KACpB,CAAC6zB,EAAIC,CAAE,EAAI9zB,EAEjB,GADA5G,EAAI,KAAK,UAAUA,CAAC,EAChB6gC,IAAc,UAAW,CAC3B,KAAM,CAACx6B,EAAOC,CAAI,EAAIwhB,GAAWoS,EAAO,IAAI,MAAM,CAAC,EACnD,GAAI,OAAOl6B,CAAC,EAAIqG,EACd,OAAOo0B,EACF,GAAI,OAAOz6B,CAAC,EAAIsG,EACrB,OAAOo0B,CAEX,CACA,OAAIoG,IAAOC,GACDtG,EAAKC,GAAM,EACV16B,IAAM8gC,EACRrG,EACEz6B,IAAM+gC,EACRrG,EAEFD,GAAM,OAAOz6B,CAAC,EAAI,OAAO8gC,CAAE,IAAM,OAAOC,CAAE,EAAI,OAAOD,CAAE,IAAMpG,EAAKD,EAC3E,CACA,OAAOz6B,EAAG,CACR,KAAK,QAAQ,EACb,MAAMk6B,EAAS,KAAK,UAAU,EAAE,IAAK8G,GAAO,KAAK,UAAUA,CAAE,CAAC,EACxD,CAACF,EAAIC,CAAE,EAAI7G,EACX,CAAE,MAAOtzB,CAAO,EAAI,KACpB,CAAC6zB,EAAIC,CAAE,EAAI9zB,EACXq6B,EAAaxG,EAAKC,EAClBwG,EAAOD,EAAavG,EAAKD,EACzB0G,EAAOF,EAAaxG,EAAKC,EAC/B,IAAIt0B,EACJ,OAAIpG,EAAIkhC,EACCD,EAAaF,EAAKD,EAChB9gC,EAAImhC,EACNF,EAAaH,EAAKC,GAChBtG,IAAOC,EAChBt0B,EAAI,KAAK,UAAU,OAAO06B,CAAE,EAAI,OAAOC,CAAE,GAAK,CAAC,EAE/C36B,EAAI,KAAK,SAAS,OAAO06B,CAAE,GAAK9gC,EAAIy6B,IAAOC,EAAKD,IAAO,OAAOsG,CAAE,EAAI,OAAOD,CAAE,EAAE,EAE1E,KAAK,gBAAgB16B,CAAC,EAC/B,CACA,SAAU,CACH,KAAK,UAEV,KAAK,QAAU,GACf,KAAK,OAAO,EACR,KAAK,SACPR,EAAO,SAAS,yCAAyC,EAE7D,CACA,eAAgB,CACd,KAAM,CAAC9G,EAAGC,CAAC,EAAI,KAAK,MACpB,OAAO,KAAK,IAAIA,EAAID,CAAC,CACvB,CACF,EACAwhC,GAAiB,iBAAmB,EACpCA,GAAiB,oBAAsB,EACvC3+B,EAAiB,CACfm4B,EACF,EAAGwG,GAAiB,UAAW,SAAU,CAAC,EAC1C3+B,EAAiB,CACfm4B,EACF,EAAGwG,GAAiB,UAAW,QAAS,CAAC,EACzC3+B,EAAiB,CACfm4B,EACF,EAAGwG,GAAiB,UAAW,OAAQ,CAAC,EACxC3+B,EAAiB,CACfm4B,EACF,EAAGwG,GAAiB,UAAW,WAAY,CAAC,EAC5C3+B,EAAiB,CACfm4B,EACF,EAAGwG,GAAiB,UAAW,YAAa,CAAC,EAC7C3+B,EAAiB,CACfm4B,EACF,EAAGwG,GAAiB,UAAW,eAAgB,CAAC,EAChD3+B,EAAiB,CACfm4B,EACF,EAAGwG,GAAiB,UAAW,eAAgB,CAAC,EAChD,IAAIc,GAAkBd,GAClBe,GAAY,CACd,QAAS,CAAC,KAAM,IAAI,EACpB,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,UAAU,EACnF,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EAC3D,OAAQ,CACN,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,UACF,EACA,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,CAClG,EACA,SAASC,GAAUn7B,EAAMo7B,EAAc,IAAI,KAAKp7B,EAAK,YAAY,EAAG,EAAG,CAAC,EAAG,CACzE,MAAMq7B,EAAcr7B,EAAK,kBAAkB,EAAIo7B,EAAY,kBAAkB,EACvEE,EAAWt7B,EAAK,QAAQ,EAAIo7B,EAAY,QAAQ,EAAIC,EAAc,IAClEE,EAAa,KAAO,GAC1B,OAAO,KAAK,MAAMD,EAAWC,CAAU,CACzC,CACA,SAASC,GAAWx7B,EAAMy7B,EAAU,CAElC,MAAMC,EADc,IAAI,KAAK17B,EAAK,YAAY,EAAG,EAAG,CAAC,EAClB,OAAO,EACpC27B,GAAwBF,EAAWC,EAAiB,GAAK,EACzDL,EAAc,IAAI,KAAKr7B,EAAK,YAAY,EAAG,EAAG27B,EAAuB,CAAC,EAC5E,OAAIN,GAAer7B,EACV,KAAK,MAAMm7B,GAAUn7B,EAAMq7B,CAAW,EAAI,CAAC,EAAI,EAEjD,CACT,CACA,IAAIO,GAAS,EACTC,GAAS,EACTC,GAAW,EACf,SAASC,GAAc/7B,EAAMoD,EAAQpD,EAAK,YAAY,EAAG,CAEvD,MAAMg8B,EADc,IAAI,KAAK54B,EAAO,EAAG,CAAC,EACL,OAAO,EACpC64B,GAAuBH,GAAWE,EAAiB,GAAK,EACxDX,EAAc,IAAI,KAAKj4B,EAAO,EAAG64B,GAAuBH,GAAWD,IAAU,CAAC,EACpF,OAAIR,GAAer7B,EACV,KAAK,MAAMm7B,GAAUn7B,EAAMq7B,CAAW,EAAI,CAAC,EAAI,EAEjDU,GAAc/7B,EAAMoD,EAAQ,CAAC,CACtC,CACA,SAAS84B,GAASl8B,EAAM,CACtB,MAAMa,EAAUb,EAAK,kBAAkB,EACjCm8B,EAAiB,KAAK,IAAIt7B,CAAO,EAEvC,MAAO,GADMA,EAAU,EAAI,IAAM,GACnB,GAAGu7B,GAAI,KAAK,MAAMD,EAAiB,EAAE,EAAG,EAAG,GAAG,CAAC,GAAGC,GAAI,KAAK,MAAMD,EAAiB,EAAE,EAAG,EAAG,GAAG,CAAC,EAC9G,CACA,IAAIE,GAAa,CACf,EAAIp8B,GAAMi7B,GAAU,UAAUj7B,EAAE,OAAO,CAAC,EACxC,EAAIA,GAAMi7B,GAAU,KAAKj7B,EAAE,OAAO,CAAC,EACnC,EAAIA,GAAMi7B,GAAU,YAAYj7B,EAAE,SAAS,CAAC,EAC5C,EAAIA,GAAMi7B,GAAU,OAAOj7B,EAAE,SAAS,CAAC,EACvC,EAAG,SACH,EAAG,CAACA,EAAGmrB,IAAMgR,GAAIn8B,EAAE,QAAQ,EAAG,EAAGmrB,GAAgB,GAAG,EACpD,EAAG,MACH,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIn8B,EAAE,gBAAgB,EAAI,IAAK,EAAGmrB,GAAgB,GAAG,EAClE,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIn8B,EAAE,SAAS,EAAG,EAAGmrB,GAAgB,GAAG,EACrD,EAAG,CAACnrB,EAAGmrB,IAAM,CACX,MAAMkR,EAAQr8B,EAAE,SAAS,EAAI,GAC7B,OAAOq8B,IAAU,EAAI,KAAOF,GAAIE,EAAO,EAAGlR,GAAgB,GAAG,CAC/D,EACA,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIjB,GAAUl7B,CAAC,EAAI,EAAG,EAAGmrB,GAAgB,GAAG,EACzD,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIn8B,EAAE,SAAS,EAAI,EAAG,EAAGmrB,GAAgB,GAAG,EACzD,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIn8B,EAAE,WAAW,EAAG,EAAGmrB,GAAgB,GAAG,EACvD,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIn8B,EAAE,gBAAgB,EAAG,EAAGmrB,GAAgB,GAAG,EAC5D,EAAInrB,GAAMA,EAAE,SAAS,EAAI,GAAK,KAAO,KACrC,EAAIA,GAAM,OAAOA,EAAE,QAAQ,CAAC,EAC5B,EAAIA,GAAM,OAAO,KAAK,MAAMA,EAAE,QAAQ,EAAI,GAAG,CAAC,EAC9C,EAAG,CAACA,EAAGmrB,IAAMgR,GAAIn8B,EAAE,WAAW,EAAG,EAAGmrB,GAAgB,GAAG,EACvD,EAAInrB,GAAM,CACR,IAAIs8B,EAAOt8B,EAAE,OAAO,EACpB,OAAIs8B,EAAO,IACTA,GAAQ,GACH,OAAOA,EAAO,CAAC,CACxB,EACA,EAAG,CAACt8B,EAAGmrB,IAAMgR,GAAIZ,GAAWv7B,EAAG27B,EAAM,EAAG,EAAGxQ,GAAgB,GAAG,EAC9D,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIL,GAAc97B,CAAC,EAAG,EAAGmrB,GAAgB,GAAG,EACzD,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIn8B,EAAE,OAAO,EAAG,EAAGmrB,GAAgB,GAAG,EACnD,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIZ,GAAWv7B,EAAG47B,EAAM,EAAG,EAAGzQ,GAAgB,GAAG,EAC9D,EAAG,aACH,EAAG,eACH,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIn8B,EAAE,YAAY,EAAI,IAAK,EAAGmrB,GAAgB,GAAG,EAC9D,EAAG,CAACnrB,EAAGmrB,IAAMgR,GAAIn8B,EAAE,YAAY,EAAG,EAAGmrB,GAAgB,GAAG,EACxD,EAAInrB,GAAMi8B,GAASj8B,CAAC,EACpB,IAAK,IAAM,GACb,EACIu8B,GAAO,CACT,EAAG,IACH,EAAK,IACL,IAAK,EACP,EACA,SAASJ,GAAI3jC,EAAOshB,EAAM0iB,EAAS,CACjC,MAAMC,EAAS,OAAO,KAAK,MAAMjkC,CAAK,CAAC,EACvC,OAAIikC,EAAO,QAAU3iB,EACZ2iB,EAEF,GAAGD,EAAQ,OAAO1iB,EAAO2iB,EAAO,MAAM,CAAC,GAAGA,CAAM,EACzD,CACA,SAASC,GAAeC,EAAc,CACpC,MAAMC,EAAc,CAAC,EACrB,KAAOD,EAAa,OAAS,GAAG,CAC9B,IAAIE,EAAgBF,EAAa,QAAQ,GAAG,EAC5C,GAAIE,IAAkB,EAAG,CACvB,MAAMC,EAAcD,EAAgB,EAAIF,EAAa,UAAU,EAAGE,CAAa,EAAIF,EACnFC,EAAY,KAAKE,CAAW,CAC9B,CACA,GAAID,EAAgB,EAClB,MACF,MAAME,EAAoBJ,EAAaE,EAAgB,CAAC,EAClDG,EAAWT,GAAKQ,CAAiB,EACnCC,GAAY,MACdH,IAEF,MAAMI,EAA0BN,EAAaE,EAAgB,CAAC,EACxDK,EAAiBd,GAAWa,CAAuB,EACzD,GAAI,OAAOC,GAAmB,WAC5BN,EAAY,KAAK,CAACM,EAAgBF,CAAQ,CAAC,UAClC,OAAOE,GAAmB,SAAU,CAC7C,MAAMC,EAAYT,GAAeQ,CAAc,EAC/CN,EAAY,KAAK,CAACO,EAAWH,CAAQ,CAAC,CACxC,MACEJ,EAAY,KAAK,GAAGI,GAA8B,EAAE,GAAGC,CAAuB,EAAE,EAElFN,EAAeA,EAAa,UAAUE,EAAgB,CAAC,CACzD,CACA,OAAQO,GAAa,CACnB,MAAMC,EAAiB,OAAOD,GAAa,SAAW,IAAI,KAAKA,CAAQ,EAAIA,EAC3E,OAAOR,EAAY,IAAK1W,GAAM,OAAOA,GAAM,SAAWA,EAAIA,EAAE,CAAC,EAAEmX,EAAgBnX,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAC/F,CACF,CACA,SAASoX,GAAa1jC,EAAG,CACvB,OAAOA,aAAa,KAAOA,EAAE,QAAQ,EAAIA,CAC3C,CACA,SAAS2jC,GAAsBC,EAAO1J,EAAQ,CAC5C,MAAM6I,EAAec,GAA+BD,EAAO1J,CAAM,EACjE,OAAQ/zB,GAAS28B,GAAeC,CAAY,EAAE58B,CAAI,CACpD,CACA,SAAS09B,GAA+BD,EAAQ,CAAC,EAAG1J,EAAS0J,EAAO,CAClE,IAAIE,EAAoB,EACxB,MAAMC,EAAgBC,GAAY,CAC5BA,EAAUF,IACZA,EAAoBE,EAExB,EACA,UAAWplC,KAASglC,EAAO,CACzB,MAAMI,EAAUC,GAA2BrlC,CAAK,EAChDmlC,EAAaC,CAAO,CACtB,CACA,MAAME,EAAcR,GAAaxJ,EAAO,CAAC,CAAC,EACpCiK,EAAYT,GAAaxJ,EAAO,GAAG,EAAE,CAAC,EACtCkK,EAAY,IAAI,KAAKF,CAAW,EAAE,YAAY,EAE9CG,EADW,IAAI,KAAKF,CAAS,EAAE,YAAY,EACnBC,EAAY,EAC1C,OAAOE,GAAoBR,EAAmBO,EAAYT,CAAK,CACjE,CACA,SAASK,GAA2BrlC,EAAO,CACzC,OAAIwJ,GAAe,MAAMxJ,CAAK,EAAIA,EACzB,EACE4J,GAAe,MAAM5J,CAAK,EAAIA,EAChC,EACEgK,GAAa,MAAMhK,CAAK,EAAIA,EAC9B,EACEoK,GAAY,MAAMpK,CAAK,EAAIA,EAC7B,EACE6K,GAAc,MAAM7K,CAAK,EAAIA,EAClCwK,GAAa,MAAMxK,CAAK,EAAIA,EACvB,EAEF,EACEgL,GAAa,MAAMhL,CAAK,EAAIA,EAC9B,EAEF,CACT,CACA,SAAS0lC,GAAoBR,EAAmBO,EAAYT,EAAO,CACjE,MAAMW,EAAYb,GAAaE,EAAM,CAAC,CAAC,EACjCY,EAAWd,GAAaE,EAAM,GAAG,EAAE,CAAC,EACpCa,EAAW,KAAK,IAAID,EAAWD,CAAS,EACxCG,EAAaL,GAAcP,IAAsB,EACjDa,EAAaF,IAAa,EAc1BzB,EAbQ,CACZ,CAAC,OAAQ,EAAIp7B,GAAc,GAAKC,GAAa,EAAG,OAAO,EACvD,CAAC,OAAQF,GAAgB,EAAIC,GAAc,EAAG,OAAO,EACrD,CAAC,SAAU,IAAK,EAAIA,GAAc,EAAG,KAAK,EAC1C,CAAC,KAAM,EAAG,EAAIA,GAAc,EAAG,KAAK,EACpC,CAAC,QAASD,GAAgB,EAAIC,GAAc,EAAG,IAAI,EACnD,IACA,CAAC,MAAOC,GAAa,EAAIC,GAAc,EAAG,IAAI,EAC9C,CAAC,QAAS68B,EAAa,EAAI78B,GAAc,GAAKA,GAAc,EAAG,OAAO,EACtE,CAAC,QAAS,EAAIA,GAAc,GAAKE,GAAc,EAAG,IAAI,EACtD,IACA,CAAC,OAAQ08B,EAAa,EAAI18B,GAAc,IAAU,EAAG,IAAI,CAC3D,EAC0B,OAAQ/H,GAAM,CACtC,GAAI,OAAOA,GAAM,SACf,MAAO,GACT,KAAM,CAACijB,EAAG5D,EAAKC,EAAKykB,CAAO,EAAI/jC,EAC/B,OAAO+jC,GAAWF,GAAqBxkB,GAAOmlB,GAAYA,EAAWllB,CACvE,CAAC,EAAE,OACD,CAACvF,EAAGmV,KACE,OAAOA,GAAS,SAClBnV,EAAE,OAAO,KAAKmV,CAAI,EACRnV,EAAE,KAAK,IAAImV,EAAK,CAAC,CAAC,IAC5BnV,EAAE,OAAO,KAAKmV,CAAI,EAClBnV,EAAE,KAAK,IAAImV,EAAK,CAAC,CAAC,GAEbnV,GAET,CAAE,OAAQ,CAAC,EAAG,KAAsB,IAAI,GAAM,CAChD,EAAE,OACI4qB,EAAc5B,EAAY,UAAW/iC,GAAM,OAAOA,GAAM,QAAQ,EAChE4kC,EAAa7B,EAAY,OAAS,CAAC,GAAGA,CAAW,EAAE,QAAQ,EAAE,UAAW/iC,GAAM,OAAOA,GAAM,QAAQ,EACzG,OAAO+iC,EAAY,MAAM4B,EAAaC,CAAU,EAAE,IAAK5kC,GAAM,OAAOA,GAAM,SAAWA,EAAIA,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,WAAW,OAAQ,GAAG,EAAE,KAAK,CACvI,CACA,IAAI6kC,GAAqB,CAAC7S,EAAgB8S,EAAe,CAAC,IAAM,OAAO,OAAOA,EAAc,CAAE,eAAA9S,CAAe,CAAC,EAC9G,SAAS+S,GAAc3+B,EAAOC,EAAMwe,EAAOmgB,EAAUC,EAAU,CAC7D,GAAIpgB,EAAQ,EACV,OAAOqgB,GAAM9+B,EAAOC,EAAMA,EAAOD,CAAK,EAExC,MAAMjE,EAAOgjC,GAAS/+B,EAAOC,EAAMwe,EAAOmgB,EAAUC,CAAQ,EAC5D,OAAI,MAAM9iC,CAAI,EACL0iC,GAAmB,CAAC,GAE7Bz+B,EAAQ,KAAK,KAAKA,EAAQjE,CAAI,EAAIA,EAClCkE,EAAO,KAAK,MAAMA,EAAOlE,CAAI,EAAIA,EAC1B+iC,GAAM9+B,EAAOC,EAAMlE,CAAI,EAChC,CACA,IAAIijC,GAAkB,CAAC,EAAG,EAAG,EAAG,EAAE,EAClC,SAASD,GAAStmC,EAAGC,EAAG+lB,EAAOmgB,EAAW,EAAGC,EAAW,IAAU,CAChE,MAAMT,EAAW,KAAK,IAAI1lC,EAAID,CAAC,EACzB67B,EAAU8J,EAAW3f,EACrB0D,EAAQ,KAAK,MAAM,KAAK,MAAMmS,CAAO,CAAC,EACtCv4B,EAAO,KAAK,IAAI,GAAIomB,CAAK,EACzBxd,EAAIq6B,GAAgB,IAAKC,GAAe,CAC5C,MAAMv+B,EAAIu+B,EAAaljC,EACjBkqB,EAAI,KAAK,KAAKmY,EAAW19B,CAAC,EAC1Bw+B,EAAiBjZ,GAAK2Y,GAAY3Y,GAAK4Y,EACvCM,EAAY,KAAK,IAAIlZ,EAAIxH,CAAK,EACpC,MAAO,CAAE,WAAAwgB,EAAY,eAAAC,EAAgB,UAAAC,CAAU,CACjD,CAAC,EAAE,KAAK,CAACC,EAAIC,IACPD,EAAG,iBAAmBC,EAAG,eACpBD,EAAG,eAAiB,GAAK,EAE3BA,EAAG,UAAYC,EAAG,SAC1B,EAAE,CAAC,EAAE,WACN,MAAI,CAAC16B,GAAK,MAAMA,CAAC,EACR,IAEFA,EAAI5I,CACb,CACA,SAASujC,GAAiB7mC,EAAGC,EAAG,CAC9B,MAAM0lC,EAAW,KAAK,IAAI1lC,EAAID,CAAC,EACzB0pB,EAAQ,KAAK,MAAM,KAAK,MAAMic,CAAQ,CAAC,EACvCriC,EAAO,KAAK,IAAI,GAAIomB,CAAK,EACzBod,EAAa9mC,EAAIC,EAAI,KAAK,KAAO,KAAK,MACtC8mC,EAAY9mC,EAAID,EAAI,KAAK,MAAQ,KAAK,KAC5C,OAAOumC,GAAgB,IAAKC,GAAe,CACzC,MAAMv+B,EAAIu+B,EAAaljC,EACjBiE,EAAQu/B,EAAW9mC,EAAIiI,CAAC,EAAIA,EAC5B++B,EAAMD,EAAU9mC,EAAIgI,CAAC,EAAIA,EAG/B,MAAO,CAAE,MAFK,EAAI09B,EAAW,KAAK,IAAIqB,EAAMz/B,CAAK,EAEjC,OADD,CAACA,EAAOy/B,CAAG,CACH,CACzB,CAAC,EAAE,KAAK,CAACL,EAAIC,IAAOD,EAAG,MAAQC,EAAG,KAAK,EAAE,CAAC,EAAE,MAC9C,CACA,SAASP,GAAM9+B,EAAOC,EAAMlE,EAAM,CAChC,MAAM0+B,EAAK,KAAK,IAAIz6B,EAAOC,CAAI,EACzBy6B,EAAK,KAAK,IAAI16B,EAAOC,CAAI,EACzBy/B,EAAmBpd,GAAoBvmB,CAAI,EAC3CmqB,EAAI,KAAK,IAAI,GAAIwZ,CAAgB,EACjCrd,EAAI,KAAK,MAAMqY,EAAKD,GAAM1+B,CAAI,EAC9Bid,EAASylB,GAAmBiB,CAAgB,EAClD,QAASzmC,EAAI,EAAGA,GAAKopB,EAAGppB,IAAK,CAC3B,MAAMV,EAAQkiC,EAAK1+B,EAAO9C,EAC1B+f,EAAO,KAAK,KAAK,MAAMzgB,EAAQ2tB,CAAC,EAAIA,CAAC,CACvC,CACA,OAAOlN,CACT,CACA,SAAS2mB,GAAgB,CACvB,MAAA3/B,EACA,KAAAC,EACA,SAAA6zB,EACA,MAAArV,EACA,eAAAmhB,CACF,EAAG,CACD,MAAM/L,EAAS5zB,EAAOD,EAGtB,OADAye,IAAwBA,EAAQoV,GADnB,OAAOC,GAAa,SAAWA,EAAW,IAEnDrV,GAASmhB,GACXrgC,EAAO,SACL,8HACF,EACO,IAEF,EACT,CACA,IAAIsgC,GAAa,MAAMC,WAAoB/E,EAAgB,CACzD,aAAc,CACZ,MAAM,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,EAChB,KAAK,KAAO,MACd,CACA,SAASh7B,EAAG,CACV,OAAO,IAAI,KAAKA,CAAC,CACnB,CAOA,OAAO,gBAAgB,CACrB,MAAAC,EACA,KAAAC,EACA,MAAAwe,EACA,SAAAmgB,EACA,SAAAC,EACA,OAAA/lC,CACF,EAAG,CACD,IAAIinC,EACAhkC,EACJ,MAAMikC,EAAYvhB,GAAwBsc,GAAgB,iBACpDkF,EAAiBnnC,GAA0B,KAAK,IAAImH,EAAOD,CAAK,EAAI,KAAK,IAAIggC,EAAW,CAAC,EACzF/mC,EAAI6mC,GAAY,iBAAiBG,CAAc,EACrD,GAAIhnC,IAAM,EACR8C,EAAO,KAAK,IAAIgjC,GAAS/+B,EAAOC,EAAM+/B,EAAWpB,EAAUC,CAAQ,EAAG,CAAC,EACvEkB,EAAwB5+B,WACflI,IAAM6mC,GAAY,cAAc,OAAQ,CACjD,MAAMI,EAAKlgC,EAAQ2B,GACbmiB,EAAK7jB,EAAO0B,GAClB5F,EAAOjD,IAAW,OAASimC,GAASmB,EAAIpc,EAAIkc,EAAWpB,EAAUC,CAAQ,EAAI,EAC7EkB,EAAwBx8B,EAC1B,KAAO,CACL,MAAM48B,EAAQF,EAAiBH,GAAY,cAAc7mC,EAAI,CAAC,EAAE,CAAC,EAC3DmnC,EAAQN,GAAY,cAAc7mC,CAAC,EAAE,CAAC,EAAIgnC,EAC1Cv7B,EAAQy7B,EAAQC,EAAQnnC,EAAI,EAAIA,EACtC,CAAC8mC,EAAuBhkC,CAAI,EAAI+jC,GAAY,cAAcp7B,CAAK,CACjE,CACA,OAAOq7B,EAAsB,MAAMhkC,CAAI,CACzC,CACA,OAAO,iBAAiBjD,EAAQ,CAC9B,IAAI,EAAI,EACR,KAAO,EAAIgnC,GAAY,cAAc,QAAUhnC,EAASgnC,GAAY,cAAc,CAAC,EAAE,CAAC,GACpF,IAEF,OAAO,CACT,CACA,OAAOpd,EAAG,CACR,OAAO,IAAI,KAAK,MAAM,OAAOA,CAAC,CAAC,CACjC,CAIA,OAAQ,CACN,GAAI,CAAC,KAAK,QAAU,KAAK,OAAO,OAAS,EACvC,MAAO,CAAC,EAEV,KAAK,QAAQ,EACb,KAAM,CAAC2d,EAAIC,CAAE,EAAI,KAAK,UAAU,EAAE,IAAIjD,EAAY,EAC5Cr9B,EAAQ,KAAK,IAAIqgC,EAAIC,CAAE,EACvBrgC,EAAO,KAAK,IAAIogC,EAAIC,CAAE,EACtB,CAAE,SAAAxM,EAAU,KAAAyM,EAAM,UAAAP,EAAW,aAAAQ,EAAc,aAAAC,CAAa,EAAI,KAClE,GAAI3M,IAAa,OAAQ,CACvB,MAAM8L,EAAiB,KAAK,cAAc,EACpCrC,EAAQuC,GAAY,oBAAoB,CAAE,MAAA9/B,EAAO,KAAAC,EAAM,SAAA6zB,EAAU,eAAA8L,CAAe,CAAC,EACvF,OAAOrC,GAAwBuC,GAAY,gBAAgB,CAAE,MAAA9/B,EAAO,KAAAC,EAAM,UAAA+/B,EAAW,aAAAQ,EAAc,aAAAC,CAAa,CAAC,CACnH,CACA,GAAIF,EAAM,CACR,GAAIP,IAAc,EAChB,OAAO,KAAK,WAEd,GAAIA,IAAc,EAChB,OAAO,KAAK,WAAW,MAAM,EAAG,CAAC,CAErC,CACA,OAAOF,GAAY,gBAAgB,CAAE,MAAA9/B,EAAO,KAAAC,EAAM,UAAA+/B,EAAW,aAAAQ,EAAc,aAAAC,CAAa,CAAC,CAC3F,CACA,OAAO,gBAAgB,CACrB,MAAAzgC,EACA,KAAAC,EACA,UAAA+/B,EACA,aAAAQ,EACA,aAAAC,CACF,EAAG,CACD,MAAM32B,EAAIg2B,GAAY,gBAAgB,CACpC,MAAA9/B,EACA,KAAAC,EACA,MAAO+/B,EACP,SAAUQ,EACV,SAAUC,CACZ,CAAC,EACD,OAAO32B,EAAIA,EAAE,MAAM,IAAI,KAAK9J,CAAK,EAAG,IAAI,KAAKC,CAAI,CAAC,EAAI,CAAC,CACzD,CACA,OAAO,oBAAoB,CACzB,MAAAD,EACA,KAAAC,EACA,SAAA6zB,EACA,eAAA8L,CACF,EAAG,CACD,GAAI,CAAC9L,EACH,MAAO,CAAC,EAEV,GAAIA,aAAoBp0B,GAAc,CACpC,MAAMghC,EAAS5M,EAAS,MAAM,IAAI,KAAK9zB,CAAK,EAAG,IAAI,KAAKC,CAAI,CAAC,EAC7D,OAAI0/B,GAAgB,CAAE,MAAA3/B,EAAO,KAAAC,EAAM,SAAA6zB,EAAU,MAAO4M,EAAO,OAAQ,eAAAd,CAAe,CAAC,EACjF,OAEKc,CACT,CACA,MAAMC,EAAc,KAAK,IAAI7M,CAAQ,EACrC,GAAI6L,GAAgB,CAAE,MAAA3/B,EAAO,KAAAC,EAAM,SAAU0gC,EAAa,eAAAf,CAAe,CAAC,EACxE,OAEF,MAAMgB,EAAmB,CAAC,GAAGd,GAAY,aAAa,EACtDc,EAAiB,QAAQ,EACzB,MAAMC,EAAeD,EAAiB,KAAME,GAAiBH,EAAcG,EAAa,CAAC,IAAM,CAAC,EAChG,GAAID,EAEF,OADUA,EAAa,CAAC,EAAE,MAAMF,GAAeE,EAAa,CAAC,EAAIA,EAAa,CAAC,EAAE,EACxE,MAAM,IAAI,KAAK7gC,CAAK,EAAG,IAAI,KAAKC,CAAI,CAAC,EAEhD,IAAIH,EAAO,IAAI,KAAKE,CAAK,EACzB,MAAM+gC,EAAW,IAAI,KAAK9gC,CAAI,EACxBs9B,EAAQ,CAAC,EACf,KAAOz9B,GAAQihC,GACbxD,EAAM,KAAKz9B,CAAI,EACfA,EAAO,IAAI,KAAKA,CAAI,EACpBA,EAAK,gBAAgBA,EAAK,gBAAgB,EAAI6gC,CAAW,EAE3D,OAAOpD,CACT,CAOA,WAAW,CACT,MAAAA,EACA,OAAA1J,EACA,UAAAmN,CACF,EAAG,CACD,OAAOA,GAAa,KAAO1D,GAAsBC,EAAO1J,CAAM,EAAI4I,GAAeuE,CAAS,CAC5F,CACA,QAAS,CACH,CAAC,KAAK,QAAU,KAAK,OAAO,OAAS,GAGrC,KAAK,MACP,KAAK,iBAAiB,CAE1B,CAKA,kBAAmB,CAEjB,GAAI,CAACvG,EAAIC,CAAE,EAAI,KAAK,OACpB,QAASzhC,EAAI,EAAGA,EAAI,EAAaA,IAAK,CACpC,KAAK,0BAA0BwhC,EAAIC,CAAE,EACrC,KAAM,CAACuG,EAAIC,CAAE,EAAI,KAAK,WACtB,GAAI7D,GAAa5C,CAAE,IAAM4C,GAAa4D,CAAE,GAAK5D,GAAa3C,CAAE,IAAM2C,GAAa6D,CAAE,EAC/E,MAEFzG,EAAKwG,EACLvG,EAAKwG,CACP,CACF,CACA,0BAA0BzG,EAAIC,EAAI,CAChC,MAAM16B,EAAQ,KAAK,IAAIq9B,GAAa5C,CAAE,EAAG4C,GAAa3C,CAAE,CAAC,EACnDz6B,EAAO,KAAK,IAAIo9B,GAAa5C,CAAE,EAAG4C,GAAa3C,CAAE,CAAC,EAClDE,EAAaH,EAAKC,EAClB,CAAE,SAAA5G,CAAS,EAAI,KACrB,IAAI76B,EACJ,GAAI66B,aAAoBp0B,GACtBzG,EAAI66B,MACC,CACL,MAAMkM,EAAY,OAAOlM,GAAa,UAAY7zB,EAAOD,GAAS,KAAK,IAAI8zB,EAAU,CAAC,EAAI,KAAK,UAC/F76B,EAAI6mC,GAAY,gBAAgB,CAC9B,MAAA9/B,EACA,KAAAC,EACA,MAAO+/B,EACP,SAAU,KAAK,aACf,SAAU,KAAK,YACjB,CAAC,CACH,CACA,GAAI/mC,EAAG,CACL,MAAMkoC,EAAgBloC,EAAE,MAAM,IAAI,KAAK+G,CAAK,EAAG,IAAI,KAAKC,CAAI,EAAG,EAAI,EAC7D4zB,EAAS+G,EAAa,CAAC,GAAGuG,CAAa,EAAE,QAAQ,EAAIA,EACrDF,EAAKpN,EAAO,CAAC,EACbqN,EAAKrN,EAAO,GAAG,EAAE,EACvB,KAAK,WAAa,CAACoN,EAAIC,CAAE,CAC3B,CACF,CACF,EACArB,GAAW,cAAgB,CACzB,CAAC99B,GAAgB,EAAGV,EAAc,EAClC,CAACU,GAAgB,EAAG,EAAIV,EAAc,EACtC,CAACU,GAAgB,GAAI,GAAKV,EAAc,EACxC,CAACU,GAAgB,GAAI,GAAKV,EAAc,EACxC,CAACc,GAAgB,EAAGb,EAAc,EAClC,CAACa,GAAgB,EAAG,EAAIb,EAAc,EACtC,CAACa,GAAgB,GAAI,GAAKb,EAAc,EACxC,CAACa,GAAgB,GAAI,GAAKb,EAAc,EACxC,CAACiB,GAAc,EAAGhB,EAAY,EAC9B,CAACgB,GAAc,EAAG,EAAIhB,EAAY,EAClC,CAACgB,GAAc,EAAG,EAAIhB,EAAY,EAClC,CAACgB,GAAc,GAAI,GAAKhB,EAAY,EACpC,CAACoB,GAAa,EAAGnB,EAAW,EAC5B,CAACmB,GAAa,EAAG,EAAInB,EAAW,EAChC,CAACuB,GAAc,EAAGtB,EAAY,EAC9B,CAACsB,GAAc,EAAG,EAAItB,EAAY,EAClC,CAACsB,GAAc,EAAG,EAAItB,EAAY,EAClC,CAAC2B,GAAe,EAAG1B,EAAa,EAChC,CAAC0B,GAAe,EAAG,EAAI1B,EAAa,EACpC,CAAC0B,GAAe,EAAG,EAAI1B,EAAa,EACpC,CAAC0B,GAAe,EAAG,EAAI1B,EAAa,EACpC,CAAC0B,GAAe,EAAG,EAAI1B,EAAa,EACpC,CAAC6B,GAAc,EAAG5B,EAAY,CAChC,EACA,IAAIy/B,GAAYvB,GACZwB,GAAoB,MAAMC,WAA2BzM,EAAU,CACjE,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,eACZ,KAAK,UAAYkG,GAAgB,iBACjC,KAAK,aAAe,EACpB,KAAK,aAAe,IACpB,KAAK,SAAW,OAChB,KAAK,MAAwB,IAAI,IACjC,KAAK,QAAU,CAAC,CAClB,CACA,OAAO,GAAGxiC,EAAO,CACf,OAAOA,aAAiB+oC,EAC1B,CACA,SAASvhC,EAAG,CACV,OAAO,IAAI,KAAKA,CAAC,CACnB,CACA,IAAI,OAAOiZ,EAAQ,CAEjB,GADA,KAAK,QAAU,GACXA,EAAO,SAAW,EAAG,CACvB,KAAK,QAAU,CAAC,EAChB,MACF,CACA,MAAM6a,EAAS,KAAK,YAAY7a,CAAM,EACtC,KAAK,QAAU6a,CACjB,CACA,IAAI,QAAS,CACX,OAAO,KAAK,OACd,CACA,YAAY7a,EAAQ,CAClB,KAAK,MAAwB,IAAI,IACjC,KAAM,CAAE,MAAAtU,CAAM,EAAI,KACZmvB,EAAS,CAAC,EACV0N,EAAU,CAAC,EACX3G,EAAa5hB,EAAO,CAAC,EAAIA,EAAO,GAAG,EAAE,EACrCwoB,EAAa5G,EAAa,EAAI,EACpC5hB,EAAO,QAAQ,CAACzgB,EAAOkpC,IAAO,CAC5B,MAAMC,EAAY1oB,EAAOyoB,EAAK,CAAC,EACzBE,EAAM/G,EAAariC,EAAQ,KAAK,SAAS8kC,GAAa9kC,CAAK,EAAI,CAAC,EAChEqpC,EAAMhH,EAAa,KAAK,SAASyC,GAAaqE,CAAS,EAAI,CAAC,EAAIA,EAChEG,EAAajH,EAAa,CAACgH,EAAKD,CAAG,EAAI,CAACA,EAAKC,CAAG,EACtD/N,EAAO,KAAKt7B,CAAK,EACbmpC,IAAc,QAAUh9B,EAAM,IAAIm9B,CAAU,IAAM,SACpDN,EAAQ,KAAK,KAAK,IAAIlE,GAAauE,CAAG,EAAIvE,GAAasE,CAAG,CAAC,CAAC,EAC5Dj9B,EAAM,IAAIm9B,EAAYJ,EAAKD,CAAU,EAEzC,CAAC,EACDD,EAAQ,KAAK,CAAC9oC,EAAGC,IAAMD,EAAIC,CAAC,EAC5B,MAAM6hC,EAAQgH,EAAQ,OAChBO,EAAc,KAAK,MAAMvH,EAAQ,CAAC,EACxC,KAAK,eAAiBA,EAAQ,GAAKA,EAAQ,IAAM,GAAKgH,EAAQO,EAAc,CAAC,EAAIP,EAAQO,EAAc,CAAC,GAAK,EAAIP,EAAQO,CAAW,EACpI,MAAMC,EAAgB,KAAK,IAAI,EAAGX,GAAU,iBAAiB,KAAK,cAAc,EAAI,CAAC,EAC/E,CAACrB,EAAuBhkC,CAAI,EAAIqlC,GAAU,cAAcW,CAAa,EACrEjO,EAAWiM,EAAsB,MAAMhkC,CAAI,EAC3C9C,EAAI2hC,EAAa5hB,EAAO,OAAS,EAAI,EACrC1Y,EAAK0Y,EAAO/f,CAAC,EAEb+oC,EAAY,CADPlO,EAAS,MAAM9a,EAAO/f,CAAC,CAAC,EACZqH,CAAE,EACzB,OAAAoE,EAAM,IAAIs9B,EAAW/oC,CAAC,EACf46B,CACT,CACA,OAAQ,CACN,GAAI,CAAC,KAAK,OACR,MAAO,CAAC,EAEV,KAAK,QAAQ,EACb,KAAM,CAACwM,EAAIC,CAAE,EAAI,CAACjD,GAAa,KAAK,OAAO,CAAC,CAAC,EAAGA,GAAa,KAAK,OAAO,GAAG,EAAE,CAAC,CAAC,EAC1Er9B,EAAQ,KAAK,IAAIqgC,EAAIC,CAAE,EACvBrgC,EAAO,KAAK,IAAIogC,EAAIC,CAAE,EACtB1F,EAAayF,EAAKC,EACxB,IAAI/C,EACA,KAAK,WAAa,SACpBA,EAAQ,KAAK,oBAAoB,CAAE,MAAAv9B,EAAO,KAAAC,EAAM,SAAU,KAAK,QAAS,CAAC,GAE3E,MAAMoiB,EAAI,KAAK,OAAO,OAChB,CAAE,aAAAoe,EAAc,UAAAT,CAAU,EAAI,KACpC,GAAI,CAAE,aAAAQ,CAAa,EAAI,KACnByB,EACA,SAASxB,CAAY,GAAKpe,GAAKoe,IACjCD,EAAe,KAAK,IAAI,EAAGne,CAAC,EAC5B4f,EAAiB,KAAK,gBAExB1E,IAAwBA,EAAQ,KAAK,gBAAgB,CACnD,MAAAv9B,EACA,KAAAC,EACA,UAAA+/B,EACA,aAAAQ,EACA,aAAAC,EACA,WAAA7F,EACA,SAAUqH,CACZ,CAAC,GACD,MAAMC,EAAgC,IAAI,IAC1C,OAAO3E,EAAM,OAAQ4E,GAAS,CAC5B,MAAM5iB,EAAW,KAAK,QAAQ4iB,CAAI,EAClC,OAAI,MAAM5iB,CAAQ,GAAK2iB,EAAc,IAAI3iB,CAAQ,EACxC,IAET2iB,EAAc,IAAI3iB,CAAQ,EACnB,GACT,CAAC,CACH,CACA,gBAAgB,CACd,MAAAvf,EACA,KAAAC,EACA,UAAA+/B,EACA,aAAAQ,EACA,aAAAC,EACA,WAAA7F,EACA,SAAA9G,CACF,EAAG,CACD,MAAMgN,EAAeM,GAAU,gBAAgB,CAC7C,MAAAphC,EACA,KAAAC,EACA,MAAO+/B,EACP,SAAUQ,EACV,SAAUC,EACV,OAAQ3M,CACV,CAAC,EACD,GAAI,CAACgN,EACH,MAAO,CAAC,EAEV,MAAMsB,EAAY,KAAK,KAAK,KAAK,OAAO,OAAS3B,CAAY,EACvDlD,EAAQ,CAAC,EACf,SAAW,CAACyE,EAAWt9B,CAAK,IAAK,KAAK,MAAM,QAAQ,EAAG,CACrD,GAAIA,EAAQ09B,EAAY,EACtB,SAEF,MAAMD,EAAOvH,EAAakG,EAAa,KAAKkB,EAAU,CAAC,CAAC,EAAIlB,EAAa,MAAMkB,EAAU,CAAC,CAAC,EAC3FzE,EAAM,OAAO74B,EAAO,EAAGy9B,CAAI,CAC7B,CACA,OAAO5E,CACT,CACA,oBAAoB,CAClB,MAAAv9B,EACA,KAAAC,EACA,SAAA6zB,CACF,EAAG,CACD,IAAI3zB,EACJ,KAAM,CAACi0B,EAAIC,CAAE,EAAI,KAAK,MAChBuL,EAAiB,KAAK,IAAIvL,EAAKD,CAAE,EACvC,OAAQj0B,EAAKihC,GAAU,oBAAoB,CAAE,MAAAphC,EAAO,KAAAC,EAAM,SAAA6zB,EAAU,eAAA8L,CAAe,CAAC,IAAM,KAAOz/B,EAAK,CAAC,CACzG,CACA,QAAQJ,EAAG,CAIT,GAHI,OAAOA,GAAM,WACfA,EAAI,IAAI,KAAKA,CAAC,GAEZ,EAAEA,aAAa,MACjB,MAAO,KAET,KAAK,QAAQ,EACb,IAAI,EACJ,SAAW,CAACiiC,EAAWt9B,CAAK,IAAK,KAAK,MAAM,QAAQ,EAClD,GAAI3E,GAAKiiC,EAAU,CAAC,GAAKjiC,GAAKiiC,EAAU,CAAC,EAAG,CAC1C,EAAIt9B,EACJ,KACF,CAEF,GAAI,IAAM,OACR,MAAO,KAET,MAAMiP,EAAI,KAAK,aAAa,CAAC,EAC7B,OAAIA,IAAM,OACD,IAEFA,CACT,CAOA,WAAW,CACT,MAAA4pB,EACA,OAAA1J,EACA,UAAAmN,CACF,EAAG,CACD,OAAOA,GAAa,KAAO1D,GAAsBC,EAAO1J,CAAM,EAAI4I,GAAeuE,CAAS,CAC5F,CACA,OAAOte,EAAG,CACR,OAAO,IAAI,KAAK,MAAM,OAAOA,CAAC,CAAC,CACjC,CACA,cAAcA,EAAG,CACf,OAAO,IAAI,KAAK,MAAM,cAAcA,CAAC,CAAC,CACxC,CACF,EACApnB,EAAiB,CACfm4B,EACF,EAAG4N,GAAkB,UAAW,YAAa,CAAC,EAC9C/lC,EAAiB,CACfm4B,EACF,EAAG4N,GAAkB,UAAW,eAAgB,CAAC,EACjD/lC,EAAiB,CACfm4B,EACF,EAAG4N,GAAkB,UAAW,eAAgB,CAAC,EACjD/lC,EAAiB,CACfm4B,EACF,EAAG4N,GAAkB,UAAW,WAAY,CAAC,EAC7C,IAAIgB,GAAmBhB,GACvB,SAASiB,GAA+B7pC,EAAGC,EAAG,CAC5C,OAAI,OAAOD,GAAM,UAAY,OAAOC,GAAM,SACjCD,EAAIC,EACF,OAAOD,GAAM,UAAY,OAAOC,GAAM,SACxCD,EAAE,cAAcC,CAAC,EACfD,GAAK,MAAQC,GAAK,KACpB,EACED,GAAK,KACP,GACEC,GAAK,KACP,EAEF,OAAOD,CAAC,EAAE,cAAc,OAAOC,CAAC,CAAC,CAC1C,CACA,SAAS6pC,GAAU3oC,EAAG,CACpB,OAAO,OAAOA,GAAM,WAAaA,EAAE,EAAIA,CACzC,CACA,SAAS4oC,GAAkB/pC,EAAGC,EAAG+pC,EAAY,CAC3C,UAAWC,KAAOjqC,EAAG,CACnB,MAAMkV,EAAQ80B,EAAWF,GAAU9pC,EAAEiqC,CAAG,CAAC,EAAGH,GAAU7pC,EAAEgqC,CAAG,CAAC,CAAC,EAC7D,GAAI/0B,IAAU,EACZ,OAAOA,CAEX,CACA,MAAO,EACT,CACA,IAAIg1B,GAAS,MAAMC,WAAgBrY,EAAK,CACtC,YAAYtc,EAAM,CAChB,IAAI9N,EACJ,MAAM,CAAE,UAAmC8N,GAAK,SAAU,CAAC,EAC3D,KAAK,KAAOA,EACZ,KAAK,QAAU,EACf,KAAK,SAAW,OAChB,KAAM,CAAE,OAAA2a,EAAQ,eAAAia,CAAe,EAAI50B,GAAsB,CAAC,EAC1D,KAAK,gBAAkB,GACnB2a,IAAW,SACb,KAAK,OAASA,GAEZia,IAAmB,SACrB,KAAK,eAAiBA,GAExB,KAAK,MAAQ1iC,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,IACrD,CACA,OAAO,GAAG5H,EAAO,CACf,OAAOA,aAAiBqqC,EAC1B,CACA,gBAAiB,CACf,IAAIziC,EACJ,MAAM,eAAe,EACjB,KAAK,SACNA,EAAK,KAAK,gBAAkB,MAAgBA,EAAG,UAAU,KAAK,MAAO,KAAK,OAAQ,KAAK,cAAc,EAE1G,CACA,SAAU,CACR,OAAO,KAAK,OAAS,IACvB,CACA,iBAAiB2iC,EAAe,CAK9B,GAJI,KAAK,eAAiB,KAAK,QAC7B,KAAK,cAAc,YAAY,KAAK,KAAK,EACzC,KAAK,MAAQ,QAEX,KAAK,MACP,MAAM,IAAI,MAAM,yDAAyD,EAE3E,MAAM,iBAAiBA,CAAa,CACtC,CACA,iBAAkB,CAChB,IAAI3iC,EACA,KAAK,OAEL,CAAC,KAAK,iBAAmBA,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,SAAW,KAE9E,KAAK,MAAQ,KAAK,cAAc,SAAS,CACvC,KAAM,KAAK,KACX,OAAQ,KAAK,OACb,eAAgB,KAAK,eACrB,mBAAoB,IAAM,KAAK,mBAAmB,EAClD,cAAe,IAAM,KAAK,cAAc,CAC1C,CAAC,EACH,CACA,oBAAqB,CACnB,IAAI4iC,EAAU,EACd,UAAW50B,KAAQ,KAAK,WAAW,EAC7BA,aAAgBy0B,KAClBG,GAAW50B,EAAK,SAGpB,OAAO40B,CACT,CACA,eAAgB,CACd,UAAW50B,KAAQ,KAAK,WAAW,EACjC,GAAI,CAACA,EAAK,QACR,MAAO,GAGX,MAAO,EACT,CACA,iBAAkB,CACZ,KAAK,QACP,KAAK,MAAM,QAAU,KAAK,QAE9B,CACA,UAAUjT,EAAQqP,EAAO,EAAG,CAC1B,GAAI,KAAK,UAAW,CAClB,MAAM,UAAUrP,EAAQqP,CAAI,EAC5B,MACF,CACA,IAAIuf,EAAavf,GACbA,EAAO,GAAK,KAAK,OAAS,QAC5Buf,EAAa,GAEf,MAAM,UAAU5uB,EAAQqP,EAAMuf,CAAU,CAC1C,CAEA,cAAcX,EAAIC,EAAI,CACpB,MAAO,EACT,CACA,aAAc,CACZ,YAAK,uBAAuB,EACrBwZ,GAAQ,YAAY,KAAK,QAAQ,CAC1C,CACA,wBAAyB,CACvB,OAAO,KAAK,YAAY,CAC1B,CACA,WAAY,CACV,IAAIziC,EAAIiL,EACR,MAAM43B,EAAS,MAAM,UAAU,EAG/B,OAFAA,EAAO,QAAU,EACjBA,EAAO,WAAa,IACd7iC,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,SAAW,IAAQ,KAAK,OAAS,OAEzE6iC,EAAO,UAAY,GACrB,KAAK,gBAAgB,GAEjB53B,EAAK,KAAK,OAAS,MAAgBA,EAAG,4BAA+B43B,EAAO,UAAY,GAC5F,KAAK,yBAAyB,GAEzBA,CACT,CACA,0BAA2B,CACzB,IAAI7iC,EACJ,MAAMkpB,EAAW,KAAK,SAAS,OAAQpD,GAAMA,EAAE,iBAAiB,UAAY,CAAC,EAC7E,KAAK,aAAaoD,CAAQ,EAC1B,MAAM4Z,EAAY5Z,EAAS,GAAG,EAAE,EAChC,KAAK,QAAUlpB,EAAkC8iC,GAAU,SAAW,KAAO9iC,EAAK,KAClF,KAAK,eAA8C8iC,GAAU,cAC/D,CACA,OAAOrZ,EAAW,CAChB,IAAIzpB,EAAIiL,EACR,KAAM,CAAE,KAAM,CAAE,KAAAlT,EAAO,MAAO,EAAI,CAAC,EAAG,OAAQgrC,CAAO,EAAI,KACnD,CAAE,MAAAC,EAAO,YAAAC,EAAa,MAAAC,EAAO,SAAAha,EAAU,SAAAzF,EAAU,eAAA0f,CAAe,EAAI,KAC1E,GAAI,CAAE,IAAAtc,EAAK,YAAAuc,EAAa,SAAAC,CAAS,EAAI5Z,EACrC,KAAM,CAAE,QAAA6Z,EAAS,MAAA5Z,CAAM,EAAID,EACrB8Z,EAAqB1c,EAAI,aAAa,EACtC2c,EAAUR,GAAS,GAAKC,GAAeK,EAC7C,IAAIG,EAAeD,EACfE,EAAoB,GACxB,UAAW3gB,KAASmG,EAGlB,GAFAua,IAAiBA,EAAe1gB,EAAM,cAAgB,MAAQA,EAAM,OAAS,GAC7E2gB,IAAsBA,EAAoB3gB,EAAM,cAAgB,MAAQA,EAAM,OAAS,GACnF0gB,EACF,MAMJ,GAHI1rC,GACwBgrC,IAAO,CAAE,KAAAhrC,EAAM,MAAO,KAAM,QAAAyrC,EAAS,aAAAC,EAAc,eAAAN,EAAgB,UAAA1Z,EAAW,YAAA2Z,CAAY,CAAC,EAEnHD,EACFC,EAAc,yBACLF,EAAO,CAChB,MAAMS,EAAc,KAAK,YAAY,GACjC,KAAK,WAAa,QAAU,CAAC,KAAK,SAAS,OAAOA,CAAW,KAC/DP,EAAc,iBACd,KAAK,SAAWO,EAEpB,CACA,GAAI,CAACH,GAAW,CAACC,GAAgB,CAACC,GAAqB,CAACN,EAAa,CAC/DrrC,GAAQ2xB,GACgBqZ,IAAO,CAAE,KAAAhrC,EAAM,OAAQ,WAAY,UAAA0xB,EAAW,OAAQ,KAAK,UAAW,MAAO,IAAK,CAAC,EAE3GyZ,GAASxZ,IACXA,EAAM,gBACNA,EAAM,cAAgB,KAAK,UAAU,OAEvC,KAAK,UAAU,CAAE,UAAW,EAAM,CAAC,EACnC,MACF,CACA,MAAMka,EAAe,KAAK,QAC1B,GAAIV,EAAO,CAST,GARArc,EAAMqc,EAAM,QACZrc,EAAI,KAAK,EACTA,EAAI,aAAaqc,EAAM,WAAY,EAAG,EAAGA,EAAM,WAAY,EAAG,CAAC,EAC3DE,IAAgB,mBAClBA,EAAcK,GAAgBR,GAE5BG,GACFF,EAAM,MAAM,EACVG,EAAU,CACZ,KAAM,CAAE,MAAAjgB,EAAO,OAAAC,EAAQ,EAAA7pB,EAAG,EAAA+oB,CAAE,EAAI8gB,EACNN,IAAO,KAAO,CACtC,KAAAhrC,EACA,SAAAsrC,EACA,aAAcxc,EAAI,aAAa,EAC/B,UAAA4C,EACA,MAAO,IACT,EAAE,EACF5C,EAAI,UAAU,EACdA,EAAI,KAAKrtB,EAAG+oB,EAAGa,EAAOC,CAAM,EAC5BwD,EAAI,KAAK,CACX,CACAA,EAAI,aAAa0c,CAAkB,CACrC,MACE1c,EAAI,aAAe,KAAK,QAI1B,GAFA,KAAK,uBAAuB,EAC5B,KAAK,OAAO,UAAUA,CAAG,EACrBpD,EAAU,CACZ,KAAM,CAAE,EAAAjqB,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,CAAO,EAAII,EAChCoD,EAAI,KAAK,EACiBkc,IAAO,KAAO,CAAE,KAAAhrC,EAAM,SAAA0rB,EAAU,aAAcoD,EAAI,aAAa,EAAG,UAAA4C,EAAW,MAAO,IAAK,EAAE,EACrH5C,EAAI,UAAU,EACdA,EAAI,KAAKrtB,EAAG+oB,EAAGa,EAAOC,CAAM,EAC5BwD,EAAI,KAAK,EACTwc,EAAW,KAAK,OAAO,cAAc5f,CAAQ,CAC/C,CACA,MAAMogB,EAAqB,KAAK,mBAAmB,EAC/CZ,GACF,KAAK,aAAa/Z,CAAQ,EACtBka,IAAgB,mBAClBA,EAAc,KACPS,GACT,KAAK,aAAa3a,CAAQ,EAG5B,MAAM4a,EADuBV,IAAgB3Z,EAAU,aAAe4Z,IAAa5Z,EAAU,UAAY5C,IAAQ4C,EAAU,IACzE5uB,EAAcD,EAAgB,CAAC,EAAG6uB,CAAS,EAAG,CAAE,IAAA5C,EAAK,YAAAuc,EAAa,SAAAC,CAAS,CAAC,EAAI5Z,EAClI,IAAIsa,EAAU,EACd,UAAWhhB,KAASmG,EAAU,CAC5B,GAAI,CAACnG,EAAM,SAAW,CAAC6gB,EAAc,CACnC7gB,EAAM,UAAU,EACZ2G,IACFqa,GAAWhhB,EAAM,UAAU,OAC7B,QACF,CACA,GAAI,CAACqgB,GAAergB,EAAM,QAAU,EAAG,CACjC2G,IACFqa,GAAWhhB,EAAM,UAAU,OAC7B,QACF,CACA8D,EAAI,KAAK,EACT9D,EAAM,OAAO+gB,CAAkB,EAC/Bjd,EAAI,QAAQ,CACd,CAOA,GANI6C,IACFA,EAAM,cAAgBqa,GACxB,MAAM,OAAOta,CAAS,EAClBhG,GACFoD,EAAI,QAAQ,EAEVgd,EACF,UAAW9gB,KAAS,KAAK,gBACvBA,EAAM,UAAU,CAAE,UAAW,SAAU,CAAC,EAGxCmgB,IACExZ,GACFA,EAAM,iBACR7C,EAAI,QAAQ,EACRuc,GACFF,EAAM,SAAS,GAChBj4B,GAAMjL,EAAKkjC,EAAM,SAAS,kBAAoB,MAAgBj4B,EAAG,KAAKjL,CAAE,GAEvEjI,GAAQ2xB,GACgBqZ,IAAO,CAAE,KAAAhrC,EAAM,OAAQ,WAAY,QAAAgsC,EAAS,UAAAta,EAAW,OAAQ,KAAK,UAAW,MAAO,IAAK,CAAC,CAE1H,CACA,aAAaP,EAAU,CACrB,KAAK,YAAc,GACnBA,EAAS,KACP,CAAC5wB,EAAGC,IAAM,CACR,IAAIyH,EAAIiL,EACR,OAAOo3B,GACL,CAAC/pC,EAAE,OAAQ,IAAI0H,EAAK1H,EAAE,iBAAmB,KAAO0H,EAAK,CAAC,OAAQ,MAAM,EAAG1H,EAAE,YAAY,EACrF,CAACC,EAAE,OAAQ,IAAI0S,EAAK1S,EAAE,iBAAmB,KAAO0S,EAAK,CAAC,OAAQ,MAAM,EAAG1S,EAAE,YAAY,EACrF4pC,EACF,CACF,CACF,CACF,CACA,OAAO,YAAYrZ,EAAO,CACxB,IAAIjP,EAAO,IACPC,EAAQ,KACRqK,EAAM,IACNC,EAAS,KACb,UAAWlC,KAAK4G,EAAO,CACrB,GAAI,CAAC5G,EAAE,QACL,SACF,MAAMgE,EAAOhE,EAAE,uBAAuB,EACtC,GAAI,CAACgE,EACH,SACF,KAAM,CAAE,EAAA1sB,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,CAAO,EAAI6C,EAC5B1sB,EAAIqgB,IACNA,EAAOrgB,GAEL+oB,EAAI4B,IACNA,EAAM5B,GAEJ/oB,EAAI4pB,EAAQtJ,IACdA,EAAQtgB,EAAI4pB,GAEVb,EAAIc,EAASe,IACfA,EAAS7B,EAAIc,EAEjB,CACA,OAAO,IAAIiB,EAAKzK,EAAMsK,EAAKrK,EAAQD,EAAMuK,EAASD,CAAG,CACvD,CAMA,kCAAkC+B,EAAM,CACtC,KAAK,SAAWA,EAAO,KAAK,cAAcA,CAAI,EAAI,MACpD,CACF,EACAsc,GAAO,UAAY,QACnBrnC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,EACR,UAAYlrB,GAAM2nB,GAAM,EAAG3nB,EAAG,CAAC,CACjC,CAAC,CACH,EAAG+oC,GAAO,UAAW,UAAW,CAAC,EACjC,IAAIwB,EAAQxB,GACRyB,GAAW,KAAM,CACnB,YAAYC,EAAQ,CAAC,EAAG,CACtB,KAAK,MAAQA,CACf,CACF,EACIC,GAAiB,cAAcF,EAAS,CAC1C,YAAYC,EAAO7Q,EAAQ,EAAG,CAC5B,MAAM6Q,CAAK,EACX,KAAK,MAAQ7Q,CACf,CACA,eAAexM,EAAKX,EAAM,CAExB,KAAM,CAAE,MAAAge,EAAO,MAAA7Q,CAAM,EAAI,KACnBnB,EAAUD,GAAkBU,GAAUU,EAAQ,EAAW,CAAC,EAC1D1L,EAAM,KAAK,IAAIuK,CAAO,EACtBtK,EAAM,KAAK,IAAIsK,CAAO,EACtBvL,EAAIT,EAAK,MACTU,EAAIV,EAAK,OACTO,EAAKP,EAAK,EAAIS,EAAI,GAClBD,EAAKR,EAAK,EAAIU,EAAI,GACxB,GAAID,EAAI,GAAKC,EAAI,EAAG,CAClB,MAAMwd,EAAW,KAAK,KAAKxd,EAAIA,EAAID,EAAIA,CAAC,EAAI,EACtC0d,EAAgB,KAAK,MAAMzd,EAAGD,CAAC,EACrC,IAAI2d,EACApS,EAAU,KAAK,GAAK,EACtBoS,EAAiBpS,EACRA,EAAU,KAAK,GACxBoS,EAAiB,KAAK,GAAKpS,EAClBA,EAAU,IAAM,KAAK,GAC9BoS,EAAiBpS,EAAU,KAAK,GAEhCoS,EAAiB,EAAI,KAAK,GAAKpS,EAEjC,MAAM1G,EAAI4Y,EAAW,KAAK,IAAI,KAAK,IAAIE,EAAiBD,CAAa,CAAC,EAChEE,EAAW1d,EAAI,qBAAqBJ,EAAKkB,EAAM6D,EAAG9E,EAAKkB,EAAM4D,EAAG/E,EAAKkB,EAAM6D,EAAG9E,EAAKkB,EAAM4D,CAAC,EAChG,UAAW1rB,KAAQokC,EACjBK,EAAS,aAAazkC,EAAK,OAAQA,EAAK,KAAK,EAE/C,OAAOykC,CACT,CACA,MAAO,OACT,CACF,EACIC,GAAyB,6CACzBC,GAAS,MAAMC,WAAgBta,EAAK,CACtC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,YAAc,EACnB,KAAK,cAAgB,EACrB,KAAK,KAAOsa,GAAQ,cAAc,KAClC,KAAK,OAASA,GAAQ,cAAc,OACpC,KAAK,YAAcA,GAAQ,cAAc,YACzC,KAAK,SAAWA,GAAQ,cAAc,SACtC,KAAK,eAAiBA,GAAQ,cAAc,eAC5C,KAAK,QAAUA,GAAQ,cAAc,QACrC,KAAK,SAAWA,GAAQ,cAAc,SACtC,KAAK,QAAUA,GAAQ,cAAc,QACrC,KAAK,WAAaA,GAAQ,cAAc,UAC1C,CAIA,kBAAmB,CACjB,KAAM,CAAE,cAAAC,CAAc,EAAI,KAAK,YAC/B,OAAO,OAAO,KAAMA,CAAa,CACnC,CACA,cAAe,CACb,KAAM,CAAE,KAAAC,CAAK,EAAI,KACjB,IAAIC,EACJ,GAA6BD,GAAK,WAAW,iBAAiB,IAAOC,EAAsBL,GAAuB,KAAKI,CAAI,GAAI,CAC7H,MAAMvR,EAAQ,WAAWwR,EAAoB,CAAC,CAAC,EACzCC,EAAS,CAAC,EACVC,EAAaF,EAAoB,CAAC,EAClCG,EAAa,yCACnB,IAAIlf,EACJ,KAAOA,EAAIkf,EAAW,KAAKD,CAAU,GACnCD,EAAO,KAAKhf,EAAE,CAAC,CAAC,EAElB,KAAK,SAAW,IAAIqe,GAClBW,EAAO,IAAI,CAACtX,EAAOjpB,KAAW,CAAE,MAAAipB,EAAO,OAAQjpB,GAASugC,EAAO,OAAS,EAAG,EAAE,EAC7EzR,CACF,CACF,MACE,KAAK,SAAW,MAEpB,CAOA,MAAMxzB,EAAOq5B,EAAQ,CACnB,IAAIl5B,EAAIiL,EAAIC,EACZ,MAAM+5B,GAAc/5B,GAAMD,GAAMjL,EAAK,KAAK,eAAiB,KAAO,OAASA,EAAG,SAAW,KAAO,OAASiL,EAAG,aAAe,KAAOC,EAAK,EACjIg6B,EAAe,KAAK,MAAMrlC,EAAQolC,CAAU,EAAIA,EACtD,OAAI/L,GAAU,KACLgM,EACEhM,IAAW,EACb,EACEA,EAAS,EACX,KAAK,KAAKA,EAAS+L,CAAU,EAAIA,EAEnC,KAAK,OAAO/L,EAASr5B,GAASolC,CAAU,EAAIA,EAAaC,CAClE,CACA,WAAWre,EAAK7d,EAAM,CACpB,KAAK,WAAW6d,EAAK7d,CAAI,EACzB,KAAK,aAAa6d,EAAK7d,CAAI,CAC7B,CACA,WAAW6d,EAAK7d,EAAM,CACpB,GAAI,KAAK,KAAM,CACb,KAAM,CAAE,YAAAm8B,CAAY,EAAIte,EACxB,KAAK,UAAUA,CAAG,EAClB,KAAK,eAAeA,CAAG,EACvB,KAAK,YAAYA,CAAG,EACpB,KAAK,YAAYA,EAAK7d,CAAI,EAC1B6d,EAAI,YAAcse,CACpB,CACAte,EAAI,YAAc,kBACpB,CACA,YAAYA,EAAK7d,EAAM,CACrBA,EAAO6d,EAAI,KAAK7d,CAAI,EAAI6d,EAAI,KAAK,CACnC,CACA,UAAUA,EAAK,CACb,IAAI7mB,EAAIiL,EACR4b,EAAI,WAAa5b,GAAMjL,EAAK,KAAK,WAAa,KAAO,OAASA,EAAG,eAAe6mB,EAAK,KAAK,YAAY,CAAC,IAAM,KAAO5b,EAAK,KAAK,IAChI,CACA,eAAe4b,EAAK,CAClBA,EAAI,aAAe,KAAK,QAAU,KAAK,WACzC,CACA,YAAYA,EAAK,CACf,IAAI7mB,EAAIiL,EACR,MAAMg6B,GAAch6B,GAAMjL,EAAK,KAAK,eAAiB,KAAO,OAASA,EAAG,OAAO,aAAe,KAAOiL,EAAK,EACpGm6B,EAAa,KAAK,WACUA,GAAW,UAC3Cve,EAAI,YAAcue,EAAW,MAC7Bve,EAAI,cAAgBue,EAAW,QAAUH,EACzCpe,EAAI,cAAgBue,EAAW,QAAUH,EACzCpe,EAAI,WAAaue,EAAW,KAAOH,EAEvC,CACA,aAAape,EAAK7d,EAAM,CACtB,GAAI,KAAK,QAAU,KAAK,YAAa,CACnC,KAAM,CAAE,YAAAm8B,CAAY,EAAIte,EACxBA,EAAI,YAAc,KAAK,OACvBA,EAAI,aAAe,KAAK,QAAU,KAAK,cACvCA,EAAI,UAAY,KAAK,YACjB,KAAK,UACPA,EAAI,YAAY,KAAK,QAAQ,EAE3B,KAAK,iBACPA,EAAI,eAAiB,KAAK,gBAExB,KAAK,UACPA,EAAI,QAAU,KAAK,SAEjB,KAAK,WACPA,EAAI,SAAW,KAAK,UAEtB,KAAK,cAAcA,EAAK7d,CAAI,EAC5B6d,EAAI,YAAcse,CACpB,CACF,CACA,cAActe,EAAK7d,EAAM,CACvBA,EAAO6d,EAAI,OAAO7d,CAAI,EAAI6d,EAAI,OAAO,CACvC,CACA,cAAcrtB,EAAG+oB,EAAG,CAClB,OAAO,KAAK,cAAc/oB,EAAG+oB,CAAC,CAChC,CACF,EACAkiB,GAAO,cAAgB,CACrB,KAAM,QACN,OAAQ,OACR,YAAa,EACb,SAAU,OACV,eAAgB,EAChB,QAAS,OACT,SAAU,OACV,QAAS,EACT,WAAY,MACd,EACAtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG8f,GAAO,UAAW,cAAe,CAAC,EACrCtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG8f,GAAO,UAAW,gBAAiB,CAAC,EACvCtpC,EAAiB,CACfwpB,EAAqB,CAAE,OAAQ,EAAG,SAAWpkB,GAAMA,EAAE,aAAa,CAAE,CAAC,CACvE,EAAGkkC,GAAO,UAAW,OAAQ,CAAC,EAC9BtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG8f,GAAO,UAAW,SAAU,CAAC,EAChCtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG8f,GAAO,UAAW,cAAe,CAAC,EACrCtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG8f,GAAO,UAAW,WAAY,CAAC,EAClCtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG8f,GAAO,UAAW,iBAAkB,CAAC,EACxCtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG8f,GAAO,UAAW,UAAW,CAAC,EACjCtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG8f,GAAO,UAAW,WAAY,CAAC,EAClCtpC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,EACR,UAAYlrB,GAAM2nB,GAAM,EAAG3nB,EAAG,CAAC,CACjC,CAAC,CACH,EAAGgrC,GAAO,UAAW,UAAW,CAAC,EACjCtpC,EAAiB,CACfwpB,EAAqB,CAAE,OAAQ,EAAG,uBAAwB,EAAK,CAAC,CAClE,EAAG8f,GAAO,UAAW,aAAc,CAAC,EACpC,IAAIY,GAAQZ,GACRa,GAAQ,cAAcD,EAAM,CAC9B,YAAYv3B,EAAO,CAAC,EAAG,CACrB,MAAMA,CAAI,EACV,KAAK,GAAK,EACV,KAAK,GAAK,EACV,KAAK,GAAK,EACV,KAAK,GAAK,EACV,KAAK,UAAY,GACjB,KAAK,QAAU,GACf,KAAK,QAAU,GACf,KAAK,iBAAiB,CACxB,CACA,aAAc,CACZ,OAAO,IAAIwW,EAAK,KAAK,GAAI,KAAK,GAAI,KAAK,GAAK,KAAK,GAAI,KAAK,GAAK,KAAK,EAAE,CACxE,CACA,cAAc0E,EAAIC,EAAI,CACpB,MAAO,EACT,CACA,OAAOQ,EAAW,CAChB,IAAIzpB,EACJ,KAAM,CAAE,IAAA6mB,EAAK,YAAAuc,EAAa,MAAA1Z,CAAM,EAAID,EACpC,GAAI,KAAK,QAAU,GAAK,CAAC2Z,EAAa,CAChC1Z,IACFA,EAAM,cAAgB,KAAK,UAAU,OACvC,MACF,CACA,KAAK,uBAAuB,EAC5B,KAAK,OAAO,UAAU7C,CAAG,EACzB,GAAI,CAAE,GAAAnD,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAG,EAAI,KACzBH,EAAK,KAAK,MAAMA,CAAE,EAClBC,EAAK,KAAK,MAAMA,CAAE,EAClBC,EAAK,KAAK,MAAMA,CAAE,EAClBC,EAAK,KAAK,MAAMA,CAAE,EAClB,KAAM,CAAE,KAAA+gB,EAAM,QAAAhC,EAAS,QAAA2C,CAAQ,EAAI,KAEnC,GADmB,CAAC,EAAEA,GAAWX,GACjB,CACd,KAAM,CAAE,YAAAY,CAAY,EAAI,KACxB3e,EAAI,UAAY+d,EAChB/d,EAAI,YAAc+b,EAAU4C,EAC5B3e,EAAI,UAAU,EACdA,EAAI,OAAOnD,EAAIC,CAAE,EACjBkD,EAAI,OAAOjD,EAAID,CAAE,EACjBkD,EAAI,OAAOjD,EAAIC,CAAE,EACjBgD,EAAI,OAAOnD,EAAIG,CAAE,EACjBgD,EAAI,UAAU,EACdA,EAAI,KAAK,CACX,CACA,KAAM,CAAE,OAAA4e,EAAQ,YAAAC,EAAa,UAAAC,EAAW,QAAAC,CAAQ,EAAI,KAEpD,GADqB,CAAC,GAAGD,GAAaC,IAAYH,GAAUC,GAC1C,CAChB,KAAM,CAAE,cAAAG,EAAe,SAAAC,EAAU,eAAAC,EAAgB,QAAAC,EAAS,SAAAC,CAAS,EAAI,KACvEpf,EAAI,YAAc4e,EAClB5e,EAAI,YAAc+b,EAAUiD,EAC5Bhf,EAAI,UAAY6e,EACZI,GACFjf,EAAI,YAAYif,CAAQ,EAEtBC,IACFlf,EAAI,eAAiBkf,GAEnBC,IACFnf,EAAI,QAAUmf,GAEZC,IACFpf,EAAI,SAAWof,GAEjBpf,EAAI,UAAU,EACV8e,IACF9e,EAAI,OAAOnD,EAAIC,CAAE,EACjBkD,EAAI,OAAOjD,EAAID,CAAE,GAEfiiB,IACF/e,EAAI,OAAOjD,EAAIC,CAAE,EACjBgD,EAAI,OAAOnD,EAAIG,CAAE,GAEnBgD,EAAI,OAAO,CACb,EACC7mB,EAAK,KAAK,aAAe,MAAgBA,EAAG,UAAU,EACvD,MAAM,OAAOypB,CAAS,CACxB,CACF,EACA6b,GAAM,UAAY,QAClBA,GAAM,cAAgBzqC,EAAcD,EAAgB,CAAC,EAAGyqC,GAAM,aAAa,EAAG,CAC5E,YAAa,CACf,CAAC,EACDlqC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG2gB,GAAM,UAAW,KAAM,CAAC,EAC3BnqC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG2gB,GAAM,UAAW,KAAM,CAAC,EAC3BnqC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG2gB,GAAM,UAAW,KAAM,CAAC,EAC3BnqC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG2gB,GAAM,UAAW,KAAM,CAAC,EAC3BnqC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG2gB,GAAM,UAAW,YAAa,CAAC,EAClCnqC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG2gB,GAAM,UAAW,UAAW,CAAC,EAChCnqC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG2gB,GAAM,UAAW,UAAW,CAAC,EAChC,IAAIY,GAA+B,IAAI,QACnCC,GAA+B,IAAI,QACvC,SAASC,GAAKj4B,EAAQk4B,EAAa,CACjC,IAAIrmC,EAAIiL,EAAIC,EACZ,MAAMo7B,EAAmB,KAAK,UAAUn4B,EAAQ,KAAM,CAAC,EACvD,OAAK+3B,GAAa,IAAIG,CAAW,GAC/BH,GAAa,IAAIG,EAA6B,IAAI,GAAK,GAElDrmC,EAAKkmC,GAAa,IAAIG,CAAW,IAAM,MAAgBrmC,EAAG,IAAIsmC,CAAgB,IAClFr7B,EAAKi7B,GAAa,IAAIG,CAAW,IAAM,MAAgBp7B,EAAG,IAAIq7B,EAAkBD,EAAYl4B,CAAM,CAAC,GAE9FjD,EAAKg7B,GAAa,IAAIG,CAAW,IAAM,KAAO,OAASn7B,EAAG,IAAIo7B,CAAgB,CACxF,CACA,SAASC,GAAgBC,EAAQ,CAC/B,MAAO,CAACr4B,KAAWs4B,IAAS,CAC1B,IAAIzmC,EAAIiL,EAAIC,EACZ,MAAMo7B,EAAmB,KAAK,UAAUn4B,EAAQ,KAAM,CAAC,EACvD,OAAKg4B,GAAa,IAAIK,CAAM,GAC1BL,GAAa,IAAIK,EAAwB,IAAI,GAAK,GAE7CxmC,EAAKmmC,GAAa,IAAIK,CAAM,IAAM,MAAgBxmC,EAAG,IAAIsmC,CAAgB,IAC7Er7B,EAAKk7B,GAAa,IAAIK,CAAM,IAAM,MAAgBv7B,EAAG,IAAIq7B,EAAkBE,EAAOr4B,EAAQ,GAAGs4B,CAAI,CAAC,GAE7Fv7B,EAAKi7B,GAAa,IAAIK,CAAM,IAAM,KAAO,OAASt7B,EAAG,IAAIo7B,CAAgB,CACnF,CACF,CACA,IAAII,GAAW,SACf,SAASC,GAAyB74B,EAAM,CACtC,KAAM,CAAE,OAAAmX,EAAS,EAAG,SAAAL,CAAS,EAAI9W,GAAsB,CAAC,EACxD,OAAO6W,EAAqB,CAAE,OAAAM,EAAQ,KAAM,OAAQ,SAAAL,CAAS,CAAC,CAChE,CACA,IAAIgiB,GAAQ,MAAMC,WAAexB,EAAM,CACrC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,MAAQ,CAAC,EACd,KAAK,KAAO,OACZ,KAAK,WAAa,GAClB,KAAK,SAAW,GAChB,KAAK,WAAa,aAClB,KAAK,UAAYwB,GAAO,cAAc,UACtC,KAAK,aAAeA,GAAO,cAAc,YAC3C,CACA,cAAe,CACb,IAAI7mC,EAAIiL,EACR,KAAK,OAASA,GAAMjL,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,MAAM;AAAA,CAAI,EAAE,IAAK,GAAM,EAAE,KAAK,CAAC,IAAM,KAAOiL,EAAK,CAAC,CAC9G,CACA,IAAI,MAAO,CACT,OAAI,KAAK,OAAS,MAAQ,KAAK,cAC7B,KAAK,WAAa,GAClB,KAAK,MAAQ67B,GAAQ,IAAI,GAEpB,KAAK,KACd,CACA,aAAc,CACZ,KAAM,CAAE,EAAAttC,EAAG,EAAA+oB,EAAG,MAAAwkB,EAAO,WAAAC,EAAY,aAAAC,EAAc,UAAAC,CAAU,EAAI,KACvD,CAAE,IAAA/iB,EAAK,KAAAtK,EAAM,MAAAuJ,EAAO,OAAAC,CAAO,EAAIwjB,GAAO,qBAC1CE,EACAD,GAAQ,IAAI,EACZG,EACAC,EACAF,CACF,EACA,OAAO,IAAI1iB,EAAK9qB,EAAIqgB,EAAM0I,EAAI4B,EAAKf,EAAOC,CAAM,CAClD,CACA,cAAc8jB,EAAM,CAClB,IAAInnC,EAAIiL,EACR,GAAI,KAAK,WACP,OAAO,KAAK,WAEd,MAAMm8B,EAAUP,GAAO,YAAYM,EAAM,KAAK,KAAM,KAAK,aAAc,KAAK,SAAS,EACrF,QAEInnC,EAAKonC,EAAQ,wBAA0B,KAAOpnC,EAAKonC,EAAQ,kBAAoBn8B,EAAKm8B,EAAQ,yBAA2B,KAAOn8B,EAAKm8B,EAAQ,gBAEjJ,CACA,cAAc5tC,EAAG+oB,EAAG,CAClB,MAAM8kB,EAAQ,KAAK,eAAe7tC,EAAG+oB,CAAC,EAChC2D,EAAO,KAAK,YAAY,EAC9B,OAAOA,EAAOA,EAAK,cAAcmhB,EAAM,EAAGA,EAAM,CAAC,EAAI,EACvD,CACA,OAAO5d,EAAW,CAChB,KAAM,CAAE,IAAA5C,EAAK,YAAAuc,EAAa,MAAA1Z,CAAM,EAAID,EACpC,GAAI,KAAK,QAAU,GAAK,CAAC2Z,EAAa,CAChC1Z,IACFA,EAAM,cAAgB,KAAK,UAAU,OACvC,MACF,CACA,GAAI,CAAC,KAAK,MAAM,QAAU,CAAC,KAAK,aAAc,CACxCA,IACFA,EAAM,cAAgB,KAAK,UAAU,OACvC,MACF,CACA,KAAK,uBAAuB,EAC5B,KAAK,OAAO,UAAU7C,CAAG,EACzB,KAAM,CAAE,KAAA+d,EAAM,OAAAa,EAAQ,YAAAC,CAAY,EAAI,KACtC7e,EAAI,KAAO,KAAK,KAChBA,EAAI,UAAY,KAAK,UACrBA,EAAI,aAAe,KAAK,aACxB,MAAMoe,EAAa,KAAK,aAAa,OAAO,YAAc,EACpD,CAAE,YAAAE,CAAY,EAAIte,EACxB,GAAI+d,EAAM,CACR/d,EAAI,UAAY+d,EAChB/d,EAAI,YAAcse,EAAc,KAAK,QAAU,KAAK,YACpD,KAAM,CAAE,WAAAC,CAAW,EAAI,KACWA,GAAW,UAC3Cve,EAAI,YAAcue,EAAW,MAC7Bve,EAAI,cAAgBue,EAAW,QAAUH,EACzCpe,EAAI,cAAgBue,EAAW,QAAUH,EACzCpe,EAAI,WAAaue,EAAW,KAAOH,GAErC,KAAK,YAAY,CAACkC,EAAM3tC,EAAG+oB,IAAMsE,EAAI,SAASsgB,EAAM3tC,EAAG+oB,CAAC,CAAC,CAC3D,CACA,GAAIkjB,GAAUC,EAAa,CACzB7e,EAAI,YAAc4e,EAClB5e,EAAI,UAAY6e,EAChB7e,EAAI,YAAcse,EAAc,KAAK,QAAU,KAAK,cACpD,KAAM,CAAE,SAAAW,EAAU,eAAAC,EAAgB,QAAAC,EAAS,SAAAC,CAAS,EAAI,KACpDH,GACFjf,EAAI,YAAYif,CAAQ,EAEtBC,IACFlf,EAAI,eAAiBkf,GAEnBC,IACFnf,EAAI,QAAUmf,GAEZC,IACFpf,EAAI,SAAWof,GAEjB,KAAK,YAAY,CAACkB,EAAM3tC,EAAG+oB,IAAMsE,EAAI,WAAWsgB,EAAM3tC,EAAG+oB,CAAC,CAAC,CAC7D,CACA,MAAM,OAAOkH,CAAS,CACxB,CACA,YAAY6d,EAAgB,CAC1B,KAAM,CAAE,MAAAP,EAAO,EAAAvtC,EAAG,EAAA+oB,CAAE,EAAI,KAClBglB,EAAcR,EAAM,IAAKI,GAAS,KAAK,cAAcA,CAAI,CAAC,EAC1DK,EAAcD,EAAY,OAAO,CAACjvC,EAAGC,IAAMD,EAAIC,EAAG,CAAC,EACzD,IAAIkvC,GAAWF,EAAY,CAAC,EAAIC,GAAeX,GAAO,oBAAoB,KAAK,YAAY,EAC3F,QAAS/tC,EAAI,EAAGA,EAAIiuC,EAAM,OAAQjuC,IAChCwuC,EAAeP,EAAMjuC,CAAC,EAAGU,EAAG+oB,EAAIklB,CAAO,EACvCA,GAAWF,EAAYzuC,CAAC,CAE5B,CACA,OAAO,UAAU4uC,EAAMC,EAAUC,EAAWC,EAAWC,EAAUC,EAAU,CACzE,MAAMC,EAAcD,IAAa,OAC3BE,EAAW,IAAIC,GAAaL,CAAS,EACrCd,EAAQW,EAAK,MAAM,QAAQ,EACjC,GAAIX,EAAM,SAAW,EACnB,MAAO,CAAE,MAAO,OAAQ,UAAW,EAAM,EAE3C,GAAIe,IAAa,QAAS,CACxB,KAAM,CAAE,KAAMK,EAAW,UAAWC,CAAW,EAAIvB,GAAO,aACxDE,EAAM,CAAC,EACPY,EACAM,EACAD,EAAc,OAAS,OACzB,EACA,MAAO,CAAE,MAAOG,GAAa,KAAO,CAACA,CAAS,EAAI,OAAQ,UAAWC,CAAW,CAClF,CACA,MAAMC,EAAe,CAAC,EACtB,IAAIC,EAAmB,EACnBC,EAAY,GAChB,UAAWpB,KAAQJ,EAAO,CACxB,MAAMyB,EAAc3B,GAAO,SACzBM,EACAQ,EACAC,EACAK,EACAJ,EACAC,EACAQ,EACAN,CACF,EACA,GAAIQ,GAAe,KACjB,MAAO,CAAE,MAAO,OAAQ,UAAW,EAAM,EAI3C,GAFAH,EAAa,KAAK,GAAGG,EAAY,MAAM,EACvCF,EAAmBE,EAAY,iBAC3BA,EAAY,UAAW,CACzBD,EAAY,GACZ,KACF,CACF,CACA,MAAO,CAAE,MAAOF,EAAc,UAAAE,CAAU,CAC1C,CACA,OAAO,KAAKb,EAAMC,EAAUC,EAAWC,EAAWC,EAAUC,EAAW,WAAY,CACjF,IAAI/nC,EACJ,KAAM,CAAE,MAAA+mC,EAAO,UAAAwB,CAAU,EAAI1B,GAAO,UAAUa,EAAMC,EAAUC,EAAWC,EAAWC,EAAUC,CAAQ,EACtG,MAAO,CAAE,MAAO/nC,EAA8B+mC,GAAM,KAAK;AAAA,CAAI,EAAE,KAAK,IAAM,KAAO/mC,EAAK,GAAI,UAAAuoC,CAAU,CACtG,CACA,OAAO,SAASb,EAAMC,EAAUC,EAAWK,EAAUJ,EAAWC,EAAUQ,EAAkBN,EAAa,CAEvG,GADAN,EAAOA,EAAK,KAAK,EACb,CAACA,EACH,MAAO,CAAE,OAAQ,CAAC,EAAG,UAAW,GAAO,iBAAAY,CAAiB,EAE1D,MAAMG,EAAcR,EAAS,KAAKP,CAAI,EACtC,GAAIe,EAAY,OAASd,EACvB,MAAO,CACL,OAAQ,CAACD,CAAI,EACb,UAAW,GACX,iBAAkBY,EAAmBG,EAAY,MACnD,EAEF,GAAIA,EAAY,OAASb,GAAaK,EAAS,MAAM,GAAG,EAAIN,EAC1D,OAAOK,EAAc,CAAE,OAAQ,CAAC,EAAG,UAAW,GAAM,iBAAAM,CAAiB,EAAI,OAE3E,MAAMI,EAAQhB,EAAK,MAAM,MAAM,EACzBiB,EAAa9B,GAAO,qBACxB6B,EACAf,EACAC,EACAK,EACAJ,EACAC,EACAQ,EACAN,CACF,EACA,GAAIW,GAAc,KAChB,OAEFL,EAAmBK,EAAW,iBAC9B,GAAI,CAAE,MAAA5B,CAAM,EAAI4B,EAChB,GAAI,EAAEA,EAAW,wBAA0BA,EAAW,gBAAiB,CACrE,MAAMC,EAAaD,EAAW,MAAM,OAC9BE,EAAWhC,GAAO,iBAAiB6B,EAAOf,EAAUM,EAAUW,CAAU,EAC1EC,EAAS,SAAW9B,EAAM,SAC5BA,EAAQ8B,EAEZ,CAEA,MAAO,CAAE,OADW9B,EAAM,IAAK+B,GAAOA,EAAG,KAAK,GAAG,CAAC,EACpB,UAAWH,EAAW,eAAgB,iBAAAL,CAAiB,CACvF,CACA,OAAO,UAAUS,EAAMC,EAAgBrB,EAAUsB,EAAShB,EAAU,CAClE,MAAMiB,EAAmB3kC,GAAUsiC,GAAO,iBAAiB,SAASkC,EAAKxkC,CAAK,CAAC,EACzEqiB,EAAIqiB,EAAUhB,EAAS,MAAM,GAAG,EAAI,EACpCkB,EAAS,CAAC,EAChB,IAAIC,EAAY,EACZre,EAAI,EACR,QAASjyB,EAAI,EAAGA,EAAIiwC,EAAK,OAAQjwC,IAAK,CACpC,MAAMgtB,EAAIijB,EAAKjwC,CAAC,EACV6tB,EAAIshB,EAAS,MAAMniB,CAAC,EACpBujB,EAAQte,IAAM,EAAIie,EAAiBrB,EACrCyB,EAAYziB,EAAIC,EAAIyiB,IACtBF,EAAO,KAAKrwC,CAAC,EACbswC,EAAY,EACZre,KAEFqe,GAAaziB,CACf,CACA,MAAMmE,EAAQ,CAAC,EACf,IAAIjrB,EAAQ,EACZ,UAAW0E,KAAS4kC,EAAQ,CAC1B,IAAI/d,EAAO2d,EAAK,UAAUlpC,EAAO0E,CAAK,EAClC0kC,GAAW7d,EAAK,OAAS,GAAK,CAAC8d,EAAgB3kC,EAAQ,CAAC,GAAK,CAAC2kC,EAAgB3kC,CAAK,IACrF6mB,GAAQ,KAEVN,EAAM,KAAKM,CAAI,EACfvrB,EAAQ0E,CACV,CACA,OAAAumB,EAAM,KAAKie,EAAK,UAAUlpC,CAAK,CAAC,EACzBirB,CACT,CACA,OAAO,aAAa4c,EAAMC,EAAUM,EAAUqB,EAAc,CAC1D5B,EAAOA,EAAK,QAAQ,EACpB,MAAM6B,EAAYtB,EAAS,MAAMP,CAAI,EACrC,GAAI6B,EAAY5B,GAAY2B,IAAiB,QAC3C,MAAO,CAAE,KAAM,OAAQ,UAAW,EAAM,EACnC,GAAIC,GAAa5B,GAAY2B,IAAiB,QACnD,MAAO,CAAE,KAAA5B,EAAM,UAAW,EAAM,EAElC,MAAM8B,EAAgBvB,EAAS,MAAMvB,EAAQ,EAC7C,IAAI+C,EAAQ/B,EACRgC,EAAaH,EACjB,KAAOE,EAAM,OAAS,GAAKC,EAAaF,EAAgB7B,GACtD8B,EAAQA,EAAM,MAAM,EAAG,EAAE,EAAE,QAAQ,EACnCC,EAAazB,EAAS,MAAMwB,CAAK,EAEnC,OAAIC,EAAaF,GAAiB7B,EACzB,CAAE,KAAM,GAAG8B,CAAK,GAAG/C,EAAQ,GAAI,UAAW,EAAK,EAE/C,CAAE,KAAM,OAAQ,UAAW,EAAM,CAE5C,CACA,OAAO,qBAAqBgC,EAAOf,EAAUC,EAAWK,EAAUJ,EAAWC,EAAUQ,EAAkBN,EAAa,CACpH,KAAM,CAAE,SAAA2B,EAAW,EAAG,WAAA3C,EAAa2C,EAAW9C,GAAO,sBAAuB,EAAIgB,EAC1E+B,EAAY9B,IAAa,UAAYA,IAAa,YAClD+B,EAAY/B,IAAa,YACzBgC,EAAa7B,EAAS,MAAM,GAAG,EACrC,IAAI8B,EAAyB,GACzBC,EAAiB,GACrB,MAAMjD,EAAQ,CAAC,EACf,IAAIkD,EAAc,CAAC,EACfV,EAAY,EAChB,MAAMW,EAAiB,KAAO,CAC5B,MAAAnD,EACA,eAAAiD,EACA,uBAAAD,EACA,iBAAAzB,CACF,GACM6B,EAAmB,IAAM,CAC7B,GAAI,CAACnC,EACH,OAEF,MAAMoC,EAAWH,EAAY,KAAK,GAAG,EAC/B,CAAE,KAAAvC,CAAK,EAAIb,GAAO,aAAauD,EAAUzC,EAAUM,EAAU,OAAO,EAC1E,GAAIP,GAAQ,KAGZ,OAAAuC,EAAY,OAAO,EAAGA,EAAY,OAAQvC,CAAI,EAC9CsC,EAAiB,GACVE,EAAe,CACxB,EACMG,EAAa,IAAM,CACvB,MAAMC,EAAiBhC,EAAmBtB,EAC1C,OAAIsD,GAAkB1C,EACb,IAETqC,EAAc,CAAC,EACfV,EAAY,EACZjB,EAAmBgC,EACnBvD,EAAM,KAAKkD,CAAW,EACf,GACT,EACA,GAAI,CAACI,EAAW,EACd,OAAOF,EAAiB,EAE1B,QAASrxC,EAAI,EAAGA,EAAI4vC,EAAM,OAAQ5vC,IAAK,CACrC,MAAMiwC,EAAOL,EAAM5vC,CAAC,EACdyxC,EAAYtC,EAAS,MAAMc,CAAI,EAC/ByB,EAAqBP,EAAY,SAAW,EAAI,EAAIH,EACpDW,EAAoBlB,EAAYiB,EAAqBD,EAC3D,GAAIE,GAAqB9C,EAAU,CACjCsC,EAAY,KAAKlB,CAAI,EACrBQ,EAAYkB,EACZ,QACF,CACA,GAAIF,GAAa5C,EAAU,CACzB,GAAI,CAAC0C,EAAW,EACd,OAAOF,EAAiB,EAE1BF,EAAY,KAAKlB,CAAI,EACrBQ,EAAYgB,EACZ,QACF,CAEA,GADAR,EAAyB,GACrBH,EAAW,CACb,MAAMc,EAAa/C,EAAW4B,EAAYiB,EACpC1f,EAAQ+b,GAAO,UAAUkC,EAAM2B,EAAY/C,EAAUkC,EAAW5B,CAAQ,EAC9E,QAASld,EAAI,EAAGA,EAAID,EAAM,OAAQC,IAAK,CACrC,MAAMK,EAAON,EAAMC,CAAC,EAEpB,GADAK,GAAQ6e,EAAY,KAAK7e,CAAI,EACzBL,IAAMD,EAAM,OAAS,EACvBye,EAAYtB,EAAS,MAAM7c,CAAI,UACtB,CAACif,EAAW,EACrB,OAAOF,EAAiB,CAE5B,CACF,SAAWnC,EAAa,CACtB,GAAI,CAACqC,EAAW,EACd,OAAOF,EAAiB,EAE1B,KAAM,CAAE,KAAAzC,CAAK,EAAIb,GAAO,aAAakC,EAAMpB,EAAUM,EAAU,OAAO,EACtE,GAAIP,GAAQ,KACV,OAEFuC,EAAY,KAAKvC,CAAI,EACjB5uC,EAAI4vC,EAAM,OAAS,IACrBsB,EAAiB,IAEnB,KACF,KACE,OAEJ,CACA,OAAOE,EAAe,CACxB,CACA,OAAO,iBAAiBxB,EAAOf,EAAUM,EAAUW,EAAY,CAC7D,MAAM+B,EAAkBjC,EAAM,OAAO,CAACkC,EAAMjkB,IAAMikB,EAAO3C,EAAS,MAAMthB,CAAC,EAAG,CAAC,EACvEmjB,EAAa7B,EAAS,MAAM,GAAG,EAC/B4C,EAAkBf,GAAcpB,EAAM,OAASE,EAAa,GAC5DkC,GAAoBH,EAAkBE,GAAmBjC,EACzD7B,EAAQ,CAAC,EACf,IAAIkD,EAAc,CAAC,EACfV,EAAYtB,EAAS,MAAMS,EAAM,CAAC,CAAC,EACnCqC,EAAU,GACd,UAAWhC,KAAQL,EAAO,CACxB,MAAMtlB,EAAQ6kB,EAAS,MAAMc,CAAI,EACjC,GAAIgC,EAAS,CACXd,EAAc,CAAC,EACfA,EAAY,KAAKlB,CAAI,EACrBQ,EAAYnmB,EACZ2nB,EAAU,GACVhE,EAAM,KAAKkD,CAAW,EACtB,QACF,CACA,MAAMQ,EAAoBlB,EAAYO,EAAa1mB,EAC/CqnB,GAAqBK,GACvBb,EAAY,KAAKlB,CAAI,EACrBQ,EAAYkB,GACHA,GAAqB9C,GAC9BsC,EAAY,KAAKlB,CAAI,EACrBgC,EAAU,KAEVd,EAAc,CAAClB,CAAI,EACnBQ,EAAYnmB,EACZ2jB,EAAM,KAAKkD,CAAW,EAE1B,CACA,OAAOlD,CACT,CACA,QAAQrV,EAAO,CACb,KAAK,WAAaA,EAAM,WACxB,KAAK,SAAWA,EAAM,SACtB,KAAK,UAAYA,EAAM,UACvB,KAAK,WAAaA,EAAM,UAC1B,CACA,SAASA,EAAO,CACd,KAAK,UAAYA,EAAM,UACvB,KAAK,aAAeA,EAAM,YAC5B,CACA,OAAO,oBAAoBuV,EAAc,CACvC,OAAQA,EAAc,CACpB,IAAK,MACL,IAAK,UACH,MAAO,GACT,IAAK,SACL,IAAK,aACL,IAAK,cACH,MAAO,GACT,IAAK,SACH,MAAO,GACX,CACF,CACA,WAAW,aAAc,CACvB,GAAI,CAAC,KAAK,aAAc,CACtB,MAAM+D,EAAgBrwB,GAAc,QAAQ,EAC5CqwB,EAAc,MAAQ,EACtBA,EAAc,OAAS,EACvB,KAAK,aAAeA,EAAc,WAAW,IAAI,CACnD,CACA,OAAO,KAAK,YACd,CACA,OAAO,YAAYtD,EAAMuD,EAAMhE,EAAcC,EAAW,CACtD,OAAO,KAAK,aAAa,CAAE,KAAAQ,EAAM,KAAAuD,EAAM,aAAAhE,EAAc,UAAAC,CAAU,CAAC,CAClE,CAMA,OAAO,YAAYQ,EAAMuD,EAAM,CAC7B,OAAO,KAAK,aAAa,CAAE,KAAAvD,EAAM,KAAAuD,CAAK,CAAC,CACzC,CACA,OAAO,qBAAqBlE,EAAOkE,EAAMhE,EAAeJ,GAAO,cAAc,aAAcK,EAAYL,GAAO,cAAc,UAAWG,EAAY,CACjJ,IAAIhnC,EAAIiL,EACR,IAAIkZ,EAAM,EACNtK,EAAO,EACPuJ,EAAQ,EACRC,EAAS,EACT6nB,EAAmB,EACvB,SAAW,CAACpyC,EAAG4uC,CAAI,IAAKX,EAAM,QAAQ,EAAG,CACvC,MAAMK,EAAU,KAAK,aAAa,CAAE,KAAAM,EAAM,KAAAuD,EAAM,aAAAhE,EAAc,UAAAC,CAAU,CAAC,EACzErtB,EAAO,KAAK,IAAIA,EAAMutB,EAAQ,qBAAqB,EACnDhkB,EAAQ,KAAK,IAAIA,EAAOgkB,EAAQ,KAAK,EACjCtuC,GAAK,GACPqrB,GAAOijB,EAAQ,wBACf/jB,GAAU+jB,EAAQ,yBAElB8D,IAAqBlrC,EAAKonC,EAAQ,wBAA0B,KAAOpnC,EAAKonC,EAAQ,eAE9EtuC,GAAKiuC,EAAM,OAAS,EACtB1jB,GAAU+jB,EAAQ,yBAElB8D,IAAqBjgC,EAAKm8B,EAAQ,yBAA2B,KAAOn8B,EAAKm8B,EAAQ,eAErF,CACA,OAAIJ,GAAc,OAChBkE,GAAoBnE,EAAM,OAAS,GAAKC,GAE1C3jB,GAAU6nB,EACV/mB,GAAO+mB,EAAmBrE,GAAO,oBAAoBI,CAAY,EAC1D,CAAE,IAAA9iB,EAAK,KAAAtK,EAAM,MAAAuJ,EAAO,OAAAC,CAAO,CACpC,CACF,EACAujB,GAAM,UAAY,OAClBA,GAAM,uBAAyB,KAC/BA,GAAM,cAAgB,OAAO,OAAO,CAAC,EAAGvB,GAAM,cAAe,CAC3D,UAAW,QACX,UAAW,OACX,WAAY,OACZ,SAAU,GACV,WAAY,aACZ,aAAc,YAChB,CAAC,EACDuB,GAAM,SAAWF,GACjBE,GAAM,iBAAmB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,EAC/EA,GAAM,aAAeL,GACnB,CAAC,CACC,KAAAmB,EACA,KAAAuD,EACA,aAAAhE,EACA,UAAAC,CACF,IAAM,CACJ,MAAMrgB,EAAM+f,GAAM,YAClB,OAAI/f,EAAI,OAASokB,IACfpkB,EAAI,KAAOokB,GAETpkB,EAAI,eAAiBogB,IACvBpgB,EAAI,aAAeogB,GAEjBpgB,EAAI,YAAcqgB,IACpBrgB,EAAI,UAAYqgB,GAEXrgB,EAAI,YAAY6gB,CAAI,CAC7B,CACF,EACAd,GAAM,aAAeL,GAAgB,CAAC,CAAE,KAAAmB,EAAM,KAAAuD,CAAK,IAAM,CACvD,MAAMpkB,EAAM+f,GAAM,YACd/f,EAAI,OAASokB,IACfpkB,EAAI,KAAOokB,GAEb,MAAM7D,EAAUvgB,EAAI,YAAY6gB,CAAI,EACpC,MAAO,CACL,MAAON,EAAQ,MACf,OAAQA,EAAQ,wBAA0BA,EAAQ,wBACpD,CACF,CAAC,EACDjsC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGiiB,GAAM,UAAW,IAAK,CAAC,EAC1BzrC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGiiB,GAAM,UAAW,IAAK,CAAC,EAC1BzrC,EAAiB,CACfwpB,EAAqB,CAAE,OAAQ,EAAG,SAAWwmB,GAAMA,EAAE,aAAa,CAAE,CAAC,CACvE,EAAGvE,GAAM,UAAW,OAAQ,CAAC,EAC7BzrC,EAAiB,CACfwrC,GAAyB,CAC3B,EAAGC,GAAM,UAAW,YAAa,CAAC,EAClCzrC,EAAiB,CACfwrC,GAAyB,CAC3B,EAAGC,GAAM,UAAW,aAAc,CAAC,EACnCzrC,EAAiB,CACfwrC,GAAyB,CAC3B,EAAGC,GAAM,UAAW,WAAY,CAAC,EACjCzrC,EAAiB,CACfwrC,GAAyB,CAC3B,EAAGC,GAAM,UAAW,aAAc,CAAC,EACnCzrC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGiiB,GAAM,UAAW,YAAa,CAAC,EAClCzrC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGiiB,GAAM,UAAW,eAAgB,CAAC,EACrCzrC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGiiB,GAAM,UAAW,aAAc,CAAC,EACnC,IAAIwE,GAAOxE,GACPsB,GAAe,KAAM,CACvB,YAAY+C,EAAM,CAChB,KAAK,KAAOzjC,GAASyjC,CAAI,EAAIA,EAAOnE,GAAQmE,CAAI,CAClD,CACA,KAAKvD,EAAM,CACT,OAAOA,EAAK,SAAS;AAAA,CAAI,EAAI0D,GAAK,qBAChC1D,EAAK,MAAM;AAAA,CAAI,EAAE,IAAKnnC,GAAMA,EAAE,KAAK,CAAC,EACpC,KAAK,IACP,EAAI6qC,GAAK,YAAY1D,EAAM,KAAK,IAAI,CACtC,CACA,MAAMA,EAAM,CACV,KAAM,CAAE,MAAAtkB,CAAM,EAAI,KAAK,KAAKskB,CAAI,EAChC,OAAOtkB,CACT,CACF,EACA,SAAS0jB,GAAQuE,EAAW,CAC1B,KAAM,CAAE,WAAAC,EAAY,SAAA3B,EAAU,UAAA4B,EAAW,WAAAC,CAAW,EAAIH,EACxD,MAAO,CAACE,GAAgC,GAAIC,GAAkC,GAAI7B,EAAW,KAAM2B,CAAU,EAAE,KAAK,GAAG,EAAE,KAAK,CAChI,CACA,IAAIG,GAAQ,cAAcj/B,EAAe,CACvC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,GACf,KAAK,SAAW,GAChB,KAAK,WAAa,qBACpB,CACA,SAAU,CACR,OAAOs6B,GAAQ,IAAI,CACrB,CACF,EACA3rC,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGuV,GAAM,UAAW,UAAW,CAAC,EAChCtwC,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGkU,GAAM,UAAW,QAAS,CAAC,EAC9BtwC,EAAiB,CACf25B,EAASqD,GAAY,CAAE,SAAU,EAAK,CAAC,CACzC,EAAGsT,GAAM,UAAW,YAAa,CAAC,EAClCtwC,EAAiB,CACf25B,EAASsD,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGqT,GAAM,UAAW,aAAc,CAAC,EACnCtwC,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGiV,GAAM,UAAW,WAAY,CAAC,EACjCtwC,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGqV,GAAM,UAAW,aAAc,CAAC,EACnCtwC,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAGsV,GAAM,UAAW,YAAa,CAAC,EAClC,SAASC,GAAuB59B,EAAM,CACpC,KAAM,CAAE,qBAAA69B,EAAuB,EAAG,oBAAAC,EAAsB,CAAE,EAAI99B,EACxD+9B,EAAqB/9B,EAAK,SAAWmkB,GAAkBU,GAAU7kB,EAAK,QAAQ,CAAC,EAAI,EACnFg+B,EAAmB,CAACD,GAAsBF,GAAwB,GAAKA,GAAwB,KAAK,GAAK,GAAK,EAC9GI,EAAkB,CAACF,GAAsBD,GAAuB,GAAKA,GAAuB,KAAK,GAAK,GAAK,EACjH,IAAII,EAAkB,EACtB,OAAIl+B,EAAK,SACPk+B,EAAkBF,EAAmB,KAAK,GAAK,EACtCC,IAAoB,KAC7BC,EAAkB,KAAK,IAElB,CAAE,mBAAAH,EAAoB,gBAAAG,EAAiB,iBAAAF,EAAkB,gBAAAC,CAAgB,CAClF,CACA,SAASE,GAAgBC,EAAYC,EAAS,CAC5C,OAAK,MAAMD,CAAU,EAGdC,EAAU,EAAI,GAFZD,CAGX,CACA,SAASE,GAAgBC,EAAUC,EAAeC,EAAUT,EAAkB,CAC5E,OAAIO,GAAY,CAACC,EACRC,EAAWT,IAAqB,GAAK,UAAY,SAEnD,QACT,CACA,SAASU,GAAaH,EAAUC,EAAeG,EAAmBF,EAAUR,EAAiB,CAC3F,MAAMW,EAAeJ,EAAgB,GAAKA,GAAiB,KAAK,GAC1DK,EAAmBF,EAAoB,GAAKA,GAAqB,KAAK,GACtEG,EAAYF,GAAgBC,EAAmB,GAAK,EAC1D,GAAIN,EACF,GAAIC,GAAiBG,GACnB,GAAIF,EAAWK,IAAc,GAC3B,MAAO,UAGT,OAAO,iBAEAL,EAAWR,IAAoB,GACxC,MAAO,MAET,MAAO,OACT,CACA,SAASc,GAAmBnF,EAAMxhB,EAAM4mB,EAAQC,EAAQC,EAAa,CACnE,KAAM,CAAE,MAAA5pB,EAAO,OAAAC,CAAO,EAAI6C,EACpB+mB,EAAiB,IAAI3oB,EAAKwoB,EAAQC,EAAQ,EAAG,CAAC,EACpDC,EAAY,cAAcC,EAAgB/mB,CAAI,EAC9C,KAAM,CAAE,EAAA1sB,EAAG,EAAA+oB,CAAE,EAAI2D,EACjB,OAAAA,EAAK,MAAQ9C,EACb8C,EAAK,OAAS7C,EACP,CACL,MAAO,CAAE,EAAA7pB,EAAG,EAAA+oB,CAAE,EACd,MAAO,CAAE,KAAAmlB,EAAM,MAAAtkB,EAAO,OAAAC,CAAO,CAC/B,CACF,CACA,IAAI6pB,IAA2BC,IAC7BA,EAAQA,EAAQ,yBAA8B,CAAC,EAAI,2BACnDA,EAAQA,EAAQ,iBAAsB,CAAC,EAAI,mBAC3CA,EAAQA,EAAQ,YAAiB,CAAC,EAAI,cACtCA,EAAQA,EAAQ,8BAAmC,CAAC,EAAI,gCACxDA,EAAQA,EAAQ,oBAAyB,CAAC,EAAI,sBAC9CA,EAAQA,EAAQ,wBAA6B,CAAC,EAAI,0BAClDA,EAAQA,EAAQ,uBAA4B,CAAC,EAAI,yBACjDA,EAAQA,EAAQ,wBAA6B,CAAC,EAAI,0BAClDA,EAAQA,EAAQ,oBAAyB,CAAC,EAAI,sBAC9CA,EAAQA,EAAQ,6BAAkC,CAAC,EAAI,+BACvDA,EAAQA,EAAQ,yBAA8B,EAAE,EAAI,2BACpDA,EAAQA,EAAQ,cAAmB,EAAE,EAAI,gBACzCA,EAAQA,EAAQ,iBAAsB,EAAE,EAAI,mBACrCA,IACND,IAAU,CAAC,CAAC,EACf,SAASE,GAAeh1C,EAAO,CAC7B,OAAOA,GAAS,MAAQ,OAAO,OAAOA,EAAO,UAAU,GAAKoP,GAASpP,EAAM,SAAS,CAAC,CACvF,CACA,SAASi1C,GAAej1C,EAAO,CAC7B,OAAOA,GAAS,MAAQ,OAAO,OAAOA,EAAO,SAAS,GAAKsP,GAAetP,EAAM,QAAQ,CAAC,CAC3F,CACA,SAASk1C,GAAal1C,EAAO,CAC3B,OAAOsP,GAAetP,CAAK,GAAK8O,GAAY9O,CAAK,GAAKi1C,GAAej1C,CAAK,CAC5E,CACA,SAASm1C,GAAWn1C,EAAOo1C,EAAmB,CAC5C,OAAOp1C,GAAS,OAAS,CAACo1C,GAAqBF,GAAal1C,CAAK,EACnE,CACA,SAASq1C,GAAiCr1C,EAAO,CAC/C,OAAIg1C,GAAeh1C,CAAK,GAAK,OAAO,OAAOA,EAAO,IAAI,EAC7CA,EAAM,GAERA,CACT,CACA,IAAIs1C,GAA2Bj/B,GACtBA,IAAa,QAAUknB,GAC5B,CAACjZ,EAAGmK,IAAQA,EAAI,OAAO,OAAY,OAClCA,GAAQA,EAAI,OAAO,OAAY,QAAU,uEAAyE,wCACrH,EAAI8O,GACF,CAACjZ,EAAGmK,IAAQA,EAAI,OAAO,OAAY,QAClCA,GAAQA,EAAI,OAAO,OAAS,OAAS,sEAAwE,yCAChH,EAEE8mB,GAA0B,CAACvjC,EAAMhS,EAAOgI,EAAQwtC,IAAW,CAC7D,MAAMC,EAAgBzjC,IAAS,QAAUhS,IAAU,OAC7C01C,EAAiB1jC,IAAS,SAAWhK,IAAW,OACtD,GAAI,CAACytC,GAAiB,CAACC,EACrB,MAAO,GAET,KAAM,CAACjuC,EAAOy/B,CAAG,EAAIl/B,GAA0B,CAAChI,EAAO,MAAM,EACvD21C,EAAgBnT,GAAgB,GAAGgT,CAAM,GAAK1L,GAAiB,GAAG0L,CAAM,EACxEI,EAAaT,GAAW1tC,EAAOkuC,CAAa,GAAK,CAAC,MAAMH,EAAO,QAAQ/tC,CAAK,CAAC,EAC7EouC,EAAWV,GAAWjO,EAAKyO,CAAa,GAAK,CAAC,MAAMH,EAAO,QAAQtO,CAAG,CAAC,EAC7E,GAAIuO,GAAiBG,GAAcF,GAAkBE,GAAcC,EACjE,MAAO,GAET,MAAM3uC,EAAU,CAAC,qBAAqB,EACtC,OAAIwuC,GACGE,GACH1uC,EAAQ,KAAK,eAAe81B,GAAUv1B,CAAK,CAAC,EAAE,EAE3CouC,GACH3uC,EAAQ,KAAK,GAAG0uC,EAAa,GAAK,MAAM,aAAa5Y,GAAUkK,CAAG,CAAC,EAAE,GAGvEhgC,EAAQ,KAAK,SAAS81B,GAAUv1B,CAAK,CAAC,EAAE,EAE1CP,EAAQ,KAAK,iCAAiC,EAC9CF,EAAO,SAASE,EAAQ,KAAK,GAAG,CAAC,EAC1B,EACT,EACI4uC,GAA2C,CAC7C,IAAK,CAAE,sBAAuB,EAAG,sBAAuB,EAAG,EAC3D,OAAQ,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EAC7D,KAAM,CAAE,sBAAuB,GAAI,sBAAuB,CAAE,EAC5D,MAAO,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EAC5D,QAAS,CAAE,sBAAuB,EAAG,sBAAuB,EAAG,EAC/D,SAAU,CAAE,sBAAuB,GAAI,sBAAuB,EAAG,EACjE,WAAY,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EACjE,YAAa,CAAE,sBAAuB,GAAI,sBAAuB,CAAE,EACnE,OAAQ,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EAC7D,WAAY,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EACjE,YAAa,CAAE,sBAAuB,GAAI,sBAAuB,CAAE,EACnE,UAAW,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EAChE,aAAc,CAAE,sBAAuB,EAAG,sBAAuB,EAAG,EACpE,cAAe,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EACpE,iBAAkB,CAAE,sBAAuB,EAAG,sBAAuB,EAAG,EACxE,eAAgB,CAAE,sBAAuB,GAAI,sBAAuB,CAAE,EACtE,kBAAmB,CAAE,sBAAuB,GAAI,sBAAuB,EAAG,CAC5E,EACIC,GAAyC,CAC3C,IAAK,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EAC1D,OAAQ,CAAE,sBAAuB,GAAI,sBAAuB,CAAE,EAC9D,KAAM,CAAE,sBAAuB,EAAG,sBAAuB,EAAG,EAC5D,MAAO,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EAC5D,QAAS,CAAE,sBAAuB,GAAI,sBAAuB,EAAG,EAChE,SAAU,CAAE,sBAAuB,GAAI,sBAAuB,CAAE,EAChE,WAAY,CAAE,sBAAuB,EAAG,sBAAuB,EAAG,EAClE,YAAa,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EAClE,OAAQ,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EAC7D,WAAY,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EACjE,YAAa,CAAE,sBAAuB,EAAG,sBAAuB,EAAG,EACnE,UAAW,CAAE,sBAAuB,GAAI,sBAAuB,CAAE,EACjE,aAAc,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EACnE,cAAe,CAAE,sBAAuB,GAAI,sBAAuB,CAAE,EACrE,iBAAkB,CAAE,sBAAuB,EAAG,sBAAuB,CAAE,EACvE,eAAgB,CAAE,sBAAuB,GAAI,sBAAuB,EAAG,EACvE,kBAAmB,CAAE,sBAAuB,EAAG,sBAAuB,EAAG,CAC3E,EACA,SAASC,GAA0B,CACjC,WAAAC,EACA,QAAAC,EAAU,EACV,SAAAlvB,EAAW,MACX,KAAA8G,CACF,EAAG,CACD,MAAMqoB,EAAiCF,EAAaH,GAA2CC,GACzF,CAAE,sBAAAK,EAAuB,sBAAAC,CAAsB,EAAIF,EAA+BnvB,CAAQ,EAC1FuH,EAAI0nB,EAAanoB,EAAK,MAAQA,EAAK,OACnCU,EAAIynB,EAAanoB,EAAK,OAASA,EAAK,MACpCwoB,EAAeF,GAAyBF,EAAU3nB,EAAI,GACtDgoB,EAAeF,GAAyBH,EAAU1nB,EAAI,GAC5D,MAAO,CACL,aAAA8nB,EACA,aAAAC,CACF,CACF,CACA,SAASC,GAA2B,CAClC,WAAAP,EACA,KAAAnoB,EACA,QAAAooB,EAAU,EACV,SAAAlvB,EAAW,KACb,EAAG,CACD,MAAMyvB,EAAe,CAAC,EACtB,OAAIzvB,EAAS,WAAW,QAAQ,IAE5BA,IAAa,OAAS,CAACivB,EACzBQ,EAAa,IAAMP,EAAUpoB,EAAK,OACzB9G,IAAa,UAAY,CAACivB,EACnCQ,EAAa,OAASP,EAAUpoB,EAAK,OAC5B9G,IAAa,QAAUivB,EAChCQ,EAAa,KAAOP,EAAUpoB,EAAK,MAC1B9G,IAAa,SAAWivB,IACjCQ,EAAa,MAAQP,EAAUpoB,EAAK,QAE/B2oB,CACT,CACA,IAAIC,GAA2B,CAAC,CAAE,WAAAT,EAAY,KAAAU,EAAM,OAAAC,EAAQ,KAAAC,CAAK,IAC3DZ,EACK,CAAE,EAAGU,EAAO,EAAG,EAAGC,CAAO,EAEzB,CAAE,EAAGD,EAAM,EAAG,MAAME,CAAI,EAAID,GAAUA,EAASC,GAAQ,CAAE,EAGhEC,GAA4B,CAAC,CAAE,WAAAb,EAAY,OAAAc,EAAQ,KAAAJ,EAAM,OAAAC,EAAQ,KAAAC,CAAK,IACpEZ,EACK,CAAE,EAAGc,EAAQ,EAAG,MAAMF,CAAI,EAAID,GAAUA,EAASC,GAAQ,CAAE,EAE3D,CAAE,EAAGF,EAAO,EAAG,EAAGC,CAAO,EAGhCI,GAA6B,CAAC,CAAE,WAAAf,EAAY,KAAAU,EAAM,OAAAC,EAAQ,KAAAC,CAAK,IAC7DZ,EACK,CAAE,EAAGU,EAAM,EAAG,MAAME,CAAI,EAAID,GAAUA,EAASC,GAAQ,CAAE,EAEzD,CAAE,EAAGF,EAAO,EAAG,EAAG,MAAME,CAAI,EAAID,EAASC,CAAK,EAGrDI,GAA8B,CAAC,CAAE,WAAAhB,EAAY,OAAAc,EAAQ,KAAAJ,EAAM,OAAAC,EAAQ,KAAAC,CAAK,IACtEZ,EACK,CAAE,EAAGU,EAAO,EAAG,EAAG,MAAME,CAAI,EAAID,EAASC,CAAK,EAE9C,CAAE,EAAGE,EAAQ,EAAG,MAAMF,CAAI,EAAID,GAAUA,EAASC,GAAQ,CAAE,EAGlEK,GAA8B,CAAC,CAAE,KAAAP,EAAM,OAAAC,EAAQ,KAAAC,CAAK,KAC/C,CAAE,EAAGF,EAAO,EAAG,EAAG,MAAME,CAAI,EAAID,GAAUA,EAASC,GAAQ,CAAE,GAElEM,GAAgC,CAAC,CAAE,WAAAlB,EAAY,OAAAc,EAAQ,KAAAJ,EAAM,OAAAC,CAAO,IAClEX,EACK,CAAE,EAAGc,EAAS,EAAG,EAAGH,CAAO,EAE3B,CAAE,EAAGD,EAAM,EAAGC,CAAO,EAG5BQ,GAAmC,CAAC,CAAE,WAAAnB,EAAY,OAAAc,EAAQ,OAAAH,EAAQ,KAAAC,CAAK,IACrEZ,EACK,CAAE,EAAGc,EAAQ,EAAG,MAAMF,CAAI,EAAID,EAASC,CAAK,EAE5C,CAAE,EAAGE,EAAQ,EAAGH,CAAO,EAG9BS,GAAiC,CAAC,CAAE,WAAApB,EAAY,KAAAU,EAAM,OAAAC,EAAQ,KAAAC,CAAK,IACjEZ,EACK,CAAE,EAAGU,EAAM,EAAGC,CAAO,EAErB,CAAE,EAAGD,EAAM,EAAG,MAAME,CAAI,EAAID,EAASC,CAAK,EAGjDS,GAAoC,CAAC,CAAE,WAAArB,EAAY,OAAAc,EAAQ,KAAAJ,EAAM,OAAAC,EAAQ,KAAAC,CAAK,IAC5EZ,EACK,CAAE,EAAGU,EAAM,EAAG,MAAME,CAAI,EAAID,EAASC,CAAK,EAE1C,CAAE,EAAGE,EAAQ,EAAG,MAAMF,CAAI,EAAID,EAASC,CAAK,EAGnDU,GAAyB,CAC3B,IAAK,CAAE,EAAGb,EAAyB,EACnC,OAAQ,CAAE,EAAGO,EAA4B,EACzC,KAAM,CAAE,EAAGH,EAA0B,EACrC,MAAO,CAAE,EAAGE,EAA2B,EACvC,QAAS,CAAE,EAAGG,EAA8B,EAC5C,SAAU,CAAE,EAAGE,EAA+B,EAC9C,WAAY,CAAE,EAAGD,EAAiC,EAClD,YAAa,CAAE,EAAGE,EAAkC,EACpD,OAAQ,CAAE,EAAGJ,EAA4B,EACzC,WAAY,CAAE,EAAGJ,EAA0B,EAC3C,YAAa,CAAE,EAAGE,EAA2B,EAC7C,UAAW,CAAE,EAAGN,EAAyB,EACzC,aAAc,CAAE,EAAGO,EAA4B,EAC/C,cAAe,CAAE,EAAGE,EAA8B,EAClD,iBAAkB,CAAE,EAAGC,EAAiC,EACxD,eAAgB,CAAE,EAAGC,EAA+B,EACpD,kBAAmB,CAAE,EAAGC,EAAkC,CAC5D,EACIE,GAA2B7X,GAC7B,CACE,MACA,OACA,QACA,SACA,UACA,WACA,aACA,cACA,SACA,aACA,cACA,YACA,eACA,gBACA,mBACA,iBACA,mBACF,EACA,0BACF,EACI8X,GAA0B,KAAM,CAClC,aAAc,CACZ,KAAK,QAAU,OACf,KAAK,KAAO,OACZ,KAAK,UAAY,OACjB,KAAK,WAAa,OAClB,KAAK,SAAW,GAChB,KAAK,WAAa,sBAClB,KAAK,QAAU,EACf,KAAK,MAAQ,sBACb,KAAK,SAAW,OAChB,KAAK,SAAW,OAChB,KAAK,SAAW,MAClB,CACF,EACA10C,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAG2Z,GAAwB,UAAW,UAAW,CAAC,EAClD10C,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGyZ,GAAwB,UAAW,OAAQ,CAAC,EAC/C10C,EAAiB,CACf25B,EAASqD,GAAY,CAAE,SAAU,EAAK,CAAC,CACzC,EAAG0X,GAAwB,UAAW,YAAa,CAAC,EACpD10C,EAAiB,CACf25B,EAASsD,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGyX,GAAwB,UAAW,aAAc,CAAC,EACrD10C,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGqZ,GAAwB,UAAW,WAAY,CAAC,EACnD10C,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGyZ,GAAwB,UAAW,aAAc,CAAC,EACrD10C,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAGwZ,GAAwB,UAAW,UAAW,CAAC,EAClD10C,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGsY,GAAwB,UAAW,QAAS,CAAC,EAChD10C,EAAiB,CACf25B,EAAS8a,GAA0B,CAAE,SAAU,EAAK,CAAC,CACvD,EAAGC,GAAwB,UAAW,WAAY,CAAC,EACnD10C,EAAiB,CACf25B,EAAS4B,GAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGmZ,GAAwB,UAAW,WAAY,CAAC,EACnD10C,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAG2Z,GAAwB,UAAW,WAAY,CAAC,EACnD,IAAIC,GAAsB,MAAMC,EAAqB,CACnD,aAAc,CACZ,KAAK,GAAKjvB,GAAS,IAAI,EACvB,KAAK,QAAU,OACf,KAAK,KAAO,OACZ,KAAK,MAAQ,OACb,KAAK,MAAQ,OACb,KAAK,KAAO,OACZ,KAAK,YAAc,OACnB,KAAK,OAAS,OACd,KAAK,YAAc,OACnB,KAAK,cAAgB,OACrB,KAAK,SAAW,OAChB,KAAK,MAAQ,IAAI+uB,GACjB,KAAK,MAAQ,OACb,KAAK,aAAe,CAAC,KAAW,GAAQ,EACxC,KAAK,WAAa,EAClB,KAAK,SAAW,GAChB,KAAK,qBAAuB,EAC5B,KAAK,oBAAsB,EAC3B,KAAK,UAAY,IACjB,KAAK,MAAQ,IAAI7L,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,GAAI,MAAO,GAAM,OAAQ+L,GAAqB,iBAAkB,CAAC,EAC1G,KAAK,WAAa,IAAI/L,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,GAAI,MAAO,GAAM,OAAQ+L,GAAqB,kBAAmB,CAAC,EAChH,KAAK,eAAiB,IAAIzK,GAC1B,KAAK,eAAiB,IAAI8F,GAC1B,KAAK,WAAa,OAClB,KAAK,KAAO,CAAC,EACb,KAAK,UAAY,GACjB,KAAK,QAAU,GACf,KAAK,QAAU,GACf,KAAM,CAAE,MAAO4E,EAAQ,WAAAC,EAAY,eAAAC,EAAgB,eAAAC,CAAe,EAAI,KACtEH,EAAO,OAAOE,CAAc,EAC5BD,EAAW,OAAOE,CAAc,EAChCD,EAAe,cAAgB,CACjC,CACA,OAAOE,EAAS,CACd,KAAM,CAAE,QAAAC,EAAS,KAAAlhC,EAAM,KAAA/E,EAAM,MAAAhS,EAAO,MAAOgI,EAAQ,MAAOwtC,CAAO,EAAI,KACrE,GAAI,CAACxjC,GAAQ,CAACwjC,GAAU,CAACyC,GAAW,CAACD,GAAW,CAACzC,GAAwBvjC,EAAMhS,EAAOgI,EAAQwtC,CAAM,GAAKz+B,EAAK,SAAW,EAAG,CAC1H,KAAK,MAAM,QAAU,GACrB,KAAK,WAAW,QAAU,GAC1B,MACF,CACA,KAAK,MAAM,QAAUihC,EACrB,KAAK,WAAW,QAAUA,EAC1B,KAAK,MAAM,OAAS,KAAK,UAAU,KAAK,OAAO,EAC/C,KAAK,YAAY,CACnB,CACA,gBAAgBA,EAASE,EAAc,CAKrC,GAJI,CAACF,GAID,CADgB,KAAK,eAAeE,CAAY,EAElD,OAEF,KAAM,CAAE,SAAA/D,EAAU,WAAAgE,EAAY,KAAAphC,CAAK,EAAI,KACjCqU,EAAQ,CAAC,EACTE,EAAK,EACLE,EAAK2oB,EAAWgE,EAChB5sB,EAAKxU,EAAK,CAAC,EACX0U,EAAK1U,EAAK,CAAC,EACXqhC,EAAe,IAAIlsB,EAAK,KAAK,IAAIZ,EAAIE,CAAE,EAAG,KAAK,IAAID,EAAIE,CAAE,EAAG,KAAK,IAAIH,EAAKE,CAAE,EAAG,KAAK,IAAID,EAAKE,CAAE,CAAC,EACtGL,EAAM,KAAKgtB,CAAY,EACvB,MAAMC,EAAW,KAAK,iBAAiB,EACvC,OAAIA,GACFjtB,EAAM,KAAKitB,CAAQ,EAEdnsB,EAAK,MAAMd,CAAK,CACzB,CACA,aAAc,CACZ,KAAK,gBAAgB,EACjB,KAAK,MAAM,UACb,KAAK,YAAY,EACjB,KAAK,cAAc,EAEvB,CACA,eAAe8sB,EAAc,CAC3B,IAAItwC,EAAIiL,EAAIC,EACZ,KAAM,CACJ,MAAO0iC,EACP,WAAA2C,EACA,SAAAhE,EACA,UAAAmE,EACA,MAAO,CAAE,SAAAtxB,EAAW,KAAM,EAC1B,aAAAuxB,EACA,YAAAjL,EAAc,CAChB,EAAI,KAEJ,GADA,KAAK,KAAO,CAAC,EACT,CAACkI,EACH,MAAO,GAET,MAAMrZ,GAAav0B,EAAK4tC,EAAO,YAAc,KAAO5tC,EAAK,EACnDpE,GAAQqP,EAAK2iC,EAAO,OAAS,KAAO3iC,EAAK,EACzCqjC,GAAWgC,EAAe,GAAK,IAAM1C,aAAkBlZ,IAAa94B,EAAO24B,GAAa,EAAI,GAC5F,CAAC4a,EAAQJ,CAAI,EAAI,CAAC,EAAGxC,EAAWgE,CAAU,EAChD,GAAI,CAACvB,EAAQC,CAAI,EAAI,KAAK,SAAS,EACnC,MAAM2B,EAA0B3B,IAAS,QAAU/M,GAAiB,GAAG0L,CAAM,EAAIrZ,EAAY,EAAI+Z,EAAU,EAC3G,GAAI,CAACuC,EAAeC,CAAW,EAAI,CACjC,OAAOlD,EAAO,QAAQoB,EAAQ,CAAE,UAAW,SAAU,CAAC,CAAC,EAAIV,EAAUsC,EACrEhD,EAAO,QAAQqB,EAAM,CAAE,UAAW,SAAU,CAAC,EAAI1a,EAAY+Z,CAC/D,EACAuC,EAAgBxvB,GAAWwvB,EAAeF,CAAY,EACtDG,EAAczvB,GAAWyvB,EAAaH,CAAY,EAClD,CAAC3B,EAAQC,CAAI,EAAI,CAAC,OAAOrB,EAAO,QAAQoB,CAAM,CAAC,EAAI4B,EAAyBhD,EAAO,QAAQqB,CAAI,EAAI1a,CAAS,EAC5G,MAAMwc,GAAc/B,IAAW6B,GAAiB5B,IAAS6B,GAAeD,IAAkBC,IAAgB,KAAK,IAAIA,EAAcD,CAAa,EAAI,EAYlJ,GAXIE,GAAcF,EAAgBC,IAChC,CAACD,EAAeC,CAAW,EAAI,CAACA,EAAaD,CAAa,EAC1D,CAAC7B,EAAQC,CAAI,EAAI,CAACA,EAAMD,CAAM,GAE5BA,EAASV,GAAWuC,IACtB7B,GAAUV,GACRW,EAAOX,GAAWwC,IACpB7B,GAAQX,GACV,KAAK,QAAUyC,EACf,KAAK,UAAYrL,EAAc,GAAKsJ,GAAU6B,GAAiB7B,GAAU6B,EAAgBvC,EACzF,KAAK,QAAU5I,EAAc,GAAKuJ,GAAQ6B,EAAcvc,EAAY+Z,GAAWW,GAAQ6B,EACnF,CAACC,GAAc,CAAC,KAAK,WAAa,CAAC,KAAK,QAC1C,MAAO,GAGT,GADA,KAAK,KAAO,CAACF,EAAeC,CAAW,EACnC,KAAK,MAAM,QAAS,CACtB,MAAMzC,EAAaqC,IAAc,IAC3B,CAAE,EAAA5qB,EAAIgpB,EAAyB,GAAK5jC,EAAKykC,GAAuBvwB,CAAQ,IAAM,KAAOlU,EAAK,CAAC,EAC3F,CAAE,EAAG4hC,EAAQ,EAAGC,CAAO,EAAIjnB,EAAE,CACjC,WAAAuoB,EACA,OAAAc,EACA,KAAAJ,EACA,OAAQ8B,EACR,KAAMC,CACR,CAAC,EACD,KAAK,WAAa,CAChB,EAAGhE,EACH,EAAGC,CACL,CACF,CACA,MAAO,EACT,CACA,iBAAkB,CAChB,IAAI/sC,EACJ,KAAM,CACJ,eAAAkwC,EACA,SAAA3D,EACA,WAAAgE,EACA,KAAAphC,EACA,UAAAw2B,EACA,QAAAC,EACA,QAAAL,EACA,KAAAX,EACA,YAAAY,EACA,OAAAC,EACA,YAAAC,EACA,SAAAI,CACF,EAAI,KACJoK,EAAe,GAAK,EACpBA,EAAe,GAAK3D,EAAWgE,EAC/BL,EAAe,GAAK/gC,EAAK,CAAC,EAC1B+gC,EAAe,GAAK/gC,EAAK,CAAC,EAC1B+gC,EAAe,UAAYvK,EAC3BuK,EAAe,QAAUtK,EACzBsK,EAAe,QAAU3K,EACzB2K,EAAe,KAAOtL,EACtBsL,EAAe,YAAc1K,GAAoC,EACjE0K,EAAe,OAASzK,EACxByK,EAAe,YAAcxK,GAAoC,EACjEwK,EAAe,eAAiBlwC,EAAK,KAAK,gBAAkB,KAAOA,EAAK,EACxEkwC,EAAe,SAAWpK,CAC5B,CACA,aAAc,CACZ,KAAM,CAAE,eAAAqK,EAAgB,MAAAa,CAAM,EAAI,KAC7BA,EAAM,OAGXb,EAAe,UAAYa,EAAM,UACjCb,EAAe,WAAaa,EAAM,WAClCb,EAAe,SAAWa,EAAM,SAChCb,EAAe,WAAaa,EAAM,WAClCb,EAAe,KAAOa,EAAM,MAC5Bb,EAAe,KAAOa,EAAM,KAC9B,CACA,eAAgB,CACd,KAAM,CACJ,eAAAb,EACA,WAAY,CAAE,EAAA32C,EAAI,OAAQ,EAAA+oB,EAAI,MAAO,EAAI,CAAC,EAC1C,MAAO,CAAE,SAAA8pB,EAAU,SAAAnlB,EAAU,SAAA9H,EAAW,MAAO,QAAAkvB,EAAU,CAAE,EAC3D,UAAAoC,EACA,qBAAA/E,EACA,oBAAAC,CACF,EAAI,KACJ,GAAIpyC,IAAM,QAAU+oB,IAAM,OACxB,OAEF,KAAM,CAAE,gBAAAypB,EAAiB,mBAAAH,CAAmB,EAAIH,GAAuB,CACrE,SAAAxkB,EACA,SAAAmlB,EACA,oBAAAT,EACA,qBAAAD,CACF,CAAC,EACDwE,EAAe,SAAWnE,EAAkBH,EAC5CsE,EAAe,aAAe,SAC9BA,EAAe,UAAY,SAC3B,MAAMjqB,EAAOiqB,EAAe,uBAAuB,EACnD,GAAI,CAACjqB,EACH,OAEF,MAAMmoB,EAAaqC,IAAc,IAC3B,CAAE,aAAAhC,EAAc,aAAAC,CAAa,EAAIP,GAA0B,CAC/D,WAAAC,EACA,QAAAC,EACA,SAAAlvB,EACA,KAAA8G,CACF,CAAC,EACDiqB,EAAe,aAAe32C,EAAIk1C,EAClCyB,EAAe,aAAe5tB,EAAIosB,CACpC,CACA,UAAUpJ,EAAU,GAAO,CACzB,OAAIA,EACKwK,GAAqB,mBAEvBA,GAAqB,iBAC9B,CACA,UAAW,CACT,IAAI/vC,EACJ,KAAM,CAAE,MAAA5H,EAAO,MAAOgI,EAAQ,MAAOwtC,CAAO,EAAI,KAC1CG,EAAgBnT,GAAgB,GAAGgT,CAAM,GAAK1L,GAAiB,GAAG0L,CAAM,EACxE/tC,GAASG,EAA+BI,IAAO,CAAC,IAAM,KAAOJ,EAAK5H,EACxE,IAAIknC,EAAgCl/B,IAAO,CAAC,EAC5C,MAAI,CAAC2tC,GAAiBzO,IAAQ,SAC5BA,EAAMz/B,GAEJkuC,GAAiBluC,IAAUy/B,IAC7BA,EAAM,QAED,CAACz/B,EAAOy/B,CAAG,CACpB,CACA,kBAAmB,CACjB,KAAM,CAAE,MAAA0R,CAAM,EAAI,KAClB,GAAI,CAACA,EAAM,QACT,OAEF,MAAMC,EAAW,IAAI7F,GACrB6F,EAAS,WAAaD,EAAM,WAC5BC,EAAS,SAAWD,EAAM,SAC1BC,EAAS,UAAYD,EAAM,UAC3BC,EAAS,WAAaD,EAAM,WAC5BC,EAAS,KAAOD,EAAM,KACtB,KAAM,CACJ,WAAY,CAAE,EAAAx3C,EAAI,OAAQ,EAAA+oB,EAAI,MAAO,EAAI,CAAC,EAC1C,MAAO,CAAE,SAAA8pB,EAAU,SAAAnlB,EAAU,SAAA9H,EAAW,MAAO,QAAAkvB,EAAU,CAAE,EAC3D,UAAAoC,EACA,qBAAA/E,EACA,oBAAAC,CACF,EAAI,KACJ,GAAIpyC,IAAM,QAAU+oB,IAAM,OACxB,OAEF,KAAM,CAAE,mBAAAspB,CAAmB,EAAIH,GAAuB,CACpD,SAAAxkB,EACA,SAAAmlB,EACA,oBAAAT,EACA,qBAAAD,CACF,CAAC,EACDsF,EAAS,SAAWpF,EACpBoF,EAAS,aAAe,SACxBA,EAAS,UAAY,SACrB,MAAM/qB,EAAO+qB,EAAS,uBAAuB,EAC7C,GAAI,CAAC/qB,EACH,OAEF,MAAMmoB,EAAaqC,IAAc,IAC3B,CAAE,aAAAhC,EAAc,aAAAC,CAAa,EAAIP,GAA0B,CAC/D,WAAAC,EACA,QAAAC,EACA,SAAAlvB,EACA,KAAA8G,CACF,CAAC,EACD,OAAA+qB,EAAS,aAAez3C,EAAIk1C,EAC5BuC,EAAS,aAAe1uB,EAAIosB,EACrBsC,EAAS,uBAAuB,CACzC,CACA,iBAAiB3C,EAAS,CACxB,IAAItuC,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EAAIC,EAAI8hB,EAChC,KAAM,CACJ,QAAA3L,EACA,UAAAI,EACA,QAAAC,EACA,UAAA8K,EACA,MAAO,CAAE,QAASS,EAAe,EAAG,SAAA/xB,EAAW,KAAM,CACvD,EAAI,KACJ,GAAI,CAACmmB,GAAW,CAACI,GAAa,CAACC,EAC7B,OAEF,MAAMwL,EAAqB,KAAK,iBAAiB,EACjD,GAA2CA,GAAmB,GAAM,MAA+CA,GAAmB,GAAM,KAC1I,OAEF,MAAMvC,EAAeD,GAA2B,CAC9C,WAAY8B,IAAc,IAC1B,QAASS,EACT,SAAA/xB,EACA,KAAMgyB,CACR,CAAC,EACD9C,EAAQ,KAAO,KAAK,KAAKtuC,EAAKsuC,EAAQ,OAAS,KAAOtuC,EAAK,GAAIiL,EAAK4jC,EAAa,OAAS,KAAO5jC,EAAK,CAAC,EACvGqjC,EAAQ,MAAQ,KAAK,KAAKpjC,EAAKojC,EAAQ,QAAU,KAAOpjC,EAAK,GAAIU,EAAKijC,EAAa,QAAU,KAAOjjC,EAAK,CAAC,EAC1G0iC,EAAQ,IAAM,KAAK,KAAKnxB,EAAKmxB,EAAQ,MAAQ,KAAOnxB,EAAK,GAAIgS,EAAK0f,EAAa,MAAQ,KAAO1f,EAAK,CAAC,EACpGmf,EAAQ,OAAS,KAAK,KAAKlf,EAAKkf,EAAQ,SAAW,KAAOlf,EAAK,GAAI8hB,EAAKrC,EAAa,SAAW,KAAOqC,EAAK,CAAC,CAC/G,CACF,EACApB,GAAoB,kBAAoB,EACxCA,GAAoB,mBAAqB,EACzCA,GAAoB,mBAAqB,EACzCA,GAAoB,UAAY,YAChC30C,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAG4Z,GAAoB,UAAW,UAAW,CAAC,EAC9C30C,EAAiB,CACf25B,EAASiD,GAAM,CAAC,QAAS,MAAM,EAAG,kBAAkB,EAAG,CAAE,SAAU,EAAK,CAAC,CAC3E,EAAG+X,GAAoB,UAAW,OAAQ,CAAC,EAC3C30C,EAAiB,CACf25B,EAASU,GAAIkY,GAAwB,OAAO,EAAG9W,GAAM,SAAS,CAAE,OAAQ,CAAE,CAAC,CAAC,EAAG,CAC7E,SAAU,EACZ,CAAC,CACH,EAAGkZ,GAAoB,UAAW,QAAS,CAAC,EAC5C30C,EAAiB,CACf25B,EAAS4Y,GAAwB,OAAO,EAAG,CAAE,SAAU,EAAK,CAAC,CAC/D,EAAGoC,GAAoB,UAAW,QAAS,CAAC,EAC5C30C,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGuY,GAAoB,UAAW,OAAQ,CAAC,EAC3C30C,EAAiB,CACf25B,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAGqZ,GAAoB,UAAW,cAAe,CAAC,EAClD30C,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGuY,GAAoB,UAAW,SAAU,CAAC,EAC7C30C,EAAiB,CACf25B,EAASuB,GAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGyZ,GAAoB,UAAW,cAAe,CAAC,EAClD30C,EAAiB,CACf25B,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAGqZ,GAAoB,UAAW,gBAAiB,CAAC,EACpD30C,EAAiB,CACf25B,EAASmD,GAAW,CAAE,SAAU,EAAK,CAAC,CACxC,EAAG6X,GAAoB,UAAW,WAAY,CAAC,EAC/C,IAAIuB,GAAqBvB,GACrBwB,GAAY,KAAM,CACpB,aAAc,CACZ,KAAK,UAA4B,IAAI,GACvC,CACA,CAAC,SAAU,CACT,UAAW9sC,KAAK,KAAK,UAAU,OAAO,EACpC,MAAMA,EAAE,cAEZ,CACA,UAAUJ,EAAQmtC,EAAe,CAC/B,GAAI,KAAK,UAAU,IAAIntC,EAAO,UAAU,EACtC,MAAM,IAAI,MAAM,2CAA2CA,EAAO,UAAU,EAAE,EAEhF,KAAK,UAAU,IAAIA,EAAO,WAAY,CAAE,OAAAA,EAAQ,eAAgBmtC,EAAcntC,CAAM,CAAE,CAAC,CACzF,CACA,aAAaA,EAAQ,CACnB,IAAIpE,EACJ,MAAMwxC,EAAYhqC,GAASpD,CAAM,EAAIA,EAASA,EAAO,YACpDpE,EAAK,KAAK,UAAU,IAAIwxC,CAAS,IAAM,MAAgBxxC,EAAG,eAAe,QAAQ,EAClF,KAAK,UAAU,OAAOwxC,CAAS,CACjC,CACA,UAAUptC,EAAQ,CAChB,IAAIpE,EACJ,OAAQA,EAAK,KAAK,UAAU,IAAIwH,GAASpD,CAAM,EAAIA,EAASA,EAAO,UAAU,IAAM,KAAO,OAASpE,EAAG,cACxG,CACA,UAAUoE,EAAQ,CAChB,OAAO,KAAK,UAAU,IAAIoD,GAASpD,CAAM,EAAIA,EAASA,EAAO,UAAU,CACzE,CACA,WAAW9F,EAAU,CACnB,OAAO,MAAM,KAAK,KAAK,UAAU,OAAO,EAAG,CAACkG,EAAG,IAAMlG,EAASkG,EAAE,eAAgB,CAAC,CAAC,CACpF,CACA,SAAU,CACR,IAAIxE,EACJ,UAAWwxC,KAAa,KAAK,UAAU,KAAK,GACzCxxC,EAAK,KAAK,UAAU,IAAIwxC,CAAS,IAAM,MAAgBxxC,EAAG,eAAe,QAAQ,EAEpF,KAAK,UAAU,MAAM,CACvB,CACF,EACIyxC,GAAsB,CAAC,EAC3Bx2C,GAASw2C,GAAqB,CAC5B,YAAa,IAAMC,EACrB,CAAC,EACD,SAASA,GAAYziB,EAAmB0iB,EAAS,CAC/C,KAAM,CAAE,MAAA7oB,EAAO,WAAAuH,CAAW,EAAIrB,GAA6BC,CAAiB,EAC5E,UAAW2C,KAAavB,EAAY,CAClC,UAAWriB,KAAQ4jB,EAAU,MAAM,EAAG,CACpC,MAAMjC,EAAOgiB,EAAQ3jC,EAAMA,EAAK,KAAK,EACrCA,EAAK,cAAc2hB,CAAI,CACzB,CACAiC,EAAU,QAAQ,CACpB,CACA,UAAW5jB,KAAQ8a,EAAO,CACxB,MAAM6G,EAAOgiB,EAAQ3jC,EAAMA,EAAK,KAAK,EACrCA,EAAK,cAAc2hB,CAAI,CACzB,CACF,CACA,IAAIiiB,GAAe,KAAM,CACvB,YAAYC,EAAcC,EAAQC,EAAiB,CACjD,KAAK,OAASD,EACd,KAAK,gBAAkBC,EACvB,KAAK,MAAQ/1B,GAAM,OAAO,GAAM,WAAW,EAC3C,KAAK,MAAQ61B,EACb,KAAK,MAAM,KAAK,KAAK,YAAY,IAAI,cAAcA,CAAY,GAAI,cAAc,CACnF,CACA,WAAWG,EAAO7iC,EAAM,CACtB,IAAInP,EAAIiL,EACR,MAAMgnC,EAAqB,KAAK,OAAO,KAAK,KAAK,EAC3CC,EAA8DD,IAAmBD,CAAK,EAC5F,GAAI,CAACE,EAAuB,CAC1B,KAAK,MAAM,KAAK,KAAK,YAAY,IAAI,MAAM,KAAK,KAAK,OAAOF,CAAK,OAAO,KAAK,KAAK,GAAI,aAAa,EACnG,MACF,CACA,IAAIG,EAAmB,KAAK,MAC5B,OAAI,OAAOD,GAA0B,SACnCC,EAAmBD,EACV,OAAOA,GAA0B,WAC1CC,EAAmBD,EAAsB,QAE3C,KAAK,MAAM,KAAK,KAAK,YAAY,IAAI,MAAM,KAAK,KAAK,OAAOF,CAAK,OAAOG,CAAgB,GAAI,cAAc,GACzGnyC,EAAK,KAAK,kBAAoB,MAAgBA,EAAG,KAAK,KAAM,KAAK,MAAOmyC,CAAgB,EACzF,KAAK,MAAQA,EACT,OAAOD,GAA0B,WACnCA,EAAsB/iC,CAAI,EACjB,OAAO+iC,GAA0B,YACzCjnC,EAAKinC,EAAsB,SAAW,MAAgBjnC,EAAG,KAAKinC,EAAuB/iC,CAAI,GAErF,KAAK,KACd,CACF,EACIijC,GAASC,GAAY,IAAIA,CAAO,IAChCC,GAAiBD,GAAY,GAAGD,GAAMC,CAAO,CAAC,IAC9CE,GAAqBF,GAAYC,GAAc,KAAKD,CAAO,EAAE,EAC7DG,IAAe,IAAM,CACvB,MAAM5N,EAAO,IACP6N,EAAQ,SACRnoB,EAAO,WACPtyB,EAAS,iCACT06C,EAAO,IACPtvB,EAAQ,OACRuvB,EAAQ,IACRC,EAAY,OACZC,EAAQ,IACRzoC,EAAO,SACb,OAAO,IAAI,OACT,CACE,IACAmoC,GAAkB,GAAGD,GAAc1N,CAAI,CAAC,GAAGwN,GAAMK,CAAK,CAAC,EAAE,EACzDH,GAAchoB,CAAI,EAClBgoB,GAAct6C,CAAM,EACpBs6C,GAAcI,CAAI,EAClBJ,GAAclvB,CAAK,EACnBkvB,GAAcK,CAAK,EACnBJ,GAAkB,MAAMH,GAAMQ,CAAS,CAAC,EAAE,EAC1CN,GAAcO,CAAK,EACnBP,GAAcloC,CAAI,EAClB,GACF,EAAE,KAAK,EAAE,EACT,GACF,CACF,GAAG,EACC0oC,IAAmB,IAAM,CAC3B,MAAMC,EAAS,MACTV,EAAU,MACVW,EAAS,MACf,OAAO,IAAI,OAAO,CAAC,IAAKZ,GAAMW,CAAM,EAAG,OAAOX,GAAMC,CAAO,CAAC,MAAOD,GAAMY,CAAM,EAAG,GAAG,EAAE,KAAK,EAAE,CAAC,CACjG,GAAG,EACH,SAASC,GAAelW,EAAW,CACjC,IAAIgW,EACAC,EACJ,MAAME,EAAaJ,GAAgB,KAAK/V,CAAS,EAC7CmW,IACF,CAAC,CAAEH,EAAQhW,EAAWiW,CAAM,EAAIE,GAElC,MAAMC,EAAQX,GAAY,KAAKzV,CAAS,EACxC,GAAI,CAACoW,EACH,MAAM,IAAI,MAAM,oCAAoCpW,CAAS,EAAE,EAEjE,KAAM,CAAC,CAAE6H,EAAM6N,EAAOnoB,EAAMtyB,EAAQ06C,EAAMtvB,EAAOuvB,EAAOC,EAAWQ,EAAMhpC,CAAI,EAAI+oC,EACjF,MAAO,CACL,KAAAvO,EACA,MAAA6N,EACA,KAAAnoB,EACA,OAAAtyB,EACA,KAAA06C,EACA,MAAO,SAAStvB,CAAK,EACrB,MAAAuvB,EACA,UAAW,SAASC,CAAS,EAC7B,KAAM,EAAQQ,EACd,KAAAhpC,EACA,OAAA2oC,EACA,OAAAC,CACF,CACF,CACA,SAASK,GAAOtW,EAAW,CACzB,MAAMv+B,EAAU,OAAOu+B,GAAc,SAAWkW,GAAelW,CAAS,EAAIA,EACtE,CAAE,KAAA6H,EAAM,MAAA6N,EAAO,KAAAnoB,EAAO,IAAK,OAAAtyB,EAAQ,KAAA06C,EAAM,MAAAtvB,EAAO,MAAAuvB,EAAO,KAAAvoC,EAAM,OAAA2oC,EAAS,GAAI,OAAAC,EAAS,GAAI,UAAAJ,CAAU,EAAIp0C,EAC3G,GAAI,CAAE,KAAA40C,CAAK,EAAI50C,EACf,MAAM80C,EAAiBV,IAAc,QAAU,MAAMA,CAAS,EAC9D,IAAIW,EACJ,GAAI,CAACnpC,EACHmpC,EAAaC,GAAa,EAC1BJ,EAAO,WACEhpC,KAAQopC,IAAgBppC,KAAQqpC,GACzCF,EAAaD,EAAiBG,GAAarpC,CAAI,EAAIopC,GAAappC,CAAI,UAC3DA,KAAQopC,GACjBD,EAAaC,GAAappC,CAAI,UACrBA,KAAQqpC,GACjBF,EAAaE,GAAarpC,CAAI,MAE9B,OAAM,IAAI,MAAM,yCAAyCA,CAAI,EAAE,EAEjE,IAAIspC,EACJ,OAAId,GAAa,MAAQU,EACvBI,EAAqBtpC,EAAO,EAAI,GAEhCspC,EAAqBd,EAEf1wB,GAAM,CACZ,IAAIrpB,EAAS06C,EAAWrxB,EAAGwxB,CAAkB,EAC7C,OAAIN,IACFv6C,EAAS86C,GAAoB96C,CAAM,GAEjC85C,IACF95C,EAAS+6C,GAAgB/6C,EAAQ85C,CAAK,GAExC95C,EAASg7C,GAAQ3xB,EAAGrpB,EAAQyxB,CAAI,EAC5BtyB,GAAUA,IAAW,MACvBa,EAAS,GAAGb,CAAM,GAAGa,CAAM,IAEzBb,IAAW,KAAOoS,IAAS,MAC7BvR,EAAS,KAAKA,CAAM,IAElBuR,IAAS,MACXvR,EAAS,GAAGA,CAAM,GAAGi7C,GAAY5xB,CAAC,CAAC,KAEjC9X,IAAS,KAAOA,IAAS,OAC3BvR,EAAS,GAAGA,CAAM,KAEhBuqB,GAAS,MAAQ,CAAC,MAAMA,CAAK,IAC/BvqB,EAASk7C,GAAWl7C,EAAQuqB,EAAOwhB,GAAsB8N,EAAMD,CAAK,GAEtE55C,EAAS,GAAGk6C,CAAM,GAAGl6C,CAAM,GAAGm6C,CAAM,GAC7Bn6C,CACT,CACF,CACA,IAAIm7C,GAAY9xB,GAAM,KAAK,MAAM,KAAK,IAAIA,CAAC,CAAC,EACxCuxB,GAAe,CACjB,EAAIvxB,GAAM8xB,GAAS9xB,CAAC,EAAE,SAAS,CAAC,EAChC,EAAIA,GAAM,OAAO,aAAaA,CAAC,EAC/B,EAAIA,GAAM,KAAK,MAAM,KAAK,IAAIA,CAAC,CAAC,EAAE,QAAQ,CAAC,EAC3C,EAAIA,GAAM8xB,GAAS9xB,CAAC,EAAE,SAAS,CAAC,EAChC,EAAIA,GAAM8xB,GAAS9xB,CAAC,EAAE,SAAS,EAAE,EACjC,EAAIA,GAAMuxB,GAAa,EAAEvxB,CAAC,EAAE,YAAY,EACxC,EAAIA,GAAMuxB,GAAa,EAAEvxB,CAAC,EAC1B,IAAMA,GAAM,GAAG8xB,GAAS9xB,EAAI,GAAG,EAAE,QAAQ,CAAC,CAAC,EAC7C,EACIsxB,GAAe,CACjB,EAAG,CAACtxB,EAAG6D,IAAM,KAAK,IAAI7D,CAAC,EAAE,cAAc6D,CAAC,EACxC,EAAG,CAAC7D,EAAG6D,IAAMytB,GAAa,EAAEtxB,EAAG6D,CAAC,EAAE,YAAY,EAC9C,EAAG,CAAC7D,EAAG6D,IAAM,KAAK,IAAI7D,CAAC,EAAE,QAAQ6D,CAAC,EAClC,EAAG,CAAC7D,EAAG6D,IAAMytB,GAAa,EAAEtxB,EAAG6D,CAAC,EAAE,YAAY,EAC9C,EAAG,CAAC7D,EAAG6D,IAAM,CACX,GAAI7D,IAAM,EACR,MAAO,IAET,MAAM5pB,EAAI,KAAK,IAAI4pB,CAAC,EACd6I,EAAI,KAAK,MAAM,KAAK,MAAMzyB,CAAC,CAAC,EAClC,OAAIyyB,GAAK,IAAMA,EAAIhF,EACVztB,EAAE,QAAQytB,EAAI,EAAIgF,CAAC,EAErBzyB,EAAE,cAAcytB,EAAI,CAAC,CAC9B,EACA,EAAG,CAAC7D,EAAG6D,IAAMytB,GAAa,EAAEtxB,EAAG6D,CAAC,EAAE,YAAY,EAC9C,EAAG,CAAC7D,EAAG6D,IAAMytB,GAAa,EAAEtxB,EAAG6D,CAAC,EAChC,EAAG,CAAC7D,EAAG6D,IAAMytB,GAAa,EAAEtxB,EAAI,IAAK6D,CAAC,EACtC,EAAG,CAAC7D,EAAG6D,IAAM,CACX,GAAI7D,IAAM,EACR,MAAO,IAET,MAAM5pB,EAAI,KAAK,IAAI4pB,CAAC,EAEd0K,EADI,KAAK,MAAM,KAAK,MAAMt0B,CAAC,CAAC,GACnBytB,EAAI,GACnB,GAAI6G,GAAK,EACP,OAAOt0B,EAAE,QAAQ,CAACs0B,CAAC,EAErB,MAAMpzB,EAAI,KAAK,IAAI,GAAIozB,CAAC,EACxB,OAAQ,KAAK,MAAMt0B,EAAIkB,CAAC,EAAIA,GAAG,QAAQ,CACzC,EACA,EAAG,CAAC0oB,EAAG6D,IAAM,CACX,MAAMgF,EAAIkpB,GAAiB/xB,CAAC,EAC5B,OAAOsxB,GAAa,EAAEtxB,EAAI,KAAK,IAAI,GAAI6I,CAAC,EAAGhF,CAAC,CAC9C,EACA,IAAK,CAAC7D,EAAG6D,IAAMytB,GAAa,EAAEtxB,EAAI,IAAK6D,CAAC,CAC1C,EACA,SAAS4tB,GAAoBO,EAAW,CACtC,OAAOA,EAAU,QAAQ,QAAS,EAAE,EAAE,QAAQ,eAAgB,IAAI,CACpE,CACA,SAASN,GAAgBM,EAAWC,EAAW,CAC7C,IAAIC,EAAWF,EAAU,QAAQ,GAAG,EAChCE,EAAW,IACbA,EAAWF,EAAU,QAEvB,MAAMG,EAAeH,EAAU,UAAU,EAAGE,CAAQ,EAAE,MAAM,EAAE,EACxDE,EAAiBJ,EAAU,UAAUE,CAAQ,EACnD,QAASt7C,EAAIu7C,EAAa,OAAS,EAAGv7C,EAAI,EAAGA,GAAK,EAChDu7C,EAAa,OAAOv7C,EAAG,EAAGq7C,CAAS,EAErC,MAAO,GAAGE,EAAa,KAAK,EAAE,CAAC,GAAGC,CAAc,EAClD,CACA,SAASR,GAAY5xB,EAAG,CACtB,OAAOqyB,GAAWN,GAAiB/xB,CAAC,CAAC,CACvC,CACA,SAAS+xB,GAAiB/xB,EAAG,CAC3B,OAAOd,GAAMozB,GAAatyB,EAAI,KAAK,MAAM,KAAK,MAAM,KAAK,IAAIA,CAAC,CAAC,EAAI,CAAC,EAAI,EAAI,EAAGuyB,EAAW,CAC5F,CACA,IAAID,GAAc,IACdC,GAAc,GACdF,GAAa,CACf,CAACC,EAAW,EAAG,IACf,CAAC,GAAG,EAAG,IACP,CAAC,GAAG,EAAG,IACP,CAAC,GAAG,EAAG,IACP,CAAC,GAAG,EAAG,IACP,CAAC,EAAE,EAAG,IACN,CAAC,EAAE,EAAG,OACN,CAAC,EAAE,EAAG,IACL,EAAI,GACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,GAAK,IACL,GAAK,IACL,GAAK,IACL,GAAK,IACN,CAACC,EAAW,EAAG,GACjB,EACIC,GAAY,SAChB,SAASb,GAAQc,EAAKT,EAAWU,EAAW,GAAI,CAC9C,GAAIA,IAAa,IACf,OAAOD,GAAO,EAAIT,EAAY,IAAIA,CAAS,IAE7C,MAAMW,EAAWD,IAAa,IAAM,IAAM,GAC1C,MAAO,GAAGD,GAAO,EAAIE,EAAWH,EAAS,GAAGR,CAAS,EACvD,CACA,SAASH,GAAWG,EAAW9wB,EAAOwhB,EAAO,IAAK6N,EAAQ,IAAK,CAC7D,IAAI55C,EAASq7C,EACb,GAAIzB,IAAU,KAAO,CAACA,EACpB55C,EAASA,EAAO,SAASuqB,EAAOwhB,CAAI,UAC3B6N,IAAU,IACnB55C,EAASA,EAAO,OAAOuqB,EAAOwhB,CAAI,UACzB6N,IAAU,IAAK,CACxB,MAAMqC,EAAW,KAAK,IAAI,EAAG1xB,EAAQvqB,EAAO,MAAM,EAC5Ck8C,EAAU,KAAK,KAAKD,EAAW,CAAC,EAChCE,EAAW,KAAK,MAAMF,EAAW,CAAC,EACxCj8C,EAASA,EAAO,SAASk8C,EAAUl8C,EAAO,OAAQ+rC,CAAI,EACtD/rC,EAASA,EAAO,OAAOm8C,EAAWn8C,EAAO,OAAQ+rC,CAAI,CACvD,CACA,OAAO/rC,CACT,CACA,SAASo8C,GAAW7X,EAAOL,EAAW,CACpC,MAAMv+B,EAAUy0C,GAAelW,GAAgC,IAAI,EAC7D,CAAE,UAAA6V,CAAU,EAAIp0C,GAClBo0C,GAAa,MAAQ,MAAMA,CAAS,KAClCp0C,EAAQ,OAAS,KAAOA,EAAQ,OAAS,IAC3CA,EAAQ,UAAY,KAAK,IACvB,GAAG4+B,EAAM,IAAK5jC,GAAM,CAClB,GAAI,OAAOA,GAAM,UAAYA,IAAM,EACjC,MAAO,GAET,MAAMgyB,EAAI,KAAK,MAAM,KAAK,MAAM,KAAK,IAAIhyB,CAAC,CAAC,CAAC,EACtC07C,EAAS12C,EAAQ,KAAO,EAAI,GAC5B22C,EAAM37C,EAAE,cAAc07C,EAAS,CAAC,EAAE,QAAQ,SAAU,GAAG,EACvDd,EAAWe,EAAI,QAAQ,GAAG,EAChC,GAAIf,EAAW,EACb,OAAO5oB,GAAK,EAAI,EAAI,CAACA,EAEvB,MAAMjrB,EAAI40C,EAAI,QAAQ,GAAG,EAAIf,EAC7B,OAAO,KAAK,IAAI,EAAG7zC,EAAIirB,EAAI,CAAC,CAC9B,CAAC,CACH,GACS,CAAChtB,EAAQ,MAAQA,EAAQ,QAAQg1C,MAC1Ch1C,EAAQ,UAAY,KAAK,IACvB,GAAG4+B,EAAM,IAAK5jC,GAAM,CAClB,GAAI,OAAOA,GAAM,SACf,MAAO,GAET,MAAM27C,EAAM37C,EAAE,eAAegF,EAAQ,KAAO,EAAI,IAAM,CAAC,EAAE,QAAQ,SAAU,GAAG,EAC9E,OAAO22C,EAAI,UAAU,EAAGA,EAAI,QAAQ,GAAG,CAAC,EAAE,QAAQ,IAAK,EAAE,EAAE,MAC7D,CAAC,CACH,IAGJ,MAAMpvB,EAAIstB,GAAO70C,CAAO,EACxB,OAAQ0jB,GAAM6D,EAAE,OAAO7D,CAAC,CAAC,CAC3B,CACA,IAAIkzB,GAAY,MAAMC,WAAmBza,EAAgB,CACvD,aAAc,CACZ,MAAM,CAAC,EAAG,EAAE,EAAG,CAAC,EAAG,CAAC,CAAC,EACrB,KAAK,KAAO,MACZ,KAAK,KAAO,GACZ,KAAK,QAAU98B,GACf,KAAK,QAAUA,GACf,KAAK,IAAOtE,GACI,KAAK,IAAI,GAAG,KAAK,MAAM,GACrB,EAAI,KAAK,QAAQA,CAAC,EAAI,CAAC,KAAK,QAAQ,CAACA,CAAC,EAExD,KAAK,IAAOA,GACI,KAAK,IAAI,GAAG,KAAK,MAAM,GACrB,EAAI,KAAK,QAAQA,CAAC,EAAI,CAAC,KAAK,QAAQ,CAACA,CAAC,EAExD,KAAK,iBAAmB,SAC1B,CACA,SAASoG,EAAG,CACV,OAAOA,CACT,CACA,UAAUpG,EAAG,CAEX,OADc,KAAK,IAAI,GAAG,KAAK,MAAM,GACrB,EAAI,KAAK,IAAIA,CAAC,EAAI,CAAC,KAAK,IAAI,CAACA,CAAC,CAChD,CACA,gBAAgBA,EAAG,CAEjB,OADc,KAAK,IAAI,GAAG,KAAK,MAAM,GACrB,EAAI,KAAK,IAAIA,CAAC,EAAI,CAAC,KAAK,IAAI,CAACA,CAAC,CAChD,CACA,SAAU,CACJ,KAAK,MAAQ,IACf,KAAK,KAAO,EACZ4F,EAAO,SAAS,6CAA6C,GAE/D,MAAM,QAAQ,CAChB,CACA,QAAS,CACH,CAAC,KAAK,QAAU,KAAK,OAAO,OAAS,IAGzC,KAAK,QAAUi2C,GAAW,iBAAiB,KAAK,IAAI,EACpD,KAAK,QAAUA,GAAW,mBAAmB,KAAK,IAAI,EAClD,KAAK,MACP,KAAK,iBAAiB,EAE1B,CACA,kBAAmB,CACjB,KAAM,CAAC/a,EAAIC,CAAE,EAAI,KAAK,OAChB6E,EAAa9E,EAAKC,EAAK,KAAK,KAAO,KAAK,MACxC8E,EAAY/E,EAAKC,EAAK,KAAK,MAAQ,KAAK,KACxCuG,EAAK,KAAK,IAAI1B,EAAW,KAAK,IAAI9E,CAAE,CAAC,CAAC,EACtCyG,EAAK,KAAK,IAAI1B,EAAU,KAAK,IAAI9E,CAAE,CAAC,CAAC,EAC3C,KAAK,WAAa,CAACuG,EAAIC,CAAE,CAC3B,CACA,OAAQ,CACN,IAAI/gC,EACJ,MAAMse,GAASte,EAAK,KAAK,YAAc,KAAOA,EAAK,GACnD,GAAI,CAAC,KAAK,QAAU,KAAK,OAAO,OAAS,GAAKse,EAAQ,EACpD,MAAO,CAAC,EAEV,KAAK,QAAQ,EACb,MAAMuD,EAAO,KAAK,KACZ,CAACyY,EAAIC,CAAE,EAAI,KAAK,UAAU,EAC1B16B,EAAQ,KAAK,IAAIy6B,EAAIC,CAAE,EACvBz6B,EAAO,KAAK,IAAIw6B,EAAIC,CAAE,EAC5B,IAAI+a,EAAK,KAAK,IAAIz1C,CAAK,EACnB01C,EAAK,KAAK,IAAIz1C,CAAI,EACtB,GAAI,KAAK,SAAU,CACjB,MAAMlE,EAAO,KAAK,IAAI,KAAK,QAAQ,EAC7B45C,EAAU,KAAK,IAAID,EAAKD,CAAE,EAChC,IAAI/U,EAAS5B,GAAM2W,EAAIC,EAAI,KAAK,IAAIC,EAAS55C,CAAI,CAAC,EAClD2kC,EAASjC,GACPiC,EAAO,eACPA,EAAO,IAAK/mC,GAAM,KAAK,IAAIA,CAAC,CAAC,EAAE,OAAQmQ,GAAMA,GAAK9J,GAAS8J,GAAK7J,CAAI,CACtE,EACA,MAAM2/B,EAAiB,KAAK,cAAc,EAC1C,GAAI,CAACD,GAAgB,CAAE,MAAA3/B,EAAO,KAAAC,EAAM,SAAUlE,EAAM,MAAO2kC,EAAO,OAAQ,eAAAd,CAAe,CAAC,EACxF,OAAOc,CAEX,CACA,MAAMkV,EAAgB5zB,EAAO,IAAM,EAC7B6zB,EAAcH,EAAKD,GAAMh3B,EAC/B,GAAI,CAACm3B,GAAiBC,EAAa,CACjC,IAAInV,EAAS/B,GAAc8W,EAAIC,EAAI,KAAK,IAAIA,EAAKD,EAAIh3B,CAAK,CAAC,EAC3D,OAAAiiB,EAASjC,GACPiC,EAAO,eACPA,EAAO,IAAK/mC,GAAM,KAAK,IAAIA,CAAC,CAAC,CAC/B,EACO+mC,CACT,CACA,MAAMnD,EAAQ,CAAC,EACTuY,EAAa91C,EAAQ,EAC3By1C,EAAK,KAAK,MAAMA,CAAE,EAAI,EACtBC,EAAK,KAAK,MAAMA,CAAE,EAAI,EACtB,MAAMK,EAAmBr0B,GAAgB,KAAK,KAAK,EAAIjD,EACvD,IAAIu3B,EAAmB,IACvB,QAAS9qB,EAAIuqB,EAAIvqB,GAAKwqB,EAAIxqB,IAAK,CAC7B,MAAM+qB,EAA4B,KAAK,QAAQ,KAAK,IAAI/qB,EAAI,CAAC,CAAC,EAC9D,QAASxxB,EAAI,EAAGA,EAAIsoB,EAAMtoB,IAAK,CAC7B,MAAMqzB,EAAI+oB,EAAap8C,EAAIsoB,EAAOtoB,EAAI,EAChCoQ,EAAI,KAAK,IAAIohB,CAAC,EAAI6B,EAClBmpB,EAAe,KAAK,QAAQpsC,CAAC,EAC7BqsC,EAAc,KAAK,IAAIH,EAAmBE,CAAY,EACtDE,EAAc,KAAK,IAAIF,EAAeD,CAAyB,EAC/DI,EAAOF,GAAeJ,GAAoBK,GAAeL,EAC3DjsC,GAAK9J,GAAS8J,GAAK7J,IAASvG,IAAM,GAAK28C,GAAQ9Y,EAAM,SAAW,KAClEA,EAAM,KAAKzzB,CAAC,EACZksC,EAAmBE,EAEvB,CACF,CACA,OAAO3Y,CACT,CACA,WAAW,CACT,MAAA9e,EACA,MAAA8e,EACA,UAAAyD,CACF,EAAG,CACD,OAAIviB,IAAU,KAAY8e,GAAS,MACjC,KAAK,MAAM,EAEbyD,IAAgCA,EAAY,KAAK,OAAS,GAAK,MAAQ,KAChEr5B,GAASq5B,CAAS,EAAIwS,GAAOxS,CAAS,EAAIA,CACnD,CACA,OAAO,iBAAiBhf,EAAM,CAC5B,OAAQA,EAAM,CACZ,IAAK,IACH,OAAO,KAAK,MACd,KAAK,KAAK,EACR,OAAO,KAAK,IACd,IAAK,GACH,OAAO,KAAK,KACd,QACE,MAAMs0B,EAAU,KAAK,IAAIt0B,CAAI,EAC7B,OAAQroB,GAAM,KAAK,IAAIA,CAAC,EAAI28C,CAChC,CACF,CACA,OAAO,mBAAmBt0B,EAAM,CAC9B,OAAQA,EAAM,CACZ,IAAK,IACH,OAAQroB,GAAMA,GAAK,EAAIkB,EAAM,GAAIlB,CAAC,EAAI,EAAIkB,EAAM,GAAI,CAAClB,CAAC,EACxD,KAAK,KAAK,EACR,OAAO,KAAK,IACd,QACE,OAAQA,GAAMkB,EAAMmnB,EAAMroB,CAAC,CAC/B,CACF,CACF,EACA2B,EAAiB,CACfm4B,EACF,EAAG8hB,GAAU,UAAW,OAAQ,CAAC,EACjC,IAAIgB,GAAWhB,GACXiB,GAAY,MAAMC,EAAW,CAC/B,YAAYC,EAAYC,EAAgBC,EAAc,GAAM,CAC1D,KAAK,WAAaF,EAClB,KAAK,YAAcE,EACnB,KAAK,WAA6B,IAAI,IACtC,KAAK,UAA4B,IAAI,IACrC,KAAK,OAAS,CAAC,EACf,KAAK,KAAO,CAAC,EACb,KAAK,MAAQz6B,GAAM,OAAO,GAAM,QAAS,kBAAkB,EAC3D,KAAK,YAAc,OAAO,UAAU,cAAc,KAAKoO,GAAMosB,CAAc,EAAI,IAAM,IAAIA,EAAmBA,CAC9G,CACA,OAAO,OAAOztB,EAAQytB,EAAgBE,EAAoB,GAAM,CAC9D,OAAO,IAAIJ,GAAWvtB,EAAQytB,EAAgBE,CAAiB,CACjE,CACA,OAAO,UAAU3tB,EAAQ9O,EAAW,CAClC,MAAM08B,EAAU,CAAC,EACXC,EAAY5oC,GAAS,CACrBiM,EAAUjM,CAAI,GAChB2oC,EAAQ,KAAK3oC,CAAI,EAEnBA,EAAK,SAAS,QAAQ4oC,CAAQ,CAChC,EACA,OAAAA,EAAS7tB,CAAM,EACR4tB,CACT,CACA,OAAO,cAAc3oC,EAAM6oC,KAAUC,EAAc,CACjD,OAAOR,GAAW,UAAUtoC,EAAO,GAC1B,aAAa6oC,GAASC,EAAa,KAAMjxB,GAAM,aAAaA,CAAC,CACrE,CACH,CACA,OAAO,YAAY7X,EAAMwa,EAAK,CAC5B,OAAO8tB,GAAW,UAAUtoC,EAAOkU,GAAMA,EAAE,MAAQsG,CAAG,CACxD,CACA,WAAWE,EAAOquB,EAAaxU,EAAK,CAClC,MAAMv0B,EAAO,KAAK,YAAY0a,CAAK,EACnC,OAAA1a,EAAK,MAAQ0a,EACkBquB,IAAY/oC,CAAI,EAC3Cu0B,GAAO,KACT,KAAK,OAAO,KAAKv0B,CAAI,EAErB,KAAK,OAAO,OAAOu0B,EAAK,EAAGv0B,CAAI,EAEjC,KAAK,WAAW,YAAYA,CAAI,EACzBA,CACT,CAMA,OAAOmB,EAAM4nC,EAAa9mB,EAAY,CAIpC,GAHI,KAAK,WAAW,KAAO,GACzB,KAAK,MAAM,qDAAqD9gB,CAAI,EAAE,EAEpE8gB,EAAY,CACd,MAAM+mB,EAAU,IAAI,IAClB7nC,EAAK,IAAI,CAACuZ,EAAO6Z,IAAQ,CAACtS,EAAWvH,CAAK,EAAG,CAACA,EAAO6Z,CAAG,CAAC,CAAC,CAC5D,EACA,SAAW,CAACv0B,EAAMipC,CAAO,IAAK,KAAK,UAAU,QAAQ,EACnD,GAAID,EAAQ,IAAIC,CAAO,EAAG,CACxB,KAAM,CAACC,CAAQ,EAAIF,EAAQ,IAAIC,CAAO,EACtCjpC,EAAK,MAAQkpC,EACb,KAAK,WAAW,OAAOlpC,CAAI,EAC3BgpC,EAAQ,OAAOC,CAAO,CACxB,MACE,KAAK,WAAW,IAAIjpC,CAAI,EAG5B,SAAW,CAACipC,EAAS,CAACvuB,EAAO6Z,CAAG,CAAC,IAAKyU,EAAQ,QAAQ,EACpD,KAAK,UAAU,IAAI,KAAK,WAAWtuB,EAAOquB,EAAaxU,CAAG,EAAG0U,CAAO,CAExE,KAAO,CACL,MAAM5hB,EAAY,KAAK,IAAIlmB,EAAK,OAAQ,KAAK,KAAK,MAAM,EACxD,QAASrW,EAAI,EAAGA,EAAIu8B,EAAWv8B,IACzBA,GAAKqW,EAAK,OACZ,KAAK,WAAW,IAAI,KAAK,OAAOrW,CAAC,CAAC,EACzBA,GAAK,KAAK,OAAO,OAC1B,KAAK,WAAWqW,EAAKrW,CAAC,EAAGi+C,CAAW,GAEpC,KAAK,OAAOj+C,CAAC,EAAE,MAAQqW,EAAKrW,CAAC,EAC7B,KAAK,WAAW,OAAO,KAAK,OAAOA,CAAC,CAAC,EAG3C,CACA,YAAK,KAAOqW,EAAK,MAAM,EACnB,KAAK,aACP,KAAK,QAAQ,EAER,IACT,CACA,SAAU,CACR,OAAI,KAAK,WAAW,OAAS,EACpB,MAET,KAAK,OAAS,KAAK,OAAO,OAAQnB,GAC5B,KAAK,WAAW,IAAIA,CAAI,GAC1B,KAAK,UAAU,OAAOA,CAAI,EAC1B,KAAK,WAAW,OAAOA,CAAI,EAC3B,KAAK,WAAW,YAAYA,CAAI,EACzB,IAEF,EACR,EACM,KACT,CACA,OAAQ,CACN,YAAK,OAAO,CAAC,CAAC,EACP,IACT,CACA,UAAUA,EAAM,CACd,OAAO,KAAK,WAAW,IAAIA,CAAI,CACjC,CACA,YAAa,CACX,OAAO,KAAK,WAAW,KAAO,CAChC,CACA,KAAKmpC,EAAU,CACb,UAAWC,KAAS,KAAK,OAAO,QAAQ,EACtCD,EAASC,EAAM,CAAC,EAAGA,EAAM,CAAC,EAAE,MAAOA,EAAM,CAAC,CAAC,EAE7C,OAAO,IACT,CACA,EAAE,OAAO,QAAQ,GAAI,CACnB,QAAS7yC,EAAQ,EAAGA,EAAQ,KAAK,OAAO,OAAQA,IAAS,CACvD,MAAMyJ,EAAO,KAAK,OAAOzJ,CAAK,EACxBmkB,EAAQ,KAAK,OAAOnkB,CAAK,EAAE,MACjC,KAAM,CAAE,KAAAyJ,EAAM,MAAA0a,EAAO,MAAAnkB,CAAM,CAC7B,CACF,CACA,OAAO0V,EAAW,CAChB,OAAOq8B,GAAW,UAAU,KAAK,WAAYr8B,CAAS,CACxD,CACA,cAAc48B,EAAO,CACnB,OAAOP,GAAW,cAAc,KAAK,WAAYO,CAAK,CACxD,CACA,YAAYruB,EAAK,CACf,OAAO8tB,GAAW,YAAY,KAAK,WAAY9tB,CAAG,CACpD,CACA,OAAQ,CACN,OAAO,KAAK,MACd,CACF,EACA,SAAS6uB,GAAsB3zB,EAAIC,EAAIC,EAAIC,EAAI,CAC7C,MAAMP,EAAKI,EAAKE,EACVL,EAAKI,EAAKE,EAChB,OAAOP,EAAKA,EAAKC,EAAKA,CACxB,CACA,SAAS+zB,GAAoB99C,EAAG+oB,EAAGmB,EAAIC,EAAIC,EAAIC,EAAI0zB,EAAM,CACvD,GAAI7zB,IAAOE,GAAMD,IAAOE,EACtB,OAAO,KAAK,IAAI0zB,EAAMF,GAAsB79C,EAAG+oB,EAAGmB,EAAIC,CAAE,CAAC,EAE3D,MAAML,EAAKM,EAAKF,EACVH,EAAKM,EAAKF,EACVha,EAAI,KAAK,IAAI,EAAG,KAAK,IAAI,IAAKnQ,EAAIkqB,GAAMJ,GAAMf,EAAIoB,GAAMJ,IAAOD,EAAKA,EAAKC,EAAKA,EAAG,CAAC,EAClFi0B,EAAK9zB,EAAK/Z,EAAI2Z,EACdm0B,EAAK9zB,EAAKha,EAAI4Z,EACpB,OAAO,KAAK,IAAIg0B,EAAMF,GAAsB79C,EAAG+oB,EAAGi1B,EAAIC,CAAE,CAAC,CAC3D,CACA,SAASC,GAAmBl+C,EAAG+oB,EAAGkE,EAAIC,EAAI0M,EAAQb,EAAYC,EAAUmlB,EAAkBJ,EAAM,CAC1FI,IACF,CAACnlB,EAAUD,CAAU,EAAI,CAACA,EAAYC,CAAQ,GAEhD,MAAMa,EAAQ,KAAK,MAAM9Q,EAAImE,EAAIltB,EAAIitB,CAAE,EACvC,GAAI,CAAC4L,GAAgBgB,EAAOd,EAAYC,CAAQ,EAAG,CACjD,MAAMolB,EAASnxB,EAAK,KAAK,IAAI8L,CAAU,EAAIa,EACrCykB,EAASnxB,EAAK,KAAK,IAAI6L,CAAU,EAAIa,EACrC0kB,EAAOrxB,EAAK,KAAK,IAAI8L,CAAU,EAAIa,EACnC2kB,EAAOrxB,EAAK,KAAK,IAAI6L,CAAU,EAAIa,EACzC,OAAO,KAAK,IAAImkB,EAAMF,GAAsB79C,EAAG+oB,EAAGq1B,EAAQC,CAAM,EAAGR,GAAsB79C,EAAG+oB,EAAGu1B,EAAMC,CAAI,CAAC,CAC5G,CACA,MAAMC,EAAY5kB,EAAS,KAAK,KAAKikB,GAAsB79C,EAAG+oB,EAAGkE,EAAIC,CAAE,CAAC,EACxE,OAAO,KAAK,IAAI6wB,EAAMS,EAAYA,CAAS,CAC7C,CACA,IAAIC,GAAO,cAAc5S,EAAM,CAC7B,YAAYv3B,EAAO,CAAC,EAAG,CACrB,MAAMA,CAAI,EACV,KAAK,GAAK,EACV,KAAK,GAAK,EACV,KAAK,GAAK,EACV,KAAK,GAAK,EACV,KAAK,iBAAiB,CACxB,CACA,IAAI,EAAE1V,EAAO,CACX,KAAK,GAAKA,EACV,KAAK,GAAKA,CACZ,CACA,IAAI,EAAEA,EAAO,CACX,KAAK,GAAKA,EACV,KAAK,GAAKA,CACZ,CACA,aAAc,CACZ,OAAO,IAAIksB,EACT,KAAK,IAAI,KAAK,GAAI,KAAK,EAAE,EACzB,KAAK,IAAI,KAAK,GAAI,KAAK,EAAE,EACzB,KAAK,IAAI,KAAK,GAAK,KAAK,EAAE,EAC1B,KAAK,IAAI,KAAK,GAAK,KAAK,EAAE,CAC5B,CACF,CACA,cAAc4zB,EAAIC,EAAI,CACpB,GAAI,KAAK,KAAO,KAAK,IAAM,KAAK,KAAO,KAAK,GAAI,CAC9C,KAAM,CAAE,EAAA3+C,EAAG,EAAA+oB,CAAE,EAAI,KAAK,eAAe21B,EAAIC,CAAE,EAC3C,OAAO,KAAK,YAAY,EAAE,KAAK,KAAK,YAAc,CAAC,EAAE,cAAc3+C,EAAG+oB,CAAC,CACzE,CACA,MAAO,EACT,CACA,gBAAgB21B,EAAIC,EAAI,CACtB,KAAM,CAAE,GAAAz0B,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAG,EAAI,KAC3B,OAAOyzB,GAAoBY,EAAIC,EAAIz0B,EAAIC,EAAIC,EAAIC,EAAI,GAAQ,CAC7D,CACA,OAAO4F,EAAW,CAChB,IAAIzpB,EACJ,KAAM,CAAE,IAAA6mB,EAAK,YAAAuc,EAAa,MAAA1Z,EAAO,iBAAA0uB,CAAiB,EAAI3uB,EACtD,GAAI,KAAK,QAAU,GAAK,CAAC2Z,EAAa,CAChC1Z,IACFA,EAAM,cAAgB,KAAK,UAAU,OACvC,MACF,CACA,KAAK,uBAAuB,EAC5B,KAAK,OAAO,UAAU7C,CAAG,EACzB,GAAI,CAAE,GAAAnD,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAG,EAAI,KACzB,GAAIH,IAAOE,EAAI,CACb,KAAM,CAAE,YAAA8hB,CAAY,EAAI,KAClBlsC,EAAI,KAAK,MAAMkqB,EAAK00B,CAAgB,EAAIA,EAAmB,KAAK,MAAM1S,EAAc0S,CAAgB,EAAI,GAAKA,EAAmB,GACtI10B,EAAKlqB,EACLoqB,EAAKpqB,CACP,SAAWmqB,IAAOE,EAAI,CACpB,KAAM,CAAE,YAAA6hB,CAAY,EAAI,KAClBnjB,EAAI,KAAK,MAAMoB,EAAKy0B,CAAgB,EAAIA,EAAmB,KAAK,MAAM1S,EAAc0S,CAAgB,EAAI,GAAKA,EAAmB,GACtIz0B,EAAKpB,EACLsB,EAAKtB,CACP,CACAsE,EAAI,UAAU,EACdA,EAAI,OAAOnD,EAAIC,CAAE,EACjBkD,EAAI,OAAOjD,EAAIC,CAAE,EACjB,KAAK,WAAWgD,CAAG,GAClB7mB,EAAK,KAAK,aAAe,MAAgBA,EAAG,UAAU,EACvD,MAAM,OAAOypB,CAAS,CACxB,CACF,EACAwuB,GAAK,UAAY,OACjBA,GAAK,cAAgB,OAAO,OAAO,CAAC,EAAG5S,GAAM,cAAe,CAC1D,KAAM,OACN,YAAa,CACf,CAAC,EACDlqC,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGszB,GAAK,UAAW,KAAM,CAAC,EAC1B98C,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGszB,GAAK,UAAW,KAAM,CAAC,EAC1B98C,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGszB,GAAK,UAAW,KAAM,CAAC,EAC1B98C,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGszB,GAAK,UAAW,KAAM,CAAC,EAC1B,SAASI,GAAkBvyB,EAAGwyB,EAAY9+C,EAAG+oB,EAAGoE,EAAGC,EAAG,CACpD,GAAId,EAAE,OAAS,EACb,MAAO,GACT,IAAIW,EAAKX,EAAE,EACPY,EAAKZ,EAAE,EACPwyB,GAAc,OAChB7xB,IAAO6xB,EAAW,EAAI,IAAOxyB,EAAE,KAC/BY,IAAO4xB,EAAW,EAAI,IAAOxyB,EAAE,MAEjC,IAAIyyB,EAAQ9xB,EACRA,EAAKjtB,EACP++C,EAAQ/+C,EACCitB,EAAKjtB,EAAImtB,IAClB4xB,EAAQ/+C,EAAImtB,GAEd,IAAI6xB,EAAQ9xB,EACRA,EAAKnE,EACPi2B,EAAQj2B,EACCmE,EAAKnE,EAAIqE,IAClB4xB,EAAQj2B,EAAIqE,GAEd,MAAMtD,EAAKmD,EAAK8xB,EACVh1B,EAAKmD,EAAK8xB,EAEhB,OADU,KAAK,KAAKl1B,EAAKA,EAAKC,EAAKA,CAAE,GACzBuC,EAAE,KAAO,EACvB,CACA,SAAS2yB,GAAgBvkB,EAAItQ,EAAIC,EAAI60B,EAAIC,EAAI,CAC3C,MAAMC,EAAW1kB,EAAG,EAAIA,EAAG,MAAQtQ,GAAMsQ,EAAG,EAAItQ,EAAK80B,EAC/CG,EAAW3kB,EAAG,EAAIA,EAAG,OAASrQ,GAAMqQ,EAAG,EAAIrQ,EAAK80B,EACtD,OAAOC,GAAYC,CACrB,CACA,SAASC,GAAiB5kB,EAAI6kB,EAAKC,EAAKC,EAAKC,EAAK,CAChD,OAAOH,EAAME,EAAM/kB,EAAG,EAAIA,EAAG,OAAS6kB,EAAM7kB,EAAG,GAAK8kB,EAAM9kB,EAAG,GAAK8kB,EAAME,EAAMhlB,EAAG,EAAIA,EAAG,MAC1F,CACA,SAASilB,GAAkB3/C,EAAG,CAC5B,OAAOA,GAAK,MAAQ,OAAOA,EAAE,OAAU,UAAY,OAAOA,EAAE,OAAU,QACxE,CACA,IAAI4/C,GAAkB,CACpB,IAAK,CAAE,EAAG,EAAG,EAAG,EAAG,EACnB,OAAQ,CAAE,EAAG,EAAG,EAAG,CAAE,EACrB,KAAM,CAAE,EAAG,GAAI,EAAG,CAAE,EACpB,MAAO,CAAE,EAAG,EAAG,EAAG,CAAE,CACtB,EACA,SAASC,GAAYlqC,EAAMmqC,EAAQhL,EAAU,EAAG,CAC9C,IAAItuC,EAAIiL,EACR,MAAMpS,EAAS,CAAC,EAChBsW,EAAOA,EAAK,IAAKvP,GAAMA,EAAE,MAAM,EAAE,KAAK,CAAC,EAAGrH,IAAMA,EAAE,MAAM,KAAO,EAAE,MAAM,IAAI,CAAC,EAC5E,QAAS6F,EAAI,EAAGA,EAAI+Q,EAAK,OAAQ/Q,IAAK,CACpC,MAAMm7C,EAAS1gD,EAAOuF,CAAC,EAAI,CAAC,EACtBsqB,EAAQvZ,EAAK/Q,CAAC,EACpB,GAAgCsqB,GAAM,QAAWA,EAAM,CAAC,EAAE,MAG1D,QAAS5vB,EAAI,EAAGgwC,EAAKpgB,EAAM,OAAQ5vB,EAAIgwC,EAAIhwC,IAAK,CAC9C,MAAM8G,EAAI8oB,EAAM5vB,CAAC,EACX,CAAE,MAAAuuC,EAAO,MAAA2J,EAAO,OAAAwI,CAAO,EAAI55C,EAC3B,CAAE,KAAA8nC,EAAM,MAAAtkB,EAAO,OAAAC,CAAO,EAAI2tB,EAC1Bx9B,EAAI6zB,EAAM,KAAO,GACvB,IAAI/jB,EAAK,EACLC,EAAK,EACT,GAAI/P,EAAI,GAAK5T,EAAE,WAAa,KAAM,CAChC,MAAM65C,EAAYL,GAAgBx5C,EAAE,SAAS,EAC7C0jB,GAAMF,EAAQ,GAAM5P,EAAI86B,GAAWmL,EAAU,EAC7Cl2B,GAAMF,EAAS,GAAM7P,EAAI86B,GAAWmL,EAAU,CAChD,CACA,MAAMjgD,EAAI6tC,EAAM,EAAIjkB,EAAQ,GAAME,KAAQtjB,EAA+Bw5C,GAAO,OAAO,IAAM,KAAOx5C,EAAK,IAAO,IAAOqnC,EAAM,KACvH9kB,EAAI8kB,EAAM,EAAIhkB,EAAS,GAAME,KAAQtY,EAA+BuuC,GAAO,OAAO,IAAM,KAAOvuC,EAAK,IAAO,IAAOo8B,EAAM,KAE1H,EADiB,CAACiS,GAAUR,GAAiBQ,EAAQ9/C,EAAG+oB,EAAGa,EAAOC,CAAM,IAItDlU,EAAK,KACxBuqC,GAAeA,EAAW,KACxBC,GAAc,CACb,IAAIz7B,EACJ,OAAOm6B,GAAkBsB,EAAU,OAAQz7B,EAAMy7B,EAAU,SAAW,KAAO,OAASz7B,EAAI,OAAQ1kB,EAAG+oB,EAAGa,EAAOC,CAAM,CACvH,CACF,CACF,GAIsBxqB,EAAO,KAAM+gD,GAAOA,EAAG,KAAMC,GAAOpB,GAAgBoB,EAAIrgD,EAAG+oB,EAAGa,EAAOC,CAAM,CAAC,CAAC,GAInGk2B,EAAO,KAAK,CACV,MAAOzgD,EACP,KAAA4uC,EACA,EAAAluC,EACA,EAAA+oB,EACA,MAAAa,EACA,OAAAC,EACA,MAAOzjB,CACT,CAAC,CACH,CACF,CACA,OAAO/G,CACT,CACA,SAASihD,GAAkB3qC,EAAMm/B,EAAS,CACxC,MAAMz1C,EAAS,CAAC,EAChB,QAASC,EAAI,EAAGA,EAAIqW,EAAK,OAAQrW,IAAK,CACpC,MAAM4vB,EAAQvZ,EAAKrW,CAAC,EACd,CACJ,MAAO,CAAE,EAAAU,EAAG,EAAA+oB,CAAE,EACd,MAAO,CAAE,KAAAmlB,CAAK,CAChB,EAAIhf,EACJ,GAAI,CACF,MAAO,CAAE,MAAAtF,EAAO,OAAAC,CAAO,CACzB,EAAIqF,EAMJ,GALAtF,GAASkrB,GAA4B,EACrCjrB,GAAUirB,GAA4B,EAChBz1C,EAAO,KAAM2yB,GAC1BitB,GAAgBjtB,EAAGhyB,EAAG+oB,EAAGa,EAAOC,CAAM,CAC9C,EAEC,MAAO,GAETxqB,EAAO,KAAK,CACV,MAAOC,EACP,KAAA4uC,EACA,EAAAluC,EACA,EAAA+oB,EACA,MAAAa,EACA,OAAAC,EACA,MAAAqF,CACF,CAAC,CACH,CACA,MAAO,EACT,CACA,SAASqxB,GAA2BC,EAAMC,EAAM,CAC9C,OAAOD,EAAK,SAAWC,EAAK,QAAUD,EAAK,MAAM,CAAC1hD,EAAGQ,IAAM,CACzD,MAAMP,EAAI0hD,EAAKnhD,CAAC,EAChB,OAAI,MAAM,QAAQR,CAAC,GAAK,MAAM,QAAQC,CAAC,EAC9BwhD,GAA2BzhD,EAAGC,CAAC,EAEjCD,IAAMC,CACf,CAAC,CACH,CACA,SAAS2hD,GAAqBF,EAAMC,EAAM,CACxC,OAAOD,EAAK,SAAWC,EAAK,QAAUD,EAAK,MAAM,CAACvxC,EAAM3P,IAAM,OAAO2P,CAAI,IAAM,OAAOwxC,EAAKnhD,CAAC,CAAC,CAAC,CAChG,CACA,SAASqhD,GAAcC,EAAW,CAChC,MAAMhxC,EAAYrC,GAAQqzC,CAAS,EAAIA,EAAYA,EAAU,MAAM,GAAG,EACtE,GAAIhxC,EAAU,SAAW,EAAG,CAC1B,KAAM,CAACqF,CAAQ,EAAIrF,EACnB,OAAOnD,GACL,CAACtN,EAAQ+jB,EAAGtkB,IAAUO,EAAO8V,CAAQ,EAAIrW,EACxCO,GAAWA,EAAO8V,CAAQ,CAC7B,CACF,CACA,OAAOxI,GACL,CAACtN,EAAQ+jB,EAAGtkB,IAAU8Q,GAAQvQ,EAAQyQ,EAAWhR,CAAK,EACrDO,GAAWoQ,GAAQpQ,EAAQyQ,CAAS,CACvC,CACF,CACA,SAASixC,GAAaC,EAAe,CACnC,OAAOr0C,GAA+B,CAACtN,EAAQ+jB,EAAGtkB,IAAUO,EAAO2hD,CAAa,EAAIliD,CAAK,CAC3F,CACA,SAASmiD,GAAqBC,EAAWC,EAAe,CACtD,OAAOx0C,GAA+B,CAACtN,EAAQR,EAAKC,IAAUO,EAAO6hD,CAAS,EAAEC,GAAwCtiD,CAAG,EAAIC,CAAK,CACtI,CACA,SAASsiD,GAAY5sC,EAAM,CACzB,KAAM,CAAE,SAAU6sC,EAAY,SAAUC,EAAY,YAAaC,CAAc,EAAI/sC,EACnF,OAAO7H,GAA+B,CAACtN,EAAQ+jB,EAAGvT,EAAUrD,KACtDqD,IAAarD,IACXA,IAAa,QACe80C,GAAW,KAAKjiD,EAAQmN,CAAQ,EAE5DqD,IAAa,QACewxC,GAAW,KAAKhiD,EAAQwQ,CAAQ,EAE/B0xC,GAAc,KAAKliD,EAAQwQ,EAAUrD,CAAQ,GAEzEqD,EACR,CACH,CACA,SAAS2xC,GAAe90C,EAAY,CAClC,OAAOK,GAA8BL,CAAU,CACjD,CACA,SAAS+0C,GAAa,EAAGC,EAAe5iD,EAAO,CACzCA,IAAU,QAAUA,IAAU,GACX,GAAE,gBAAgB4iD,CAAa,EAE/B,GAAE,aAAaA,EAAe5iD,EAAM,SAAS,CAAC,CAEvE,CACA,SAAS6iD,GAAmBC,EAAcC,EAAeC,EAAgBC,EAAiB/B,EAAQ,CAChG,GAAI,CAAE,IAAAn1B,EAAK,MAAArK,EAAO,OAAAsK,EAAQ,KAAAvK,EAAM,MAAAuJ,EAAO,OAAAC,CAAO,EAAIi2B,EAClD,OAAIz/B,GAAQ,KACNuJ,GAAS,KACXtJ,EAAQshC,EAAiBvhC,EAAOuJ,EACvBtJ,GAAS,OAClBsJ,EAAQg4B,EAAiBvhC,EAAOC,GAEzBA,GAAS,MAAQsJ,GAAS,OACnCvJ,EAAOuhC,EAAiBthC,EAAQsJ,GAE9Be,GAAO,KACLd,GAAU,KACZe,EAASi3B,EAAkBl3B,EAAMd,EACxBe,GAAU,OACnBf,EAASg4B,EAAkBj3B,EAASD,GAE7BC,GAAU,MAAQf,GAAU,OACrCc,EAAMk3B,EAAkBj3B,EAASf,GAE/BD,GAAS,KACPC,GAAU,MACZD,EAAQ83B,EACR73B,EAAS83B,GAET/3B,EAAQ,KAAK,KAAK83B,EAAe73B,EAAS83B,CAAa,EAEhD93B,GAAU,OACnBA,EAAS,KAAK,KAAK83B,EAAgB/3B,EAAQ83B,CAAY,GAErDrhC,GAAQ,OACNC,GAAS,KACXD,EAAO,KAAK,OAAOuhC,EAAiBh4B,GAAS,CAAC,EAE9CvJ,EAAOuhC,EAAiBthC,EAAQsJ,GAGhCe,GAAO,OACLC,GAAU,KACZD,EAAM,KAAK,OAAOk3B,EAAkBh4B,GAAU,CAAC,EAE/Cc,EAAMk3B,EAAkBh4B,EAASe,GAG9B,CAAE,EAAGvK,EAAM,EAAGsK,EAAK,MAAAf,EAAO,OAAAC,CAAO,CAC1C,CACA,IAAIi4B,GAAwB,mBACxBC,GAA6B,wBAC7BC,GAAwB,CAAE,KAAM,GAAI,UAAW,EAAG,EACtD,SAASC,GAAiBC,EAAW,CACnC,MAAMC,EAAgB,CAACC,EAAQp7C,EAASoqB,IAClCpqB,IAAY,GAAKoqB,EAAIpqB,EAAU,CAAC,IAAM,IACjC,KAEF,IAET,OAAOk7C,EAAU,QAAQ,cAAeC,CAAa,EAAE,QAAQ,YAAaA,CAAa,EAAE,QAAQ,eAAgBA,CAAa,EAAE,QAAQ,WAAY,EAAE,CAC1J,CACA,SAASE,GAAc7wC,EAAOlB,EAAU,CACtC,IAAI9J,EAAIiL,EAAIC,EACZ,GAAI,OAAOF,GAAU,SACnB,MAAO,CAAE,KAAMA,EAAO,UAAWA,CAAM,EAEzC,KAAM,CACJ,QAAAqnC,GAAWryC,EAAiC8J,GAAS,UAAY,KAAO9J,EAAK,GAC7E,MAAA87C,EAAoChyC,GAAS,MAC7C,MAAA0jB,GAASviB,EAAiCnB,GAAS,QAAU,KAAOmB,EAAK,QACzE,gBAAA8wC,GAAmB7wC,EAAiCpB,GAAS,kBAAoB,KAAOoB,EAAK,MAC/F,EAAIF,EACEgxC,EAAYF,EAAQ,eAAeR,EAAqB;AAAA,wBACxC9tB,CAAK,uBAAuBuuB,CAAe,KAAKD,CAAK,SAAW,GAChFG,EAAYH,EAAQ,GAAGA,CAAK,KAAO,GACnCI,EAAc7J,EAAU,eAAeiJ,EAAqB,aAAajJ,CAAO,SAAW,GACjG,MAAO,CACL,KAAM,GAAG2J,CAAS,GAAGE,CAAW,GAChC,UAAWT,GAAiB,GAAGQ,CAAS,GAAG5J,CAAO,EAAE,CACtD,CACF,CACA,IAAI8J,GAAkB,cAAc3vC,EAAe,CACjD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,UACZ,KAAK,QAAU,EACf,KAAK,QAAU,CACjB,CACF,EACArR,EAAiB,CACf25B,EACEiD,GACE,CACE,UACA,OACA,MACA,QACA,SACA,OACA,WACA,YACA,eACA,aACF,EACA,iBACF,CACF,CACF,EAAGokB,GAAgB,UAAW,OAAQ,CAAC,EACvChhD,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAG8lB,GAAgB,UAAW,UAAW,CAAC,EAC1ChhD,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAG8lB,GAAgB,UAAW,UAAW,CAAC,EAC1C,IAAIC,GAAU,cAAc5vC,EAAe,CACzC,aAAc,CACZ,MAAM,EACN,KAAK,QAAU,GACf,KAAK,MAAQ,EACb,KAAK,MAAQ,UACb,KAAK,SAAW,YAChB,KAAK,SAAW,IAAI2vC,GACpB,KAAK,UAAY,GACjB,KAAK,kBAAoB,GACzB,KAAK,qBAAuB,KAAK,IAAI,EACrC,KAAK,UAAY,CAAC,SAAU,YAAa,WAAY,OAAO,EAC5D,KAAK,YAAc,EACnB,KAAK,WAAa,GAClB,KAAK,QAAUxhC,GAAc,MAAO2gC,EAAqB,EACzDP,GAAa,KAAK,QAAS,cAAe,EAAI,EAC9C,KAAK,KAAOvgC,GAAY,MAAM,EAC9B,KAAK,KAAK,YAAY,KAAK,OAAO,CACpC,CACA,SAAU,CACR,KAAK,QAAQ,OAAO,CACtB,CACA,WAAY,CACV,MAAO,CAAC,KAAK,QAAQ,UAAU,SAAS8gC,GAAwB,SAAS,CAC3E,CAKA,KAAKe,EAAYC,EAAMjK,EAASkK,EAAY,GAAO,CACjD,IAAIv8C,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EAAIC,EAAI8hB,EAAIsL,EACpC,KAAM,CAAE,QAAS1hC,CAAS,EAAI,KAC9B,GAAIu3B,GAAW,KACbv3B,EAAS,UAAYu3B,EAAQ,aACpB,CAACv3B,EAAS,UAAW,CAC9B,KAAK,OAAO,EAAK,EACjB,MACF,CACA,MAAM2hC,GAAgBxxC,GAAMjL,EAAKs8C,EAAK,WAAa,KAAO,OAASt8C,EAAG,OAAS,KAAOiL,EAAK,KAAK,SAAS,KACnGoU,GAAWzT,GAAMV,EAAKoxC,EAAK,WAAa,KAAO,OAASpxC,EAAG,UAAY,KAAOU,EAAK,EACnF0T,GAAW6P,GAAMhS,EAAKm/B,EAAK,WAAa,KAAO,OAASn/B,EAAG,UAAY,KAAOgS,EAAK,EACnFutB,EAAgB,KAAK,iBAAiB,CAAE,aAAAD,EAAc,KAAAH,EAAM,QAAAh9B,EAAS,QAAAD,EAAS,WAAAg9B,CAAW,CAAC,EAC1FM,EAAe,KAAK,cAAc,EAClCv9B,EAAW67B,GACfngC,EAAS,YACTA,EAAS,aACTuhC,EAAW,MACXA,EAAW,OACXK,CACF,EACAt9B,EAAS,GAAKi9B,EAAW,EACzBj9B,EAAS,GAAKi9B,EAAW,EACzB,MAAMxiC,EAAOuH,GAAM,EAAGhC,EAAS,EAAGu9B,EAAa,MAAQ7hC,EAAS,YAAc,CAAC,EACzEqJ,EAAM/C,GAAM,EAAGhC,EAAS,EAAGu9B,EAAa,OAAS7hC,EAAS,YAAY,EACtE8hC,EAAc/iC,IAASuF,EAAS,GAAK+E,IAAQ/E,EAAS,EACtDy9B,GAAoBJ,IAAiB,QAAUA,IAAiB,YAAc,CAACG,GAAe,CAACv9B,GAAW,CAACC,EAC3Gw9B,GAAa5L,GAAM9hB,EAAKktB,EAAK,YAAc,KAAOltB,EAAK,KAAK,YAAc,KAAO8hB,EAAK2L,EAC5F,KAAK,gBAAgBC,CAAS,EAC9BhiC,EAAS,MAAM,UAAY,aAAa,KAAK,MAAMjB,CAAI,CAAC,OAAO,KAAK,MAAMsK,CAAG,CAAC,MAC9E,KAAK,mBAAqBq4B,EAAKF,EAAK,oBAAsB,KAAOE,EAAK,GAClE,KAAK,MAAQ,GAAK,CAACD,GACrB,KAAK,OAAO,EAAK,EACjB,KAAK,YAAc,WAAW,IAAM,CAClC,KAAK,OAAO,EAAI,CAClB,EAAG,KAAK,KAAK,GAEb,KAAK,OAAO,EAAI,CAEpB,CACA,eAAgB,CACd,KAAM,CAAE,WAAAQ,EAAY,YAAAC,CAAY,EAAItiC,GAAU,EAC9C,MAAO,CAAE,MAAOqiC,EAAY,OAAQC,CAAY,CAClD,CACA,OAAO5M,EAAS,CACd,KAAM,CAAE,UAAA6M,CAAU,EAAI,KAAK,QACrBC,EAAc,CAACnlD,EAAMolD,IAAYF,EAAU,OAAO,GAAG3B,EAAqB,IAAIvjD,CAAI,GAAIolD,CAAO,EAC7FC,EAAa,KAAK,UAAU,EAClC,IAAIC,EAAkC,IAItC,GAHKjN,GACH,aAAa,KAAK,WAAW,EAE3BgN,IAAehN,EAAS,CAC1B,MAAMkN,EAAM,KAAK,IAAI,EACrBD,EAAkCC,EAAM,KAAK,qBAC7C,KAAK,qBAAuBA,CAC9B,CACA,MAAMC,EAA0B,IAC1BC,EAAuB,EACvBC,EAAc,CAACL,GAAchN,GAAWiN,EAAkCE,EAC5EF,EAAkCG,GACpCN,EAAY,eAAgBO,CAAW,EAEzCP,EAAY,iBAAkB,CAAC,KAAK,iBAAiB,EACrDA,EAAY,SAAU,CAAC9M,CAAO,EAC9B8M,EAAY,QAAS,KAAK,UAAU,EACpCD,EAAU,OAAO1B,GAA4B,KAAK,SAAS,EAC3D,UAAWmC,KAAY,KAAK,UAC1BT,EAAU,OAAO,GAAG3B,EAAqB,SAASoC,CAAQ,GAAIA,IAAa,KAAK,QAAQ,CAE5F,CACA,uBAAuB1L,EAAO,CAC5B,IAAIhyC,EACJ,GAAI,CAAC,KAAK,kBACR,MAAO,GACT,MAAMi9C,GAAaj9C,EAAKgyC,EAAM,YAAY,gBAAkB,KAAO,OAAShyC,EAAG,UAEzE29C,EAAoB,EADV,CAAC,GAAI,SAAU,UAAU,EACC,OAAQ73B,GAAmCm3B,GAAU,SAAS,GAAG3B,EAAqB,GAAGx1B,CAAC,EAAE,CAAC,EACvI,OAAOm3B,IAAc,QAAUU,CACjC,CACA,gBAAgBC,EAAM,CACpB,KAAK,WAAaA,CACpB,CACA,iBAAiB,CACf,aAAAnB,EACA,KAAAH,EACA,QAAAh9B,EACA,QAAAD,EACA,WAAAg9B,CACF,EAAG,CACD,KAAM,CAAE,YAAawB,EAAc,aAAcC,CAAc,EAAI,KAAK,QAClExE,EAAS,CAAE,MAAOuE,EAAc,OAAQC,CAAc,EAC5D,OAAQrB,EAAc,CACpB,IAAK,OACL,IAAK,UACH,OAAAnD,EAAO,IAAMgD,EAAK,QAAUh9B,EAAUw+B,EAAgB,EACtDxE,EAAO,KAAOgD,EAAK,QAAUj9B,EAAUw+B,EAAe,EAC/CvE,EAET,IAAK,MACH,OAAAA,EAAO,IAAMh6B,EACbg6B,EAAO,KAAO+C,EAAW,MAAQ,EAAIwB,EAAe,EAAIx+B,EACjDi6B,EAET,IAAK,QACH,OAAAA,EAAO,IAAM+C,EAAW,OAAS,EAAIyB,EAAgB,EAAIx+B,EACzDg6B,EAAO,KAAO+C,EAAW,MAAQwB,EAAe,EAAIx+B,EAC7Ci6B,EAET,IAAK,OACH,OAAAA,EAAO,IAAM+C,EAAW,OAAS,EAAIyB,EAAgB,EAAIx+B,EACzDg6B,EAAO,KAAOj6B,EACPi6B,EAET,IAAK,SACH,OAAAA,EAAO,IAAM+C,EAAW,OAASyB,EAAgBx+B,EACjDg6B,EAAO,KAAO+C,EAAW,MAAQ,EAAIwB,EAAe,EAAIx+B,EACjDi6B,EAET,IAAK,WACH,OAAAA,EAAO,IAAMh6B,EACbg6B,EAAO,KAAOj6B,EACPi6B,EAET,IAAK,YACH,OAAAA,EAAO,IAAMh6B,EACbg6B,EAAO,KAAO+C,EAAW,MAAQwB,EAAex+B,EACzCi6B,EAET,IAAK,eACH,OAAAA,EAAO,IAAM+C,EAAW,OAASyB,EAAgBx+B,EACjDg6B,EAAO,KAAO+C,EAAW,MAAQwB,EAAex+B,EACzCi6B,EAET,IAAK,cACH,OAAAA,EAAO,IAAM+C,EAAW,OAASyB,EAAgBx+B,EACjDg6B,EAAO,KAAOj6B,EACPi6B,CAEX,CACF,CACF,EACAn+C,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGkmB,GAAQ,UAAW,UAAW,CAAC,EAClCjhD,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAGkmB,GAAQ,UAAW,YAAa,CAAC,EACpCjhD,EAAiB,CACf2/C,GAAe,CAACniD,EAAQwQ,EAAUrD,IAAa,CACzCqD,GACFxQ,EAAO,QAAQ,UAAU,IAAIwQ,CAAQ,EAEnCrD,GACFnN,EAAO,QAAQ,UAAU,OAAOmN,CAAQ,CAE5C,CAAC,EACDgvB,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGgmB,GAAQ,UAAW,QAAS,CAAC,EAChCjhD,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG4lB,GAAQ,UAAW,QAAS,CAAC,EAChCjhD,EAAiB,CACf25B,EAAS6D,EAAiB,CAC5B,EAAGyjB,GAAQ,UAAW,QAAS,CAAC,EAChCjhD,EAAiB,CACf25B,EAASuD,EAAS,CACpB,EAAG+jB,GAAQ,UAAW,WAAY,CAAC,EACnCjhD,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGqmB,GAAQ,UAAW,WAAY,CAAC,EACnCjhD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGkmB,GAAQ,UAAW,YAAa,CAAC,EACpC,IAAI2B,GAAU,cAAcvxC,EAAe,CACzC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,GAAKsU,GAAS,IAAI,EACvB,KAAK,KAAO,IAAIsqB,GAAK,CAAE,OAAQ,CAAE,CAAC,EAAE,cAAc,CAChD,UAAW,SACX,cAAe,CAEjB,CAAC,EACD,KAAK,QAAU,GACf,KAAK,UAAY,SACjB,KAAK,SAAW,GAChB,KAAK,WAAa,aAClB,KAAK,SAAW,SAChB,KAAK,UAAY,EACnB,CACA,eAAe4S,EAAWC,EAAY,CACpC,OAAIA,IAAe,OACVD,EAAU,cAAc,UAAU,MAAM,EAExCA,EAAU,cAAc,wBAAwB,CACrD,KAAMC,EACN,cAAe,CAAC,KAAK,IAAI,EACzB,eAAgB,IAAM,KAAK,SAAW,KAAK,KAAK,OAClD,CAAC,CAEL,CACA,oBAAoBD,EAAWC,EAAY,CACzC,MAAMC,EAAS,KAAK,eAAeF,EAAWC,CAAU,EAClDE,EAAa,CACjBD,EAAO,YAAY,QAAUlM,GAAU,KAAK,gBAAgBgM,EAAWhM,CAAK,CAAC,EAC7EkM,EAAO,YAAY,QAAUlM,GAAU,KAAK,iBAAiBgM,EAAWhM,CAAK,CAAC,CAChF,EACA,OAAO/yC,GAAc,GAAGk/C,CAAU,CACpC,CACA,gBAAgB/C,EAAgBC,EAAiB,CAC/C,IAAIr7C,EAAIiL,EACR,KAAM,CAAE,KAAAy8B,EAAM,SAAAI,CAAS,EAAI,KACrBH,EAAW,KAAK,KAAK3nC,EAAK,KAAK,WAAa,KAAOA,EAAK,IAAUo7C,CAAc,EAChFxT,GAAa38B,EAAK,KAAK,YAAc,KAAOA,EAAKowC,EACvD,GAAI,CAAC,SAAS1T,CAAQ,GAAK,CAAC,SAASC,CAAS,EAAG,CAC/C,KAAK,KAAK,KAAOF,EACjB,MACF,CACA,KAAM,CAAE,KAAM0W,EAAa,UAAA7V,CAAU,EAAI6C,GAAK,KAAK1D,GAAsB,GAAIC,EAAUC,EAAW,KAAME,CAAQ,EAChH,KAAK,KAAK,KAAOsW,EACjB,KAAK,UAAY7V,CACnB,CACA,cAAcyV,EAAWhM,EAAO,CAC9B,GAAIA,IAAU,QAAU,KAAK,SAAW,KAAK,KAAK,SAAW,KAAK,UAAW,CAC3E,KAAM,CAAE,QAAAqM,EAAS,QAAA5W,CAAQ,EAAIuK,EAC7B,OAAAgM,EAAU,eAAe,cACvB,KAAK,GACL,CAAE,QAAAK,EAAS,QAAA5W,EAAS,iBAAkBuK,EAAO,UAAW,EAAM,EAC9D6J,GAAc,CAAE,QAAS,KAAK,IAAK,CAAC,CACtC,EACO,EACT,CACA,MAAO,EACT,CACA,gBAAgBmC,EAAWhM,EAAO,CAC5B,KAAK,cAAcgM,EAAWhM,CAAK,GACrCA,EAAM,QAAQ,CAElB,CACA,iBAAiBgM,EAAWM,EAAQ,CAClCN,EAAU,eAAe,cAAc,KAAK,EAAE,CAChD,CACF,EACAD,GAAQ,cAAgB,GACxBA,GAAQ,cAAgB,GACxB5iD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG6nB,GAAQ,UAAW,UAAW,CAAC,EAClC5iD,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,EACnCmkB,GAAqB,MAAM,CAC7B,EAAGwD,GAAQ,UAAW,OAAQ,CAAC,EAC/B5iD,EAAiB,CACf25B,EAASwD,GAAY,CAAE,SAAU,EAAK,CAAC,EACvCiiB,GAAqB,MAAM,CAC7B,EAAGwD,GAAQ,UAAW,YAAa,CAAC,EACpC5iD,EAAiB,CACf25B,EAASqD,GAAY,CAAE,SAAU,EAAK,CAAC,EACvCoiB,GAAqB,MAAM,CAC7B,EAAGwD,GAAQ,UAAW,YAAa,CAAC,EACpC5iD,EAAiB,CACf25B,EAASsD,GAAc,CAAE,SAAU,EAAK,CAAC,EACzCmiB,GAAqB,MAAM,CAC7B,EAAGwD,GAAQ,UAAW,aAAc,CAAC,EACrC5iD,EAAiB,CACf25B,EAAS0B,CAAe,EACxB+jB,GAAqB,MAAM,CAC7B,EAAGwD,GAAQ,UAAW,WAAY,CAAC,EACnC5iD,EAAiB,CACf25B,EAASsB,CAAM,EACfmkB,GAAqB,MAAM,CAC7B,EAAGwD,GAAQ,UAAW,aAAc,CAAC,EACrC5iD,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,EACzCgjB,GAAqB,OAAQ,MAAM,CACrC,EAAGwD,GAAQ,UAAW,QAAS,CAAC,EAChC5iD,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGunB,GAAQ,UAAW,UAAW,CAAC,EAClC5iD,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGunB,GAAQ,UAAW,aAAc,CAAC,EACrC5iD,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGunB,GAAQ,UAAW,WAAY,CAAC,EACnC5iD,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGunB,GAAQ,UAAW,YAAa,CAAC,EACpC5iD,EAAiB,CACf25B,EAASuD,EAAS,CACpB,EAAG0lB,GAAQ,UAAW,WAAY,CAAC,EACnC,IAAIQ,GAAkB,CAAC,SAAU,UAAU,EACvCC,GAAa1nB,GACd1+B,GAAUiP,GAASjP,CAAK,GAAK,OAAO,KAAKA,CAAK,EAAE,MAAOD,GAAQomD,GAAgB,SAASpmD,CAAG,CAAC,EAC7F,uEACF,EACIsmD,GAAe,KAAM,CACvB,aAAc,CACZ,KAAK,QAAU,GACf,KAAK,MAAQ,EACb,KAAK,MAAQ,CACX,CACE,OAAQ,OACR,SAAU,CAAC,CACb,CACF,CACF,CACF,EACAtjD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGuoB,GAAa,UAAW,UAAW,CAAC,EACvCtjD,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGioB,GAAa,UAAW,QAAS,CAAC,EACrCtjD,EAAiB,CACf25B,EAAS0pB,EAAU,CACrB,EAAGC,GAAa,UAAW,QAAS,CAAC,EACrC,IAAIC,GAAY,cAAclyC,EAAe,CAC3C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,GACf,KAAK,SAAW,GAChB,KAAK,SAAW,GAChB,KAAK,WAAa,sBAClB,KAAK,QAAU,EACf,KAAK,WAAa,IAClB,KAAK,MAAQ,sBACb,KAAK,gBAAkB,GACvB,KAAK,SAAW,GAChB,KAAK,SAAW,EAClB,CAMA,aAAc,CACZ,OAAO,KAAK,SAAW,EAAI,EAC7B,CACF,EACArR,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGwoB,GAAU,UAAW,UAAW,CAAC,EACpCvjD,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAGwoB,GAAU,UAAW,WAAY,CAAC,EACrCvjD,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGkoB,GAAU,UAAW,WAAY,CAAC,EACrCvjD,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGkoB,GAAU,UAAW,YAAa,CAAC,EACtCvjD,EAAiB,CACf25B,EAASqD,GAAY,CAAE,SAAU,EAAK,CAAC,CACzC,EAAGumB,GAAU,UAAW,YAAa,CAAC,EACtCvjD,EAAiB,CACf25B,EAASsD,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGsmB,GAAU,UAAW,aAAc,CAAC,EACvCvjD,EAAiB,CACf25B,EAASuB,GAAO,SAAS,CAAE,IAAK,CAAE,CAAC,CAAC,CACtC,EAAGqoB,GAAU,UAAW,WAAY,CAAC,EACrCvjD,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGsoB,GAAU,UAAW,aAAc,CAAC,EACvCvjD,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGkoB,GAAU,UAAW,UAAW,CAAC,EACpCvjD,EAAiB,CACf25B,EAAS6B,EAAa,EACtBhC,GAAQ,GAAG,CACb,EAAG+pB,GAAU,UAAW,aAAc,CAAC,EACvCvjD,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGmnB,GAAU,UAAW,QAAS,CAAC,EAClCvjD,EAAiB,CACf25B,EAAS4B,GAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGgoB,GAAU,UAAW,WAAY,CAAC,EACrCvjD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGwoB,GAAU,UAAW,kBAAmB,CAAC,EAC5CvjD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGwoB,GAAU,UAAW,WAAY,CAAC,EACrCvjD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGwoB,GAAU,UAAW,WAAY,CAAC,EACrCvjD,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAGuoB,GAAU,UAAW,YAAa,CAAC,EACtCvjD,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGsoB,GAAU,UAAW,SAAU,CAAC,EACnC,IAAIC,GAAW,KAAM,CACnB,aAAc,CACZ,KAAK,QAAU,GACf,KAAK,MAAQ,EACb,KAAK,MAAQ,MACf,CACF,EACAxjD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGyoB,GAAS,UAAW,UAAW,CAAC,EACnCxjD,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGmoB,GAAS,UAAW,QAAS,CAAC,EACjCxjD,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGonB,GAAS,UAAW,QAAS,CAAC,EACjC,IAAIC,GAAY,cAAcpyC,EAAe,CAC3C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,GACf,KAAK,QAAUuxC,GAAQ,cACvB,KAAK,SAAW,GAChB,KAAK,WAAa,aAClB,KAAK,SAAW,QAClB,CACF,EACA5iD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG0oB,GAAU,UAAW,UAAW,CAAC,EACpCzjD,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwoB,GAAU,UAAW,OAAQ,CAAC,EACjCzjD,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGooB,GAAU,UAAW,UAAW,CAAC,EACpCzjD,EAAiB,CACf25B,EAASqD,GAAY,CAAE,SAAU,EAAK,CAAC,CACzC,EAAGymB,GAAU,UAAW,YAAa,CAAC,EACtCzjD,EAAiB,CACf25B,EAASsD,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGwmB,GAAU,UAAW,aAAc,CAAC,EACvCzjD,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGooB,GAAU,UAAW,WAAY,CAAC,EACrCzjD,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGwoB,GAAU,UAAW,aAAc,CAAC,EACvCzjD,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGqnB,GAAU,UAAW,QAAS,CAAC,EAClCzjD,EAAiB,CACf25B,EAASuD,EAAS,CACpB,EAAGumB,GAAU,UAAW,WAAY,CAAC,EACrCzjD,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAGyoB,GAAU,UAAW,YAAa,CAAC,EACtC,SAASC,GAA4BzyC,EAAM,CACzC,KAAM,CAAC0yC,EAAmBC,CAAiB,EAAIz9B,GAAWlV,EAAK,KAAK,EAC9D0M,EAAM,KAAK,MAAMgmC,CAAiB,EAClC/lC,EAAM,KAAK,KAAKgmC,CAAiB,EACvC,MAAO,CAAE,IAAAjmC,EAAK,IAAAC,EAAK,QAASD,IAAQC,CAAI,CAC1C,CACA,IAAIimC,GAAa,KAAK,GAAK,EACvBC,GAAaD,GAAa,EAC9B,SAASE,GAAqBr/C,EAAOy/B,EAAK,CAExC,OADuB,KAAK,IAAIA,EAAMz/B,CAAK,EACtBo/C,GACZ3f,EACLz/B,EAAQy/B,EACHA,EAAM0f,GACR1f,EAAM0f,EACf,CACA,SAASG,GAA8Bt4B,EAAK,CAC1C,MAAMu4B,EAAc,CAAC78B,EAAGniB,IAAW,CACjC,KAAM,CAAC0Y,EAAM+N,EAAI,IAAK9N,EAAM8N,EAAI,GAAG,EAAIvF,GAAWlhB,GAA0B,CAAC,CAAC,EAC9E,OAAOmiB,EAAIzJ,GAAOyJ,EAAIxJ,CACxB,EA6GA,MAAO,CAAE,KA5GI,CACX,OAAO/K,EAAM0a,EAAOoI,EAAQ,CAC1B,IAAIvO,EAAIvU,EAAK,GAAKA,EAAK,aACnB40B,EAAU50B,EAAK,QACnB,OAAI8iB,IAAW,SAAWsuB,EAAYpxC,EAAK,MAAM,aAAcA,EAAK,MAAM,KAAK,KAC7EuU,EAAImG,EAAM,aACVka,EAAU,GAEL,CAAE,EAAG,EAAG,aAAcrgB,EAAG,QAAAqgB,EAAS,MAAOniB,GAAmCqQ,CAAM,CAAE,CAC7F,EACA,KAAKuuB,EAAO32B,EAAOoI,EAAQ,CACzB,MAAMvO,EAAImG,EAAM,aAChB,IAAIka,EAAU,EACd,OAAI9R,IAAW,YACb8R,EAAU,GAEL,CACL,EAAG,EACH,aAAcrgB,EACd,QAAAqgB,EACA,OAAQ,CAEN,EAAArgB,EACA,aAAc,CAChB,CACF,CACF,EACA,eAAevU,EAAMsxC,EAAQC,EAAS,CACpC,MAAO,CAAE,QAAS,CAACH,EAAYpxC,EAAK,CAAC,CAAE,CACzC,CACF,EA8Ee,KA9BF,CACX,OAAOA,EAAM0a,EAAO,CAClB,IAAI1oB,EACJ,OAAOnF,EAAcD,EAAgB,CAAC,GAAIoF,EAAKgO,EAAK,gBAAkB,KAAOhO,EAAK0oB,CAAK,EAAG,CACxF,MAAOjI,GAAmC,OAC5C,CAAC,CACH,EACA,KAAK4+B,EAAO32B,EAAO,CACjB,OAAO9tB,EAAgB,CAAC,EAAG8tB,CAAK,CAClC,CACF,EAoBqB,MA7EP,CACZ,OAAO1a,EAAMkpC,EAAUpmB,EAAQ,CAC7B,IAAI9wB,EACJ,MAAM0oB,GAAS1oB,EAAKgO,EAAK,gBAAkB,KAAOhO,EAAKk3C,EACjD19C,EAAIkvB,EAAM,EACVnG,EAAImG,EAAM,EACVY,EAAkBZ,EAAM,gBAC9B,IAAItB,EAAe,KAAK,MAAMpZ,EAAK,YAAY,EAC3CkZ,EAAWwB,EAAM,SACjBka,EAAU50B,EAAK,QACnB,OAAI8iB,IAAW,WAAasuB,EAAY12B,EAAM,EAAGA,EAAM,KAAK,EAC1DxB,EAAWgwB,EAAS,UACXpmB,IAAW,SAAWsuB,EAAYpxC,EAAK,MAAM,EAAGA,EAAK,MAAM,KAAK,KACzEoZ,EAAe,KAAK,MAAMsB,EAAM,YAAY,EAC5Cka,EAAU,EACV1b,EAAWgwB,EAAS,UAEf,CACL,EAAA19C,EACA,EAAA+oB,EACA,gBAAA+G,EACA,aAAAlC,EACA,SAAAF,EACA,QAAA0b,EACA,MAAOniB,GAAmCqQ,CAAM,CAClD,CACF,EACA,KAAK9iB,EAAM0a,EAAOoI,EAAQ,CACxB,IAAI9wB,EAAIiL,EACR,MAAMzR,EAAIkvB,EAAM,EACVnG,EAAImG,EAAM,EACVY,EAAkBZ,EAAM,gBACxBtB,EAAe,KAAK,MAAMsB,EAAM,YAAY,EAClD,IAAIxB,EAAW,EACX0b,EAAU,EACd,OAAI9R,IAAW,SACb8R,EAAU,EACV1b,EAAWwB,EAAM,UACRoI,IAAW,WACpB8R,EAAU,EACV1b,EAAWwB,EAAM,UAEjBxB,EAAWg4B,IAAsBj0C,GAAMjL,EAAKgO,EAAK,gBAAkB,KAAO,OAAShO,EAAG,WAAa,KAAOiL,EAAKyd,EAAM,SAAUA,EAAM,QAAQ,EAExI,CAAE,EAAAlvB,EAAG,EAAA+oB,EAAG,gBAAA+G,EAAiB,aAAAlC,EAAc,SAAAF,EAAU,QAAA0b,EAAS,OAAQ,CAAE,SAAUla,EAAM,QAAS,CAAE,CACxG,CACF,EA+B4B,MAnBb,CACb,OAAO1a,EAAMsxC,EAAQ,CACnB,KAAM,CAAE,SAAAp4B,EAAU,aAAAC,EAAc,aAAAC,CAAa,EAAIpZ,EACjD,MAAO,CACL,SAAAkZ,EACA,aAAAC,EACA,aAAAC,EACA,MAAO3G,GAAmC,OAC5C,CACF,EACA,KAAK4+B,EAAO32B,EAAO,CACjB,KAAM,CAAE,SAAAxB,EAAU,aAAAC,EAAc,aAAAC,CAAa,EAAIsB,EACjD,MAAO,CACL,SAAAxB,EACA,aAAAC,EACA,aAAAC,CACF,CACF,CACF,CAC0C,CAC5C,CACA,SAASo4B,IAAmB,CAC1B,MAAO,CAACH,EAAO32B,KACN,CACL,SAAUA,EAAM,SAChB,gBAAiBA,EAAM,gBACvB,gBAAiBA,EAAM,gBACvB,aAAcA,EAAM,aACpB,aAAcA,EAAM,YACtB,EAEJ,CACA,SAAS+2B,GAAqB54B,EAAK,CACjC,KAAM,CAAE,QAAS64B,EAAc,IAAA5mC,EAAK,IAAAC,CAAI,EAAI8N,EAC5C,MAAO,CAACw4B,EAAO32B,IAAU,CACvB,MAAMnG,EAAImG,EAAM,aACV0nB,EAAUsP,GAAgBn9B,GAAKzJ,GAAOyJ,GAAKxJ,EACjD,MAAO,CACL,EAAAwJ,EACA,aAAc,EACd,QAAS,EACT,QAAA6tB,CACF,CACF,CACF,CACA,SAASuP,IAA4B,CACnC,MAAO,CAACN,EAAO32B,KACN,CACL,EAAGA,EAAM,EACT,EAAGA,EAAM,EACT,aAAcA,EAAM,aACpB,SAAUA,EAAM,SAChB,gBAAiBA,EAAM,eACzB,EAEJ,CACA,SAASk3B,IAA2B,CAClC,MAAO,CAACP,EAAO32B,IACN9tB,EAAgB,CAAC,EAAG8tB,CAAK,CAEpC,CACA,IAAIm3B,GAAQ,MAAMC,EAAO,CACvB,YAAY9B,EAAWpQ,EAAQpvC,EAAS,CACtC,KAAK,UAAYw/C,EACjB,KAAK,MAAQpQ,EACb,KAAK,GAAK9sB,GAAS,IAAI,EACvB,KAAK,KAAO,GACZ,KAAK,QAAU,GACf,KAAK,KAAO,CAAC,EACb,KAAK,WAAa,CAAE,OAAQ,CAAC,EAAG,QAAS,EAAM,EAC/C,KAAK,YAAc,CAAC,EACpB,KAAK,wBAA0B,GAC/B,KAAK,mBAAqB,GAC1B,KAAK,UAAY,IAAIkjB,EAAM,CACzB,KAAM,GAAG,KAAK,EAAE,QAChB,OAAQ,CAEV,CAAC,EACD,KAAK,SAAW,KAAK,UAAU,YAAY,IAAIiU,EAAM,EACrD,KAAK,cAAgB,KAAK,UAAU,YAClC,IAAIjU,EAAM,CACR,KAAM,GAAG,KAAK,EAAE,mBAChB,OAAQ,CAEV,CAAC,CACH,EACA,KAAK,eAAiB,KAAK,UAAU,YACnC,IAAIA,EAAM,CACR,KAAM,GAAG,KAAK,EAAE,oBAChB,OAAQ,CAEV,CAAC,CACH,EACA,KAAK,eAAiB,IAAIA,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,aAAc,CAAC,EACjE,KAAK,UAAY,IAAIA,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,YAAa,CAAC,EAC3D,KAAK,cAAgB,KAAK,UAAU,YAClC,IAAIA,EAAM,CACR,KAAM,GAAG,KAAK,EAAE,aAChB,OAAQ,CAEV,CAAC,CACH,EACA,KAAK,uBAAyBqS,GAAU,OAAO,KAAK,cAAe4B,GAAM,EAAK,EAC9E,KAAK,wBAA0B5B,GAAU,OAAO,KAAK,eAAgBjL,GAAM,EAAK,EAChF,KAAK,uBAAyBiL,GAAU,OAAO,KAAK,cAAe4B,GAAM,EAAK,EAC9E,KAAK,KAAO,IAAI0G,GAChB,KAAK,KAAO,KAAK,WAAW,EAC5B,KAAK,SAAW,IAAIF,GACpB,KAAK,MAAQ,KAAK,YAAY,EAC9B,KAAK,sBAAwBqB,GAAO,sBACpC,KAAK,YAAc,CAAE,EAAG,EAAG,EAAG,CAAE,EAChC,KAAK,SAAW,EAChB,KAAK,OAAS,CACZ,MAAO,CACL,eAAgB,EAChB,QAAS,KAAK,MAAM,QACpB,OAAQ,KAAK,MAAM,MACrB,CACF,EACA,KAAK,WAAa,CAAC,EACnB,KAAK,MAAQ,CAAC,EAAG,CAAC,EAClB,KAAK,aAAe,CAAC,EAAG,CAAC,EACzB,KAAK,MAAQ,IAAIlB,GACjB,KAAK,cAAgB,IAAIb,GACzB,KAAK,WAAa,EAClB,KAAK,eAAiB,EACtB,KAAK,YAAc,EACnB,KAAK,kBAAoB,EACzB,KAAK,qBAAuB,OAC5B,KAAK,aAAe,IACpB,KAAK,UAAY,IAAIzM,GACrB,KAAK,aAAa,EAClB,KAAK,WAAW,KAAK,KAAK,cAAc,oBAAoB,KAAK,UAAW,MAAM,CAAC,EACnF,KAAK,cAAc,KAAK,SAAW,CAAC,KAAK,GAAK,EAC9C,KAAK,UAAU,YAAY,KAAK,cAAc,IAAI,EAClD,KAAK,WAAW,KACd0M,EAAU,cAAc,UAAU,QAAQ,EAAE,YAAY,QAAUniD,GAAM,KAAK,eAAeA,CAAC,CAAC,CAChG,EACA,KAAK,iBAAmBmiD,EAAU,iBAClC,KAAK,eAAiB,IAAIpM,GAAa,QAAS,CAC9C,MAAO,CACL,OAAQ,CACN,OAAQ,QACR,OAAQ,IAAM,KAAK,oBAAoB,CACzC,EACA,MAAO,OACT,EACA,MAAO,CACL,OAASziC,GAAS,KAAK,mBAAmBA,CAAI,EAC9C,OAAQ,IAAM,KAAK,oBAAoB,EACvC,MAAO,OACT,CACF,CAAC,EACD,KAAK,YAAc,CAAC,EACpB,KAAK,gCAAgC,KAAK,WAAW,EACrD,IAAI4wC,EACJ,KAAK,WAAW,KACd/B,EAAU,cAAc,YAAY,kBAAoBniD,GAAM,CACxDkkD,GAAgB,MAAQ1yC,GAASxR,EAAE,MAAOkkD,CAAY,GAAK,MAC7D,KAAK,eAAe,WAAW,QAAQ,EAEzCA,EAAenlD,EAAgB,CAAC,EAAGiB,EAAE,KAAK,CAC5C,CAAC,CACH,EACgC2C,GAAQ,iBAAoB,IAC1D,KAAK,WAAW,KACdw/C,EAAU,cAAc,YAAY,kBAAoBniD,GAAM,CAC5D,KAAK,QAAUA,EAAE,OACnB,CAAC,CACH,CAEJ,CACA,IAAI,MAAO,CACT,IAAImE,EACJ,OAAQA,EAAK,KAAK,YAAY,OAAS,KAAOA,EAAK,EACrD,CACA,IAAI,WAAW5H,EAAO,CACpB,IAAI4H,EAAIiL,GACPjL,EAAK,KAAK,cAAgB,MAAgBA,EAAG,QAASggD,GAAc,KAAK,gBAAgBA,CAAS,CAAC,EAChG5nD,GACF,KAAK,gCAAgCA,CAAK,EAE5C,KAAK,YAAcA,GAClB6S,EAAK,KAAK,cAAgB,MAAgBA,EAAG,QAAS+0C,GAAc,CACnE,KAAK,gBAAgBA,CAAS,EAC9B,KAAK,cAAcA,CAAS,CAC9B,CAAC,CACH,CACA,IAAI,YAAa,CACf,OAAO,KAAK,WACd,CACA,eAAehvB,EAAO,CAChBA,IAAU,WACZ,KAAK,eAAe,WAAW,OAAO,CAE1C,CACA,gBAAgBgvB,EAAW,CACzB,KAAK,eAAe,YAAYA,EAAU,KAAK,EAC/C,KAAK,eAAe,YAAYA,EAAU,UAAU,CACtD,CACA,gBAAgBA,EAAW,CACzB,KAAK,eAAe,YAAYA,EAAU,KAAK,EAC/C,KAAK,eAAe,YAAYA,EAAU,UAAU,CACtD,CACA,SAAU,CACR,KAAK,UAAU,QAAQ,EACvB,KAAK,WAAW,QAASj6B,GAAMA,EAAE,CAAC,CACpC,CACA,cAAe,CACb,IAAI/lB,EACJ,KAAK,MAAQ,KAAK,MAAM,MAAM,MAAM,GACnCA,EAAK,KAAK,aAAe,MAAgBA,EAAG,QAAQ,KAAK,cAAe,IAAI,CAC/E,CACA,aAAc,CACZ,IAAIA,EACJ,KAAM,CAAE,MAAOigD,EAAI,aAAcC,EAAI,MAAOtS,CAAO,EAAI,KACjDuS,GAAQF,EAAG,CAAC,EAAIA,EAAG,CAAC,IAAMC,EAAG,CAAC,EAAIA,EAAG,CAAC,GACtCE,EAAQD,EAAOD,EAAG,CAAC,EACnBrgD,EAAQogD,EAAG,CAAC,EAAIG,EACtBxS,EAAO,MAAQ,CAAC/tC,EAAOA,EAAQsgD,CAAI,GAClCngD,EAAK,KAAK,aAAe,MAAgBA,EAAG,QAASggD,GAAc,CAClEA,EAAU,aAAe,CAACC,EAAG,CAAC,EAAGA,EAAG,CAAC,CAAC,CACxC,CAAC,CACH,CACA,qBAAqB7P,EAAS,CAC5B,KAAK,eAAe,QAAUA,CAChC,CACA,WAAWiQ,EAAUC,EAAU,CAC7BA,EAAS,YAAY,KAAK,SAAS,EACnCD,EAAS,YAAY,KAAK,SAAS,EACnCA,EAAS,YAAY,KAAK,cAAc,CAC1C,CACA,WAAWA,EAAUC,EAAU,CAC7BA,EAAS,YAAY,KAAK,SAAS,EACnCD,EAAS,YAAY,KAAK,SAAS,EACnCA,EAAS,YAAY,KAAK,cAAc,CAC1C,CAOA,QAAQ7mD,EAAG4pB,EAAQ,EAAGm9B,EAAY,EAAG,CACnC,KAAM,CAACznC,EAAKC,CAAG,EAAIuI,GAAW,KAAK,KAAK,EACxC,OAAO9nB,EAAI4pB,GAAStK,EAAMynC,GAAa/mD,GAAKuf,EAAMwnC,CACpD,CACA,oBAAoBnjB,EAAOojB,EAAShjB,EAAS,CAC3C,KAAM,CAAE,MAAOoQ,EAAQ,eAAAniB,CAAe,EAAI,KAEpCg1B,EAAwB,EADb7S,aAAkBwI,KACQ3qB,EAAiB,EAAKjyB,GAAM,OAAOA,GAAM,SAAWA,EAAE,QAAQiyB,CAAc,EAAI,OAAOjyB,CAAC,EAAKA,GAAM,OAAOA,CAAC,EACtJ,GAAIgkC,GAAWoQ,GAAUA,EAAO,WAC9B,GAAI,CACF,KAAK,eAAiBA,EAAO,WAAW,CAAE,MAAAxQ,EAAO,UAAWI,CAAQ,CAAC,CACvE,MAAY,CACV,KAAK,eAAiBijB,EACtBrhD,EAAO,SAAS,gCAAgCo+B,CAAO,4CAA4C,CACrG,MAEA,KAAK,eAAiBijB,CAE1B,CACA,gBAAgB9sB,EAAU,CACxB,IAAI3zB,EACJ,KAAK,MAAM,UAAYA,EAAK,KAAK,KAAK,WAAa,KAAOA,EAAK2zB,CACjE,CACA,aAAarV,EAAO+hB,EAAcC,EAAc,CAC9C,KAAM,CAAE,MAAOsN,CAAO,EAAI,KACpB8S,EAAa9lB,GAAgB,GAAGgT,CAAM,GAAK1L,GAAiB,GAAG0L,CAAM,EAC3E,GAAMtvB,GAASoiC,EAGf,IAAI,OAAOpiC,GAAU,SAAU,CAC7BsvB,EAAO,UAAYtvB,EACnBsvB,EAAO,aAAevN,GAAsC,EAC5DuN,EAAO,aAAetN,GAAsC,IAC5D,MACF,CACIsN,aAAkB3M,IACpB,KAAK,gBAAgB3iB,CAAK,EAE9B,CACA,mBAAmBlmB,EAAOuoD,EAAW,CACnC,IAAI3gD,GACA2gD,GAAa,CAACvoD,GAAS,CAACuoD,GAAavoD,IACvC,KAAK,uBAAuB,GAE7B4H,EAAK,KAAK,aAAe,MAAgBA,EAAG,QAAQ,KAAK,cAAe,IAAI,CAC/E,CACA,wBAAyB,CACvB,KAAK,uBAAuB,MAAM,CACpC,CACA,aAAc,CACZ,OAAO,IAAI0+C,EACb,CACA,eAAe1M,EAAO,CAChB,CAAC,KAAK,oBAIN,CAFS,KAAK,YAAY,EACR,cAAcA,EAAM,QAASA,EAAM,OAAO,GAGhE,KAAK,UAAU,kBAAkB,UAAU,KAAK,GAAI,KAAK,SAAS,CACpE,CAIA,OAAO4O,EAAoB,EAAGC,EAAW,GAAM,CAC7C,GAAI,CAAC,KAAK,qBACR,OAEF,KAAM,CAAE,SAAA35B,EAAU,qBAAAykB,EAAsB,oBAAAC,CAAoB,EAAI,KAAK,mBAAmB,EAClFW,EAAW,KAAK,MAAM,YAAY,EACxC,KAAK,eAAe,EACpB,MAAMuU,EAAW,KAAK,uBAAuB,EACvC,CAAE,SAAAC,EAAU,iBAAAC,EAAkB,aAAA/Z,EAAc,UAAAC,EAAW,iBAAA+Z,CAAiB,EAAI,KAAK,qBACjFC,EAAgB,KAAK,wBAAwB,MAAM,EAAE,IAAKlzC,GAASA,EAAK,MAAM,MAAM,EAO1F,GANA,KAAK,iBAAiB8yC,EAAUC,EAAS,MAAO,CAC9C,iBAAAC,EACA,UAAA9Z,EACA,aAAAD,EACA,MAAO,KAAK,MAAM,KACpB,CAAC,EACG,CAAC4Z,GAAY,KAAK,iBAAiB,UAAU,EAC/C,KAAK,oBAAoB,MACpB,CACL,MAAMrzC,EAAQ,KAAK,oBAAoB0zC,EAAeH,CAAQ,EAC9D,KAAK,eAAe,WAAW,SAAUvzC,CAAK,CAChD,CACA,YAAK,eAAe,EACpB,KAAK,aAAa,EAClB,KAAK,iBAAiB,EACtB,KAAK,gBAAgB++B,CAAQ,EAC7B,KAAK,gBAAgB,EACrB,KAAK,YAAY,CAAE,eAAgBwU,EAAS,MAAM,OAAS,CAAE,CAAC,EAC9D,KAAK,iBAAiB,CAAE,SAAA75B,EAAU,qBAAAykB,EAAsB,oBAAAC,CAAoB,CAAC,EAC7E,KAAK,kBAAkB,EAChBqV,CACT,CACA,wBAAyB,CACvB,KAAM,CAACnoC,EAAKC,CAAG,EAAIuI,GAAW,KAAK,KAAK,EACxC,MAAO,CAAE,EAAG,EAAG,GAAIxI,EAAK,GAAIC,CAAI,CAClC,CACA,uBAAuB2P,EAAO,CAE5B,MAAMlvB,EADW,KAAK,MAAM,YAAY,EACnB,KAAK,YAAY,EAChCkqB,EAAK,KAAK,IAAI,EAAGlqB,CAAC,EAClBoqB,EAAKF,EAAK,KAAK,IAAIlqB,CAAC,EACpB+oB,EAAImG,EAAM,aAChB,MAAO,CAAE,GAAAhF,EAAI,GAAAE,EAAI,EAAArB,CAAE,CACrB,CACA,kBAAkBmG,EAAOva,EAAQ,CAC/B,KAAM,CAAE,MAAA6iC,CAAM,EAAI,KACZ,CAAE,iBAAAgQ,EAAkB,aAAA/Z,EAAc,UAAAC,EAAW,MAAO9mC,CAAO,EAAI+N,EAC/Du5B,EAAOhf,EAAM,UAEbokB,EADWkE,EAAM,YAAY,GACR,KAAK,YAAY,EAAIA,EAAM,QAAU,KAAK,mBAC/DZ,EAAU1I,IAAS,IAAMA,GAAQ,KACvC,MAAO,CACL,OAAQhf,EAAM,OACd,aAAcA,EAAM,aACpB,KAAMsoB,EAAM,MACZ,WAAYA,EAAM,WAClB,SAAUA,EAAM,SAChB,UAAWA,EAAM,UACjB,WAAYA,EAAM,WAClB,SAAUgQ,EACV,gBAAiBlU,EACjB,KAAApF,EACA,UAAAR,EACA,aAAAD,EACA,QAAAmJ,EACA,EAAGtD,EACH,EAAG,EACH,MAAO1sC,CACT,CACF,CACA,aAAc,CACZ,OAAO,KAAK,KAAK,QAAU,KAAK,KAAK,KAAO,KAAK,WAAW,EAAE,IAChE,CACA,cAAc+gD,EAAShzC,EAAQ,CAC7B,IAAInO,EACJ,KAAM,CAAE,MAAA87C,CAAM,EAAI,KAClB,GAAI,CAACA,EAAM,QAAS,CAClBqF,EAAQ,QAAU,GAClB,MACF,CAQA,GAPAA,EAAQ,MAAQrF,EAAM,MACtBqF,EAAQ,WAAarF,EAAM,WAC3BqF,EAAQ,SAAWrF,EAAM,SACzBqF,EAAQ,UAAYrF,EAAM,UAC1BqF,EAAQ,WAAarF,EAAM,WAC3BqF,EAAQ,QAAUrF,EAAM,QACxBqF,EAAQ,SAAWrF,EAAM,SACrBA,EAAM,QAAS,CACjB,MAAMsF,EAAYD,EAAQ,KACpB7S,IAAYtuC,EAAK87C,EAAM,UAAY,KAAO97C,EAAK,GAAKmO,EAAO,QAC3Do+B,EAAW,KAAK,MAAM,YAAY,EAClCZ,EAAuB1Z,GAAkB,KAAK,QAAQ,EACtDovB,EAAoB9U,IAAa,IAAMZ,EAAuB,KAAK,IAAMA,EAAuB,KAAK,GAAK,EAAI,GAAK,EACnHzkB,EAAWm6B,EAAoB9U,EAAW,KAAK,GAAK,EACpDtF,EAAeoa,IAAsB,EAAI,SAAW,MACpD,CAAE,MAAOjhD,CAAO,EAAI,KACpB5G,EAAI,KAAK,MAAM6nD,EAAoB9U,GAAYnsC,EAAO,CAAC,EAAIA,EAAO,CAAC,GAAK,CAAC,EACzEmiB,EAAsB,KAAK,MAAvBgqB,IAAa,GAAgB8U,EAAoB,CAAC/S,EAAsB,CAACA,CAAhB,EAC7D,CAAE,cAAAgT,CAAc,EAAI,KAAK,UACzB,CAAE,UAAAvkB,EAAahS,GAAMA,EAAE,YAAa,EAAI+wB,EACxCpU,EAAO4Z,EAAc,KAAKvkB,EAAW,KAAK,wBAAwB,CAAC,EACzEqkB,EAAU,cAAc,CACtB,SAAAl6B,EACA,KAAAwgB,EACA,aAAAT,EACA,QAAS,GACT,EAAAztC,EACA,EAAA+oB,CACF,CAAC,CACH,CACF,CACA,gBAAgB0+B,EAAkB,CAChC,IAAIh2C,EAAIC,EACR,KAAM,CAAE,SAAAgc,EAAU,qBAAAykB,EAAsB,oBAAAC,CAAoB,EAAI,KAAK,mBAAmB,EAClFW,EAAW,KAAK,MAAM,YAAY,EAClCO,EAASP,GAAY,KAAK,YAAY,EAAI,KAAK,MAAM,QAAU,KAAK,mBAC1E,KAAK,YAAY,EACjB,KAAK,qBAAuB,KAAK,cAAc,CAC7C,iBAAA0U,EACA,qBAAAtV,EACA,oBAAAC,EACA,OAAAkB,EACA,SAAAP,CACF,CAAC,EACD,KAAK,kBAAkB,EACvB,MAAMvsC,EAAK,KAAK,qBAAsB,CAAE,SAAA+gD,EAAU,iBAAAC,EAAkB,aAAA/Z,EAAc,UAAAC,CAAU,EAAIlnC,EAAIuhD,EAAczmD,GAAUkF,EAAI,CAAC,WAAY,mBAAoB,eAAgB,WAAW,CAAC,EACvLwjB,EAAQ,CAAC,EACT,CAAE,EAAAhqB,EAAG,GAAAmqB,EAAI,GAAAE,CAAG,EAAI,KAAK,uBAAuB,EAC5C29B,EAAU,IAAIl9B,EAClB9qB,EAAI,KAAK,IAAI+yC,EAAW,KAAK,kBAAmB,CAAC,EACjD5oB,EACA,KAAK,kBACLE,EAAKF,CACP,EASA,GARAH,EAAM,KAAKg+B,CAAO,EACd,KAAK,KAAK,SACZT,EAAS,MAAM,QAASr4B,GAAU,CAChC,KAAM,CAAE,GAAAhF,EAAI,GAAAE,EAAI,EAAArB,CAAE,EAAI,KAAK,uBAAuBmG,CAAK,EACjD+4B,EAAc,IAAIn9B,EAAKZ,EAAInB,EAAGqB,EAAKF,EAAI,CAAC,EAC9CF,EAAM,KAAKi+B,CAAW,CACxB,CAAC,EAEC,KAAK,MAAM,QAAS,CACtB,MAAMxQ,EAAW,IAAI7F,GACrB2V,EAAS,MAAM,QAASr4B,GAAU,CAChC,MAAMg5B,EAAa,KAAK,kBAAkBh5B,EAAO,CAC/C,iBAAAs4B,EACA,UAAA9Z,EACA,aAAAD,EACA,MAAO,KAAK,MAAM,KACpB,CAAC,EACD,GAAI,CAACya,EAAW,QACd,OAEFzQ,EAAS,cAAcp2C,EAAcD,EAAgB,CAAC,EAAG8mD,CAAU,EAAG,CACpE,aAAc,KAAK,MAAMh5B,EAAM,YAAY,CAC7C,CAAC,CAAC,EACF,MAAMrE,EAAM4sB,EAAS,uBAAuB,EACxC5sB,GACFb,EAAM,KAAKa,CAAG,CAElB,CAAC,CACH,CACA,MAAMs9B,EAAmBC,GAAU,CACjC,MAAM76B,EAAS,IAAImB,GACb,CACJ,SAAU25B,EACV,aAAA16B,EACA,aAAAC,EACA,gBAAAkC,EACA,gBAAAC,CACF,EAAI,KAAK,iBAAiB,EAC1B,OAAArB,GAAO,sBAAsBnB,EAAQ,EAAG,EAAG86B,EAAc16B,EAAcC,EAAc,CACnF,eAAgB,EAChB,eAAgB,EAChB,gBAAAkC,EACA,gBAAAC,CACF,CAAC,EACMxC,EAAO,cAAc66B,CAAK,CACnC,EACA,IAAK32C,EAAK,KAAK,QAAU,MAAgBA,EAAG,QAAS,CACnD,MAAMk2C,EAAU,IAAIpD,GACd+D,EAAUx9B,EAAK,MAAMd,CAAK,EAAE,MAClC,KAAK,cAAc29B,EAAS,CAAE,QAAAW,CAAQ,CAAC,EAEvC,MAAMC,EADYZ,EAAQ,KACC,uBAAuB,EAC9CY,GACFv+B,EAAM,KAAKu+B,CAAQ,CAEvB,CACA,MAAM77B,EAAO5B,EAAK,MAAMd,CAAK,EACvBw+B,EAAkBL,EAAgBz7B,CAAI,EACtC+7B,EAAkB,KAAK,kBAAkB,EAC/C,OAAC/2C,EAAK,KAAK,aAAe,MAAgBA,EAAG,QAAS80C,GAAc,CAClE,IAAI9hC,EACJ8hC,EAAU,SAAW,CAACzT,EACtByT,EAAU,UAAY94B,IAAa,CAAC,KAAK,GAAK,EAAI,IAAM,IACpD84B,aAAqB3O,KACvB2O,EAAU,MAAM,UAAY9hC,EAAM8hC,EAAU,MAAM,WAAa,KAAO9hC,EAAM,KAAK,MAAM,UAEzF8hC,EAAU,qBAAuBrU,EACjCqU,EAAU,oBAAsBpU,EAChCoU,EAAU,gBAAgBiC,EAAiB,KAAK,OAAO,CACzD,CAAC,EACDhB,EAAmBM,EAAY,iBACxB,CAAE,iBAAAN,EAAkB,KAAMe,CAAgB,CACnD,CACA,mBAAoB,CAClB,KAAK,OAAO,MAAQ,CAClB,eAAgB,KAAK,eACrB,QAAS,KAAK,MAAM,QACpB,OAAQ,KAAK,MAAM,MACrB,CACF,CACA,UAAUtuB,EAAQ,CAChB,KAAK,WAAa,KAAK,oBAAoBA,CAAM,EAC7C,KAAK,SACP,KAAK,WAAW,OAAO,QAAQ,EAEjC,KAAK,MAAM,OAAS,KAAK,WAAW,MACtC,CACA,aAAc,CACZ,KAAK,YAAY,EACjB,KAAK,gBAAgB,EACrB,KAAK,gBAAgB,KAAK,KAAK,QAAQ,EACvC,KAAM,CAAE,MAAOka,EAAQ,KAAAxN,CAAK,EAAI,KAC3BxF,GAAgB,GAAGgT,CAAM,IAG9BA,EAAO,KAAOxN,EACdwN,EAAO,OAAO,EAChB,CACA,oBAAqB,CACnB,MAAM1mB,EAAWyL,GAAU,KAAK,QAAQ,EAClCgZ,EAAuB1Z,GAAkB/K,CAAQ,EACjD0kB,EAAsB3Z,GAAkB/K,EAAW,KAAK,GAAK,CAAC,EACpE,MAAO,CAAE,SAAAA,EAAU,qBAAAykB,EAAsB,oBAAAC,CAAoB,CAC/D,CACA,cAAc,CACZ,iBAAAqV,EACA,qBAAAtV,EACA,oBAAAC,EACA,OAAAkB,EACA,SAAAP,CACF,EAAG,CACD,IAAIvsC,EACJ,KAAM,CACJ,MAAO4tC,EACP,KAAA5L,EACA,MAAO,CAAE,SAAAqK,EAAU,SAAAnlB,EAAU,WAAAokB,EAAY,SAAA3B,EAAU,UAAA4B,EAAW,WAAAC,CAAW,CAC3E,EAAI,KACE0W,EAAgBjB,IAAqB,OACrC,CAAE,gBAAAjV,EAAiB,mBAAAH,EAAoB,iBAAAC,EAAkB,gBAAAC,CAAgB,EAAIL,GAAuB,CACxG,SAAAxkB,EACA,SAAAmlB,EACA,oBAAAT,EACA,qBAAAD,CACF,CAAC,EACKwW,EAAkBtW,EAAqBG,EACvCgB,EAAc,IAAI9kB,GAClB,CAAE,aAAAoY,CAAa,EAAI,KAAK,kBAAkB,CAC9C,WAAY0B,EAAK,WACjB,YAAahiC,EAAKgiC,EAAK,aAAe,KAAOhiC,EAAK,GACpD,CAAC,EAEKoiD,EAAgB,EADHxnB,GAAgB,GAAGgT,CAAM,GAAK1L,GAAiB,GAAG0L,CAAM,IACtC,MAAMtN,CAAY,EAAI,GAAKA,EAChE,IAAI4G,EAAYsF,GAAaH,EAAUR,EAAoB,EAAGU,EAAUR,CAAe,EACvF,MAAM9E,EAAemF,GAAgBC,EAAUR,EAAoBU,EAAUT,CAAgB,EACvFjE,EAAY,CAChB,WAAAyD,EACA,SAAA3B,EACA,UAAA4B,EACA,WAAAC,EACA,aAAAvE,EACA,UAAAC,CACF,EACA,IAAI6Z,EAAW,CACb,SAAU,CAAC,EACX,MAAO,CAAC,EACR,WAAY,CACd,EACIx8C,EAAQ,EACR89C,EAAe,EACfC,EAAe,GACfC,EAAY,GAChB,KAAOD,GAAgB/9C,GAAS69C,GAC1B,CAAAG,GADyC,CAI7CF,EAAe,EACfnb,EAAYsF,GAAaH,EAAUR,EAAoB,EAAGU,EAAUR,CAAe,EACnF,MAAMyW,EAAiB,KAAK,kBAAkB,CAAE,cAAAN,EAAe,MAAA39C,CAAM,CAAC,EACtE,UAAWk+C,KAAYD,EAAgB,EACpC,CAAE,SAAAzB,EAAU,MAAAx8C,EAAO,aAAA89C,EAAc,UAAAE,CAAU,EAAIE,EAAS,CACvD,MAAAl+C,EACA,SAAAw8C,EACA,UAAAlZ,EACA,aAAAya,EACA,UAAAC,EACA,iBAAAtB,CACF,CAAC,GACD,MAAM9U,GAAUN,IAAuB,GAAKwW,IAAiB,EACvD/V,GAAgB6V,EAAkBE,EACxCnb,EAAYsF,GAAaH,EAAUR,EAAoBwW,EAAc9V,EAAUR,CAAe,EAC9FuW,EAAe,KAAK,MAAM,gBAAkB,KAAK,kBAAkBhW,GAAeH,GAASa,EAAa+T,EAAS,MAAOjU,EAAQjyC,EAAcD,EAAgB,CAAC,EAAGitC,CAAS,EAAG,CAC5K,UAAAX,CACF,CAAC,CAAC,EAAI,EACR,CACF,CACA,MAAM8Z,EAAmBhV,EAAkBH,EAAqBwW,EAChE,MAAI,CAACH,GAAiBnB,EAAS,SAAS,OAAS,IAC/CE,EAAmBF,EAAS,SAAS,QAEhC,CAAE,SAAAA,EAAU,iBAAAE,EAAkB,iBAAAD,EAAkB,aAAA/Z,EAAc,UAAAC,CAAU,CACjF,CACA,kBAAkB,CAChB,MAAOwb,EACP,cAAAR,CACF,EAAG,CACD,KAAM,CAAE,MAAOtU,EAAQ,MAAAoD,EAAO,KAAAhP,CAAK,EAAI,KACjC0e,EAAa9lB,GAAgB,GAAGgT,CAAM,GAAK1L,GAAiB,GAAG0L,CAAM,EACrE+U,EAAuB3R,EAAM,SAAWA,EAAM,gBAC9C4R,EAAc,CAAClC,GAAcgC,IAAc,GAAKC,EAChDE,EAAa7R,EAAM,aAAe,IAAQA,EAAM,WAAa,OAC7D8R,EAAa,CAAC,EACpB,IAAIC,EACA,KAAK,KAAK,OACZA,EAAqB,EACZb,EACTa,EAAqB,EACZH,EACTG,EAAqB,EAErBA,EAAqB,EAEvB,MAAMC,EAAyB,CAAC,CAAE,MAAAz+C,EAAO,SAAAw8C,EAAU,iBAAAE,EAAkB,UAAAsB,CAAU,IAAM,KAAK,eAAeQ,EAAoBx+C,EAAOw8C,EAAUwB,EAAWtB,CAAgB,EAEzK,GADA6B,EAAW,KAAKE,CAAsB,EAClC,CAACtC,GAAc,CAAC,MAAM1e,EAAK,UAAU,EAAG,CAC1C,MAAMihB,EAAqB,CAAC,CAAE,MAAA1+C,EAAO,SAAAw8C,EAAU,iBAAAE,EAAkB,UAAAsB,CAAU,IAAM,KAAK,eAAe,EAAGh+C,EAAOw8C,EAAUwB,EAAWtB,CAAgB,EACpJ6B,EAAW,KAAKG,CAAkB,CACpC,CACA,GAAI,CAACN,EACH,OAAOG,EAET,GAAI9R,EAAM,SAAU,CAClB,MAAMkS,EAAmB,CAAC,CAAE,MAAA3+C,EAAO,SAAAw8C,EAAU,UAAAlZ,CAAU,IAAM,KAAK,WAAWkZ,EAAUx8C,EAAOsjC,CAAS,EACvGib,EAAW,KAAKI,CAAgB,CAClC,SAAWL,EAAY,CACrB,MAAMM,EAAqB,CAAC,CAAE,MAAA5+C,EAAO,SAAAw8C,EAAU,aAAAuB,EAAc,UAAAC,CAAU,KAAO,CAC5E,MAAAh+C,EACA,SAAAw8C,EACA,aAAc,KAAK,gBAAgBuB,CAAY,EAC/C,UAAAC,CACF,GACAO,EAAW,KAAKK,CAAkB,CACpC,CACA,OAAOL,CACT,CACA,eAAeC,EAAoBx+C,EAAOw8C,EAAUwB,EAAWtB,EAAkB,CAC/E,IAAIjhD,EACJ,KAAM,CAAE,MAAO4tC,EAAQ,KAAA5L,CAAK,EAAI,KAC1B,CAAE,aAAA1B,EAAc,aAAAD,EAAc,iBAAA+iB,CAAiB,EAAI,KAAK,kBAAkB,CAC9E,WAAYphB,EAAK,WACjB,YAAahiC,EAAKgiC,EAAK,aAAe,KAAOhiC,EAAK,GACpD,CAAC,EACK0gD,EAAa9lB,GAAgB,GAAGgT,CAAM,GAAK1L,GAAiB,GAAG0L,CAAM,EACrEwU,EAAgB,CAAC1B,GAAc,MAAMpgB,CAAY,EAAI,GAAKA,EAChE,IAAIT,EAAY6gB,EAAa,KAAK,IAAI0C,EAAmB7+C,EAAO87B,CAAY,EAAIC,EAChF,MAAM+iB,EAAkBrhB,EAAK,WAAa,QAAUA,EAAK,SAAW,QAAUnC,EAAYQ,IAAiBqgB,GAAcqC,IAAuB,GAChJ,IAAIO,EAAY,GAChB,KAAOA,GAAa/+C,GAAS69C,GAAe,CAC1C,MAAMmB,EAAYxC,EAAS,SAC3BlhB,EAAY6gB,EAAa,KAAK,IAAI0C,EAAmB7+C,EAAO87B,CAAY,EAAIC,EAC5E,KAAM,CAAE,SAAAkjB,EAAU,MAAApmB,EAAO,WAAAqmB,CAAW,EAAI,KAAK,SAAS,CACpD,mBAAAV,EACA,cAAeQ,EACf,UAAA1jB,EACA,aAAAQ,EACA,aAAAC,EACA,iBAAA2gB,CACF,CAAC,EACDF,EAAS,SAAWyC,EACpBzC,EAAS,MAAQ3jB,EACjB2jB,EAAS,WAAa0C,EACtBH,EAAYD,EAAkBnJ,GAAqBsJ,EAAUD,CAAS,EAAI,GAC1Eh/C,GACF,CACA,MAAMm/C,EAAkB1hB,EAAK,WAAa,QAAUA,EAAK,SAAW,OACpE,OAAAugB,IAAcA,EAAYmB,GACnB,CAAE,SAAA3C,EAAU,MAAAx8C,EAAO,aAAc,EAAG,UAAAg+C,CAAU,CACvD,CACA,kBAAkBr7B,EAAUilB,EAASa,EAAa+T,EAAUjU,EAAQjF,EAAW,CAC7E3f,GAAO,sBAAsB8kB,EAAa,EAAG,EAAG9lB,EAAU,EAAG,CAAC,EAC9D,MAAMy8B,EAAY,KAAK,gBAAgB5C,EAAUjU,EAAQjF,EAAWmF,CAAW,EACzE4W,EAAe3X,GAAgB,KAAK,MAAM,WAAYE,CAAO,EACnE,OAAO2N,GAAkB6J,EAAWC,CAAY,CAClD,CACA,gBAAgB7C,EAAUjU,EAAQjF,EAAWmF,EAAa,CACxD,MAAM2W,EAAY,CAAC,EACb1b,EAAW,IAAIC,GAAaL,CAAS,EAC3C,SAAW,CAAE,UAAAgc,EAAW,aAAAz8B,CAAa,IAAK25B,EAAU,CAClD,GAAI8C,IAAc,IAAMA,GAAa,KACnC,SACF,KAAM,CAAE,MAAAzgC,EAAO,OAAAC,CAAO,EAAI4kB,EAAS,KAAK4b,CAAS,EAC3C39B,EAAO,IAAI5B,EAAKwoB,EAAQ1lB,EAAchE,EAAOC,CAAM,EACnDygC,EAAajX,GAAmBgX,EAAW39B,EAAM4mB,EAAQ1lB,EAAc4lB,CAAW,EACxF2W,EAAU,KAAKG,CAAU,CAC3B,CACA,OAAOH,CACT,CACA,gBAAgBrB,EAAc,CAC5B,IAAItiD,EACJ,OAAOsiD,EAAerwB,GAAkBU,IAAW3yB,EAAK,KAAK,MAAM,kBAAoB,KAAOA,EAAK,CAAC,CAAC,EAAI,CAC3G,CACA,SAAS,CACP,mBAAA+iD,EACA,cAAA7B,EACA,UAAArhB,EACA,aAAAQ,EACA,aAAAC,EACA,iBAAA2gB,CACF,EAAG,CACD,IAAIjhD,EACJ,KAAM,CAAE,MAAOI,EAAQ,MAAOwtC,EAAQ,aAAAmW,CAAa,EAAI,KACvD,IAAIP,EACJ,OAAQT,EAAoB,CAC1B,IAAK,GACH,GAAInoB,GAAgB,GAAGgT,CAAM,EAAG,CAC9B,KAAM,CAACtT,EAAIC,CAAE,EAAIjZ,GAAWssB,EAAO,UAAU,EAAE,IAAI,MAAM,CAAC,EAC1D4V,EAAW,KAAK,KAAK,OAAO,OAAQprD,GAAUA,GAASkiC,GAAMliC,GAASmiC,CAAE,EAAE,KAAK,CAACjiC,EAAGC,IAAMD,EAAIC,CAAC,CAChG,MACEirD,EAAW,KAAK,KAAK,OAEvB,MACF,IAAK,GACC5oB,GAAgB,GAAGgT,CAAM,EAC3B4V,EAAW,KAAK,yBAAyBvC,CAAgB,EAEzDuC,EAAW,KAAK,YAAY3jB,EAAWQ,EAAcC,CAAY,EAEnE,MACF,IAAK,GACHkjB,EAAW,KAAK,YAAYtC,EAAerhB,CAAS,EACpD,MACF,QACE2jB,EAAW,KAAK,YAAY3jB,EAAWQ,EAAcC,CAAY,EACjE,KACJ,CACA,KAAK,eAAiBkjB,EAAS,gBAAkB,EAAIA,EAAS,eAAiB,EAC/E,MAAMQ,IAAkBhkD,EAAK4tC,EAAO,YAAc,KAAO5tC,EAAK,GAAK,EAC7Do9B,EAAQ,CAAC,EACf,IAAIqmB,EAAa,EACjB,MAAMQ,EAA+B,IAAI,IACnCpkD,EAAQ,KAAK,IAAI,EAAG,KAAK,MAAMkkD,EAAa,CAAC,EAAIP,EAAS,MAAM,CAAC,EACjElkB,EAAM,KAAK,IAAIkkB,EAAS,OAAQ,KAAK,KAAKO,EAAa,CAAC,EAAIP,EAAS,MAAM,CAAC,EAC5EU,EAAgBV,EAAS,MAAM3jD,EAAOy/B,CAAG,EAC/C,KAAK,oBAAoB4kB,EAAeV,EAAU,KAAK,MAAM,MAAM,EACnE,QAAS1qD,EAAI,EAAGA,EAAIorD,EAAc,OAAQprD,IAAK,CAC7C,MAAMkpC,EAAOkiB,EAAcprD,CAAC,EACtBsuB,EAAewmB,EAAO,QAAQ5L,CAAI,EAAIgiB,EAC5C,GAAI5jD,EAAO,OAAS,GAAK,CAAC,KAAK,QAAQgnB,EAAc,EAAG,IAAI,EAC1D,SACF,MAAMy8B,EAAY,KAAK,WAAW7hB,EAAMniC,EAAQ/G,CAAC,EACjD,IAAIqrD,EAASN,EACb,GAAII,EAAa,IAAIE,CAAM,EAAG,CAC5B,MAAM7lC,EAAQ2lC,EAAa,IAAIE,CAAM,EACrCF,EAAa,IAAIE,EAAQ7lC,EAAQ,CAAC,EAClC6lC,EAAS,GAAGA,CAAM,IAAI7lC,CAAK,EAC7B,MACE2lC,EAAa,IAAIE,EAAQ,CAAC,EAE5B/mB,EAAM,KAAK,CAAE,KAAA4E,EAAM,OAAAmiB,EAAQ,UAAAN,EAAW,aAAc,KAAK,MAAMz8B,CAAY,CAAE,CAAC,EAC1E,EAAAy8B,IAAc,IAAMA,GAAa,OAGrCJ,GACF,CACA,MAAO,CAAE,SAAAD,EAAU,MAAApmB,EAAO,WAAAqmB,CAAW,CACvC,CACA,YAAYrmB,EAAOyC,EAAW,CAC5B,IAAI7/B,EAEJ,MAAMokD,EADc,CAAC,MAAM,KAAK,KAAK,UAAU,GAAK,CAAC,OAAOpkD,EAAK,KAAK,KAAK,aAAe,KAAOA,EAAK,GAAG,EACzE,KAAK,KAAKo9B,EAAM,OAASyC,CAAS,EAAI,EACtE,OAAOzC,EAAM,OAAO,CAAC1gB,EAAG5jB,IAAMA,EAAIsrD,IAAc,CAAC,CACnD,CACA,YAAYvkB,EAAWQ,EAAcC,EAAc,CACjD,IAAItgC,EAAIiL,EAAIC,EACZ,YAAK,aAAa20B,EAAWQ,EAAcC,CAAY,GAC/Cp1B,GAAMD,GAAMjL,EAAK,KAAK,OAAO,QAAU,KAAO,OAASiL,EAAG,KAAKjL,CAAE,IAAM,KAAOkL,EAAK,CAAC,CAC9F,CACA,kBAAkB,CAAE,WAAAghC,EAAY,WAAAmY,CAAW,EAAG,CAC5C,KAAM,CACJ,QAAAC,EACA,MAAO,CAAE,gBAAAC,CAAgB,CAC3B,EAAI,KACJ,GAAI,CAACA,EACH,MAAO,CACL,aAAc3pB,GAAgB,oBAC9B,aAAcA,GAAgB,oBAC9B,iBAAkBA,GAAgB,mBACpC,EAEF,MAAM4pB,EAAiB,KAAK,wBAAwB,EAC9CC,EAAoB,KAAK,IAC7B,KAAK,sBACLD,EAAiB5pB,GAAgB,mBACnC,EACA,IAAI8pB,EAAoB,CAAC,MAAML,CAAU,EACrC,MAAMnY,CAAU,IAClBA,EAAauY,GAEX,MAAMJ,CAAU,IAClBA,EAAaG,GAEXtY,EAAamY,IACXnY,IAAeuY,EACjBvY,EAAamY,EAEbA,EAAanY,GAGjB,IAAIyY,EAAkB,EAClBL,IACFK,EAAkB,KAAK,YAAc,IAAML,EAAQ,MAAQA,EAAQ,QAErEI,IAAsBA,EAAoBC,EAAkBF,GAC5D,MAAMnkB,EAAelf,GACnB,EACA,KAAK,MAAMojC,EAAiBtY,CAAU,EACtCwY,EAAoB,KAAK,IAAI,KAAK,MAAMF,EAAiBG,CAAe,EAAG,GAAG,EAAI,GACpF,EACMtkB,EAAe,KAAK,IAAIC,EAAc,KAAK,KAAKkkB,EAAiBH,CAAU,CAAC,EAC5EjB,EAAmBhiC,GAAMif,EAAczF,GAAgB,iBAAkB0F,CAAY,EAC3F,MAAO,CAAE,aAAAD,EAAc,aAAAC,EAAc,iBAAA8iB,CAAiB,CACxD,CACA,kBAAmB,CACb,KAAK,UAAU,iBAAiB,UAAU,GAC5C,KAAK,oBAAoB,EAE3B,KAAK,cAAc,QAAU,KAAK,KAAK,QACvC,KAAK,cAAc,QAAU,KAAK,SAAS,QAC3C,KAAK,eAAe,QAAU,KAAK,MAAM,OAC3C,CACA,iBAAiB,CACf,SAAAl8B,EACA,qBAAAykB,EACA,oBAAAC,CACF,EAAG,CACD,IAAI5rC,EACJ,MAAMusC,EAAW,KAAK,MAAM,YAAY,EAClC0V,EAAkB,KAAK,kBAAkB,GAC9CjiD,EAAK,KAAK,aAAe,MAAgBA,EAAG,QAASggD,GAAc,CAClE,IAAI9hC,EACJ8hC,EAAU,SAAW,CAACzT,EACtByT,EAAU,UAAY94B,IAAa,CAAC,KAAK,GAAK,EAAI,IAAM,IACpD84B,aAAqB3O,KACvB2O,EAAU,MAAM,UAAY9hC,EAAM8hC,EAAU,MAAM,WAAa,KAAO9hC,EAAM,KAAK,MAAM,UAEzF8hC,EAAU,qBAAuBrU,EACjCqU,EAAU,oBAAsBpU,EAChCoU,EAAU,OAAOiC,CAAe,CAClC,CAAC,CACH,CACA,iBAAkB,CAChB,KAAM,CAAE,KAAAjgB,EAAM,MAAAgP,CAAM,EAAI,KAClBzE,EAAWyE,EAAM,YAAY,EACnC,KAAK,uBAAuB,KAAM7J,GAAS,CACzCA,EAAK,YAAcnF,EAAK,MACxBmF,EAAK,OAASnF,EAAK,MACnBmF,EAAK,GAAKoF,EAAW,KAAK,YAAY,EACtCpF,EAAK,GAAK,CACZ,CAAC,CACH,CACA,yBAA0B,CACxB,OAAO5lB,GAAgB,KAAK,KAAK,CACnC,CAKA,yBAA0B,CACxB,MAAMqjC,EAAe,EAAIrjC,GAAgB,KAAK,YAAY,EAC1D,OAAOI,GAAM,KAAK,wBAAwB,EAAIijC,EAAc,CAAC,CAC/D,CACA,iBAAkB,CAEhB,MAAMC,EADgB,KAAK,YAAY,OAAQ,GAAM,KAAK,yBAA2B,EAAE,UAAU,CAAC,EACpE,QAASx4C,GAAWA,EAAO,UAAU,KAAK,SAAS,CAAC,EAClF,KAAK,UAAUw4C,CAAO,CACxB,CACA,kBAAmB,CACjB,MAAO,CACL,SAAUlyB,GAAU,KAAK,QAAQ,EACjC,gBAAiB,EACjB,gBAAiB,EACjB,aAAc,KAAK,MAAM,KAAK,YAAY,CAAC,EAC3C,aAAc,KAAK,MAAM,KAAK,YAAY,CAAC,CAC7C,CACF,CACA,gBAAiB,CACf,KAAM,CAAE,eAAAmyB,EAAgB,UAAAC,EAAW,UAAAC,EAAW,YAAAC,EAAa,uBAAAC,EAAwB,YAAAC,EAAa,WAAA5U,CAAW,EAAI,KACzG,CAAE,SAAArpB,CAAS,EAAI,KAAK,mBAAmB,EACvCqlB,EAAW,KAAK,MAAM,YAAY,EAClCplB,EAAe,KAAK,MAAM89B,EAAY,CAAC,EACvC79B,EAAe,KAAK,MAAM69B,EAAY,CAAC,EAC7CH,EAAe,cAAc,CAAE,SAAA59B,EAAU,aAAAC,EAAc,aAAAC,CAAa,CAAC,EACrE49B,EAAU,cAAc,CAAE,SAAA99B,EAAU,aAAAC,EAAc,aAAAC,CAAa,CAAC,EAChE29B,EAAU,MAAQ,KAAK,iBAAiB,EACxCG,EAAuB,KAAM/d,GAAS,CACpCA,EAAK,GAAKge,EACVhe,EAAK,GAAK,CAACoF,EAAWgE,EAAa4U,CACrC,CAAC,CACH,CACA,yBAAyBvE,EAAmB,CAC1C,MAAM,IAAI,MAAM,uFAAuF,CACzG,CACA,iBAAiBE,EAAU3xC,EAAMhB,EAAQ,CACvC,KAAK,SAAS,MAAQ2yC,EACtB,KAAK,uBAAuB,OAC1B,KAAK,WAAa3xC,EAAO,CAAC,EACzB6gC,GAAWA,EAAO,OAAO,IAAIiI,EAAM,EACnCvvB,GAAUA,EAAM,MACnB,EACA,KAAK,uBAAuB,OAC1BvZ,EACC6gC,GAAWA,EAAO,YAAY,IAAIiI,EAAM,EACxCvvB,GAAUA,EAAM,MACnB,EACA,KAAK,wBAAwB,OAC3BvZ,EAAK,IAAKvP,GAAM,KAAK,kBAAkBA,EAAGuO,CAAM,CAAC,EAChD6hC,GAAWA,EAAO,YAAY,IAAI5E,EAAM,EACxC1iB,GAAUA,EAAM,MACnB,CACF,CACA,gBAAiB,CACf,KAAM,CAAE,KAAAye,CAAK,EAAI,KACXzB,EAAcyB,EAAK,QAAUA,EAAK,MAAQ,EAChD,KAAK,SAAS,cAAc,CAC1B,OAAQA,EAAK,MACb,YAAAzB,CACF,CAAC,CACH,CACA,gBAAgB6G,EAAU,CACxB,KAAM,CACJ,SAAU,CAAE,MAAA1xB,EAAO,MAAAuI,CAAM,EACzB,YAAA+hC,EACA,WAAA5U,CACF,EAAI,KACAA,IAAe,GAAK11B,EAAM,SAAW,GAGzC,KAAK,uBAAuB,KAAK,CAACssB,EAAMzqB,EAAGnY,IAAU,CACnD,KAAM,CAAE,OAAAkhC,EAAQ,SAAAK,CAAS,EAAIjrB,EAAMtW,EAAQsW,EAAM,MAAM,EACvDssB,EAAK,cAAc,CACjB,GAAIge,EACJ,GAAI,CAAC5Y,EAAWgE,EAAa4U,EAC7B,KAAM,OACN,OAAA1f,EACA,YAAariB,EACb,SAAA0iB,CACF,CAAC,CACH,CAAC,CACH,CACA,cAAe,CACb,KAAM,CAAE,MAAAkL,CAAM,EAAI,KACbA,EAAM,SAGX,KAAK,wBAAwB,KAAK,CAAChjC,EAAM0a,IAAU,CACjD1a,EAAK,cAAc0a,EAAO,CACxB,OACA,aACA,WACA,YACA,aACA,OACA,YACA,cACF,CAAC,CACH,CAAC,CACH,CACA,WAAWq4B,EAAUx8C,EAAOm9C,EAAY,CACtC,KAAM,CAAE,SAAArV,EAAU,SAAA1E,EAAU,UAAAC,CAAU,EAAI,KAAK,MAC/C,IAAIwd,EAAkB,KAAK,aACvBC,EAAmB,KAAK,MAAM,KAAK,wBAAwB,EAAItE,EAAS,UAAU,EACtF,OAAI1U,IACF,CAAC+Y,EAAiBC,CAAgB,EAAI,CAACA,EAAkBD,CAAe,GAE1ErE,EAAS,MAAM,QAASuE,GAAc,CACpC,KAAM,CAAE,KAAA5d,CAAK,EAAI0D,GAAK,KACpBka,EAAU,UACV3d,GAA8Byd,EAC9Bxd,GAAgCyd,EAChC3D,EACA,WACF,EACA4D,EAAU,UAAY5d,CACxB,CAAC,EACM,CAAE,SAAAqZ,EAAU,MAAAx8C,EAAO,aAAc,EAAG,UAAW,EAAK,CAC7D,CACA,YAAY4J,EAAQ,CAClB,KAAM,CAAE,SAAA+Y,EAAU,MAAA40B,EAAO,cAAAyJ,EAAe,SAAAC,EAAU,cAAAC,EAAe,eAAAC,CAAe,EAAI,KACpF,GAAI,CAAC5J,EAAO,CACVyJ,EAAc,QAAU,GACxB,MACF,CACA,IAAIzD,EAAU,EACd,GAAIhG,EAAM,SAAW3tC,EAAO,eAAgB,CAC1C,MAAMw3C,EAAW3hB,EAAM,YAAY,CAACyhB,EAAeC,EAAgBF,CAAQ,CAAC,EACtEI,EAAY1+B,IAAa,EAAIy+B,EAAS,MAAQA,EAAS,OAC7D7D,GAAW8D,GAAa,KAAK,eAAe,QAAU,EAAI,KAAK,kBACjE,CACA,KAAK,cAAcL,EAAe,CAAE,QAAAzD,CAAQ,CAAC,CAC/C,CAEA,WAAWp5B,EAAOnkB,EAAO,CACvB,OAAO,KAAK,eAAeA,CAAK,EAAEmkB,CAAK,CACzC,CAEA,YAAYA,EAAO,CACjB,OAAO,OAAOA,CAAK,CACrB,CACA,eAAenkB,EAAQ,EAAG,CACxB,KAAM,CACJ,MAAAysC,EACA,eAAA6U,EACA,eAAAp6B,EACA,UAAW,CAAE,cAAA61B,CAAc,CAC7B,EAAI,KACJ,OAAItQ,EAAM,UACAtoB,GAAU,CAChB,IAAI1oB,EACJ,OAAQA,EAAKshD,EAAc,KAAKtQ,EAAM,UAAW,CAC/C,MAAOvlB,EAAiB,EAAI/C,EAAQ,OAAOA,CAAK,EAChD,MAAAnkB,EACA,eAAAknB,EACA,UAAWo6B,CACb,CAAC,IAAM,KAAO7lD,EAAK0oB,CACrB,EACSm9B,EACDn9B,GAAU,CAChB,IAAI1oB,EACJ,OAAQA,EAAKshD,EAAc,KAAKuE,EAAgBn9B,CAAK,IAAM,KAAO1oB,EAAK,OAAO0oB,CAAK,CACrF,EAEMA,GAAU,OAAOA,CAAK,CAChC,CACA,aAAc,CACZ,OAAO,KAAK,UAAU,YAAY,CACpC,CACA,cAAcs3B,EAAW,CACvBA,EAAU,MAAQ,KAAK,MACvBA,EAAU,WAAa,KAAK,UAC9B,CACA,mBAAoB,CAClB,OAAO,KAAK,YAAY,KAAMz/C,GAAM,KAAK,yBAA2BA,EAAE,UAAU,CAAC,CACnF,CACA,cAAc/G,EAAG+oB,EAAGa,EAAOC,EAAQ,CACjC,KAAK,cAAc,kCAAkC,IAAIiB,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,CAAC,CACpF,CACA,SAAS7pB,EAAG+oB,EAAGa,EAAOC,EAAQ,CAC5B,KAAK,UAAU,kCAAkC,IAAIiB,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,CAAC,CAChF,CACA,iBAAiBvK,EAAKC,EAAK,CACzB,MAAMu1B,EAAU,KAAK,IAAI,KAAK,QAAUv1B,EAAMD,CAAG,EAAI,IACrD,MAAO,CAACw1B,EAASA,CAAO,CAC1B,CACA,yBAA0B,CACxB,IAAItuC,EACJ,MAAM8lD,EAAc,KAAK,YAAY,OAAO,CAACC,EAAKp9B,IAAS,CACzD,MAAMtgB,EAAOsgB,EAAK,QAAQ,KAAK,SAAS,EAClCq9B,EAAQr9B,EAAK,SAAS,KAAK,SAAS,EAC1C,QAAS4Z,EAAM,EAAGA,EAAMl6B,EAAK,OAAQk6B,IACnCwjB,EAAI,KAAK,CAAE,IAAK19C,EAAKk6B,CAAG,EAAG,KAAMyjB,EAAMzjB,CAAG,CAAE,CAAC,EAE/C,OAAOwjB,CACT,EAAG,CAAC,CAAC,EACL,MAAO,CACL,UAAW,KAAK,UAChB,YAAAD,EACA,cAAe9lD,EAAK,KAAK,QAAU,KAAO,OAASA,EAAG,IACxD,CACF,CACA,oBAAoBJ,EAAG,CACrB,MAAO,CAAE,OAAQ,CAAC,GAAGA,CAAC,EAAG,QAAS,EAAM,CAC1C,CACA,gBAAiB,CACf,OAAOhF,EAAgB,CACrB,KAAM,KAAK,YAAY,EACvB,YAAa,KAAK,YAClB,kBAAmB,KAAK,kBACxB,SAAU,KAAK,YAAY,EAC3B,UAAW,KAAK,UAChB,OAAQ,KAAK,WAAW,OACxB,MAAO,KAAK,KACd,EAAG,KAAK,MAAM,CAChB,CACA,cAAe,CACb,OAAO,KAAK,SACd,CACA,qBAAsB,CACpB,IAAIoF,EACJ,OAACA,EAAK,KAAK,cAAgB,OAAY,KAAK,YAAc,KAAK,kBAAkB,GAC1EnF,EAAcD,EAAgB,CAAC,EAAG,KAAK,SAAS,EAAG,CAAE,OAAQ,KAAK,WAAY,CAAC,CACxF,CACA,mBAAoB,CAClB,MAAO,CACL,OAAQ,KAAK,GACb,UAAW,KAAK,UAChB,WAAYggC,GAAgB,GAAG,KAAK,KAAK,EACzC,KAAM,IAAM,KAAK,YAAY,QAASr6B,GAAMA,EAAE,QAAQ,KAAK,SAAS,CAAC,EACrE,oBAAqB,IAAM,KAAK,YAAY,OAAO,CAAC8H,EAAMgE,KACrCA,EAAO,iBAAiB,KAAK,SAAS,EAC9C,QAASlU,GAAQ,CACtBkQ,EAAK,QAAQlQ,CAAG,EAAI,GACtBkQ,EAAK,KAAKlQ,CAAG,CAEjB,CAAC,EACMkQ,GACN,CAAC,CAAC,EACL,oBAAsBw4B,GAAc,CAClC,IAAI7gC,EAAIiL,EACR,OAAO41B,GAAa51B,GAAMjL,EAAK,KAAK,OAAO,aAAe,KAAO,OAASiL,EAAG,KAAKjL,EAAI,CAAE,UAAA6gC,CAAU,CAAC,EAAI,KAAK,WAC9G,EACA,eAAgB,IAAM,CACpB,IAAI7gC,EACJ,OAAQA,EAAK,KAAK,MAAM,YAAc,KAAOA,EAAK,CACpD,EACA,aAAe8G,GAAQ,KAAK,MAAM,QAAQA,CAAG,EAC7C,YAAcA,GAAQ,CACpB,IAAI9G,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,OAAO,SAAW,KAAO,OAASiL,EAAG,KAAKjL,EAAI8G,CAAG,CAC3E,CACF,CACF,CACA,mBAAmB0G,EAAO,CACxB,KAAM,CAAE,iBAAAwiB,CAAiB,EAAI,KAAK,UAC5Bi2B,EAAepH,GAA4B,IAAI,EAC/C3/C,EAAMigD,GAA8B8G,CAAY,EACtDvlC,GAAa,KAAK,GAAI,aAAcsP,EAAkB,CAAC,KAAK,SAAS,EAAG9wB,EAAI,KAAK,EACjFwhB,GAAa,KAAK,GAAI,OAAQsP,EAAkB,CAAC,KAAK,QAAQ,EAAG9wB,EAAI,IAAI,EACzEwhB,GACE,KAAK,GACL,aACAsP,EACA,CAAC,KAAK,uBAAwB,KAAK,sBAAsB,EACzD9wB,EAAI,KACJ,CAACwd,EAAG9c,IAAMA,EAAE,OACZ4N,CACF,EACAkT,GACE,KAAK,GACL,cACAsP,EACA,CAAC,KAAK,uBAAuB,EAC7B9wB,EAAI,MACJ,CAACwd,EAAG9c,IAAMA,EAAE,OACZ4N,CACF,CACF,CACA,qBAAsB,CACpB,KAAM,CAAE,uBAAA03C,EAAwB,uBAAAgB,EAAwB,wBAAAC,EAAyB,SAAAX,CAAS,EAAI,KACxFS,EAAepH,GAA4B,IAAI,EACrDnN,GAAY,CAAC,KAAK,SAAS,EAAG8N,GAAiB,CAAC,EAChD9N,GAAY,CAACwT,EAAwBgB,CAAsB,EAAGzG,GAAqBwG,CAAY,CAAC,EAChGvU,GAAY,CAACyU,CAAuB,EAAGxG,GAA0B,CAAC,EAClEjO,GAAY,CAAC8T,CAAQ,EAAG5F,GAAyB,CAAC,CACpD,CACA,oBAAoBwG,EAAUrF,EAAU,CACtC,MAAMsF,EAAwB,IAAI,IAC5BC,EAA0B,IAAI,IAC9BC,EAAU,CAAC,EACX1mB,EAAY,KAAK,IAAIumB,EAAS,OAAQrF,EAAS,MAAM,MAAM,EACjE,QAASjoD,EAAI,EAAGA,EAAI+mC,EAAW/mC,IAAK,CAClC,MAAMwsD,EAAYvE,EAAS,MAAMjoD,CAAC,EAC5B0tD,EAAOJ,EAASttD,CAAC,EACjBkpC,EAAoCsjB,GAAU,OACpDiB,EAAQvkB,GAAsBwkB,CAAI,EAAIlB,EAClCkB,IAASxkB,IAGTskB,EAAQ,IAAItkB,CAAI,EAClBskB,EAAQ,OAAOtkB,CAAI,EACVA,GACTqkB,EAAM,IAAIrkB,CAAI,EAEZqkB,EAAM,IAAIG,CAAI,EAChBH,EAAM,OAAOG,CAAI,EACRA,GACTF,EAAQ,IAAIE,CAAI,EAEpB,CACA,MAAO,CAAE,QAASH,EAAM,KAAO,GAAKC,EAAQ,KAAO,EAAG,MAAAD,EAAO,QAAAC,CAAQ,CACvE,CACA,YAAa,CACX,OAAO,KAAK,OACd,CACF,EACAzG,GAAM,sBAAwB,GAC9B1kD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG2pB,GAAM,UAAW,OAAQ,CAAC,EAC7B1kD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG2pB,GAAM,UAAW,UAAW,CAAC,EAChC1kD,EAAiB,CACf25B,EAAS6C,EAAY,CACvB,EAAGkoB,GAAM,UAAW,OAAQ,CAAC,EAC7B1kD,EAAiB,CACf25B,EAASiB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG8pB,GAAM,UAAW,QAAS,CAAC,EAC9B1kD,EAAiB,CACf2/C,GAAe,CAACniD,EAAQP,EAAO0N,IAAanN,EAAO,mBAAmBP,EAAO0N,CAAQ,CAAC,CACxF,EAAG+5C,GAAM,UAAW,aAAc,CAAC,EACnC,IAAI4G,GAAO5G,GACP6G,GAAqB,cAAchI,EAAU,CAC/C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,gBAAkB,GACzB,CACF,EACAvjD,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAGwwB,GAAmB,UAAW,aAAc,CAAC,EAChDvrD,EAAiB,CACf25B,EAAS4B,EAAM,CACjB,EAAGgwB,GAAmB,UAAW,kBAAmB,CAAC,EACrD,IAAIC,GAAiB,MAAMC,WAAwBH,EAAK,CACtD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,EACjB,KAAK,SAAW,MAClB,CACA,OAAO,GAAGruD,EAAO,CACf,OAAOA,aAAiBwuD,EAC1B,CACA,IAAI,WAAY,CACd,MAAO,CAAC,MAAO,QAAQ,EAAE,SAAS,KAAK,QAAQ,EAAI,IAAM,GAC3D,CACA,iBAAkB,CAChB,OAAQ,KAAK,SAAU,CACrB,IAAK,MACH,KAAK,SAAW,IAChB,KAAK,MAAM,SAAW,GACtB,KAAK,MAAM,SAAW,GACtB,MACF,IAAK,QACH,KAAK,SAAW,EAChB,KAAK,MAAM,SAAW,GACtB,KAAK,MAAM,SAAW,GACtB,MACF,IAAK,SACH,KAAK,SAAW,IAChB,KAAK,MAAM,SAAW,GACtB,KAAK,MAAM,SAAW,GACtB,MACF,IAAK,OACH,KAAK,SAAW,EAChB,KAAK,MAAM,SAAW,GACtB,KAAK,MAAM,SAAW,GACtB,KACJ,CACI,KAAK,cACP,KAAK,YAAY,SAAW,KAAK,SACjC,KAAK,YAAY,UAAY,KAAK,UAEtC,CACA,OAAO3F,EAAkBJ,EAAU,CACjC,YAAK,gBAAgB,EACd,MAAM,OAAOI,EAAkBJ,CAAQ,CAChD,CACA,gBAAgBI,EAAkB,CAChC,YAAK,gBAAgB,EACd,MAAM,gBAAgBA,CAAgB,CAC/C,CACA,mBAAoB,CAClB,OAAOpmD,EAAcD,EAAgB,CAAC,EAAG,MAAM,kBAAkB,CAAC,EAAG,CACnE,SAAU,KAAK,QACjB,CAAC,CACH,CACA,gCAAgCisD,EAAY,CAC1CjtB,GAAgCitB,EAAYxV,EAAkB,CAChE,CACA,aAAc,CACZ,OAAO,IAAIqV,EACb,CACF,EACAvrD,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGmwB,GAAe,UAAW,YAAa,CAAC,EAC3CxrD,EAAiB,CACf25B,EAASoD,EAAS,CACpB,EAAGyuB,GAAe,UAAW,WAAY,CAAC,EAC1C,IAAIG,GAAgBH,GAChBI,GAAmB,cAAcvtB,EAAS,CAC5C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,WAAa,GACpB,CACF,EACAr+B,EAAiB,CACf25B,EAASgE,EAAW,EACpBnE,GAAQ,GAAG,CACb,EAAGoyB,GAAiB,UAAW,aAAc,CAAC,EAC9C,IAAIC,GAAe,cAAcF,EAAc,CAC7C,YAAY9I,EAAWpQ,EAAS,IAAIlZ,GAAa,CAC/C,MAAMspB,EAAWpQ,CAAM,EACvB,KAAK,wBAA0B,GAC/B,KAAK,kBAAoB,GACzB,KAAK,wBAA0B,EACjC,CACA,IAAI,aAAax1C,EAAO,CACtB,KAAK,wBAA0B,GAC/B,KAAK,MAAM,aAAeA,CAC5B,CACA,IAAI,cAAe,CACjB,YAAK,wBAA0B,GACxB,KAAK,MAAM,YACpB,CACA,IAAI,aAAaA,EAAO,CACtB,KAAK,MAAM,aAAeA,CAC5B,CACA,IAAI,cAAe,CACjB,OAAO,KAAK,MAAM,YACpB,CACA,YAAa,CACX,OAAO,IAAI2uD,EACb,CACA,oBAAoBnnD,EAAG,CACrB,MAAM8zB,EAAS,CAAC,EACVuzB,EAA+B,IAAI,IACzC,UAAWxtD,KAAKmG,EAAG,CACjB,MAAMzH,EAAMsB,aAAa,KAAOA,EAAE,QAAQ,EAAIA,EACzCwtD,EAAa,IAAI9uD,CAAG,IACvB8uD,EAAa,IAAI9uD,CAAG,EACpBu7B,EAAO,KAAKj6B,CAAC,EAEjB,CACA,MAAO,CAAE,OAAAi6B,EAAQ,QAAS,EAAM,CAClC,CACA,iBAAkB,CAChB,GAAI,CAAC,KAAK,wBAAyB,CACjC,MAAMwzB,EAAW,KAAK,YAAY,IAAK3mD,GAAM,CAC3C,IAAIP,EACJ,OAAQA,EAAKO,EAAE,sBAAwB,KAAO,OAASP,EAAG,KAAKO,CAAC,CAClE,CAAC,EAAE,OAAQwqB,GAAMA,GAAK,IAAI,EACtBm8B,EAAS,OAAS,IACpB,KAAK,MAAM,aAAe,KAAK,IAAI,GAAGA,EAAS,IAAKn8B,GAAMA,EAAE,KAAK,CAAC,EAClE,KAAK,MAAM,aAAe,KAAK,IAAI,GAAGm8B,EAAS,IAAKn8B,GAAMA,EAAE,KAAK,CAAC,EAEtE,CACA,OAAO,MAAM,gBAAgB,CAC/B,CACF,EACAi8B,GAAa,UAAY,eACzBA,GAAa,KAAO,WACpB7rD,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGuwB,GAAa,UAAW,oBAAqB,CAAC,EACjD,IAAIG,GAAW,KAAM,CAEnB,YAAYnW,EAAQ,GAAIjoB,EAAQq+B,EAAS,EAAG,CAC1C,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,YAAc,IACnB,KAAK,aAAe,IACpB,KAAK,QAAU,EACf,KAAK,QAAU,EACf,KAAK,SAAW,CAAC,EACjB,KAAK,UAAY,EACjB,KAAK,OAAS,EACd,KAAK,IAAM,EACX,KAAK,SAAW,KAChB,KAAK,OAAS,EACd,KAAK,MAAQ,EACb,KAAK,MAAQpW,EACb,KAAK,OAASjoB,EACd,KAAK,MAAQA,EAASA,EAAO,MAAQ,EAAI,EACzC,KAAK,OAASq+B,CAChB,CACA,gBAAiB,CACf,OAAO,KAAK,OAAS,GAAK,KAAK,OAAS,KAAK,OAAO,SAAS,KAAK,OAAS,CAAC,EAAI,MAClF,CACA,oBAAqB,CACnB,OAAO,KAAK,OAAS,GAAK,KAAK,OAAS,KAAK,OAAO,SAAS,CAAC,EAAI,MACpE,CAEA,UAAW,CACT,OAAO,KAAK,SAAW,KAAK,SAAS,CAAC,EAAI,KAAK,MACjD,CAEA,WAAY,CACV,OAAO,KAAK,SAAW,KAAK,SAAS,KAAK,SAAS,OAAS,CAAC,EAAI,KAAK,MACxE,CACA,aAAc,CACZ,OAAO,KAAK,OAAS,KAAK,OAAO,SAAS,OAAO,CAAC1qC,EAAG5jB,IAAMA,IAAM,KAAK,MAAM,EAAI,CAAC,CACnF,CACF,EACA,SAASuuD,GAAYjqB,EAAOkqB,EAAO,GAAM,CACvC,MAAMC,EAAO,IAAIJ,GACjB,IAAIK,EAAQ,EACZ,OAAIF,GACFlqB,EAAM,QAAS4E,GAASwlB,EAAQ,KAAK,IAAIA,EAAOxlB,EAAK,OAAO,MAAM,CAAC,EAErE5E,EAAM,QAAS4E,GAAS,CACtB,GAAIslB,EACF,KAAOtlB,EAAK,OAAO,OAASwlB,GAC1BxlB,EAAK,OAAO,QAAQ,EAAE,EAG1BylB,GAAWF,EAAMvlB,CAAI,CACvB,CAAC,EACMulB,CACT,CACA,SAASE,GAAWF,EAAMvlB,EAAM,CAC9B,MAAM0lB,EAAY1lB,EAAK,OAAO,MAAM,EAAE,QAAQ,EACxC2lB,EAAgBD,EAAU,OAAS,EACzCA,EAAU,QAAQ,CAACE,EAAUC,IAAc,CACzC,MAAM3+B,EAAWq+B,EAAK,SAChBO,EAAe5+B,EAAS,KAAMnG,GAAUA,EAAM,QAAU6kC,CAAQ,EAChEG,EAAYF,IAAcF,EAChC,GAAIG,GAAgBC,EAClBR,EAAOO,MACF,CACL,MAAM95C,EAAO,IAAIm5C,GAASS,EAAUL,CAAI,EACxCv5C,EAAK,OAASkb,EAAS,OACvBA,EAAS,KAAKlb,CAAI,EACd+5C,IACFR,EAAOv5C,EAEX,CACF,CAAC,CACH,CACA,SAASg6C,GAAYC,EAAIC,EAAI9H,EAAO,CAClC,MAAM+H,EAAWD,EAAG,OAASD,EAAG,OAC1BG,EAAQhI,EAAQ+H,EACtBD,EAAG,QAAUE,EACbF,EAAG,OAAS9H,EACZ6H,EAAG,QAAUG,EACbF,EAAG,QAAU9H,EACb8H,EAAG,KAAO9H,CACZ,CACA,SAASiI,GAASC,EAAK7uD,EAAG8uD,EAAiB,CACzC,OAAO9uD,EAAE,YAAY,EAAE,QAAQ6uD,EAAI,QAAQ,GAAK,EAAIA,EAAI,SAAWC,CACrE,CACA,SAASC,GAAc/uD,EAAG,CACxB,MAAMyvB,EAAWzvB,EAAE,SACnB,GAAIyvB,EAAU,CACZ,IAAIk3B,EAAQ,EACRqI,EAAS,EACb,QAAS3vD,EAAIowB,EAAS,OAAS,EAAGpwB,GAAK,EAAGA,IAAK,CAC7C,MAAM6tB,EAAIuC,EAASpwB,CAAC,EACpB6tB,EAAE,QAAUy5B,EACZz5B,EAAE,KAAOy5B,EACTqI,GAAU9hC,EAAE,OACZy5B,GAASz5B,EAAE,MAAQ8hC,CACrB,CACF,CACF,CACA,SAASC,GAAUjvD,EAAG8uD,EAAiB10B,EAAW,CAChD,MAAMlN,EAAIltB,EAAE,eAAe,EAC3B,GAAIktB,EAAG,CACL,IAAIgiC,EAAMlvD,EACNmvD,EAAMnvD,EACN6uD,EAAM3hC,EACNkiC,EAAMD,EAAI,mBAAmB,EAC7BE,EAAMF,EAAI,IACVG,EAAMJ,EAAI,IACVK,EAAMV,EAAI,IACVW,EAAMJ,EAAI,IACd,KAAOP,EAAI,UAAU,GAAKM,EAAI,SAAS,GAAG,CACxCN,EAAMA,EAAI,UAAU,EACpBM,EAAMA,EAAI,SAAS,EACnBC,EAAMA,EAAI,SAAS,EACnBF,EAAMA,EAAI,UAAU,EACpBA,EAAI,SAAWlvD,EACf,MAAM2mD,EAAQkI,EAAI,OAASU,GAAOJ,EAAI,OAASE,GAAOj1B,EAClDusB,EAAQ,IACV4H,GAAYK,GAASC,EAAK7uD,EAAG8uD,CAAe,EAAG9uD,EAAG2mD,CAAK,EACvD0I,GAAO1I,EACP2I,GAAO3I,GAET4I,GAAOV,EAAI,IACXQ,GAAOF,EAAI,IACXK,GAAOJ,EAAI,IACXE,GAAOJ,EAAI,GACb,CACIL,EAAI,UAAU,GAAK,CAACK,EAAI,UAAU,GACpCA,EAAI,OAASL,EAAI,UAAU,EAC3BK,EAAI,KAAOK,EAAMD,IAEbH,EAAI,SAAS,GAAK,CAACC,EAAI,SAAS,IAClCA,EAAI,OAASD,EAAI,SAAS,EAC1BC,EAAI,KAAOC,EAAMG,GAEnBV,EAAkB9uD,EAEtB,CACA,OAAO8uD,CACT,CACA,SAASW,GAAUl7C,EAAM6lB,EAAW,CAClC,MAAM3K,EAAWlb,EAAK,SACtB,GAAIkb,EAAS,OAAQ,CACnB,IAAIq/B,EAAkBr/B,EAAS,CAAC,EAChCA,EAAS,QAASnG,GAAU,CAC1BmmC,GAAUnmC,EAAO8Q,CAAS,EAC1B00B,EAAkBG,GAAU3lC,EAAOwlC,EAAiB10B,CAAS,CAC/D,CAAC,EACD20B,GAAcx6C,CAAI,EAClB,MAAMm7C,GAAYjgC,EAAS,CAAC,EAAE,OAASA,EAAS,GAAG,EAAE,EAAE,QAAU,EAC3DkgC,EAAcp7C,EAAK,eAAe,EACpCo7C,GACFp7C,EAAK,OAASo7C,EAAY,OAASv1B,EACnC7lB,EAAK,IAAMA,EAAK,OAASm7C,GAEzBn7C,EAAK,OAASm7C,CAElB,KAAO,CACL,MAAMC,EAAcp7C,EAAK,eAAe,EACxCA,EAAK,OAASo7C,EAAcA,EAAY,OAASv1B,EAAY,CAC/D,CACF,CACA,IAAIw1B,GAAa,KAAM,CACrB,aAAc,CACZ,KAAK,IAAM,IACX,KAAK,MAAQ,KACb,KAAK,OAAS,KACd,KAAK,KAAO,GACd,CACA,OAAOr7C,EAAMoY,EAAI,CACf,KAAM,CAAE,EAAA5sB,EAAG,EAAA+oB,CAAE,EAAI6D,EAAGpY,CAAI,EACpBxU,EAAI,KAAK,QACX,KAAK,MAAQA,GAEXA,EAAI,KAAK,OACX,KAAK,KAAOA,GAEV+oB,EAAI,KAAK,SACX,KAAK,OAASA,GAEZA,EAAI,KAAK,MACX,KAAK,IAAMA,EAEf,CACF,EACA,SAAS+mC,GAAW7vD,EAAG+K,EAAG+kD,EAAQ,CAChC9vD,EAAE,EAAIA,EAAE,OAAS+K,EACjB/K,EAAE,EAAIA,EAAE,MACR8vD,EAAO,OAAO9vD,CAAC,EACfA,EAAE,SAAS,QAASktB,GAAM2iC,GAAW3iC,EAAGniB,EAAI/K,EAAE,IAAK8vD,CAAM,CAAC,CAC5D,CACA,SAASC,GAAU/vD,EAAG,CACpB,MAAMyvB,EAAWzvB,EAAE,SACnB,IAAIgwD,EAAY,EAChBvgC,EAAS,QAASvC,GAAM,CACtB6iC,GAAU7iC,CAAC,EACPA,EAAE,SAAS,OACb8iC,GAAa9iC,EAAE,UAEf8iC,GAEJ,CAAC,EACDhwD,EAAE,UAAYgwD,EACVvgC,EAAS,QACXzvB,EAAE,YAAcyvB,EAAS,CAAC,EAAE,YAC5BzvB,EAAE,aAAeyvB,EAASzvB,EAAE,SAAS,OAAS,CAAC,EAAE,aACjDA,EAAE,GAAKA,EAAE,YAAcA,EAAE,cAAgB,IAEzCA,EAAE,YAAcA,EAAE,EAClBA,EAAE,aAAeA,EAAE,EAEvB,CACA,SAASiwD,GAAWnC,EAAM,CACxB,MAAMgC,EAAS,IAAII,GACnB,OAAAT,GAAU3B,EAAM,CAAC,EACjB+B,GAAW/B,EAAM,CAACA,EAAK,OAAQgC,CAAM,EACrCC,GAAUjC,CAAI,EACPgC,CACT,CACA,IAAII,GAAa,KAAM,CACrB,aAAc,CACZ,KAAK,WAAa,IAAIN,GACtB,KAAK,UAAY,EACjB,KAAK,MAAQ,CAAC,EACd,KAAK,UAAY,CAAC,EAClB,KAAK,aAAe,CAAC,EACrB,KAAK,MAAQ,CACf,CACA,OAAOr7C,EAAM,CACX,KAAK,WAAW,OAAOA,EAAOkU,IAAO,CAAE,EAAGA,EAAE,EAAG,EAAGA,EAAE,CAAE,EAAE,EACpDlU,EAAK,SAAS,OAChB,KAAK,aAAa,KAAKA,CAAI,GAE3B,KAAK,YACL,KAAK,UAAU,KAAKA,CAAI,GAEtBA,EAAK,MAAQ,KAAK,QACpB,KAAK,MAAQA,EAAK,OAEpB,KAAK,MAAM,KAAKA,CAAI,CACtB,CACA,OAAOoV,EAAOC,EAAQumC,EAAS,EAAGC,EAAS,EAAGC,EAAQ,GAAO,CAC3D,MAAMC,EAAS,KAAK,UAAY,EAC1BC,EAAS,KAAK,MACdC,EAAa,KAAK,WACxB,IAAIjjC,EAAW,EACXC,EAAW,EACf,GAAI7D,EAAQ,GAAK2mC,EAAQ,CACvB,MAAMG,GAAoBD,EAAW,MAAQA,EAAW,MAAQF,EAEhE/iC,EADwB5D,EAAQ2mC,EACHG,EACzBJ,IACF9iC,EAAW,CAACA,EAEhB,CACA,GAAI3D,EAAS,GAAK2mC,EAAQ,CACxB,MAAMG,GAAoBF,EAAW,OAASA,EAAW,KAAOD,EAEhE/iC,EADwB5D,EAAS2mC,EACJG,CAC/B,CACA,MAAMC,EAAmB,IAAIf,GAC7B,KAAK,MAAM,QAASr7C,GAAS,CAC3BA,EAAK,QAAUA,EAAK,EAAIgZ,EACxBhZ,EAAK,QAAUA,EAAK,EAAIiZ,EACxBmjC,EAAiB,OAAOp8C,EAAOkU,IAAO,CAAE,EAAGA,EAAE,QAAS,EAAGA,EAAE,OAAQ,EAAE,CACvE,CAAC,EACD,MAAMm8B,EAAU,CAAC+L,EAAiB,KAC5B3iB,EAAU,CAAC2iB,EAAiB,IAClC,KAAK,MAAM,QAASp8C,GAAS,CAC3BA,EAAK,SAAWqwC,EAAUuL,EAC1B57C,EAAK,SAAWy5B,EAAUoiB,CAC5B,CAAC,CACH,CACF,EACIQ,GAA2B,cAAc3L,EAAU,CACrD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,EACd,CACF,EACAvjD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGm0B,GAAyB,UAAW,OAAQ,CAAC,EAChD,IAAIC,GAAsB,cAAcxD,EAAc,CACpD,YAAY9I,EAAW,CACrB,MAAMA,EAAW,IAAItpB,EAAW,EAChC,KAAK,UAAY,IAAIA,GACrB,KAAK,KAAO,IAAIiqB,GAChB,KAAK,MAAQ,IAAI0L,GACjB,KAAK,WAAa,sBAClB,KAAK,wBAA0B,GAC/B,KAAM,CAAE,cAAA5E,EAAe,eAAAC,EAAgB,cAAA6E,EAAe,UAAAC,EAAW,MAAO5c,CAAO,EAAI,KACnFA,EAAO,aAAe,GACtBA,EAAO,aAAeA,EAAO,aAAe,EAC5C,KAAK,aAAa,EAClB4c,EAAU,aAAe,EACzBA,EAAU,aAAe,EACzB,KAAK,kBAAoBnU,GAAU,OAAOkU,EAAetS,EAAI,EAC7D,KAAK,kBAAoB5B,GAAU,OAAOoP,EAAexN,EAAI,EAC7D,KAAK,mBAAqB5B,GAAU,OAAOoP,EAAexN,EAAI,EAC9D,KAAK,eAAiB5B,GAAU,OAAOqP,EAAgBta,EAAI,CAC7D,CACA,aAAc,CACZ,KAAM,CAAE,MAAO6U,EAAI,aAAcC,EAAI,MAAOtS,CAAO,EAAI,KACjDuS,GAAQF,EAAG,CAAC,EAAIA,EAAG,CAAC,IAAMC,EAAG,CAAC,EAAIA,EAAG,CAAC,GACtCE,EAAQD,EAAOD,EAAG,CAAC,EACnBrgD,EAAQogD,EAAG,CAAC,EAAIG,EACtB,KAAK,UAAU,MAAQxS,EAAO,MAAQ,CAAC/tC,EAAOA,EAAQsgD,CAAI,EAC1D,KAAK,eAAe,CACtB,CACA,gBAAiB,CACf,IAAIngD,EACJ,MAAMO,EAAI,KAAK,MACTH,EAASG,EAAE,OAAO,OAAS,CAACA,EAAE,QAAQA,EAAE,OAAO,CAAC,CAAC,EAAGA,EAAE,QAAQA,EAAE,OAAOA,EAAE,OAAO,OAAS,CAAC,CAAC,CAAC,EAAIA,EAAE,MAClGgpD,EAAS,KAAK,eACdviB,EAAa,KAAK,WACpBuiB,GACFA,EAAO,OACL,KAAK,IAAInpD,EAAO,CAAC,EAAIA,EAAO,CAAC,CAAC,EAC9BmpD,EAAO,MAAQviB,GACd,KAAK,IAAI5mC,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,GAAK,KAAOJ,EAAKO,EAAE,YAAc,KAAOP,EAAK,GAAK,EAChF,CAACupD,EAAO,MAAQviB,EAChB5mC,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAI,CAC1B,CAEJ,CACA,IAAI,YAAa,CACf,OAAO,KAAK,MAAM,SAAW,GAC/B,CAIA,wBAAyB,CACvB,KAAK,kBAAkB,MAAM,EAC7B,KAAK,eAAe,MAAM,CAC5B,CACA,YAAa,CACX,OAAO,IAAI2mD,EACb,CACA,iBAAkB,CAChB,IAAI/mD,EACJ,KAAM,CAAE,UAAA0wC,CAAU,EAAI,KACtB,IAAI+Z,EAAa,KACjB,MAAMC,EAAc,KAAK,YAAY,OAAQnqD,GAAMA,EAAE,OAAO,EAAE,QAAS8L,GAAW,CAChF,GAAIqkC,IAAc,KAAO+Z,EACvB,OAAOp+C,EAAO,UAAUqkC,CAAS,EAEnC,GAAI+Z,IAAe,KAAM,CACvB,MAAME,EAAUt+C,EAAO,UAAUqkC,CAAS,EAC1C,OAAA+Z,EAAahjD,GAASkjD,EAAQ,CAAC,CAAC,EACzBA,CACT,CACA,MAAO,CAAC,CACV,CAAC,EACD,KAAK,WAAW3qD,EAAK4Y,GAAO8xC,CAAW,IAAM,KAAO1qD,EAAKqZ,GAAOqxC,CAAW,CAAC,EAC5E,KAAM,CAAE,OAAAh3B,CAAO,EAAI,KAAK,WACxB,KAAK,eAAiBg2B,GAAWrC,GAAY3zB,CAAM,CAAC,EACpD,KAAK,UAAU,OAASA,EAAO,OAAO,EAAE,EACxC,KAAK,eAAe,CACtB,CAcA,QAAS,CACF,KAAK,iBAGV,KAAK,eAAe,EACpB,KAAK,mBAAmB,EACxB,KAAK,qBAAqB,EAC1B,KAAK,iBAAiB,EACtB,KAAK,gBAAgB,EACrB,KAAK,wBAAwB,EAC7B,KAAK,oBAAoB,EAC3B,CACA,oBAAqB,CACnB,KAAM,CAAE,cAAA6xB,CAAc,EAAI,KAC1BA,EAAc,KAAK,QAAU,EAC/B,CACA,sBAAuB,CACrB,GAAI,CAAC,KAAK,eACR,OACF,KAAM,CAAE,gBAAAqF,CAAgB,EAAI,KAAK,eACV,KAAK,eAAe,OAAOA,CAAe,EAClD,KAAK,CAAC58C,EAAM0a,IAAU,CACnC1a,EAAK,cAAc0a,CAAK,CAC1B,CAAC,CACH,CACA,kBAAmB,CACjB,GAAI,CAAC,KAAK,eACR,OACF,KAAM,CAAE,gBAAAmiC,CAAgB,EAAI,KAAK,eAC3B,CAAE,MAAOzqD,CAAO,EAAI,KACpBqhB,EAAW,KACU,KAAK,mBAAmB,OAAOopC,CAAe,EACtD,KAAK,CAAC1jB,EAAMze,IAAU,CACvCye,EAAK,GAAKze,EAAM,GAChBye,EAAK,GAAKze,EAAM,GAChBye,EAAK,GAAKze,EAAM,EAChBye,EAAK,GAAKze,EAAM,EAChBye,EAAK,QAAUze,EAAM,GAAKtoB,EAAO,CAAC,EAAIqhB,GAAYiH,EAAM,GAAKtoB,EAAO,CAAC,EAAIqhB,EACzE0lB,EAAK,OAAS,KAAK,KAAK,MACxBA,EAAK,KAAO,OACZA,EAAK,YAAc,CACrB,CAAC,CACH,CACA,iBAAkB,CAChB,GAAI,CAAC,KAAK,eACR,OACF,KAAM,CAAE,eAAA2jB,CAAe,EAAI,KAAK,eACN,KAAK,kBAAkB,OAAOA,CAAc,EACpD,KAAK,CAAC3jB,EAAMze,IAAU,CACtCye,EAAK,cAActsC,EAAcD,EAAgB,CAAC,EAAG8tB,CAAK,EAAG,CAC3D,OAAQ,KAAK,KAAK,MAClB,YAAa,KAAK,KAAK,KACzB,CAAC,CAAC,EACFye,EAAK,GAAKze,EAAM,EAChBye,EAAK,GAAKze,EAAM,EAChBye,EAAK,GAAKze,EAAM,GAChBye,EAAK,GAAKze,EAAM,GAChBye,EAAK,YAAc,KAAK,KAAK,MAC7BA,EAAK,OAAS,KAAK,KAAK,KAC1B,CAAC,CACH,CACA,yBAA0B,CACxB,KAAM,CAAE,WAAAoJ,EAAY,SAAAwa,EAAU,MAAA/Z,EAAO,MAAO5wC,EAAQ,UAAAoqD,CAAU,EAAI,KAC5DptB,EAAQotB,EAAU,MAAM,EACxBje,EAAWyE,EAAM,YAAY,EAC7Bga,EAAgB,KAAK,kBAAkB,OAAOza,EAAanT,EAAQ,CAAC,CAAC,EAC3E,GAAImT,EAAY,CACd,KAAM,CAAE,MAAAntB,EAAO,MAAAvI,CAAM,EAAIkwC,EACnBE,EAAapwC,EAAM,OACzBmwC,EAAc,KAAK,CAAC7jB,EAAMze,EAAOnkB,IAAU,CACzC,MAAMge,EAAI,KAAK,MAAMioC,EAAU,QAAQ9hC,CAAK,CAAC,EAC7Cye,EAAK,GAAK,EACVA,EAAK,GAAK,CAACoF,EAAWgE,EACtBpJ,EAAK,GAAK5kB,EACV4kB,EAAK,GAAK5kB,EACV4kB,EAAK,QAAU5kB,GAAKniB,EAAO,CAAC,GAAKmiB,GAAKniB,EAAO,CAAC,EAC9C,KAAM,CAAE,OAAAqlC,EAAQ,SAAAK,CAAS,EAAIjrB,EAAMtW,EAAQ0mD,CAAU,EACrD9jB,EAAK,OAAS1B,EACd0B,EAAK,YAAc/jB,EACnB+jB,EAAK,SAAWrB,EAChBqB,EAAK,KAAO,MACd,CAAC,CACH,CACF,CACA,eAAgB,CACd,KAAK,gBAAgB,EACrB,KAAK,gBAAgB,EACrB,KAAK,YAAY,EACjB,KAAM,CACJ,MAAOyG,EACP,MAAAoD,EACA,MAAO,CAAE,SAAA3E,CAAS,EAClB,UAAW,CAAE,cAAAiV,CAAc,EAC3B,MAAOlhD,EACP,MAAA07C,EACA,MAAO,CAAE,UAAA/e,EAAahS,GAAMA,EAAE,YAAa,EAAI,CAAC,CAClD,EAAI,KACEmgC,EAAatd,EAAO,MAAM,CAAC,EAC3Bud,EAAWvd,EAAO,MAAM,CAAC,EAEzBrZ,EADc,KAAK,IAAI42B,EAAWD,CAAU,EAClBtd,EAAO,OAAO,QAAU,EAClDwW,EAAY,KAAK,KAAKpT,EAAM,SAAWzc,CAAS,EAChDrN,EAAWyL,GAAU,KAAK,QAAQ,EAClCy4B,EAAe,KAAK,IAAI,KAAK,IAAIlkC,CAAQ,CAAC,EAAI,KAC9CqlB,EAAWyE,EAAM,YAAY,EAC7BhK,EAAa,KAAK,WAClBqkB,EAAiB,KAAK,eACtB9R,EAAS3L,EAAO,MAAM,EACtB0d,EAAaD,EAAiBA,EAAe,MAAQ,CAAC,EACtDE,EAAcF,EAAiBA,EAAe,MAAQ,EAAI,GAC1D,CAAE,gBAAArf,EAAiB,mBAAAH,EAAoB,iBAAAC,CAAiB,EAAIJ,GAAuB,CACvF,SAAUsF,EAAM,SAChB,SAAA3E,EACA,oBAAqBpa,GAAkB/K,EAAW,KAAK,GAAK,CAAC,EAC7D,qBAAsB+K,GAAkB/K,CAAQ,CAClD,CAAC,EACK0jC,EAAkB,CAAC,EACnBY,EAAkBx9C,IACf,CACL,KAAMA,EAAK,KACX,WAAYA,EAAK,WACjB,SAAUA,EAAK,SACf,UAAWA,EAAK,UAChB,WAAYA,EAAK,WACjB,SAAUA,EAAK,SACf,gBAAiBA,EAAK,gBACtB,gBAAiBA,EAAK,gBACtB,KAAMA,EAAK,KACX,UAAWA,EAAK,UAChB,aAAcA,EAAK,aACnB,aAAcA,EAAK,aACnB,aAAcA,EAAK,aACnB,QAASA,EAAK,QACd,EAAGA,EAAK,EACR,EAAGA,EAAK,CACV,GAEIy9C,EAA8B,IAAI,IACxC,IAAIC,EAAoB,EACxB,MAAMza,EAAW,IAAI7F,GACfugB,EAAgB,CAACjjC,EAAOnkB,KAAU,CACtC,IAAIvE,EAYJ,GAXAixC,EAAS,cAAc,CACrB,KAAMD,EAAM,MACZ,WAAYA,EAAM,WAClB,SAAUA,EAAM,SAChB,UAAWA,EAAM,UACjB,WAAYA,EAAM,WAClB,UAAW,SACX,aAAclF,IAAqB,GAAK,SAAW,UACnD,aAAcpjB,EAAM,QAAUsoB,EAAM,SAAW,IAC/C,aAActoB,EAAM,OACtB,CAAC,EACGnkB,KAAU,EAAG,CAEf,GAAI,EAD+Cu3C,GAAM,SAAYvC,EAAO,OAAS,GAEnF,MAAO,GAET,MAAM7R,GAAO4Z,EAAc,KAAKvkB,EAAW,KAAK,wBAAwB,CAAC,EACzEkU,EAAS,cAAc,CACrB,KAAM6K,EAAM,MACZ,WAAYA,EAAM,WAClB,SAAUA,EAAM,SAChB,UAAWA,EAAM,UACjB,WAAYA,EAAM,WAClB,KAAApU,GACA,aAAc,UACd,aAAchf,EAAM,QAAUsoB,EAAM,SAAW,IAC/C,aAActoB,EAAM,OACtB,CAAC,CACH,SAAWnkB,GAAQ6/C,IAAc,EAAG,CAElC,GAAI,EADc17B,EAAM,SAAWtoB,EAAO,CAAC,GAAKsoB,EAAM,SAAWtoB,EAAO,CAAC,GAEvE,MAAO,GAEL4wC,EAAM,UACRC,EAAS,MAAQjxC,EAAKshD,EAAc,KAAKtQ,EAAM,UAAW,CACxD,MAAO,OAAOtoB,EAAM,KAAK,EACzB,MAAAnkB,EACF,CAAC,IAAM,KAAOvE,EAAK,OAAO0oB,EAAM,KAAK,EAErCuoB,EAAS,KAAO,OAAOvoB,EAAM,KAAK,CAEtC,KACE,OAAO,GAET,MAAO,EACT,EACA4iC,EAAW,QAAQ,CAAC5iC,EAAOnkB,KAAU,CAEnC,GAAI,CADconD,EAAcjjC,EAAOnkB,EAAK,EAE1C,OACF,MAAMq9C,GAAQ3Q,EAAS,uBAAuB,EAC9C,GAAI,CAAC2Q,GACH,OACF6J,EAAY,IAAIlnD,GAAOq9C,EAAK,EACb,CAACl5B,EAAM,SAAS,QACjBk5B,GAAM,MAAQ8J,IAC1BA,EAAoB9J,GAAM,MAE9B,CAAC,EACD,MAAM9U,EAASP,EAAWyE,EAAM,QAC1B4a,EAAY,KAAK,MAAM,KACvBC,EAAgB,CAAC,EACvBP,EAAW,QAAQ,CAAC5iC,EAAOnkB,KAAU,CACnC,IAAI6rC,EAAUub,EAAcjjC,EAAOnkB,EAAK,EACxC,MAAMwtB,GAAKxtB,GACX0sC,EAAS,EAAInE,EACbmE,EAAS,gBAAkBnE,EAC3B,MAAMgf,GAAS,CAACpjC,EAAM,SAAS,OAC/B,GAAIojC,GACF7a,EAAS,SAAWpF,EACpBoF,EAAS,UAAY,MACrBA,EAAS,aAAe,aACnB,CACLA,EAAS,cAAgBya,EAAoB1kB,EAAa,KAAK,MAAM,QACrE,MAAMvH,GAAiB/W,EAAM,UAAY6L,EACnCqtB,EAAQ6J,EAAY,IAAI15B,EAAE,EAC5B6vB,GAASA,EAAM,MAAQniB,IACzB2Q,EAAU,GACVqb,EAAY,OAAO15B,EAAE,GACZq5B,EACTna,EAAS,SAAWjF,EAEpBiF,EAAS,SAAW,CAAC,KAAK,GAAK,CAEnC,CACA,GAAIvoB,EAAM,QAAU6iC,EAAa,CAC/B,MAAMhpC,GAAIupC,GAASpjC,EAAM,QAAU6L,EAAY,EAAI7L,EAAM,QAAUA,EAAM,UAAY6L,EAAY,EACjG,GAAIu3B,IACEpjC,EAAM,SAAWA,EAAM,SAAS,OAAS,GAAKkjC,IAChDC,EAAc,KAAK,CACjB,EAAAtpC,GACA,GAAI,EACJ,GAAI,CAACmpC,EAAoB,KAAK,MAAM,QAAU,CAChD,CAAC,MAEE,CACL,MAAMlyD,EAAI,CAACkyD,EAAoB,KAAK,MAAM,QAAU,EAAIhjC,EAAM,QAC9DmjC,EAAc,KAAK,CACjB,EAAAtpC,GACA,GAAI/oB,EAAIwtC,EACR,GAAIxtC,CACN,CAAC,CACH,CACF,CACA,IAAIk4B,GACJ,GAAI0e,EAAS,CACX,MAAMwR,GAAQ3Q,EAAS,uBAAuB,EAC1C2Q,IACF6J,EAAY,IAAIlnD,GAAOq9C,EAAK,EAE9BlwB,GAAQ72B,EAAcD,EAAgB,CAAC,EAAG4wD,EAAeva,CAAQ,CAAC,EAAG,CAAE,QAAAb,CAAQ,CAAC,CAClF,MACEqb,EAAY,OAAOlnD,EAAK,EACxBmtB,GAAQ,CAAE,QAAA0e,CAAQ,EAEpBwa,EAAgB,KAAKl5B,EAAK,CAC5B,CAAC,EACD,IAAIq6B,EAAO,EACXF,EAAc,QAASjsD,GAAMmsD,EAAO,KAAK,IAAIA,EAAMnsD,EAAE,EAAE,CAAC,EACxDisD,EAAc,KAAK,CACjB,EAAG,KAAK,IAAIX,EAAYC,CAAQ,EAChC,GAAI,EACJ,GAAIY,CACN,CAAC,EACD,MAAMlB,EAAkB,CAAC,EACnBmB,EAAiB,CAAC,EAClBvqC,EAAW,KACjBoqC,EAAc,QAASnjC,GAAU,CAC/B,GAAIA,EAAM,GAAKtoB,EAAO,CAAC,EAAIqhB,GAAYiH,EAAM,GAAKtoB,EAAO,CAAC,EAAIqhB,EAAU,CACtE,KAAM,CAAE,GAAAiC,GAAI,GAAAE,EAAI,EAAArB,EAAE,EAAImG,EAChBujC,GAAe,IAAI3nC,EAAK,KAAK,IAAIZ,GAAIE,CAAE,EAAGrB,GAAG,KAAK,IAAImB,GAAKE,CAAE,EAAG,CAAC,EACvEooC,EAAe,KAAKC,EAAY,EAChCpB,EAAgB,KAAK,CAAE,GAAAnnC,GAAI,GAAAE,EAAI,EAAArB,EAAE,CAAC,CACpC,CACF,CAAC,EACD,MAAMuoC,GAAiB,CAAC,EAClBoB,GAAgB,CAAC,EACjBC,GAAYd,EAAiBA,EAAe,MAAQ,EAAI,EAC9D,QAASvyD,EAAI,EAAGA,EAAIqzD,GAAWrzD,IAAK,CAClC,MAAMs3C,GAAUmJ,EAAO,OAAS,IAAMzgD,IAAM,GAAK8yD,GAAaL,GACxD/xD,EAAIV,EAAI,EAAI,CAAC4yD,EAAoB,KAAK,MAAM,QAAU,GAAK5yD,EAAI,GAAKkuC,EAAa,EACjFwa,GAAU,IAAIl9B,EAAK9qB,EAAG,KAAK,IAAI,GAAG4G,CAAM,EAAG,EAAG,KAAK,IAAIA,EAAO,CAAC,EAAIA,EAAO,CAAC,CAAC,CAAC,EACnF8rD,GAAc,KAAK1K,EAAO,EAC1BsJ,GAAe,KAAK,CAAE,EAAAtxD,EAAG,GAAI4G,EAAO,CAAC,EAAG,GAAIA,EAAO,CAAC,EAAG,QAAAgwC,EAAQ,CAAC,CAClE,CACA,MAAMuR,GAAmBC,GAAU,CACjC,MAAM76B,GAAS,IAAImB,GACb,CACJ,SAAU25B,EACV,aAAA16B,GACA,aAAAC,GACA,gBAAAkC,GACA,gBAAAC,EACF,EAAI,KAAK,iBAAiB,EAC1B,OAAArB,GAAO,sBAAsBnB,GAAQ,EAAG,EAAG86B,EAAc16B,GAAcC,GAAc,CACnF,eAAgB,EAChB,eAAgB,EAChB,gBAAAkC,GACA,gBAAAC,EACF,CAAC,EACMxC,GAAO,cAAc66B,CAAK,CACnC,EACM17B,GAAO5B,EAAK,MAAM,CAAC,GAAGmnC,EAAY,OAAO,EAAG,GAAGO,EAAgB,GAAGE,EAAa,CAAC,EAEtF,MAAO,CACL,KAFsBvK,GAAgBz7B,EAAI,EAG1C,gBAAA0kC,EACA,gBAAAC,EACA,eAAAC,EACF,CACF,CACA,iBAAkB,CAChB,KAAM,CAAE,eAAAA,EAAgB,gBAAAD,EAAiB,gBAAAD,EAAiB,KAAA1kC,CAAK,EAAI,KAAK,cAAc,EACtF,YAAK,eAAiB,CACpB,eAAA4kC,EACA,gBAAAD,EACA,gBAAAD,CACF,EACO,CAAE,KAAA1kC,EAAM,iBAAkB,MAAO,CAC1C,CACF,EACAokC,GAAoB,UAAY,sBAChCA,GAAoB,KAAO,mBAC3BnvD,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAG+yB,GAAoB,UAAW,aAAc,CAAC,EACjD,SAAS8B,IAA6B,CACpC,GAAI,OAAO,UAAc,IACvB,MAAO,GAET,MAAMC,EAAgB,UAAU,UAAU,MAAM,uDAAuD,EACvG,GAAIA,GAAiB,KACnB,MAAO,GAET,KAAM,CAACC,EAAOC,CAAK,EAAIF,EAAc,CAAC,EAAE,MAAM,GAAG,EAAE,IAAI,MAAM,EAC7D,OAAOC,EAAQ,IAAMA,IAAU,IAAMC,EAAQ,CAC/C,CACA,IAAIC,GAAc,MAAMC,EAAa,CACnC,YAAYjuD,EAAS,CACnB,KAAK,QAAU,GACf,KAAK,MAAQ,IACb,KAAK,OAAS,IACd,KAAM,CAAE,MAAA4kB,EAAO,OAAAC,EAAQ,WAAA4hB,CAAW,EAAIzmC,EACtC,KAAK,WAAa4tD,GAA2B,EAAI,EAAInnB,GAAkCvqB,GAAU,kBAAkB,EACnH,KAAK,QAAUC,GAAc,QAAQ,EACrC,KAAK,QAAQ,MAAQ,KAAK,OAAOyI,GAAwB,KAAK,OAAS,KAAK,UAAU,EACtF,KAAK,QAAQ,OAAS,KAAK,OAAOC,GAA0B,KAAK,QAAU,KAAK,UAAU,EAC1F,KAAK,QAAU,KAAK,QAAQ,WAAW,IAAI,EAC3C,KAAK,gBAAgB,EACrB,KAAK,OAAOD,GAAwB,EAAGC,GAA0B,CAAC,EAClEopC,GAAa,aAAa,KAAK,OAAO,CACxC,CACA,OAAO,GAAGr0D,EAAO,CACf,OAAOA,aAAiBq0D,EAC1B,CACA,UAAUz3B,EAAS1R,EAAK,EAAGC,EAAK,EAAG,CACjC,OAAOyR,EAAQ,UAAU,KAAK,QAAQ,OAAQ1R,EAAIC,CAAE,CACtD,CACA,UAAUnZ,EAAM,CACd,OAAO,KAAK,QAAQ,UAAUA,CAAI,CACpC,CACA,OAAOgZ,EAAOC,EAAQ,CACpB,GAAI,EAAED,EAAQ,GAAKC,EAAS,GAC1B,OACF,KAAM,CAAE,QAASvI,EAAU,QAAAka,EAAS,WAAAiQ,CAAW,EAAI,KACnDnqB,EAAS,MAAQ,KAAK,MAAMsI,EAAQ6hB,CAAU,EAC9CnqB,EAAS,OAAS,KAAK,MAAMuI,EAAS4hB,CAAU,EAChDjQ,EAAQ,aAAaiQ,EAAY,EAAG,EAAGA,EAAY,EAAG,CAAC,EACvDnqB,EAAS,MAAM,MAAQsI,EAAQ,KAC/BtI,EAAS,MAAM,OAASuI,EAAS,KACjC,KAAK,MAAQD,EACb,KAAK,OAASC,CAChB,CACA,UAAW,CACX,CACA,OAAQ,CACN,KAAK,QAAQ,KAAK,EAClB,KAAK,QAAQ,aAAa,KAAK,WAAY,EAAG,EAAG,KAAK,WAAY,EAAG,CAAC,EACtE,KAAK,QAAQ,UAAU,EAAG,EAAG,KAAK,MAAO,KAAK,MAAM,EACpD,KAAK,QAAQ,QAAQ,CACvB,CACA,SAAU,CACR,KAAK,QAAQ,OAAO,EACpB,KAAK,QAAQ,MAAQ,EACrB,KAAK,QAAQ,OAAS,EACtB,KAAK,QAAQ,UAAU,EAAG,EAAG,EAAG,CAAC,EACjC,OAAO,OAAO,IAAI,CACpB,CACA,kBAAkBla,EAAUrD,EAAU,CACpC,IAAI9F,EAAIiL,EACJ9B,IAAarD,KACd9F,EAAK,KAAK,QAAQ,aAAe,MAAgBA,EAAG,YAAY,KAAK,OAAO,GAC5EiL,EAAK,KAAK,YAAc,MAAgBA,EAAG,YAAY,KAAK,OAAO,EAExE,CACA,iBAAkB,CACZ,KAAK,UACP,KAAK,QAAQ,MAAM,QAAU,KAAK,QAAU,QAAU,OAE1D,CAEA,OAAO,aAAa4b,EAAK,CACvB,GAAI7K,GAAM,MAAM,QAAQ,EAAG,CACzB,MAAM0wC,EAAO7lC,EAAI,KAAK,KAAKA,CAAG,EACxB8lC,EAAU9lC,EAAI,QAAQ,KAAKA,CAAG,EACpC,IAAI2gC,EAAQ,EACZ,OAAO,OAAO3gC,EAAK,CACjB,MAAO,CACL6lC,EAAK,EACLlF,GACF,EACA,SAAU,CACR,GAAIA,IAAU,EACZ,MAAM,IAAI,MAAM,8CAA8C,EAEhEmF,EAAQ,EACRnF,GACF,EACA,iBAAkB,CAChB,GAAIA,IAAU,EACZ,MAAM,IAAI,MAAM,+CAA+CA,CAAK,EAAE,CAE1E,CACF,CAAC,CACH,CACF,CACF,EACArsD,EAAiB,CACf2/C,GAAgBniD,GAAWA,EAAO,gBAAgB,CAAC,CACrD,EAAG6zD,GAAY,UAAW,UAAW,CAAC,EACtCrxD,EAAiB,CACf2/C,GAAe,CAACniD,EAAQwQ,EAAUrD,IAAanN,EAAO,kBAAkBwQ,EAAUrD,CAAQ,CAAC,CAC7F,EAAG0mD,GAAY,UAAW,YAAa,CAAC,EACxC,IAAII,GAAaJ,GACbK,GAAgB,MAAMC,EAAe,CACvC,YAAYC,EAAQC,EAAW,CAC7B,KAAK,OAASD,EACd,KAAK,UAAYC,EACjB,KAAK,MAAQhxC,GAAM,OAAO,GAAM,OAAO,EACvC,KAAK,UAA4B,IAAI,IACrC,KAAK,WAAa,EAClB,KAAK,YAAc,CACrB,CACA,OAAO,WAAW1jB,EAAGC,EAAG,CACtB,IAAIyH,EAAIiL,EACR,OAAOo3B,GACL,CAAC/pC,EAAE,OAAQ,IAAI0H,EAAK1H,EAAE,iBAAmB,KAAO0H,EAAK,CAAC,OAAQ,MAAM,EAAG1H,EAAE,EAAE,EAC3E,CAACC,EAAE,OAAQ,IAAI0S,EAAK1S,EAAE,iBAAmB,KAAO0S,EAAK,CAAC,OAAQ,MAAM,EAAG1S,EAAE,EAAE,EAC3E4pC,EACF,CACF,CACA,IAAI,MAAO,CACT,OAAO,KAAK,UAAU,IACxB,CACA,QAAQ7jC,EAAU,CAChB,MAAM,KAAK,KAAK,UAAU,OAAO,CAAC,EAAE,KAAKwuD,GAAe,UAAU,EAAE,QAAQxuD,CAAQ,CACtF,CACA,OAAO8kB,EAAOC,EAAQ,CACpB,KAAK,OAAO,OAAOD,EAAOC,CAAM,EAChC,KAAK,UAAU,QAAQ,CAAC,CAAE,OAAA0pC,CAAO,IAAMA,EAAO,OAAO3pC,EAAOC,CAAM,CAAC,CACrE,CACA,SAASvV,EAAM,CACb,KAAM,CAAE,MAAAsV,EAAO,OAAAC,EAAQ,WAAA4hB,CAAW,EAAI,KAAK,OACrC,CAAE,OAAAxc,EAAS,KAAK,aAAc,KAAA1wB,EAAM,eAAA2qC,EAAgB,mBAAAuqB,EAAoB,cAAAC,CAAc,EAAIp/C,EAC1Fi/C,EAAS,IAAIH,GAAW,CAAE,MAAAxpC,EAAO,OAAAC,EAAQ,WAAA4hB,CAAW,CAAC,EACrDkoB,EAAW,CACf,GAAI,KAAK,cACT,KAAAp1D,EACA,OAAAg1D,EACA,OAAAtkC,EACA,eAAAia,EACA,mBAAAuqB,EACA,cAAAC,CACF,EACA,OAAIzkC,GAAU,KAAK,aACjB,KAAK,WAAaA,EAAS,GAE7B,KAAK,UAAU,IAAIskC,EAAQI,CAAQ,EACnC,KAAK,MAAM,4BAA6B,KAAK,SAAS,EAC/CA,EAAS,MAClB,CACA,YAAYJ,EAAQ,CACd,KAAK,UAAU,IAAIA,CAAM,IAC3B,KAAK,UAAU,OAAOA,CAAM,EAC5BA,EAAO,QAAQ,EACf,KAAK,UAAU,EACf,KAAK,MAAM,gCAAiC,KAAK,SAAS,EAE9D,CACA,UAAUA,EAAQK,EAAWC,EAAmB,CAC9C,MAAMnqB,EAAQ,KAAK,UAAU,IAAI6pB,CAAM,EACnC7pB,IACFA,EAAM,OAASkqB,EACflqB,EAAM,eAAiBmqB,EACvB,KAAK,UAAU,EACf,KAAK,MAAM,8BAA+B,KAAK,SAAS,EAE5D,CACA,OAAQ,CACN,KAAK,UAAU,MAAM,CACvB,CACF,EACA,SAASC,GAAW3qB,EAAe4qB,EAAiB1mC,EAAK2mC,EAAgBC,EAAkB,CAAC,EAAG,CAC7F,GAAI,CAACzxC,GAAM,MACT,cACA,qBAEF,EACE,OACF,KAAM,CAAE,eAAA0xC,EAAiB,EAAG,cAAAC,EAAgB,EAAG,cAAAC,EAAgB,EAAG,aAAAC,EAAe,CAAE,EAAIL,GAA0C,CAAC,EAC5HluB,EAAM,YAAY,IAAI,EACtBt/B,EAAKutD,EAAiB,CAAE,MAAA1tD,CAAM,EAAIG,EAAI8tD,EAAYhzD,GAAUkF,EAAI,CAAC,OAAO,CAAC,EACzE+tD,EAAS,OAAO,QAAQD,CAAS,EAAE,IAAI,CAAC,CAAC5rC,EAAGvY,CAAC,IAC1CqkD,GAAK9rC,EAAGvY,CAAC,CACjB,EAAE,OAAQlQ,GAAMA,GAAK,IAAI,EAAE,KAAK,KAAK,EAChCw0D,EAAS,OAAO,QAAQR,CAAe,EAAE,IAAI,CAAC,CAACl0D,EAAGE,CAAC,IAAM,GAAGF,CAAC,KAAKE,CAAC,EAAE,EAAE,KAAK,KAAK,EACjFy0D,EAAgBlyC,GAAM,MAC1B,qBAEF,EACM0N,EAAQ,CACZ,GAAGskC,GAAK,eAAgBnuD,EAAOy/B,CAAG,CAAC,KAAKyuB,CAAM,IAC9C,GAAGE,CAAM,GACT,WAAWC,EAAgBC,GAAIT,EAAgBC,CAAa,EAAIhrB,EAAc,IAAI,GAClFurB,EAAgB,UAAUC,GAAIP,EAAeC,CAAY,CAAC,GAAK,IACjE,EAAE,OAAOrmD,EAAQ,EACX4mD,EAAY,IAAI,IAAI1kC,EAAM,IAAK/f,GAAM,CAACA,EAAGyhC,GAAK,YAAYzhC,EAAGkd,EAAI,IAAI,CAAC,CAAC,CAAC,EACxEzD,EAAQ,KAAK,IAAI,GAAG,MAAM,KAAKgrC,EAAU,OAAO,EAAI7tD,GAAMA,EAAE,KAAK,CAAC,EAClE8iB,EAASgrC,GAAWD,EAAU,OAAO,EAAI7tD,GAAMA,EAAE,MAAM,EAC7DsmB,EAAI,KAAK,EACTA,EAAI,UAAY,QAChBA,EAAI,SAAS,EAAG,EAAGzD,EAAOC,CAAM,EAChCwD,EAAI,UAAY,QAChB,IAAItE,EAAI,EACR,SAAW,CAAC+rC,EAAM50C,CAAI,IAAK00C,EAAU,QAAQ,EAC3C7rC,GAAK7I,EAAK,OACVmN,EAAI,SAASynC,EAAM,EAAG/rC,CAAC,EAEzBsE,EAAI,QAAQ,CACd,CACA,SAAS0nC,GAAwB1nC,EAAK2nC,EAAY,CAChD3nC,EAAI,KAAK,EACT,SAAW,CAAC9uB,EAAMiW,CAAI,IAAK,OAAO,QAAQwgD,CAAU,EAAG,CACrD,MAAMtoC,EAAOlY,EAAK,uBAAuB,EACzC,GAAI,CAACkY,EAAM,CACT9mB,EAAO,IAAI,+CAA+CrH,CAAI,IAAI,EAClE,QACF,CACA8uB,EAAI,YAAc,GAClBA,EAAI,YAAc,MAClBA,EAAI,UAAY,EAChBA,EAAI,WAAWX,EAAK,EAAGA,EAAK,EAAGA,EAAK,MAAOA,EAAK,MAAM,EACtDW,EAAI,UAAY,MAChBA,EAAI,YAAc,QAClBA,EAAI,KAAO,kBACXA,EAAI,aAAe,MACnBA,EAAI,UAAY,OAChBA,EAAI,UAAY,EAChBA,EAAI,WAAW9uB,EAAMmuB,EAAK,EAAGA,EAAK,EAAGA,EAAK,KAAK,EAC/CW,EAAI,SAAS9uB,EAAMmuB,EAAK,EAAGA,EAAK,EAAGA,EAAK,KAAK,CAC/C,CACAW,EAAI,QAAQ,CACd,CACA,SAAS4nC,GAAUzgD,EAAM,CACvB,IAAIhO,EAAIiL,EACR,OAAK+Q,GAAM,MACT,GACA,OAEF,EAEOphB,EAAgBA,EAAgB,CACrC,KAAAoT,EACA,MAAOhO,EAAKgO,aAAgBg2B,EAAQh2B,EAAK,KAAO,OAAS,KAAOhO,EAAKgO,EAAK,GAC1E,MAAOuW,GAAWvW,EAAK,KAAK,CAC9B,GAAK/C,EAAK+C,EAAK,SAAW,MAAgB/C,EAAG,UAAa,CACxD,mBAAoBsZ,GAAWvW,EAAK,OAAO,KAAK,EAChD,cAAeA,EAAK,MACtB,EAAI,CAAC,CAAC,EAAGA,EAAK,SAAS,IAAK8X,GAAM2oC,GAAU3oC,CAAC,CAAC,EAAE,OAAO,CAACjtB,EAAQ61D,IAAc,CAC5E,GAAI,CAAE,KAAMC,CAAa,EAAID,EAC7B,KAAM,CACJ,KAAM,CAAE,QAAAte,EAAS,QAAAxN,EAAS,OAAAna,EAAQ,eAAAia,CAAe,EACjD,KAAMksB,EACN,cAAAC,CACF,EAAIH,GACA,CAACte,GAAWxN,GAAW,KACzB+rB,EAAe,IAAIA,CAAY,KAE7BC,aAAqB5qB,GAAS4qB,EAAU,QAAQ,IAClDD,EAAe,IAAIA,CAAY,KAEjC,MAAMx2D,EAAM,CACV,GAAGw2D,GAAsC,WAAW,GACpD,MAAMlmC,CAAM,GACZia,GAAkB,OAAOA,EAAe,IAAKjpC,GAAM,OAAOA,GAAM,WAAa,GAAGA,EAAE,CAAC,QAAUA,CAAC,EAAE,KAAK,KAAK,CAAC,GAC3Go1D,GAAiB,kBACnB,EAAE,OAAQp1D,GAAM,CAAC,CAACA,CAAC,EAAE,KAAK,GAAG,EAC7B,IAAIq1D,EAAc32D,EACdoM,EAAQ,EACZ,KAAO1L,EAAOi2D,CAAW,GAAK,MAAQvqD,EAAQ,KAC5CuqD,EAAc,GAAG32D,CAAG,KAAKoM,GAAO,IAElC,OAAA1L,EAAOi2D,CAAW,EAAIJ,EACf71D,CACT,EAAG,CAAC,CAAC,CAAC,EAlCG,CAAC,CAmCZ,CACA,SAASk2D,GAAe/gD,EAAM,CAC5B,IAAIhO,EACJ,GAAIgO,EAAK,QAAU,EACjB,MAAO,CAAE,UAAW,CAAC,EAAG,MAAO,CAAC,CAAE,EAEpC,MAAMghD,EAAoBhhD,EAAK,SAAS,IAAK8X,GAAMipC,GAAejpC,CAAC,CAAC,EAAE,OAAQA,GAAMA,EAAE,MAAM,OAAS,CAAC,EAChG/tB,EAAOisC,EAAM,GAAGh2B,CAAI,IAAKhO,EAAKgO,EAAK,OAAS,KAAOhO,EAAegO,EAAK,GACvEihD,EAAQD,EAAkB,OAASA,EAAkB,QAASlpC,GAAMA,EAAE,KAAK,EAAE,IAAKiF,GAAM,GAAGhzB,CAAI,IAAIgzB,CAAC,EAAE,EAAI,CAAChzB,CAAI,EACrH,MAAO,CACL,UAAW6C,EAAgB,CACzB,KAAA7C,EACA,KAAAiW,EACA,MAAOuW,GAAWvW,EAAK,KAAK,CAC9B,EAAGghD,EAAkB,IAAKlpC,GAAMA,EAAE,SAAS,EAAE,OAAQnc,GAAMA,EAAE,OAAS,IAAI,EAAE,OAAO,CAAC9Q,EAAQ61D,IAAc,CACxG,IAAIxwC,EACJ,OAAArlB,GAAQqlB,EAAMwwC,EAAU,OAAS,KAAOxwC,EAAM,WAAW,EAAIwwC,EACtD71D,CACT,EAAG,CAAC,CAAC,CAAC,EACN,MAAAo2D,CACF,CACF,CACA,SAASd,GAAIe,EAAUnrB,EAAS,CAC9B,MAAMorB,EAAQD,EAAWnrB,EACzB,MAAO,GAAGmrB,CAAQ,MAAMC,CAAK,KAAK,KAAK,MAAM,IAAMD,EAAWC,CAAK,CAAC,IACtE,CACA,SAASnB,GAAKj2D,EAAM8H,EAAOy/B,EAAK,CAC9B,MAAMnO,EAAWmO,GAAO,KAAOA,EAAMz/B,EAAQA,EAC7C,MAAO,GAAG9H,CAAI,KAAK,KAAK,MAAMo5B,EAAW,GAAG,EAAI,GAAG,IACrD,CACA,SAASk9B,GAAWpwD,EAAU2K,EAAQ,CACpC,IAAIgiC,EAAO,EACX,UAAWniC,KAAQxK,EACjB2sC,GAAQhiC,EAAOH,CAAI,EAErB,OAAOmiC,CACT,CACA,IAAIwkB,GAAQ,KAAM,CAChB,YAAY,CAAE,MAAAhsC,EAAO,OAAAC,EAAQ,WAAA4hB,CAAW,EAAG,CACzC,KAAK,MAAQjpB,GAAM,OACjB,GACA,OAEF,EACA,KAAK,GAAK8E,GAAS,IAAI,EACvB,KAAK,KAAO,KACZ,KAAK,QAAU,GACf,KAAK,OAAS,IAAI8rC,GAAW,CAAE,MAAAxpC,EAAO,OAAAC,EAAQ,WAAA4hB,CAAW,CAAC,EAC1D,KAAK,cAAgB,IAAI4nB,GAAc,KAAK,OAAQ,IAAM,CACxD,KAAK,QAAU,EACjB,CAAC,CACH,CACA,IAAI,OAAQ,CACV,IAAI7sD,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,cAAgB,KAAO,OAASA,EAAG,CAAC,IAAM,KAAOiL,EAAK,KAAK,OAAO,KAC5F,CACA,IAAI,QAAS,CACX,IAAIjL,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,cAAgB,KAAO,OAASA,EAAG,CAAC,IAAM,KAAOiL,EAAK,KAAK,OAAO,MAC5F,CACA,aAAa7S,EAAO,CAClB,YAAK,OAAO,UAAYA,EACjB,IACT,CACA,QAAQ4V,EAAM,CACZ,IAAIhO,EACJ,OAAI,KAAK,OAASgO,EACT,MAET,KAAK,QAAU,IACdhO,EAAK,KAAK,OAAS,MAAgBA,EAAG,iBAAiB,EACxD,KAAK,KAAOgO,EACRA,IACFA,EAAK,QAAU,GACfA,EAAK,iBAAiB,KAAK,aAAa,GAEnC,KACT,CACA,WAAWA,EAAM,CACf,IAAIhO,EACJ,OAACA,EAAK,KAAK,OAAS,MAAgBA,EAAG,YAAYgO,CAAI,EAChD,IAAM,KAAK,YAAYA,CAAI,CACpC,CACA,YAAYA,EAAM,CAChB,IAAIhO,EACJ,OAACA,EAAK,KAAK,OAAS,MAAgBA,EAAG,YAAYgO,CAAI,EAChD,IACT,CACA,YAAYA,EAAM,CAChB,IAAIhO,EACJ,OAACA,EAAK,KAAK,OAAS,MAAgBA,EAAG,YAAYgO,CAAI,EAChD,IACT,CACA,SAASiN,EAAUo0C,EAAY,CAC7B,IAAIrvD,EACJ+a,GAAY,KAAK,OAAO,UAAUs0C,CAAU,GAAIrvD,EAAiCib,GAAS,KAAK,IAAM,KAAOjb,EAAK,OAAO,CAC1H,CAEA,WAAWqvD,EAAY,CACrB,OAAO,KAAK,OAAO,UAAUA,CAAU,CACzC,CACA,OAAOjsC,EAAOC,EAAQ,CAGpB,OAFAD,EAAQ,KAAK,MAAMA,CAAK,EACxBC,EAAS,KAAK,MAAMA,CAAM,EACtBD,EAAQ,GAAKC,EAAS,IAAMD,IAAU,KAAK,OAASC,IAAW,KAAK,SACtE,KAAK,YAAc,CAACD,EAAOC,CAAM,EACjC,KAAK,QAAU,GACR,IAEF,EACT,CACA,OAAOvV,EAAM,CACX,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,KAAM,CAAE,gBAAAsiD,EAAkB,CAAE,MAAO,YAAY,IAAI,CAAE,EAAG,gBAAAE,CAAgB,EAAI3/C,GAAsB,CAAC,EAC7F,CAAE,OAAAi/C,EAAQ,OAAQ,CAAE,QAASlmC,CAAI,EAAI,CAAC,EAAG,KAAA0gC,EAAM,YAAA+H,CAAY,EAAI,KACrE,GAAI,CAACzoC,EACH,OAEF,MAAM0oC,EAAkB,YAAY,IAAI,EAKxC,GAJID,IACF,KAAK,cAAc,OAAO,GAAGA,CAAW,EACxC,KAAK,YAAc,QAEjB/H,GAAQ,CAACA,EAAK,QAAS,CACzB,KAAK,QAAU,GACf,MACF,CACA,GAAIA,GAAQ,CAAC,KAAK,QAAS,CACrB,KAAK,MAAM,MAAM,GACnB,KAAK,MAAM,yBAA0B,CACnC,WAAYhjC,GAAWgjC,EAAK,KAAK,EACjC,KAAMkH,GAAUlH,CAAI,CACtB,CAAC,EAEH+F,GAAW,KAAK,cAAeC,EAAiB1mC,EAAK,OAAQ4mC,CAAe,EAC5E,MACF,CACA,MAAMhkC,EAAY,CAChB,IAAA5C,EACA,kBAAmB7mB,EAAK,KAAK,OAAO,aAAe,KAAOA,EAAK,EAC/D,YAAa,GACb,QAAS,EAAQsvD,EACjB,WAAY,CAAC,CACf,EACItzC,GAAM,MACR,qBAEF,IACEyN,EAAU,MAAQ,CAAE,eAAgB,EAAG,cAAe,EAAG,cAAe,EAAG,aAAc,CAAE,GAE7F,IAAI+lC,EAAgB,GAKpB,IAJI,CAACjI,GAAQA,EAAK,OAAS,KACzBiI,EAAgB,GAChBzC,EAAO,MAAM,GAEXxF,GAAQvrC,GAAM,MAChB,iBAEF,EAAG,CACD,KAAM,CAAE,UAAAyzC,EAAW,MAAAR,CAAM,EAAIF,GAAexH,CAAI,EAChDvrC,GAAM,OACJ,iBAEF,EAAE,6BAA8B,CAAE,UAAAyzC,EAAW,MAAAR,CAAM,CAAC,CACtD,CAeA,GAdI1H,GAAQiI,IACV,KAAK,MAAM,0BAA2B,CACpC,WAAYjrC,GAAWgjC,EAAK,KAAK,EACjC,cAAAiI,EACA,KAAMf,GAAUlH,CAAI,CACtB,CAAC,EACGA,EAAK,UACPA,EAAK,UAAU,EACf1gC,EAAI,KAAK,EACT0gC,EAAK,OAAO99B,CAAS,EACrB5C,EAAI,QAAQ,IAGhB0mC,EAAgB,cAAc,EAAI,YAAY,IAAI,EAAIgC,EAClD,KAAK,cAAc,MAAQC,EAAe,CAC5C,MAAME,EAAmB,YAAY,IAAI,EACzC7oC,EAAI,KAAK,EACTA,EAAI,eAAe,EACnB,KAAK,cAAc,QAASqc,GAAU,CAChCA,EAAM,OAAO,SAAWA,EAAM,cAAc,IAC9Crc,EAAI,YAAcqc,EAAM,mBAAmB,EAC3CA,EAAM,OAAO,UAAUrc,CAAG,EAE9B,CAAC,EACDA,EAAI,QAAQ,EACZ0mC,EAAgB,QAAQ,EAAI,YAAY,IAAI,EAAImC,CAClD,EACCzkD,EAAK4b,EAAI,kBAAoB,MAAgB5b,EAAG,KAAK4b,CAAG,EACzD,KAAK,QAAU,GACfymC,GAAW,KAAK,cAAeC,EAAiB1mC,EAAK4C,EAAU,MAAOgkC,CAAe,EACrFc,GAAwB1nC,EAAK4C,EAAU,UAAU,EAC7C89B,GAAQ,KAAK,MAAM,MAAM,GAC3B,KAAK,MAAM,yBAA0B,CACnC,WAAYhjC,GAAWgjC,EAAK,KAAK,EACjC,KAAMkH,GAAUlH,CAAI,EACpB,cAAAiI,CACF,CAAC,CAEL,CAAC,CACH,CAEA,OAAQ,CACN,KAAM,CAAE,QAAAx6B,EAAS,WAAAiQ,CAAW,EAAI,KAAK,OACrCjQ,EAAQ,aAAaiQ,EAAY,EAAG,EAAGA,EAAY,EAAG,CAAC,EACvD,KAAK,cAAc,MAAM,EACzB,KAAK,QAAQ,IAAI,EACjB,KAAK,QAAU,EACjB,CACA,SAAU,CACR,KAAK,OAAO,UAAY,OACxB,KAAK,MAAM,EACX,KAAK,OAAO,QAAQ,EACpB,OAAO,OAAO,KAAM,CAAE,OAAQ,MAAO,CAAC,CACxC,CACF,EACAmqB,GAAM,UAAY,QAClB,IAAIO,GAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqChBC,GAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAehBC,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqDxBC,GAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgB7BC,GAAiB;AAAA;AAAA,EAEnBH,EAAa;AAAA;AAAA;AAAA,EAGbD,EAAa;AAAA;AAAA;AAAA,EAGbE,EAAqB;AAAA;AAAA;AAAA,EAGrBC,EAA0B;AAAA,EAE5B,SAASE,GAAMC,EAAgB,CAC7B,OAAO,IAAI,QAASv2D,GAAY,CAC9B,WAAW,IAAMA,EAAQ,MAAM,EAAGu2D,CAAc,CAClD,CAAC,CACH,CACA,IAAIC,GAAQ,KAAM,CAChB,aAAc,CACZ,KAAK,UAAY,GACjB,KAAK,aAAe,CAAC,CACvB,CACA,QAAQC,EAAI,CACV,OAAO,IAAI,QAASz2D,GAAY,CAC9B,KAAK,aAAa,KAAK,CAACy2D,EAAIz2D,CAAO,CAAC,EAChC,KAAK,WACP,KAAK,aAAa,EAAE,MAAOmC,GAAMuD,EAAO,UAAUvD,CAAC,CAAC,CAExD,CAAC,CACH,CACA,mBAAmBs0D,EAAI,CACrB,OAAO70D,EAAQ,KAAM,KAAM,WAAa,CACtC,OAAK,KAAK,WAGV,MAAM,KAAK,QAAQ60D,CAAE,EACd,IAHE,EAIX,CAAC,CACH,CACA,0BAA2B,CACzB,OAAO70D,EAAQ,KAAM,KAAM,WAAa,CACtC,OAAO,KAAK,QAAQ,IAAMA,EAAQ,KAAM,KAAM,WAAa,CAE3D,CAAC,CAAC,CACJ,CAAC,CACH,CACA,cAAe,CACb,OAAOA,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,KAAK,UAAY,GACjB,GAAI,CAAC0d,EAAMynC,CAAI,GAAKpwD,EAAK,KAAK,aAAa,MAAM,IAAM,KAAOA,EAAK,CAAC,EACpE,KAAO2oB,GAAM,CACX,GAAI,CACF,MAAMA,EAAK,EACaynC,IAAK,CAC/B,OAASlhD,EAAO,CACd9P,EAAO,MAAM,uBAAwB8P,CAAK,EAClBkhD,IAAK,CAC/B,CACA,CAACznC,EAAMynC,CAAI,GAAKnlD,EAAK,KAAK,aAAa,MAAM,IAAM,KAAOA,EAAK,CAAC,CAClE,CACA,KAAK,UAAY,EACnB,CAAC,CACH,CACF,EACIolD,GAAa,KAAM,CACrB,aAAc,CACZ,KAAK,eAAiC,IAAI,GAC5C,CACA,iBAAiBC,EAAWC,EAAU,CACpC,GAAI,OAAOA,GAAa,WACtB,MAAM,IAAI,MAAM,yCAAyC,EAE3D,MAAMC,EAAqB,KAAK,eAAe,IAAIF,CAAS,EACxDE,EACFA,EAAmB,IAAID,CAAQ,EAE/B,KAAK,eAAe,IAAID,EAA2B,IAAI,IAAI,CAACC,CAAQ,CAAC,CAAC,CAE1E,CACA,oBAAoBnmD,EAAMmmD,EAAU,CAClC,IAAIvwD,GACHA,EAAK,KAAK,eAAe,IAAIoK,CAAI,IAAM,MAAgBpK,EAAG,OAAOuwD,CAAQ,EACtE,KAAK,eAAe,OAAS,GAC/B,KAAK,eAAe,OAAOnmD,CAAI,CAEnC,CACA,iBAAiBA,EAAM,CACrB,OAAO,KAAK,eAAe,IAAIA,CAAI,CACrC,CACA,qBAAsB,CACpB,KAAK,eAAe,MAAM,CAC5B,CACA,UAAU4nC,EAAO,CACf,IAAIhyC,GACHA,EAAK,KAAK,eAAe,IAAIgyC,EAAM,IAAI,IAAM,MAAgBhyC,EAAG,QAASuwD,GAAaA,EAASve,CAAK,CAAC,CACxG,CACF,EACIye,GAAU,cAAcjkD,EAAe,CACzC,YAAY2X,EAAM,EAAGrK,EAAQqK,EAAKC,EAASD,EAAKtK,EAAOC,EAAO,CAC5D,MAAM,EACN,KAAK,IAAMqK,EACX,KAAK,MAAQrK,EACb,KAAK,OAASsK,EACd,KAAK,KAAOvK,CACd,CACA,OAAQ,CACN,KAAK,IAAM,KAAK,MAAQ,KAAK,OAAS,KAAK,KAAO,CACpD,CACF,EACA1e,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGi6B,GAAQ,UAAW,MAAO,CAAC,EAC9Bt1D,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGi6B,GAAQ,UAAW,QAAS,CAAC,EAChCt1D,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGi6B,GAAQ,UAAW,SAAU,CAAC,EACjCt1D,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGi6B,GAAQ,UAAW,OAAQ,CAAC,EAC/B,SAASC,GAAwBP,EAAI,CACnC,OAAOQ,GAAe,CAACC,EAASC,IAAa,sBAAsBD,CAAO,EAAGT,CAAE,CACjF,CACA,SAASW,GAAkBX,EAAI,CAC7B,OAAOQ,GAAe,CAACC,EAASG,EAAU,IAAM,WAAWH,EAASG,CAAO,EAAGZ,CAAE,CAClF,CACA,SAASQ,GAAeK,EAAYb,EAAI,CACtC,IAAIc,EAAgB,EAChBC,EAAiB,GACjBC,EACAC,EACJ,MAAMC,EAAO,IACJH,EAEHd,EAAO,IAAM,CACjBc,EAAiB,GACeE,IAAa,EAC7CA,EAAe,OACfD,EAAkB,OACdF,EAAgB,GAClBD,EAAWM,CAAU,CAEzB,EACMA,EAAa,IAAM,CACvB,MAAMhzC,EAAQ2yC,EACdA,EAAgB,EAChBC,EAAiB,GACjB,MAAMK,EAAepB,EAAG,CAAE,MAAA7xC,CAAM,CAAC,EACjC,GAAI,CAACizC,EAAc,CACjBnB,EAAK,EACL,MACF,CACAmB,EAAa,KAAKnB,EAAMA,CAAI,CAC9B,EACA,MAAO,CACL,SAASW,EAAS,CACZE,IAAkB,GAAK,CAACI,EAAK,GAC/BL,EAAWM,EAAYP,CAAO,EAEhCE,GACF,EACA,OAAQ,CACN,OAAO31D,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAK+1D,EAAK,EAQV,IALIF,GAAmB,OACrBA,EAAkB,IAAI,QAASz3D,GAAY,CACzC03D,EAAe13D,CACjB,CAAC,GAEI23D,EAAK,GACV,MAAMF,CAEV,CAAC,CACH,CACF,CACF,CACA,IAAIK,GAAc,KAAM,CACtB,aAAc,CACZ,KAAK,SAA2B,IAAI,IACpC,KAAK,cAAgB,GACrB,KAAK,sBAAwB,CAAC,EAC9B,KAAK,OAAS,IAAM,CAClB,KAAK,cAAgB,GACrB,KAAK,sBAAsB,QAAQ,CAAC,CAACxrC,EAAImqC,CAAE,IAAM,KAAK,QAAQnqC,EAAImqC,CAAE,CAAC,EACrE,KAAK,sBAAwB,CAAC,CAChC,EACA,IAAInwD,EACA,OAAO,eAAmB,MAE9B,KAAK,eAAiB,IAAI,eAAgByxD,GAAY,CACpD,SAAW,CAAE,OAAA94D,EAAQ,YAAA+4D,CAAY,IAAKD,EAAS,CAC7C,KAAM,CAAE,MAAAruC,EAAO,OAAAC,CAAO,EAAIquC,EAC1B,KAAK,UAAU,KAAK,SAAS,IAAI/4D,CAAM,EAAGA,EAAQyqB,EAAOC,CAAM,CACjE,CACF,CAAC,EACD,KAAK,cAAgB7I,GAAY,YAAY,IAAM,WAC9C,KAAK,gBACPxa,EAAK0a,GAAU,IAAM,MAAgB1a,EAAG,iBAAiB,OAAQ,KAAK,MAAM,EAEjF,CACA,SAAU,CACR,IAAIA,EAAIiL,GACPjL,EAAK0a,GAAU,IAAM,MAAgB1a,EAAG,oBAAoB,OAAQ,KAAK,MAAM,GAC/EiL,EAAK,KAAK,iBAAmB,MAAgBA,EAAG,WAAW,EAC5D,KAAK,eAAiB,IACxB,CACA,UAAUmsC,EAAOt8B,EAAUsI,EAAOC,EAAQ,CACxC,IAAIrjB,EAAIiL,EACHmsC,IAEDh0B,MAAYpjB,EAAKo3C,EAAM,OAAS,KAAO,OAASp3C,EAAG,QAAUqjB,MAAapY,EAAKmsC,EAAM,OAAS,KAAO,OAASnsC,EAAG,WACnHmsC,EAAM,KAAO,CAAE,MAAAh0B,EAAO,OAAAC,CAAO,EAC7B+zB,EAAM,GAAGA,EAAM,KAAMt8B,CAAQ,EAEjC,CAEA,QAAQA,EAAUq1C,EAAI,CACpB,IAAInwD,EACJ,GAAI,CAAC,KAAK,cAAe,CACvB,KAAK,sBAAsB,KAAK,CAAC8a,EAAUq1C,CAAE,CAAC,EAC9C,MACF,CACI,KAAK,SAAS,IAAIr1C,CAAQ,EAC5B,KAAK,gBAAgBA,CAAQ,GAE5B9a,EAAK,KAAK,iBAAmB,MAAgBA,EAAG,QAAQ8a,CAAQ,EAEnE,KAAK,SAAS,IAAIA,EAAU,CAAE,GAAAq1C,CAAG,CAAC,CACpC,CACA,UAAUr1C,EAAU,CAClB,IAAI9a,GACHA,EAAK,KAAK,iBAAmB,MAAgBA,EAAG,UAAU8a,CAAQ,EACnE,KAAK,SAAS,OAAOA,CAAQ,EAC7B,KAAK,gBAAgBA,CAAQ,EACxB,KAAK,SAAS,MACjB,KAAK,QAAQ,CAEjB,CACA,gBAAgBA,EAAU,CACxB,KAAK,sBAAwB,KAAK,sBAAsB,OAAO,CAAC,CAACkL,CAAE,IAAMA,IAAOlL,CAAQ,CAC1F,CACF,EACI62C,GAAgB,KAAM,CACxB,aAAc,CACZ,KAAK,MAAwB,IAAI,OACnC,CACA,KAAKxyD,KAAOgP,EAAQ,CAClB,IAAIm4B,EACAsrB,EAAa,KAAK,MAAM,IAAIzyD,CAAE,EAClC,MAAM0yD,EAAS,IAAM,CACnB,GAAI,CACF,MAAMh5D,EAASsG,EAAG,GAAGgP,CAAM,EAC3B,OAAIyjD,GAActrB,GAAoB,MACpCsrB,EAAW,IAAItrB,EAAkBztC,CAAM,EAElCA,CACT,OAASgD,EAAG,CACVuD,EAAO,SAAS,kCAAmCvD,CAAC,EACpD,MACF,CACF,EACA,GAAI,CACFyqC,EAAmB,KAAK,UAAUn4B,CAAM,CAC1C,MAAY,CACV,OAAO0jD,EAAO,CAChB,CAKA,OAJID,GAAc,OAChBA,EAA6B,IAAI,IACjC,KAAK,MAAM,IAAIzyD,EAAIyyD,CAAU,GAE1BA,EAAW,IAAItrB,CAAgB,EAG7BsrB,EAAW,IAAItrB,CAAgB,EAF7BurB,EAAO,CAGlB,CACA,iBAAkB,CAChB,KAAK,MAAwB,IAAI,OACnC,CACF,EACIC,GAAoB,KAAM,CAC5B,YAAYC,EAAgB,CAC1B,KAAK,eAAiBA,CACxB,CACA,WAAW/jD,EAAM,CACf,YAAK,eAAe,OAAOA,CAAI,EACxB,IAAM,CACX,IAAIhO,EACJ,OAACA,EAAK,KAAK,iBAAmB,MAAgBA,EAAG,YAAYgO,CAAI,EAC1D,IACT,CACF,CACA,oBAAoB4a,EAAQ,CAC1B,KAAK,OAASA,CAChB,CACA,wBAAwBxe,EAAM,CAC5B,IAAIpK,EACJ,OAAQA,EAAK,KAAK,SAAW,KAAO,OAASA,EAAGoK,CAAI,CACtD,CACF,EACI4nD,GAAY,KAAM,CACpB,aAAc,CACZ,KAAK,oBAAsC,IAAI,GACjD,CACA,YAAY1B,EAAW2B,EAAS,CAC9B,MAAM1hD,EAAS,CAAE,OAAQ,OAAO+/C,CAAS,EAAG,QAAA2B,CAAQ,EACpD,OAAI,KAAK,oBAAoB,IAAI3B,CAAS,EACxC,KAAK,oBAAoB,IAAIA,CAAS,EAAE,KAAK//C,CAAM,EAEnD,KAAK,oBAAoB,IAAI+/C,EAAW,CAAC//C,CAAM,CAAC,EAE3C,IAAM,KAAK,eAAeA,EAAO,MAAM,CAChD,CACA,eAAe2hD,EAAa,CAC1B,SAAW,CAAC9nD,EAAM+nD,CAAS,IAAK,KAAK,oBAAoB,QAAQ,EAAG,CAClE,MAAMC,EAAaD,EAAU,UAAW5B,GAAaA,EAAS,SAAW2B,CAAW,EACpF,GAAIE,GAAc,EAAG,CACnBD,EAAU,OAAOC,EAAY,CAAC,EAC1BD,EAAU,SAAW,GACvB,KAAK,oBAAoB,OAAO/nD,CAAI,EAEtC,KACF,CACF,CACF,CACA,SAASkmD,KAAcniD,EAAQ,CAC7B,UAAWoiD,KAAY,KAAK,mBAAmBD,CAAS,EACtD,GAAI,CACFC,EAAS,QAAQ,GAAGpiD,CAAM,CAC5B,OAAStS,EAAG,CACVuD,EAAO,UAAUvD,CAAC,CACpB,CAEJ,CACA,qBAAqBy0D,EAAW+B,KAAWlkD,EAAQ,CACjD,UAAWoiD,KAAY,KAAK,mBAAmBD,CAAS,EACtD,GAAI,CACF+B,EAAO9B,EAAS,QAAS,GAAGpiD,CAAM,CACpC,OAAStS,EAAG,CACVuD,EAAO,UAAUvD,CAAC,CACpB,CAEJ,CACA,mBAAmBy0D,EAAW,CAC5B,IAAItwD,EACJ,OAAQA,EAAK,KAAK,oBAAoB,IAAIswD,CAAS,IAAM,KAAOtwD,EAAK,CAAC,CACxE,CACA,SAAU,CACR,KAAK,oBAAoB,MAAM,CACjC,CACF,EACIsyD,GAAc,cAAcN,EAAU,CACxC,YAAYhiC,EAAkB,CAC5B,MAAM,EACN,KAAK,iBAAmBA,EACxB,KAAK,mBAAqB,GAC1B,KAAK,iBAAmB,EACxB,KAAK,gBAAkB,IACvB,KAAK,qBAAuB,GAC5B,KAAK,cAAgB,GACrB,KAAK,cAAgB,CAAC,EACtB,KAAK,eAAiB,EACtB,KAAK,MAAQhU,GAAM,OAAO,GAAM,aAAc,aAAa,EAC3D,KAAK,eAAiB,KAAK,qBAAqB,KAAK,eAAe,EACpE,KAAK,kBAAoB,KAAK,wBAAwB,KAAK,gBAAgB,CAC7E,CACA,eAAeu2C,EAAoB,CAC7B,OAAOA,GAAuB,aAElC,KAAK,MAAM,4CAA4C,EACvD,KAAK,mBAAqBA,EAC1B,KAAK,qBAAuB,GAC5B,KAAK,iBAAiB,KAAK,EAC3B,KAAK,SAAS,oBAAoB,EACpC,CACA,eAAgB,CACd,KAAK,mBAAqB,MAC5B,CACA,KAAKpkD,EAAQ,CACX,KAAK,cAAgB,GACrB,KAAK,eAAeA,CAAM,CAC5B,CACA,QAAS,CACP,OAAO,KAAK,oBAAsB,IACpC,CACA,WAAY,CACV,OAAO,KAAK,OAAO,IAAM,KAAK,sBAAwB,KAAK,cAC7D,CACA,qBAAqBqkD,EAAiB,CACpC,OAAOn0D,GAAU8P,GAAW,KAAK,MAAMA,CAAM,EAAGqkD,EAAiB,CAC/D,QAAS,GACT,SAAU,EACZ,CAAC,CACH,CACA,wBAAwBC,EAAkB,CACxC,OAAOp0D,GACL,CAAC0zB,EAAI5iB,IAAS,CACZ,KAAK,MAAM,2CAA2C4iB,CAAE,EAAE,EAC1D,KAAK,SAAS,YAAa,CAAE,KAAM,YAAa,KAAA5iB,CAAK,CAAC,CACxD,EACAsjD,EACA,CACE,QAAS,GACT,SAAU,EACZ,CACF,CACF,CACA,MAAMtkD,EAAQ,CACZ,OAAO7S,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAI,CAAC,KAAK,mBACR,MAAM,IAAI,MAAM,6DAA6D,EAE/E,MAAMuE,EAAQ,YAAY,IAAI,EACxBkyB,EAAK,KAAK,iBAChB,KAAK,MAAM,8BAA8BA,CAAE,EAAE,EAC7C,KAAK,cAAc,KAAKA,CAAE,EAC1B,IAAI2gC,EACJ,GAAI,CACFA,EAAW,MAAM,KAAK,mBAAmBvkD,CAAM,EAC/C,KAAK,MAAM,4BAA4B,YAAY,IAAI,EAAItO,CAAK,QAAQkyB,CAAE,EAAE,CAC9E,OAAS7iB,EAAO,CACd,KAAK,MAAM,kCAAkC6iB,CAAE,EAAE,EACjD3yB,EAAO,UAAU,mCAAmC8P,CAAK,GAAG,CAC9D,CACA,KAAK,qBAAuB,GAC5B,MAAMyjD,EAAe,KAAK,cAAc,UAAWC,GAAQA,IAAQ7gC,CAAE,EACrE,GAAI4gC,IAAiB,IAAM,KAAK,oBAAsBA,IAAiB,KAAK,cAAc,OAAS,EAAG,CACpG,KAAK,MAAM,4CAA4C5gC,CAAE,EAAE,EAC3D,MACF,CACA,KAAK,cAAgB,KAAK,cAAc,MAAM4gC,EAAe,CAAC,EAC1D,KAAK,cAAc,SAAW,IAChC,KAAK,cAAgB,IAEnB,MAAM,QAAQD,CAAQ,EACxB,KAAK,kBAAkB3gC,EAAI2gC,CAAQ,EAEnC,KAAK,SAAS,YAAY,CAE9B,CAAC,CACH,CACF,EACAv3D,EAAiB,CACfu/C,GAAY,CACV,SAAS+X,EAAkB,CACzB,KAAK,kBAAoB,KAAK,wBAAwBA,CAAgB,CACxE,CACF,CAAC,CACH,EAAGH,GAAY,UAAW,mBAAoB,CAAC,EAC/Cn3D,EAAiB,CACfu/C,GAAY,CACV,SAAS8X,EAAiB,CACxB,KAAK,eAAiB,KAAK,qBAAqBA,CAAe,CACjE,CACF,CAAC,CACH,EAAGF,GAAY,UAAW,kBAAmB,CAAC,EAC9C,IAAIO,GAAiB,KAAM,CACzB,YAAYC,EAAkB,CAC5B,KAAK,iBAAmBA,EACxB,KAAK,MAAQ92C,GAAM,OAAO,GAAM,WAAW,EAC3C,KAAK,YAA8B,IAAI,IACvC,KAAK,WAA6B,IAAI,IACtC,KAAK,aAAe,EACpB,KAAK,OAAS,IAAI,IAAI2S,GAAY,IAAK5D,GAAM,CAACA,EAAG,CAAC,CAAC,CAAC,CAAC,EACrD,KAAK,eAAiB,GACtB,KAAK,sBAAwB,EAC7B,KAAK,QAAU,EACjB,CACA,IAAI,MAAO,CACT,OAAO,KAAK,YAAY,IAC1B,CACA,UAAW,CACT,OAAO,KAAK,YAAY,KAAO,CACjC,CACA,sBAAuB,CACrB,IAAI/qB,EACJ,OAAQA,EAAK,KAAK,OAAO,IAAI2uB,GAAY,KAAK,YAAY,CAAC,IAAM,KAAO3uB,EAAK,CAAC,CAChF,CACA,mBAAmB+xB,EAAI,CACjBA,GAAM,MAAQ,KAAK,YAAY,IAAIA,CAAE,IACvC,KAAK,YAAY,IAAIA,CAAE,EAAE,KAAK,EAC9B,KAAK,MAAM,iEAAiEA,CAAE,EAAE,EAChF,KAAK,KAAK,EAEd,CACA,aAAaghC,EAAW,CACtB,IAAI/yD,EACJ,GAAI+yD,EAAU,WACZ,OAEF,GAD0BpkC,GAAY,QAAQokC,EAAU,KAAK,EACrC,KAAK,aAAc,CACzC,KAAK,MAAM,uDAAwDA,EAAU,EAAE,EAC/EA,EAAU,KAAK,EACf,MACF,CACA,KAAK,YAAY,IAAIA,EAAU,GAAIA,CAAS,GAC3C/yD,EAAK,KAAK,OAAO,IAAI+yD,EAAU,KAAK,IAAM,MAAgB/yD,EAAG,KAAK+yD,CAAS,CAC9E,CACA,gBAAgBA,EAAW,CACzB,KAAK,YAAY,OAAOA,EAAU,EAAE,EACpC,MAAM/hC,EAAQ,KAAK,OAAO,IAAI+hC,EAAU,KAAK,EACvCxuD,EAAiCysB,GAAM,QAAQ+hC,CAAS,EAC1DxuD,GAAS,MAAQA,GAAS,GACHysB,GAAM,OAAOzsB,EAAO,CAAC,CAElD,CACA,SAASyuD,EAAW,CAClB,GAAI,CAAC,KAAK,QACR,OACF,IAAIC,EAAaD,IAAc,EAAI,IAAOA,EAC1C,MAAME,EAAU,IAAM,CACpB,MAAMC,EAASxkC,GAAY,KAAK,YAAY,EAC5C,MAAO,CACL,iBAAkB,CAAC,GAAG,KAAK,qBAAqB,CAAC,EACjD,MAAOwkC,EACP,UAAWvkC,GAAeukC,CAAM,CAClC,CACF,EACA,GAAI,CAAE,MAAAniC,EAAO,iBAAAoiC,EAAkB,UAAAC,CAAU,EAAIH,EAAQ,EACrD,MAAMI,EAAoB,IAAM3kC,GAAY,KAAK,YAAY,GAAK,KAC5D4kC,EAAgB,IAAM,CAE1B,IADC,CAAE,MAAAviC,EAAO,iBAAAoiC,EAAkB,UAAAC,CAAU,EAAIH,EAAQ,EAC3C,CAACI,EAAkB,GAAKF,EAAiB,SAAW,GACzD,KAAK,eACJ,CAAE,MAAApiC,EAAO,iBAAAoiC,EAAkB,UAAAC,CAAU,EAAIH,EAAQ,EAClD,KAAK,MAAM,sCAAsCliC,CAAK,GAAI,CAAE,WAAAiiC,CAAW,EAAGG,CAAgB,CAE9F,EACMjE,EAAQ,KAAK,YAAY,KAC/B,KAAK,MAAM,oBAAoB6D,CAAS,aAAahiC,CAAK,SAA6CoiC,GAAiB,MAAM,OAAOjE,CAAK,EAAE,EAC5I,EAAG,CACD,MAAMqE,EAAiBP,EACjBQ,EAAYJ,EAAU,2BAA6B,KAAK,wBAA0B,EACxF,IAAIK,EAAgB,EACpB,UAAWC,KAAcP,EACnBK,EACFE,EAAW,KAAK,EAEhBV,EAAa,KAAK,IAAIU,EAAW,OAAOH,CAAc,EAAGP,CAAU,EAEjEU,EAAW,aACbD,IACA,KAAK,gBAAgBC,CAAU,GAGnC,KAAK,uBAAyBH,EAAiBP,EAC/C,KAAK,MAAM,4BAA4BG,EAAiB,MAAM,iBAAiBM,CAAa,YAAY,EACxG,KAAK,MAAM,2CAA2C,KAAK,qBAAqB,EAAE,EAClFH,EAAc,CAChB,OAASN,EAAa,GAAK,CAACK,EAAkB,GAC1C,KAAK,sBAAwB,KAAK,mBACpCl0D,EAAO,SACL,yDACA,IAAI,IAAI,KAAK,YAAY,QAAQ,CAAC,CACpC,EACA,KAAK,KAAK,EAEd,CACA,OAAQ,CACN,GAAI,KAAK,QACP,OACF,KAAK,QAAU,GACf,KAAK,MAAM,oCAAoC,KAAK,cAAc,GAAI,CAAC,GAAG,KAAK,WAAW,CAAC,EAC3F,IAAIw0D,EAAU,GACd,SAAW,CAAC,CAAED,CAAU,IAAK,KAAK,YAChC,GAAIA,EAAW,SAAW,GAAK/kC,GAAe+kC,EAAW,KAAK,EAAE,4BAA8B,GAAM,CAClGC,EAAU,GACV,KACF,CAEF,GAAI,CAACA,EACH,SAAW,CAAC,CAAED,CAAU,IAAK,KAAK,YAC5BA,EAAW,UACbA,EAAW,KAAK,EAAI,CAI5B,CACA,KAAKrmD,EAAO,GAAM,CAChB,GAAI,KAAK,iBAAmB,IAASA,IAAS,GAAM,CAClD,UAAWqmD,KAAc,KAAK,YAAY,OAAO,EAC/CA,EAAW,KAAK,EAElB,KAAK,YAAY,MAAM,CACzB,CACA,KAAK,eAAiBrmD,CACxB,CACA,MAAO,CACL,UAAWqmD,KAAc,KAAK,YAAY,OAAO,EAC/CA,EAAW,KAAK,CAEpB,CACA,OAAQ,CACN,UAAWA,KAAc,KAAK,YAAY,OAAO,EAC/CA,EAAW,MAAM,CAErB,CACA,MAAO,CACL,UAAWA,KAAc,KAAK,YAAY,OAAO,EAC/C,GAAI,CACFA,EAAW,KAAK,EAChB,KAAK,gBAAgBA,CAAU,CACjC,OAASzkD,EAAO,CACd9P,EAAO,MAAM,8BAA+B8P,CAAK,CACnD,CAEF,KAAK,gBAAgB,CACvB,CACA,kBAAkB6iB,EAAI,CACpB,GAAIA,GAAM,MAAQ,KAAK,YAAY,IAAIA,CAAE,EAAG,CAC1C,MAAM4hC,EAAa,KAAK,YAAY,IAAI5hC,CAAE,EACtC4hC,IACFA,EAAW,KAAK,EAChB,KAAK,gBAAgBA,CAAU,EAEnC,CACF,CACA,uBAAuB5hC,EAAI,CACzB,UAAW4hC,KAAc,KAAK,YAAY,OAAO,EAC3CA,EAAW,UAAY5hC,GACzB,KAAK,kBAAkB4hC,EAAW,EAAE,CAG1C,CACA,iBAAkB,CAChB,KAAK,WAAW,QAASxD,GAAOA,EAAG,CAAC,EACpC,KAAK,WAAW,MAAM,CACxB,CACA,WAAY,CACV,OAAO,KAAK,cACd,CACA,SAAU,CACR,KAAK,KAAK,EACV,KAAK,YAAY,MAAM,CACzB,CACF,EACI0D,GAAc,KAAM,CACtB,aAAc,CACZ,KAAK,UAAY,IAAI7B,GACrB,KAAK,WAAa,CAAC,CACrB,CACA,YAAY5nD,EAAM6nD,EAAS,CACzB,OAAO,KAAK,UAAU,YAAY7nD,EAAM6nD,CAAO,CACjD,CACA,eAAe6B,EAAgB,CAC7B,KAAK,UAAU,eAAeA,CAAc,CAC9C,CACA,SAAU,CACR,KAAK,UAAU,QAAQ,EACvB,KAAK,WAAW,QAAS30D,GAAOA,EAAG,CAAC,CACtC,CACF,EACA,SAAS40D,GAAgB77D,EAAK,CAC5B,MAAM87D,EAAan5D,EAAcD,EAAgB,CAAC,EAAG1C,CAAG,EAAG,CACzD,SAAU,GACV,SAAU,CACR,IAAI8H,EAAIiL,EACR+oD,EAAW,SAAW,GAClB97D,EAAI,uBAAuB,OAC5B8H,EAAK9H,EAAI,cAAgB,MAAgB8H,EAAG,eAAe,GAE3DiL,EAAK/S,EAAI,cAAgB,MAAgB+S,EAAG,QAAQ,CAEzD,CACF,CAAC,EACD,OAAO+oD,CACT,CACA,SAASC,IAA0B,CACjC,MAAO,CAAChC,EAASp2D,IAAM,CAChBA,EAAE,UACLo2D,EAAQp2D,CAAC,CAEb,CACF,CACA,SAASq4D,GAAwB/B,EAAW/nD,EAAM4nC,EAAO,CACvDmgB,EAAU,qBAAqB/nD,EAAM6pD,GAAwB,EAAGjiB,CAAK,CACvE,CACA,IAAImiB,GAA4B,CAC9B,QACA,WACA,cACA,QACA,aACA,OACA,WACA,QACA,QACA,YACA,OACF,EACIC,GAA0B,CAAC,OAAQ,OAAO,EAC1CC,GAAwB,CAAC,UAAW,OAAO,EAC3CC,GAAwB,CAAC,WAAY,YAAa,SAAS,EAC3DC,GAAiB,CACnB,QACA,WACA,cACA,YACA,WACA,aACA,aACA,YACA,WACA,cACA,QACA,OACA,QACA,UACA,OACF,EACIC,GAAM;AAAA;AAAA;AAAA;AAAA,EAKNC,IAAqCC,IACvCA,EAAkBA,EAAkB,QAAa,EAAE,EAAI,UACvDA,EAAkBA,EAAkB,SAAc,CAAC,EAAI,WACvDA,EAAkBA,EAAkB,YAAiB,CAAC,EAAI,cAC1DA,EAAkBA,EAAkB,YAAiB,CAAC,EAAI,cAC1DA,EAAkBA,EAAkB,UAAe,CAAC,EAAI,YACxDA,EAAkBA,EAAkB,IAAS,EAAE,EAAI,MAC5CA,IACND,IAAoB,CAAC,CAAC,EACrBE,GAAsB,MAAMC,WAA6Bf,EAAY,CACvE,YAAYgB,EAAiB/5C,EAAU,CACrC,MAAM,EACN,KAAK,gBAAkB+5C,EACvB,KAAK,MAAQ74C,GAAM,OAAO,GAAM,aAAa,EAC7C,KAAK,aAAgBg2B,GAAU,KAAK,aAAaA,CAAK,EACtD,KAAK,UAAY,GACjB,KAAK,UAAY,GACjB,KAAK,aAAe,CAAC,CAAE,QAAS,IAAK,QAAS,IAAK,KAAM,WAAY,CAAC,EACtE,KAAK,gBAAkB,CACrB,CAAE,QAAS,IAAK,QAAS,IAAK,KAAM,WAAY,EAChD,CAAE,QAAS,IAAK,QAAS,IAAK,KAAM,SAAU,EAC9C,CAAE,QAAS,IAAK,QAAS,IAAK,KAAM,WAAY,CAClD,EACA,KAAK,WAAa,GAClB,KAAK,YAAcx3B,GAAY,MAAM,EACrC,KAAK,QAAUM,EACf,UAAW1Q,KAAQmqD,GACbnqD,EAAK,WAAW,OAAO,EACzB0Q,EAAS,iBAAiB1Q,EAAM,KAAK,aAAc,CAAE,QAAS,EAAK,CAAC,EAC3DA,IAAS,QAClB0Q,EAAS,iBAAiB1Q,EAAM,KAAK,aAAc,CAAE,QAAS,EAAM,CAAC,EAErE0Q,EAAS,iBAAiB1Q,EAAM,KAAK,YAAY,EAGrD,UAAWA,KAAQkqD,GACjB55C,GAAU,EAAE,iBAAiBtQ,EAAM,KAAK,YAAY,EAEtD+Q,GAAYq5C,GAAK,oBAAoB,CACvC,CACA,SAAU,CACR,MAAM,QAAQ,EACd,UAAWpqD,KAAQkqD,GACjB55C,GAAU,EAAE,oBAAoBtQ,EAAM,KAAK,YAAY,EAEzD,UAAWA,KAAQmqD,GACjB,KAAK,QAAQ,oBAAoBnqD,EAAM,KAAK,YAAY,CAE5D,CAEA,YAAYA,EAAM6nD,EAAS6C,EAAmB,GAAI,CAChD,OAAO,MAAM,YAAY1qD,EAAOvO,GAAM,CACf,KAAK,SAAS,EAChBi5D,GACjB7C,EAAQp2D,CAAC,CAEb,CAAC,CACH,CACA,UAAUk5D,EAAO,CACf,KAAK,YAAcA,CACrB,CACA,SAASA,EAAO,CACd,KAAK,YAAc,CAACA,CACtB,CACA,UAAW,CACT,OAAO,KAAK,WAAa,CAAC,KAAK,UACjC,CACA,aAAa/iB,EAAO,CAClB,MAAMvtC,EAAQ,KAAK,4BAA4ButC,CAAK,EAChDvtC,EAAM,OAAS,GACjB,KAAK,cAAcutC,EAAOvtC,CAAK,EAAE,MAAO5I,GAAMuD,EAAO,UAAUvD,CAAC,CAAC,CAErE,CACA,cAAcm2C,EAAOvtC,EAAO,CAC1B,OAAOnJ,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAI+e,GAAiB85C,GAA2B1vD,CAAK,EACnD,KAAK,qBAAqButC,EAAOvtC,CAAK,UAC7B4V,GAAiB+5C,GAAyB3vD,CAAK,EACxD,UAAW2F,KAAQ3F,EACjByvD,GACE,KAAK,UACL9pD,EACA2pD,GAAgB,CAAE,KAAA3pD,EAAM,YAAa4nC,CAAM,CAAC,CAC9C,UAEO33B,GAAiBg6C,GAAuB5vD,CAAK,EACtD,UAAW2F,KAAQ3F,EACjByvD,GACE,KAAK,UACL9pD,EACA2pD,GAAgB,CAAE,KAAA3pD,EAAM,YAAa4nC,CAAM,CAAC,CAC9C,CAGN,CAAC,CACH,CACA,qBAAqBA,EAAOvtC,EAAO,CACjC,MAAMuwD,EAAS,KAAK,qBAAqBhjB,CAAK,EAC9C,GAAIgjB,GAAU,KAGd,UAAW5qD,KAAQ3F,EACjByvD,GAAwB,KAAK,UAAW9pD,EAAM,KAAK,kBAAkBxP,EAAgB,CAAE,KAAAwP,EAAM,MAAA4nC,CAAM,EAAGgjB,CAAM,CAAC,CAAC,CAElH,CACA,WAAWhjB,EAAO,CACZA,aAAiB,aACnBzoC,GAAc,CAAC,UAAW,SAAS,EAAG,KAAK,aAAa,CAAC,EAAGyoC,CAAK,EACjEzoC,GAAc,CAAC,UAAW,SAAS,EAAG,KAAK,gBAAgB,CAAC,EAAG,KAAK,gBAAgB,CAAC,CAAC,EACtFA,GAAc,CAAC,UAAW,SAAS,EAAG,KAAK,gBAAgB,CAAC,EAAGyoC,CAAK,GAEtE,KAAK,iBAAmBA,EAAM,MAChC,CACA,SAASA,EAAO,CACVA,aAAiB,YACnBzoC,GAAc,CAAC,UAAW,SAAS,EAAG,KAAK,gBAAgB,CAAC,EAAGyoC,CAAK,EAEtE,KAAK,iBAAmB,MAC1B,CACA,4BAA4BA,EAAO,CACjC,MAAMijB,EAAY,aAClB,OAAQjjB,EAAM,KAAM,CAClB,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,QACH,OAAO,KAAK,gBAAgB,QAAU,CAACA,EAAM,IAAI,EAAI,CAAC,EACxD,IAAK,QACL,IAAK,WACL,IAAK,cACL,IAAK,QACH,MAAO,CAACA,EAAM,IAAI,EACpB,IAAK,YACH,OAAK,KAAK,mBAAmBA,CAAK,GAGlC,KAAK,UAAY,GACjB,KAAK,WAAWA,CAAK,EACd,CAACijB,CAAS,GAJR,CAAC,EAKZ,IAAK,aACH,OAAK,KAAK,mBAAmBjjB,CAAK,GAGlC,KAAK,UAAY,GACjB,KAAK,WAAWA,CAAK,EACd,CAACijB,CAAS,GAJR,CAAC,EAKZ,IAAK,YACL,IAAK,YACH,MAAI,CAAC,KAAK,WAAa,CAAC,KAAK,WAAa,CAAC,KAAK,mBAAmBjjB,CAAK,EAC/D,CAAC,EAEH,KAAK,WAAa,KAAK,UAAY,CAAC,MAAM,EAAI,CAAC,OAAO,EAC/D,IAAK,UACH,MAAI,CAAC,KAAK,WAAa,CAAC,KAAK,mBAAmBA,CAAK,EAC5C,CAAC,GAEV,KAAK,UAAY,GACjB,KAAK,SAASA,CAAK,EACZ,CAAC,UAAU,GACpB,IAAK,WACH,MAAI,CAAC,KAAK,WAAa,CAAC,KAAK,mBAAmBA,CAAK,EAC5C,CAAC,GAEV,KAAK,UAAY,GACjB,KAAK,SAASA,CAAK,EACZ,CAAC,UAAU,GACpB,IAAK,WACL,IAAK,cACH,MAAO,CAAC,OAAO,EACjB,IAAK,aACH,MAAMkjB,EAAkBljB,aAAiB,aAAeA,EAAM,QAAU,KAAO,EAC/E,OAAI,KAAK,YAAckjB,GACrB,KAAK,UAAYA,EACV,CAACA,EAAkBD,EAAY,UAAU,GAE3C,CAAC,OAAO,EACjB,IAAK,WACH,MAAO,CAAC,WAAW,CACvB,CACA,MAAO,CAAC,CACV,CACA,mBAAmBjjB,EAAO,CACxB,IAAIhyC,EAAIiL,EAAIC,EACZ,OAAO8mC,EAAM,SAAW,KAAK,WAAahyC,EAAKgyC,EAAM,SAAW,KAAO,OAAShyC,EAAG,iBAAmB,KAAK,WAAakL,GAAMD,EAAK+mC,EAAM,SAAW,KAAO,OAAS/mC,EAAG,gBAAkB,KAAO,OAASC,EAAG,iBAAmB,KAAK,OACtO,CACA,qBAAqB8mC,EAAO,CAC1B,IAAIhyC,EACJ,GAAIgyC,aAAiB,WACnB,OAAO,KAAK,oBAAoBA,CAAK,EAChC,GAAI,OAAO,WAAe,KAAeA,aAAiB,WAAY,CAC3E,MAAMmjB,GAAan1D,EAAKgyC,EAAM,QAAQ,CAAC,IAAM,KAAOhyC,EAAKgyC,EAAM,eAAe,CAAC,EACzE,CAAE,QAAAojB,EAAS,QAAAC,EAAS,MAAAC,EAAO,MAAAC,CAAM,EAAIJ,EAC3C,OAAOt6D,EAAcD,EAAgB,CAAC,EAAGg6D,GAAqB,WAAW,EAAG,CAAE,QAAAQ,EAAS,QAAAC,EAAS,MAAAC,EAAO,MAAAC,CAAM,CAAC,CAChH,SAAWvjB,aAAiB,oBAC1B,OAAIA,EAAM,UACR,OAEK4iB,GAAqB,WAEhC,CACA,oBAAoB5iB,EAAO,CACzB,KAAM,CAAE,QAAAojB,EAAS,QAAAC,EAAS,MAAAC,EAAO,MAAAC,CAAM,EAAIvjB,EAC3C,GAAI,CAAE,QAAAqM,EAAS,QAAA5W,CAAQ,EAAIuK,EAC3B,MAAMwjB,EAAWxvC,GAAO,CACtB,IAAIxsB,EAAI,EACJ+oB,EAAI,EACR,KAAOyD,GACLxsB,GAAKwsB,EAAG,WACRzD,GAAKyD,EAAG,UACRA,EAAKA,EAAG,aAEV,MAAO,CAAE,EAAAxsB,EAAG,EAAA+oB,CAAE,CAChB,EACA,GAAI,KAAK,kBAAoB,MAAQyvB,EAAM,SAAW,KAAK,iBAAkB,CAC3E,MAAMyjB,EAAkBD,EAAQ,KAAK,gBAAgB,EAC/CE,EAAcF,EAAQxjB,EAAM,MAAM,EACxCqM,GAAWoX,EAAgB,EAAIC,EAAY,EAC3CjuB,GAAWguB,EAAgB,EAAIC,EAAY,CAC7C,CACA,MAAO,CAAE,QAAAN,EAAS,QAAAC,EAAS,MAAAC,EAAO,MAAAC,EAAO,QAAAlX,EAAS,QAAA5W,CAAQ,CAC5D,CACA,aAAauK,EAAO,CAClB,OAAOA,EAAM,OAAS,OACxB,CACA,kBAAkBlkC,EAAM,CACtB,KAAM,CAAE,KAAA1D,EAAM,MAAA4nC,EAAO,QAAAojB,EAAS,QAAAC,CAAQ,EAAIvnD,EAC1C,GAAI,CAAE,QAAAuwC,EAAS,QAAA5W,EAAS,MAAA6tB,EAAO,MAAAC,CAAM,EAAIznD,EACzC,GAAI,CAACpG,GAAe22C,CAAO,GAAK,CAAC32C,GAAe+/B,CAAO,EAAG,CACxD,MAAMkuB,EAAO,KAAK,QAAQ,sBAAsB,EAChDtX,EAAU+W,EAAUO,EAAK,KACzBluB,EAAU4tB,EAAUM,EAAK,GAC3B,CACA,GAAI,CAACjuD,GAAe4tD,CAAK,GAAK,CAAC5tD,GAAe6tD,CAAK,EAAG,CACpD,MAAMK,EAAW,KAAK,YAAY,sBAAsB,EACxDN,EAAQF,EAAUQ,EAAS,KAC3BL,EAAQF,EAAUO,EAAS,GAC7B,CACA,GAAI,CAACC,EAAQC,CAAM,EAAI,CAAC,IAAK,GAAG,EAChC,GAAI,KAAK,aAAa9jB,CAAK,EAAG,CAC5B,MAAM+jB,EAAS/jB,EAAM,YAAc,EAAI,IAAO,EAC9C6jB,EAAS7jB,EAAM,OAAS+jB,EACxBD,EAAS9jB,EAAM,OAAS+jB,CAC1B,CACA,IAAIC,EAAiB,CAAC,EAClBhkB,EAAM,OAAS,QACjBgkB,EAAiB,KAAK,aACbhkB,EAAM,OAAS,aACxBgkB,EAAiB,KAAK,iBAExB,MAAMhC,EAAaD,GAAgB,CACjC,KAAA3pD,EACA,QAAAi0C,EACA,QAAA5W,EACA,MAAA6tB,EACA,MAAAC,EACA,OAAAM,EACA,OAAAC,EACA,eAAAE,EACA,YAAahkB,CACf,CAAC,EACD,YAAK,MAAM,oCAAqCgiB,CAAU,EACnDA,CACT,CACF,EACAW,GAAoB,YAAc,CAChC,QAAS,KACT,QAAS,KACT,MAAO,KACP,MAAO,KACP,QAAS,KACT,QAAS,IACX,EACA,IAAIsB,GAAqBtB,GACzB,SAASuB,GAAuBC,EAAQ,CACtC,OAAIA,GAAU,KACL,GACF,CAAC,MAAMA,CAAM,GAAKA,GAAU,GAAKA,GAAU,CACpD,CACA,IAAIC,GAAmB,cAAcvC,EAAY,CAC/C,YAAYwC,EAAoBC,EAAkB,CAChD,MAAM,EACN,KAAK,mBAAqBD,EAC1B,KAAK,iBAAmBC,EACxB,KAAK,gBAAkB,IACvB,KAAK,MAAQ,IAAIzD,GAAe,KAAK,gBAAkB,GAAG,EAC1D,KAAK,MAAQ72C,GAAM,OAAO,GAAM,WAAW,EAC3C,KAAK,aAAe,OAAO,sBAA0B,IACrD,KAAK,UAAY,GACjB,KAAK,UAAY,KACjB,KAAK,eAAiB,EACxB,CAKA,QAAQhc,EAAI,CACV,IAAI8N,EAAOhT,GAAUkF,EAAI,CAAC,CAAC,EACvBke,EACJ,MAAMq4C,EAAQ,KAAK,MACnB,GAAI,CACFA,EAAM,mBAAmBzoD,EAAK,EAAE,CAClC,OAASoB,EAAO,CACd,KAAK,gBAAgBA,CAAK,EAC1B,MACF,CACA,MAAM6iB,GAAM7T,EAAMpQ,EAAK,KAAO,KAAOoQ,EAAM,KAAK,OAAO,EAAE,SAAS,EAC5D5Q,EAAO,KAAK,UAAU,GAAKQ,EAAK,QAAU,OAC5CR,GACF,KAAK,MAAM,uCAAuC,EAEpD,KAAM,CAAE,MAAA4jB,EAAO,SAAAC,CAAS,EAAIrjB,EAC5B,GAAI,CAACooD,GAAuBhlC,CAAK,EAC/B,MAAM,IAAI,MAAM,sBAAsBA,CAAK,oBAAoBa,CAAE,GAAG,EAEtE,GAAI,CAACmkC,GAAuB/kC,CAAQ,EAClC,MAAM,IAAI,MAAM,yBAAyBA,CAAQ,oBAAoBY,CAAE,GAAG,EAE5E,MAAMghC,EAAY,IAAI7jC,GAAUr0B,EAAcD,EAAgB,CAAC,EAAGkT,CAAI,EAAG,CACvE,GAAAikB,EACA,KAAAzkB,EACA,SAAU,KAAK,UAAYQ,EAAK,SAAW,GAC3C,MAAOA,EAAK,MACZ,gBAAiB,KAAK,eACxB,CAAC,CAAC,EACF,GAAI,MAAK,cAAcilD,EAAW,KAAK,eAAe,EAGtD,YAAK,MAAM,aAAaA,CAAS,EAC1BA,CACT,CACA,MAAO,CACL,GAAI,MAAK,UAGT,MAAK,UAAY,GACjB,KAAK,MAAM,yBAAyB,EACpC,GAAI,CACF,KAAK,MAAM,KAAK,CAClB,OAAS7jD,EAAO,CACd,KAAK,gBAAgBA,CAAK,CAC5B,CACA,KAAK,iBAAiB,EACxB,CACA,OAAQ,CACN,GAAK,KAAK,UAGV,MAAK,UAAY,GACjB,KAAK,gBAAgB,EACrB,KAAK,MAAM,0BAA0B,EACrC,GAAI,CACF,KAAK,MAAM,MAAM,CACnB,OAASA,EAAO,CACd,KAAK,gBAAgBA,CAAK,CAC5B,EACF,CACA,MAAO,CACL,KAAK,UAAY,GACjB,KAAK,gBAAgB,EACrB,KAAK,MAAM,yBAAyB,EACpC,KAAK,MAAM,KAAK,CAClB,CACA,kBAAkB6iB,EAAI,CACpB,GAAI,CACF,KAAK,MAAM,kBAAkBA,CAAE,CACjC,OAAS7iB,EAAO,CACd,KAAK,gBAAgBA,CAAK,CAC5B,CACF,CACA,uBAAuB6iB,EAAI,CACzB,GAAI,CACF,KAAK,MAAM,uBAAuBA,CAAE,CACtC,OAAS7iB,EAAO,CACd,KAAK,gBAAgBA,CAAK,CAC5B,CACF,CACA,OAAQ,CACF,KAAK,WACP,KAAK,KAAK,EACV,KAAK,KAAK,GAEV,KAAK,KAAK,CAEd,CACA,KAAK5B,EAAO,GAAM,CAChB,KAAK,eAAiBA,CACxB,CACA,WAAY,CACV,MAAO,CAAC,KAAK,cAAgB,KAAK,gBAAkB,KAAK,MAAM,UAAU,CAC3E,CACA,UAAW,CACT,OAAO,KAAK,WAAa,KAAK,MAAM,SAAS,CAC/C,CACA,kBAAmB,CACb,KAAK,MAAM,MAAM,GACnB,KAAK,MAAM,wCAAyC,CAAE,MAAO,IAAI,MAAM,EAAE,KAAM,CAAC,EAElF,KAAK,MAAM,KAAK,CAClB,CAEA,kBAAmB,CACjB,MAAO,EACT,CAEA,uBAAuB6iD,EAAI,CACzB,KAAK,UAAY,sBAAsBA,CAAE,CAC3C,CAEA,cAAcqG,EAAYC,EAAkB,CAC1C,MAAO,EACT,CACA,kBAAmB,CAGjB,GAFI,CAAC,KAAK,cAEN,CAAC,KAAK,MAAM,SAAS,GAAK,KAAK,YAAc,KAC/C,OACF,IAAIC,EACJ,MAAMC,EAAoBnnC,GAAUl0B,EAAQ,KAAM,KAAM,WAAa,CACnE,MAAMs7D,EAAwB,IAAMt7D,EAAQ,KAAM,KAAM,WAAa,CACnE,MAAM03D,EAAYxjC,GAASknC,GAA8BlnC,GACzDknC,EAAWlnC,EACX,KAAK,MAAM,wCAAyC,CAClD,iBAAkB,KAAK,MAAM,KAC7B,UAAAwjC,CACF,CAAC,EACD,KAAK,mBAAmB,UACtB,CAEF,EACA,GAAI,CACF,KAAK,MAAM,SAASA,CAAS,CAC/B,OAAS9jD,EAAO,CACd,KAAK,gBAAgBA,CAAK,CAC5B,CACA,KAAK,UAAU,SAAS,kBAAmB,CACzC,KAAM,kBACN,QAAS8jD,CACX,CAAC,CACH,CAAC,EACG,KAAK,iBAAiB,EACxB,MAAM,KAAK,iBAAiB,mBAAmB4D,CAAqB,EAEpE,MAAM,KAAK,iBAAiB,QAAQA,CAAqB,EAEvD,KAAK,MAAM,SAAS,EACtB,KAAK,uBAAuBD,CAAgB,EAE5C,KAAK,MAAM,KAAK,CAEpB,CAAC,EACD,KAAK,uBAAuBA,CAAgB,CAC9C,CACA,iBAAkB,CACZ,KAAK,YAAc,OAEvB,qBAAqB,KAAK,SAAS,EACnC,KAAK,UAAY,KACjB,KAAK,WAAW,EAClB,CACA,gBAAgBznD,EAAO2nD,EAAkB,GAAM,CAC7Cz3D,EAAO,MAAM,8CAA+C8P,CAAK,EAC7D2nD,GACF,KAAK,gBAAgB,CAEzB,CACA,WAAWC,EAAgB,CACzB,KAAK,MAAM,uDAAuDA,CAAc,GAAG,EACnF,KAAK,MAAM,EACX,KAAK,MAAM,KAAK,EAChB,KAAK,MAAM,QAAQ,EACnB,KAAK,MAAQ,IAAIjE,GAAe,KAAK,gBAAkB,GAAG,EACtDiE,IAAmB,IACrB,KAAK,MAAM,KAAK,CAEpB,CACA,UAAW,CACL,KAAK,MAAM,SAAS,GACtB,KAAK,MAAM,MAAM,EACjB,KAAK,iBAAiB,IAEtB,KAAK,mBAAmB,SACtB,CAEF,EACI,KAAK,MAAM,UAAU,GACvB,KAAK,MAAM,KAAK,EAAK,EAG3B,CACA,YAAY3G,EAAI,CACd,KAAK,MAAM,WAAW,IAAIA,CAAE,CAC9B,CACF,EACI4G,GAA0B,MAAMC,EAAyB,CAC3D,YAAYjK,EAAQ,CAClB,KAAK,OAASA,EACd,KAAK,MAAQ/wC,GAAM,OAAO,GAAM,MAAM,EACtC,KAAK,OAAO,YAAY,KAAK,SAAWg7C,GAAyB,gBAAgB,CAAC,CACpF,CACA,OAAO,iBAAkB,CACvB,MAAMn7D,EAAI2e,GAAY,EAAE,cAAc,KAAK,EAC3C,OAAA3e,EAAE,UAAU,IAAI,0BAA0B,EAC1Ck/C,GAAal/C,EAAG,OAAQ,QAAQ,EAChCk/C,GAAal/C,EAAG,YAAa,WAAW,EACjCA,CACT,CACA,SAAU,CACR,KAAK,OAAO,YAAY,KAAK,QAAQ,CACvC,CACA,cAAczD,EAAO,CACnB,KAAK,MAAM,4CAA4CA,CAAK,EAAE,EAC9D2iD,GAAa,KAAK,SAAU,aAAc3iD,CAAK,CACjD,CACF,EACI6+D,GAAoB,cAAcpD,EAAY,CAChD,gBAAgBxnD,EAAQ6qD,EAAQ7mB,EAAS8mB,EAAgB,CACvD,MAAMnlB,EAAQ,CACZ,KAAM,oBACN,OAAA3lC,EACA,OAAA6qD,EACA,QAAA7mB,EACA,eAAA8mB,CACF,EACA,KAAK,UAAU,SAAS,oBAAqBnlB,CAAK,CACpD,CACA,sBAAsB3lC,EAAQ6qD,EAAQ7mB,EAAS+mB,EAAiBD,EAAgB,CAC9E,MAAMnlB,EAAQ,CACZ,KAAM,2BACN,OAAA3lC,EACA,OAAA6qD,EACA,QAAA7mB,EACA,eAAA8mB,EACA,gBAAAC,CACF,EACA,KAAK,UAAU,SAAS,2BAA4BplB,CAAK,CAC3D,CACA,UAAUqlB,EAAQ3mB,EAAW,CAC3B,MAAMsB,EAAQ,CACZ,KAAM,aACN,OAAAqlB,EACA,UAAA3mB,CACF,EACA,KAAK,UAAU,SAAS,aAAcsB,CAAK,CAC7C,CACF,EACIslB,GAAsB,KAAM,CAC9B,aAAc,CACZ,KAAK,eAAiB,CAAC,EACvB,KAAK,gBAAkC,IAAI,GAC7C,CACA,oBAAqB,CACnB,MAAO,CAAC,GAAG,KAAK,cAAc,CAChC,CACA,sBAAsBC,EAAQ,CACxBA,EAAO,IAAM,KAAK,eAAe,KAAK,CAAC,CAAE,GAAAxlC,CAAG,IAAMA,IAAOwlC,EAAO,EAAE,GAGtE,KAAK,eAAe,KAAKA,CAAM,CACjC,CACA,aAAaC,EAAU,CACrB,KAAK,gBAAgB,OAAOA,CAAQ,CACtC,CACA,cAAcA,EAAU,CACtB,KAAK,gBAAgB,IAAIA,CAAQ,CACnC,CACA,WAAWA,EAAU,CACnB,OAAO,KAAK,gBAAgB,IAAIA,CAAQ,CAC1C,CACF,EACIC,GAAe,cAAc,GAAI,CACnC,YAAY7iC,EAAc8iC,EAAc,CACtC,MAAM,EACN,KAAK,aAAe9iC,EACpB,KAAK,aAAe8iC,CACtB,CACA,IAAIv/D,EAAKC,EAAO,CACd,YAAK,OAAOD,CAAG,EACX,OAAOC,EAAU,KACnB,MAAM,IAAID,EAAKC,CAAK,EAEf,IACT,CACA,SAAU,CACR,IAAI4H,EACJ,OAAQA,EAAK,MAAM,KAAK,KAAK,KAAK,CAAC,EAAE,IAAI,IAAM,KAAOA,EAAK,KAAK,YAClE,CACA,YAAa,CACX,IAAIA,EACJ,OAAQA,EAAK,MAAM,KAAK,KAAK,OAAO,CAAC,EAAE,IAAI,IAAM,KAAOA,EAAK,KAAK,YACpE,CACF,EACI23D,GAAgB,KAAM,CACxB,YAAY78C,EAAU,CACpB,KAAK,QAAUA,EACf,KAAK,aAAe,IAAI28C,GAAa,SAAS,CAChD,CACA,aAAaG,EAAU/8C,EAAO,CAC5B,KAAK,aAAa,IAAI+8C,EAAU/8C,CAAK,EACrC,KAAK,QAAQ,MAAM,OAAS,KAAK,aAAa,WAAW,CAC3D,CACA,WAAY,CACV,OAAO,KAAK,QAAQ,MAAM,MAC5B,CACF,EACA,SAASg9C,GAAgBC,EAASC,EAAS,CACzC,MAAMz0C,EAAKw0C,EAAQ,QAAUC,EAAQ,QAC/Bx0C,EAAKu0C,EAAQ,QAAUC,EAAQ,QACrC,OAAOz0C,EAAKA,EAAKC,EAAKA,CACxB,CACA,SAASy0C,GAASF,EAASC,EAAS,CAClC,OAAO,KAAK,KAAKF,GAAgBC,EAASC,CAAO,CAAC,CACpD,CACA,IAAIE,GAA8B,EAC9BC,GAAkB,cAAcrE,EAAY,CAC9C,YAAY/4C,EAAU,CACpB,MAAM,EACN,KAAK,WAAck3B,GAAU,KAAK,aAAaA,CAAK,EACpD,KAAK,UAAaA,GAAU,KAAK,YAAYA,CAAK,EAClD,KAAK,SAAYA,GAAU,KAAK,WAAWA,CAAK,EAChD,KAAK,YAAeA,GAAU,KAAK,cAAcA,CAAK,EACtD,KAAK,MAAQ,CACX,QAAS,CAAE,WAAY,IAAK,QAAS,IAAK,QAAS,GAAI,EACvD,QAAS,CAAE,WAAY,IAAK,QAAS,IAAK,QAAS,GAAI,EACvD,OAAQ,CAAE,EAAG,IAAK,EAAG,GAAI,EACzB,SAAU,IACV,OAAQ,CAEV,EACA,KAAK,QAAUl3B,EACfA,EAAS,iBAAiB,aAAc,KAAK,WAAY,CAAE,QAAS,EAAK,CAAC,EAC1EA,EAAS,iBAAiB,YAAa,KAAK,UAAW,CAAE,QAAS,EAAK,CAAC,EACxEA,EAAS,iBAAiB,WAAY,KAAK,QAAQ,EACnDA,EAAS,iBAAiB,cAAe,KAAK,WAAW,CAC3D,CACA,SAAU,CACR,KAAM,CAAE,QAASA,CAAS,EAAI,KAC9BA,EAAS,oBAAoB,aAAc,KAAK,UAAU,EAC1DA,EAAS,oBAAoB,YAAa,KAAK,SAAS,EACxDA,EAAS,oBAAoB,WAAY,KAAK,QAAQ,EACtDA,EAAS,oBAAoB,cAAe,KAAK,WAAW,CAC9D,CACA,iBAAiBq9C,EAAW,CAC1B,KAAM,CAAE,QAAAC,CAAQ,EAAID,EACd,CAAE,QAAAL,EAAS,QAAAC,CAAQ,EAAI,KAAK,MAClC,GAAI,KAAK,MAAM,SAAW,GAAKK,EAAQ,SAAW,EAAG,CACnD,GAAIA,EAAQ,CAAC,EAAE,aAAeN,EAAQ,YAAcM,EAAQ,CAAC,EAAE,aAAeL,EAAQ,WACpF,MAAO,CAACK,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,EAEhC,GAAIA,EAAQ,CAAC,EAAE,aAAeL,EAAQ,YAAcK,EAAQ,CAAC,EAAE,aAAeN,EAAQ,WACpF,MAAO,CAACM,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,CAElC,CACF,CACA,cAAcpmB,EAAO,CACnB,MAAM3pC,EAAO,CAAC,aAAc,UAAW,SAAS,EAChDkB,GAAclB,EAAM,KAAK,MAAM,QAAS2pC,EAAM,QAAQ,CAAC,CAAC,EACxDzoC,GAAclB,EAAM,KAAK,MAAM,QAAS2pC,EAAM,QAAQ,CAAC,CAAC,EACxD,KAAK,MAAM,SAAWgmB,GAAS,KAAK,MAAM,QAAS,KAAK,MAAM,OAAO,CACvE,CACA,mBAAmB5tD,EAAMiuD,EAAe,CACtC,KAAM,CAAE,QAAAP,EAAS,QAAAC,EAAS,OAAAO,CAAO,EAAI,KAAK,MACpCC,EAAW,CAAE,KAAAnuD,EAAM,QAAA0tD,EAAS,QAAAC,EAAS,cAAAM,EAAe,OAAAC,CAAO,EACjE,KAAK,UAAU,SAASluD,EAAMmuD,CAAQ,CACxC,CACA,aAAavmB,EAAO,CAClB,KAAK,kBAAkB,EACvB,KAAM,CAAE,MAAAwmB,CAAM,EAAI,KACdxmB,EAAM,QAAQ,SAAW,IAC3BwmB,EAAM,OAAS,EACf,KAAK,cAAcxmB,CAAK,EACxBwmB,EAAM,OAAO,GAAKxmB,EAAM,QAAQ,CAAC,EAAE,QAAUA,EAAM,QAAQ,CAAC,EAAE,SAAW,EACzEwmB,EAAM,OAAO,GAAKxmB,EAAM,QAAQ,CAAC,EAAE,QAAUA,EAAM,QAAQ,CAAC,EAAE,SAAW,EAE7E,CACA,YAAYA,EAAO,CACjB,MAAMymB,EAAe,KAAK,iBAAiBzmB,CAAK,EAChD,GAAIymB,IAAiB,OAAQ,CAC3B,KAAM,CAACC,EAAQC,CAAM,EAAIF,EACnB,CAAE,MAAAD,CAAM,EAAI,KACZI,EAAcZ,GAASU,EAAQC,CAAM,EACrCN,EAAgBO,EAAcJ,EAAM,SACtCA,EAAM,SAAW,EACf,KAAK,IAAIH,CAAa,EAAIJ,KAC5BO,EAAM,OAAS,EACf,KAAK,cAAcxmB,CAAK,EACxB,KAAK,mBAAmB,cAAe,CAAC,GAEjCwmB,EAAM,SAAW,GAC1BA,EAAM,SAAWI,EACjB,KAAK,cAAc5mB,CAAK,EACxB,KAAK,mBAAmB,aAAcqmB,CAAa,GAEnDj5D,EAAO,MAAM,4BAA4Bo5D,EAAM,MAAM,EAAE,CAE3D,CACF,CACA,WAAWla,EAAQ,CACjB,KAAK,kBAAkB,CACzB,CACA,cAAcA,EAAQ,CACpB,KAAK,kBAAkB,CACzB,CACA,mBAAoB,CAClB,KAAM,CAAE,MAAAka,CAAM,EAAI,KACdA,EAAM,SAAW,GACnB,KAAK,mBAAmB,YAAa,CAAC,EAExC,KAAK,MAAM,OAAS,CACtB,CACF,EACIK,GAAmB,cAAchF,EAAY,CAC/C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,gBAAkB,IAAI4D,GAC3B,KAAK,aAAe,IAAIA,EAC1B,CACA,gBAAgBG,EAAUkB,EAAkB,CAC1C,KAAM,CAAE,gBAAiBC,CAAkB,EAAI,KAC/C,KAAK,gBAAgB,IAAInB,EAAUkB,CAAgB,EACnD,KAAK,gBAAkB,KAAK,gBAAgB,WAAW,EAClD,KAAK,QAAQ,KAAK,gBAAiBC,CAAiB,GACvD,KAAK,UAAU,SAAS,mBAAoB,CAC1C,KAAM,mBACN,iBAAkB,KAAK,gBACvB,kBAAAA,CACF,CAAC,CAEL,CACA,oBAAqB,CACnB,OAAO,KAAK,eACd,CACA,aAAanB,EAAUoB,EAAgB,CACrC,KAAK,aAAa,IAAIpB,EAAUoB,CAAc,EAC9C,KAAK,aAAe,KAAK,aAAa,WAAW,CACnD,CACA,iBAAkB,CAChB,OAAO,KAAK,YACd,CACA,QAAQ1gE,EAAGC,EAAG,CACZ,OAAOD,IAAMC,GAA2BD,GAAE,SAAkCC,GAAE,QAAiCD,GAAE,SAAkCC,GAAE,QAAiCD,GAAE,QAAiCC,GAAE,KAC7N,CACF,EACI0gE,GAAsB,CAAC,EAC3Bh+D,GAASg+D,GAAqB,CAC5B,MAAO,IAAMC,GACb,IAAK,IAAMC,GACX,SAAU,IAAMC,GAChB,UAAW,IAAMC,EACnB,CAAC,EACD,IAAIH,GAAQ,kBACRE,GAAW,CACb,QAAS,GAAGF,EAAK,YACjB,UAAW,GAAGA,EAAK,aACrB,EACIG,GAAY,CACd,OAAQ,GAAGH,EAAK,UAClB,EACIC,GAAM;AAAA,GACPD,EAAK,IAAIE,GAAS,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAQzBF,EAAK,IAAIE,GAAS,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAS3BC,GAAU,MAAM;AAAA;AAAA;AAAA,EAIfC,GAAgB,cAAczF,EAAY,CAC5C,YAAYwC,EAAoB,CAC9B,MAAM,EACN,KAAK,gBAAkB,GACvB,KAAK,eAAiB,GACtB,KAAK,WAAa,GAClB,KAAK,WAAW,KACdA,EAAmB,YACjB,aACCx6D,GAAM,KAAK,aAAaA,CAAC,EAC1B,EAEF,EACAw6D,EAAmB,YACjB,QACCx6D,GAAM,KAAK,YAAYA,CAAC,EACzB,EAEF,EACAw6D,EAAmB,YACjB,WACCx6D,GAAM,KAAK,YAAYA,CAAC,EACzB,EAEF,EACAw6D,EAAmB,YAAY,QAAUx6D,GAAM,KAAK,UAAUA,CAAC,CAAC,EAChEw6D,EAAmB,YAAY,QAAUx6D,GAAM,KAAK,UAAUA,CAAC,CAAC,EAChEw6D,EAAmB,YAAY,OAASx6D,GAAM,KAAK,UAAUA,CAAC,CAAC,EAC/Dw6D,EAAmB,YACjB,OACCx6D,GAAM,KAAK,OAAOA,CAAC,EACpB,EAEF,EACAw6D,EAAmB,YACjB,QACCx6D,GAAM,KAAK,QAAQA,CAAC,EACrB,EAEF,EACAw6D,EAAmB,YACjB,UACCx6D,GAAM,KAAK,UAAUA,CAAC,EACvB,EAEF,CACF,CACF,CACA,SAAU,CACR,MAAM,QAAQ,CAChB,CACA,aAAam2C,EAAO,CAClB,KAAK,WAAa,GAClB,KAAK,UAAUA,CAAK,CACtB,CACA,YAAYA,EAAO,CACjB,KAAK,WAAa,GAClB,KAAK,UAAUA,CAAK,CACtB,CACA,UAAUA,EAAO,CACV,KAAK,kBAEL,KAAK,iBACR,KAAK,SAAS,OAAQ,EAAGA,CAAK,EAC9B,KAAK,eAAiB,IAE1B,CACA,OAAOA,EAAO,CACZ,KAAK,gBAAkB,GACvB,KAAK,eAAiB,GACtB,KAAK,SAAS,OAAQ,EAAGA,CAAK,CAChC,CACA,QAAQA,EAAO,CACb,KAAK,gBAAkB,GACnB,KAAK,WACP,KAAK,eAAiB,IAEtB,KAAK,SAAS,eAAgB,EAAGA,CAAK,EACtC,KAAK,SAAS,MAAO,EAAGA,CAAK,EAEjC,CACA,UAAUA,EAAO,CACf,GAAI,GAAC,KAAK,iBAAmB,KAAK,YAGlC,OADA,KAAK,eAAiB,GACdA,EAAM,YAAY,KAAM,CAC9B,IAAK,MACH,OAAIA,EAAM,YAAY,SACb,KAAK,SAAS,MAAO,GAAIA,CAAK,EAE9B,KAAK,SAAS,MAAO,EAAGA,CAAK,EAExC,IAAK,YACH,OAAO,KAAK,SAAS,WAAY,EAAGA,CAAK,EAC3C,IAAK,UACH,OAAO,KAAK,SAAS,WAAY,GAAIA,CAAK,EAC5C,IAAK,YACH,OAAO,KAAK,SAAS,WAAY,GAAIA,CAAK,EAC5C,IAAK,aACH,OAAO,KAAK,SAAS,WAAY,EAAGA,CAAK,EAC3C,IAAK,QACL,IAAK,QACH,OAAO,KAAK,SAAS,SAAU,EAAGA,CAAK,CAC3C,CACF,CACA,SAAS5nC,EAAMuiB,EAAQ4sC,EAAkB,CACvC,MAAMvnB,EAAQ+hB,GAAgB,CAAE,KAAA3pD,EAAM,MAAOuiB,EAAQ,YAAa4sC,CAAiB,CAAC,EACpFrF,GAAwB,KAAK,UAAW9pD,EAAM4nC,CAAK,CACrD,CACF,EACIwnB,GAAsB,CAAC,SAAU,QAAQ,EACzCC,GAAkB,cAAczH,EAAU,CAC9C,EACI0H,GAAgB,KAAM,CACxB,YAAYrD,EAAoBrrB,EAAelwB,EAAU,CACvD,KAAK,mBAAqBu7C,EAC1B,KAAK,cAAgBrrB,EACrB,KAAK,gBAAkB,EACvB,KAAK,WAAa,GAClB,KAAK,WAAa,GAClB,KAAK,QAA0B,IAAI,IACnC,KAAK,WAAa,CAAC,EACnB,KAAK,cAAgB,IAAIsuB,GAAcjD,CAAkB,EACzD,KAAK,WAAW,KACd,GAAGlC,GAA0B,IAC1BwF,GAActD,EAAmB,YAChCsD,EACA,KAAK,oBAAoB,KAAK,IAAI,EAClC,EAEF,CACF,EACA,KAAK,cAAc,YAAY,OAAQ,KAAK,MAAM,KAAK,IAAI,CAAC,EAC5D,KAAK,cAAc,YAAY,eAAgB,KAAK,QAAQ,KAAK,IAAI,CAAC,EACtE,KAAK,cAAc,YAAY,MAAO,KAAK,MAAM,KAAK,IAAI,CAAC,EAC3D,KAAK,cAAc,YAAY,WAAY,KAAK,MAAM,KAAK,IAAI,CAAC,EAChE,KAAK,cAAc,YAAY,WAAY,KAAK,MAAM,KAAK,IAAI,CAAC,EAChE,KAAK,cAAc,YAAY,SAAU,KAAK,MAAM,KAAK,IAAI,CAAC,CAChE,EACAx+C,GAAYg+C,GAAKD,EAAK,EACtB,KAAK,aAAe1+C,GAAY,EAAE,cAAc,KAAK,EACrD,KAAK,eAAiBA,GAAY,EAAE,cAAc,KAAK,EACvD,KAAK,aAAa,YAAY,KAAK,cAAc,EACjDM,EAAS,YAAY,KAAK,YAAY,EACtC,KAAM,CAAE,MAAO8+C,EAAQ,SAAUl0C,EAAW,UAAWm0C,CAAW,EAAIZ,GACtE,KAAK,aAAa,UAAU,IAAIW,EAAQl0C,EAAU,OAAO,EACzD,KAAK,eAAe,UAAU,IAAIk0C,EAAQl0C,EAAU,UAAWm0C,EAAW,MAAM,CAClF,CACA,SAAU,CACR,KAAK,WAAW,QAAS16D,GAAOA,EAAG,CAAC,EACpC,KAAK,cAAgB,OACrB,UAAW++C,KAAU,KAAK,QAAQ,OAAO,EACvCA,EAAO,UAAU,QAAQ,EAE3B,KAAK,QAAQ,MAAM,EACnB,KAAK,cAAc,QAAQ,CAC7B,CACA,wBAAwBzxC,EAAY,CAClC,MAAMyxC,EAAS,CAAE,WAAAzxC,EAAY,UAAW,IAAIgtD,EAAkB,EAC9D,YAAK,QAAQ,IAAIhtD,EAAW,KAAMyxC,CAAM,EACjC,KAAK,aAAaA,CAAM,CACjC,CACA,UAAUnmD,EAAM+hE,KAAiBC,EAAgB,CAC/C,OAAO,KAAK,wBAAwB,CAClC,KAAAhiE,EACA,cAAe,CAAC+hE,EAAc,GAAGC,CAAc,EAC/C,eAAgB,IAAM,EACxB,CAAC,CACH,CACA,UAAUhiE,EAAM,CACd,OAAO,KAAK,aAAa,KAAK,QAAQ,IAAIA,CAAI,CAAC,CACjD,CACA,KAAKyB,EAAG+oB,EAAG,CACT,MAAMy3C,EAAU,CAAC,EACjB,SAAW,CAACC,EAAO/b,CAAM,IAAK,KAAK,QAAQ,QAAQ,EACjD,UAAWgc,KAAYhc,EAAO,WAAW,cAAe,CACtD,MAAMh4B,EAAOg0C,EAAS,cAAc,EAChCh0C,EAAK,cAAc1sB,EAAG+oB,CAAC,GACzBy3C,EAAQ,KAAK,CAAC9b,EAAQh4B,EAAK,MAAQA,EAAK,MAAM,CAAC,CAEnD,CAEF,OAAO8zC,EAAQ,KAAK,CAAC1hE,EAAGC,IAAMD,EAAE,CAAC,EAAIC,EAAE,CAAC,CAAC,EAAE,IAAKiM,GAAMA,EAAE,CAAC,CAAC,CAC5D,CAGA,aAAa05C,EAAQ,CACnB,KAAM,CAAE,mBAAAmY,CAAmB,EAAI,KAC/B,MAAM8D,CAA+B,CACnC,YAAY/vD,EAAM6nD,EAAS6C,EAAmB,GAAI,CAChD,IAAI90D,EACJ,OAAQA,EAA+Bk+C,GAAO,UAAU,YAAY9zC,EAAOvO,GAAM,CAC1EA,EAAE,UACgBw6D,EAAmB,SAAS,EAC9BvB,GACjB7C,EAAQp2D,CAAC,CAGf,CAAC,IAAM,KAAOmE,EAAK,IAAM,CACzB,CACF,CACF,CACA,OAAO,IAAIm6D,CACb,CACA,oBAAoBC,EAAcpoB,EAAO,CACvC,UAAWqoB,KAAgBroB,EAAM,eAAgB,CAC/C,MAAMsoB,EAAgB,KAAK,WAAWD,EAAa,QAASA,EAAa,OAAO,EAChF,GAAID,EAAa,WAAW,OAA2CE,GAAc,WAAW,KAC9F,MAAO,EAEX,CACA,MAAO,EACT,CACA,SAASpc,EAAQlM,EAAO,CACIkM,GAAO,UAAU,SAASlM,EAAM,KAAMA,CAAK,CACvE,CAGA,eAAeA,EAAO,CACpB,KAAM,CAAE,cAAAuoB,CAAc,EAAI,KAC1B,OAAQvoB,EAAM,KAAM,CAClB,IAAK,aACH,KAAK,WAAa,GAClB,KAAK,WAAa,GAClB,MACF,IAAK,QACH,YAAK,WAAa,GACX,KAAK,WACd,IAAK,QACH,YAAK,WAAa,GACX,KAAK,WACd,IAAK,OACH,GAAI,KAAK,WACP,YAAK,SAASuoB,EAAevoB,CAAK,EAC3B,GAET,MACF,IAAK,WACH,GAAI,KAAK,WACP,YAAK,WAAa,GAClB,KAAK,SAASuoB,EAAevoB,CAAK,EAC9B,KAAK,YACP,KAAK,SAASuoB,EAAe1/D,EAAcD,EAAgB,CAAC,EAAGo3C,CAAK,EAAG,CAAE,KAAM,OAAQ,CAAC,CAAC,EAEpF,GAET,KACJ,CACA,MAAO,EACT,CACA,oBAAoBA,EAAO,CACzB,GAAI,KAAK,eAAeA,CAAK,EAC3B,OAEF,KAAM,CAAE,cAAAuoB,CAAc,EAAI,KACpBC,EAAY,KAAK,WAAWxoB,EAAM,QAASA,EAAM,OAAO,EAC1DuoB,IAAkB,QAAwCC,GAAU,WAAW,OAAUD,EAAc,WAAW,MACpH,KAAK,SAASA,EAAe1/D,EAAcD,EAAgB,CAAC,EAAGo3C,CAAK,EAAG,CAAE,KAAM,OAAQ,CAAC,CAAC,EAEvFwoB,IAAc,QAAUA,EAAU,WAAW,OAA2CD,GAAc,WAAW,MACnH,KAAK,SAASC,EAAW3/D,EAAcD,EAAgB,CAAC,EAAGo3C,CAAK,EAAG,CAAE,KAAM,OAAQ,CAAC,CAAC,EAEnFwoB,IAAc,QAAU,KAAK,oBAAoBA,EAAWxoB,CAAK,GACnE,KAAK,SAASwoB,EAAWxoB,CAAK,EAEhC,KAAK,cAAgBwoB,CACvB,CACA,WAAWhhE,EAAG+oB,EAAG,CACf,MAAMk4C,EAAkB,KAAK,KAAKjhE,EAAG+oB,CAAC,EACtC,OAAOk4C,EAAgB,OAAS,EAAIA,EAAgB,CAAC,EAAI,MAC3D,CACA,aAAaC,EAAU,CACrB,GAAIA,IAAa,QAAUA,GAAY,GAAKA,EAAWlB,GAAoB,OACzE,OAAO,KAAK,QAAQ,IAAIA,GAAoBkB,CAAQ,CAAC,CAGzD,CACA,iBAAiB1oB,EAAO,CACtB,KAAM,CAAE,MAAOrlB,EAAQ,YAAAguC,CAAY,EAAI3oB,EACjC4oB,EAAa7G,GAAgB,CACjC,KAAM,YACN,MAAOpnC,EACP,YAAAguC,CACF,CAAC,EACKE,EAAgB,KAAK,aAAa,KAAK,eAAe,EAC5D,YAAK,SAASA,EAAeD,CAAU,EAChC,CAAC,CAACA,EAAW,QACtB,CACA,4BAA4BE,EAAcnuC,EAAQ,CAChD,MAAM+jB,EAAY/jB,EAAS,EAAI,GAAK,EACpC,IAAI7zB,EAAIgiE,EACR,KAAOnuC,IAAW,GAAG,CACnB,MAAMuxB,EAAS,KAAK,aAAaplD,EAAI43C,CAAS,EAC9C,GAAIwN,IAAW,OACb,OACSA,EAAO,WAAW,eAAe,IAC1CvxB,EAASA,EAAS+jB,GAEpB53C,EAAIA,EAAI43C,CACV,CACA,OAAO53C,CACT,CACA,yBAA0B,CACxB,IAAIkH,EACJ,MAAM66D,EAAgB,KAAK,aAAa,KAAK,eAAe,EACxDA,IAAkB,QAAU,CAACA,EAAc,WAAW,eAAe,IACvE,KAAK,iBAAmB76D,EAAK,KAAK,4BAA4B,GAAI,CAAC,IAAM,KAAOA,EAAK,EAEzF,CACA,QAAQgyC,EAAO,CACb,KAAM,CAAE,MAAOrlB,EAAQ,YAAAguC,CAAY,EAAI3oB,EACjC+oB,EAAWpuC,EAAS,EAAI,KAAK,4BAA4B,GAAI,CAAC,EAAI,KAAK,4BAA4B6sC,GAAoB,OAAQ,EAAE,EACvI,KAAK,gBAAkBuB,GAA8B,EACrD,MAAMF,EAAgB,KAAK,aAAa,KAAK,eAAe,EACxDA,GACF,KAAK,SAASA,EAAe9G,GAAgB,CAAE,KAAM,MAAO,MAAOpnC,EAAQ,YAAAguC,CAAY,CAAC,CAAC,CAE7F,CACA,MAAM3oB,EAAO,CAEX,GADiB,KAAK,iBAAiBA,CAAK,EAE1C,OACF,KAAK,wBAAwB,EAC7B,MAAMgpB,EAAc,KAAK,4BAA4B,KAAK,gBAAiBhpB,EAAM,KAAK,EAChFwoB,EAAY,KAAK,aAAaQ,CAAW,EACzCH,EAAgB,KAAK,aAAa,KAAK,eAAe,EAI5D,GAHIG,IAAgB,SAClB,KAAK,gBAAkBA,GAErBH,IAAkB,QAAwCL,GAAU,WAAW,OAAUK,EAAc,WAAW,KAAM,CAC1H,KAAM,CAAE,MAAOluC,EAAQ,YAAAguC,CAAY,EAAI3oB,EACjCipB,EAAYlH,GAAgB,CAAE,KAAM,OAAQ,MAAOpnC,EAAQ,YAAAguC,CAAY,CAAC,EAC9E,KAAK,SAASE,EAAeI,CAAS,CACxC,CACIT,IAAc,QAAU,CAACA,EAAU,WAAW,eAAe,EAC/D,KAAK,yBAAyB,MAAM,EAEpC,KAAK,SAASA,EAAWxoB,CAAK,CAElC,CACA,MAAMA,EAAO,CACX,MAAM6oB,EAAgB,KAAK,aAAa,KAAK,eAAe,EAC5D,KAAK,SAASA,EAAe7oB,CAAK,CACpC,CACA,wBAAyB,CACvB,KAAK,aAAa,MAAM,MAAQ,KAAK,cAAc,MAAM,MACzD,KAAK,aAAa,MAAM,OAAS,KAAK,cAAc,MAAM,MAC5D,CACA,yBAAyB2jB,EAAM,CAC7B,GAAIA,GAAQ,KAAM,CAChB,KAAK,eAAe,UAAU,IAAI0D,GAAU,MAAM,EAClD,MACF,CACA,KAAK,uBAAuB,EAC5B,KAAK,eAAe,UAAU,OAAOA,GAAU,MAAM,EACrD,KAAK,eAAe,MAAM,MAAQ,GAAG1D,EAAK,KAAK,KAC/C,KAAK,eAAe,MAAM,OAAS,GAAGA,EAAK,MAAM,KACjD,KAAK,eAAe,MAAM,KAAO,GAAGA,EAAK,CAAC,KAC1C,KAAK,eAAe,MAAM,IAAM,GAAGA,EAAK,CAAC,IAC3C,CACF,EACIuF,GAAiB,cAAcrH,EAAY,CAC7C,YAAY/4C,EAAU,CACpB,MAAM,EACN,KAAK,QAAUA,CACjB,CACA,OAAO,QAAQk1B,EAAQgC,EAAO,CAC5B,OAAOA,EAAM,QAAUhC,CACzB,CACA,YAAYA,EAAQ53C,EAAO,CACzB,KAAK,UAAU,SAAS,iBAAkB,CAAE,KAAM,iBAAkB,MAAO43C,EAAQ,MAAA53C,CAAM,CAAC,CAC5F,CACA,YAAY43C,EAAQI,EAAS,CAC3B,KAAK,UAAU,SAAS,gBAAiB,CAAE,KAAM,gBAAiB,MAAOJ,EAAQ,QAAAI,CAAQ,CAAC,CAC5F,CACA,aAAaJ,EAAQ53C,EAAOi4C,EAAS,CACnC,KAAK,UAAU,SAAS,iBAAkB,CAAE,KAAM,iBAAkB,MAAOL,EAAQ,MAAA53C,EAAO,QAAAi4C,CAAQ,CAAC,CACrG,CACA,kBAAkBL,EAAQxxC,EAAS,CACjC,KAAK,UAAU,SAAS,sBAAuB,CAAE,KAAM,sBAAuB,MAAOwxC,EAAQ,QAAAxxC,CAAQ,CAAC,CACxG,CACF,EACI28D,GAAoB;AAAA,GACrB7f,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAYrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAMrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAMrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,GAKrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,GAKrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,GAKrBA,EAAqB;AAAA;AAAA;AAAA;AAAA,GAIrBA,EAAqB;AAAA;AAAA;AAAA;AAAA,GAIrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAYrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,GAKrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAYrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAoBrBA,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyBpB8f,GAAiB,KAAM,CACzB,YAAYpwB,EAAeqwB,EAAS,CAKlC,GAJA,KAAK,cAAgBrwB,EACrB,KAAK,QAAUqwB,EACf,KAAK,aAAe,IAAI5D,GACxB,KAAK,aAAe,KAChB,OAAO,qBAAyB,IAAa,CAC/C,MAAM6D,EAAW,IAAI,qBAClB7J,GAAY,CACX,UAAWra,KAASqa,EACdra,EAAM,SAAW,KAAK,eAAiBA,EAAM,oBAAsB,GACrE,KAAK,QAAQ,OAAO,EAAK,CAG/B,EACA,CAAE,KAAM,KAAK,QAAQ,IAAK,CAC5B,EACAkkB,EAAS,QAAQ,KAAK,aAAa,EACnC,KAAK,SAAWA,CAClB,CACAngD,GAAYggD,GAAmB,SAAS,CAC1C,CACA,cAAcvD,EAAUtb,EAAMjK,EAAS,CACrC,IAAIryC,EACC,KAAK,QAAQ,UAElBqyC,IAA4BA,GAAWryC,EAAK,KAAK,aAAa,IAAI43D,CAAQ,IAAM,KAAO,OAAS53D,EAAG,SACnG,KAAK,aAAa,IAAI43D,EAAU,CAAE,QAAAvlB,EAAS,KAAAiK,CAAK,CAAC,EACjD,KAAK,YAAY,EACnB,CACA,cAAcsb,EAAU,CACjB,KAAK,QAAQ,UAElB,KAAK,aAAa,OAAOA,CAAQ,EACjC,KAAK,YAAY,EACnB,CACA,eAAeA,EAAU,CACvB,IAAI53D,EACJ,OAAQA,EAAK,KAAK,aAAa,IAAI43D,CAAQ,IAAM,KAAO,OAAS53D,EAAG,IACtE,CACA,SAAU,CACR,IAAIA,GACHA,EAAK,KAAK,WAAa,MAAgBA,EAAG,UAAU,KAAK,aAAa,CACzE,CACA,aAAc,CACZ,IAAIA,EACJ,MAAM+xB,EAAK,KAAK,aAAa,QAAQ,EAC/BgjC,EAAQhjC,EAAK,KAAK,aAAa,IAAIA,CAAE,EAAI,KAC/C,GAA8BgjC,GAAM,MAAS,MAAkCA,GAAM,SAAY,KAAM,CACrG,KAAK,aAAe,KACpB,KAAK,QAAQ,OAAO,EAAK,EACzB,MACF,CACA,MAAM1Y,EAAa,KAAK,cAAc,sBAAsB,EAC5D,KAAMr8C,EAAK,KAAK,eAAiB,KAAO,OAASA,EAAG,WAAuC+0D,GAAM,QAAU,CACzG,MAAMwG,EAAkB,KAAK,QAAQ,UAAU,EAC/C,KAAK,QAAQ,KAAKlf,EAAqC0Y,GAAM,KAAM,KAAMwG,CAAe,CAC1F,MACE,KAAK,QAAQ,KAAKlf,EAAqC0Y,GAAM,KAA+BA,GAAM,OAAO,EAE3G,KAAK,aAAeA,CACtB,CACA,OAAO,gBAAgB/iB,EAAOtpB,EAAO,CACnC,IAAI1oB,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EAAIC,EAC5B,KAAM,CAAE,QAAAivB,EAAS,QAAA5W,CAAQ,EAAIuK,EACvB,CAAE,QAAAqpB,CAAQ,EAAI3yC,EAAM,OAAO,WAC3B4zB,EAAO,CACX,QAAA+B,EACA,QAAA5W,EACA,mBAAoBx8B,GAAMjL,EAAKq7D,EAAQ,cAAgB,KAAO,OAASr7D,EAAG,UAAY,KAAOiL,EAAK,GAClG,iBAAkB,CAAE,KAAM+mC,EAAM,KAAM,QAAAqM,EAAS,QAAA5W,CAAQ,EACvD,UAAW4zB,EAAQ,UACnB,SAAU,CACR,KAAMA,EAAQ,SAAS,KACvB,QAASA,EAAQ,SAAS,QAC1B,QAASA,EAAQ,SAAS,OAC5B,CACF,EACMG,GAAYpsC,GAAMxjB,GAAMV,EAAKwd,EAAM,OAAS,KAAO,OAASxd,EAAG,aAAe,KAAOU,EAAK8c,EAAM,WAAa,KAAO0G,GAAMD,GAAMhS,EAAKuL,EAAM,QAAQ,gBAAkB,KAAO,OAASyG,EAAG,KAAKhS,EAAIuL,CAAK,EAC5M,GAAI2yC,EAAQ,SAAS,OAAS,QAAUG,EAAU,CAChD,KAAM,CAAE,EAAAhiE,EAAG,EAAA+oB,CAAE,EAAIi5C,EACXn0B,EAAQ3e,EAAM,OAAO,aAAa,sBAAsBlvB,EAAG+oB,CAAC,EAClE,OAAO1nB,EAAcD,EAAgB,CAAC,EAAG0hD,CAAI,EAAG,CAC9C,QAAS,KAAK,MAAMjV,EAAM,CAAC,EAC3B,QAAS,KAAK,MAAMA,EAAM,CAAC,CAC7B,CAAC,CACH,CACA,OAAOiV,CACT,CACF,EACImf,GAAgB,cAAczJ,EAAU,CAC1C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,eAAiB,iBACxB,CACA,YAAY1B,EAAW2B,EAAS,CAC9B,GAAI,KAAK,cAAc3B,CAAS,GAAK,KAAK,iBAAiBA,CAAS,EAClE,OAAO,MAAM,YAAYA,EAAW2B,CAAO,EAE7C,MAAM,IAAI,MAAM,0CAA0C3B,CAAS,EAAE,CACvE,CACA,sBAAsBoL,EAAO70C,EAAK,CAChC,OAAI,KAAK,cAAc60C,CAAK,EACnB,KAAK,mBAAmBA,CAAK,EAAE,OAAO,CAAC7iE,EAAQ03D,IAAa,CACjE,GAAI,CACF,OAAOA,EAAS,QAAQ13D,CAAM,CAChC,OAASgD,EAAG,CACV,OAAAuD,EAAO,UAAUvD,CAAC,EACXhD,CACT,CACF,EAAGguB,CAAG,EAEDA,CACT,CACA,uBAAuBmrB,EAAO,CAC5B,KAAK,SAAS,KAAK,eAAgBA,CAAK,CAC1C,CACA,cAAcse,EAAW,CACvB,OAAOA,IAAc,KAAK,cAC5B,CACA,iBAAiBA,EAAW,CAC1B,OAAOA,IAAc,KAAK,cAC5B,CACF,EACIqL,GAAqB,KAAM,CAC7B,aAAc,CACZ,KAAK,OAAS,CAAC,CACjB,CACA,eAAe,CACb,GAAA5pC,EACA,eAAA6pC,EACA,QAAAxrB,EACA,KAAAhmC,CACF,EAAG,CACD,IAAIpK,EAAIiL,EACH2wD,KAEJ3wD,GAAMjL,EAAK,KAAK,QAAQoK,CAAI,IAAM,OAAYpK,EAAGoK,CAAI,EAAI,CAAC,GAC3D,KAAK,OAAOA,CAAI,EAAE2nB,CAAE,EAAI,CAAE,SAAU6pC,EAAgB,QAAAxrB,CAAQ,EAC9D,CACA,iBAAiB,CAAE,GAAAre,EAAI,KAAA3nB,CAAK,EAAG,CACzB,KAAK,OAAOA,CAAI,GAClB,OAAO,KAAK,OAAOA,CAAI,EAAE2nB,CAAE,EAEzB,KAAK,OAAO3nB,CAAI,GAAK,OAAO,KAAK,KAAK,OAAOA,CAAI,CAAC,EAAE,SAAW,GACjE,OAAO,KAAK,OAAOA,CAAI,CAE3B,CACA,yBAAyB,CACvB,KAAAA,EACA,eAAAwxD,EACA,QAAAxrB,CACF,EAAG,CACD,IAAIpwC,EACJ,GAAI,CAAC47D,EACH,MAAO,CAAE,kBAAmBxrB,EAAU,EAAI,EAAG,sBAAuBA,EAAU,EAAI,EAAG,MAAO,CAAE,EAChG,MAAMyrB,EAAmC,IAAI,IACvCC,EAAsC,IAAI,IAChD,UAAW1kB,KAAS,OAAO,QAAQp3C,EAAK,KAAK,OAAOoK,CAAI,IAAM,KAAOpK,EAAK,CAAC,CAAC,EACrEo3C,EAAM,UAEXykB,EAAiB,IAAIzkB,EAAM,SAAS,UAAU,EAC1CA,EAAM,SAAS,aAAewkB,EAAe,YAC/CE,EAAoB,IAAI1kB,EAAM,SAAS,UAAU,GAGrD,MAAM2kB,EAAgB,MAAM,KAAKF,CAAgB,EACjD,OAAAE,EAAc,KAAK,CAAC,EAAGxjE,IAAM,EAAIA,CAAC,EAC3B,CACL,kBAAmBwjE,EAAc,OACjC,sBAAuBD,EAAoB,KAC3C,MAAOC,EAAc,QAAQH,EAAe,UAAU,CACxD,CACF,CACF,EACII,IAAoCC,IACtCA,EAAiBA,EAAiB,KAAU,CAAC,EAAI,OACjDA,EAAiBA,EAAiB,YAAiB,CAAC,EAAI,cACxDA,EAAiBA,EAAiB,aAAkB,CAAC,EAAI,eACzDA,EAAiBA,EAAiB,eAAoB,CAAC,EAAI,iBAC3DA,EAAiBA,EAAiB,cAAmB,CAAC,EAAI,gBAC1DA,EAAiBA,EAAiB,sBAA2B,CAAC,EAAI,wBAClEA,EAAiBA,EAAiB,aAAkB,CAAC,EAAI,eACzDA,EAAiBA,EAAiB,KAAU,CAAC,EAAI,OAC1CA,IACND,IAAmB,CAAC,CAAC,EACpBE,GAAgB,cAAclK,EAAU,CAC1C,YAAYmK,EAAgB,CAC1B,MAAM,EACN,KAAK,eAAiBA,CACxB,CACA,OAAO/xD,EAAO,EAAG5L,EAAS,CACxB,KAAK,eAAe4L,EAAM5L,CAAO,CACnC,CACA,uBAAuB49D,EAAO,CAC5B,KAAK,SAAS,kBAAmB,CAC/B,KAAM,kBACN,QAAkCA,GAAM,QACxC,eAAyCA,GAAM,cACjD,CAAC,CACH,CACF,EACIC,GAAe,KAAM,CACvB,YAAYC,EAAOC,EAAM,CACvB,KAAM,CAAE,MAAAC,EAAO,YAAAC,EAAa,QAAS3hD,EAAU,eAAAqhD,EAAgB,YAAAO,CAAY,EAAIH,EAC/E,KAAK,aAAeD,EACpB,KAAK,MAAQE,EACb,KAAK,YAAcC,EACnB,KAAK,YAAcH,EAAM,YACzB,KAAK,kBAAoB,IAAIxK,GAAkBwK,EAAM,cAAc,EACnE,KAAK,wBAA0B,IAAIvF,GAAwByF,EAAM,OAAO,OAAO,EAC/E,KAAK,kBAAoB,IAAIvF,GAC7B,KAAK,oBAAsB,IAAIK,GAC/B,KAAK,cAAgB,IAAIK,GAAc78C,CAAQ,EAC/C,KAAK,iBAAmB,IAAI+9C,GAC5B,KAAK,mBAAqB,IAAI5C,GAAmBqG,EAAM,SAAUxhD,CAAQ,EACzE,KAAK,cAAgB,IAAI4+C,GAAc,KAAK,mBAAoB,KAAK,MAAM,OAAO,QAAS5+C,CAAQ,EACnG,KAAK,eAAiB,IAAIogD,GAAepgD,CAAQ,EACjD,KAAK,gBAAkB,IAAIo9C,GAAgBp9C,CAAQ,EACnD,KAAK,cAAgB,IAAI2gD,GACzB,KAAK,cAAgB,IAAIS,GAAcC,CAAc,EACrD,KAAK,mBAAqB,IAAIR,GAC9B,KAAK,cAAgB,IAAIhK,GACzB,KAAK,iBAAmB,IAAIyE,GAAiB,KAAK,mBAAoBsG,CAAW,EACjF,KAAK,iBAAiB,KAAK,EAC3B,KAAK,iBAAiB,KAAK,EAC3B,KAAK,YAAc,IAAIpK,GAAY,KAAK,gBAAgB,EACxD,KAAK,eAAiB,IAAI8I,GAAe,KAAK,MAAM,OAAO,QAASkB,EAAM,OAAO,CACnF,CACA,SAAU,CACR,KAAK,eAAe,QAAQ,EAC5B,KAAK,cAAc,QAAQ,EAC3B,KAAK,mBAAmB,QAAQ,EAChC,KAAK,iBAAiB,KAAK,EAC3B,KAAK,iBAAiB,QAAQ,EAC9B,KAAK,wBAAwB,QAAQ,EACrC,KAAK,kBAAkB,QAAQ,EAC/B,KAAK,iBAAiB,QAAQ,EAC9B,KAAK,cAAc,gBAAgB,EACnC,KAAK,iBAAiB,MAAM,EAC5B,KAAK,YAAY,QAAQ,CAC3B,CACF,EACIK,GAAiB,cAAcnwD,EAAe,CAChD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,SACf,CACF,EACArR,EAAiB,CACf25B,EAASiD,GAAM,CAAC,UAAW,MAAM,EAAG,SAAS,CAAC,CAChD,EAAG4kC,GAAe,UAAW,QAAS,CAAC,EACvC,IAAIC,GAAiB,MAAMC,EAAgB,CACzC,aAAc,CACZ,KAAK,OAAyB,IAAI,GACpC,CACA,OAAO,GAAGzkE,EAAO,CACf,OAAOA,aAAiBykE,EAC1B,CACA,OAAO/1D,EAAK,CACV,KAAK,OAAO,IAAIA,CAAG,CACrB,CACA,WAAY,CACV,OAAO,MAAM,KAAK,KAAK,MAAM,CAC/B,CACF,EACIg2D,GAAmB,MAAMC,EAAkB,CAC7C,aAAc,CACZ,KAAK,OAAS,CAAC,IAAU,IAAS,CACpC,CACA,OAAO,GAAG3kE,EAAO,CACf,OAAOA,aAAiB2kE,EAC1B,CACA,OAAO,aAAalkD,EAAQ6a,EAAS,CAAC,IAAU,IAAS,EAAG,CAC1D,UAAWt7B,KAASygB,EACd,OAAOzgB,GAAU,WAGjBs7B,EAAO,CAAC,EAAIt7B,IACds7B,EAAO,CAAC,EAAIt7B,GAEVs7B,EAAO,CAAC,EAAIt7B,IACds7B,EAAO,CAAC,EAAIt7B,IAGhB,OAAOs7B,CACT,CACA,OAAOt7B,EAAO,CACR,KAAK,OAAO,CAAC,EAAIA,IACnB,KAAK,OAAO,CAAC,EAAIA,GAEf,KAAK,OAAO,CAAC,EAAIA,IACnB,KAAK,OAAO,CAAC,EAAIA,EAErB,CACA,WAAY,CACV,MAAO,CAAC,GAAG,KAAK,MAAM,CACxB,CACF,EACA,SAAS4kE,GAAY30D,EAAM,CACzB,OAAOA,EAAK,IAAKlQ,GAAQkP,GAASlP,CAAG,EAAI,KAAK,UAAUA,CAAG,EAAIA,CAAG,EAAE,KAAK,GAAG,CAC9E,CACA,SAAS8kE,GAAOn2D,EAAK,CAEnB,OAAI,OAAO,UAAUA,CAAG,EACfA,EACE,KAAK,IAAIA,CAAG,EAAI,IAClB,KAAK,MAAMA,CAAG,EAEhB,KAAK,MAAMA,EAAM,GAAQ,EAAI,GACtC,CACA,SAASo2D,GAAyBj/B,EAAU,CAC1C,GAAIA,GAAY,KACd,MAAO,CAAC,EAEV,GAAI,CAACnlB,EAAKC,CAAG,EAAIklB,EAAS,IAAI,MAAM,EACpC,OAAInlB,IAAQ,GAAKC,IAAQ,EAChB,CAAC,EAAG,CAAC,EAEVD,IAAQ,KAAYC,IAAQ,KACvB,CAAC,GACCD,IAAQ,IACjBA,EAAM,EACGC,IAAQ,OACjBA,EAAM,GAEDrR,GAAeoR,CAAG,GAAKpR,GAAeqR,CAAG,EAAI,CAACD,EAAKC,CAAG,EAAI,CAAC,EACpE,CACA,SAASokD,GAAiBl/B,EAAU7xB,EAAM,CACxC,IAAIpM,EACJ,MAAMo9D,EAAcF,GAAyBj/B,CAAQ,EACrD,GAAIm/B,EAAY,SAAW,EACzB,OAAOA,EAET,GAAI,CAACtkD,EAAKC,CAAG,EAAIqkD,EACjB,GAAItkD,IAAQC,EAAK,CACf,KAAM,CAACskD,EAAYC,CAAU,GAAKt9D,EAA6BoM,GAAK,iBAAiB0M,EAAKC,CAAG,IAAM,KAAO/Y,EAAK,CAAC,EAAG,CAAC,EACpH8Y,GAAOukD,EACPtkD,GAAOukD,CACT,CACA,MAAO,CAACxkD,EAAKC,CAAG,CAClB,CACA,SAASwkD,GAAaC,EAAeC,EAAS,CAC5C,IAAIz9D,EACJ,OAAQA,EAAgCy9D,GAAQ,IAAID,EAAc,EAAE,IAAM,KAAOx9D,EAAK,CACxF,CACA,IAAI09D,GAAgB,OAAO,SAAS,EAChCC,GAAY,KAAM,CACpB,YAAY7vD,EAAM8vD,EAAO,aAAc,CACrC,KAAK,KAAO9vD,EACZ,KAAK,KAAO8vD,EACZ,KAAK,MAAQ5hD,GAAM,OAAO,GAAM,YAAY,EAC5C,KAAK,WAA6B,IAAI,IACtC,KAAK,KAAO,CAAC,EACb,KAAK,OAAS,CAAC,EACf,KAAK,WAAa,CAAC,EACnB,KAAK,gBAAkB,CAAC,EACxB,KAAK,mBAAqB,CAAC,EAC3B,KAAK,SAAW,CAAC,EACjB,KAAK,WAAa,CAAC,EACnB,IAAI3T,EAAO,GACX,UAAWsgB,KAAQ7a,EAAK,MAAO,CAC7B,GAAI6a,EAAK,OAAS,OAAS,CAACtgB,EAC1B,MAAM,IAAI,MAAM,kEAAkE,EAEhFsgB,EAAK,OAAS,SAAWtgB,IAC3BA,EAAO,GAEX,CACA,MAAMw1D,EAAqB,CAAC,CAAE,cAAAC,EAAgB,CAAC,CAAE,IAAM,CACrD,UAAWC,KAAgBD,EACzB,GAAI,KAAK,OAAO,MAAO19C,GAAQA,EAAI,UAAY29C,CAAY,EACzD,MAAM,IAAI,MACR,0FAA0FA,CAAY,IACxG,CAGN,EACA,UAAW39C,KAAOtS,EAAK,MACrB,OAAQsS,EAAI,KAAM,CAChB,IAAK,MACH,KAAK,KAAK,KAAKvlB,EAAcD,EAAgB,CAAC,EAAGwlB,CAAG,EAAG,CAAE,MAAO,KAAK,KAAK,OAAQ,QAAyB,IAAI,GAAM,CAAC,CAAC,EACvH,MACF,IAAK,QACH,GAAIA,EAAI,UAAY,KAClB,MAAM,IAAI,MACR,qFAAqF,KAAK,UACxFA,CACF,CAAC,EACH,EAEF,KAAK,OAAO,KAAKvlB,EAAcD,EAAgB,CAAC,EAAGwlB,CAAG,EAAG,CAAE,MAAO,KAAK,OAAO,OAAQ,QAAyB,IAAI,GAAM,CAAC,CAAC,EAC3H,MACF,IAAK,YACHy9C,EAAmBz9C,CAAG,EACtB,KAAK,WAAW,KAAKvlB,EAAcD,EAAgB,CAAC,EAAGwlB,CAAG,EAAG,CAAE,MAAO,KAAK,WAAW,MAAO,CAAC,CAAC,EAC/F,MACF,IAAK,wBACHy9C,EAAmBz9C,CAAG,EACtB,KAAK,gBAAgB,KAAKvlB,EAAcD,EAAgB,CAAC,EAAGwlB,CAAG,EAAG,CAAE,MAAO,KAAK,gBAAgB,MAAO,CAAC,CAAC,EACzG,MACF,IAAK,2BACH,KAAK,mBAAmB,KAAKvlB,EAAcD,EAAgB,CAAC,EAAGwlB,CAAG,EAAG,CAAE,MAAO,KAAK,mBAAmB,MAAO,CAAC,CAAC,EAC/G,MACF,IAAK,UACH,KAAK,SAAS,KAAKvlB,EAAcD,EAAgB,CAAC,EAAGwlB,CAAG,EAAG,CAAE,MAAO,KAAK,SAAS,MAAO,CAAC,CAAC,EAC3F,MACF,IAAK,YACH,KAAK,WAAW,KAAKvlB,EAAcD,EAAgB,CAAC,EAAGwlB,CAAG,EAAG,CAAE,MAAO,KAAK,WAAW,MAAO,CAAC,CAAC,EAC/F,KACJ,CAEJ,CACA,4BAA4B49C,EAAOC,EAAU,CAC3C,IAAIj+D,EACJ,MAAMogB,GAAOpgB,EAAK,KAAK,WAAW,IAAIg+D,EAAM,EAAE,IAAM,KAAO,OAASh+D,EAAG,IAAIi+D,CAAQ,EACnF,GAAI,CAAC79C,EACH,MAAM,IAAI,MAAM,oDAAoD69C,CAAQ,KAAKD,EAAM,EAAE,GAAG,EAE9F,MAAO,CAAE,MAAO59C,EAAI,MAAO,IAAAA,CAAI,CACjC,CACA,8BAA8B49C,EAAOC,EAAU,CAC7C,OAAO,KAAK,4BAA4BD,EAAOC,CAAQ,EAAE,KAC3D,CACA,8BAA8BD,EAAOE,EAAW,CAC9C,OAAOA,EAAU,IAAKD,GAAa,CAACA,EAAU,KAAK,4BAA4BD,EAAOC,CAAQ,CAAC,CAAC,CAClG,CACA,+BAA+BE,EAAM,CAAE,KAAA91D,EAAM,OAAAwQ,CAAO,EAAG,CACrD,MAAMhgB,EAAS,CAAC,EAChB,SAAW,CAAColE,EAAU,CAAE,MAAA15D,EAAO,IAAA6b,CAAI,CAAC,IAAK+9C,EAAM,CAC7C,MAAMC,EAAgBh+C,EAAI,OAAS,MAAQ/X,EAAOwQ,EAClDhgB,EAAOolE,CAAQ,EAAIG,EAAc75D,CAAK,CACxC,CACA,OAAO1L,CACT,CACA,UAAUmlE,EAAOC,EAAU7zD,EAAO,QAASg0D,EAAe,CACxD,IAAIp+D,EACJ,MAAM6kD,EAAU,KAAK,iBAAiBz6C,EAAMg0D,CAAa,EACzD,OAAQp+D,EAAgC6kD,IAAQ,KAAK,8BAA8BmZ,EAAOC,CAAQ,CAAC,IAAM,KAAOj+D,EAAK,CAAC,CACxH,CACA,iBAAiBoK,EAAMg0D,EAAe,CACpC,OAAQh0D,EAAM,CACZ,IAAK,MACH,OAAOg0D,EAAc,OAAO,KAC9B,IAAK,QACH,OAAOA,EAAc,OAAO,OAC9B,IAAK,YACH,OAAOA,EAAc,OAAO,UAC9B,IAAK,wBACH,OAAOA,EAAc,OAAO,OAC9B,QACE,OAAO,IACX,CACF,CACA,YAAYjvD,EAAMhH,EAAS,CACzB,IAAInI,EACJ,KAAM,CACJ,KAAM,CAAE,YAAAq+D,EAAa,UAAAC,CAAU,EAC/B,WAAAC,EACA,gBAAAC,EACA,SAAAC,EACA,WAAAC,EACA,mBAAAC,CACF,EAAI,KACE9+D,EAAQ,YAAY,IAAI,EAC9B,GAAIw+D,GAAe,KAAK,KAAK,SAAW,EACtC,OAEF,IAAID,EAAgB,KAAK,YAAYjvD,EAAMhH,CAAO,EAqBlD,GApBIk2D,EACFD,EAAgB,KAAK,UAAUA,CAAa,EACnCE,IACTF,EAAgB,KAAK,UAAUA,EAAeE,EAAUF,CAAa,CAAC,GAEpEI,EAAgB,OAAS,GAC3B,KAAK,kBAAkBJ,CAAa,EAElCG,EAAW,OAAS,GACtB,KAAK,cAAcH,CAAa,EAE9BO,EAAmB,OAAS,GAC9B,KAAK,sBAAsBP,CAAa,EAEtCK,EAAS,OAAS,GACpB,KAAK,WAAWL,CAAa,EAE3BM,EAAW,OAAS,GACtB,KAAK,gBAAgBN,CAAa,EAEhCjvD,EAAK,OAAS,GAChB,UAAWiR,KAAOriB,GAAQ,KAAK,KAAM,KAAK,MAAM,EAC9C,SAAW,CAACigE,EAAOY,CAAS,IAAKx+C,EAAI,QACnC,GAAIw+C,GAAazvD,EAAK,OAAQ,CAC5B,MAAM0vD,EAAYb,GAAS,KAAO,GAAK,QAAQA,CAAK,GACpD5+D,EAAO,SAAS,YAAYghB,EAAI,QAAQ,sCAAsCy+C,CAAS,GAAG,CAC5F,EAIN,MAAMv/B,EAAM,YAAY,IAAI,EAC5B8+B,EAAc,KAAO9+B,EAAMz/B,EACvB,KAAK,MAAM,MAAM,GACnBi/D,GAAiBV,CAAa,EAEhC,KAAK,WAAW,MAAM,EACtB,UAAWh+C,KAAOriB,GAAQ,KAAK,KAAM,KAAK,OAAQ,KAAK,UAAU,EAC/D,GAAKqiB,EAAI,OAET,SAAW,CAAC49C,EAAOe,CAAG,IAAK3+C,EAAI,OAC7B,UAAW2R,KAAMgtC,EACf,GAAI,CAAC,KAAK,WAAW,IAAIf,CAAK,EAC5B,KAAK,WAAW,IAAIA,EAAuB,IAAI,IAAI,CAAC,CAACjsC,EAAI3R,CAAG,CAAC,CAAC,CAAC,MAC1D,KAAKpgB,EAAK,KAAK,WAAW,IAAIg+D,CAAK,IAAM,MAAgBh+D,EAAG,IAAI+xB,CAAE,EACvE,MAAM,IAAI,MAAM,6DAA6D,EAE7E,KAAK,WAAW,IAAIisC,CAAK,EAAE,IAAIjsC,EAAI3R,CAAG,EAK9C,OAAOg+C,CACT,CACA,oBAAoB,CAAE,cAAAN,CAAc,EAAG,CACrC,MAAMjlE,EAAS,CAAC,EAChB,SAAW,CAAC0L,EAAO6b,CAAG,IAAK,KAAK,OAAO,QAAQ,GACzC,CAAC09C,GAAiB19C,EAAI,SAAW09C,EAAc,SAAS19C,EAAI,OAAO,IACrEvnB,EAAO,KAAK0L,CAAK,EAGrB,OAAO1L,CACT,CACA,eAAemmE,EAAQxmE,EAAM,CAC3B,MAAMymE,EAAkBD,GAAU,MAAQA,EAAO,SAAW,EACtDE,EAAS,OAAO1mE,GAAS,SAAWA,EAAOA,EAAK,GAChD2mE,EAAsB/+C,GAAQ,CAClC,GAAIA,EAAI,QACN,SAAW,CAAC49C,EAAOe,CAAG,IAAK3+C,EAAI,OAC7B,GAA+B4+C,GAAO,SAAShB,CAAK,GAAMe,EAAI,IAAIG,CAAM,EACtE,MAAO,GAIb,MAAO,EACT,EACMrmE,EAAS,KAAK,OAAO,UAAWunB,IACbA,EAAI,QAAU,MAAQ6+C,GAAmB,CAAC7+C,EAAI,OAAO,QAAUA,EAAI,OAAO,KAAM7f,GAAgCy+D,GAAO,SAASz+D,CAAC,CAAC,KAC/H6f,EAAI,WAAa8+C,GAAU9+C,EAAI,KAAO8+C,GAAUC,EAAmB/+C,CAAG,EACjG,EACD,GAAIvnB,IAAW,GACb,MAAM,IAAI,MACR,qDAAqD,KAAK,UAAUL,CAAI,CAAC,gBAAgB,KAAK,UAC5FwmE,CACF,CAAC,EACH,EAEF,OAAOnmE,CACT,CACA,YAAYsW,EAAMhH,EAAS,CACzB,IAAInI,EAAIiL,EAAIC,EAAIU,EAChB,KAAM,CAAE,WAAAwzD,EAAY,aAAAC,EAAc,OAAAL,EAAQ,sBAAAM,CAAsB,EAAI,KAAK,wBAAwB,EAC3FC,EAAc,IAAI,IAA+Bp3D,GAAQ,IAAK5H,GAAM,CAACA,EAAE,GAAIA,CAAC,CAAC,CAAC,EAC9E,CAAE,KAAMi/D,EAAS,OAAQC,CAAU,EAAI,KACvCC,EAAa,IAAI,MAAMvwD,EAAK,MAAM,EACxC,IAAIwwD,EAAgB,EAChBC,EAAwB,EAC5B,SAAW,CAACC,EAAUn3C,CAAK,IAAKvZ,EAAK,QAAQ,EAAG,CAC9C,MAAM2wD,EAAe,CAAC,EAChBC,EAAcf,EAAO,KAAO,EAAI,IAAI,IAAIA,CAAM,EAAI,OAClD32D,EAAO,IAAI,MAAMm3D,EAAQ,MAAM,EACrC,IAAIQ,EAAS,EACT7nE,EACJ,UAAWioB,KAAOo/C,EAAS,CAEzB,GADArnE,EAAMknE,EAAaj/C,EAAKsI,EAAOvwB,CAAG,EAC9BA,IAAQulE,GACV,MACEr1D,IACFA,EAAK23D,GAAQ,EAAI7nE,EAErB,CACA,GAAIA,IAAQulE,GACV,SACF,MAAM7kD,EAAS4mD,EAAU,OAAS,EAAI,IAAI,MAAMA,EAAU,MAAM,EAAI,OACpE,IAAIrnE,EACJ,SAAW,CAAC6nE,EAAa7/C,CAAG,IAAKq/C,EAAU,QAAQ,EAAG,CACpD,UAAWzB,KAAUh+D,EAAKogB,EAAI,SAAW,KAAOpgB,EAAKg/D,EAAQ,CAC3D,MAAMjkE,EAASwkE,EAAY,IAAIvB,CAAK,EAC9BkC,GAAcj1D,EAA+BlQ,GAAO,KAAK8kE,CAAQ,IAAM,KAAO50D,EAAKyd,EAEzF,GADAtwB,EAAQinE,EAAaj/C,EAAK8/C,EAAY9nE,EAAO4lE,CAAK,EAC9C,EAAA5lE,IAAUslE,IAAiB,CAAC7kD,GAEhC,IAAI9d,GAAU,MAAQqlB,EAAI,kBAAoB,GAAO,CACnD,MAAM3R,EAAW2R,EAAI,iBAAmBA,EAAI,IAAM,KAAOA,EAAI,GAAKA,EAAI,UACrElV,EAAK40D,EAAa9B,CAAK,IAAM,OAAY8B,EAAa9B,CAAK,EAAI,CAAC,GACjE8B,EAAa9B,CAAK,EAAEvvD,CAAQ,EAAIrW,CAClC,CACAygB,EAAOonD,CAAW,EAAI7nE,EACxB,CACA,GAAIA,IAAUslE,GAAe,CAC3B,GAAI4B,EACF,MACF,UAAWtB,KAAUpyD,EAAKwU,EAAI,SAAW,KAAOxU,EAAKozD,EACpBe,GAAY,OAAO/B,CAAK,EAEzD,GAAoC+B,GAAY,OAAU,EACxD,KACJ,CACF,CAGA,GAFI3nE,IAAUslE,IAAiB4B,GAEKS,GAAY,OAAU,EACxD,SACF,MAAMlnE,EAAS,CAAE,MAAO+B,EAAgBA,EAAgB,CAAC,EAAG8tB,CAAK,EAAGo3C,CAAY,EAAG,KAAAz3D,EAAM,OAAAwQ,CAAO,EAC5F,CAACymD,GAAyBS,GAAeA,EAAY,KAAOf,EAAO,OACrEY,IACA/mE,EAAO,YAAc,IAAI,IAAIknE,CAAW,GAE1CL,EAAWC,GAAe,EAAI9mE,CAChC,CACA6mE,EAAW,OAASC,EACpB,MAAMQ,EAAkB//C,GAAQ,CAC9B,MAAMggD,EAAYhB,EAAW,IAAIh/C,CAAG,EAC9BvnB,EAASunE,EAAU,UAAU,EACnC,OAAItD,GAAiB,GAAGsD,CAAS,GAAKvnE,EAAO,CAAC,EAAIA,EAAO,CAAC,EACjD,CAAC,EAEHA,CACT,EACA,MAAO,CACL,KAAM,YACN,MAAO,CAAE,MAAOsW,EAAK,MAAO,EAC5B,KAAMuwD,EACN,OAAQ,CACN,KAAMF,EAAQ,IAAIW,CAAc,EAChC,OAAQV,EAAU,IAAIU,CAAc,CACtC,EACA,KAAM,CACJ,sBAAAb,EACA,KAAME,EACN,OAAQC,CACV,EACA,sBAAAG,EACA,KAAM,CACR,CACF,CACA,UAAUzwD,EAAMkxD,EAAY,CAC1B,IAAIrgE,EACJ,MAAMo+D,EAAgC,IAAI,IAC1C,UAAWkC,KAAanxD,EAAK,KAAM,CACjC,KAAM,CAAE,KAAA9G,EAAM,OAAAwQ,EAAQ,MAAA6P,EAAO,YAAAq3C,CAAY,EAAIO,EACvCtwB,GAAUhwC,EAAmCqgE,IAAWC,CAAS,IAAM,KAAOtgE,EAAKqI,EACnFk4D,EAAWvD,GAAYhtB,CAAM,EACnC,GAAIouB,EAAc,IAAImC,CAAQ,EAAG,CAC/B,MAAMC,EAAepC,EAAc,IAAImC,CAAQ,EAG/C,GAFAC,EAAa,OAAO,KAAK3nD,CAAM,EAC/B2nD,EAAa,MAAM,KAAK93C,CAAK,EACzBq3C,GAAe,MAAQS,EAAa,aAAe,KACrD,UAAWxC,KAASwC,EAAa,YAC1BT,EAAY,IAAI/B,CAAK,GACxBwC,EAAa,YAAY,OAAOxC,CAAK,CAI7C,MACEI,EAAc,IAAImC,EAAU,CAC1B,KAAMvwB,EACN,OAAQ,CAACn3B,CAAM,EACf,MAAO,CAAC6P,CAAK,EACb,YAAAq3C,CACF,CAAC,CAEL,CACA,MAAML,EAAa,IAAI,MAAMtB,EAAc,IAAI,EACzCqC,EAAe,IAAI,MAAMrC,EAAc,IAAI,EACjD,IAAIsC,EAAY,EAChB,SAAW,CAAE,KAAAr4D,EAAM,OAAAwQ,EAAQ,MAAA6P,EAAO,YAAAq3C,CAAY,IAAK3B,EAAc,OAAO,EAClC2B,GAAY,OAAU,IAE1DU,EAAaC,CAAS,EAAIr4D,EAC1Bq3D,EAAWgB,GAAW,EAAI,CACxB,KAAAr4D,EACA,OAAAwQ,EACA,MAAA6P,EACA,YAAAq3C,CACF,GAEF,OAAOllE,EAAcD,EAAgB,CAAC,EAAGuU,CAAI,EAAG,CAC9C,KAAM,UACN,KAAMuwD,EACN,OAAQ7kE,EAAcD,EAAgB,CAAC,EAAGuU,EAAK,MAAM,EAAG,CACtD,OAAQsxD,CACV,CAAC,CACH,CAAC,CACH,CACA,cAAcrC,EAAe,CAC3B,IAAIp+D,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EAAIC,EAC5B,MAAMuxC,EAAcvC,EAAc,OAAS,YAC3CA,EAAc,OAAO,UAAY,CAAC,EAClC,SAAW,CAAC75D,EAAO6b,CAAG,IAAK,KAAK,WAAW,QAAQ,EAAG,CACpD,MAAMwgD,EAAU,KAAK,oBAAoBxgD,CAAG,EACtCsT,EAAS,CAAC,IAAU,IAAS,EACnC,UAAWhL,KAAS01C,EAAc,KAAM,CAEtC,IADCp+D,EAAK0oB,EAAM,YAAc,OAAYA,EAAM,UAAY,IAAI,MAAM,KAAK,WAAW,MAAM,GACpFA,EAAM,YACR,SACF,MAAM7P,EAAS8nD,EAAc,CAACj4C,EAAM,MAAM,EAAIA,EAAM,OACpD,IAAIm4C,GAAkB31D,GAAMD,EAAKmV,EAAI,yBAA2B,KAAO,OAASnV,EAAG,KAAKmV,CAAG,IAAM,KAAOlV,EAAK,CAAC,IAAU,IAAS,EACjI,UAAW41D,KAAkBjoD,EAAQ,CACnC,MAAMkoD,EAAcH,EAAQ,IAAKI,GAAaF,EAAeE,CAAQ,CAAC,EAChEC,EAAY7gD,EAAI,kBAAkB2gD,EAAar4C,EAAM,IAAI,EAC3Du4C,IACFJ,GAAkB1jD,GAAMvR,EAAKwU,EAAI,yBAA2B,KAAO,OAASxU,EAAG,KAAKwU,EAAK6gD,EAAWJ,CAAc,IAAM,KAAO1jD,EAAK2/C,GAAiB,aAAamE,EAAWJ,CAAc,EAE/L,CACA,MAAMK,IAAgB9xC,GAAMD,EAAK/O,EAAI,gBAAkB,KAAO,OAAS+O,EAAG,KAAK/O,EAAKygD,CAAc,IAAM,KAAOzxC,EAAKyxC,GAAgB,IAAKpnE,GAAMwjE,GAAOxjE,CAAC,CAAC,EACxJivB,EAAM,UAAUnkB,CAAK,EAAI28D,EACzBpE,GAAiB,aAAaoE,EAAaxtC,CAAM,CACnD,CACA0qC,EAAc,OAAO,UAAU,KAAK1qC,CAAM,CAC5C,CACF,CACA,kBAAkB0qC,EAAe,CAC/B,IAAIp+D,EAAIiL,EACR,KAAM,CAAE,gBAAAuzD,CAAgB,EAAI,KACtB2C,EAAkC,IAAI,IACtCC,EAAiC,IAAI,IACrCC,EAAwC,IAAI,IAC5CC,EAAwC,IAAI,IAClD,UAAWC,KAAa/C,EAAiB,CACvC,MAAMoC,EAAU,KAAK,oBAAoBW,CAAS,EAClDF,EAAsB,IAAIE,EAAWX,CAAO,EAC5CU,EAAsB,IAAIC,EAAWA,EAAU,OAAO,CAAC,EACvD,UAAWh/B,KAAOq+B,EAAS,CAEzB,MAAMY,EADW,KAAK,OAAOj/B,CAAG,EACJ,YAAc,WAC1C4+B,EAAgB,IAAI5+B,CAAG,EACvB6+B,EAAe,IAAI7+B,EAAKi/B,EAAa,IAAI5E,GAAmB,IAAIE,EAAkB,CACpF,CACF,CACA,MAAM2E,EAAiB5oD,GAAW,CAChC,IAAIqF,EACJ,UAAWwjD,KAAcP,GACtBjjD,EAAMkjD,EAAe,IAAIM,CAAU,IAAM,MAAgBxjD,EAAI,OAAOrF,EAAO6oD,CAAU,CAAC,CAE3F,EACA,UAAW1xB,KAAUouB,EAAc,KAAM,CACvC,UAAWmD,KAAa/C,EAAiB,CACvC,GAAIxuB,EAAO,YACT,SACF,MAAM2xB,GAAgB3hE,EAAKqhE,EAAsB,IAAIE,CAAS,IAAM,KAAOvhE,EAAK,CAAC,EAC3E4hE,GAAY32D,EAAKq2D,EAAsB,IAAIC,CAAS,IAAM,KAAO,OAASt2D,EAAG,EACnF,GAAK22D,EAEL,GAAIxD,EAAc,OAAS,UACzB,UAAWvlD,KAAUm3B,EAAO,OACtBn3B,GACF+oD,EAAS/oD,EAAQ8oD,CAAY,OAGxB3xB,EAAO,QAChB4xB,EAAS5xB,EAAO,OAAQ2xB,CAAY,CAExC,CACA,GAAIvD,EAAc,OAAS,UACzB,UAAWvlD,KAAUm3B,EAAO,OAC1ByxB,EAAc5oD,CAAM,OAGtB4oD,EAAczxB,EAAO,MAAM,CAE/B,CACA,SAAW,CAACzN,EAAK68B,CAAU,IAAKgC,EAC9BhD,EAAc,OAAO,OAAO77B,CAAG,EAAI68B,EAAW,UAAU,CAE5D,CACA,sBAAsBhB,EAAe,CACnC,SAAW,CAAE,OAAAyD,EAAQ,SAAApzD,EAAU,OAAAuwD,CAAO,IAAK,KAAK,mBAC9C6C,EAAO,EAAEzD,EAAe,KAAK,eAAeY,EAAQvwD,CAAQ,CAAC,CAEjE,CACA,WAAW2vD,EAAe,CACxB,IAAIp+D,EAAIiL,GACPjL,EAAKo+D,EAAc,UAAY,OAAYA,EAAc,QAAU,CAAC,GACrE,UAAWh+C,KAAO,KAAK,SAAU,CAC/B,MAAM0hD,EAAU1hD,EAAI,QAAQ,EAC5B,IAAI2hD,EAAW3hD,EAAI,aACnB,UAAWsI,KAAS01C,EAAc,MAC5B,CAAC11C,EAAM,cAAiBzd,EAAKmV,EAAI,SAAW,MAAgBnV,EAAG,KAAM1K,GAAM,CAC7E,IAAI2d,EACJ,OAAQA,EAAMwK,EAAM,cAAgB,KAAO,OAASxK,EAAI,IAAI3d,CAAC,CAC/D,CAAC,KACCwhE,EAAWD,EAAQC,EAAUr5C,CAAK,GAGtC01C,EAAc,QAAQh+C,EAAI,QAAQ,EAAI2hD,CACxC,CACF,CACA,gBAAgB3D,EAAe,CAC7B,IAAIp+D,GACHA,EAAKo+D,EAAc,UAAY,OAAYA,EAAc,QAAU,CAAC,GACrE,UAAWh+C,KAAO,KAAK,WACrBg+C,EAAc,QAAQh+C,EAAI,QAAQ,EAAIA,EAAI,UAAUg+C,CAAa,CAErE,CACA,yBAA0B,CACxB,KAAM,CAAE,KAAMoB,EAAS,OAAQC,CAAU,EAAI,KACvCT,EAAyB,IAAI,IACnC,UAAWgD,KAAYvC,EACrB,GAAKuC,EAAS,OAEd,UAAWhE,KAASgE,EAAS,OAC3BhD,EAAO,IAAIhB,CAAK,EAGpB,MAAMoB,EAA6B,IAAI,IACjC6C,EAA+B,IAAI,IACzC,IAAI3C,EAAwB,GAC5B,MAAM4C,EAAiB,IAAM,CAC3B,IAAIliE,EACJ,UAAWogB,KAAOriB,GAAQyhE,EAASC,CAAS,EACtCr/C,EAAI,YAAc,WACpBg/C,EAAW,IAAIh/C,EAAK,IAAIw8C,EAAgB,GAExCwC,EAAW,IAAIh/C,EAAK,IAAI08C,EAAkB,EAC1CwC,IAA0BA,IAA0Bt/D,EAAKogB,EAAI,SAAW,KAAOpgB,EAAK,CAAC,GAAG,SAAWg/D,EAAO,MAGhH,EACAkD,EAAe,EACf,MAAMC,EAAY,KAAK,eAAepkE,GAAQyhE,EAASC,CAAS,CAAC,EA+CjE,MAAO,CAAE,WAAAL,EAAY,aA9CA,CAACh/C,EAAKsI,EAAO05C,EAAepE,IAAU,CACzD,IAAIh+D,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,IAAIklD,EACAjqE,EACJ,GAAI+pE,EAAU,IAAI/hD,EAAI,QAAQ,EAAG,CAC/B,GAAI,CACFhoB,EAAQ+pE,EAAU,IAAI/hD,EAAI,QAAQ,EAAEsI,CAAK,CAC3C,MAAgB,CAChB,CACA25C,EAAejqE,GAAS,IAC1B,MACEiqE,EAAejiD,EAAI,YAAYsI,EAC/BtwB,EAAQiqE,EAAe35C,EAAMtI,EAAI,QAAQ,EAAIA,EAAI,aAE/CA,EAAI,YAAc,OAEpBhoB,EADsBiqE,GAAgB3gD,GAAWtpB,CAAK,EAC9B,GAAKgoB,EAAI,WAAaA,EAAI,WAClDiiD,EAAe,IAEjB,MAAMC,EAAkB,iBAAkBliD,EAC1C,GAAI,CAACiiD,GAAgB,CAACC,EAAiB,CACrC,MAAM1D,GAAa5+D,EAAKogB,EAAI,QAAQ,IAAI49C,CAAK,IAAM,KAAOh+D,EAAK,EAC/DogB,EAAI,QAAQ,IAAI49C,EAAOY,EAAY,CAAC,CACtC,CAIA,GAHKQ,EAAW,IAAIh/C,CAAG,GACrB8hD,EAAe,EAEbG,GAAgB,GAAGn3D,GAAMD,EAAKmV,EAAI,aAAe,KAAO,OAASnV,EAAG,KAAKmV,EAAKhoB,EAAOswB,CAAK,IAAM,MAAOxd,GACzG,GAAI,iBAAkBkV,EACpBhoB,EAAQgoB,EAAI,iBAEZ,QAAI,KAAK,OAAS,cAChBhhB,EAAO,SAAS,0BAA0B,OAAOhH,CAAK,aAAc,IAAIA,CAAK,GAAG,EAE3EslE,GAGX,OAAIt9C,EAAI,YACD6hD,EAAa,IAAI7hD,CAAG,GACvB6hD,EAAa,IAAI7hD,EAAKA,EAAI,UAAU,CAAC,EAEvChoB,GAASwT,EAAKq2D,EAAa,IAAI7hD,CAAG,IAAM,KAAO,OAASxU,EAAGxT,EAAOgqE,IAAkB1E,GAAgB,OAAS0E,CAAa,IAE3HjlD,EAAKiiD,EAAW,IAAIh/C,CAAG,IAAM,MAAgBjD,EAAG,OAAO/kB,CAAK,EACtDA,CACT,EACmC,eAAA8pE,EAAgB,OAAAlD,EAAQ,sBAAAM,CAAsB,CACnF,CACA,eAAenB,EAAM,CACnB,MAAMtlE,EAAyB,IAAI,IACnC,GAAI,KAAK,OAAS,aAChB,OAAOA,EAET,UAAWunB,KAAO+9C,EAAM,CAEtB,GAAI,EADW/9C,EAAI,SAAS,SAAS,GAAG,GAAKA,EAAI,SAAS,SAAS,GAAG,GAEpE,SACF,IAAImiD,EACAniD,EAAI,SAAS,WAAW,GAAG,EAC7BmiD,EAAS,eAAeniD,EAAI,QAAQ,IAEpCmiD,EAAS,gBAAgBniD,EAAI,QAAQ,IAEvCvnB,EAAO,IAAIunB,EAAI,SAAU,IAAI,SAAS,QAASmiD,CAAM,CAAC,CACxD,CACA,OAAO1pE,CACT,CACF,EACA,SAASimE,GAAiBV,EAAe,CACvC,IAAIp+D,EAAIiL,EACR,MAAMu3D,EAAY,CAACzqE,EAAMoX,IAAS,CAC5BA,EAAK,OAAS,IAChB/P,EAAO,IAAI,6BAA6BrH,CAAI,EAAE,EAC9CqH,EAAO,MAAM+P,CAAI,EAErB,EAMA,GALA/P,EAAO,IAAI,0CAA2Cg/D,CAAa,EACnEoE,EAAU,cAAepE,EAAc,OAAO,IAAI,EAClDoE,EAAU,iBAAkBxiE,EAAKo+D,EAAc,OAAO,SAAW,KAAOp+D,EAAK,CAAC,CAAC,EAC/EwiE,EAAU,gBAAiBpE,EAAc,OAAO,MAAM,EACtDoE,EAAU,qBAAsBv3D,EAAKmzD,EAAc,OAAO,YAAc,KAAOnzD,EAAK,CAAC,CAAC,EAClFmzD,EAAc,OAAS,UAAW,CACpC,MAAMqE,EAAkBrE,EAAc,KAAK,OAAO,CAACrY,EAAKp9B,IAAS,CAC/D,IAAIzK,EAAKC,EACT,MAAM9V,GAAQ6V,EAAMyK,EAAK,OAAS,KAAOzK,EAAM,CAAC,EAC1CwkD,GAAavkD,EAAMwK,EAAK,YAAc,KAAOxK,EAAM,CAAC,EACpDwkD,EAAWh6C,EAAK,KAAK,IAAI,IAAG,EAAS,EACrCi6C,EAA6CF,GAAU,IAAI,IAAG,EAAS,EAC7E,OAAA3c,EAAI,KACF,GAAGp9B,EAAK,OAAO,IAAI,CAAClvB,EAAGX,IAAM,CAC3B,GAAGA,IAAM,EAAIuP,EAAOs6D,EACpB,GAAGlpE,GAAgB,CAAC,EACpB,GAAGX,GAAK,EAAI4pE,EAAYE,CAC1B,CAAC,CACH,EACO7c,CACT,EAAG,CAAC,CAAC,EACLyc,EAAU,SAAUC,CAAe,CACrC,KAAO,CACL,MAAMA,EAAkBrE,EAAc,KAAK,OAAO,CAACrY,EAAKp9B,IAAS,CAC/D,IAAIzK,EACJ,MAAMwkD,GAAaxkD,EAAMyK,EAAK,YAAc,KAAOzK,EAAM,CAAC,EAC1D,OAAA6nC,EAAI,KAAK,CAAC,GAAGp9B,EAAK,KAAM,GAAGA,EAAK,OAAQ,GAAG+5C,CAAS,CAAC,EAC9C3c,CACT,EAAG,CAAC,CAAC,EACLyc,EAAU,SAAUC,CAAe,CACrC,CACF,CACA,IAAII,GAAkB,MAAMC,EAAiB,CAC3C,YAAYlF,EAAM,CAChB,KAAK,KAAOA,EACZ,KAAK,MAAQ5hD,GAAM,OAAO,GAAM,YAAY,EAC5C,KAAK,UAAY,CAAC,EAClB,KAAK,OAAS,OAChB,CACA,QAAQ+V,EAAI5iB,EAAMrB,EAAM,CACtB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAI,KAAK,SAAW,QAClB,MAAM,IAAI,MAAM,kDAAkD,EAEpE,OAAO,IAAI,QAAQ,CAAC5B,EAASgC,IAAW,CACtC,KAAK,UAAU,KAAK,CAAE,GAAAq2B,EAAI,KAAAjkB,EAAM,KAAAqB,EAAM,QAAAzV,EAAS,OAAAgC,CAAO,CAAC,CACzD,CAAC,CACH,CAAC,CACH,CACA,SAAU,CACR,GAAI,KAAK,SAAW,QAClB,MAAM,IAAI,MAAM,kDAAkD,EAEpE,KAAK,OAAS,WACd,KAAK,MAAM,uCAAwC,KAAK,SAAS,EACjE,MAAMsR,EAAQ,KAAK,iBAAiB,KAAK,SAAS,EAClD,KAAK,MAAM,uCAAwCA,CAAK,EACxD,MAAM+1D,EAAS,KAAK,eAAe/1D,CAAK,EACxC,KAAK,MAAM,oCAAqC+1D,CAAM,EAClD,KAAK,MAAM,MAAM,IACnBroD,GAAU,EAAE,cAAgB,CAAC,GAE/B,MAAMskD,EAAS,KAAK,UAAU,IAAI,CAAC,CAAE,GAAAjtC,CAAG,IAAMA,CAAE,EAC1CixC,EAAuB,KAAK,uBAAuBh2D,CAAK,EAC9D,SAAW,CAAE,KAAAc,EAAM,KAAAqB,EAAM,SAAA8zD,EAAU,QAAArjD,EAAS,IAAAm/C,CAAI,IAAKgE,EACnD,GAAI,CACF,MAAMG,EAAY,IAAIvF,GAAU7vD,EAAM,KAAK,IAAI,EACzCswD,EAAgB8E,EAAU,YAAY/zD,EAAMnC,CAAK,EACnD,KAAK,MAAM,MAAM,GACnB0N,GAAU,eAAe,EAAE,KAAK0jD,CAAa,EAETA,GAAc,wBAA2B,EAC7E6E,EAAS,QACP,CAACvpE,EAASypE,IAAezpE,EAAQ,CAC/B,UAAAwpE,EACA,cAAe,KAAK,kBAClBnE,EAAIoE,CAAU,EACd/E,EACAY,EACAgE,CACF,CACF,CAAC,CACH,EACS5E,EACT,KAAK,YAAY8E,EAAW9E,EAAeW,EAAKkE,CAAQ,EAExDrjD,EAAQ,QAASuwC,GAAOA,EAAG,IAAI,MAAM,yCAAyC,CAAC,CAAC,CAEpF,OAASjhD,EAAO,CACd0Q,EAAQ,QAASuwC,GAAOA,EAAGjhD,CAAK,CAAC,CACnC,CAEJ,CACA,uBAAuBk0D,EAAe,CACpC,GAAIA,EAAc,OAAQ,CACxB,KAAM,CAAC,CAAE,KAAAj0D,CAAK,EAAG,GAAGk0D,CAAY,EAAID,EACpC,OAAOC,EAAa,KAAM5pE,GAAM0V,IAAS1V,EAAE,IAAI,CACjD,CACA,MAAO,EACT,CACA,kBAAkBs4B,EAAIqsC,EAAeW,EAAKiE,EAAsB,CAC9D,MAAMM,EAAgB56C,GAAU,CAC9B,GAAI,MAAM,QAAQA,CAAK,EACrB,OAAOA,EAAM,IAAI46C,CAAY,EAE/B,MAAMC,EAAYP,EAAuBpoE,EAAgBA,EAAgB,CAAC,EAAG8tB,CAAK,EAAGA,EAAMqJ,CAAE,CAAC,EAAIrJ,EAClG,UAAW86C,KAAWzE,EACpB,OAAOwE,EAAUC,CAAO,EAE1B,OAAOD,CACT,EACME,EAAiB5qD,GAAW,CAChC,IAAI7Y,EACJ,OAAI,MAAM,QAAQ6Y,CAAM,EACfA,EAAO,IAAI4qD,CAAa,GAEzBzjE,EAA+B6Y,IAAOkZ,CAAE,IAAM,KAAO/xB,EAAK6Y,CACpE,EACA,OAAOhe,EAAcD,EAAgB,CAAC,EAAGwjE,CAAa,EAAG,CACvD,KAAMA,EAAc,KAAK,IAAK11C,GAAU,CACtC,IAAI1oB,EACJ,OAAOnF,EAAcD,EAAgB,CAAC,EAAG8tB,CAAK,EAAG,CAC/C,MAAO46C,EAAa56C,EAAM,KAAK,EAC/B,OAAQs6C,GAAwBhjE,EAAK0oB,EAAM,SAAW,KAAO,OAAS1oB,EAAG,IAAIyjE,CAAa,EAAI/6C,EAAM,MACtG,CAAC,CACH,CAAC,CACH,CAAC,CACH,CACA,iBAAiBg7C,EAAW,CAC1B,MAAM12D,EAAQ,CAAC,EACf,SAAW,CAACzI,EAAOo/D,CAAO,IAAKD,EAAU,QAAQ,EAC3Cn/D,EAAQ,GAAKo/D,EAAQ,KAAK,SAAWD,EAAU,CAAC,EAAE,KAAK,QAAUC,EAAQ,KAAK,cAAgB,GAChGA,EAAQ,OACN,IAAI,MAAM,6EAA6E,CACzF,EAEA32D,EAAM,KAAK22D,CAAO,EAGtB,OAAO32D,CACT,CACA,eAAe02D,EAAW,CACxB,MAAMnlD,EAAU,CAAC,EACjB,UAAWolD,KAAWD,EAAW,CAC/B,MAAMvwB,EAAQ50B,EAAQ,KAAKukD,GAAiB,WAAWa,CAAO,CAAC,EAC3DxwB,EACFA,EAAM,KAAKwwB,CAAO,EAElBplD,EAAQ,KAAK,CAAColD,CAAO,CAAC,CAE1B,CACA,OAAOplD,EAAQ,IAAIukD,GAAiB,aAAa,CACnD,CACA,YAAYI,EAAW9E,EAAeY,EAAQiE,EAAU,CACtD,QAASnqE,EAAI,EAAGA,EAAIkmE,EAAO,OAAQlmE,IAAK,CACtC,MAAMklE,EAAQgB,EAAOlmE,CAAC,EAChBY,EAAUupE,EAASnqE,CAAC,EAC1BY,EAAQ,CACN,UAAAwpE,EACA,cAAeroE,EAAcD,EAAgB,CAAC,EAAGwjE,CAAa,EAAG,CAC/D,KAAMA,EAAc,KAAK,OAAO,CAAC,CAAE,YAAA2B,CAAY,IAAM,CACnD,IAAI//D,EACJ,OAAQA,EAAoC+/D,GAAY,IAAI/B,CAAK,IAAM,KAAOh+D,EAAK,EACrF,CAAC,CACH,CAAC,CACH,CAAC,CACH,CACF,CACA,OAAO,WAAW,CAAE,KAAAmP,EAAM,KAAArB,CAAK,EAAG,CAChC,SAASzF,EAAKqpB,EAAO,CACnB,OAAOA,EAAM,OAAQ3G,GAAMA,EAAE,OAAS,KAAK,EAAE,IAAKA,GAAMA,EAAE,QAAQ,EAAE,KAAK,GAAG,CAC9E,CACA,MAAO,CAAC,CAACilB,CAAM,KAAOliC,EAAK,cAAgB,IAASkiC,EAAO,OAAS7gC,IAAS6gC,EAAO,KAAK,cAAgBliC,EAAK,aAAekiC,EAAO,KAAK,YAAcliC,EAAK,WAAazF,EAAK2nC,EAAO,KAAK,KAAK,IAAM3nC,EAAKyF,EAAK,KAAK,CACtN,CACA,OAAO,cAAc81D,EAAU,CAC7B,OAAOA,EAAS,OACd,CAAC/qE,EAAQmH,IAAO,CACd,GAAI,CAAE,GAAA+xB,EAAI,KAAA5iB,EAAM,QAAAzV,EAAS,OAAAgC,EAAQ,KAAMuP,CAAG,EAAIjL,EAAIkL,EAAKD,EAAI,CAAE,MAAAymB,CAAM,EAAIxmB,EAAI4C,EAAOhT,GAAUoQ,EAAI,CAAC,OAAO,CAAC,EACrGgT,EAAKC,EAAK0lD,EAAKj4D,EAAIuR,EACvBtkB,EAAO,IAAI,KAAKk5B,CAAE,EAClBl5B,EAAO,QAAQ,KAAK6C,CAAM,EAC1B7C,EAAO,SAAS,KAAKa,CAAO,GAC3BwkB,EAAMrlB,EAAO,OAAS,OAAaA,EAAO,KAAOsW,IACjDgP,EAAMtlB,EAAO,OAAS,OAAaA,EAAO,KAAOgC,EAAcD,EAAgB,CAAC,EAAGkT,CAAI,EAAG,CAAE,MAAO,CAAC,CAAE,CAAC,GACxG,UAAWtV,KAAQk5B,EAAO,CACxB,MAAM5oB,EAAQjO,EAAcD,EAAgB,CAAC,EAAGpC,CAAI,EAAG,CAAE,OAAQ,CAACu5B,CAAE,CAAE,CAAC,EACvE+wC,GAAiB,aAAa/wC,EAAIjpB,CAAK,EACvC,MAAMqqC,EAAQt6C,EAAO,KAAK,MAAM,KAC7BirE,GAAaA,EAAS,OAASh7D,EAAM,MAAQg6D,GAAiB,UAAUgB,EAAUh7D,CAAK,CAC1F,EACA,GAAI,CAACqqC,EAAO,CACVt6C,EAAO,KAAK,MAAM,KAAKiQ,CAAK,EAC5B,QACF,EACC+6D,EAAM1wB,EAAM,SAAW,OAAaA,EAAM,OAAS,CAAC,GACrDA,EAAM,OAAO,KAAK,IAAIvnC,EAAK9C,EAAM,SAAW,KAAO8C,EAAK,CAAC,CAAC,GACrDunC,EAAM,OAAS,OAASA,EAAM,OAAS,YAAch2B,EAAKrU,EAAM,SAAW,MAAgBqU,EAAG,OACjG2lD,GAAiB,YAAYh6D,EAAM,OAAQqqC,EAAM,MAAM,CAE3D,CACA,OAAOt6C,CACT,EACA,CAAE,IAAK,CAAC,EAAG,QAAS,CAAC,EAAG,SAAU,CAAC,EAAG,KAAM,KAAM,KAAM,IAAK,CAC/D,CACF,CACA,OAAO,YAAYkrE,EAASC,EAAO,CACjC,SAAW,CAAChG,EAAOe,CAAG,IAAKgF,EACzB,GAAIC,EAAM,IAAIhG,CAAK,EACjB,UAAWjsC,KAAMgtC,EACfiF,EAAM,IAAIhG,CAAK,EAAE,IAAIjsC,CAAE,OAGzBiyC,EAAM,IAAIhG,EAAO,IAAI,IAAIe,CAAG,CAAC,CAGnC,CACA,OAAO,aAAaf,EAAOxlE,EAAM,CAC/B,IAAIwH,EACAxH,EAAK,IAAM,QAEdwH,EAAKxH,EAAK,SAAW,OAAYA,EAAK,OAAyB,IAAI,KAChEA,EAAK,OAAO,IAAIwlE,CAAK,EACvBxlE,EAAK,OAAO,IAAIwlE,CAAK,EAAE,IAAIxlE,EAAK,EAAE,EAElCA,EAAK,OAAO,IAAIwlE,EAAuB,IAAI,IAAI,CAACxlE,EAAK,EAAE,CAAC,CAAC,EAE7D,CACA,OAAO,UAAUF,EAAGC,EAAG,CACrB,GAAID,IAAMC,EACR,MAAO,GAET,GAAID,GAAKC,GAAK,OAAOD,GAAK,UAAY,OAAOC,GAAK,SAAU,CAC1D,GAAID,EAAE,cAAgBC,EAAE,YACtB,MAAO,GAET,IAAIO,EAAGogC,EACP,GAAI,MAAM,QAAQ5gC,CAAC,EAAG,CAEpB,GADA4gC,EAAS5gC,EAAE,OACP4gC,IAAW3gC,EAAE,OACf,MAAO,GAET,IAAKO,EAAIogC,EAAS,EAAGpgC,GAAK,EAAGA,IAC3B,GAAI,CAACgqE,GAAiB,UAAUxqE,EAAEQ,CAAC,EAAGP,EAAEO,CAAC,CAAC,EACxC,MAAO,GAGX,MAAO,EACT,CACA,MAAMuP,EAAO,OAAO,KAAK/P,CAAC,EAE1B,GADA4gC,EAAS7wB,EAAK,OACV6wB,IAAW,OAAO,KAAK3gC,CAAC,EAAE,OAC5B,MAAO,GAET,IAAKO,EAAIogC,EAAS,EAAGpgC,GAAK,EAAGA,IAAK,CAChC,MAAMX,EAAMkQ,EAAKvP,CAAC,EAClB,GAAI,CAACgqE,GAAiB,SAAS,IAAI3qE,CAAG,IAAM,CAAC,OAAO,OAAOI,EAAGJ,CAAG,GAAK,CAAC2qE,GAAiB,UAAUxqE,EAAEH,CAAG,EAAGI,EAAEJ,CAAG,CAAC,GAC9G,MAAO,EAEX,CACA,MAAO,EACT,CACA,MAAO,EACT,CACF,EACA0qE,GAAgB,SAA2B,IAAI,IAAI,CAAC,KAAM,SAAU,OAAQ,QAAQ,CAAC,EACrF,IAAIoB,GAAiBpB,GACjBqB,GAAe,MAAMC,WAAsBtQ,EAAY,CACzD,YAAYyI,EAAO,CACjB,MAAM,EACN,KAAK,MAAQA,CACf,CACA,UAAUn9C,EAAUglD,GAAc,cAAe,CAC/C,IAAIC,EAAY,KAAK,IAAIjlD,CAAO,EAChC,OAAKilD,IACHA,EAA4B,IAAI,IAChCD,GAAc,aAAa,IAAIhlD,EAASilD,CAAS,GAEnDA,EAAU,IAAI,KAAK,KAAK,EACjB,IACT,CACA,YAAYjlD,EAAUglD,GAAc,cAAe,CACjD,IAAInkE,EACJ,OAACA,EAAK,KAAK,IAAImf,CAAO,IAAM,MAAgBnf,EAAG,OAAO,KAAK,KAAK,EACzD,IACT,CACA,UAAW,CACT,OAAO,KAAK,KACd,CACA,SAASmf,EAAUglD,GAAc,cAAe,CAC9C,MAAMC,EAAY,KAAK,IAAIjlD,CAAO,EAClC,OAAOilD,EAAY,MAAM,KAAKA,CAAS,EAAI,CAAC,CAC9C,CACA,iBAAiBjlD,EAAUglD,GAAc,cAAe,CACtD,OAAO,KAAK,SAAShlD,CAAO,EAAE,OAAQm9C,GAAUA,IAAU,KAAK,KAAK,CACtE,CACA,IAAIn9C,EAAS,CACX,OAAOglD,GAAc,aAAa,IAAIhlD,CAAO,CAC/C,CACF,EACA+kD,GAAa,aAA+B,IAAI,IAChDA,GAAa,cAAgB,OAAO,oBAAoB,EACxD,IAAIG,GAAcH,GACdI,GAAc,cAAczQ,EAAY,CAC1C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,iBAAmC,IAAI,IAC5C,KAAK,MAAQ,IAAI4D,GAAa,OAAQ,SAAS,EAC/C,KAAK,gBAAkC,IAAI,GAC7C,CACA,WAAWnjD,EAAM,CACf,IAAItU,EACJ,MAAMukE,EAAe,IAAI,IAAIjwD,EAAK,IAAKlI,GAAS,CAACA,EAAK,GAAI,KAAK,iBAAiB,IAAIA,EAAK,EAAE,CAAC,CAAC,CAAC,EAC9F,KAAK,iBAAiB,MAAM,EAC5B,UAAWA,KAAQkI,EACjB,KAAK,iBAAiB,IAAIlI,EAAK,IAAKpM,EAAKukE,EAAa,IAAIn4D,EAAK,EAAE,IAAM,KAAOpM,EAAK,IAAIwkE,GAAgBp4D,CAAI,CAAC,EAE1G,KAAK,MAAM,KAAO,GAAKkI,EAAK,OAAS,GACvC,KAAK,WAAW,KAAK,MAAM,QAAQ,EAAG,KAAK,MAAM,WAAW,CAAC,CAEjE,CACA,WAAWsjD,EAAU6M,EAASC,EAAmB,GAAMC,EAAgB,CACrE,IAAI3kE,EAIJ,GAHI2kE,GACF,KAAK,gBAAgB,IAAI/M,EAAU+M,CAAc,EAE/C,KAAK,iBAAiB,OAAS,EAAG,CACpC,MAAMC,EAAU,KAAK,MAAM,QAAQ,EAC/BA,IAAY,WAAaA,IAAYhN,GAAY8M,GACnD,KAAK,MAAM,IAAI9M,EAAU6M,CAAO,EAC5BG,IAAYhN,KACb53D,EAAK,KAAK,gBAAgB,IAAI4kE,CAAO,IAAM,MAAgB5kE,EAAG43D,CAAQ,IAGvC+M,IAAeC,CAAO,EAE1D,MACF,CACA,KAAK,MAAM,IAAIhN,EAAU6M,CAAO,EAChC,KAAK,iBAAiB,QAASr4D,GAAS,CACtCA,EAAK,WAAWwrD,EAAqC6M,IAAQr4D,EAAK,aAAa,CAAC,CAAC,CACnF,CAAC,EACD,KAAK,aAAawrD,CAAQ,CAC5B,CACA,eAAeA,EAAUP,EAAQoN,EAAS,CACxC,IAAIzkE,GACHA,EAAK,KAAK,iBAAiB,IAAIq3D,CAAM,IAAM,MAAgBr3D,EAAG,WAAW43D,EAAU6M,CAAO,EAC3F,KAAK,aAAa7M,CAAQ,CAC5B,CAEA,sBAAsBA,EAAU,CAC9B,KAAK,UAAU,SAAS,iBAAkB,CAAE,KAAM,iBAAkB,SAAAA,CAAS,CAAC,CAChF,CACA,SAAU,CACR,IAAIp+D,EACA+oB,EAQJ,GAPA,KAAK,iBAAiB,QAASnW,GAAS,CAClCA,EAAK,aAAa,IAAM,IAC1B5S,IAAgBA,EAAI4S,EAAK,QAAQ,GACxBA,EAAK,aAAa,IAAM,MACjCmW,IAAgBA,EAAInW,EAAK,QAAQ,GAErC,CAAC,EACG5S,GAAK+oB,EACP,MAAO,CAAE,EAAA/oB,EAAG,EAAA+oB,CAAE,CAElB,CACA,YAAY80C,EAAQ,CAClB,IAAIr3D,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,iBAAiB,IAAIq3D,CAAM,IAAM,KAAO,OAASr3D,EAAG,QAAQ,IAAM,KAAOiL,EAAK,CAAE,IAAK,EAAG,IAAK,CAAE,CACzH,CACA,cAAe,CACb,MAAMqJ,EAAO,CAAC,EACd,SAAW,CAAC+iD,EAAQjrD,CAAI,IAAK,KAAK,iBAAiB,QAAQ,EACzDkI,EAAK+iD,CAAM,EAAI,CACb,UAAWjrD,EAAK,aAAa,EAC7B,KAAMA,EAAK,QAAQ,CACrB,EAEF,OAAOkI,CACT,CACA,aAAasjD,EAAU,CAErB,GAAI,CADY,MAAM,KAAK,KAAK,iBAAiB,OAAO,EAAIxrD,GAASA,EAAK,aAAa,CAAC,EAAE,KAAK,OAAO,EAEpG,OAEF,MAAMkI,EAAO,CAAC,EACd,SAAW,CAAC+iD,EAAQjrD,CAAI,IAAK,KAAK,iBAAiB,QAAQ,EACzDkI,EAAK+iD,CAAM,EAAIjrD,EAAK,QAAQ,EAE9B,KAAK,UAAU,SAAS,cAAevR,EAAcD,EAAgB,CAAE,KAAM,aAAc,EAAG,KAAK,QAAQ,CAAC,EAAG,CAAE,KAAA0Z,EAAM,SAAAsjD,CAAS,CAAC,CAAC,CACpI,CACF,EACI4M,GAAkB,KAAM,CAC1B,YAAYp4D,EAAM,CAChB,KAAK,KAAOA,EACZ,KAAM,CAAC0M,EAAM,EAAGC,EAAM,CAAC,EAAI3M,EAAK,aAChC,KAAK,MAAQ,IAAIqrD,GAAa,CAAE,IAAA3+C,EAAK,IAAAC,CAAI,CAAC,EAC1C,KAAK,YAAc,KAAK,MAAM,WAAW,CAC3C,CACA,cAAe,CACb,OAAO,KAAK,KAAK,SACnB,CACA,WAAW6+C,EAAU6M,EAAS,CAC5B,KAAK,MAAM,IAAI7M,EAAU6M,CAAO,CAClC,CACA,SAAU,CACR,OAAOh3D,GAAU,KAAK,MAAM,WAAW,CAAC,CAC1C,CACA,cAAe,CACb,MAAMo3D,EAAW,KAAK,YACtB,YAAK,YAAc,KAAK,MAAM,WAAW,EAClCA,EAAS,MAAQ,KAAK,YAAY,KAAOA,EAAS,MAAQ,KAAK,YAAY,GACpF,CACF,EACIC,GAAW,cAAct4D,EAAe,CAC1C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,EACjB,CACF,EACArR,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG4uC,GAAS,UAAW,UAAW,CAAC,EACnC3pE,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAGyuC,GAAS,UAAW,WAAY,CAAC,EACpC,SAASC,GAAyBC,EAAe9+C,EAAM,CAErD,GADA8+C,EAAc,yBAAyB9+C,CAAI,EACvCA,IAAS,OAAQ,CACnB,KAAM,CAAE,EAAGm4B,EAAS,EAAG5W,CAAQ,EAAIvhB,EAAK,cAAc,EACtD,MAAO,CAAE,KAAM,WAAY,QAAAm4B,EAAS,QAAA5W,CAAQ,CAC9C,CAEF,CACA,IAAIw9B,GAA2B,CAAC,MAAO,QAAS,SAAU,MAAM,EAC5DC,GAAuB,CACzB,WACA,mBACA,eACA,SACA,MACA,MACF,EACA,SAASC,GAAyB/4D,EAAM,CAEtC,OADqB84D,GACD,SAAS94D,EAAK,IAAI,CACxC,CACA,SAASg5D,GAAuB5mE,EAAS,CAEvC,OADqB0mE,GACD,SAAS1mE,EAAQ,IAAI,CAC3C,CACA,SAAS6mE,GAAejmD,EAAU,CAEhC,OAAO,OAAOA,GAAa,UADF6lD,GAC+B,SAAS7lD,CAAQ,CAC3E,CACA,IAAIkmD,GAAsB,KAAM,CAC9B,aAAc,CACZ,KAAK,OAAS,CAAC,EACf,KAAK,MAAQ,CAAC,EACd,KAAK,QAAU,CAAC,CAClB,CACA,KAAKl5D,EAAM5N,EAAS,CAClB,KAAM,CAAE,OAAA3F,EAAQ,MAAAmU,EAAO,QAAAu4D,CAAQ,EAAI,KAC/BH,GAAuB5mE,CAAO,IAC5B6mE,GAAe7mE,EAAQ,QAAQ,EACjCwO,EAAM,KAAKZ,CAAI,EAEfm5D,EAAQ,KAAKn5D,CAAI,GAGrBvT,EAAO,KAAKuT,CAAI,CAClB,CACA,uBAAwB,CACtB,MAAMo5D,EAAgB,KAAK,MAAM,OAAQ/rE,GAAM0rE,GAAyB1rE,CAAC,CAAC,EAAE,IAAKA,GAAMA,EAAE,QAAQ,EAAE,OAAQA,GAAMA,IAAM,MAAM,EACvHgsE,EAAU,CAAC,MAAO,QAAS,SAAU,MAAM,EACjD,UAAWC,KAAe,KAAK,QAAS,CACtC,IAAIC,EAAYF,EAAQ,IAAI,EAC5B,KAAOD,EAAc,SAASG,CAAS,GAAKA,IAAc,QACxDA,EAAYF,EAAQ,IAAI,EAE1B,GAAIE,IAAc,OAChB,MACFD,EAAY,SAAWC,CACzB,CACA,OAAO,KAAK,MACd,CACF,EACIC,GAAgB,CAClB,YACA,OACA,OACA,UACA,WACA,YACA,eACA,UACA,UACA,YACF,EACA,SAASC,GAAmBx5D,EAAQy5D,EAAWC,EAAe,CAC5D,IAAI/lE,EAAIiL,EAAIC,EAAIU,EAChB,MAAMo6D,EAAc,CAAC57D,EAAMtR,IAAM,CAC/B,MAAMD,EAAS,CAACuR,CAAI,EACpB,UAAWjS,KAAOytE,GACZztE,KAAOW,GAAKA,EAAEX,CAAG,GAAK,MACxBU,EAAO,KAAK,GAAGV,CAAG,IAAIW,EAAEX,CAAG,CAAC,EAAE,EAElC,OAAOU,EAAO,KAAK,GAAG,CACxB,EACMotE,EAA4B,IAAI,IACtC,IAAI1jC,EAAM,EACV,UAAWhiC,KAAK8L,EAAQ,CACtB,MAAMlU,EAAM6tE,EAAYzlE,EAAE,KAAMA,EAAE,UAAU,EACvC0lE,EAAU,IAAI9tE,CAAG,GACpB8tE,EAAU,IAAI9tE,EAAK,CAAC,CAAC,GAEtB6H,EAAKimE,EAAU,IAAI9tE,CAAG,IAAM,MAAgB6H,EAAG,KAAK,CAACO,EAAGgiC,GAAK,CAAC,CACjE,CACA,MAAM2jC,EAA0B,IAAI,IACpC,UAAW/6B,KAAK26B,EAAW,CACzB,MAAM3tE,EAAM6tE,EAAY76B,EAAE,KAAMA,CAAC,EAC5B+6B,EAAQ,IAAI/tE,CAAG,GAClB+tE,EAAQ,IAAI/tE,EAAK,CAAC,CAAC,GAEpB8S,EAAKi7D,EAAQ,IAAI/tE,CAAG,IAAM,MAAgB8S,EAAG,KAAKkgC,CAAC,CACtD,CAEA,GAAI,CADY,CAAC,GAAG86B,EAAU,KAAK,CAAC,EAAE,KAAM1sE,GAAM2sE,EAAQ,IAAI3sE,CAAC,CAAC,EAE9D,MAAO,CAAE,OAAQ,aAAc,QAAS0sE,EAAU,KAAK,EAAG,QAASC,EAAQ,KAAK,CAAE,EAEpF,MAAMC,EAAU,CAAC,EACjB,IAAIC,EAAY,GAChB,SAAW,CAACjuE,EAAKkuE,CAAQ,IAAKH,EAAQ,QAAQ,EAC5C,UAAWp4D,KAAQu4D,EAAU,CAC3BD,IACA,MAAME,EAAcL,EAAU,IAAI9tE,CAAG,EACrC,GAAImuE,GAAe,MAAQA,EAAY,OAAS,EAAG,CACjDH,EAAQ,KAAK,CAAE,KAAAr4D,EAAM,IAAKs4D,EAAW,OAAQ,KAAM,CAAC,EACpDH,EAAU,OAAO9tE,CAAG,EACpB,QACF,CACA,KAAM,CAACouE,EAAcC,CAAS,EAAIF,EAAY,MAAM,EAC9CG,GAAgBv7D,EAAsC66D,IAAcS,CAAS,IAAM,KAAOt7D,EAAK,CAAC,EAChGsC,EAAQH,GAASo5D,EAAc34D,GAAsB,CAAC,CAAC,EACvD,CAAE,WAAAiR,EAAY,WAAAC,CAAW,GAAKpT,EAA8B4B,GAAM,iBAAmB,KAAO5B,EAAK,CAAC,EACpGmT,GAAc,MAAQC,GAAc,KACtCmnD,EAAQ,KAAK,CAAE,KAAAr4D,EAAM,OAAQy4D,EAAc,KAAM/4D,EAAO,IAAKg5D,EAAW,OAAQ,iBAAkB,CAAC,EAC1Fh5D,EACT24D,EAAQ,KAAK,CAAE,KAAAr4D,EAAM,OAAQy4D,EAAc,KAAM/4D,EAAO,IAAKg5D,EAAW,OAAQ,QAAS,CAAC,EAE1FL,EAAQ,KAAK,CAAE,KAAAr4D,EAAM,OAAQy4D,EAAc,IAAKC,EAAW,OAAQ,OAAQ,CAAC,EAE1EF,EAAY,SAAW,GACzBL,EAAU,OAAO9tE,CAAG,CAExB,CAEF,UAAWmuE,KAAeL,EAAU,OAAO,EACzC,SAAW,CAACM,EAAcC,CAAS,IAAKF,EACtCH,EAAQ,KAAK,CAAE,OAAQI,EAAc,IAAKC,EAAW,OAAQ,QAAS,CAAC,EAG3E,MAAO,CAAE,OAAQ,UAAW,QAAAL,CAAQ,CACtC,CACA,IAAIO,GAAiB,cAAcp1B,EAAU,CAC3C,aAAa9yC,EAAS,CACpB,UAAWgG,KAAK,KAAK,UAAU,OAAO,EAChCA,EAAE,OAAO,cAAchG,GAAWoO,GAAapI,EAAE,cAAc,GACjEA,EAAE,eAAe,IAAIhG,EAAQgG,EAAE,OAAO,UAAU,CAAC,CAGvD,CACA,CAAC,SAAU,CACT,SAAW,CAAE,OAAAJ,EAAQ,eAAAuiE,CAAe,IAAK,KAAK,UAAU,OAAO,EACzDviE,EAAO,OAAS,WAEpB,KAAM,CACJ,WAAYA,EAAO,WACnB,OAAQuiE,CACV,EAEJ,CACF,EACIC,GAAwB,mBACxBC,GAA6B,wBAC7BC,GAAU,cAAct6D,EAAe,CACzC,YAAYE,EAAWq6D,EAAa,CAClC,MAAM,EACN,KAAK,UAAYr6D,EACjB,KAAK,YAAcq6D,EACnB,KAAK,UAAY,EACnB,CACA,SAAU,CACR,IAAI/mE,EACJ,OAAQA,EAAK,KAAK,OAAS,KAAOA,EAAK,KAAK,WAC9C,CACA,WAAWgwB,EAAkB2lC,EAAM,CACjC,IAAI31D,GACHA,EAAK,KAAK,UAAY,OAAY,KAAK,QAAU2a,GAAc,MAAOisD,GAAuB,CAAE,SAAU,UAAW,CAAC,GACtH,KAAK,QAAQ,UAAU,OAAOC,GAA4B,KAAK,SAAS,EACxE,KAAK,SAAWlR,EAChB,MAAM76C,EAAW,KAAK,QAKtB,GAJAA,EAAS,MAAM,KAAO,GAAG66C,EAAK,CAAC,KAC/B76C,EAAS,MAAM,IAAM,GAAG66C,EAAK,CAAC,KAC9B76C,EAAS,MAAM,MAAQ,GAAG66C,EAAK,KAAK,KACpC76C,EAAS,MAAM,OAAS,GAAG66C,EAAK,MAAM,KAClC,KAAK,SAAU,CACjB,MAAMqR,EAAc,KAAK,SAAS,EAC9BA,aAAuB,YACzBlsD,EAAS,gBAAgBksD,CAAW,EAEpClsD,EAAS,UAAYksD,CAEzB,KAAO,CACL,MAAM30B,EAAU13B,GAAc,MAAO,CACnC,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,UAAW,aACX,OAAQ,OACR,OAAQ,MACR,KAAM,0BACR,CAAC,EACD03B,EAAQ,UAAY,KAAK,QAAQ,EACjCv3B,EAAS,gBAAgBu3B,CAAO,EACIriB,GAAiB,QAAQ,CAC3D,KAAM,EACN,GAAI,EACJ,GAAI,UACJ,MAAO,MACP,QAAS,UACT,SAAS53B,EAAO,CACd0iB,EAAS,MAAM,QAAU,OAAO1iB,CAAK,CACvC,EACA,QAAS,CACP0iB,EAAS,MAAM,QAAU,GAC3B,CACF,CAAC,CACH,CACA,OAAO,KAAK,OACd,CACA,cAAckV,EAAkB,CAC9B,GAAK,KAAK,QAEV,IAAIA,EAAkB,CACpB,KAAM,CAAE,QAASlV,CAAS,EAAI,KAC9BkV,EAAiB,QAAQ,CACvB,KAAM,EACN,GAAI,EACJ,MAAO,SACP,GAAI,UACJ,QAAS,UACT,SAAS53B,EAAO,CACd0iB,EAAS,MAAM,QAAU,OAAO1iB,CAAK,CACvC,EACA,QAAS,CACP0iB,EAAS,OAAO,CAClB,CACF,CAAC,CACH,MACE,KAAK,QAAQ,OAAO,EAEtB,KAAK,QAAU,OACf,KAAK,SAAW,OAClB,CACF,EACA3f,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG0wC,GAAQ,UAAW,OAAQ,CAAC,EAC/B3rE,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAG2wC,GAAQ,UAAW,WAAY,CAAC,EACnC3rE,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG4wC,GAAQ,UAAW,YAAa,CAAC,EACpC,IAAIG,GAAgB,cAAcz6D,EAAe,CAC/C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,IAAIs6D,GAAQ,2BAA4B,iBAAiB,EACxE,KAAK,OAAS,IAAIA,GAAQ,2BAA4B,oBAAoB,EAC1E,KAAK,gBAAkB,IAAIA,GAAQ,6BAA8B,mBAAmB,CACtF,CACA,cAAe,CACb,UAAWI,IAAW,CAAC,KAAK,QAAS,KAAK,OAAQ,KAAK,eAAe,EACpE,GAAIA,EAAQ,WAAa,OACvB,MAAO,CAAE,KAAMA,EAAQ,QAAQ,EAAG,KAAMA,EAAQ,QAAS,CAI/D,CACA,SAAU,CACR,KAAK,QAAQ,cAAc,EAC3B,KAAK,OAAO,cAAc,EAC1B,KAAK,gBAAgB,cAAc,CACrC,CACF,EACA/rE,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGkxC,GAAc,UAAW,UAAW,CAAC,EACxC9rE,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGkxC,GAAc,UAAW,SAAU,CAAC,EACvC9rE,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGkxC,GAAc,UAAW,kBAAmB,CAAC,EAChD,IAAIE,GAAoB;AAAA,GACrBP,EAAqB;AAAA;AAAA;AAAA;AAAA,GAIrBA,EAAqB,IAAIC,EAA0B;AAAA;AAAA;AAAA;AAAA,GAInDD,EAAqB;AAAA;AAAA;AAAA;AAAA,GAIrBA,EAAqB;AAAA;AAAA;AAAA;AAAA,GAIrBA,EAAqB,IAAIC,EAA0B,KAAKD,EAAqB;AAAA;AAAA;AAAA,EAIhF,SAASQ,GAAkB1/B,EAAM2/B,EAAiB,CAChD,KAAM,CAAE,kBAAAC,CAAkB,EAAI14C,GAAe,IACvCuC,EAAWm2C,EAAoBD,EAC/BzkD,EAAYjI,GAAc,MAAO,GAAGisD,EAAqB,YAAa,CAC1E,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,cAAe,SACf,OAAQ,OACR,UAAW,aACX,KAAM,2BAEN,WAAY,OACZ,UAAW,qBAAqBz1C,CAAQ,qBAC1C,CAAC,EACKpK,EAASpM,GAAc,OAAQ,CACnC,MAAO,OACP,OAAQ,OACR,gBAAiB,CACf,kFACA,kFACA,+EACF,EAAE,KAAK,EAAE,EACT,eAAgB,YAChB,iBAAkB,YAClB,UAAW,6CACb,CAAC,EACKq2B,EAAQr2B,GAAc,IAAK,CAAE,UAAW,KAAM,CAAC,EACrDq2B,EAAM,UAAYtJ,EAClB,MAAM6/B,EAAa5sD,GAAc,MAAO,GAAGisD,EAAqB,uBAAwB,CACtF,SAAU,WACV,MAAO,IACP,QAAS,MACT,OAAQ,IACV,CAAC,EACKY,EAAkB7sD,GAAc,OAAO,EAC7C,OAAA6sD,EAAgB,UAAY,CAC1B,yEACA,wCACA,sDACA,8DACA,GACF,EAAE,KAAK,GAAG,EACV5kD,EAAU,gBAAgB4kD,EAAiBzgD,EAAQiqB,EAAOu2B,CAAU,EACpEpsD,GAAYgsD,GAAmB,eAAe,EACvCvkD,CACT,CACA,SAAS6kD,GAAU5uD,EAAQ6uD,EAAc,CAAC,EAAG,CAAC,EAAG,CAC/C,UAAWtvE,KAASygB,EACd,OAAOzgB,GAAU,WAGjBA,EAAQ,IACVsvE,EAAY,CAAC,GAAKtvE,GAEhBA,EAAQ,IACVsvE,EAAY,CAAC,GAAKtvE,IAGtB,OAAOsvE,CACT,CACA,SAASC,GAAI51C,EAAIgsC,EAAc,CAO7B,MANe,CACb,GAAAhsC,EACA,cAAe,CAACgsC,CAAY,EAC5B,KAAM,YACN,kBAAoBllD,GAAW4uD,GAAU5uD,CAAM,CACjD,CAEF,CACA,SAAS+uD,GAAS71C,EAAIgsC,EAAc,CAClC,MAAO,CACL,GAAAhsC,EACA,KAAM,YACN,cAAegsC,EAAe,CAACA,CAAY,EAAI,OAC/C,kBAAoBllD,GAAW4uD,GAAU5uD,CAAM,EAC/C,uBAAwB,CAAC8P,EAAMo9B,EAAM,CAAC,EAAG,CAAC,IAAM,CAC9C,IAAI/lD,EAAIiL,EACR,OAAA86C,EAAI,CAAC,IAAM/lD,EAA6B2oB,IAAK,CAAC,IAAM,KAAO3oB,EAAK,EAChE+lD,EAAI,CAAC,IAAM96C,EAA6B0d,IAAK,CAAC,IAAM,KAAO1d,EAAK,EACzD86C,CACT,CACF,CACF,CACA,SAAS8hB,GAAO91C,EAAIgsC,EAAc,CAOhC,MANe,CACb,GAAAhsC,EACA,cAAe,CAACgsC,CAAY,EAC5B,KAAM,YACN,kBAAoBllD,GAAWikD,GAAiB,aAAajkD,CAAM,CACrE,CAEF,CACA,SAASivD,GAAW/1C,EAAI,CACtB,MAAO,CACL,GAAAA,EACA,KAAM,YACN,kBAAmB,IAAM,CAAC,EAAG,CAAC,EAC9B,uBAAwB,CAACpJ,EAAMo9B,EAAM,CAAC,EAAG,CAAC,IAAM,CAC9C,IAAI/lD,EAAIiL,EACR,OAAA86C,EAAI,CAAC,IAAM/lD,EAA6B2oB,IAAK,CAAC,IAAM,KAAO3oB,EAAK,EAChE+lD,EAAI,CAAC,IAAM96C,EAA6B0d,IAAK,CAAC,IAAM,KAAO1d,EAAK,EACzD86C,CACT,CACF,CACF,CACA,SAASgiB,GAAah2C,EAAIgsC,EAAc,CAqBtC,MApBY,CACV,GAAAhsC,EACA,cAAegsC,EAAe,CAACA,CAAY,EAAI,OAC/C,KAAM,YACN,kBAAoBllD,GAAW4uD,GAAU5uD,CAAM,EAC/C,uBAAwB,CAAC8P,EAAMo9B,EAAM,CAAC,EAAG,EAAG,EAAE,IAAM,CAClD,IAAI/lD,EAAIiL,EACR,OAAA86C,EAAI,CAAC,IAAM/lD,EAA6B2oB,IAAK,CAAC,IAAM,KAAO3oB,EAAK,EAChE+lD,EAAI,CAAC,IAAM96C,EAA6B0d,IAAK,CAAC,IAAM,KAAO1d,EAAK,EAChE86C,EAAI,CAAC,IACEA,CACT,EACA,cAAe,CAACA,EAAM,CAAC,EAAG,EAAG,CAAC,IAAM,CAClC,MAAMltD,EAASktD,EAAI,CAAC,EAAIA,EAAI,CAAC,EAC7B,OAAIltD,GAAU,EACL,CAAC,EAAGA,EAASktD,EAAI,CAAC,CAAC,EAErB,CAACltD,EAASktD,EAAI,CAAC,EAAG,CAAC,CAC5B,CACF,CAEF,CACA,SAASiiB,GAAKj2C,EAAIk2C,EAAOlK,EAAc,CACrC,MAAMllE,EAAS,CACb,GAAAk5B,EACA,cAAegsC,EAAe,CAACA,CAAY,EAAI,OAC/C,KAAM,YACN,kBAAmB,CAACllD,EAAQqvD,EAAW,CAAC,IAAM,CAC5C,MAAMC,EAAWD,EAAS,CAAC,EAAIA,EAAS,CAAC,EACzC,OAAOD,EAAM,kBAAkBpvD,CAAM,EAAE,IAAKpf,GAAMA,EAAI0uE,CAAQ,CAChE,CACF,EACA,OAAIF,EAAM,yBACRpvE,EAAO,uBAAyBovE,EAAM,wBAEjCpvE,CACT,CACA,SAASuvE,GAAiBC,EAAc,CACtC,MAAO,IAAM,CACX,IAAIjwE,EAAQ,EACZ,OAAQswB,GACDhhB,GAAeghB,CAAK,GAGzBtwB,GAASiwE,EAAe,KAAK,IAAI,EAAG3/C,CAAK,EAAIA,EACtCtwB,GAHEswB,CAKb,CACF,CACA,SAAS4/C,IAA2B,CAClC,MAAO,IAAM,CACX,IAAIlwE,EAAQ,EACZ,OAAQswB,GAAU,CAChB,GAAI,CAAChhB,GAAeghB,CAAK,EACvB,OAAOA,EAET,MAAM6/C,EAAgBnwE,EACtB,OAAAA,GAASswB,EACF6/C,CACT,CACF,CACF,CACA,IAAIC,GAAwB,CAC1B,KAAM,UACN,SAAU,sBACV,aAAc,IACd,QAAS,IAAM,CACb,IAAIC,EAAQ,IACZ,MAAO,CAACC,EAAgB,IAAU//C,IAAS,CACzC,MAAMggD,EAAQhgD,EAAK,KAAK,CAAC,EACnBgL,EAAW,KAAK,IAAIg1C,EAAQF,CAAK,EAEvC,OADAA,EAAQE,EACJ,CAAC,MAAMh1C,CAAQ,GAAKA,EAAW,GAAKA,EAAW+0C,EAC1C/0C,EAEF+0C,CACT,CACF,CACF,EACIE,GAAqB,CACvB,KAAM,YACN,SAAU,oBACV,UAAW,CAAC,CAAE,OAAQ,CAAE,OAAAC,CAAO,CAAE,IAAgCA,GAAO,MAAM,EAAE,KAAK,CAACvwE,EAAGC,IAAM,CAC7F,QAASO,EAAI,EAAGA,EAAIR,EAAE,OAAQQ,IAAK,CACjC,MAAMD,EAASP,EAAEQ,CAAC,EAAIP,EAAEO,CAAC,EACzB,GAAID,IAAW,EACb,OAAOA,CAEX,CACA,MAAO,EACT,CAAC,CACH,EACA,SAASiwE,GAAmB,CAAE,YAAAC,EAAa,KAAAnL,CAAK,EAAG,CACjD,MAAMoL,EAAY,CAACliE,EAAKm3B,IAAa,CACnC,MAAMplC,EAASiO,EAAMiiE,EAAc9qC,EACnC,OAAIplC,GAAU,EACL,KAAK,IAAIkwE,EAAalwE,CAAM,EAE9B,KAAK,IAAI,CAACkwE,EAAalwE,CAAM,CACtC,EACA,MAAO,IAAM,IAAM,CAACggB,EAAQ8oD,IAAiB,CAC3C,MAAMsH,EAAe,CAAC,EAAG,CAAC,EAC1B,UAAWjI,KAAYW,EAAc,CACnC,MAAMvpE,EAAQygB,EAAOmoD,CAAQ,EACvBkI,EAAS9wE,EAAQ,EAAI,EAAI,EAC3BwlE,IAAS,MACXqL,EAAaC,CAAM,GAAK9wE,EACf8wE,IAAW,EACpBD,EAAaC,CAAM,EAAI,KAAK,IAAID,EAAaC,CAAM,EAAG9wE,CAAK,EAE3D6wE,EAAaC,CAAM,EAAI,KAAK,IAAID,EAAaC,CAAM,EAAG9wE,CAAK,CAE/D,CACA,MAAM6lC,EAAW,KAAK,IAAI,KAAK,IAAIgrC,EAAa,CAAC,CAAC,EAAGA,EAAa,CAAC,CAAC,EACpE,UAAWjI,KAAYW,EACrB9oD,EAAOmoD,CAAQ,EAAIgI,EAAUnwD,EAAOmoD,CAAQ,EAAG/iC,CAAQ,CAE3D,CACF,CACA,SAASkrC,GAAiBrL,EAAeiL,EAAanL,EAAO,MAAO,CAClE,MAAO,CACL,KAAM,wBACN,cAAAE,EACA,OAAQ13B,GAAK,CAAE,YAAA2iC,EAAa,KAAAnL,CAAK,EAAGkL,EAAkB,CACxD,CACF,CACA,SAASM,GAA2B,CAClC,YAAAL,EACA,WAAAM,EACA,SAAAC,EACA,SAAAC,CACF,EAAG,CACD,MAAMC,EAAgBT,EAAY,CAAC,EAAIA,EAAY,CAAC,EAC9CC,EAAY,CAACliE,EAAKjH,EAAOsgD,IAAS,CACtC,MAAMtnD,EAASkwE,EAAY,CAAC,GAAKjiE,EAAMjH,GAASsgD,EAAOqpB,EACvD,OAAIrpB,IAAS,EACJkpB,EACExwE,GAAUkwE,EAAY,CAAC,EACzBA,EAAY,CAAC,EACXlwE,EAASkwE,EAAY,CAAC,EACxBA,EAAY,CAAC,EAEflwE,CACT,EACA,MAAO,IAAM,CAAC4wE,EAAOC,IAAS,CAC5B,GAAI,CAAC7pE,EAAOy/B,CAAG,EAAImqC,EAAM,OAAO,OAAOC,CAAI,EACvCJ,GAAY,OACdzpE,EAAQypE,GACNC,GAAY,OACdjqC,EAAMiqC,GACR,MAAMppB,EAAO7gB,EAAMz/B,EACnB4pE,EAAM,OAAO,OAAOC,CAAI,EAAI,CAACX,EAAY,CAAC,EAAGA,EAAY,CAAC,CAAC,EAC3D,UAAW/4B,KAAUy5B,EAAM,KAAM,CAC/B,IAAIE,EAAc35B,EAAO,OACrBy5B,EAAM,OAAS,cACjBE,EAAc,CAACA,CAAW,GAE5B,UAAW9wD,KAAU8wD,EACnB9wD,EAAO6wD,CAAI,EAAIV,EAAUnwD,EAAO6wD,CAAI,EAAG7pE,EAAOsgD,CAAI,CAEtD,CACF,CACF,CACA,SAASypB,GAAoBn7D,EAAUs6D,EAAaM,EAAYC,EAAUC,EAAU,CAClF,MAAO,CACL,KAAM,2BACN,SAAA96D,EACA,OAAQ23B,GAAK,CAAE,YAAA2iC,EAAa,SAAAO,EAAU,SAAAC,EAAU,WAAAF,CAAW,EAAGD,EAA0B,CAC1F,CACF,CACA,SAASS,GAAoBC,EAAa,CACxC,MAAO,CACL,KAAM,YACN,SAAU,sBACV,UAAUjxE,EAAQ,CAChB,KAAM,CAAE,KAAAwP,EAAM,OAAAwQ,CAAO,EAAIhgB,EAAO,KAC1B,CAAE,MAAAmS,EAAO,KAAAmE,CAAK,EAAItW,EACxB,IAAIkxE,EAAa,GACbC,EAAc,GAClB,MAAMC,EAAY,CAAC,EACnB,QAAS1wE,EAAI,EAAGA,EAAIsf,EAAO,OAAQtf,IACIuwE,GAAY,SAASjxD,EAAOtf,CAAC,EAAE,EAAE,GAEtE0wE,EAAU,KAAK,CAAC1wE,EAAGsf,EAAOtf,CAAC,CAAC,CAAC,EAE/B,MAAM2wE,EAAa,CAAC3nC,EAAKniB,EAAKhW,IAAS,CACrC,IAAIpK,EACJ,GAAIogB,EAAI,YAAc,WAAY,CAChC,MAAM+pD,EAAYtxE,EAAO,OAAOuR,CAAI,EAAEm4B,CAAG,EACzCwnC,IAAeA,EAAaI,EAAU,SAAWn/D,EAAM,OACvD,MACF,CACA,IAAIiuB,GAAaj5B,EAAKmP,EAAK,CAAC,IAAM,KAAO,OAASnP,EAAGoK,CAAI,EAAEm4B,CAAG,EAC9D,QAAS3iC,EAAI,GAAImqE,GAAcC,IAAgBpqE,EAAIuP,EAAK,OAAQvP,IAAK,CACnE,MAAMwqE,EAAWj7D,EAAKvP,CAAC,EAAEwK,CAAI,EAAEm4B,CAAG,EAClCynC,IAAgBA,EAAc/wC,GAAamxC,GAC3CL,IAAeA,EAAa9wC,IAAcmxC,GAC1CnxC,EAAYmxC,CACd,CACF,EACA,QAAS7wE,EAAI,GAAIwwE,GAAcC,IAAgBzwE,EAAI8O,EAAK,OAAQ9O,IAC9D2wE,EAAW3wE,EAAG8O,EAAK9O,CAAC,EAAG,MAAM,EAE/B,QAASA,EAAI,GAAIwwE,GAAcC,IAAgBzwE,EAAI0wE,EAAU,OAAQ1wE,IAAK,CACxE,KAAM,CAACgpC,EAAKpqC,CAAG,EAAI8xE,EAAU1wE,CAAC,EAC9B2wE,EAAW3nC,EAAKpqC,EAAK,QAAQ,CAC/B,CACA,MAAO,CAAE,WAAA4xE,EAAY,YAAAC,CAAY,CACnC,CACF,CACF,CACA,SAASK,GAAgB,CAAE,KAAAzM,EAAM,iBAAA0M,CAAiB,EAAG,CACnD,MAAO,IAAM,IAAM,CAACzxD,EAAQ8oD,IAAiB,CAC3C,MAAM5b,EAAM,CAAC,EAAG,CAAC,EACjB,UAAWib,KAAYW,EAAc,CACnC,MAAM4I,EAAa1xD,EAAOmoD,CAAQ,EAC5BwJ,EAAW9oD,GAAW6oD,CAAU,GAAKD,EAAmB,EAAI,EAC7D5iE,GAAe6iE,CAAU,IAE1B3M,IAAS,WACX7X,EAAIykB,CAAQ,GAAKD,GACnB1xD,EAAOmoD,CAAQ,EAAIjb,EAAIykB,CAAQ,EAC3B5M,IAAS,aACX7X,EAAIykB,CAAQ,GAAKD,GACrB,CACF,CACF,CACA,SAASE,GAAsB,CAAE,KAAA7M,EAAM,IAAKhzB,CAAK,EAAG,CAClD,MAAO,IAAM,CACX,MAAM8/B,EAAa,CAAC,EACpB,IAAIC,EAAW,GACf,MAAO,IACE,CAAC9xD,EAAQ8oD,IAAiB,CAC/B,IAAI5b,EAAM,EACV,UAAWib,KAAYW,EAAc,CACnC,MAAM4I,EAAa1xD,EAAOmoD,CAAQ,EAC5B/nC,EAAY0xC,GAAY//B,IAAS,UAAY,EAAI8/B,EAAW1J,CAAQ,EAC1E0J,EAAW1J,CAAQ,EAAIuJ,EACvB,MAAMK,EAAWhgC,IAAS,UAAY2/B,EAAatxC,EACnD,GAAI,CAACvxB,GAAe6iE,CAAU,GAAK,CAAC7iE,GAAeuxB,CAAS,EAAG,CAC7DpgB,EAAOmoD,CAAQ,EAAIjb,EACnB,QACF,CACI6X,IAAS,WACX7X,GAAO6kB,GAET/xD,EAAOmoD,CAAQ,EAAIjb,EACf6X,IAAS,aACX7X,GAAO6kB,EAEX,CACAD,EAAW,EACb,CAEJ,CACF,CACA,SAASE,GAAgB9M,EAAcH,EAAMhzB,EAAM0/B,EAAmB,GAAO,CAC3E,IAAIzI,EACJ,GAAIjE,EAAK,WAAW,QAAQ,EAAG,CAC7B,MAAMkN,EAAYlN,EAAK,SAAS,WAAW,EAAI,WAAa,SAC5DiE,EAASz7B,GAAK,CAAE,KAAM0kC,EAAW,IAAKlgC,CAAK,EAAG6/B,EAAqB,CACrE,MACE5I,EAASz7B,GAAK,CAAE,KAAAw3B,EAAM,iBAAA0M,CAAiB,EAAGD,EAAe,EAE3D,MAAO,CACL,KAAM,wBACN,cAAe,CAACtM,CAAY,EAC5B,OAAA8D,CACF,CACF,CACA,SAASkJ,GAAKC,EAAcC,EAAkB,GAAM,CAClD,MAAO,CACL,KAAM,YACN,SAAU,OACV,UAAY7M,GAAkB,CAC5B,MAAM8M,EAAwB,IAAI,IAC5B7kB,EAAwB,IAAI,IAC5B8kB,EAA0B,IAAI,IAC9B7kB,EAA0B,IAAI,IAC9BptB,EAAS,KAAK,IAAI8xC,EAAa,KAAK,OAAQ5M,EAAc,KAAK,MAAM,EAC3E,QAAStlE,EAAI,EAAGA,EAAIogC,EAAQpgC,IAAK,CAC/B,MAAM0tD,EAAOwkB,EAAa,KAAKlyE,CAAC,EAC1B4vB,EAAQ01C,EAAc,KAAKtlE,CAAC,EAC5BsyE,EAAS5kB,EAAO6kB,GAAc7kB,EAAK,IAAI,EAAI,GAC3CvP,EAAUvuB,EAAQ2iD,GAAc3iD,EAAM,IAAI,EAAI,GACpD,GAAIA,GAAS89B,GAAQ4kB,IAAWn0B,EAAS,CAClC99B,GAAYqtC,EAAK,OAAQ99B,EAAM,MAAM,GACxCyiD,EAAQ,IAAIl0B,EAASvuB,CAAK,EAE5B,QACF,CACI49B,EAAQ,IAAIrP,CAAO,IACjBg0B,GAAmB,CAAC9xD,GAAYmtC,EAAQ,IAAIrP,CAAO,EAAE,OAAQvuB,EAAM,MAAM,KAC3EyiD,EAAQ,IAAIl0B,EAASvuB,CAAK,EAC1BwiD,EAAM,IAAIj0B,EAASvuB,CAAK,GAE1B49B,EAAQ,OAAOrP,CAAO,GACbvuB,GACT29B,EAAM,IAAIpP,EAASvuB,CAAK,EAEtB29B,EAAM,IAAI+kB,CAAM,IACdH,GAAmB,CAAC9xD,GAAYktC,EAAM,IAAI+kB,CAAM,EAAE,OAAQ5kB,EAAK,MAAM,KACvE2kB,EAAQ,IAAIC,EAAQ5kB,CAAI,EACxB0kB,EAAM,IAAIE,EAAQ5kB,CAAI,GAExBH,EAAM,OAAO+kB,CAAM,GACV5kB,IACT2kB,EAAQ,OAAOC,CAAM,EACrB9kB,EAAQ,IAAI8kB,EAAQ5kB,CAAI,EAE5B,CAEA,MAAO,CAAE,QADOH,EAAM,KAAO,GAAK8kB,EAAQ,KAAO,GAAK7kB,EAAQ,KAAO,EACnD,MAAAD,EAAO,QAAA8kB,EAAS,QAAA7kB,EAAS,MAAA4kB,CAAM,CACnD,CACF,CACF,CACA,SAASG,GAAchjE,KAASijE,EAAW,CACzC,IAAIzyE,EACJ,OAAIkO,GAAQsB,CAAI,EACdxP,EAASwP,EAAK,IAAKlQ,GAAQs1C,GAAiCt1C,CAAG,CAAC,EAAE,KAAK,KAAK,EAE5EU,EAAS40C,GAAiCplC,CAAI,GAE1B,OAAOxP,GAAW,UAAY,OAAOA,GAAW,UAAYA,aAAkB,OAC/EyyE,EAAU,OAAS,IACtCzyE,GAAU,MAAMyyE,EAAU,KAAK,KAAK,CAAC,IAEhCzyE,CACT,CACA,IAAI0yE,IAAuCC,IACzCA,EAAoBA,EAAoB,kBAAuB,CAAC,EAAI,oBACpEA,EAAoBA,EAAoB,2BAAgC,CAAC,EAAI,6BAC7EA,EAAoBA,EAAoB,oCAAyC,CAAC,EAAI,sCACtFA,EAAoBA,EAAoB,aAAkB,CAAC,EAAI,eACxDA,IACND,IAAsB,CAAC,CAAC,EAC3B,SAASE,GAAoCrzE,EAAO,CAClD,OAAOA,GAAS,MAAQk1C,GAAal1C,CAAK,CAC5C,CACA,SAASszE,GAAkCtzE,EAAO,CAChD,OAAOA,GAAS,IAClB,CACA,SAASuzE,GAAgBC,EAAW,CAClC,OAAQA,EAAW,CACjB,IAAK,SACL,IAAK,MACL,IAAK,eACL,IAAK,OACL,IAAK,QACH,OAAOH,GACT,QACE,OAAOC,EACX,CACF,CACA,SAASG,GAAaD,EAAW,CAC/B,OAAQA,EAAW,CACjB,IAAK,SACL,IAAK,MACL,IAAK,OACL,IAAK,QACH,MAAO,QACT,QACE,MAAO,UACX,CACF,CACA,SAASE,GAAYC,EAAUH,EAAW99D,EAAO,CAAC,EAAG,CAOnD,OANelT,EAAgB,CAC7B,SAAUmxE,EACV,KAAM,MACN,UAAWF,GAAaD,CAAS,EACjC,WAAYD,GAAgBC,CAAS,CACvC,EAAG99D,CAAI,CAET,CACA,SAASk+D,GAAcD,EAAUH,EAAW99D,EAAO,CAAC,EAAG,CAOrD,OANelT,EAAgB,CAC7B,SAAUmxE,EACV,KAAM,QACN,UAAWF,GAAaD,CAAS,EACjC,WAAYD,GAAgBC,CAAS,CACvC,EAAG99D,CAAI,CAET,CACA,SAASm+D,GAAoBF,EAAUj+D,EAAO,CAAC,EAAG,CAChD,MAAM9N,EAAK8N,EAAM,CAAE,IAAAgL,EAAM,KAAW,IAAAC,EAAM,GAAS,EAAI/Y,EAAIksE,EAAUpxE,GAAUkF,EAAI,CAAC,MAAO,KAAK,CAAC,EACjG,OAAOpF,EAAgB,CACrB,KAAM,QACN,SAAUmxE,EACV,UAAW,QACX,WAAYN,GACZ,UAAW,IAAO/iD,GAAUhhB,GAAeghB,CAAK,EAAItH,GAAMtI,EAAK4P,EAAO3P,CAAG,EAAI2P,CAC/E,EAAGwjD,CAAO,CACZ,CACA,SAASC,GAA0BJ,EAAUH,EAAW99D,EAAO,CAAC,EAAG,CACjE,MAAM9N,EAAK8N,EAAM,CAAE,aAAAu6D,CAAa,EAAIroE,EAAIksE,EAAUpxE,GAAUkF,EAAI,CAAC,cAAc,CAAC,EAIhF,OAHenF,EAAcD,EAAgB,CAAC,EAAGoxE,GAAcD,EAAUH,EAAWM,CAAO,CAAC,EAAG,CAC7F,UAAW9D,GAAiBC,CAAY,CAC1C,CAAC,CAEH,CACA,SAAS+D,GAAiCL,EAAUH,EAAW99D,EAAO,CAAC,EAAG,CAIxE,OAHejT,EAAcD,EAAgB,CAAC,EAAGoxE,GAAcD,EAAUH,EAAW99D,CAAI,CAAC,EAAG,CAC1F,UAAWw6D,GAAyB,CACtC,CAAC,CAEH,CACA,SAAS+D,GAA+BN,EAAUnO,EAAMhzB,EAAO,UAAW98B,EAAM89D,EAAW,CACzF,MAAO,CACLI,GAAcD,EAAUH,EAAW99D,CAAI,EACvC+8D,GAAgB/8D,EAAK,QAAS8vD,EAAMhzB,EAAM98B,EAAK,gBAAgB,EAC/D,GAAGA,EAAK,SAAW,KAAO,CAAC+5D,GAAO/5D,EAAK,QAASA,EAAK,OAAO,CAAC,EAAI,CAAC,CACpE,CACF,CACA,IAAIw+D,GAAkB,KAAM,CAC1B,YAAYliE,EAAM4nC,EAAO,CAAE,MAAAtpB,CAAM,EAAGrc,EAAQ,CAC1C,KAAK,KAAOjC,EACZ,KAAK,MAAQ4nC,EACb,KAAK,MAAQtpB,EACb,KAAK,SAAWrc,EAAO,EACzB,CACF,EACIkgE,GAA6B,KAAM,CACrC,YAAYlgE,EAAQuvD,EAAgB4Q,EAAa,CAC/C,KAAK,OAASngE,EACd,KAAK,eAAiBuvD,EACtB,KAAK,YAAc4Q,EACnB,KAAK,KAAO,iBACd,CACF,EACIC,GAAS,cAAcpc,EAAW,CACpC,YAAYqc,EAAY,CACtB,MAAM,EACN,KAAK,WAAa,CAAC,EACnB,KAAK,eAAiB,OACtB,KAAK,UAAYJ,GACjB,KAAK,WAAaxrD,GAAS,IAAI,EAC/B,KAAK,UAAY,IAAIkjB,EAAM,CAAE,KAAM,aAAc,UAAW,EAAK,CAAC,EAClE,KAAK,KAAO,CAER,EAEC,OAED,EAEC,MACL,EACA,KAAK,WAAa,CAChB,IACA,GAEF,EACA,KAAK,gBAAkB,GACvB,KAAK,UAAY,IAAIsN,GACrB,KAAK,kBAAoB,GACzB,KAAK,gBAAkB,IAAI0gB,GAC3B,KAAM,CACJ,UAAAhU,EACA,UAAA2uB,EAAY,CACV,CAEF,EACA,cAAAC,EAAgB,CAAC,EACjB,eAAAC,EAAiB,CAAC,EAClB,oBAAAC,EAAsB,GACtB,YAAAC,EAAc,EAChB,EAAIL,EACJ,KAAK,IAAM1uB,EACX,KAAK,cAAgB4uB,EACrB,KAAK,eAAiBC,EACtB,KAAK,YAAcE,EACnB,KAAK,aAAe,KAAK,UAAU,YACjC,IAAI/oC,EAAM,CACR,KAAM,GAAG,KAAK,UAAU,WACxB,UAAW8oC,EACX,OAAQ,EACR,eAAgB,KAAK,uBAAuB,MAAM,CACpD,CAAC,CACH,EACA,KAAK,eAAiB,IAAI9oC,EAAM,CAC9B,KAAM,GAAG,KAAK,UAAU,aACxB,UAAW8oC,EACX,OAAQ,EACR,eAAgB,KAAK,uBAAuB,WAAW,CACzD,CAAC,EACD,KAAK,cAAgB,KAAK,eAAe,YAAY,IAAI9oC,EAAM,CAAE,KAAM,gBAAiB,OAAQ,CAAE,CAAC,CAAC,EACpG,KAAK,eAAiB,KAAK,eAAe,YAAY,IAAIA,EAAM,CAAE,KAAM,iBAAkB,OAAQ,EAAG,CAAC,CAAC,EACvG,KAAK,UAAY2oC,EACjB,KAAK,WAAa,KAAK,UAAU,YAC/B,IAAI3oC,EAAM,CACR,KAAM,GAAG,KAAK,UAAU,iBACxB,OAAQ,CAEV,CAAC,CACH,EACA,KAAK,gBAAkB,IAAIA,EAAM,CAC/B,KAAM,GAAG,KAAK,EAAE,cAChB,UAAW8oC,EACX,OAAQ,EACR,eAAgB,KAAK,uBAAuB,YAAY,CAC1D,CAAC,CACH,CACA,IAAI,IAAK,CACP,IAAI9sE,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,aAAe,KAAO,OAASA,EAAG,KAAO,KAAOiL,EAAK,KAAK,UACpF,CACA,IAAI,MAAO,CACT,IAAIjL,EACJ,OAAQA,EAAK,KAAK,YAAY,OAAS,KAAOA,EAAK,EACrD,CACA,IAAI,MAAO,CACT,IAAIA,EACJ,OAAQA,EAAK,KAAK,QAAU,KAAOA,EAAK,KAAK,UAC/C,CACA,IAAI,QAAQ5H,EAAO,CACjB,KAAK,WAAW,QAAUA,EAC1B,KAAK,eAAe,CACtB,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,WAAW,OACzB,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,MAAQ,MAAQ,KAAK,KAAK,OAAS,CACjD,CACA,IAAI,gBAAiB,CACnB,IAAI4H,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,WAAW,UAAY,KAAO,OAASA,EAAG,UAAY,KAAOiL,EAAK,EAC5F,CACA,cAAe,CACb,KAAK,gBAAkB,EACzB,CACA,eAAeD,EAAO,CACpB,KAAK,MAAQA,EACb,KAAK,aAAa,CACpB,CACA,aAAaA,EAAO,CAClB,KAAK,WAAaA,EACd,KAAK,OAASA,GAChB,KAAK,aAAa,CAEtB,CACA,uBAAuBw7C,EAAM79B,EAAM,CACjC,KAAM,CAAE,WAAAqkD,EAAY,KAAA5iE,EAAM,QAAAgmC,CAAQ,EAAI,KAClCoW,GACF,KAAK,IAAI,mBAAmB,iBAAiB,CAAE,GAAIwmB,EAAY,KAAA5iE,CAAK,CAAC,EAEnEue,GACF,KAAK,IAAI,mBAAmB,eAAe,CAAE,GAAIqkD,EAAY,KAAA5iE,EAAM,QAAAgmC,EAAS,eAAgBznB,CAAK,CAAC,EAEpG,KAAK,UAAU,IAAI4jD,GAA2B,KAAM5jD,EAAM69B,CAAI,CAAC,CACjE,CACA,qBAAsB,CACpB,MAAO,CAAE,MAAO,EAAG,MAAO,CAAE,CAC9B,CACA,uBAAuBp8C,EAAM6iE,EAAW,EAAG,CACzC,IAAIC,EAAa,EACjB,OAAQ9iE,EAAM,CACZ,IAAK,OACL,IAAK,QACH,MACF,IAAK,SACH8iE,GAAc,IACd,MACF,IAAK,SACHA,GAAc,IACd,MACF,IAAK,YACHD,GAAY,KACZ,MACF,IAAK,aACHC,GAAc,KACd,KACJ,CAEA,MAAO,CADM,IAAM,KAAK,kBAAoBA,EAC9BD,CAAQ,CACxB,CACA,YAAY7iE,EAAMmmD,EAAU,CAC1B,OAAO,KAAK,gBAAgB,YAAYnmD,EAAMmmD,CAAQ,CACxD,CACA,SAASnmD,EAAM4nC,EAAO,CACpB,KAAK,gBAAgB,SAAS5nC,EAAM4nC,CAAK,CAC3C,CACA,wBAAyB,CAEzB,CACA,SAAU,CACR,KAAK,WAAW,QAASjsB,GAAMA,EAAE,CAAC,EAClC,KAAK,WAAa,CAAC,EACnB,KAAK,IAAI,mBAAmB,iBAAiB,IAAI,CACnD,CACA,mBAAmB2qB,EAAWjkC,EAAY,CACxC,MAAM0gE,EAAoB,KAAK,oBAAoBz8B,CAAS,EACtDroC,EAAqCoE,IAAW0gE,CAAiB,EACjEt0D,EAAS,CAAC,EAChB,GAAI,CAACxQ,EACH,OAAOwQ,EAET,MAAMu0D,EAAY,IAAIC,IAAU,CAC9B,UAAWj1E,KAASi1E,EACd,MAAM,QAAQj1E,CAAK,EACrBg1E,EAAU,GAAGh1E,CAAK,EACT,OAAOA,GAAU,SAC1Bg1E,EAAU,GAAG,OAAO,OAAOh1E,CAAK,CAAC,EAEjCygB,EAAO,KAAKzgB,CAAK,CAGvB,EACA,OAAAg1E,EAAU,GAAG/kE,EAAK,IAAKlQ,GAAQ,KAAK,WAAWA,CAAG,CAAC,CAAC,EAC7C0gB,CACT,CACA,QAAQ63B,EAAW,CACjB,OAAO,KAAK,mBAAmBA,EAAW,KAAK,aAAa,CAC9D,CACA,iBAAiBA,EAAW,CAC1B,IAAI1wC,EACJ,OAAQA,EAAK,KAAK,cAAc,KAAK,oBAAoB0wC,CAAS,CAAC,IAAM,KAAO1wC,EAAK,CAAC,CACxF,CACA,SAAS0wC,EAAW,CAClB,OAAO,KAAK,mBAAmBA,EAAW,KAAK,cAAc,CAC/D,CACA,oBAAoBA,EAAW,CAC7B,OAAOA,CACT,CAEA,UAAUA,EAAW,CACnB,MAAM48B,EAAe,KAAK,gBAAgB58B,CAAS,EAC7C68B,EAAgB,KAAK,UAAU,WAAYnpE,GAAWA,EAAO,UAAUssC,CAAS,CAAC,EACvF,OAAO48B,EAAa,OAAOC,EAAc,KAAK,CAAC,CACjD,CAEA,mBAAoB,CAClB,KAAK,gBAAkB,EACzB,CACA,gBAAiB,CACf,KAAK,IAAI,mBAAmB,eAAe,IAAI,CACjD,CACA,YAAa,CAEX,KAAM,CAAE,WAAAC,EAAa,EAAG,QAAAn9B,EAAU,EAAK,EAAI,KAAK,WAAW,eAAe,OAC1E,GAAI,CAACA,GAAWm9B,IAAe,EAC7B,MAAO,GAET,OAAQ,KAAK,oBAAoB,EAAG,CAClC,IAAK,GACL,IAAK,GACH,MAAO,GACT,IAAK,GACL,QACE,OAAOA,CACX,CACF,CACA,eAAeC,EAAoB,CACjC,KAAM,CAAE,YAAA/nC,EAAa,QAAA2K,EAAU,EAAK,EAAI,KAAK,WAAW,eAAe,OACvE,GAAI,CAACA,GAAW3K,IAAgB,OAC9B,OAAO+nC,EAET,OAAQ,KAAK,oBAAoB,EAAG,CAClC,IAAK,GACH,OAAO/nC,EACT,IAAK,GACL,IAAK,GACH,OAAO+nC,CACX,CACF,CACA,qBAAsB,CACpB,IAAIztE,EAAIiL,EACR,MAAMoB,GAAUpB,GAAMjL,EAAK,KAAK,IAAI,mBAAqB,KAAO,OAASA,EAAG,mBAAmB,IAAM,KAAO,OAASiL,EAAG,OACxH,OAAIoB,GAAU,KACL,EAELA,IAAW,KACN,EAEF,CACT,CACA,wBAAyB,CACvB,OAAO,KAAK,UAAU,WAAYjI,GAAWA,EAAO,iBAAiB,CAAC,EAAE,OAAO,CAAC+qD,EAAOue,IAAY,OAAO,OAAOve,EAAOue,CAAO,EAAG,CAAC,CAAC,CACtI,CACA,SAASrmC,EAAOsmC,EAAgB,CAC9B,KAAM,CAAE,UAAAhB,EAAW,QAAAv8B,EAAS,UAAAw9B,CAAU,EAAI,KAC1C,GAAI,GAACx9B,GAAW,CAACw9B,EAAU,SAG3B,UAAWC,KAAYlB,EAAW,CAChC,GAAIgB,GAAkB,CAACA,EAAe,SAASE,CAAQ,EACrD,SAEF,IAAI16B,EACJ,OAAQ06B,EAAU,CAChB,IAAK,GACH16B,EAAQ,KAAK,mBAAmB9L,CAAK,EACrC,MACF,IAAK,GACL,IAAK,GACH8L,EAAQ,KAAK,sBACX9L,EACAwmC,IAAa,CAEf,EACA,MACF,IAAK,GACH16B,EAAQ,KAAK,qBAAqB9L,CAAK,EACvC,KACJ,CACA,GAAI8L,EACF,MAAO,CAAE,SAAA06B,EAAU,MAAO16B,EAAM,MAAO,SAAUA,EAAM,QAAS,CAEpE,CACF,CACA,mBAAmB9L,EAAO,CACxB,MAAM8L,EAAQ,KAAK,aAAa,SAAS9L,EAAM,EAAGA,EAAM,CAAC,EACzD,GAAI8L,GAASA,EAAM,MAAM,UAAY,GACnC,MAAO,CAAE,MAAOA,EAAM,MAAO,SAAU,CAAE,CAG7C,CACA,qBAAqB26B,EAAQ,CAC3B,MAAM,IAAI,MAAM,2DAA2D,CAC7E,CACA,6BAA6BzmC,EAAOgmC,EAAO,CACzC,MAAMl6B,EAAQ7wB,GAAe+kB,EAAM,EAAGA,EAAM,EAAGgmC,CAAK,EACpD,GAAIl6B,EAAM,UAAY,QAAUA,EAAM,QAAQ,MAAM,UAAY,GAC9D,MAAO,CAAE,MAAOA,EAAM,QAAQ,MAAO,SAAU,KAAK,KAAKA,EAAM,eAAe,CAAE,CAGpF,CACA,sBAAsB26B,EAAQC,EAAsB,CAClD,MAAM,IAAI,MAAM,4DAA4D,CAC9E,CACA,mBAAmB/7B,EAAOtpB,EAAO,CAC/B,KAAK,UAAU,IAAI,KAAK,UAAU,YAAaspB,EAAOtpB,EAAO,IAAI,CAAC,CACpE,CACA,yBAAyBspB,EAAOtpB,EAAO,CACrC,KAAK,UAAU,IAAI,KAAK,UAAU,kBAAmBspB,EAAOtpB,EAAO,IAAI,CAAC,CAC1E,CACA,iCAAiCspB,EAAOtpB,EAAO,CAC7C,OAAO,IAAI,KAAK,UAAU,wBAAyBspB,EAAOtpB,EAAO,IAAI,CACvE,CACA,iBAAiBwuC,EAAQ7mB,EAAS,CAChC,KAAK,QAAUA,EACf,KAAK,gBAAkB,GACvB,KAAK,SAAS,qBAAsB,CAAE,OAAA6mB,EAAQ,QAAA7mB,CAAQ,CAAC,CACzD,CACA,WAAY,CACV,OAAO,KAAK,OACd,CACA,cAAe,CACb,OAAO,KAAK,SACd,CACA,qBAAsB,CACpB,OAAOx1C,EAAcD,EAAgB,CAAC,EAAG,KAAK,GAAG,EAAG,CAAE,OAAQ,IAAK,CAAC,CACtE,CACA,aAAao2C,EAAO7iC,EAAQ6/D,EAAmB,OAAQ,CACrD,IAAIhuE,EACJ,OAAIgxC,EAAM,YACAhxC,EAAK,KAAK,IAAI,cAAc,KAAKgxC,EAAM,UAAWp2C,EAAgB,CAAE,SAAU,KAAK,EAAG,EAAGuT,CAAM,CAAC,IAAM,KAAOnO,EAEhHguE,EAAiB7/D,EAAO,KAAK,CACtC,CACA,eAAeqrC,EAAQrrC,EAAQ8/D,EAAez0B,EAAO,SAAS,EAAG,CAC/D,IAAIx5C,EAAIiL,EACR,MAAMijE,EAAc,CAAE,MAAOjjE,GAAMjL,EAAKmO,EAAO,MAAM,QAAU,KAAO,OAASnO,EAAG,OAAS,KAAOiL,EAAK,CAAE,EACnGkjE,EAAc/lE,GAAc8lE,EAAaD,CAAY,EAC3D,GAAIz0B,EAAO,UAAW,CACpB,MAAM3+B,EAAQ,KAAK,IAAI,cAAc,KAAK2+B,EAAO,UAAW3+C,EAAcD,EAAgBA,EAAgB,CACxG,SAAU,KAAK,EACjB,EAAGuzE,CAAW,EAAGhgE,CAAM,EAAG,CACxB,MAAOA,EAAO,MAAM,KACtB,CAAC,CAAC,EACF,OAAO/F,GAAcyS,EAAOszD,CAAW,CACzC,CACA,OAAOA,CACT,CACA,kBAAkBC,EAAY50B,EAAQrrC,EAAQ8/D,EAAez0B,EAAO,SAAS,EAAG,CAAE,iBAAA60B,EAAmB,EAAK,EAAI,CAAC,EAAG,CAChH,KAAM,CAAE,MAAAhnC,CAAM,EAAIl5B,EAAO,MACnBmgE,EAAc,KAAK,eAAe90B,EAAQrrC,EAAQ8/D,CAAY,EAC9D79B,EAAU,KAAK,SAAWk+B,EAAY,KAAO,GAAKjnC,GAAS,CAAC,MAAMA,EAAM,CAAC,GAAK,CAAC,MAAMA,EAAM,CAAC,EAC9FgnC,EACFD,EAAW,cAAcvzE,EAAcD,EAAgB,CAAE,QAAAw1C,CAAQ,EAAGk+B,CAAW,EAAG,CAAE,aAAuCjnC,GAAM,EAAG,aAAuCA,GAAM,CAAE,CAAC,CAAC,EAErL+mC,EAAW,cAAcxzE,EAAgB,CAAE,QAAAw1C,CAAQ,EAAGk+B,CAAW,CAAC,EAEhE,OAAO90B,EAAO,OAAU,YAAc,CAAC40B,EAAW,YACpDA,EAAW,KAAK,MAAM,EAAI,EAC1BA,EAAW,WAAW,EACtBA,EAAW,eAAe,EAE9B,CACA,YAAYG,EAAQC,EAAS,CAE7B,CACA,IAAI,sBAAuB,CACzB,IAAIxuE,EACJ,OAAQA,EAAK,KAAK,wBAA0B,KAAOA,EAAK,CAAE,gBAAiB,IAAK,iBAAkB,GAAI,CACxG,CACA,YAAYyuE,EAAe,CACzB,KAAM,CAAE,MAAOC,EAAiB,OAAQC,CAAiB,EAAIF,GAAwC,CAAE,MAAO,IAAK,OAAQ,GAAI,EACzHG,EAA0BH,EAAgB,CAAE,gBAAAC,EAAiB,iBAAAC,CAAiB,EAAI,OAClFE,EAASxhE,GAAS,KAAK,qBAAsBuhE,CAAuB,GAAK,KAC/E,OAAIC,IACF,KAAK,sBAAwBD,EAC7B,KAAK,kBAAkB,GAElBC,CACT,CACA,UAAUtpD,EAAO,CAEjB,CACF,EACAknD,GAAO,kBAAoB,KAC3BtxE,EAAiB,CACfu/C,GAAY,CACV,YAAa,SAASo0B,EAAQC,EAAQ,CACpC,KAAK,uBAAuBA,EAAQD,CAAM,CAC5C,CACF,CAAC,CACH,EAAGrC,GAAO,UAAW,iBAAkB,CAAC,EACxC,IAAIuC,GAAkD,GAClDC,GAAqB,KAAM,CAC7B,YAAYC,EAAYC,EAAepd,EAAgB,CACrD,KAAK,WAAamd,EAClB,KAAK,cAAgBC,EACrB,KAAK,eAAiBpd,EACtB,KAAK,OAAS,CAAC,EACf,KAAK,OAAS,CAAC,EACf,KAAK,oBAAsB,EAC3B,KAAK,KAAO,QACd,CACA,eAAezzC,EAAO,CACpB,KAAK,oBAAsBA,CAC7B,CACA,aAAa8wD,EAAc,CACzB,IAAIpvE,EAAIiL,EAAIC,EAAIU,EAChB,KAAM,CACJ,WAAAohE,EACA,KAAA5iE,EACA,UAAWilE,EACX,eAAgBC,EAChB,gBAAiBC,EACjB,eAAA3T,CACF,EAAIwT,EACE,CAAE,WAAArwD,EAAaiuD,CAAW,EAAIpR,GAA0C,CAAC,EAC/E,GAAI,KAAK,OAAOoR,CAAU,GAAK,KAC7B,MAAM,IAAI,MAAM,sDAAsD,KAAK,OAAOA,CAAU,CAAC,EAAE,EAE7F,OAAO,KAAK,KAAK,MAAM,EAAE,SAAW,IACtC,KAAK,KAAO,KAAK,qBAAuBgC,GAAkD,sBAAwB,WAEnH/jE,GAAMjL,EAAK,KAAK,QAAQoK,CAAI,IAAM,OAAYpK,EAAGoK,CAAI,EAAI,CAAC,GAC3D,MAAMolE,EAAc,KAAK,UAAUzwD,CAAU,EAC7C,IAAI0wD,EAAY,KAAK,OAAOrlE,CAAI,EAAEolE,CAAW,EAC7C,OAAKC,IACHA,GAAa7jE,GAAMV,EAAK,KAAK,OAAOd,CAAI,GAAGolE,CAAW,IAAM,KAAO5jE,EAAKV,EAAGskE,CAAW,EAAI,CACxF,UAAW,CAAC,EACZ,MAAO,KAAK,WAAW,YACrB,IAAIxrC,EAAM,CACR,KAAM,GAAG55B,CAAI,WACb,MAAO,GACP,OAAQ,EACR,eAAgBglE,EAAa,uBAAuB,MAAM,CAC5D,CAAC,CACH,EACA,UAAW,KAAK,cAAc,YAC5B,IAAIprC,EAAM,CACR,KAAM,GAAG55B,CAAI,aACb,OAAQ,EACR,eAAgBglE,EAAa,uBAAuB,WAAW,CACjE,CAAC,CACH,EACA,WAAY,KAAK,eAAe,YAC9B,IAAIprC,EAAM,CACR,KAAM,GAAG55B,CAAI,cACb,OAAQ,EACR,eAAgBglE,EAAa,uBAAuB,YAAY,CAClE,CAAC,CACH,CACF,GAEF,KAAK,OAAOpC,CAAU,EAAI,CAAE,WAAYyC,EAAW,aAAAL,CAAa,EAChEK,EAAU,UAAU,KAAKzC,CAAU,EACnCyC,EAAU,MAAM,YAAYJ,CAAe,EAC3CI,EAAU,UAAU,YAAYH,CAAoB,EACpDG,EAAU,WAAW,YAAYF,CAAqB,EAC/CE,EAAU,KACnB,CACA,YAAYL,EAAc,CACxB,IAAIpvE,EAAIiL,EACR,KAAM,CAAE,WAAA+hE,EAAY,eAAApR,EAAgB,KAAAxxD,EAAM,UAAAwjE,EAAW,eAAA8B,EAAgB,gBAAAC,EAAiB,YAAAnD,CAAY,EAAI4C,EAChG,CAAE,WAAArwD,EAAaiuD,CAAW,EAAIpR,GAA0C,CAAC,GAC1E3wD,GAAMjL,EAAK,KAAK,OAAOoK,CAAI,IAAM,KAAO,OAASpK,EAAG+e,CAAU,IAAM,MAAgB9T,EAAG,UAAU,SAAS+hE,CAAU,IAGrH,KAAK,OAAOA,CAAU,GAAK,MAC7B,KAAK,aAAa,CAChB,WAAAA,EACA,eAAgBR,EAChB,KAAApiE,EACA,UAAAwjE,EACA,eAAA8B,EACA,gBAAAC,CACF,CAAC,EAEH,KAAK,aAAaP,CAAY,EAChC,CACA,aAAaA,EAAc,CACzB,IAAIpvE,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,KAAM,CAAE,WAAA6vD,EAAY,eAAApR,EAAgB,UAAAgS,EAAW,eAAA8B,EAAgB,gBAAAC,EAAiB,KAAAvlE,CAAK,EAAIglE,EACnF,CAAE,WAAArwD,EAAaiuD,CAAW,EAAIpR,GAA0C,CAAC,EAC/E,GAAI,KAAK,OAAOoR,CAAU,GAAK,KAC7B,MAAM,IAAI,MAAM,uDAAuDA,CAAU,EAAE,EAErF,MAAMwC,EAAc,KAAK,UAAUzwD,CAAU,EACvC0wD,GAAavkE,GAAMlL,EAAK,KAAK,OAAOoK,CAAI,IAAM,KAAO,OAASpK,EAAGwvE,CAAW,IAAM,KAAOtkE,GAAMD,EAAK,KAAK,OAAO+hE,CAAU,IAAM,KAAO,OAAS/hE,EAAG,WAOzJ,GANIwkE,IACFA,EAAU,UAAYA,EAAU,UAAU,OAAQh2E,GAAMA,IAAMuzE,CAAU,EACxEyC,EAAU,MAAM,YAAY7B,CAAS,EACrC6B,EAAU,UAAU,YAAYC,CAAc,EAC9CD,EAAU,WAAW,YAAYE,CAAe,GAEhBF,GAAU,UAAU,SAAY,EAChE,KAAK,WAAW,YAAYA,EAAU,KAAK,EAC3C,KAAK,cAAc,YAAYA,EAAU,SAAS,EAClD,KAAK,eAAe,YAAYA,EAAU,UAAU,EACpD,OAAO,KAAK,OAAOrlE,CAAI,EAAEolE,CAAW,EACpC,OAAO,KAAK,OAAOplE,CAAI,EAAE4iE,CAAU,UACIyC,GAAU,UAAU,OAAU,EAAG,CACxE,MAAMG,GAAoBzyD,EAAK,KAAK,QAAQvR,EAAkC6jE,GAAU,YAAc,KAAO,OAAS7jE,EAAG,CAAC,CAAC,IAAM,KAAO,OAASuR,EAAG,aACpJsyD,EAAU,MAAM,eAAqDG,GAAiB,uBAAuB,MAAM,EACnHH,EAAU,UAAU,eAAqDG,GAAiB,uBAAuB,WAAW,EAC5HH,EAAU,WAAW,eAAqDG,GAAiB,uBAAuB,YAAY,CAChI,CACA,OAAO,KAAK,OAAO5C,CAAU,CAC/B,CACA,UAAUjuD,EAAY,CACpB,OAAI,KAAK,OAAS,SACTA,EAEL,OAAOA,GAAe,WACxBA,EAAa,OAAOA,EAAW,MAAM,GAAG,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC,EAClD,CAACA,GACI,EAGJ,KAAK,MACVqC,GAAM,EAAGrC,EAAa,KAAK,oBAAqB,CAAC,EAAIiwD,EACvD,CACF,CACA,SAAU,CACR,UAAWnG,KAAU,OAAO,OAAO,KAAK,MAAM,EAC5C,UAAW4G,KAAa,OAAO,OAAO5G,CAAM,EAC1C,KAAK,WAAW,YAAY4G,EAAU,KAAK,EAC3C,KAAK,cAAc,YAAYA,EAAU,SAAS,EAClD,KAAK,eAAe,YAAYA,EAAU,UAAU,EAGxD,KAAK,OAAS,CAAC,EACf,KAAK,OAAS,CAAC,CACjB,CACF,EACII,GAAsB,KAAM,CAC9B,YAAYC,EAAWC,EAAe,CACpC,KAAK,UAAYD,EACjB,KAAK,cAAgBC,EACrB,KAAK,WAAa,CAAC,EACnB,KAAK,WAAW,KAEd,KAAK,cAAc,YAAY,eAAiBl0E,GAAM,KAAK,gBAAgBA,EAAE,UAAU,CAAC,EACxF,KAAK,cAAc,YAAY,eAAiBA,GAAM,KAAK,iBAAiBA,EAAE,UAAU,CAAC,CAC3F,CACF,CACA,SAAU,CACR,KAAK,WAAW,QAASs0D,GAAOA,EAAG,CAAC,CACtC,CACA,gBAAgB6f,EAAY,CAC1B,KAAM,CAAE,QAAA1hC,CAAQ,EAAI,KAAK,UACzB,OAAA0hC,EAAW,OAAO1hC,EAAQ,KAAM,MAAM,EACtC0hC,EAAW,OAAO1hC,EAAQ,IAAK,KAAK,EACpC0hC,EAAW,OAAO1hC,EAAQ,MAAO,OAAO,EACxC0hC,EAAW,OAAO1hC,EAAQ,OAAQ,QAAQ,EACnC,CAAE,WAAA0hC,CAAW,CACtB,CACA,iBAAiBA,EAAY,CAC3B,IAAIhwE,EAAIiL,EACR,KAAM,CAAE,MAAA6wC,EAAO,SAAAm0B,EAAU,SAAAC,CAAS,EAAI,KAAK,UACrCC,EAAgBH,EAAW,MAAM,EACjCI,EAAiBjvB,GAAY,CACjC,IAAIjjC,EACJ,MAAMmyD,EAAuBL,EAAW,OAAS,GAC3CM,GAAqBpyD,EAAMijC,EAAQ,aAAe,KAAOjjC,EAAMijC,EAAQ,SAAW/V,GAAK,uBACvFzD,EAAWqoC,EAAW,MACtBpoC,EAAY,KAAK,IAAI0oC,EAAmBD,CAAoB,EAClElvB,EAAQ,gBAAgBxZ,EAAUC,CAAS,CAC7C,EACM2oC,EAAY99B,GACZA,IAAU,OACL09B,EAAc,EACZ19B,IAAU,QACZ09B,EAAc,EAAIA,EAAc,OAC9B19B,IAAU,UACnBrzC,EAAO,MAAM,4BAA4BqzC,CAAK,EAAE,EAE3C09B,EAAc,EAAIA,EAAc,MAAQ,GAE3CK,EAA2B,CAACrvB,EAASW,IAAY,CACrD,MAAM2uB,EAAQN,EAAc,EAC5BhvB,EAAQ,KAAK,EAAIovB,EAASpvB,EAAQ,SAAS,EAC3CA,EAAQ,KAAK,EAAIsvB,EACjBtvB,EAAQ,KAAK,aAAe,MAC5BivB,EAAcjvB,CAAO,EACrB,MAAMj7B,EAAOi7B,EAAQ,KAAK,YAAY,EAChCuvB,EAAa,KAAK,KAAKxqD,EAAK,EAAIuqD,EAAQvqD,EAAK,OAAS47B,CAAO,EACnEquB,EAAc,OAAOO,EAAY,KAAK,CACxC,EACMC,EAA8B,CAACxvB,EAASW,IAAY,CACxD,MAAM2uB,EAAQN,EAAc,EAAIA,EAAc,OAC9ChvB,EAAQ,KAAK,EAAIovB,EAASpvB,EAAQ,SAAS,EAC3CA,EAAQ,KAAK,EAAIsvB,EACjBtvB,EAAQ,KAAK,aAAe,SAC5BivB,EAAcjvB,CAAO,EACrB,MAAMj7B,EAAOi7B,EAAQ,KAAK,YAAY,EAChCuvB,EAAa,KAAK,KAAKD,EAAQvqD,EAAK,EAAI47B,CAAO,EACrDquB,EAAc,OAAOO,EAAY,QAAQ,CAC3C,EAIA,GAHA50B,EAAM,KAAK,QAAUA,EAAM,QAC3Bm0B,EAAS,KAAK,QAAUA,EAAS,QACjCC,EAAS,KAAK,QAAUA,EAAS,QAC7Bp0B,EAAM,QAAS,CACjB,KAAM,CAAE,QAAAgG,EAAUmuB,EAAS,QAAUlyB,GAAQ,cAAgBA,GAAQ,aAAc,EAAIjC,EACvF00B,EAAyB10B,EAAOgG,CAAO,CACzC,CACA,OAAImuB,EAAS,SACXO,EAAyBP,GAAWjwE,EAAKiwE,EAAS,UAAY,KAAOjwE,EAAK,CAAC,EAEzEkwE,EAAS,SACXS,EAA4BT,GAAWjlE,EAAKilE,EAAS,UAAY,KAAOjlE,EAAK,CAAC,EAEzE,CAAE,WAAYklE,CAAc,CACrC,CACF,EACIS,GAAsB,KAAM,CAC9B,YAAYtU,EAAOuU,EAAaC,EAAeC,EAAa,CAC1D,KAAK,MAAQzU,EACb,KAAK,YAAcuU,EACnB,KAAK,cAAgBC,EACrB,KAAK,YAAcC,EACnB,KAAK,UAAY,GACjB,KAAK,gBAAkB,GACvB,KAAK,cAAgC,IAAI,IACzC,KAAK,WAAa,CAAC,EACnB,KAAK,WAAW,KACd,KAAK,YAAY,YAAY,qBAAsB,IAAM,KAAK,mBAAmB,CAAC,EAClF,KAAK,YAAY,YAAY,YAAa,IAAM,KAAK,WAAW,CAAC,EACjE,KAAK,YAAY,YAAY,aAAc,IAAM,KAAK,YAAY,CAAC,EACnE,KAAK,cAAc,YAAY,kBAAmB,IAAM,KAAK,iBAAiB,CAAC,EAC/E,KAAK,YAAY,YAAY,cAAe,IAAM,KAAK,aAAa,CAAC,CACvE,CACF,CACA,SAAU,CACR,KAAK,WAAW,QAAS5gB,GAAOA,EAAG,CAAC,CACtC,CACA,YAAa,CACX,KAAK,cAAc,OACjB,CAEF,CACF,CACA,aAAc,CACZ,KAAK,cAAc,OACjB,CAEF,CACF,CACA,oBAAqB,CACnB,KAAK,gBAAkB,EACzB,CACA,kBAAmB,CACb,CAAC,KAAK,WAAa,CAAC,KAAK,iBAE7B,KAAK,aAAa,EAAE,MAAO,GAAM/wD,EAAO,UAAU,CAAC,CAAC,CACtD,CACA,cAAe,CACb,KAAK,UAAY,EACnB,CACA,cAAe,CACb,OAAO9D,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAI,CAAC,KAAK,YAAY,OAAO,EAC3B,OACF,MAAM8Q,EAAO,KAAK,aAAa,EAC/B,IAAIsP,EACAs1D,EAAgB,GACpB,GAAI5kE,EAAM,CACR,MAAM6kE,EAAQ,KAAK,YAAY,YAAY7kE,EAAK,EAAE,EAClDsP,EAAU,KAAK,cAActP,EAAM6kE,CAAK,EACxCD,EAAgB,KAAK,cAAc5kE,EAAM6kE,CAAK,CAChD,CACA,KAAK,UAAY,GACjB,KAAK,gBAAkB,GAClBD,GAEL,KAAK,YAAY,KAAK,CAAE,YAAwCt1D,GAAQ,IAAK,UAAsCA,GAAQ,GAAI,CAAC,CAClI,CAAC,CACH,CACA,cAAe,CACb,OAAO,KAAK,MAAM,KAAK,KAAMtP,GAASA,EAAK,OAAS,MAAM,CAC5D,CACA,cAAcA,EAAM6kE,EAAO,CACzB,GAAI,KAAK,gBACP,MAAO,GACT,GAAI,CAAC,KAAK,UACR,MAAO,GACT,MAAMC,EAAW,KAAK,cAAc,IAAI9kE,EAAK,EAAE,EAC/C,OAAI8kE,GAAYD,EAAM,MAAQC,EAAS,KAAOD,EAAM,MAAQC,EAAS,IAC5D,IAET,KAAK,cAAc,IAAI9kE,EAAK,GAAI6kE,CAAK,EAC9B,GACT,CACA,cAAc7kE,EAAM6kE,EAAO,CACzB,IAAIjxE,EAAIiL,EACR,MAAMyoB,GAAUzoB,GAAMjL,EAAKoM,EAAK,OAAO,YAAc,KAAO,OAASnB,EAAG,KAAKjL,CAAE,EAC/E,GAAI,CAACixE,GAAS,CAACv9C,GAAUA,EAAO,SAAW,GAAK,MAAM,OAAOA,EAAO,CAAC,CAAC,CAAC,EACrE,OACF,MAAMlmB,EAAQ,OAAOkmB,EAAO,CAAC,CAAC,EAAI,OAAOA,EAAO,CAAC,CAAC,EAC5C5a,EAAM,IAAI,KAAK,OAAO4a,EAAO,CAAC,CAAC,EAAIlmB,EAAQyjE,EAAM,GAAG,EACpDl4D,EAAM,IAAI,KAAK,OAAO2a,EAAO,CAAC,CAAC,EAAIlmB,EAAQyjE,EAAM,GAAG,EAC1D,MAAO,CAAE,IAAAn4D,EAAK,IAAAC,CAAI,CACpB,CACF,EACIo4D,GAAoB,KAAM,CAC5B,YAAYrB,EAAWsB,EAAUP,EAAad,EAAe//C,EAAkB,CAC7E,KAAK,UAAY8/C,EACjB,KAAK,SAAWsB,EAChB,KAAK,YAAcP,EACnB,KAAK,cAAgBd,EACrB,KAAK,iBAAmB//C,EACxB,KAAK,WAAa,CAAC,EACnB,KAAK,WAAW,KAAK,KAAK,cAAc,YAAY,kBAAoBn0B,GAAM,KAAK,iBAAiBA,CAAC,CAAC,CAAC,CACzG,CACA,SAAU,CACR,KAAK,WAAW,QAASs0D,GAAOA,EAAG,CAAC,CACtC,CACA,iBAAiB,CAAE,OAAQ,CAAE,KAAAwF,CAAK,CAAE,EAAG,CACrC,MAAM0b,EAAY,KAAK,YAAY,UAAU,EACvCC,EAAU,KAAK,UAAU,OAAO,KAAM/wE,GAAMA,EAAE,OAAO,EACrDgxE,EAAmB,KAAK,UAAU,OAAO,KAAMhxE,GAAMA,EAAE,OAAO,EACpE,KAAK,cAAc,KAAK,SAAS,QAASo1D,EAAM0b,CAAS,EACzD,KAAK,cAAc,KAAK,SAAS,OAAQ1b,EAAM,CAAC0b,GAAa,CAACC,CAAO,EACrE,KAAK,cAAc,KAAK,SAAS,gBAAiB3b,EAAM2b,GAAW,CAACC,CAAgB,CACtF,CACA,cAAcrK,EAASsK,EAAYphC,EAAS,CAC1C,GAAIA,EAAS,CACX,MAAMt1B,EAAWosD,EAAQ,WAAW,KAAK,iBAAkBsK,CAAU,EACrE,KAAK,UAAU,QAAQ,OAAO12D,CAAQ,CACxC,MACEosD,EAAQ,cAAc,KAAK,gBAAgB,CAE/C,CACF,EACIuK,GAAQz1D,GAAM,OAAO,GAAM,MAAM,EACjC01D,GAAa,cAAcllE,EAAe,CAC5C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,IAAIikD,GAAQ,CAAC,CAC9B,CACF,EACAt1D,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAGw7C,GAAW,UAAW,OAAQ,CAAC,EAClCv2E,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG27C,GAAW,UAAW,UAAW,CAAC,EACrC,IAAIC,GAAS,MAAMC,WAAgBvhB,EAAW,CAC5C,YAAY7xD,EAASqzE,EAAW,CAC9B,IAAI7xE,EAAIiL,EAAIC,EACZ,MAAM,EACN,KAAK,GAAK4V,GAAS,IAAI,EACvB,KAAK,WAAa,IAAIkjB,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,cAAe,CAAC,EAC9D,KAAK,cAAgB,IAAIA,EAAM,CAC7B,KAAM,GAAG,KAAK,EAAE,kBAChB,MAAO,GACP,OAAQ,EACR,2BAA4B,EAC9B,CAAC,EACD,KAAK,eAAiB,IAAIA,EAAM,CAC9B,KAAM,GAAG,KAAK,EAAE,mBAChB,MAAO,GACP,OAAQ,EAEV,CAAC,EACD,KAAK,MAAQhoB,GAAM,OAAO,EAC1B,KAAK,gBAAkB,CAAC,EACxB,KAAK,KAAO,CAAC,EACb,KAAK,eAAiB,GACtB,KAAK,QAAU,IAAIy0C,GAAQ,EAAE,EAC7B,KAAK,WAAa,IAAIihB,GACtB,KAAK,MAAQ,IAAI3zB,GACjB,KAAK,SAAW,IAAIA,GACpB,KAAK,SAAW,IAAIA,GACpB,KAAK,SAAW,IAAI+mB,GACpB,KAAK,KAAO,aACZ,KAAK,UAAY,GACjB,KAAK,UAAY,GACjB,KAAK,YAAc,CAAC,EACpB,KAAK,oBAAsB,UAC3B,KAAK,eAAiB,IAAI4B,GAC1B,KAAK,YAAc,IAAIpC,GACvB,KAAK,WAAa,CAAC,EACnB,KAAK,iBAAmB,CAAC,EACzB,KAAK,YAAc,CAAC,EACpB,KAAK,kBAAoB,CAAC,EAC1B,KAAK,4BAA8B,EACnC,KAAK,4BAA8B,EACnC,KAAK,6BAA+B,GACpC,KAAK,kBAAoB,EACzB,KAAK,oBAAsB,EAC3B,KAAK,eAAiC,IAAI,IAC1C,KAAK,YAAc,IAAIpU,GACvB,KAAK,iBAAmB,CAAC,EACzB,KAAK,qBAAuBY,GAAmBghB,GAAOx2E,EAAQ,KAAM,CAACw2E,CAAE,EAAG,UAAW,CAAE,MAAAxzD,CAAM,EAAG,CAC1F,KAAK,WAET,KAAK,YAAY,QAAQ,IAAMhjB,EAAQ,KAAM,KAAM,WAAa,CAC9D,GAAI,CACF,MAAM,KAAK,cAAcgjB,CAAK,CAChC,OAASpP,EAAO,CACd9P,EAAO,MAAM,eAAgB8P,CAAK,CACpC,CACF,CAAC,CAAC,EAAE,MAAOrT,GAAMuD,EAAO,UAAUvD,CAAC,CAAC,CACtC,CAAC,CAAC,EACF,KAAK,qBAAuB,CAAC,EAC7B,KAAK,KAAO,CAAC,EACb,KAAK,OAAS,CAAC,EACf,KAAK,MAAQ,CAAE,OAAQ,OAAQ,YAAa,EAAG,WAAY,EAAG,MAAO,MAAO,EAC5E,KAAK,iBAAmB60D,GAAwB,IAAM,CACpD,GAAK,KAAK,qBAEV,IAAI,KAAK,mBAAqB,EAAG,CAC/B,KAAK,iBAAiB,SAAS,EAC/B,MACF,CACA,KAAK,cAAc,KAAK,qBAAsB,EAAK,EACnD,KAAK,qBAAuB,OAC9B,CAAC,EACD,KAAK,kBAAqB1e,GAAU,CAClC,MAAM+/B,EAAuBl3E,EAAcD,EAAgB,CAAC,EAAGo3C,CAAK,EAAG,CACrE,KAAM,iBACR,CAAC,EACD,OAAO,eAAe+/B,EAAsB,SAAU,CACpD,WAAY,GAEZ,IAAK,IAAM//B,EAAM,MACnB,CAAC,EACD,KAAK,UAAU+/B,CAAoB,CACrC,EACA,KAAK,wBAA2B//B,GAAU,CACxC,MAAMggC,EAAwBn3E,EAAcD,EAAgB,CAAC,EAAGo3C,CAAK,EAAG,CACtE,KAAM,uBACR,CAAC,EACD,KAAK,UAAUggC,CAAqB,CACtC,EACA,KAAK,sBAAyBhgC,GAAU,CACtC,GAAI,EAAEA,aAAiBu6B,IACrB,OACF,KAAM,CAAE,OAAAlgE,EAAQ,eAAAuvD,EAAgB,YAAA4Q,CAAY,EAAIx6B,EAC5C3lC,EAAO,UAAU,QAAU,MAE/B,KAAK,mBAAmB,YAAY,CAClC,WAAYA,EAAO,WACnB,KAAMA,EAAO,KACb,UAAWA,EAAO,UAClB,eAAgBA,EAAO,eACvB,gBAAiBA,EAAO,gBACxB,uBAAyBjC,GAASiC,EAAO,uBAAuBjC,CAAI,EACpE,eAAAwxD,EACA,YAAA4Q,CACF,CAAC,CACH,EACA,KAAK,qBAAuC,IAAI,IAChD,KAAK,aAAehuE,EACpB,IAAIg+D,EAAqCqV,GAAU,MACnD,MAAM/2D,GAAY9a,EAAkC6xE,GAAU,UAAY,KAAO7xE,EAAK2a,GAAc,MAAO,mBAAoB,CAAE,SAAU,WAAY,WAAY,MAAO,CAAC,EACrKiI,EAAyCivD,GAAU,UACzD,KAAK,QAAU/2D,EACf,MAAMysC,EAAO,IAAIvjB,EAAM,CAAE,KAAM,MAAO,CAAC,EACvCujB,EAAK,QAAU,GACfA,EAAK,OAAO,KAAK,UAAU,EAC3BA,EAAK,OAAO,KAAK,aAAa,EAC9BA,EAAK,OAAO,KAAK,cAAc,EAC/B,KAAK,cAAgB,IAAIvjB,EAAM,CAC7B,KAAM,aACN,MAAO,GACP,OAAQ,CAEV,CAAC,EACDujB,EAAK,YAAY,KAAK,aAAa,EACnC,KAAK,UAAY,IAAIvjB,EAAM,CACzB,KAAM,OACN,MAAO,GACP,OAAQ,CAEV,CAAC,EACDujB,EAAK,YAAY,KAAK,SAAS,EAC/B,KAAK,YAAc,IAAIiK,GACvB,KAAK,YAAY,QAAQ,KAAK,QAAU93C,GAAS,KAAK,UAAUA,CAAI,CAAC,EACrE,KAAM,CAAE,yBAAAu4D,CAAyB,EAAIzzE,EAAQ,iBAC7Cg+D,IAAwBA,EAAQ,IAAIpN,GAAM,CAAE,WAAY6iB,CAAyB,CAAC,GAClFzV,EAAM,QAAQjV,CAAI,EAAE,aAAazsC,CAAQ,EACzC,KAAK,SAAW,GAChB,KAAK,QAAU,IAAIshC,GACnB,KAAK,mBAAqB,IAAI6yB,GAAmB,KAAK,WAAY,KAAK,cAAe,KAAK,cAAc,EACzG,MAAMpoD,EAAM,KAAK,IAAM,IAAIw1C,GAAa,KAAM,CAC5C,MAAAG,EACA,YAAa,IAAI6H,GAAY,IAAI,EACjC,QAASvpD,EACT,eAAgB,CAAC1Q,EAAO,EAAG0D,IAAS,KAAK,OAAO1D,EAAM0D,CAAI,EAC1D,YAAa,KAAK,WACpB,CAAC,EACD,KAAK,SAAW,IAAIm5D,IACnB/7D,GAAMD,EAAK,KAAK,SAAS,SAAS,WAAa,OAAYA,EAAG,SAAW,IAAMm8D,GAAkB,KAAK,SAAS,QAAQ,QAAQ,EAAGvgD,EAAI,iBAAiB,eAAe,GACvK,KAAK,WAAa,CAChB,IAAIgpD,GAAoB,KAAMhpD,EAAI,aAAa,EAC/C,IAAI+pD,GAAoB,KAAM/pD,EAAI,YAAaA,EAAI,cAAeA,EAAI,WAAW,EACjF,IAAIsqD,GAAkB,KAAM,KAAK,SAAUtqD,EAAI,YAAaA,EAAI,cAAeA,EAAI,gBAAgB,CACrG,EACA,KAAK,UAAY,IAAI81C,GACrB,KAAK,UAAY/5C,EACjB,KAAM,CAAE,IAAAsvD,CAAI,EAAIzd,GACV3vD,EAAgB,KAAK,iBAAiB,EACtCqtE,EAAetrD,EAAI,cAAc,UAAU,SAAU,KAAK,WAAY,KAAK,SAAS,EAC1FA,EAAI,cAAc,UAAU,OAAQ0gC,CAAI,EACxC,KAAK,YAAY,KACf1gC,EAAI,YAAY,YAAY,YAAcmrB,GAAU,CAClD,KAAK,KAAOA,EAAM,IACpB,CAAC,EACDnrB,EAAI,MAAM,WAAW,KAAK,MAAM,IAAI,EACpCA,EAAI,MAAM,WAAW,KAAK,SAAS,IAAI,EACvCA,EAAI,MAAM,WAAW,KAAK,SAAS,IAAI,EACvC,KAAK,MAAM,oBAAoB/hB,EAAe,OAAO,EACrD,KAAK,SAAS,oBAAoBA,EAAe,UAAU,EAC3D,KAAK,SAAS,oBAAoBA,EAAe,UAAU,EAC3D+hB,EAAI,mBAAmB,YAAY,QAAUmrB,GAAU,KAAK,QAAQA,CAAK,CAAC,EAC1EnrB,EAAI,mBAAmB,YAAY,WAAamrB,GAAU,KAAK,cAAcA,CAAK,CAAC,EACnFmgC,EAAa,YAAY,QAAUngC,GAAU,KAAK,YAAYA,CAAK,CAAC,EACpEmgC,EAAa,YAAY,QAAUngC,GAAU,KAAK,QAAQA,CAAK,CAAC,EAChEmgC,EAAa,YAAY,OAASngC,GAAU,KAAK,OAAOA,CAAK,CAAC,EAC9DmgC,EAAa,YAAY,MAAQngC,GAAU,KAAK,MAAMA,CAAK,CAAC,EAC5DmgC,EAAa,YAAY,WAAangC,GAAU,KAAK,UAAUA,CAAK,CAAC,EACrEmgC,EAAa,YAAY,WAAangC,GAAU,KAAK,UAAUA,CAAK,CAAC,EACrEmgC,EAAa,YAAY,SAAWngC,GAAU,KAAK,SAASA,CAAK,CAAC,EAClEnrB,EAAI,cAAc,cAAc,YAAY,eAAiBmrB,GAAU,KAAK,eAAeA,CAAK,CAAC,EACjGnrB,EAAI,mBAAmB,YAAY,YAAa,IAAM,KAAK,QAAQ,CAAC,EACpEA,EAAI,mBAAmB,YAAY,cAAgBmrB,GAAU,KAAK,cAAcA,CAAK,EAAGkgC,CAAG,EAC3FrrD,EAAI,iBAAiB,YAAY,kBAAmB,IAAM,CACxD,KAAK,OACH,CAEF,CACF,CAAC,EACDA,EAAI,iBAAiB,YAAY,mBAAqBmrB,GAAU,KAAK,qBAAqBA,CAAK,CAAC,EAChGnrB,EAAI,YAAY,YAAY,iBAAkB,IAAM,KAAK,aAAa,CAAC,EACvEA,EAAI,YAAY,YAAY,cAAe,IAAM,CAC/C,KAAK,aAAa,EAClB,KAAK,OAAO,IAAKtmB,GAAM,CACrB,IAAI2d,EACJ,OAAQA,EAAM3d,EAAE,iBAAmB,KAAO,OAAS2d,EAAI,WAAW,YAAY,CAChF,CAAC,EACD,MAAM44C,EAAiB,KAAK,sBAAwB,UACpD,KAAK,OAAO,EAAG,CAAE,qBAAsB,GAAM,eAAAA,CAAe,CAAC,CAC/D,CAAC,CACH,CACF,CACA,OAAO,YAAYh8C,EAAU,CAC3B,OAAO82D,GAAQ,gBAAgB,IAAI92D,CAAQ,CAC7C,CAEA,IAAI,eAAgB,CAClB,OAAO,KAAK,IAAI,MAAM,OAAO,OAC/B,CAEA,iBAAiBu0C,EAAY,CAC3B,OAAO,KAAK,IAAI,MAAM,WAAWA,CAAU,CAC7C,CACA,iBAAiBj3D,EAAO,CACtB,KAAM,CAAE,MAAAyiB,CAAM,EAAI,KAAK,QACvB,GAAIziB,EAAO,CAIT,GAHAyiB,EAAM,QAAU,QAChBA,EAAM,MAAQ,OACdA,EAAM,OAAS,OACX,CAAC,KAAK,cACR,OAEF,KAAK,OAAO,OAAQ,OAAQ,iBAAiB,CAC/C,MACEA,EAAM,QAAU,eAChBA,EAAM,MAAQ,OACdA,EAAM,OAAS,MAEnB,CACA,SAASI,EAAUo0C,EAAY,CAC7B,KAAK,IAAI,MAAM,SAASp0C,EAAUo0C,CAAU,CAC9C,CACA,YAAa,CACX,IAAIrvD,EACJ,OAAQA,EAAK,KAAK,kBAAkB,GAAG,EAAE,IAAM,KAAOA,EAAK,KAAK,WAClE,CACA,kBAAmB,CACjB,OAAO,KAAK,GACd,CACA,cAAe,CACb,IAAIA,EACJ,MAAMoyE,EAAc,CAAC,KAAK,MAAO,KAAK,SAAU,KAAK,QAAQ,EAAE,OAAQjxB,GAAYA,EAAQ,SAAWA,EAAQ,IAAI,EAAE,IAAKA,GAAYA,EAAQ,IAAI,EAAE,KAAK,IAAI,EAE5J,MAAO,WADUnhD,EAAK,KAAK,OAAO,SAAW,KAAOA,EAAK,CACjC,YAAYoyE,CAAW,EACjD,CACA,iBAAkB,CAChB,KAAK,oBAAsB,UAC3B,UAAW/lE,KAAU,KAAK,OACxBA,EAAO,eAAe,KAAK,mBAAmB,EAEhD,UAAWD,KAAQ,KAAK,KACtBA,EAAK,eAAe,KAAK,mBAAmB,EAE9C,KAAK,cAAgB,OACrB,KAAK,IAAI,iBAAiB,MAAM,CAClC,CACA,gBAAiB,CACf,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,6BAA+B,EACtC,CACA,QAAQ0B,EAAM,CACZ,GAAI,KAAK,UACP,OAEF,MAAMukE,EAAoDvkE,GAAK,0BAC/D,IAAIjV,EACJ,YAAK,kBAAoB,EACzB,KAAK,YAAY,QAASsG,GAAOA,EAAG,CAAC,EACrC,KAAK,WAAW,QAAS4rB,GAAMA,EAAE,QAAQ,CAAC,EAC1C,KAAK,QAAQ,QAAQ,EACrB,KAAK,SAAS,QAAQ,EACtB,KAAK,YAAY,UAAU,KAAK,OAAO,EACvC,KAAK,eAAe,QAAQ,EACxBsnD,GACF,KAAK,IAAI,MAAM,MAAM,EACrBx5E,EAAS,CAAE,UAAW,KAAK,UAAW,MAAO,KAAK,IAAI,MAAO,QAAS,KAAK,OAAQ,IAEnF,KAAK,IAAI,MAAM,QAAQ,EACvB,KAAK,UAAY,QAEnB,KAAK,cAAc,KAAK,MAAM,EAC9B,KAAK,mBAAmB,QAAQ,EAChC,KAAK,KAAK,QAASP,GAAMA,EAAE,QAAQ,CAAC,EACpC,KAAK,KAAO,CAAC,EACb,KAAK,cAAgB,OACrB,KAAK,IAAI,QAAQ,EACjB,KAAK,YAAY,QAAQ,EACzB,KAAK,UAAY,GACjB,OAAO,OAAO,IAAI,EACXO,CACT,CACA,aAAay5E,EAAgB,GAAO,CAC7BA,GACH,KAAK,IAAI,eAAe,cAAc,KAAK,EAAE,EAE/C,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,EAAE,EACjD,KAAK,qBAAuB,MAC9B,CACA,qBAAqBniB,EAAI,CACnB,KAAK,YAET,KAAK,8BACL,KAAK,YAAY,QAAQ,IAAM70D,EAAQ,KAAM,KAAM,WAAa,CAC1D,KAAK,YAET,MAAM60D,EAAG,IAAI,EACT,MAAK,WAET,KAAK,8BACP,CAAC,CAAC,EAAE,MAAOt0D,GAAMuD,EAAO,UAAUvD,CAAC,CAAC,EACtC,CACA,OAAOuO,EAAO,EAAG0D,EAAM,CACrB,IAAI9N,EAAIiL,EACR,KAAM,CACJ,qBAAAsnE,EAAuB,GACvB,eAAAzb,EACA,eAAA0b,EAAiB,KAAK,OACtB,kBAAAC,CACF,EAAI3kE,GAAsB,CAAC,EACvBykE,GACF,KAAK,OAAO,QAASlmE,GAAWA,EAAO,kBAAkB,CAAC,EAE5D,UAAWA,KAAUmmE,EACnB,KAAK,eAAe,IAAInmE,CAAM,EAUhC,GARIyqD,IACF,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,6BAA+B,IAElC2b,GAAqB,KAAK,IAAI,iBAAiB,SAAS,IAC1D,KAAK,6BAA+B,IAEtC,KAAK,WAAazyE,EAA6B8N,GAAK,WAAa,KAAO9N,EAAK,GACzE,KAAK,MAAM,MAAM,EAAG,CACtB,IAAI0yE,GAASznE,EAAK,IAAI,MAAM,EAAE,QAAU,KAAOA,EAAK,YACpDynE,EAAQA,EAAM,QAAQ,WAAY,EAAE,EACpC,KAAK,iBAAiBA,CAAK,EAAItoE,CACjC,CACIA,EAAO,KAAK,oBACd,KAAK,kBAAoBA,EACzB,KAAK,qBAAqB,SAAiC0D,GAAK,SAAS,EAE7E,CACA,cAAcwQ,EAAO,CACnB,OAAOhjB,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EACJ,KAAM,CAAE,kBAAA2yE,EAAmB,gBAAAllB,EAAiB,qBAAsBM,EAAQ,IAAAlnC,CAAI,EAAI,KAC5E2rD,EAAiB,CAAC,GAAG,KAAK,cAAc,EAC9C,KAAK,kBAAoB,EACzB,KAAK,eAAe,MAAM,EACtB,KAAK,sBAAwB,GAAKG,EAAoB,IACxD9rD,EAAI,iBAAiB,WAAW,KAAK,4BAA4B,EACjEA,EAAI,iBAAiB,YAAY,IAAM,KAAK,oBAAsB,OAAO,GAE3E,KAAK,MAAM,gCAAiCm1C,GAAgB2W,CAAiB,CAAC,EAC9E,IAAIC,EAAgB,YAAY,IAAI,GACnC5yE,EAAK+tD,EAAO,QAAU,OAAYA,EAAO,MAAQ6kB,GAClD,MAAMC,EAAgBC,GAAc,CAClC,IAAI50D,GACHA,EAAM6vC,EAAO+kB,CAAS,IAAM,OAAa/kB,EAAO+kB,CAAS,EAAI,GAC9D/kB,EAAO+kB,CAAS,GAAK,YAAY,IAAI,EAAIF,EACzCA,EAAgB,YAAY,IAAI,CAClC,EACA,IAAIG,EAAiB,GACrB,OAAQJ,EAAmB,CACzB,IAAK,GACH,KAAK,UAAU,EACjB,IAAK,GACH,MAAM,KAAK,WAAW,EACtBE,EAAa,cAAc,EAC7B,IAAK,GACH,MAAM,KAAK,YAAY,EACvB,KAAK,aAAa,EAAI,EACtBA,EAAa,WAAW,EAC1B,IAAK,GACH,GAAI,KAAK,oBACP,CAEF,EACE,MACF,GAAI,CAAC,KAAK,mBAAmBL,CAAc,EAAG,CAC5CO,EAAiB,GACjB,KACF,CACA,MAAM,KAAK,cAAc,EACzBF,EAAa,QAAQ,EACvB,IAAK,GACH,GAAI,KAAK,oBACP,CAEF,EACE,MACF,KAAM,CAAE,WAAArB,CAAW,EAAI,KACvB,MAAM,QAAQ,IAAIgB,EAAe,IAAKnmE,GAAWA,EAAO,OAAO,CAAE,WAAAmlE,CAAW,CAAC,CAAC,CAAC,EAC/EqB,EAAa,WAAW,EAC1B,IAAK,GACH,GAAI,KAAK,oBACP,CAEF,EACE,MACF,MAAMG,EAAcnsD,EAAI,eAAe,eAAe,KAAK,EAAE,EACzD8rD,GAAqB,GAAqCK,GAAY,kBAAqB,MAC7F,KAAK,cAAcA,EAAY,iBAAkB,EAAI,EAEvDH,EAAa,QAAQ,EACvB,IAAK,GACH,GAAI,KAAK,oBACP,CAEF,EACE,MACFhsD,EAAI,iBAAiB,SAAS,EAC9B4mC,EAAgB,oBAAyB,KAAK,oBAC9C,MAAM5mC,EAAI,MAAM,OAAO,CAAE,gBAAiBknC,EAAQ,gBAAAN,CAAgB,CAAC,EACnE,KAAK,IAAI,cAAc,uBAAuB,EAC9C,KAAK,gBAAkB,CAAC,EACxB,UAAWt1D,KAAO41D,EAChB,OAAOA,EAAO51D,CAAG,EAErB,IAAK,GACH,KAAK,oBAAsB,EAC3B,KAAK,iBAAmB,CAAC,EACzB,KAAK,6BAA+B,GACpC0uB,EAAI,iBAAiB,SAAS,CAClC,CACKksD,GACHlsD,EAAI,cAAc,uBAAuB,KAAK,YAAY,CAAC,EAE7D,MAAMyY,EAAM,YAAY,IAAI,EAC5B,KAAK,MAAM,8BAA+B,CACxC,MAAO,KACP,WAAY,KAAK,OAAOA,EAAMyuB,EAAO,OAAY,GAAG,EAAI,IACxD,MAAAzvC,EACA,kBAAmB09C,GAAgB2W,CAAiB,CACtD,CAAC,CACH,CAAC,CACH,CACA,sBAAuB,CACrB,KAAM,CACJ,QAAS73D,EACT,iBAAkB,CAAE,MAAAm4D,CAAM,CAC5B,EAAI,KACEC,EAAuB,mBACvBC,EAAuB,CAAC,GAAGD,CAAoB,UAAW,GAAGA,CAAoB,cAAc,EACrG,IAAIE,EAAiBD,EAAqB,CAAC,EACvCE,EAAS,GACT,OAAOJ,GAAU,UACnBG,EAAiBH,EAAM,QAAQ,MAAOC,CAAoB,EAC1DG,EAASJ,EAAM,SAAS,OAAO,GACtB,OAAiCA,GAAM,WAAe,WAC/DG,EAAiBH,EAAM,UAAU,QAAQ,MAAOC,CAAoB,EACpEG,EAASJ,EAAM,UAAU,SAAS,OAAO,GAEtCE,EAAqB,SAASC,CAAc,IAC/CA,EAAiBC,EAASF,EAAqB,CAAC,EAAIA,EAAqB,CAAC,GAE5Er4D,EAAS,UAAU,QAASpO,GAAc,CACpCA,EAAU,WAAWwmE,CAAoB,GAAKxmE,IAAc0mE,GAC9Dt4D,EAAS,UAAU,OAAOpO,CAAS,CAEvC,CAAC,EACDoO,EAAS,UAAU,IAAIs4D,CAAc,CACvC,CACA,WAAY,CACV,KAAK,qBAAqB,EAC1B,KAAM,CAAE,QAAA/iC,EAAS,SAAAqqB,CAAS,EAAI,KAAK,SACnC,KAAK,QAAQ,SAAWrqB,EAAUqqB,GAA8B,EAAI,GACpE3f,GAAa,KAAK,IAAI,MAAM,OAAO,QAAS,OAAQ,QAAQ,EAC5DA,GAAa,KAAK,IAAI,MAAM,OAAO,QAAS,aAAc,KAAK,aAAa,CAAC,CAC/E,CACA,oBAAoBu4B,EAAiB,CAEnC,OAAI,KAAK,oBAAsB,GAC7Bl0E,EAAO,KACL,4FACA,KAAK,gBACP,EACO,IAEL,KAAK,mBAAqBk0E,GAC5B,KAAK,sBACE,IAEF,EACT,CACA,mBAAmBd,EAAgB,CACjC,GAAI,KAAK,UAAY,CAAC,KAAK,cAAe,CACxC,MAAMl0D,EAAQ,KAAK,8BACbi1D,EAAY74E,EAAM4jB,EAAQ,EAAG,CAAC,EAAI,GACxC,GAAIA,EAAQ,EACV,YAAK,OAAO,EAAG,CAAE,eAAAk0D,EAAgB,UAAAe,CAAU,CAAC,EAC5C,KAAK,MAAM,mEAAoEA,CAAS,EACjF,GAET,KAAK,MAAM,6DAA6D,CAC1E,CACA,YAAK,4BAA8B,EAC5B,EACT,CACA,aAAapqE,EAAUrD,EAAW,CAAC,EAAG,CACpC,UAAWsG,KAAQtG,EACbqD,EAAS,SAASiD,CAAI,IAE1BA,EAAK,WAAW,KAAK,UAAW,KAAK,aAAa,EAClDA,EAAK,QAAQ,GAEf,UAAWA,KAAQjD,EACerD,GAAS,SAASsG,CAAI,GAEtDA,EAAK,WAAW,KAAK,UAAW,KAAK,aAAa,CAEtD,CACA,eAAejD,EAAUrD,EAAU,CACjC,IAAI9F,EAAIiL,EACR,MAAMuoE,GAAmBxzE,EAAiC8F,GAAS,OAAQuG,GAAW,CAAClD,EAAS,SAASkD,CAAM,CAAC,IAAM,KAAOrM,EAAK,CAAC,EACnI,KAAK,cAAcwzE,CAAe,GACjCvoE,EAAK,KAAK,qBAAuB,MAAgBA,EAAG,eAAe9B,EAAS,MAAM,EACnF,UAAWkD,KAAUlD,EAAU,CAC7B,GAAgCrD,GAAS,SAASuG,CAAM,EACtD,SACEA,EAAO,UAAU,QAAU,MAC7B,KAAK,mBAAmB,aAAaA,CAAM,EAE7C,MAAMiwD,EAAQ,KACdjwD,EAAO,MAAQ,CACb,IAAI,MAAO,CACT,OAAOiwD,EAAM,IACf,EACA,IAAI,aAAc,CAChB,MAAO,EACT,EACA,IAAI,YAAa,CACf,OAAOA,EAAM,UACf,EACA,aAAc,CACZ,OAAOA,EAAM,YAAY,CAC3B,CACF,EACAjwD,EAAO,eAAe,KAAK,mBAAmB,EAC9C,KAAK,mBAAmBA,CAAM,EAC9BA,EAAO,uBAAuB,CAChC,CACF,CACA,cAAcoS,EAAW,CACMA,GAAU,QAASpS,GAAW,CACzDA,EAAO,oBAAoB,YAAa,KAAK,iBAAiB,EAC9DA,EAAO,oBAAoB,kBAAmB,KAAK,uBAAuB,EAC1EA,EAAO,oBAAoB,kBAAmB,KAAK,qBAAqB,EACxEA,EAAO,QAAQ,EACf,KAAK,mBAAmB,aAAaA,CAAM,EAC3CA,EAAO,MAAQ,MACjB,CAAC,CACH,CACA,mBAAmBA,EAAQ,CACrB,KAAK,iBAAiB,iBAAiB,GACzCA,EAAO,iBAAiB,YAAa,KAAK,iBAAiB,EAEzD,KAAK,iBAAiB,uBAAuB,GAC/CA,EAAO,iBAAiB,kBAAmB,KAAK,uBAAuB,EAEzEA,EAAO,iBAAiB,kBAAmB,KAAK,qBAAqB,CACvE,CACA,0BAA2B,CACzB,KAAK,OAAO,QAASA,GAAW,CAC9BA,EAAO,oBAAoB,YAAa,KAAK,iBAAiB,EAC9DA,EAAO,oBAAoB,kBAAmB,KAAK,uBAAuB,EAC1E,KAAK,mBAAmBA,CAAM,CAChC,CAAC,CACH,CACA,oBAAqB,CACnB,KAAK,KAAK,QAASD,GAAS,CAC1BA,EAAK,YAAc,KAAK,OAAO,OAAQ7L,GAClBA,EAAE,KAAK6L,EAAK,SAAS,IAClBA,CACvB,CACH,CAAC,CACH,CACA,oBAAqB,CACnB,MAAMqnE,EAAqBn6D,GAAQ,KAAK,KAAOlN,GAASA,EAAK,SAAS,EACtE,KAAK,OAAO,QAASC,GAAW,CAC9BA,EAAO,WAAW,QAASqkC,GAAc,CACvC,MAAMgjC,EAAgBD,EAAmB/iC,CAAS,EAClD,GAAI,CAACgjC,EAAe,CAClBt0E,EAAO,SACL,oCAAoCsxC,CAAS,yCAC/C,EACA,MACF,CACA,MAAMijC,EAAatnE,EAAO,QAAQqkC,CAAS,EACrCkjC,EAAUF,EAAc,KAC3BtnE,GAAS,CAACA,EAAK,KAAK,QAAUunE,EAAW,KAAMx7E,GAAQiU,EAAK,KAAK,SAASjU,CAAG,CAAC,CACjF,EACA,GAAI,CAACy7E,EAAS,CACZx0E,EAAO,SACL,mCAAmCsxC,CAAS,eAAeijC,CAAU,yCACvE,EACA,MACF,CACAtnE,EAAO,KAAKqkC,CAAS,EAAIkjC,CAC3B,CAAC,CACH,CAAC,CACH,CACA,UAAU,CAAE,MAAAxwD,EAAO,OAAAC,CAAO,EAAG,CAC3B,IAAIrjB,EAKJ,GAJI,CAAC,KAAK,WAEVojB,EAAQ,KAAK,MAAMA,CAAK,EACxBC,EAAS,KAAK,MAAMA,CAAM,EACtBD,IAAU,GAAKC,IAAW,GAC5B,OACF,KAAM,CAACwwD,EAAY,EAAGC,EAAa,CAAC,GAAK9zE,EAAK,KAAK,gBAAkB,KAAOA,EAAK,CAAC,EAC9E6zE,IAAczwD,GAAS0wD,IAAezwD,IAE1C,KAAK,cAAgB,CAACD,EAAOC,CAAM,EACnC,KAAK,OAAO,OAAQ,OAAQ,aAAa,EAC3C,CACA,OAAOD,EAAOC,EAAQtoB,EAAQ,CAC5B,IAAIiF,EAAIiL,EAAIC,EAAIU,EAChB,KAAM,CAAE,MAAA4wD,EAAO,iBAAAxsC,CAAiB,EAAI,KAAK,IAIzC,GAHA5M,IAAwBA,GAASnY,EAAK,KAAK,QAAU,KAAOA,EAAK,KAAK,UAAYjL,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,CAAC,EAAIw8D,EAAM,OAAO,OACnJn5C,IAA0BA,GAAUzX,EAAK,KAAK,SAAW,KAAOA,EAAK,KAAK,UAAYV,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,CAAC,EAAIsxD,EAAM,OAAO,QACvJ,KAAK,MAAM,uBAAuBzhE,CAAM,GAAI,CAAE,MAAAqoB,EAAO,OAAAC,EAAQ,MAAO,IAAI,MAAM,EAAE,KAAM,CAAC,EACnF,GAACD,GAAS,CAACC,GAAU,CAAC3b,GAAe0b,CAAK,GAAK,CAAC1b,GAAe2b,CAAM,IAErEm5C,EAAM,OAAOp5C,EAAOC,CAAM,EAAG,CAC/B,KAAK,aAAa,EAClB2M,EAAiB,MAAM,EACvB,IAAI8mC,EAAiB,GACjB,KAAK,UAAY,KAAK,iBACxBA,EAAiB,GACjB,KAAK,eAAiB,IAExB,KAAK,OAAO,EAAG,CAAE,qBAAsB,GAAM,eAAAA,CAAe,CAAC,CAC/D,CACF,CACA,YAAa,CACX,OAAOx7D,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAK,OAAO,QAASiF,GAAMA,EAAE,aAAa,KAAK,IAAI,CAAC,EACpD,MAAMwzE,EAAiB,KAAK,eAAe,WAAYvvE,GAAM,CAC3D,IAAIxE,EACJ,OAAQA,EAAKwE,EAAE,aAAe,KAAO,OAASxE,EAAG,KAAKwE,EAAG,CAAE,KAAM,KAAK,IAAK,CAAC,CAC9E,CAAC,EACD,MAAM,QAAQ,IAAIuvE,CAAc,CAClC,CAAC,CACH,CACA,aAAc,CACZ,OAAOz4E,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAI,KAAK,OAAO,KAAMiF,GAAMA,EAAE,WAAW,EAAG,CAC1C,KAAK,mBAAmB,EACxB,MAAMyzE,EAAa,KAAK,eAAe,UAAU,MAAM,EACrBA,GAAW,QAC3CA,EAAW,SAAS,KAAK,SAAS,EAElC,KAAK,mBAAmB,CAE5B,CACA,MAAMC,EAAiB,IAAIhQ,GAAe,KAAK,IAAI,EAC7CiQ,EAAiB,KAAK,OAAO,IAAK3zE,GAAMA,EAAE,YAAY0zE,CAAc,CAAC,EACrEF,EAAiB,KAAK,eAAe,WAAYvvE,GAAM,CAC3D,IAAIxE,EACJ,OAAQA,EAAKwE,EAAE,cAAgB,KAAO,OAASxE,EAAG,KAAKwE,EAAG,CAAE,eAAAyvE,CAAe,CAAC,CAC9E,CAAC,EACDA,EAAe,QAAQ,EACvB,MAAM,QAAQ,IAAI,CAAC,GAAGC,EAAgB,GAAGH,CAAc,CAAC,EACxD,SAAW,CAAE,WAAA1jE,EAAY,OAAA8jE,CAAO,IAAK,KAAK,eAAe,QAAQ,EAC/DA,EAAO,KAAO,KAAK,cAAc9jE,EAAY,KAAK,OAAS,YAAY,EAEzE,KAAK,qBAAqB,QAAS3W,GAAYA,EAAQ,CAAC,EACxD,KAAK,qBAAqB,MAAM,CAClC,CAAC,CACH,CACA,aAAc,CACZ,MAAM06E,EAAgB,CAAC,EACjBjlE,EAAO,CAAC,EACd,UAAW9C,KAAU,KAAK,OAAQ,CAChC,GAAI,CAACA,EAAO,QACV,SACF,MAAMs3C,EAAYt3C,EAAO,aAAa,EAClC8sC,GAA+CwK,IAAU,CAAC,CAAC,IAC7Dx0C,EAAK,KAAKw0C,CAAS,EACnBywB,EAAc,KAAK/nE,CAAM,EAE7B,CACA,KAAM,CAAE,WAAAmlE,CAAW,EAAI,KACjB,CAAE,IAAArtD,EAAK,MAAArK,EAAO,OAAAsK,EAAQ,KAAAvK,CAAK,EAAI,KAAK,WAAW,QAC/C0/B,EAASi4B,GAAcriE,EAAK,OAAS,EAAIkqC,GAAYlqC,EAAM,CAC/D,EAAG,CAAC0K,EACJ,EAAG,CAACsK,EACJ,MAAOqtD,EAAW,MAAQ33D,EAAOC,EACjC,OAAQ03D,EAAW,OAASrtD,EAAMC,CACpC,CAAC,EAAI,CAAC,EACN,OAAO,IAAI,IAAIm1B,EAAO,IAAI,CAAC/tB,EAAG1yB,IAAM,CAACs7E,EAAct7E,CAAC,EAAG0yB,CAAC,CAAC,CAAC,CAC5D,CACA,cAAcnb,EAAYgkE,EAAe,CACvC,IAAIr0E,EAAIiL,EAAIC,EACZ,MAAMopE,EAAa,KAAK,OAAO,OAAQ/zE,GAAMA,EAAE,WAAW,YAAY,EAAE,QAASA,GAAMA,EAAE,cAAc8P,CAAU,CAAC,EAElH,GAAIgkE,IAD0BllE,GAASA,EAAK,MAAOvP,GAAMA,EAAE,aAAe,UAAU,GAC1C00E,CAAU,EAAG,CACrD,MAAMC,EAAoB,CAAC,EACrBC,EAAgB,IAAI,IAAI,KAAK,OAAO,IAAKj0E,GAAM,CAACA,EAAE,GAAIA,EAAE,IAAI,CAAC,CAAC,EACpE,SAAW,CAAE,SAAAk0E,EAAU,OAAAj7B,EAAQ,MAAAxI,CAAM,IAAKsjC,EAAY,CACpD,GAAI96B,EAAO,MAAQ,KACjB,SACF,MAAM9vC,EAAa8qE,EAAc,IAAIC,CAAQ,EACvCC,GAAc10E,EAAKu0E,EAAkB7qE,CAAU,IAAM,KAAO1J,EAAKu0E,EAAkB7qE,CAAU,EAAI,CAAC,GACvGwB,EAAKwpE,EAAWzpE,EAAK+lC,EAAM,IAAI,IAAM,OAAY0jC,EAAWzpE,CAAE,EAAIuuC,EAAO,MACtEk7B,EAAW1jC,EAAM,IAAI,IAAMwI,EAAO,MACpCp6C,EAAO,SACL,gBAAgB4xC,EAAM,IAAI,kEAC5B,CAEJ,CACF,CACA,OAAOsjC,CACT,CACA,eAAgB,CACd,OAAOh5E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EACJ,MAAM20E,EAAU,KAAK,cACrB,MAAM,KAAK,cAAc,EACrBA,GAAW,GAAG30E,EAAK,KAAK,gBAAkB,MAAgBA,EAAG,OAAO20E,CAAO,IAC7E,KAAK,IAAI,iBAAiB,iBAAiB,EAE7C,KAAK,MAAM,qCAAsC,KAAK,UAAU,CAClE,CAAC,CACH,CACA,eAAgB,CACd,OAAOr5E,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,MAAA8nB,EAAO,OAAAC,CAAO,EAAI,KAAK,IAAI,MACnC,IAAIwD,EAAM,CAAE,WAAY,IAAIvC,EAAK,EAAG,EAAGlB,EAAOC,CAAM,CAAE,EACtDwD,EAAM,KAAK,IAAI,cAAc,sBAAsB,eAAgBA,CAAG,EACtEA,EAAM,KAAK,IAAI,cAAc,sBAAsB,gBAAiBA,CAAG,EACvE,MAAMktD,EAAiB,KAAK,eAAe,WAAYvvE,GAAMlJ,EAAQ,KAAM,KAAM,WAAa,CACxFkJ,EAAE,eAAiB,OACrBqiB,EAAM,MAAMriB,EAAE,cAAcqiB,CAAG,EAEnC,CAAC,CAAC,EACF,aAAM,QAAQ,IAAIktD,CAAc,EACzBltD,EAAI,UACb,CAAC,CACH,CAEA,eAAewgB,EAAOutC,EAAgBC,EAAa,CACjD,IAAI70E,EAAIiL,EACR,MAAMpL,EAAQ,YAAY,IAAI,EACxB8sE,EAAYiI,EAAiB,CACjC,CAEF,EAAI,OACEE,EAAgB,CAAC,GAAG,KAAK,MAAM,EAAE,QAAQ,EAC/C,IAAIj8E,EACJ,UAAWwT,KAAUyoE,EAAe,CAClC,GAAI,CAACzoE,EAAO,SAAW,CAACA,EAAO,UAAU,QACvC,SAEF,KAAM,CAAE,MAAA8mC,EAAO,SAAUtf,CAAU,GAAK7zB,EAAKqM,EAAO,SAASg7B,EAAOslC,CAAS,IAAM,KAAO3sE,EAAK,CAAC,EAChG,GAAI,GAACmzC,GAAStf,GAAa,SAGtB,CAACh7B,GAAUA,EAAO,SAAWg7B,IAAcA,IAAcghD,GAAoC,OAChGh8E,EAAS,CAAE,OAAAwT,EAAQ,SAAUwnB,EAAW,MAAOsf,CAAM,GAEnDtf,IAAc,GAChB,KAEJ,CACA,YAAK,gBAAgB,eAAoB,KAAK,QAC1C5oB,EAAK,KAAK,gBAAgB,iBAAsB,KAAOA,EAAK,IAAM,YAAY,IAAI,EAAIpL,EAC1F,EACOhH,CACT,CACA,YAAYm5C,EAAO,CACjB,KAAK,qBAAuBA,EAC5B,KAAK,iBAAiB,SAAS,EAC/B,KAAK,gBAAgB,OAAYA,EAAM,QACvC,KAAK,gBAAgB,OAAYA,EAAM,QACvC,KAAK,OACH,CAEF,CACF,CACA,QAAQA,EAAO,CACR,KAAK,QAAQ,uBAAuBA,CAAK,IAC5C,KAAK,aAAa,EAClB,KAAK,OACH,CAEF,EACA,KAAK,IAAI,cAAc,aAAa,OAAO,EAE/C,CACA,eAAeA,EAAO,CAChBA,EAAM,MAAQ,GAChB,KAAK,MAAM,MAAQ,OACnB,KAAK,MAAM,OAAS,OACpB,KAAK,MAAM,WAAa,EACxB,KAAK,MAAM,YAAc,IAEzB,KAAK,MAAM,MAAQ,OACnB,KAAK,MAAM,OAAS,OACpB,KAAK,MAAM,WAAa,IACxB,KAAK,MAAM,YAAc,IAE7B,CACA,OAAOsM,EAAQ,CACb,KAAK,IAAI,cAAc,yBAAyB,MAAM,EACtD,KAAK,aAAa,CACpB,CACA,MAAMtM,EAAO,CACX,KAAK,YAAY,EACjBA,EAAM,QAAQ,CAChB,CACA,UAAUA,EAAO,CACf,KAAK,MAAM,aAAeA,EAAM,MAChC,KAAK,YAAY,EACjBA,EAAM,QAAQ,CAChB,CACA,UAAUA,EAAO,CACf,KAAK,MAAM,YAAcA,EAAM,MAC/B,KAAK,YAAYA,EAAM,KAAK,EAC5BA,EAAM,QAAQ,CAChB,CACA,SAASA,EAAO,CACd,KAAM,CAAE,OAAA3lC,EAAQ,MAAAqc,CAAM,EAAI,KAAK,MACzBiyC,EAAc3oB,EAAM,YAAY,YAClC3lC,IAAW,QAAUqc,IAAU,OACjCrc,EAAO,mBAAmBsuD,EAAajyC,CAAK,EAE5C,KAAK,UAAU,CACb,KAAM,QACN,MAAOiyC,CACT,CAAC,CAEL,CACA,cAAc3oB,EAAO,CACnB,KAAK,IAAI,eAAe,cAAc,KAAK,EAAE,EAC7C,KAAM,CAAE,QAAS+iC,EAAU,YAAAC,CAAY,EAAIvgB,GACvC,KAAK,IAAI,mBAAmB,SAAS,GAAKsgB,EAAWC,IACvD,KAAK,qBAAqBhjC,EAAO,IAAM,CACrC,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,EAAE,CACnD,CAAC,CAEL,CACA,YAAYijC,EAAiB,CAC3B,MAAMC,EAAe,KAAK,SAAS,aAAa,EAC5CA,GAAgB,KAClB,KAAK,kBAAkBD,GAA4C,CAAC,GAEpE,KAAK,IAAI,cAAc,yBAAyBC,EAAa,IAAI,EACjE,KAAK,IAAI,wBAAwB,cAAcA,EAAa,IAAI,EAEpE,CACA,kBAAkBD,EAAiB,CACjC,KAAM,CAAE,OAAA5oE,EAAQ,WAAAmlE,EAAY,MAAA2D,CAAM,EAAI,KAChCf,EAAgB/nE,EAAO,OAAQ9L,GAAMA,EAAE,OAAO,EACpD,GAAI6zE,EAAc,SAAW,EAC3B,OACFe,EAAM,YAAc/zD,GAAM,EAAG+zD,EAAM,YAAaf,EAAc,OAAS,CAAC,EACxEe,EAAM,OAASf,EAAce,EAAM,WAAW,EAC9C,MAAMC,EAAOD,EAAM,OAAO,UAAU,CAAE,WAAYA,EAAM,WAAY,gBAAAF,EAAiB,WAAAzD,CAAW,CAAC,EACjG,GAAI4D,IAAS,OACX,OACF,KAAM,CAAE,KAAAlvD,EAAM,MAAAwC,EAAO,WAAA2sD,CAAW,EAAID,EACpCD,EAAM,WAAaE,EACnBF,EAAM,MAAQzsD,EACd,MAAM4sD,EAAgBvQ,GAAyB,KAAK,IAAI,cAAe7+C,CAAI,EAC3E,GAAIovD,IAAkB,OAAQ,CAC5B,KAAK,qBAAuBA,EAC5B,MAAMC,EAAOJ,EAAM,OAAO,eAAezsD,CAAK,EACxC4zB,EAAO8e,GAAe,gBAAgB,KAAK,qBAAsB1yC,CAAK,EAC5E,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,GAAIA,CAAK,EACxD,KAAK,IAAI,eAAe,cAAc,KAAK,GAAI4zB,EAAMi5B,CAAI,EACzD,KAAK,IAAI,wBAAwB,cAAcA,EAAK,SAAS,CAC/D,CACF,CACA,OAAO,aAAavjC,EAAO,CACzB,OAAOA,IAAU,QAAUA,EAAM,OAAS,OAC5C,CACA,cAAcA,EAAOwjC,EAAW,CAC9B,GAAI,KAAK,IAAI,mBAAmB,SAAS,IAAM,IAAM,CAAC5D,GAAQ,aAAa5/B,CAAK,EAC9E,OAEF,KAAM,CAAE,SAAAyjC,EAAU,UAAAC,CAAU,EAAI,KAC1B,CAAE,QAAAr3B,EAAS,QAAA5W,CAAQ,EAAIuK,EACvB2jC,EAAiB,CAACrD,EAAgB,KAAU,CAC5CmD,GACF,KAAK,aAAanD,CAAa,CAEnC,EACA,GAAIkD,EAAY,KAAK,IAAI,iBAAiB,SAAS,EAAI,CAA+BE,GAAU,cAAcr3B,EAAS5W,CAAO,EAAI,CAChIkuC,EAAe,EACf,MACF,CACA,KAAK,qBAAqB3jC,EAAO2jC,CAAc,EAC/C,KAAK,kBAAkB3jC,CAAK,CAC9B,CACA,qBAAqBA,EAAO2jC,EAAgB,CAC1C,KAAM,CAAE,SAAAF,EAAU,QAAApa,CAAQ,EAAI,KACxB,CAAE,MAAOj7D,CAAO,EAAIi7D,EACpB,CAAE,QAAAhd,EAAS,QAAA5W,CAAQ,EAAIuK,EAC7B,IAAI4jC,EACAluE,GAAetH,CAAM,IACvBw1E,EAAax1E,GAEf,MAAMg1E,EAAO,KAAK,eAAe,CAAE,EAAG/2B,EAAS,EAAG5W,CAAQ,EAAGrnC,IAAW,QAASw1E,CAAU,EAC3F,GAAI,CAACR,EAAM,CACT,KAAK,IAAI,eAAe,cAAc,KAAK,EAAE,EACzC,KAAK,UAAU,QAAU,WAC3BO,EAAe,EAAI,EAErB,MACF,CACA,MAAME,EAAa,KAAK,UAAU,QAAU,QAAU,CAACJ,GAAYA,IAAaL,EAAK,MACrF,IAAIG,EACAM,IACFN,EAAOH,EAAK,OAAO,eAAeA,EAAK,KAAK,EACxC,KAAK,UAAU,QAAU,WAC3B,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,GAAIA,EAAK,KAAK,GAGjE,MAAMU,EAAeF,GAAc,KAC7BG,EAAiB,KAAK,QAAQ,SAAWX,EAAK,OAAO,eACrDY,EAAiB51E,IAAW,SAAWg1E,EAAK,WAAa,EAEzDa,EAAsBF,IADP31E,IAAW,WAAa01E,GAAgBE,KACE,CAACH,GAAcN,IAAS,QACjFj5B,EAAO8e,GAAe,gBAAgBppB,EAAOojC,EAAK,KAAK,EACzDa,GACF,KAAK,IAAI,eAAe,cAAc,KAAK,GAAI35B,EAAMi5B,CAAI,CAE7D,CACA,kBAAkBvjC,EAAO,CACT,KAAK,qBAAqBA,EAAO,CAAC3lC,EAAQqc,IAAU,EAC5Drc,EAAO,iBAAiB,WAAW,GAAKA,EAAO,iBAAiB,iBAAiB,IACnF,KAAK,IAAI,cAAc,aAAa,QAAS,SAAS,EAEpD,KAAK,UAAU,QAAU,QAC3B,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,GAAIqc,CAAK,CAE5D,CAAC,IAEC,KAAK,IAAI,cAAc,aAAa,OAAO,EACvC,KAAK,UAAU,QAAU,QAC3B,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,EAAE,EAGvD,CACA,QAAQspB,EAAO,CACb,GAAI,KAAK,qBAAqBA,CAAK,EAAG,CACpC,KAAK,OACH,CAEF,EACA,MACF,CACA,KAAK,UAAU,CACb,KAAM,QACN,MAAOA,EAAM,WACf,CAAC,CACH,CACA,cAAcA,EAAO,CACnB,GAAI,KAAK,2BAA2BA,CAAK,EAAG,CAC1C,KAAK,OACH,CAEF,EACA,MACF,CACA,KAAK,UAAU,CACb,KAAM,cACN,MAAOA,EAAM,WACf,CAAC,CACH,CACA,qBAAqBA,EAAO,CAC1B,OAAO,KAAK,qBAAqBA,EAAO,CAAC3lC,EAAQqc,IAAUrc,EAAO,mBAAmB2lC,EAAM,YAAatpB,CAAK,CAAC,CAChH,CACA,2BAA2BspB,EAAO,CAChC,OAAO,KAAK,qBACVA,EACA,CAAC3lC,EAAQqc,IAAUrc,EAAO,yBAAyB2lC,EAAM,YAAatpB,CAAK,CAC7E,CACF,CACA,qBAAqBspB,EAAO1zC,EAAU,CACpC,IAAI0B,EACJ,MAAMk2E,EAAc,KAAK,eAAe,CAAE,EAAGlkC,EAAM,QAAS,EAAGA,EAAM,OAAQ,EAAG,EAAK,EAC/EtpB,EAAuCwtD,GAAY,MACnDC,EAA0CztD,GAAM,OAAO,WAAW,eACxE,IAAIktD,EACAluE,GAAeyuE,CAAc,IAC/BP,EAAaO,GAEf,IAAIC,EAAa,KAAK,eAAe,CAAE,EAAGpkC,EAAM,QAAS,EAAGA,EAAM,OAAQ,EAAG,EAAI,EAMjF,GALIokC,EACF,KAAK,IAAI,iBAAiB,aAAa,KAAK,GAAIA,EAAW,KAAK,EAEhE,KAAK,IAAI,iBAAiB,aAAa,KAAK,EAAE,EAE5C1tD,GAASytD,IAAmB,UAC9B,OAAA73E,EAASoqB,EAAM,OAAQA,CAAK,EACrB,GAKT,GAHIytD,IAAmB,UACrBC,EAAa,KAAK,eAAe,CAAE,EAAGpkC,EAAM,QAAS,EAAGA,EAAM,OAAQ,EAAG,GAAO4jC,CAAU,GAExF,CAACQ,EACH,MAAO,GACT,MAAMN,EAAeF,GAAc,KAC7BI,EAAiBG,IAAmB,SAAWC,EAAW,WAAa,EAC7E,OAAIN,GAAgBE,KACDhkC,EAAM,iBAAmB,UAAYhyC,EAAKgyC,EAAM,iBAAmB,KAAO,OAAShyC,EAAG,MAAOq2E,GAAc,CAC1H,MAAMC,EAAe,CAAE,EAAGD,EAAU,QAAS,EAAGA,EAAU,OAAQ,EAC5DE,EAAc,KAAK,eAAeD,EAAc,GAAOV,CAAU,EACvE,OAAuCW,GAAY,QAA0CH,GAAW,KAC1G,CAAC,KAEC93E,EAAS83E,EAAW,OAAQA,EAAW,KAAK,EACrC,IAGJ,EACT,CACA,qBAAqBpkC,EAAO,CAC1B,IAAIhyC,EAAIiL,EACR,MAAMunE,EAAiC,IAAI,IACrC,CAAE,OAAQgE,EAAY,OAAQ,MAAOt/B,CAAS,GAAKl3C,EAAKgyC,EAAM,mBAAqB,KAAOhyC,EAAK,CAAC,EAChG,CAAE,OAAQy2E,EAAa,OAAQ,MAAOC,CAAU,GAAKzrE,EAAK+mC,EAAM,oBAAsB,KAAO/mC,EAAK,CAAC,EACrGwrE,GACFjE,EAAe,IAAIiE,CAAU,EAE3BD,GACFhE,EAAe,IAAIgE,CAAS,EAEKC,GAAW,WAAW,QAAWC,GAClE,KAAK,IAAI,cAAc,aAAaD,EAAW,EAAE,EAEjBD,GAAU,WAAW,QAAWt/B,GAChE,KAAK,IAAI,cAAc,aAAas/B,EAAU,GAAIA,EAAU,WAAW,MAAM,EAE/E,KAAK,SAAWxkC,EAAM,iBACJwkC,GAAa,MAAQC,GAAc,KAEnD,KAAK,OACH,CAEF,EAEA,KAAK,OAAO,EAAG,CAAE,eAAAjE,CAAe,CAAC,CAErC,CACA,cAAcmE,EAAY,IAAKC,EAAgB,GAAO,CACpD,OAAOt7E,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAMuE,EAAQ,YAAY,IAAI,EAI9B,IAHI,KAAK,4BAA8B,IACrC,MAAM,KAAK,YAAY,yBAAyB,GAE3C,KAAK,oBAAsB,GAAG,CACnC,GAAI,YAAY,IAAI,EAAIA,EAAQ82E,EAAW,CACzC,MAAMr3E,EAAU,oCAAoCq3E,CAAS,iDAC7D,GAAIC,EACF,MAAM,IAAI,MAAMt3E,CAAO,EAEvBF,EAAO,SAASE,CAAO,CAE3B,CACA,MAAM0wD,GAAM,EAAE,CAChB,CACA,MAAM,KAAK,YAAY,yBAAyB,CAClD,CAAC,CACH,CACA,mBAAmB6mB,EAAS,CAC1B,OAAO,IAAI,QAASn9E,GAAY,CAC9B,KAAK,qBAAqB,IAAIA,CAAO,EACjC+N,GAASovE,CAAO,GAClB,WAAW,IAAM,CACX,KAAK,qBAAqB,IAAIn9E,CAAO,IACvC,KAAK,qBAAqB,OAAOA,CAAO,EACxCA,EAAQ,EAEZ,EAAGm9E,CAAO,CAEd,CAAC,CACH,CACA,aAAc,CACZ,KAAM,CAAE,MAAAzzD,EAAO,OAAAC,CAAO,EAAI,KAAK,IAAI,MAC7ByzD,EAAW,KAAK,OAAO,IAAKzqE,GAAWA,EAAO,YAAY+W,EAAOC,CAAM,CAAC,EAAE,OAAOxc,EAAS,EAChG,GAAIiwE,EAAS,SAAW,EACtB,OACF,IAAInvC,EAAW,EACXC,EAAY,EACZmvC,EAAkB,EAClBC,EAAmB,EACvB,SAAW,CAAE,QAASC,EAAU,eAAgBC,CAAgB,IAAKJ,EACnEnvC,EAAW,KAAK,IAAIA,EAAUsvC,EAAS,KAAK,EAC5CrvC,EAAY,KAAK,IAAIA,EAAWqvC,EAAS,MAAM,EAC/CF,EAAkB,KAAK,IAAIA,EAAiBG,EAAgB,KAAK,EACjEF,EAAmB,KAAK,IAAIA,EAAkBE,EAAgB,MAAM,EAEtE,MAAM5yB,EAAU,IAAIhgC,EAAK,EAAG,EAAGqjB,EAAUC,CAAS,EAClD,IAAIuvC,EAAiB7yB,EAAQ,MAAM,EACnC,OAAIyyB,EAAkB,GAAKC,EAAmB,IAC5CG,EAAiB,IAAI7yD,EAAK,EAAG,EAAGyyD,EAAiBC,CAAgB,GAE5D,CAAE,QAAA1yB,EAAS,eAAA6yB,CAAe,CACnC,CACA,sBAAsB9qE,EAAQ,CAC5B,OAAiCA,GAAO,OAAQ9L,GAAMA,EAAE,kBAAoB,EAAK,CACnF,CACA,aAAa62E,EAAc,CACzB,IAAIp3E,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,MAAMk6D,EAAU,KAAK,iBACfC,EAAeF,EAAa,YAAYC,CAAO,EAC/Ch7D,EAAc+6D,EAAa,YACjC,GAAIE,GAAgB,KAClB,OACF7F,GAAM,2CAA4C6F,CAAY,EAC9D,MAAMC,EAAkBnvE,GAAckvE,EAAcD,CAAO,EACrDG,EAAiB,KAAK,aAAaD,CAAe,EAClDjqE,EAAO,CACX,OACA,OACA,SACA,YACA,QACA,mBACA,6BACA,4BACA,OACA,UACF,EACIgqE,EAAa,WACf,KAAK,kBAAkB,KAAMA,EAAa,SAAS,EAErDppE,GAAU,KAAMopE,EAAc,CAAE,KAAAhqE,CAAK,CAAC,EACtC,IAAIilE,EAAuB,GACvBkF,EAAe,SACdz3E,EAAKs3E,EAAa,SAAW,MAAgBt3E,EAAG,SACnDy3E,EAAe,KAAK,YAAY,KAAMH,EAAa,OAAmCD,GAAQ,MAAM,EACpG9E,EAAuB,IAErBkF,IAAiB,YACnB,KAAK,gBAAgB,EAEnB,KAAK,UAAU,KAAMF,EAAiBF,EAASI,CAAY,IAC7DlF,EAAuB,IAErB+E,EAAa,OACf,KAAK,KAAOA,EAAa,OAErBrsE,EAAKqsE,EAAa,SAAW,MAAgBrsE,EAAG,WAAc,KAAK,eAAe,UAAU,QAAQ,GACxG,OAAO,OAAO,KAAK,OAAO,UAAWqsE,EAAa,OAAO,SAAS,EAEhEA,EAAa,WACf,KAAK,yBAAyB,EAEhC,KAAK,aAAeF,EACpB,KAAK,iBAAmBG,EACxB,KAAK,YAAcnvE,GAAciU,EAAa,KAAK,WAAW,EAC9D,MAAMq7D,EAAkB,KAAK,eAAe,UAAU,WAAW,EAC3DC,EAAa,KAAK,eAAe,UAAU,MAAM,EACnD,CAAqCD,GAAgB,SAAY,CAAgCC,GAAW,SAC9G,KAAK,IAAI,YAAY,WAAW,OAAO,EAEzC,MAAMC,EAA+CF,GAAgB,UAC/Dz5D,GAAmBd,GAAMvR,GAAMV,EAAKqsE,EAAgB,YAAc,KAAO,OAASrsE,EAAG,YAAc,KAAO,OAASU,EAAG,SAAW,KAAOuR,EAAKo6D,EAAgB,OACjIK,GAAU,UAAa,IAAQ35D,GAAmB,KAClF,KAAK,sBAAsB25D,EAAW35D,EAAiBs5D,EAAiBF,CAAO,EACxCO,GAAU,UAAa,KAC9DA,EAAU,OAAS,CAAC,EACpBA,EAAU,KAAO,CAAC,GAEpBz8D,GAAY40C,GAAgB,OAAO,EACnC,KAAK,IAAI,kBAAkB,oBAAoBqnB,EAAa,gBAAgB,EAC5E7E,IAAyBA,EAAuB,KAAK,2BAA2B+E,EAAcG,CAAY,GAE1G,MAAMI,EADctF,GAAwBiF,EACX,EAAI,EACrC,KAAK,qBAAqBC,CAAY,EACtChG,GAAM,8CAA+CzV,GAAgB6b,CAAU,EAAG,CAChF,aAAAJ,EACA,qBAAAlF,CACF,CAAC,EACD,KAAK,OAAOsF,EAAY,CAAE,qBAAAtF,EAAsB,kBAAmB,EAAK,CAAC,CAC3E,CACA,qBAAqBkF,EAAc,CACjC,GAAI,KAAK,OAAS,aAElB,OAAQA,EAAc,CACpB,IAAK,yBACL,IAAK,WACH,KAAK,gBAAgB,EACrB,MACF,QACF,CACF,CACA,2BAA2BH,EAAcG,EAAc,CACrD,MAAMK,EAAmB,CAAC,CAACR,EAAa,MAAQG,IAAiB,eAAiBA,IAAiB,WAC7FM,EAAavnE,GAAe,QAAQ,EACpCwnE,EAAoB,OAAO,OAAOD,CAAU,EAAE,KACjDE,GAAcX,EAAaW,CAAS,GAAK,IAC5C,EACMC,EAAqBZ,EAAa,OAAS,MAAQA,EAAa,UAAY,KAClF,OAAOQ,GAAoBE,GAAqBE,CAClD,CACA,sBAAsBN,EAAW35D,EAAiBs5D,EAAiBF,EAAS,CAC1E,IAAIr3E,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,MAAMg7D,GAAajtE,GAAMD,GAAMjL,EAAgCq3E,GAAQ,YAAc,KAAO,OAASr3E,EAAG,YAAc,KAAO,OAASiL,EAAG,SAAW,KAAOC,EAAgCmsE,GAAQ,OAC7Le,EAAwB,KAAK,YACjCR,EACA,KAAK,sBAAsB35D,CAAe,EAC1C,KAAK,sBAAsBk6D,CAAS,CACtC,EACA,KAAK,UAAUP,EAAWL,EAAiBF,EAASe,EAAuB,CACzE,cACA,mBACA,eACA,mBACA,kBACA,cACF,CAAC,EACD,MAAM9jE,EAAOsjE,EAAU,KACjBS,EAAiB/jE,EAAK,KACzBlI,GAASA,EAAK,YAAc,GAE/B,EACA,UAAWA,KAAQkI,EACjBlI,EAAK,SAAS,QAAU,GACxBA,EAAK,MAAM,QAAUA,IAASisE,EAC9BjsE,EAAK,KAAK,QAAU,GACpBA,EAAK,mBAAqB,GAE5B,GAAIisE,GAAkB,KAAM,CAC1B,MAAMC,GAAiB1sE,EAAK2rE,EAAgB,YAAc,KAAO,OAAS3rE,EAAG,UACvE2sE,EAAgDD,GAAc,MAC9DE,GAAmBr7D,EAAsCm7D,GAAc,QAAU,KAAO,OAASn7D,EAAG,SAC1Gk7D,EAAe,KAAK,QAAU,GAC9BA,EAAe,MAAM,IACnBxvE,GAAQ0vE,EAAc,CAAC,WAAY,WAAY,aAAc,aAAc,iBAAiB,CAAC,CAC/F,EACAF,EAAe,KAAK,IAClBxvE,GAAQ2vE,EAAiB,CAAC,UAAW,QAAS,OAAQ,QAAS,WAAY,MAAM,CAAC,CACpF,EACA,MAAM58E,EAA0C48E,GAAgB,KAC5D58E,GAAQ,OACVy8E,EAAe,KAAK,SAAWz8E,EAEnC,CACF,CACA,aAAa4C,EAAS,CACpB,IAAIwB,EACJ,KAAM,CAAE,KAAM6J,CAAW,EAAI,KAAK,YAClC,IAAI2tE,EAAiB,GACrB,UAAWpzE,KAAUO,GAAe,OAAO,OAAQ,QAAQ,EAAG,CAE5D,MAAM8zE,EADej6E,EAAQ4F,EAAO,UAAU,GAAK,MACXA,EAAO,WAAW,SAASyF,CAAU,EACzE4uE,IAAoB,KAAK,eAAe,UAAUr0E,CAAM,IAExDq0E,GACF,KAAK,eAAe,UAAUr0E,EAASI,GAAM,IAAIA,EAAE,oBAAoB,KAAK,iBAAiB,CAAC,CAAC,EAC3FJ,EAAO,OAAS,YACjBpE,EAAK,KAAK,eAAe,UAAUoE,CAAM,IAAM,MAAgBpE,EAAG,aAAa,KAAK,IAAI,KAAK,GAEhG,KAAKoE,EAAO,UAAU,EAAI,KAAK,eAAe,UAAUA,CAAM,IAE9D,KAAK,eAAe,aAAaA,CAAM,EACvC,OAAO,KAAKA,EAAO,UAAU,GAE/BozE,EAAiB,GACnB,CACA,OAAOA,CACT,CACA,YAAYlb,EAAOwJ,EAAW4S,EAAc,CAC1C,IAAI14E,EACJ,GAAI,CAAC8lE,EACH,MAAO,YAET,MAAM6S,EAAc9S,GAAmBvJ,EAAM,OAAQwJ,EAAW4S,CAAY,EAC5E,GAAIC,EAAY,SAAW,aACzB,OAAAlH,GACE,oEAAoEkH,EAAY,MAAM,GACtFA,CACF,EACArc,EAAM,OAASwJ,EAAU,IAAKh4D,GAAS,KAAK,aAAaA,CAAI,CAAC,EACvD,WAET2jE,GAAM,wCAAyCkH,CAAW,EAC1D,MAAMC,EAAkB,CAAC,EACzB,IAAIC,EAAc,GACdC,EAAkB,GAClBC,EAAY,GAChB,UAAWtwB,KAAUkwB,EAAY,QAI/B,OAHAG,IAAoBA,EAAkBrwB,EAAO,SAAW,mBACxDowB,IAAgBA,IAAgB74E,EAAKyoD,EAAO,OAAS,KAAO,OAASzoD,EAAG,OAAS,MACjF+4E,IAAcA,EAAYtwB,EAAO,SAAW,SACpCA,EAAO,OAAQ,CACrB,IAAK,MACH,MAAM+tB,EAAY,KAAK,aAAa/tB,EAAO,IAAI,EAC/CmwB,EAAgB,KAAKpC,CAAS,EAC9B/E,GAAM,+CAAgD+E,CAAS,EAC/D,MACF,IAAK,SACH/E,GAAM,6DAA6DhpB,EAAO,GAAG,GAAIA,EAAO,MAAM,EAC9F,MACF,IAAK,QACHmwB,EAAgB,KAAKnwB,EAAO,MAAM,EAClCgpB,GAAM,iEAAiEhpB,EAAO,GAAG,GAAIA,EAAO,MAAM,EAClG,MACF,IAAK,kBACL,IAAK,SACL,QACE,KAAM,CAAE,OAAAp8C,EAAQ,KAAMmB,EAAO,IAAA+0B,CAAI,EAAIkmB,EACrCgpB,GAAM,+DAA+DlvC,CAAG,GAAI/0B,EAAOnB,CAAM,EACzF,KAAK,kBAAkBA,EAAQmB,CAAK,EACpCnB,EAAO,kBAAkB,EACzBusE,EAAgB,KAAKvsE,CAAM,CAC/B,CAEF,QAASk2B,EAAM,EAAGA,EAAMq2C,EAAgB,OAAQr2C,IAC9Cq2C,EAAgBr2C,CAAG,EAAE,kBAAoBA,EAI3C,OAFAkvC,GAAM,mDAAoDmH,CAAe,EACzEtc,EAAM,OAASsc,EACXE,EACK,yBAELD,EACK,cAEFE,EAAY,UAAY,OACjC,CACA,UAAUzc,EAAO99D,EAAS64E,EAASI,EAAcnqE,EAAO,CAAC,EAAG,CAC1D,GAAI,EAAE,SAAU9O,IAAY,CAACA,EAAQ,KACnC,MAAO,GAET8O,EAAO,CAAC,cAAe,GAAGA,CAAI,EAC9B,KAAM,CAAE,KAAAgH,CAAK,EAAI9V,EAGjB,MADsB,EADAi5E,IAAiB,aACCnb,EAAM,KAAK,SAAWhoD,EAAK,QAAUgoD,EAAM,KAAK,MAAM,CAAChkE,EAAGQ,IAAMR,EAAE,OAASgc,EAAKxb,CAAC,EAAE,IAAI,GAC1GqS,GAA0BksE,CAAO,GACpD/a,EAAM,KAAK,QAAQ,CAAClwD,EAAM7H,IAAU,CAClC,IAAIvE,EAAIiL,EACR,MAAMw7D,GAAgBx7D,GAAMjL,EAAKq3E,EAAQ,OAAS,KAAO,OAASr3E,EAAGuE,CAAK,IAAM,KAAO0G,EAAK,CAAC,EACvF+tE,EAAW3rE,GAASo5D,EAAcnyD,EAAK/P,CAAK,CAAC,EACnDktE,GAAM,kDAAkDltE,CAAK,GAAIy0E,CAAQ,EACzE,MAAMhwE,EAAO,QAAQzE,CAAK,IAC1B2J,GAAU9B,EAAM4sE,EAAUn+E,EAAcD,EAAgB,CAAC,EAAG++B,EAAkB,EAAG,CAAE,KAAA3wB,EAAM,KAAAsE,CAAK,CAAC,CAAC,CAClG,CAAC,EACM,KAETmkE,GAAM,sEAAsEgG,CAAY,EAAE,EAC1Fnb,EAAM,KAAO,KAAK,WAAWhoD,EAAMhH,CAAI,EAChC,GACT,CACA,aAAa0Q,EAAe,CAC1B,MAAMi7D,EAAiB9oE,GAAe,OAAO6N,EAAc,KAAM,KAAK,iBAAiB,CAAC,EACxF,YAAK,yBAAyBi7D,EAAgBj7D,CAAa,EAC3D,KAAK,kBAAkBi7D,EAAgBj7D,CAAa,EAC7Ci7D,CACT,CACA,yBAAyB5sE,EAAQ7N,EAAS,CACxC,MAAMsG,EAAgBuH,EAAO,oBAAoB,EAC3C6sE,EAAY7sE,EAAO,aAAa,EACtC,UAAWjI,KAAUO,GAAe,OAAO,eAAe,EACpDP,EAAO,cAAc5F,GAAW4F,EAAO,YAAY,SAASiI,EAAO,IAAI,GACzE6sE,EAAU,UAAU90E,EAASI,GAAM,IAAIA,EAAE,oBAAoBM,CAAa,CAAC,CAGjF,CACA,kBAAkBnM,EAAQ6F,EAAS,CACjC,MAAM06E,EAAYvgF,EAAO,aAAa,EAChCqH,EAAKxB,EAAS,CAAE,KAAMke,EAAG,KAAAvN,EAAM,UAAAgjD,EAAW,eAAAyJ,EAAgB,gBAAiB38C,CAAG,EAAIjf,EAAIge,EAAgBljB,GAAUkF,EAAI,CAAC,OAAQ,OAAQ,YAAa,iBAAkB,iBAAiB,CAAC,EAC5L,UAAWm5E,KAAajvE,GACtB,GAAIivE,EAAU,OAAS,iBAEnBA,EAAU,cAAcn7D,EAAe,CACzC,MAAM5Z,EAAS80E,EAAU,UAAUC,EAAU,UAAU,EACjDC,EAAgBp7D,EAAcm7D,EAAU,UAAU,EACxD,OAAOn7D,EAAcm7D,EAAU,UAAU,EACzC/0E,EAAO,WAAW,IAAIg1E,CAAa,CACrC,CAEFzgF,EAAO,WAAW,IAAIqlB,CAAa,EAC/B,SAAUxf,GACZ7F,EAAO,eAAewW,CAAI,EAExBgjD,GACF,KAAK,kBAAkBx5D,EAAQw5D,CAAS,EAEtC,mBAAoB3zD,IAClBo9D,GAAkB,KACpBjjE,EAAO,eAAiB,OAExBA,EAAO,eAAiBiC,EAAgBA,EAAgB,CAAC,EAAGjC,EAAO,cAAc,EAAGijE,CAAc,EAGxG,CACA,WAAWp9D,EAAS8O,EAAM,CACxB,MAAM+rE,EAAU,IAAI/T,GACdxgE,EAAgB,KAAK,iBAAiB,EAC5C,QAASP,EAAQ,EAAGA,EAAQ/F,EAAQ,OAAQ+F,IAAS,CACnD,MAAM+0E,EAAc96E,EAAQ+F,CAAK,EAC3B6H,EAAOnH,GAAa,OAAOq0E,EAAY,KAAMx0E,CAAa,EAChE,KAAK,iBAAiBsH,EAAMktE,CAAW,EACvCprE,GAAU9B,EAAMktE,EAAaz+E,EAAcD,EAAgB,CAAC,EAAG++B,EAAkB,EAAG,CAAE,KAAM,QAAQp1B,CAAK,IAAK,KAAA+I,CAAK,CAAC,CAAC,EACrH+rE,EAAQ,KAAKjtE,EAAMktE,CAAW,CAChC,CACA,OAAOD,EAAQ,sBAAsB,CACvC,CACA,iBAAiBjtE,EAAM5N,EAAS,CAC9B,MAAMsG,EAAgBsH,EAAK,oBAAoB,EACzC8sE,EAAY9sE,EAAK,aAAa,EACpC,UAAWhI,KAAUO,GAAe,OAAO,aAAa,EAAG,CACzD,MAAM8zE,EAAkBj6E,EAAQ4F,EAAO,UAAU,GAAK,KAClDq0E,IAAoBS,EAAU,UAAU90E,CAAM,IAE9Cq0E,GACFS,EAAU,UAAU90E,EAASI,GAAM,IAAIA,EAAE,oBAAoBM,CAAa,CAAC,EAC3EsH,EAAKhI,EAAO,UAAU,EAAI80E,EAAU,UAAU90E,CAAM,IAEpD80E,EAAU,aAAa90E,CAAM,EAC7B,OAAOgI,EAAKhI,EAAO,UAAU,GAEjC,CACF,CACA,kBAAkBrJ,EAAQo3D,EAAW,CACnCp3D,EAAO,oBAAoB,EAC3B,SAAW,CAAC0T,EAAU8hD,CAAQ,IAAK,OAAO,QAAQ4B,CAAS,EACrD/qD,GAAWmpD,CAAQ,GACrBx1D,EAAO,iBAAiB0T,EAAU8hD,CAAQ,CAGhD,CACF,EACAohB,GAAO,gBAAkC,IAAI,QAC7Cx2E,EAAiB,CACfu/C,GAAY,CACV,SAAStiD,EAAO,CACV,KAAK,YAETA,EAAM,aAAa,iBAAkB,EAAE,EACvCA,EAAM,YAAY,KAAK,OAAO,EAC9Bu5E,GAAO,gBAAgB,IAAIv5E,EAAO,IAAI,EACxC,EACA,SAASA,EAAO,CACdA,EAAM,gBAAgB,gBAAgB,EACtCA,EAAM,YAAY,KAAK,OAAO,EAC9Bu5E,GAAO,gBAAgB,OAAOv5E,CAAK,CACrC,CACF,CAAC,CACH,EAAGu5E,GAAO,UAAW,YAAa,CAAC,EACnCx2E,EAAiB,CACfu/C,GAAY,CACV,SAAStiD,EAAO,CACd,KAAK,OAAOA,EAAO,OAAQ,cAAc,CAC3C,CACF,CAAC,CACH,EAAGu5E,GAAO,UAAW,QAAS,CAAC,EAC/Bx2E,EAAiB,CACfu/C,GAAY,CACV,SAAStiD,EAAO,CACd,KAAK,OAAO,OAAQA,EAAO,eAAe,CAC5C,CACF,CAAC,CACH,EAAGu5E,GAAO,UAAW,SAAU,CAAC,EAChCx2E,EAAiB,CACfu/C,GAAY,CACV,SAAStiD,EAAO,CACd,KAAK,iBAAiBA,CAAK,CAC7B,CACF,CAAC,EACD08B,EAASoB,CAAO,CAClB,EAAGy7C,GAAO,UAAW,WAAY,CAAC,EAClCx2E,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG47C,GAAO,UAAW,UAAW,CAAC,EACjCx2E,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG47C,GAAO,UAAW,aAAc,CAAC,EACpCx2E,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG47C,GAAO,UAAW,QAAS,CAAC,EAC/Bx2E,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG47C,GAAO,UAAW,WAAY,CAAC,EAClCx2E,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG47C,GAAO,UAAW,WAAY,CAAC,EAClCx2E,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG47C,GAAO,UAAW,WAAY,CAAC,EAClCx2E,EAAiB,CACf25B,EAASiD,GAAM,CAAC,aAAc,YAAY,EAAG,cAAc,CAAC,CAC9D,EAAG45C,GAAO,UAAW,OAAQ,CAAC,EAC9Bx2E,EAAiB,CACfu/C,GAAY,CACV,YAAYvxC,EAAUrD,EAAU,CAC9B,KAAK,aAAaqD,EAAUrD,CAAQ,CACtC,CACF,CAAC,CACH,EAAG6rE,GAAO,UAAW,OAAQ,CAAC,EAC9Bx2E,EAAiB,CACfu/C,GAAY,CACV,YAAYvxC,EAAUrD,EAAU,CAC9B,KAAK,eAAeqD,EAAUrD,CAAQ,CACxC,CACF,CAAC,CACH,EAAG6rE,GAAO,UAAW,SAAU,CAAC,EAChC,IAAI4H,GAAQ5H,GACZ,SAAS6H,GAAWlhF,EAAGC,EAAG,CACxB,MAAMoR,EAAI,CAACpR,EAAID,EACf,OAAOA,IAAM,GAAKqR,GAAK,GAAKA,GAAK,EAAI,CAACA,CAAC,EAAI,CAAC,CAC9C,CACA,SAAS8vE,GAAenhF,EAAGC,EAAGutB,EAAG,CAC/B,GAAIxtB,IAAM,EACR,OAAOkhF,GAAWjhF,EAAGutB,CAAC,EAExB,MAAM4zD,EAAInhF,EAAIA,EAAI,EAAID,EAAIwtB,EACpB6zD,EAAQ,CAAC,EACf,GAAID,IAAM,EAAG,CACX,MAAM/vE,EAAI,CAACpR,GAAK,EAAID,GAChBqR,GAAK,GAAKA,GAAK,GACjBgwE,EAAM,KAAKhwE,CAAC,CAEhB,SAAW+vE,EAAI,EAAG,CAChB,MAAMzzD,EAAK,KAAK,KAAKyzD,CAAC,EAChBv5C,GAAM,CAAC5nC,EAAI0tB,IAAO,EAAI3tB,GACtBshF,GAAM,CAACrhF,EAAI0tB,IAAO,EAAI3tB,GACxB6nC,GAAM,GAAKA,GAAM,GACnBw5C,EAAM,KAAKx5C,CAAE,EAEXy5C,GAAM,GAAKA,GAAM,GACnBD,EAAM,KAAKC,CAAE,CAEjB,CACA,OAAOD,CACT,CACA,SAASE,GAAWvhF,EAAGC,EAAGutB,EAAGlmB,EAAG,CAC9B,GAAItH,IAAM,EACR,OAAOmhF,GAAelhF,EAAGutB,EAAGlmB,CAAC,EAE/B,MAAM+lB,EAAIptB,EAAID,EACRstB,EAAIE,EAAIxtB,EACRutB,EAAIjmB,EAAItH,EACRwhF,GAAK,EAAIl0D,EAAID,EAAIA,GAAK,EACtBo0D,GAAK,EAAIp0D,EAAIC,EAAI,GAAKC,EAAI,EAAIF,EAAIA,EAAIA,GAAK,GAC3C+zD,EAAII,EAAIA,EAAIA,EAAIC,EAAIA,EACpBC,EAAQ,EAAI,EACZL,EAAQ,CAAC,EACf,GAAID,GAAK,EAAG,CACV,MAAMzzD,EAAK,KAAK,KAAKyzD,CAAC,EAChB5sD,EAAI,KAAK,KAAKitD,EAAI9zD,CAAE,EAAI,KAAK,IAAI,KAAK,IAAI8zD,EAAI9zD,CAAE,EAAG+zD,CAAK,EACxDC,EAAI,KAAK,KAAKF,EAAI9zD,CAAE,EAAI,KAAK,IAAI,KAAK,IAAI8zD,EAAI9zD,CAAE,EAAG+zD,CAAK,EACxDE,EAAK,KAAK,IAAI,KAAK,KAAK,CAAC,GAAKptD,EAAImtD,GAAK,CAAC,EACxCtwE,EAAI,CAACqwE,EAAQr0D,GAAKmH,EAAImtD,GAI5B,GAHItwE,GAAK,GAAKA,GAAK,GACjBgwE,EAAM,KAAKhwE,CAAC,EAEVuwE,IAAO,EAAG,CACZ,MAAMN,EAAK,CAACI,EAAQr0D,GAAKmH,EAAImtD,GAAK,EAC9BL,GAAM,GAAKA,GAAM,GACnBD,EAAM,KAAKC,CAAE,CAEjB,CACF,KAAO,CACL,MAAMO,EAAQ,KAAK,KAAKJ,EAAI,KAAK,KAAK,CAACD,EAAIA,EAAIA,CAAC,CAAC,EAC3CM,EAASJ,EAAQr0D,EACjB00D,EAAW,EAAI,KAAK,KAAK,CAACP,CAAC,EAC3B35C,EAAKk6C,EAAW,KAAK,IAAIL,EAAQG,CAAK,EAAIC,EAC1CR,EAAKS,EAAW,KAAK,IAAIL,GAASG,EAAQ,EAAI,KAAK,GAAG,EAAIC,EAC1DE,EAAKD,EAAW,KAAK,IAAIL,GAASG,EAAQ,EAAI,KAAK,GAAG,EAAIC,EAC5Dj6C,GAAM,GAAKA,GAAM,GACnBw5C,EAAM,KAAKx5C,CAAE,EAEXy5C,GAAM,GAAKA,GAAM,GACnBD,EAAM,KAAKC,CAAE,EAEXU,GAAM,GAAKA,GAAM,GACnBX,EAAM,KAAKW,CAAE,CAEjB,CACA,OAAOX,CACT,CACA,SAASY,GAAoBC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAK,CACnE,MAAMn7E,GAAK86E,EAAMF,IAAQO,EAAMF,IAAQF,EAAMF,IAAQK,EAAMF,GAC3D,GAAIh7E,IAAM,EACR,MAAO,GAET,MAAMo7E,IAAOF,EAAMF,IAAQH,EAAMI,IAAQL,EAAMI,IAAQG,EAAMF,IAAQj7E,EAC/Dq7E,IAAOP,EAAMF,IAAQC,EAAMI,IAAQF,EAAMF,IAAQD,EAAMI,IAAQh7E,EACrE,OAAIo7E,GAAM,GAAKA,GAAM,GAAKC,GAAM,GAAKA,GAAM,EAClC,EAEF,CACT,CACA,SAASC,GAA0BC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKh4D,EAAIC,EAAIC,EAAIC,EAAI,CACzF,IAAI83D,EAAgB,EACpB,MAAMh2D,EAAIhC,EAAKE,EACT+B,EAAIhC,EAAKF,EACTmC,EAAInC,GAAMG,EAAKF,GAAMA,GAAMC,EAAKF,GAChCk4D,EAAKC,GAAmBV,EAAKE,EAAKE,EAAKE,CAAG,EAC1CK,EAAKD,GAAmBT,EAAKE,EAAKE,EAAKE,CAAG,EAC1CpjF,EAAIqtB,EAAIi2D,EAAG,CAAC,EAAIh2D,EAAIk2D,EAAG,CAAC,EACxBvjF,EAAIotB,EAAIi2D,EAAG,CAAC,EAAIh2D,EAAIk2D,EAAG,CAAC,EACxBh2D,EAAIH,EAAIi2D,EAAG,CAAC,EAAIh2D,EAAIk2D,EAAG,CAAC,EACxBl8E,EAAI+lB,EAAIi2D,EAAG,CAAC,EAAIh2D,EAAIk2D,EAAG,CAAC,EAAIj2D,EAC5B8zD,EAAQE,GAAWvhF,EAAGC,EAAGutB,EAAGlmB,CAAC,EACnC,UAAW+J,KAAKgwE,EAAO,CACrB,MAAMoC,EAAKpyE,EAAIA,EACTqyE,EAAMryE,EAAIoyE,EACVviF,EAAIoiF,EAAG,CAAC,EAAII,EAAMJ,EAAG,CAAC,EAAIG,EAAKH,EAAG,CAAC,EAAIjyE,EAAIiyE,EAAG,CAAC,EAC/Cr5D,EAAIu5D,EAAG,CAAC,EAAIE,EAAMF,EAAG,CAAC,EAAIC,EAAKD,EAAG,CAAC,EAAInyE,EAAImyE,EAAG,CAAC,EACrD,IAAIv7E,EACAmjB,IAAOE,EACTrjB,GAAKgiB,EAAIoB,IAAOE,EAAKF,GAErBpjB,GAAK/G,EAAIkqB,IAAOE,EAAKF,GAEnBnjB,GAAK,GAAKA,GAAK,GACjBo7E,GAEJ,CACA,OAAOA,CACT,CACA,SAASE,GAAmBI,EAAIC,EAAIC,EAAIC,EAAI,CAC1C,MAAO,CAEL,CAACH,EAAK,EAAIC,EAAK,EAAIC,EAAKC,EAExB,EAAIH,EAAK,EAAIC,EAAK,EAAIC,EAEtB,GAAKF,EAAK,EAAIC,EAEdD,CAEF,CACF,CACA,SAASI,GAAiB51D,EAAIC,EAAIlT,EAAG+e,EAAYC,EAAUmlB,EAAkBj0B,EAAIC,EAAIC,EAAIC,EAAI,CAC3F,GAAI,MAAM4C,CAAE,GAAK,MAAMC,CAAE,EACvB,MAAO,GAELixB,IACF,CAACnlB,EAAUD,CAAU,EAAI,CAACA,EAAYC,CAAQ,GAEhD,MAAMj5B,GAAKsqB,EAAKF,IAAOC,EAAKF,GACtBqc,EAAKpc,EAAKpqB,EAAImqB,EACdprB,EAAI,KAAK,IAAIiB,EAAG,CAAC,EAAI,EACrBhB,EAAI,GAAKgB,GAAKwmC,EAAKrZ,GAAMD,GACzBX,EAAI,KAAK,IAAIW,EAAI,CAAC,EAAI,KAAK,IAAIsZ,EAAKrZ,EAAI,CAAC,EAAI,KAAK,IAAIlT,EAAG,CAAC,EAC1D5T,EAAI,KAAK,IAAIrH,EAAG,CAAC,EAAI,EAAID,EAAIwtB,EACnC,GAAIlmB,EAAI,EACN,MAAO,GAET,MAAM08E,GAAO,CAAC/jF,EAAI,KAAK,KAAKqH,CAAC,GAAK,EAAItH,EAChCikF,GAAO,CAAChkF,EAAI,KAAK,KAAKqH,CAAC,GAAK,EAAItH,EACtC,IAAIqjF,EAAgB,EACpB,OAACW,EAAKC,CAAG,EAAE,QAAS,GAAM,CAExB,GAAI,EADkB,GAAK,KAAK,IAAI74D,EAAIE,CAAE,GAAK,GAAK,KAAK,IAAIF,EAAIE,CAAE,GAEjE,OAEF,MAAMrB,EAAIhpB,EAAI,EAAIwmC,EACZy8C,EAAW,EAAI/1D,EACfg2D,EAAWl6D,EAAImE,EACf2M,EAAQ,KAAK,MAAMopD,EAAUD,CAAQ,EACvCnqD,GAAgBgB,EAAOd,EAAYC,CAAQ,GAC7CmpD,GAEJ,CAAC,EACMA,CACT,CACA,IAAIe,GAAiB,KAAM,CACzB,aAAc,CACZ,KAAK,OAAS,IAAI,OAClB,KAAK,iBAAmB,CAAC,EACzB,KAAK,eAAiB,CAAC,EACvB,KAAK,mBAAqB,GAC1B,KAAK,SAAW,CAAC,EACjB,KAAK,OAAS,CAAC,EACf,KAAK,WAAa,GAClB,KAAK,WAAa,EACpB,CACA,SAAU,CACR,OAAO,KAAK,aAAe,KAAK,oBAAsB,KAAK,iBAAiB,SAAW,KAAK,SAAS,QAAU,KAAK,eAAe,SAAW,KAAK,OAAO,QAAU,KAAK,iBAAiB,SAAS,IAAM,KAAK,SAAS,SAAS,GAAK,KAAK,eAAe,SAAS,IAAM,KAAK,OAAO,SAAS,CAC/R,CACA,WAAY,CACV,OAAO,KAAK,MACd,CACA,OAAOljF,EAAG+oB,EAAG,CACX,KAAK,WAAa,GAClB,KAAK,OAAO,OAAO/oB,EAAG+oB,CAAC,EACvB,KAAK,SAAS,KACZ,CAEF,EACA,KAAK,OAAO,KAAK/oB,EAAG+oB,CAAC,CACvB,CACA,OAAO/oB,EAAG+oB,EAAG,CACP,KAAK,YACP,KAAK,OAAO,OAAO/oB,EAAG+oB,CAAC,EACvB,KAAK,SAAS,KACZ,CAEF,EACA,KAAK,OAAO,KAAK/oB,EAAG+oB,CAAC,GAErB,KAAK,OAAO/oB,EAAG+oB,CAAC,CAEpB,CACA,KAAK/oB,EAAG+oB,EAAGa,EAAOC,EAAQ,CACxB,KAAK,OAAO7pB,EAAG+oB,CAAC,EAChB,KAAK,OAAO/oB,EAAI4pB,EAAOb,CAAC,EACxB,KAAK,OAAO/oB,EAAI4pB,EAAOb,EAAIc,CAAM,EACjC,KAAK,OAAO7pB,EAAG+oB,EAAIc,CAAM,EACzB,KAAK,UAAU,CACjB,CACA,UAAU7pB,EAAG+oB,EAAGa,EAAOC,EAAQs5D,EAAO,CACpCA,EAAQ,KAAK,IAAIA,EAAOv5D,EAAQ,EAAGC,EAAS,CAAC,EAC7C,KAAK,OAAO7pB,EAAG+oB,EAAIo6D,CAAK,EACxB,KAAK,IAAInjF,EAAImjF,EAAOp6D,EAAIo6D,EAAOA,EAAO,KAAK,GAAI,IAAM,KAAK,EAAE,EAC5D,KAAK,OAAOnjF,EAAImjF,EAAOp6D,CAAC,EACxB,KAAK,OAAO/oB,EAAI4pB,EAAQu5D,EAAOp6D,CAAC,EAChC,KAAK,IAAI/oB,EAAI4pB,EAAQu5D,EAAOp6D,EAAIo6D,EAAOA,EAAO,IAAM,KAAK,GAAI,EAAI,KAAK,EAAE,EACxE,KAAK,OAAOnjF,EAAI4pB,EAAOb,EAAIo6D,CAAK,EAChC,KAAK,OAAOnjF,EAAI4pB,EAAOb,EAAIc,EAASs5D,CAAK,EACzC,KAAK,IAAInjF,EAAI4pB,EAAQu5D,EAAOp6D,EAAIc,EAASs5D,EAAOA,EAAO,EAAG,KAAK,GAAK,CAAC,EACrE,KAAK,OAAOnjF,EAAI4pB,EAAQu5D,EAAOp6D,EAAIc,CAAM,EACzC,KAAK,OAAO7pB,EAAImjF,EAAOp6D,EAAIc,CAAM,EACjC,KAAK,IAAI7pB,GAAI,CAACmjF,EAAOp6D,EAAIc,EAASs5D,EAAOA,EAAO,KAAK,GAAK,EAAG,KAAK,EAAE,EACpE,KAAK,OAAOnjF,EAAG+oB,EAAIc,EAASs5D,CAAK,EACjC,KAAK,UAAU,CACjB,CACA,IAAInjF,EAAG+oB,EAAG/O,EAAGopE,EAAQC,EAAQllC,EAAkB,CAC7C,KAAK,WAAa,GAClB,KAAK,OAAO,IAAIn+C,EAAG+oB,EAAG/O,EAAGopE,EAAQC,EAAQllC,CAAgB,EACzD,KAAK,SAAS,KACZ,CAEF,EACA,KAAK,OAAO,KAAKn+C,EAAG+oB,EAAG/O,EAAGopE,EAAQC,EAAQllC,EAAmB,EAAI,CAAC,CACpE,CACA,aAAamlC,EAAKC,EAAKC,EAAKC,EAAKzjF,EAAG+oB,EAAG,CAChC,KAAK,YACR,KAAK,OAAOu6D,EAAKC,CAAG,EAEtB,KAAK,OAAO,cAAcD,EAAKC,EAAKC,EAAKC,EAAKzjF,EAAG+oB,CAAC,EAClD,KAAK,SAAS,KACZ,CAEF,EACA,KAAK,OAAO,KAAKu6D,EAAKC,EAAKC,EAAKC,EAAKzjF,EAAG+oB,CAAC,CAC3C,CACA,WAAY,CACN,KAAK,aACP,KAAK,OAAO,UAAU,EACtB,KAAK,SAAS,KACZ,CAEF,EACA,KAAK,WAAa,GAClB,KAAK,WAAa,GAEtB,CACA,MAAM26D,EAAc,CACdA,IACF,KAAK,iBAAmB,KAAK,SAC7B,KAAK,eAAiB,KAAK,OAC3B,KAAK,mBAAqB,KAAK,YAEjC,KAAK,OAAS,IAAI,OAClB,KAAK,WAAa,GAClB,KAAK,WAAa,GAClB,KAAK,SAAW,CAAC,EACjB,KAAK,OAAS,CAAC,CACjB,CACA,cAAc1jF,EAAG+oB,EAAG,CAClB,MAAM46D,EAAW,KAAK,SAChBhvE,EAAS,KAAK,OACdivE,EAAKD,EAAS,OACdE,EAAK,KACLC,EAAK,KACX,IAAI/1D,EAAK,IACLC,EAAK,IACL0wB,EAAK,EACLC,EAAK,EACLolC,EAAoB,EACxB,QAASC,EAAK,EAAGC,EAAK,EAAGD,EAAKJ,EAAII,IAChC,OAAQL,EAASK,CAAE,EAAG,CACpB,IAAK,GACHD,GAAqBhD,GAAoBhzD,EAAIC,EAAI0wB,EAAIC,EAAIklC,EAAIC,EAAI9jF,EAAG+oB,CAAC,EACrE21B,EAAK/pC,EAAOsvE,GAAI,EAChBl2D,EAAK2wB,EACLC,EAAKhqC,EAAOsvE,GAAI,EAChBj2D,EAAK2wB,EACL,MACF,IAAK,GACHolC,GAAqBhD,GAAoBriC,EAAIC,EAAIhqC,EAAOsvE,GAAI,EAAGtvE,EAAOsvE,GAAI,EAAGJ,EAAIC,EAAI9jF,EAAG+oB,CAAC,EACzF21B,EAAK/pC,EAAOsvE,EAAK,CAAC,EAClBtlC,EAAKhqC,EAAOsvE,EAAK,CAAC,EAClB,MACF,IAAK,GACHF,GAAqBrC,GACnBhjC,EACAC,EACAhqC,EAAOsvE,GAAI,EACXtvE,EAAOsvE,GAAI,EACXtvE,EAAOsvE,GAAI,EACXtvE,EAAOsvE,GAAI,EACXtvE,EAAOsvE,GAAI,EACXtvE,EAAOsvE,GAAI,EACXJ,EACAC,EACA9jF,EACA+oB,CACF,EACA21B,EAAK/pC,EAAOsvE,EAAK,CAAC,EAClBtlC,EAAKhqC,EAAOsvE,EAAK,CAAC,EAClB,MACF,IAAK,GACH,MAAMh3D,EAAKtY,EAAOsvE,GAAI,EAChB/2D,EAAKvY,EAAOsvE,GAAI,EAChBjqE,EAAIrF,EAAOsvE,GAAI,EACflrD,EAAapkB,EAAOsvE,GAAI,EACxBjrD,EAAWrkB,EAAOsvE,GAAI,EACtB9lC,EAAmB,EAAQxpC,EAAOsvE,GAAI,EAa5C,GAZAF,GAAqBlB,GACnB51D,EACAC,EACAlT,EACA+e,EACAC,EACAmlB,EACA0lC,EACAC,EACA9jF,EACA+oB,CACF,EACI,CAAC,MAAMgF,CAAE,EAAG,CACd,MAAMqwB,EAASnxB,EAAK,KAAK,IAAI8L,CAAU,EAAI/e,EACrCqkC,EAASnxB,EAAK,KAAK,IAAI6L,CAAU,EAAI/e,EAC3C+pE,GAAqBhD,GAAoBriC,EAAIC,EAAIP,EAAQC,EAAQwlC,EAAIC,EAAI9jF,EAAG+oB,CAAC,CAC/E,CACA21B,EAAKzxB,EAAK,KAAK,IAAI+L,CAAQ,EAAIhf,EAC/B2kC,EAAKzxB,EAAK,KAAK,IAAI8L,CAAQ,EAAIhf,EAC/B,MACF,IAAK,GACH+pE,GAAqBhD,GAAoBhzD,EAAIC,EAAI0wB,EAAIC,EAAIklC,EAAIC,EAAI9jF,EAAG+oB,CAAC,EACrE,KACJ,CAEF,OAAOg7D,EAAoB,IAAM,CACnC,CACA,gBAAgB/jF,EAAG+oB,EAAG,CACpB,IAAIg1B,EAAO,IACX,MAAM4lC,EAAW,KAAK,SAChBhvE,EAAS,KAAK,OACdivE,EAAKD,EAAS,OACpB,IAAI51D,EAAK,IACLC,EAAK,IACL0wB,EAAK,EACLC,EAAK,EACT,QAASqlC,EAAK,EAAGC,EAAK,EAAGD,EAAKJ,EAAII,IAChC,OAAQL,EAASK,CAAE,EAAG,CACpB,IAAK,GACHtlC,EAAK3wB,EAAKpZ,EAAOsvE,GAAI,EACrBtlC,EAAK3wB,EAAKrZ,EAAOsvE,GAAI,EACrB,MACF,IAAK,GAAG,CACN,MAAMC,EAAKvvE,EAAOsvE,GAAI,EAChBE,EAAKxvE,EAAOsvE,GAAI,EACtBlmC,EAAOD,GAAoB99C,EAAG+oB,EAAG21B,EAAIC,EAAIulC,EAAIC,EAAIpmC,CAAI,EACrD,KACF,CACA,IAAK,GACHn4C,EAAO,MAAM,8CAA8C,EAC3D,MACF,IAAK,GAAG,CACN,MAAMqnB,EAAKtY,EAAOsvE,GAAI,EAChB/2D,EAAKvY,EAAOsvE,GAAI,EAChBjqE,EAAIrF,EAAOsvE,GAAI,EACflrD,EAAapkB,EAAOsvE,GAAI,EACxBjrD,EAAWrkB,EAAOsvE,GAAI,EACtB7lC,EAASnxB,EAAK,KAAK,IAAI8L,CAAU,EAAI/e,EACrCqkC,EAASnxB,EAAK,KAAK,IAAI6L,CAAU,EAAI/e,EACrCmkC,EAAmB,EAAQxpC,EAAOsvE,GAAI,EAC5ClmC,EAAOD,GAAoB99C,EAAG+oB,EAAG21B,EAAIC,EAAIP,EAAQC,EAAQN,CAAI,EAC7DA,EAAOG,GAAmBl+C,EAAG+oB,EAAGkE,EAAIC,EAAIlT,EAAG+e,EAAYC,EAAUmlB,EAAkBJ,CAAI,EACvFW,EAAKzxB,EAAK,KAAK,IAAI+L,CAAQ,EAAIhf,EAC/B2kC,EAAKzxB,EAAK,KAAK,IAAI8L,CAAQ,EAAIhf,EAC/B,KACF,CACA,IAAK,GACH+jC,EAAOD,GAAoB99C,EAAG+oB,EAAG21B,EAAIC,EAAI5wB,EAAIC,EAAI+vB,CAAI,EACrD,KACJ,CAEF,OAAOA,CACT,CACA,WAAY,CACV,KAAM,CAAE,SAAA4lC,EAAU,OAAAhvE,CAAO,EAAI,KACvB6mD,EAAS,CAAC,EAChB,IAAIyoB,EAAK,EACT,QAASD,EAAK,EAAGA,EAAKL,EAAS,OAAQK,IACrC,OAAQL,EAASK,CAAE,EAAG,CACpB,IAAK,GACL,IAAK,GACHxoB,EAAO,KAAK,CAAE,EAAG7mD,EAAOsvE,GAAI,EAAG,EAAGtvE,EAAOsvE,GAAI,CAAE,CAAC,EAChD,MACF,IAAK,GACHA,GAAM,EACNzoB,EAAO,KAAK,CAAE,EAAG7mD,EAAOsvE,GAAI,EAAG,EAAGtvE,EAAOsvE,GAAI,CAAE,CAAC,EAChD,MACF,IAAK,GACHzoB,EAAO,KAAK,CAAE,EAAG7mD,EAAOsvE,GAAI,EAAG,EAAGtvE,EAAOsvE,GAAI,CAAE,CAAC,EAChDA,GAAM,EACN,MACF,IAAK,GACH,KACJ,CAEF,OAAOzoB,CACT,CACF,EACA,SAAS4oB,GAAyB9vE,EAAM,CACtC,KAAM,CAAE,OAAAmX,EAAS,EAAG,SAAAL,EAAU,UAAAC,CAAU,EAAI/W,GAAsB,CAAC,EACnE,OAAO6W,EAAqB,CAAE,OAAAM,EAAQ,KAAM,OAAQ,UAAAJ,EAAW,SAAAD,CAAS,CAAC,CAC3E,CACA,IAAIi5D,GAAO,cAAcx4C,EAAM,CAC7B,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,IAAIq3C,GAChB,KAAK,OAAS,IACd,KAAK,OAAS,IACd,KAAK,WAAa,EACpB,CACA,IAAI,MAAMtkF,EAAO,CACf,KAAK,OAASA,EACd,KAAK,UAAY,EACnB,CACA,IAAI,MAAMA,EAAO,CACf,KAAK,OAASA,EACd,KAAK,UAAY,EACnB,CACA,IAAI,UAAUA,EAAO,CACf,KAAK,aAAeA,IACtB,KAAK,WAAaA,EACdA,GACF,KAAK,UACH,KACA,CAEF,EAGN,CACA,IAAI,WAAY,CACd,OAAO,KAAK,UACd,CACA,gBAAiB,CACf,IAAI4H,EAAIiL,EAAIC,EAAIU,EACZ,KAAK,aAGT,KAAK,UAAY,KAAK,KAAK,QAAQ,KAAOX,GAAMjL,EAAK,KAAK,aAAe,KAAO,OAASA,EAAG,QAAQ,IAAM,KAAOiL,EAAK,OAAYW,GAAMV,EAAK,KAAK,YAAc,KAAO,OAASA,EAAG,QAAQ,IAAM,KAAOU,EAAK,IAC/M,CACA,cAAcpS,EAAG+oB,EAAG,CAClB,MAAM8kB,EAAQ,KAAK,eAAe7tC,EAAG+oB,CAAC,EACtC,OAAO,KAAK,KAAK,YAAc,KAAK,KAAK,cAAc8kB,EAAM,EAAGA,EAAM,CAAC,CACzE,CACA,gBAAgB7tC,EAAG+oB,EAAG,CACpB,MAAM8kB,EAAQ,KAAK,eAAe7tC,EAAG+oB,CAAC,EACtC,OAAO,KAAK,KAAK,gBAAgB8kB,EAAM,EAAGA,EAAM,CAAC,CACnD,CACA,aAAc,CACZ,MAAO,EACT,CACA,YAAa,CACb,CACA,OAAO5d,EAAW,CAChB,IAAIzpB,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,KAAM,CAAE,IAAA0J,EAAK,YAAAuc,EAAa,MAAA1Z,CAAM,EAAID,EACpC,GAAI,KAAK,QAAU,GAAK,CAAC2Z,EAAa,CAChC1Z,IACFA,EAAM,cAAgB,KAAK,UAAU,OACvC,MACF,CAOA,GANA,KAAK,uBAAuB,EAC5B,KAAK,OAAO,UAAU7C,CAAG,GACrB,KAAK,WAAa,KAAK,YAAY,KACrC,KAAK,WAAW,EAChB,KAAK,UAAY,IAEf,CAAC,MAAM,KAAK,MAAM,GAAK,CAAC,MAAM,KAAK,MAAM,GAAK,KAAK,UAAY,KAAM,CACvEA,EAAI,KAAK,EACT,MAAMi3D,EAAS,KAAK,YAAc,EAUlC,IATC99E,EAAK,KAAK,YAAc,OAAY,KAAK,UAAY,IAAI08E,IAC1D,KAAK,UAAU,MAAM,EACrB,KAAK,UAAU,KAAK,CAACoB,EAAQ,CAACA,EAAQ,KAAK,OAASA,EAAQ,KAAK,OAASA,EAASA,CAAM,EACrF,KAAK,WAAa,UACpBj3D,EAAI,MAAM5b,EAAK,KAAK,YAAc,KAAO,OAASA,EAAG,UAAU,CAAC,EAE9D,KAAK,OAAS,GAAK,KAAK,OAAS,GACnC,KAAK,SAAS4b,CAAG,EAEf,KAAK,WAAa,YAAa,CACjCA,EAAI,MAAM3b,EAAK,KAAK,YAAc,KAAO,OAASA,EAAG,UAAU,CAAC,EAChE,KAAM,CAAE,EAAA1R,EAAI,KAAM,EAAA+oB,EAAI,KAAM,MAAAa,EAAQ,IAAK,OAAAC,EAAS,GAAI,GAAKzX,EAAK,KAAK,YAAY,IAAM,KAAOA,EAAK,CAAC,EACpGib,EAAI,UAAUrtB,EAAG+oB,EAAGa,EAAOC,CAAM,CACnC,CACAwD,EAAI,QAAQ,CACd,MACE,KAAK,SAASA,CAAG,GAElB1J,EAAK,KAAK,aAAe,MAAgBA,EAAG,UAAU,EACvD,MAAM,OAAOsM,CAAS,CACxB,CACA,SAAS5C,EAAK,CACZ,KAAK,WAAWA,EAAK,KAAK,KAAK,UAAU,CAAC,CAC5C,CACF,EACAg3D,GAAK,UAAY,OACjB1iF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGC,GAAK,UAAW,WAAY,CAAC,EAChC1iF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGC,GAAK,UAAW,QAAS,CAAC,EAC7B1iF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGC,GAAK,UAAW,QAAS,CAAC,EAC7B,IAAIE,GAAkB,KAAM,CAC1B,YAAYC,EAAUC,EAAUC,EAAU,CACxC,KAAK,KAAO,IAAIC,GAAoBH,EAAUC,EAAUC,CAAQ,CAClE,CACA,MAAMA,EAAU,CACd,KAAK,KAAK,MAAMA,CAAQ,CAC1B,CACA,SAASE,EAAWhmF,EAAO,CACzB,MAAMimF,EAAO,CACX,UAAAD,EACA,MAAAhmF,EACA,gBAAiB,CAACoB,EAAG+oB,IACZ67D,EAAU,gBAAgB5kF,EAAG+oB,CAAC,CAEzC,EACA,KAAK,KAAK,QAAQ87D,CAAI,CACxB,CACA,KAAK7kF,EAAG+oB,EAAG,CACT,MAAM+7D,EAAM,CAAE,KAAM,CAAE,QAAS,OAAQ,gBAAiB,GAAS,CAAE,EACnE,YAAK,KAAK,KAAK9kF,EAAG+oB,EAAG+7D,CAAG,EACjBA,EAAI,IACb,CACF,EACIC,GAAuB,KAAM,CAC/B,YAAYC,EAAIC,EAAIC,EAAIC,EAAI,CAC1B,KAAK,GAAKH,EACV,KAAK,GAAKC,EACV,KAAK,GAAKC,EACV,KAAK,GAAKC,CACZ,CACA,QAAQN,EAAM,CACZ,KAAK,GAAG,QAAQA,CAAI,EACpB,KAAK,GAAG,QAAQA,CAAI,EACpB,KAAK,GAAG,QAAQA,CAAI,EACpB,KAAK,GAAG,QAAQA,CAAI,CACtB,CACA,KAAK7kF,EAAG+oB,EAAG+7D,EAAK,CACd,KAAK,GAAG,KAAK9kF,EAAG+oB,EAAG+7D,CAAG,EACtB,KAAK,GAAG,KAAK9kF,EAAG+oB,EAAG+7D,CAAG,EACtB,KAAK,GAAG,KAAK9kF,EAAG+oB,EAAG+7D,CAAG,EACtB,KAAK,GAAG,KAAK9kF,EAAG+oB,EAAG+7D,CAAG,CACxB,CACF,EACIM,GAAe,KAAM,CACvB,YAAYZ,EAAUC,EAAUC,EAAU,CACxC,KAAK,SAAWF,EAChB,KAAK,SAAWC,EAChB,KAAK,SAAWC,GAA8B55D,EAAK,IACnD,KAAK,MAAQ,CAAC,EACd,KAAK,aAAe,MACtB,CACA,MAAM45D,EAAU,CACd,KAAK,MAAM,OAAS,EACpB,KAAK,SAAWA,EAChB,KAAK,aAAe,MACtB,CACA,QAAQ,EAAG,CACL,KAAK,aAAa,CAAC,IACjB,KAAK,eAAiB,OACpB,KAAK,WAAa,GAAK,KAAK,MAAM,OAAS,KAAK,SAClD,KAAK,MAAM,KAAK,CAAC,EAEjB,KAAK,UAAU,CAAC,EAGlB,KAAK,aAAa,QAAQ,CAAC,EAGjC,CACA,KAAK1kF,EAAG+oB,EAAG+7D,EAAK,CACV,KAAK,cAAc9kF,EAAG+oB,EAAG+7D,CAAG,IAC1B,KAAK,eAAiB,OACxB,KAAK,WAAW9kF,EAAG+oB,EAAG+7D,CAAG,EAEzB,KAAK,aAAa,KAAK9kF,EAAG+oB,EAAG+7D,CAAG,EAGtC,CACA,UAAUO,EAAS,CACjB,KAAK,aAAe,KAAK,iBAAiB,EAC1C,UAAWhjF,KAAK,KAAK,MACnB,KAAK,aAAa,QAAQA,CAAC,EAE7B,KAAK,aAAa,QAAQgjF,CAAO,EACjC,KAAK,MAAM,OAAS,CACtB,CACA,kBAAmB,CACjB,KAAM,CAAE,EAAArlF,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,CAAO,EAAI,KAAK,SAC/B,CAAE,SAAA26D,CAAS,EAAI,KACfx2B,EAAQ,KAAK,SAAW,EACxBs3B,EAAY17D,EAAQ,EACpB27D,EAAa17D,EAAS,EACtB27D,EAAa,IAAI16D,EAAK9qB,EAAG+oB,EAAGu8D,EAAWC,CAAU,EACjDE,EAAa,IAAI36D,EAAK9qB,EAAIslF,EAAWv8D,EAAGu8D,EAAWC,CAAU,EAC7DG,EAAa,IAAI56D,EAAK9qB,EAAG+oB,EAAIw8D,EAAYD,EAAWC,CAAU,EAC9DI,EAAa,IAAI76D,EAAK9qB,EAAIslF,EAAWv8D,EAAIw8D,EAAYD,EAAWC,CAAU,EAChF,OAAO,IAAIR,GACT,KAAK,MAAMP,EAAUx2B,EAAOw3B,CAAU,EACtC,KAAK,MAAMhB,EAAUx2B,EAAOy3B,CAAU,EACtC,KAAK,MAAMjB,EAAUx2B,EAAO03B,CAAU,EACtC,KAAK,MAAMlB,EAAUx2B,EAAO23B,CAAU,CACxC,CACF,CACF,EACIhB,GAAsB,MAAMiB,WAA6BR,EAAa,CACxE,aAAa/iF,EAAG,CACd,KAAM,CAAE,EAAArC,EAAG,EAAA+oB,CAAE,EAAI1mB,EAAE,UAAU,SAC7B,OAAO,KAAK,SAAS,cAAcrC,EAAG+oB,CAAC,CACzC,CACA,cAAc/oB,EAAG+oB,EAAG+7D,EAAK,CACvB,KAAM,CAAE,KAAA/mC,CAAK,EAAI+mC,EACjB,OAAO/mC,EAAK,kBAAoB,GAAK,KAAK,SAAS,gBAAgB/9C,EAAG+oB,CAAC,EAAIg1B,EAAK,eAClF,CACA,WAAW/9C,EAAG+oB,EAAG+7D,EAAK,CACpB,MAAMh6E,EAAQge,GAAe9oB,EAAG+oB,EAAG,KAAK,MAAO+7D,EAAI,KAAK,eAAe,EACnEh6E,EAAM,UAAY,QAAUA,EAAM,gBAAkBg6E,EAAI,KAAK,kBAC/DA,EAAI,KAAOh6E,EAEf,CACA,MAAM05E,EAAUx2B,EAAO02B,EAAU,CAC/B,OAAO,IAAIkB,GAAqBpB,EAAUx2B,EAAO02B,CAAQ,CAC3D,CACF,EACImB,GAAS,cAAcxB,EAAK,CAC9B,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,KAAO,EACd,CACA,aAAc,CACZ,KAAM,CAAE,EAAArkF,EAAG,EAAA+oB,EAAG,KAAA7I,CAAK,EAAI,KACjB,CAAE,OAAA4lE,CAAO,EAAI,KAAK,YACxB,OAAO,IAAIh7D,EAAK9qB,EAAIkgB,EAAO4lE,EAAO,EAAG/8D,EAAI7I,EAAO4lE,EAAO,EAAG5lE,EAAMA,CAAI,CACtE,CACA,UAAUnZ,EAAGg/E,EAAO,CAClB,KAAM,CAAE,KAAAv2E,CAAK,EAAI,KACjB,GAAI,CAAE,EAAAxP,EAAG,EAAA+oB,CAAE,EAAI,KACX,KAAK,QAAU,OACjB/oB,EAAI,EACJ+oB,EAAI,GAENvZ,EAAK,MAAM,EACX,SAAW,CAAE,EAAGw2E,EAAI,EAAGC,EAAI,EAAA91E,CAAE,IAAK41E,EAChC/lF,GAAKgmF,EAAKj/E,EACVgiB,GAAKk9D,EAAKl/E,EACNoJ,IAAM,OACRX,EAAK,OAAOxP,EAAG+oB,CAAC,EAEhBvZ,EAAK,OAAOxP,EAAG+oB,CAAC,EAGpBvZ,EAAK,UAAU,CACjB,CACA,YAAY6d,EAAK7d,EAAM,CACrB,GAAI,CAACA,EACH,OACF,GAAI,KAAK,QAAU,KACjB,OAAO,MAAM,YAAY6d,EAAK7d,CAAI,EAEpC6d,EAAI,KAAK,EACT,IAAIrtB,EAAI,KAAK,aACT+oB,EAAI,KAAK,aACb,UAAW0iC,KAAe,KAAK,OAC7Bp+B,EAAI,UAAUo+B,EAAY,EAAIzrD,EAAGyrD,EAAY,EAAI1iC,CAAC,EAClDsE,EAAI,KAAK7d,CAAI,EACbxP,EAAIyrD,EAAY,EAChB1iC,EAAI0iC,EAAY,EAElBp+B,EAAI,QAAQ,CACd,CACA,cAAcA,EAAK7d,EAAM,CACvB,GAAI,CAACA,EACH,OACF,GAAI,KAAK,QAAU,KACjB,OAAO,MAAM,cAAc6d,EAAK7d,CAAI,EAEtC6d,EAAI,KAAK,EACT,IAAIrtB,EAAI,KAAK,aACT+oB,EAAI,KAAK,aACb,UAAW0iC,KAAe,KAAK,OAC7Bp+B,EAAI,UAAUo+B,EAAY,EAAIzrD,EAAGyrD,EAAY,EAAI1iC,CAAC,EAClDsE,EAAI,OAAO7d,CAAI,EACfxP,EAAIyrD,EAAY,EAChB1iC,EAAI0iC,EAAY,EAElBp+B,EAAI,QAAQ,CACd,CACF,EACAw4D,GAAO,OAAS,CAAE,EAAG,GAAK,EAAG,EAAI,EACjClkF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGyB,GAAO,UAAW,IAAK,CAAC,EAC3BlkF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGyB,GAAO,UAAW,IAAK,CAAC,EAC3BlkF,EAAiB,CACfyiF,GAAyB,CAAE,UAAW,KAAK,GAAI,CAAC,CAClD,EAAGyB,GAAO,UAAW,OAAQ,CAAC,EAC9BlkF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGyB,GAAO,UAAW,SAAU,CAAC,EAChC,IAAIK,GAAS,cAAcL,EAAO,CAChC,YAAa,CACX,KAAM,CAAE,EAAA7lF,EAAG,EAAA+oB,EAAG,KAAAvZ,EAAM,KAAA0Q,CAAK,EAAI,KACvBlG,EAAIkG,EAAO,EACjB1Q,EAAK,MAAM,EACXA,EAAK,IAAIxP,EAAG+oB,EAAG/O,EAAG,EAAG,KAAK,GAAK,CAAC,EAChCxK,EAAK,UAAU,CACjB,CACF,EACA02E,GAAO,UAAY,SACnB,IAAIC,GAAS,MAAMC,WAAgBP,EAAO,CACxC,YAAa,CACX,MAAM9+E,EAAI,KAAK,KAAO,IACtB,MAAM,UAAUA,EAAGq/E,GAAQ,KAAK,CAClC,CACF,EACAD,GAAO,UAAY,QACnBA,GAAO,MAAQ,CACb,CAAE,EAAG,GAAI,EAAG,EAAG,EAAG,MAAO,EACzB,CAAE,EAAG,GAAI,EAAG,EAAG,EACf,CAAE,EAAG,EAAG,EAAG,EAAG,EACd,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,EAAG,EAAG,EAAG,EACd,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,GAAI,EAAG,CAAE,EACd,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,GAAI,EAAG,CAAE,EACd,CAAE,EAAG,GAAI,EAAG,EAAG,EACf,CAAE,EAAG,GAAI,EAAG,CAAE,EACd,CAAE,EAAG,GAAI,EAAG,EAAG,CACjB,EACA,IAAIE,GAAQF,GACRG,GAAW,MAAMC,WAAkBV,EAAO,CAC5C,YAAa,CACX,MAAM9+E,EAAI,KAAK,KAAO,EACtB,MAAM,UAAUA,EAAGw/E,GAAU,KAAK,CACpC,CACF,EACAD,GAAS,UAAY,UACrBA,GAAS,MAAQ,CACf,CAAE,EAAG,EAAG,EAAG,GAAI,EAAG,MAAO,EACzB,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,GAAI,EAAG,CAAE,EACd,CAAE,EAAG,GAAI,EAAG,EAAG,EACf,CAAE,EAAG,EAAG,EAAG,EAAG,CAChB,EACA,IAAIE,GAAUF,GACVG,GAAQ,cAAcZ,EAAO,CAC/B,IAAIa,EAAQ,CACV,OAAOA,EAAS,IAAM,KAAK,EAC7B,CACA,YAAa,CACX,KAAM,CAAE,EAAA1mF,EAAG,KAAAwP,EAAM,KAAA0Q,EAAM,IAAAymE,CAAI,EAAI,KACzB3sE,EAAIkG,EAAO,EACX6I,EAAI,KAAK,EAAI/O,EAAI,EACvBxK,EAAK,MAAM,EACXA,EAAK,IAAIxP,EAAIga,EAAG+O,EAAI/O,EAAGA,EAAG2sE,EAAI,GAAG,EAAGA,EAAI,GAAG,CAAC,EAC5Cn3E,EAAK,IAAIxP,EAAIga,EAAG+O,EAAI/O,EAAGA,EAAG2sE,EAAI,GAAG,EAAGA,EAAI,EAAE,CAAC,EAC3Cn3E,EAAK,OAAOxP,EAAG+oB,EAAI/O,CAAC,EACpBxK,EAAK,UAAU,CACjB,CACF,EACAi3E,GAAM,UAAY,QAClB,IAAIG,GAAM,cAAcf,EAAO,CAC7B,YAAa,CACX,KAAM,CAAE,KAAAr2E,EAAM,EAAAxP,EAAG,EAAA+oB,CAAE,EAAI,KACjB,EAAI,KAAK,KACTkE,EAAK,GACLC,EAAK,EACX1d,EAAK,MAAM,EACXA,EAAK,OAAOxP,GAAK,OAAUitB,GAAM,EAAGlE,GAAK,OAAUmE,GAAM,CAAC,EAC1D1d,EAAK,aACHxP,GAAK,OAAUitB,GAAM,EACrBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,EAAImE,GAAM,EACfltB,GAAK,GAAMitB,GAAM,EACjBlE,GAAK,EAAImE,GAAM,CACjB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,EAAImE,GAAM,EACfltB,GAAK,OAAUitB,GAAM,EACrBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,OAAUitB,GAAM,EACrBlE,GAAK,OAAUmE,GAAM,CACvB,EACA1d,EAAK,aACHxP,GAAK,OAAUitB,GAAM,EACrBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,CACxB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,CACxB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,CACxB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,EAAImE,GAAM,EACfltB,GAAK,GAAMitB,GAAM,EACjBlE,GAAK,EAAImE,GAAM,CACjB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,EAAImE,GAAM,EACfltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,CACxB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,EAAImE,GAAM,EACfltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,CACxB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,CACxB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,CACxB,EACA1d,EAAK,aACHxP,GAAK,QAAWitB,GAAM,EACtBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,OAAUitB,GAAM,EACrBlE,GAAK,QAAWmE,GAAM,EACtBltB,GAAK,OAAUitB,GAAM,EACrBlE,GAAK,OAAUmE,GAAM,CACvB,EACA1d,EAAK,UAAU,CACjB,CACF,EACAo3E,GAAI,UAAY,SAChBA,GAAI,OAAS,CAAE,EAAG,GAAK,EAAG,CAAE,EAC5B,IAAIC,GAAQ,MAAMC,WAAejB,EAAO,CACtC,YAAa,CACX,MAAM9+E,EAAI,KAAK,KAAO,EACtB,MAAM,UAAUA,EAAG+/E,GAAO,KAAK,CACjC,CACF,EACAD,GAAM,UAAY,OAClBA,GAAM,MAAQ,CACZ,CAAE,EAAG,IAAM,EAAG,IAAM,EAAG,MAAO,EAC9B,CAAE,EAAG,EAAG,EAAG,EAAG,EACd,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,GAAI,EAAG,CAAE,EACd,CAAE,EAAG,EAAG,EAAG,CAAE,EACb,CAAE,EAAG,GAAI,EAAG,CAAE,EACd,CAAE,EAAG,EAAG,EAAG,EAAG,EACd,CAAE,EAAG,GAAI,EAAG,CAAE,EACd,CAAE,EAAG,EAAG,EAAG,EAAG,CAChB,EACA,IAAIE,GAAOF,GACPG,GAAS,cAAcnB,EAAO,CAChC,YAAa,CACX,KAAM,CAAE,KAAAr2E,EAAM,EAAAxP,EAAG,EAAA+oB,CAAE,EAAI,KACjBk+D,EAAK,KAAK,KAAO,EACvBz3E,EAAK,MAAM,EACXA,EAAK,OAAO,KAAK,MAAMxP,EAAIinF,CAAE,EAAG,KAAK,MAAMl+D,EAAIk+D,CAAE,CAAC,EAClDz3E,EAAK,OAAO,KAAK,MAAMxP,EAAIinF,CAAE,EAAG,KAAK,MAAMl+D,EAAIk+D,CAAE,CAAC,EAClDz3E,EAAK,OAAO,KAAK,MAAMxP,EAAIinF,CAAE,EAAG,KAAK,MAAMl+D,EAAIk+D,CAAE,CAAC,EAClDz3E,EAAK,OAAO,KAAK,MAAMxP,EAAIinF,CAAE,EAAG,KAAK,MAAMl+D,EAAIk+D,CAAE,CAAC,EAClDz3E,EAAK,UAAU,CACjB,CACF,EACAw3E,GAAO,UAAY,SACnB,IAAIE,GAAO,cAAcrB,EAAO,CAC9B,YAAa,CACX,KAAM,CAAE,EAAA7lF,EAAG,EAAA+oB,EAAG,KAAAvZ,EAAM,KAAA0Q,CAAK,EAAI,KACvBinE,EAAS,EACTC,EAAclnE,EAAO,EACrBwN,EAAW,KAAK,GAAK,EAC3Ble,EAAK,MAAM,EACX,QAASlQ,EAAI,EAAGA,EAAI6nF,EAAS,EAAG7nF,IAAK,CACnC,MAAMs6B,EAASt6B,EAAI,IAAM,EAAI4gB,EAAOknE,EAC9BvtD,EAAQv6B,EAAI,KAAK,GAAK6nF,EAASz5D,EAC/B25D,EAAcrnF,EAAI,KAAK,IAAI65B,CAAK,EAAID,EACpC0tD,EAAcv+D,EAAI,KAAK,IAAI8Q,CAAK,EAAID,EAC1CpqB,EAAK,OAAO63E,EAAaC,CAAW,CACtC,CACA93E,EAAK,UAAU,CACjB,CACF,EACA03E,GAAK,UAAY,OACjB,IAAIK,GAAY,MAAMC,WAAmB3B,EAAO,CAC9C,YAAa,CACX,MAAM9+E,EAAI,KAAK,KAAO,IACtB,MAAM,UAAUA,EAAGygF,GAAW,KAAK,CACrC,CACF,EACAD,GAAU,UAAY,WACtBA,GAAU,MAAQ,CAChB,CAAE,EAAG,EAAG,EAAG,KAAO,EAAG,MAAO,EAC5B,CAAE,EAAG,GAAK,EAAG,GAAK,EAClB,CAAE,EAAG,GAAI,EAAG,CAAE,CAChB,EACA,IAAIE,GAAWF,GACXG,GAAgB,CAClB,OAAQxB,GACR,MAAOG,GACP,QAASG,GACT,MAAOC,GACP,IAAKG,GACL,KAAMG,GACN,OAAQC,GACR,KAAME,GACN,SAAUO,EACZ,EACIE,GAA0B,OAAO,KAAKD,EAAa,EACvD,SAASE,GAAcC,EAAO,CAC5B,OAAO,OAAOA,GAAU,UAAYF,GAAwB,SAASE,CAAK,CAC5E,CACA,SAASC,GAAUD,EAAQb,GAAQ,CACjC,OAAIY,GAAcC,CAAK,EACdH,GAAcG,CAAK,EAExB,OAAOA,GAAU,WACZA,EAEFb,EACT,CACA,IAAIe,GAAkB,cAAc9U,EAAO,CACzC,oBAAoB,CAClB,OAAA+U,EACA,OAAAC,CACF,EAAG,CACD,MAAMC,EAAgB9mD,GAAgB,GAAG4mD,CAAM,EACzCG,EAAgB/mD,GAAgB,GAAG6mD,CAAM,EAC/C,MAAO,CAAE,cAAAC,EAAe,cAAAC,EAAe,WAAsCH,GAAO,KAAM,WAAsCC,GAAO,IAAK,CAC9I,CACA,8BAA+B,CAC7B,IAAIzhF,EAAIiL,EACR,MAAMu2E,GAAUxhF,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnByhF,GAAUx2E,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACzB,OAAO,KAAK,UAAU,WAAY22E,GAASA,EAAK,uBAAuB,KAAK,oBAAoB,CAAE,OAAAJ,EAAQ,OAAAC,CAAO,CAAC,CAAC,CAAC,EAAE,KAAK,CAC7H,CAEA,iBAAiBxN,EAAgB9kE,EAAMrB,EAAM,CAC3C,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtCwS,EAAK,MAAM,KAAK,GAAG,KAAK,6BAA6B,CAAC,EACtD,KAAM,CAAE,UAAAo1D,EAAW,cAAA9E,CAAc,EAAI,MAAM6V,EAAe,QAAQ,KAAK,GAAI9kE,GAAsB,CAAC,EAAGrB,CAAI,EACzG,YAAK,UAAYo1D,EACjB,KAAK,cAAgB9E,EACrB,KAAK,SAAS,iBAAkB,CAAE,UAAA8E,EAAW,cAAA9E,CAAc,CAAC,EACrD,CAAE,UAAA8E,EAAW,cAAA9E,CAAc,CACpC,CAAC,CACH,CACA,2BAA4B,CAC1B,IAAIp+D,EAAIiL,EACR,MAAM42E,GAAqB52E,GAAMjL,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,oBAC/G,GAAI,CAAC42E,EACH,MAAO,GAET,KAAM,CAAE,YAAA7X,EAAa,WAAAD,CAAW,EAAI8X,EACpC,OAAO7X,GAAeD,CACxB,CACA,8BAA+B,CACxB,KAAK,0BAA0B,GAClC,KAAK,IAAI,iBAAiB,iBAAiB,CAE/C,CACA,UAAUj8D,EAAM,CACd,OAAO,KAAK,YAAYA,EAAM,IAAI,CACpC,CAGA,YAAYA,EAAMg0E,EAAe,CAC/B,MAAMC,EAAW,KAAK,YAAY,EAClC,GAAIA,IAAa,QAAUA,EAAS,SAAW,EAC7C,OAEF,KAAM,CAAE,gBAAA9M,EAAiB,WAAAzD,CAAW,EAAI1jE,EAClCunE,EAAa,KAAK,uBAAuBvnE,EAAMi0E,EAAUD,EAAc,iBAAiB,EACxFp5D,EAAQq5D,EAAS1M,CAAU,EAC3BnvD,EAAO,KAAK,mBAAmB,CAAE,WAAAmvD,EAAY,gBAAAJ,EAAiB,WAAAzD,CAAW,CAAC,EAChF,GAAItrD,IAAS,OACX,MAAO,CAAE,KAAAA,EAAM,MAAAwC,EAAO,WAAA2sD,CAAW,CAErC,CACA,uBAAuBvnE,EAAMi0E,EAAUC,EAAmB,CACpDA,GAAqBD,EAAS,SAAWC,EAAkB,QAC7D5iF,EAAO,MACL,mCAAmC2iF,EAAS,MAAM,kCAAuEC,GAAkB,MAAM,GACnJ,EAEF,MAAMC,EAAkBC,GAAgB,CACtC,MAAMC,EAAYJ,EAASG,CAAW,EACtC,OAAQC,EAAU,UAAY,QAAUA,EAAU,UAAY,MAAWH,IAAsB,QAAUA,EAAkBE,CAAW,EACxI,EACA,IAAI7M,EAAaj0D,GAAM,EAAGtT,EAAK,WAAYi0E,EAAS,OAAS,CAAC,EAC9D,GAAIj0E,EAAK,iBAAmB,EAC1B,KAAOunE,GAAc,GAAK,CAAC4M,EAAe5M,CAAU,GAClDA,QAGF,MAAOA,EAAa0M,EAAS,QAAU,CAACE,EAAe5M,CAAU,GAC/DA,IAGJ,OAAIA,GAAc,GAAKA,EAAa0M,EAAS,OACpC1M,EAEAvnE,EAAK,WAAaA,EAAK,eAElC,CACF,EACIs0E,GAA2B,cAAc51E,EAAe,CAC1D,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,0BACZ,KAAK,OAAS,qBACd,KAAK,YAAc,CACrB,CACF,EACArR,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAG6qD,GAAyB,UAAW,OAAQ,CAAC,EAChDjnF,EAAiB,CACf25B,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAG2rD,GAAyB,UAAW,cAAe,CAAC,EACvDjnF,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAG6qD,GAAyB,UAAW,SAAU,CAAC,EAClDjnF,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAG4rD,GAAyB,UAAW,cAAe,CAAC,EACvDjnF,EAAiB,CACf25B,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAG2rD,GAAyB,UAAW,gBAAiB,CAAC,EACzDjnF,EAAiB,CACf25B,EAASmD,GAAW,CAAE,SAAU,EAAK,CAAC,CACxC,EAAGmqD,GAAyB,UAAW,WAAY,CAAC,EACpDjnF,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAG4rD,GAAyB,UAAW,iBAAkB,CAAC,EAC1D,IAAIC,GAAuB,cAAc71E,EAAe,CACxD,EACArR,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAG6rD,GAAqB,UAAW,cAAe,CAAC,EACnDlnF,EAAiB,CACf25B,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAG4rD,GAAqB,UAAW,aAAc,CAAC,EAClDlnF,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAGmsD,GAAqB,UAAW,UAAW,CAAC,EAC/C,IAAIC,GAAqB,cAAc91E,EAAe,CACpD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,OACf,CACF,EACArR,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAG+qD,GAAmB,UAAW,QAAS,CAAC,EAC3C,IAAIC,GAAiB,cAAc/1E,EAAe,CAChD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,IAAI41E,GAChB,KAAK,OAAS,IAAIC,GAClB,KAAK,KAAO,IAAIC,EAClB,CACF,EACAnnF,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGwsD,GAAe,UAAW,OAAQ,CAAC,EACtCpnF,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGwsD,GAAe,UAAW,SAAU,CAAC,EACxCpnF,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGwsD,GAAe,UAAW,OAAQ,CAAC,EACtC,IAAIC,GAAmB,cAAch2E,EAAe,CAClD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,GACf,KAAK,aAAe,GACpB,KAAK,OAAS,UACd,KAAK,eAAiB,QACtB,KAAK,eAAiB,IAAI+1E,EAC5B,CACF,EACApnF,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGosD,GAAiB,UAAW,KAAM,CAAC,EACtCrnF,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGssD,GAAiB,UAAW,UAAW,CAAC,EAC3CrnF,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGssD,GAAiB,UAAW,eAAgB,CAAC,EAChDrnF,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGosD,GAAiB,UAAW,SAAU,CAAC,EAC1CrnF,EAAiB,CACf25B,EAAS6D,EAAiB,CAC5B,EAAG6pD,GAAiB,UAAW,iBAAkB,CAAC,EAClDrnF,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGysD,GAAiB,UAAW,iBAAkB,CAAC,EAClD,IAAIC,GAAmC,CAEnC,EAEC,CAAC,MAAM,EAER,EAEC,CAAC,MAAM,CACZ,EACIC,GAAoC,CAEpC,EAEC,CAAC,OAAO,EAET,EAEC,CAAC,OAAO,CACb,EACIC,GAA2B,cAAcrW,EAAgB,CAC3D,YAAYliE,EAAMw4E,EAAal6D,EAAOrc,EAAQ,CAC5C,MAAMjC,EAAMw4E,EAAal6D,EAAOrc,CAAM,EACtC,KAAK,KAAOA,EAAO,WAAW,KAC9B,KAAK,KAAOA,EAAO,WAAW,IAChC,CACF,EACIw2E,GAA4B,cAAcL,EAAiB,CAC/D,EACArnF,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGysD,GAA0B,UAAW,iBAAkB,CAAC,EAC3D,IAAIC,GAAkB,cAAcvB,EAAgB,CAClD,YAAYvhF,EAAI,CACd,IAAIiL,EAAKjL,EAAI,CACX,eAAA+iF,EAAiB,EACjB,WAAAC,EAAa,GACb,qBAAAC,EAAuB,GACvB,0BAAAC,EAA4B,CAAC,EAC7B,gCAAAC,EAAkC,GAClC,iCAAAC,EAAmC,GACnC,gCAAAC,EAAkC,GAClC,kBAAAC,EACA,cAAA1W,EACA,eAAAC,CACF,EAAI5hE,EAAIs4E,EAAYzoF,GAAUmQ,EAAI,CAChC,iBACA,aACA,uBACA,4BACA,kCACA,mCACA,kCACA,oBACA,gBACA,gBACF,CAAC,EAuCD,GAtCA,MAAMrQ,EAAgB,CACpB,cAAAgyE,EACA,eAAAC,EACA,YAAa,EACf,EAAG0W,CAAS,CAAC,EACb,KAAK,UAAYZ,GACjB,KAAK,cAAgB,KAAK,aAAa,YACrC,IAAI3+C,EAAM,CACR,KAAM,GAAG,KAAK,EAAE,oBAChB,OAAQ,EACR,eAAgB,KAAK,uBAAuB,MAAM,CACpD,CAAC,CACH,EACA,KAAK,YAAc,KAAK,aAAa,YACnC,IAAIA,EAAM,CACR,KAAM,GAAG,KAAK,EAAE,kBAChB,OAAQ,EACR,eAAgB,KAAK,uBAAuB,QAAQ,CACtD,CAAC,CACH,EACA,KAAK,WAAa,KAAK,aAAa,YAClC,IAAIA,EAAM,CACR,KAAM,GAAG,KAAK,EAAE,iBAChB,OAAQ,EACR,eAAgB,KAAK,uBAAuB,QAAQ,CACtD,CAAC,CACH,EACA,KAAK,eAAiBqS,GAAU,OAAO,KAAK,WAAYjL,EAAI,EAC5D,KAAK,mBAAqBiL,GAAU,OAClC,KAAK,cACL,IAAM,KAAK,KAAK,WAAa,KAAK,cAAc,EAAI,KAAK,YAAY,CACvE,EACA,KAAK,wBAA0BA,GAAU,OAAO,KAAK,eAAgBjL,EAAI,EACzE,KAAK,qBAAuC,IAAI,IAChD,KAAK,cAAgB,CACnB,cAAe,EACjB,EACA,KAAK,MAAQpvB,GAAM,OAAO,EACtB,CAAC4wD,GAAiB,CAACC,EACrB,MAAM,IAAI,MAAM,oCAAoC,KAAK,IAAI,EAAE,EACjE,KAAK,KAAO,CACV,eAAAkW,EACA,WAAAC,EACA,qBAAAC,EACA,0BAAAC,EACA,cAAAtW,EACA,eAAAC,EACA,kBAAAyW,EACA,gCAAAD,EACA,gCAAAF,EACA,iCAAAC,CACF,EACA,KAAK,MAAQ,CAAC,EACd,QAAS7+E,EAAQ,EAAGA,EAAQw+E,EAAgBx+E,IAC1C,KAAK,MAAMA,CAAK,EAAI,IAAIs5E,GACxB,KAAK,MAAMt5E,CAAK,EAAE,OAAS,EAC3B,KAAK,MAAMA,CAAK,EAAE,eAAiB,KAAK,uBAAuB,QAASA,CAAK,EAC7E,KAAK,aAAa,YAAY,KAAK,MAAMA,CAAK,CAAC,EAEjD,KAAK,eAAiB8xC,GAAU,OAC9B,KAAK,cACL,IAAM,KAAK,YAAY,EACvB8sC,CACF,EACA,KAAK,gBAAkB9sC,GAAU,OAC/B,KAAK,YACL,IAAM,KAAK,cAAc,EACzB+sC,CACF,EACA,KAAK,eAAiB,IAAIxxC,GACxB,QACA,CACE,MAAO,CACL,OAAQ,CACN,OAAQ,QACR,OAASziC,GAAS,KAAK,wBAAwBA,CAAI,CACrD,EACA,MAAO,QACP,KAAM,QACN,QAAS,UACX,EACA,MAAO,CACL,WAAY,UACZ,MAAO,WACP,UAAYA,GAAS,KAAK,sBAAsBA,CAAI,EACpD,iBAAmBA,GAAS,KAAK,6BAA6BA,CAAI,EAClE,OAASA,GAAS,KAAK,mBAAmBA,CAAI,EAC9C,MAAO,QACP,KAAM,QACN,QAAS,UACX,EACA,QAAS,CACP,OAAQ,CACN,OAAQ,QACR,OAASA,GAAS,KAAK,0BAA0BA,CAAI,CACvD,EACA,MAAO,QACP,KAAM,QACN,QAAS,UACX,EACA,SAAU,CACR,OAASA,GAAS,KAAK,kBAAkBA,CAAI,EAC7C,MAAO,OACT,EACA,SAAU,CACR,OAAQ,CACN,OAAQ,QACR,OAASA,GAAS,KAAK,2BAA2BA,CAAI,CACxD,EACA,MAAO,QACP,KAAM,OACR,CACF,EACA,IAAM,KAAK,6BAA6B,CAC1C,CACF,CACA,IAAI,iBAAkB,CACpB,OAAO,KAAK,gBACd,CACA,aAAc,CACZ,IAAInP,EACJ,OAAQA,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,QAC3D,CACA,eAAegxB,EAAO,CAChBA,IAAU,UACZ,KAAK,eAAe,WAAW,OAAO,EAC7BA,IAAU,QACnB,KAAK,eAAe,WAAW,MAAM,EAC5BA,IAAU,YACnB,KAAK,eAAe,WAAW,SAAS,CAE5C,CACA,wBAAyB,CACvB,KAAK,WAAW,KACd,KAAK,IAAI,kBAAkB,YAAY,oBAAsBghB,GAAU,KAAK,kBAAkBA,CAAK,CAAC,EACpG,KAAK,IAAI,kBAAkB,YACzB,2BACCA,GAAU,KAAK,wBAAwBA,CAAK,CAC/C,CACF,CACF,CACA,SAAU,CACR,MAAM,QAAQ,EACd,KAAK,iBAAmB,MAC1B,CACA,OAAO8/B,EAAI,CACT,OAAOx2E,EAAQ,KAAM,UAAW,UAAW,CAAE,WAAAk2E,CAAW,EAAG,CACzD,IAAIxxE,EAAIiL,EACR,KAAM,CAAE,QAAAmlC,EAAS,iBAAkBozC,CAAoB,EAAI,KAErDC,IADUx4E,GAAMjL,EAAK,KAAK,IAAI,mBAAqB,KAAO,OAASA,EAAG,mBAAmB,IAAM,KAAO,OAASiL,EAAG,UACnF,KAC/B4jE,EAAS,KAAK,YAAY2C,CAAU,EACpCkS,EAAiB,MAAM,KAAK,yBAAyBD,CAAiB,EAC5E,MAAM,KAAK,iBAAiBrzC,CAAO,EACnC,MAAM,KAAK,YAAYszC,EAAgBD,EAAmBrzC,CAAO,EACjE,MAAMuzC,EAAgB,KAAK,iBAAiBnS,EAAYgS,CAAmB,EACtEG,IAED9U,GACF,KAAK,eAAe,WAAW,SAAU8U,CAAa,EAExD,KAAK,eAAe,WAAW,SAAUA,CAAa,EACxD,CAAC,CACH,CACA,iBAAiBC,EAAsB,CACrC,OAAOtoF,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,MAAM44E,EAAsB,CAAC,KAAK,KAAK,iCAAmC,KAAK,IAAI,iBAAiB,UAAU,EAC9G,GAAI,GAACD,GAAwBC,IAGzB,GAAC,KAAK,iBAAmB,CAAC,KAAK,uBAAuB,GAG1D,IAAI,KAAK,gBAAiB,CACxB,KAAK,gBAAkB,GACvB,KAAK,MAAM,oEAAqE,KAAK,EAAE,EACvF,KAAK,kBAAkB,EACvB,KAAK,iBAAmB,MAAM,KAAK,eAAe,EAClD,MAAMC,EAAiB,KAAK,0BAA0B,EAClD,KAAK,oBACN74E,GAAMjL,EAAK,KAAK,kBAAkB,iBAAmB,OAAYA,EAAG,eAAiB8jF,IAExF,KAAK,cAAc,cAAgB,GACnC,KAAM,CAAE,UAAA5gB,EAAW,cAAA9E,CAAc,EAAI,KACjC8E,IAAc,QAAU9E,IAAkB,QAC5C,KAAK,SAAS,cAAe,CAAE,UAAA8E,EAAW,cAAA9E,CAAc,CAAC,CAE7D,CACA,MAAM,KAAK,uBAAuB,EACpC,CAAC,CACH,CACA,uBAAuBqlB,EAAmB,CACxC,OAAOnoF,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,eAAAyoF,EAAgB,eAAAC,EAAgB,gBAAAC,EAAiB,MAAAh1B,CAAM,EAAI,KAC7Di1B,EAAc,KAAK,iBACzB,GAAI,CAACA,EACH,OACF,KAAM,CAAE,SAAAnC,EAAU,UAAAp+B,EAAW,OAAAuT,CAAO,EAAIgtB,EACxC,MAAM,KAAK,YAAY,CAAE,kBAAAT,EAAmB,OAAAvsB,EAAQ,YAAAgtB,EAAa,MAAAj1B,CAAM,CAAC,EACxE,KAAK,eAAiB,MAAM,KAAK,qBAAqB,CAAE,SAAA8yB,EAAU,eAAAgC,CAAe,CAAC,EAClF,KAAK,eAAiB,MAAM,KAAK,qBAAqB,CAAE,UAAApgC,EAAW,eAAAqgC,CAAe,CAAC,EAC/E,KAAK,KAAK,aACZ,KAAK,gBAAkB,MAAM,KAAK,sBAAsB,CAAE,SAAAjC,EAAU,gBAAAkC,CAAgB,CAAC,EAEzF,CAAC,CACH,CACA,eAAgB,CACd,MAAME,EAAc7C,GAAU,EAC9B,OAAO,IAAI6C,CACb,CACA,uBAAuB/5E,EAAM6iE,EAAW,EAAG,CACzC,IAAIjtE,EACJ,MAAMnH,EAAS,MAAM,uBAAuBuR,EAAM6iE,CAAQ,EAC1D,GAAI7iE,IAAS,QAAS,CACpB,KAAM,CAACg6E,CAAO,EAAIvrF,EACZwrF,GAAcrkF,EAAK,KAAK,KAAK,0BAA0BitE,CAAQ,IAAM,KAAOjtE,EAAK,EACvFnH,EAAO,CAAC,EAAIuO,GAAWg9E,CAAO,EAAI,IAAM,OAAOA,EAAQ,CAAC,EAAIC,EAAa,OAAOD,CAAO,EAAIC,CAC7F,CACA,OAAOxrF,CACT,CACA,YAAYyrF,EAAkBb,EAAmBG,EAAsB,CACrE,OAAOtoF,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EACJ,KAAM,CACJ,mBAAAukF,EACA,wBAAAC,EACA,KAAM,CAAE,WAAAxB,EAAY,qBAAAC,CAAqB,CAC3C,EAAI,KACEwB,EAAmB,CAAC,KAAK,IAAI,iBAAiB,UAAU,EACxDr0C,EAAU,KAAK,SAAW,KAAK,kBAAoB,MAAQwzC,EACjE,KAAK,UAAU,QAAUa,GAAoBr0C,EAC7C,KAAK,aAAa,QAAUq0C,GAAoBr0C,EAChD,KAAK,eAAe,SAAWq0C,GAAoBr0C,IAAYqzC,EAC/D,MAAM7gD,EAAU,KAAK,WAAW,EAC5BogD,GACF,MAAM,KAAK,kBAAkB,CAC3B,gBAAiBuB,EACjB,YAAa,EACf,CAAC,EACD,KAAK,eAAe,WAAW,mBAAoBA,CAAkB,IAErE,MAAM,KAAK,iBAAiB,CAC1B,eAAgBA,EAChB,YAAa,EACf,CAAC,EACD,KAAK,eAAe,WAAW,YAAaA,CAAkB,GAE5DtB,IACF,MAAM,KAAK,iBAAiB,CAAE,eAAgBuB,CAAwB,CAAC,GAEzE,KAAM,CAAE,cAAAE,EAAe,YAAAC,EAAa,eAAAZ,EAAgB,eAAAC,EAAgB,gBAAAC,EAAiB,MAAAh1B,EAAO,WAAAhf,CAAW,EAAI,KACrG,CAAE,OAAAinB,CAAO,GAAKl3D,EAAK,KAAK,kBAAoB,KAAOA,EAAK,CAAC,EAC/D0kF,EAAc,QAAU9hD,EACxB8hD,EAAc,QAAUD,GAAoBr0C,EAC5CH,EAAW,QAAUG,EACjB4yC,IACF2B,EAAY,QAAU/hD,EACtB+hD,EAAY,OAASD,EAAc,QAAU,EAAIA,EAAc,OAASA,EAAc,OAAS,EAC/FC,EAAY,QAAUv0C,GAEpBH,IACFA,EAAW,QAAUrN,GAEvB,MAAM,KAAK,gBAAgB,CACzB,kBAAA6gD,EACA,OAAAvsB,EACA,MAAAjI,EACA,QAAArsB,EACA,QAAAwN,EACA,iBAAAq0C,CACF,CAAC,EACIC,EAAc,UAGnB,MAAM,KAAK,iBAAiB,CAAE,eAAAX,EAAgB,iBAAAO,EAAkB,YAAa,EAAM,CAAC,EACpF,MAAM,KAAK,iBAAiB,CAAE,eAAAN,CAAe,CAAC,EAC1ChB,IACF,MAAM,KAAK,kBAAkB,CAAE,gBAAAiB,EAAiB,YAAa,EAAM,CAAC,GAExE,CAAC,CACH,CACA,sBAAsBtgC,EAAWihC,EAAiB,CAChD,MAAMC,EAAalhC,EAAU,OAC1BmhC,GAAOA,EAAG,QAAUF,EAAgB,OAASE,EAAG,SAAWF,EAAgB,MAC9E,EACA,OAAOC,EAAW,SAAW,EAAI,OAASA,CAC5C,CACA,iBAAiBE,EAAWH,EAAiB,CAC3C,OAAOA,EAAkB,CAACA,CAAe,EAAI,MAC/C,CACA,yBAAyBnB,EAAmB,CAC1C,OAAOnoF,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EACJ,KAAM,CAAE,mBAAAukF,EAAoB,wBAAAC,EAAyB,iBAAkBQ,CAAgB,EAAI,KAC3F,GAAI,CAACA,EACH,OACF,MAAMlsB,GAAoB94D,EAAK,KAAK,IAAI,mBAAqB,KAAO,OAASA,EAAG,mBAAmB,EAC7FyI,EAAOg7E,GAA0D3qB,GAAiB,MAASA,EAAmB,OACpH,IAAI+rB,EACAnB,EACJ,GAAIj7E,GAAQ,KAAM,CAChB,MAAMw8E,EAAgB,KAAK,eAAe,EACpC,CAAE,UAAAthC,EAAW,SAAAo+B,CAAS,EAAIiD,EAChCtB,EAAiB,KAAK,iBAAiB3B,EAAUt5E,CAAI,EACrDo8E,EAAaI,EAAgB,KAAK,sBAAsBthC,EAAWl7C,CAAI,EAAI,MAC7E,CACA,YAAK,mBAAqB,MAAM,KAAK,6BAA6B,CAChE,MAAOi7E,EACP,mBAAAa,CACF,CAAC,EACD,KAAK,wBAA0B,MAAM,KAAK,8BAA8B,CACtE,MAAOM,EACP,wBAAAL,CACF,CAAC,EACMd,CACT,CAAC,CACH,CACA,mBAAoB,CAClB,KAAK,SAAW,MAClB,CACA,CAAC,gBAAiB,CAChB,SAAW,CAAE,KAAA11E,CAAK,IAAK,KAAK,eACtBA,EAAK,MAAM,UAAY,KAE3B,MAAMA,EAEV,CACA,aAAc,CACZ,GAAI,KAAK,WAAa,OAAQ,CAC5B,KAAM,CAAE,MAAAoV,EAAO,OAAAC,CAAO,EAAI,KAAK,IAAI,MAAM,OACnCg5B,EAAa,IAAI/3B,EAAK,EAAG,EAAGlB,EAAOC,CAAM,EAC/C,KAAK,SAAW,IAAI06D,GAAgB,IAAK,GAAI1hC,CAAU,EACvD,KAAK,aAAa,KAAK,QAAQ,CACjC,CACA,OAAO,KAAK,QACd,CACA,aAAa6oC,EAAW,CACxB,CACA,mBAAmB79C,EAAO,CACxB,IAAIrnC,EACJ,MAAMnH,EAAS,MAAM,mBAAmBwuC,CAAK,EAC7C,GAAIxuC,EACF,OAAOA,EAET,KAAM,CAAE,EAAAW,EAAG,EAAA+oB,CAAE,EAAI8kB,EACX,CACJ,KAAM,CAAE,WAAA27C,CAAW,CACrB,EAAI,KACJ,IAAI7vC,EACJ,KAAM,CAAE,cAAAuxC,EAAe,YAAAC,CAAY,EAAI,KAKvC,GAJAxxC,EAAQuxC,EAAc,SAASlrF,EAAG+oB,CAAC,EAC/B,CAAC4wB,GAAS6vC,IACZ7vC,EAAuCwxC,GAAY,SAASnrF,EAAG+oB,CAAC,GAE9D4wB,GAASA,EAAM,MAAM,UAAY,GACnC,MAAO,CAAE,MAAOA,EAAM,MAAO,SAAU,CAAE,EAE3C,UAAWyuC,KAAQ,KAAK,UAAU,QAAQ,EAAG,CAC3C,KAAM,CAAE,MAAAl5D,CAAM,GAAK1oB,EAAK4hF,EAAK,cAAcv6C,CAAK,IAAM,KAAOrnC,EAAK,CAAC,EACnE,GAAI0oB,GAAS,MAEiBA,GAAM,UAAa,GAEjD,MAAO,CAAE,MAAAA,EAAO,SAAU,CAAE,CAC9B,CACF,CACA,qBAAqB2e,EAAO,CAC1B,IAAIrnC,EAAIiL,EACR,KAAM,CAAE,EAAAzR,EAAG,EAAA+oB,CAAE,EAAI8kB,EACX,CAAE,KAAA/yB,EAAM,UAAAs5D,EAAW,iBAAkBoX,CAAgB,EAAI,KAC/D,GAAI,CAACA,EACH,OACF,MAAMG,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGI+wE,EAAWzX,EAAU,eAAep0E,EAAG+oB,CAAC,EAC9C,IAAIqR,EAAc,IACd0xD,EACJ,UAAW58D,KAASs8D,EAAgB,SAAU,CAC5C,KAAM,CAAE,MAAO,CAAE,EAAGO,EAAS,IAAK,EAAGC,EAAS,GAAI,EAAI,CAAC,CAAE,EAAI98D,EAK7D,GAJI,MAAM68D,CAAM,GAAK,MAAMC,CAAM,GAI7B,EADwCL,GAAM,QAAQI,CAAM,GAAgCH,GAAM,QAAQI,CAAM,GAElH,SAEF,MAAM3xD,EAAY,KAAK,IAAIn5B,EAAM2qF,EAAS,EAAIE,EAAQ,CAAC,EAAI7qF,EAAM2qF,EAAS,EAAIG,EAAQ,CAAC,EAAG,CAAC,EACvF3xD,EAAYD,IACdA,EAAcC,EACdyxD,EAAe58D,EAEnB,CACA,UAAWk5D,KAAQ,KAAK,UAAU,QAAQ,EAAG,CAC3C,MAAM6D,EAAU7D,EAAK,gBAAgBv6C,CAAK,EAC1C,GAAIo+C,IAAY,QAAUA,EAAQ,gBAAkB7xD,EAAa,CAC/DA,EAAc6xD,EAAQ,gBACtBH,EAAeG,EAAQ,MACvB,KACF,CACF,CACA,GAAIH,EAAc,CAChB,MAAMzxD,EAAY,KAAK,IAAI,KAAK,KAAKD,CAAW,IAAM3oB,GAAMjL,EAAKslF,EAAa,QAAU,KAAO,OAAStlF,EAAG,OAAS,KAAOiL,EAAK,GAAI,CAAC,EACrI,MAAO,CAAE,MAAOq6E,EAAc,SAAUzxD,CAAU,CACpD,CACF,CACA,sBAAsBwT,EAAOq+C,EAAqB,CAChD,IAAI1lF,EAAIiL,EAAIC,EAAIU,EAChB,KAAM,CAAE,EAAApS,EAAG,EAAA+oB,CAAE,EAAI8kB,EACX,CAAE,KAAA/yB,EAAM,UAAAs5D,EAAW,iBAAkBoX,CAAgB,EAAI,KAC/D,GAAI,CAACA,EACH,OACF,MAAMG,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGIqxE,EAAc,CAACR,EAAOC,CAAK,EAAE,OAAQ9sF,GAAMA,aAAa0uD,EAAY,EAAE,IAAK1uD,GAAMA,EAAE,SAAS,EAClG,GAAIotF,GAAuBC,EAAY,SAAW,EAChD,OAEF,KAAM,CACJC,EAAmB,GAErB,EAAID,EACEN,EAAWzX,EAAU,eAAep0E,EAAG+oB,CAAC,EACxCsjE,EAAiBD,IAAqB,IAAM,CAACP,EAAS,EAAGA,EAAS,CAAC,EAAI,CAACA,EAAS,EAAGA,EAAS,CAAC,EAC9FzxD,EAAc,CAAC,IAAU,GAAQ,EACvC,IAAI0xD,EACJ,UAAW58D,KAASs8D,EAAgB,SAAU,CAC5C,KAAM,CAAE,EAAGO,EAAS,IAAK,EAAGC,EAAS,GAAI,GAAKv6E,GAAMjL,EAAK0oB,EAAM,QAAU,KAAO1oB,EAAK0oB,EAAM,WAAa,KAAOzd,EAAK,CAAC,EAKrH,GAJI,MAAMs6E,CAAM,GAAK,MAAMC,CAAM,GAAK98D,EAAM,UAAY,IAIpD,EADwCy8D,GAAM,QAAQI,CAAM,GAAgCH,GAAM,QAAQI,CAAM,GAElH,SAEF,MAAMM,EAAaF,IAAqB,IAAM,CAACL,EAAQC,CAAM,EAAI,CAACA,EAAQD,CAAM,EAChF,IAAIQ,EAAiB,GACrB,QAASjtF,EAAI,EAAGA,EAAIgtF,EAAW,OAAQhtF,IAAK,CAC1C,MAAMktF,EAAO,KAAK,IAAIF,EAAWhtF,CAAC,EAAI+sF,EAAe/sF,CAAC,CAAC,EACvD,GAAIktF,EAAOpyD,EAAY96B,CAAC,EAAG,CACzBitF,EAAiB,GACjB,KACF,CACIC,EAAOpyD,EAAY96B,CAAC,IACtB86B,EAAY96B,CAAC,EAAIktF,EACjBpyD,EAAY,KAAK,IAAU96B,EAAI,EAAG86B,EAAY,MAAM,EAExD,CACImyD,IACFT,EAAe58D,EAEnB,CACA,GAAI48D,EAAc,CAChB,IAAIW,EAAyB,KAAK,IAChCvrF,EAAMk5B,EAAY,CAAC,EAAG,CAAC,EAAIl5B,EAAMk5B,EAAY,CAAC,EAAG,CAAC,IAAMhoB,GAAMV,EAAKo6E,EAAa,QAAU,KAAO,OAASp6E,EAAG,OAAS,KAAOU,EAAK,GAClI,CACF,EACA,UAAWg2E,KAAQ,KAAK,UAAU,QAAQ,EAAG,CAC3C,MAAM6D,EAAU7D,EAAK,sBAAsBv6C,CAAK,EAChD,GAAIo+C,IAAY,QAAUA,EAAQ,gBAAkBQ,EAAwB,CAC1EX,EAAeG,EAAQ,MACvBQ,EAAyBR,EAAQ,gBACjC,KACF,CACF,CACA,MAAO,CAAE,MAAOH,EAAc,SAAU,KAAK,KAAKW,CAAsB,CAAE,CAC5E,CACF,CACA,kBAAkBj0C,EAAO,CACvB,KAAM,CAAE,eAAAmlB,CAAe,EAAI,KAAK,WAC1B,CAAE,QAAA9mB,EAAS,OAAA6mB,EAAQ,OAAA7qD,CAAO,EAAI2lC,EAC9Bk0C,EAAwB/uB,GAAkB,MAAQA,IAAmBnlB,EAAM,gBAC7E3lC,EAAO,KAAO,KAAK,IAAM65E,IAC3B,KAAK,iBAAiBhvB,EAAQ7mB,CAAO,CAEzC,CACA,wBAAwB2B,EAAO,CAC7B,KAAM,CAAE,QAAA3B,EAAS,OAAA6mB,EAAQ,OAAA7qD,EAAQ,gBAAA+qD,CAAgB,EAAIplB,EAC/C,CAAE,eAAAmlB,CAAe,EAAI,KAAK,WAC1B+uB,EAAwB/uB,GAAkB,MAAQA,IAAmBnlB,EAAM,eAC7E3lC,EAAO,KAAO,KAAK,IAAM65E,EAC3B,KAAK,iBAAiBhvB,EAAQ,EAAI,EACzB7mB,GAAW+mB,IAAoB,EACxC,KAAK,iBAAiBF,EAAQ,EAAI,EAElC,KAAK,iBAAiBA,EAAQ,EAAK,CAEvC,CACA,wBAAyB,CACvB,MAAO,EACT,CACA,cAAe,CACb,MAAO,CAAC,CACV,CACA,cAAe,CACb,MAAO,EACT,CAMA,YAAY9zC,EAAOC,EAAQ,CACzB,KAAM,CAAE,cAAA8iE,EAAe,UAAAC,EAAW,QAAA9hC,EAAS,eAAA6yB,CAAe,EAAI,KAAK,cAC7DkP,EAAe,KAAK,UAAU,CAAE,MAAAjjE,EAAO,OAAAC,CAAO,CAAC,EAErD,GAAI,EADcgjE,IAAiBD,IACjB,CAACD,GAAiB7hC,GAAW6yB,EAC7C,MAAO,CAAE,QAAA7yB,EAAS,eAAA6yB,CAAe,EAEnC,MAAM/a,EAAQ,KAAK,gBAAgBh5C,EAAOC,CAAM,EAChD,YAAK,cAAgB,CACnB,cAAe,GACf,UAAWgjE,EACX,QAAkCjqB,GAAM,QACxC,eAAyCA,GAAM,cACjD,EACOA,CACT,CACA,gBAAgBh5C,EAAOC,EAAQ,CAC7B,IAAIrjB,EAAIiL,EACR,MAAM+pB,EAAU,KAAK,iBACrB,GAAI,CAA6BA,GAAQ,SAAS,OAChD,OAEF,KAAM,CAAE,SAAA+sD,CAAS,EAAI/sD,EACfsxD,EAAY,MAAMvE,EAAS,MAAM,EACjCwE,EAAY,MAAMxE,EAAS,MAAM,EACvC,SAAW,CAACjpF,EAAG,CAAE,SAAA0tF,CAAS,CAAC,IAAKzE,EAAS,QAAQ,EAC/CuE,EAAUxtF,CAAC,GAAKkH,EAAiCwmF,GAAS,IAAM,KAAOxmF,EAAK,EAC5EumF,EAAUztF,CAAC,GAAKmS,EAAiCu7E,GAAS,IAAM,KAAOv7E,EAAK,EAE9Eq7E,EAAU,KAAK,CAAChuF,EAAGC,IAAMD,EAAIC,CAAC,EAC9BguF,EAAU,KAAK,CAACjuF,EAAGC,IAAMD,EAAIC,CAAC,EAC9B,IAAIkuF,EAAOC,EAAQC,EAAOC,EACtBj/C,EAAW,EACXC,EAAY,EAChB,QAAS9uC,EAAI,EAAGA,EAAIipF,EAAS,OAAQjpF,IAC/BwtF,EAAUxtF,CAAC,GAAK,IAClB2tF,IAAwBA,EAAQ3tF,IAC9BwtF,EAAUxtF,CAAC,EAAIsqB,IACjBsjE,IAA0BA,EAAS5tF,IACjCytF,EAAUztF,CAAC,GAAK,IAClB6tF,IAAwBA,EAAQ7tF,IAC9BytF,EAAUztF,CAAC,EAAIuqB,IACjBujE,IAA4BA,EAAU9tF,IACxC6uC,EAAW,KAAK,IAAIA,EAAU2+C,EAAUxtF,CAAC,EAAIwtF,EAAUxtF,EAAI,CAAC,CAAC,EAC7D8uC,EAAY,KAAK,IAAIA,EAAW2+C,EAAUztF,CAAC,EAAIytF,EAAUztF,EAAI,CAAC,CAAC,EAEjE4tF,IAA0BA,EAAS3E,EAAS,QAC5C6E,IAA4BA,EAAU7E,EAAS,QAC/C,MAAM8E,EAAmBJ,GAAS,MAAQC,GAAU,KAAOJ,EAAU,MAAMG,EAAOC,CAAM,EAAI,CAAC,EACvFI,EAAmBH,GAAS,MAAQC,GAAW,KAAOL,EAAU,MAAMI,EAAOC,CAAO,EAAI,CAAC,EAC/F,IAAI7P,EAAkB,EAClBC,EAAmB,EACvB,QAASl+E,EAAI,EAAGA,EAAI,KAAK,IAAI+tF,EAAiB,OAAQC,EAAiB,MAAM,EAAGhuF,IAAK,CACnF,MAAM4qB,EAAKmjE,EAAiB/tF,CAAC,EACvB8qB,EAAKijE,EAAiB/tF,EAAI,CAAC,EAC3B6qB,EAAKmjE,EAAiBhuF,CAAC,EACvB+qB,EAAKijE,EAAiBhuF,EAAI,CAAC,EAC7B4qB,GAAM,MAAQE,GAAM,OACtBmzD,EAAkB,KAAK,IAAIA,EAAiBrzD,EAAKE,CAAE,GAEjDD,GAAM,MAAQE,GAAM,OACtBmzD,EAAmB,KAAK,IAAIA,EAAkBrzD,EAAKE,CAAE,EAEzD,CACA,MAAMygC,EAAU,IAAIhgC,EAAK,EAAG,EAAGqjB,EAAUC,CAAS,EAC5CuvC,EAAiB,IAAI7yD,EAAK,EAAG,EAAGyyD,EAAiBC,CAAgB,EACvE,MAAO,CAAE,QAAA1yB,EAAS,eAAA6yB,CAAe,CACnC,CACA,6BAA6BrpE,EAAM,CACjC,KAAM,CACJ,KAAM,CAAE,WAAAk1E,CAAW,CACrB,EAAI,KACE,CAAE,MAAA3V,EAAO,mBAAAkX,CAAmB,EAAIz2E,EAChCi0E,EAAW1U,GAAwB,CAAC,EAC1C,GAAI2V,EAAY,CACd,MAAMiB,EAAkBM,EACxB,OAAO,KAAK,sBAAsB,CAAE,SAAAxC,EAAU,gBAAAkC,CAAgB,CAAC,CACjE,KACE,QAAO,KAAK,qBAAqB,CAC/B,SAAAlC,EACA,eAAgBwC,CAClB,CAAC,CAEL,CACA,8BAA8Bz2E,EAAM,CAClC,IAAI9N,EACJ,OAAO,KAAK,qBAAqB,CAC/B,WAAYA,EAAK8N,EAAK,QAAU,KAAO9N,EAAK,CAAC,EAC7C,eAAgB8N,EAAK,uBACvB,CAAC,CACH,CACA,qBAAqBA,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,OAAOwS,EAAK,cACd,CAAC,CACH,CACA,iBAAiByX,EAAO,CACtB,OAAOjqB,EAAQ,KAAM,KAAM,WAAa,CACxC,CAAC,CACH,CACA,sBAAsBwS,EAAM,CAC1B,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,OAAOwS,EAAK,eACd,CAAC,CACH,CACA,kBAAkByX,EAAO,CACvB,OAAOjqB,EAAQ,KAAM,KAAM,WAAa,CACxC,CAAC,CACH,CACA,YAAYwS,EAAM,CAChB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtCwS,EAAK,MAAM,QAASid,GAAMA,EAAE,QAAU,EAAK,CAC7C,CAAC,CACH,CACA,gBAAgBjd,EAAM,CACpB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,MAAA2zD,EAAO,QAAArsB,EAAS,QAAAwN,CAAQ,EAAItiC,EACpC,UAAW9E,KAAQimD,EACjBjmD,EAAK,QAAU45B,EACf55B,EAAK,QAAUonC,CAEnB,CAAC,CACH,CACA,kBAAkBjhC,EAAM,CACtB,IAAInP,EAAIiL,EAAIC,EACZ,KAAM,CAAE,KAAAlC,EAAM,MAAA0f,EAAO,MAAAsoB,EAAO,OAAAwI,CAAO,GAAKvuC,GAAMjL,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,oBAAsB,KAAOiL,EAAK,CAAC,EACvH,KAAK,IAAI,iBAAiB,uBAAuB,KAAK,EAAE,EACpDjC,GACFmG,EAAK,MAAM,QAAS8/C,GAAU,CAC5Bvd,GAAY,CAACud,CAAK,EAAGjmD,CAAI,CAC3B,CAAC,EAEC0f,GACFgpB,GAAY,CAACviC,EAAK,cAAc,EAAGuZ,CAAK,EAEtCsoB,GACFU,GAAY,CAACviC,EAAK,cAAc,EAAG6hC,CAAK,EAEtCwI,GAAU,KAAK,KAAK,YACtB9H,GAAY,CAACviC,EAAK,eAAe,EAAGqqC,CAAM,IAEtCtuC,EAAKiE,EAAK,cAAgB,KAAO,OAASjE,EAAG,kBAAoB,IACrE,KAAK,IAAI,iBAAiB,iBAAiB,CAE/C,CACA,wBAAwBiE,EAAM,CAC5B,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkBA,CAAI,CAC7B,CACA,0BAA0BA,EAAM,CAC9B,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkBA,CAAI,CAC7B,CACA,sBAAsBA,EAAM,CAC1B,IAAInP,EAAIiL,EACR,KAAM,CAAE,MAAAyd,CAAM,GAAKzd,GAAMjL,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,oBAAsB,KAAOiL,EAAK,CAAC,EAC9Fyd,GACFgpB,GAAY,CAACviC,CAAI,EAAGuZ,CAAK,CAE7B,CACA,6BAA6BvZ,EAAM,CACjC,IAAInP,EAAIiL,EACR,KAAM,CAAE,OAAAuuC,CAAO,GAAKvuC,GAAMjL,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,oBAAsB,KAAOiL,EAAK,CAAC,EAC/FuuC,GACF9H,GAAY,CAACviC,CAAI,EAAGqqC,CAAM,CAE9B,CACA,mBAAmBrqC,EAAM,CACvB,KAAK,kBAAkBA,CAAI,CAC7B,CACA,2BAA2BA,EAAM,CAC/B,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkBA,CAAI,CAC7B,CACA,0BAA2B,CACzB,MAAMw0E,EAAgB,KAAK,iBAAiB,EACvCA,GAEL,KAAK,eAAe,WAAW,QAASA,CAAa,CACvD,CACA,iBAAiBnS,EAAYgS,EAAqB,CAChD,KAAM,CAAE,iBAAkBU,CAAY,EAAI,KAC1C,OAAKA,EAEiB,CACpB,eAAgB,KAAK,eACrB,gBAAiB,KAAK,gBACtB,eAAgB,KAAK,eACrB,qBAAsB,CAAC,GAAG,KAAK,oBAAoB,EACnD,YAAAA,EACA,oBAAAV,EACA,MAAO,KAAK,MACZ,WAAAhS,CACF,EAVE,MAYJ,CACA,kBAAmB,CACjB,MAAM34E,EAAS,CAAC,EAChB,UAAW63C,KAAa,OAAO,OAAOjX,EAAkB,EAAG,CACzD,MAAMrtB,EAAO,KAAK,KAAKskC,CAAS,EAChC,GAAKtkC,GAEL,GAAIA,EAAK,iBAAiBgqC,GAAU,CAClC,KAAM,CAAE,MAAOh2C,EAAQ,OAAAszB,CAAO,EAAItnB,EAAK,MACvCvT,EAAO63C,CAAS,EAAI,CAClB,KAAM,MACN,QAAU9wC,GAAMwM,EAAK,MAAM,QAAQxM,CAAC,EACpC,OAAQ,CAAC8zB,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,EAC7B,MAAO,CAACtzB,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,CAC9B,CACF,SAAWgM,EAAK,iBAAiBwuB,GAAiB,CAChD,KAAM,CAAE,MAAOx6B,CAAO,EAAIgM,EAAK,MACzBsnB,EAAStnB,EAAK,MAAM,UAAU,EACpCvT,EAAO63C,CAAS,EAAI,CAClB,KAAM,aACN,OAAQ,CAAChd,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,EAC7B,MAAO,CAACtzB,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,CAC9B,CACF,SAAWgM,EAAK,MAAO,CACrB,KAAM,CAAE,OAAAsnB,CAAO,EAAItnB,EAAK,MACxBvT,EAAO63C,CAAS,EAAI,CAClB,KAAM,WACN,OAAAhd,EACA,MAAOA,EAAO,IAAK9zB,GAAMwM,EAAK,MAAM,QAAQxM,CAAC,CAAC,CAChD,CACF,EACF,CACA,OAAO/G,CACT,CACF,EACIkuF,GAAa,CAAC,MAAO,QAAS,SAAU,MAAM,EAC9CC,GAAkB,MAAMC,WAAyB1N,EAAM,CACzD,YAAY/6E,EAASqzE,EAAW,CAC9B,MAAMrzE,EAASqzE,CAAS,EACxB,KAAK,OAAS,GACd,KAAK,uBAAyB,GAC9B,KAAK,kBAAoB,OACzB,KAAK,gBAAkB,CACrB,IAAK,EACL,OAAQ,EACR,KAAM,EACN,MAAO,CACT,EACA,KAAK,gBAAkB,GACvB,KAAK,gBAAkB,CACrB,WAAY,GACZ,OAAQ,EACV,CACF,CACA,aAAa1oE,EAAUrD,EAAU,CAC/B,MAAM,aAAaqD,EAAUrD,CAAQ,EACrC,KAAK,YAAY,WAAWqD,CAAQ,CACtC,CACA,cAAckD,EAAQ,CACpB,MAAM,cAAcA,CAAM,EAC1B,KAAK,uBAAyB,EAChC,CACA,eAAgB,CACd,OAAO/Q,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAM00E,EAAa,MAAM50E,GAAW6rF,GAAiB,UAAW,KAAM,eAAe,EAAE,KAAK,IAAI,EAC1F,CAAE,uBAAAC,EAAwB,WAAAhY,EAAY,eAAAnd,EAAgB,cAAAod,CAAc,EAAI,KACxE,CAAE,cAAAgY,EAAe,WAAA3V,EAAY,WAAA4V,EAAY,WAAAC,CAAW,EAAI,KAAK,WAAWrX,CAAU,EACxF,KAAK,WAAW,QAAUoX,EAAW,OACrC,KAAK,WAAa5V,EAClB,KAAK,cAAgB2V,EACrB,KAAM,CAAE,EAAA3tF,EAAG,EAAA+oB,CAAE,EAAIivD,EACjB,GAAI0V,EAAwB,CAC1B,UAAWl3C,IAAU,CAACk/B,EAAYnd,EAAgBod,CAAa,EAC7Dn/B,EAAO,aAAe,KAAK,MAAMx2C,CAAC,EAClCw2C,EAAO,aAAe,KAAK,MAAMztB,CAAC,EAEpC,KAAK,uBAAyB,EAChC,KAAO,CACL,KAAM,CAAE,aAAA4E,EAAc,aAAAC,CAAa,EAAI8nD,EACvCvuD,GACE,KAAK,GACL,aACA,KAAK,IAAI,iBACT,CAACuuD,EAAYC,EAAepd,CAAc,EAC1C,CAAE,aAAA5qC,EAAc,aAAAC,CAAa,EAC7B,CAAE,aAAc,KAAK,MAAM5tB,CAAC,EAAG,aAAc,KAAK,MAAM+oB,CAAC,CAAE,EAC3D,CAAE,MAAO,QAAS,CACpB,CACF,CACA,MAAM+kE,EAAmB9V,EAAW,MAAM,EAAE,KAAK,KAAK,WAAW,OAAO,EACxE,KAAK,UAAY8V,EACjB,MAAM7jE,EAAW,KAAK,WAAW,MAAQ4jE,EAAaC,EAAmB,OACzEpY,EAAW,kCAAkCzrD,CAAQ,EACrD0rD,EAAc,kCAAkC1rD,CAAQ,EACxDsuC,EAAe,kCAAkCtuC,CAAQ,EACzD,KAAK,IAAI,cAAc,uBAAuB,CAC5C,KAAM,kBACN,MAAO,CAAE,MAAO,KAAK,IAAI,MAAM,MAAO,OAAQ,KAAK,IAAI,MAAM,MAAO,EACpE,WAAA4jE,EACA,OAAQ,CACN,KAAM7V,EACN,WAAY8V,EACZ,QAASF,EAAW,OACpB,aAAc,KAAK,aAAa,CAClC,EACA,KAAM,KAAK,KAAK,IAAKh7E,GAASxR,EAAgB,CAAE,GAAIwR,EAAK,EAAG,EAAGA,EAAK,eAAe,CAAC,CAAC,CACvF,CAAC,EACD,MAAM2nE,EAAiB,KAAK,eAAe,WAAYvvE,GAAM,CAC3D,IAAIxE,EACJ,OAAQA,EAAKwE,EAAE,yBAA2B,KAAO,OAASxE,EAAG,KAAKwE,EAAG,CAAE,WAAAgtE,CAAW,CAAC,CACrF,CAAC,EACD,aAAM,QAAQ,IAAIuC,CAAc,EACzB/D,CACT,CAAC,CACH,CACA,WAAWuX,EAAiB,CAC1B,IAAIvnF,EACJ,MAAMwnF,EAAe,KAAK,KAAK,QAASp7E,GAAS,CAC/C,IAAI8R,EACJ,OAAQA,EAAM9R,EAAK,aAAe,KAAO8R,EAAM,CAAC,CAClD,CAAC,EAAE,IAAK8hC,GAAcA,EAAU,EAAE,EAC5BynC,EAAY,KAAK,mBAAqB,MAAQ,KAAK,kBAAkB,SAAWD,EAAa,QAAU,KAAK,kBAAkB,MAAM,CAACz1D,EAAIxtB,IAAUijF,EAAajjF,CAAK,IAAMwtB,CAAE,EACnL,IAAI21D,EACAL,EACAD,EACAK,GACFC,EAAa9sF,EAAgB,CAAC,EAAG,KAAK,eAAe,EACrDysF,EAAa,KAAK,gBAClBD,EAAaxsF,EAAgB,CAAC,EAAG,KAAK,eAAe,IAErD8sF,EAAa,CAAE,IAAK,EAAG,OAAQ,EAAG,KAAM,EAAG,MAAO,CAAE,EACpDL,EAAa,GACbD,EAAa,CAAE,WAAY,GAAM,OAAQ,EAAK,EAC9C,KAAK,kBAAoBI,GAE3B,MAAMG,EAAiB,IAAI,IAAI,KAAK,KAAK,IAAKrvF,GAAMA,EAAE,QAAQ,CAAC,EAC/D,UAAW8mB,KAAY,OAAO,KAAKsoE,CAAU,EACtCC,EAAe,IAAIvoE,CAAQ,GAC9B,OAAOsoE,EAAWtoE,CAAQ,EAG9B,MAAMwoE,EAAgB,CAACC,EAAiBC,EAAiBC,IACnD,OAAO,KAAKF,CAAe,EAAE,KAAMtuF,GAAMmuF,EAAWnuF,CAAC,GAAK,IAAI,EACzD,GAEF6tF,EAAW,aAAeW,EAAgB,YAAcX,EAAW,SAAWW,EAAgB,QACrG,OAAO,QAAQL,CAAU,EAAE,MAAM,CAAC,CAAC38D,EAAGpE,CAAC,IAAM,CAC3C,MAAMqhE,EAASH,EAAgB98D,CAAC,EAChC,OAAIpE,GAAK,MAAQqhE,GAAU,KAClBrhE,IAAMqhE,EAER,EACT,CAAC,GAAKX,IAAeS,EAEjBG,EAAcC,GAAYx/E,GAAUw/E,EAAU9vF,GAC9CA,GAAS,KAAK,IAAIA,CAAK,IAAM,IACxB,EAEFA,GAAS,KAAO,KAAK,KAAKA,CAAK,EAAIA,CAC3C,EACD,IAAI+vF,EAAqB,CAAC,EACtBC,EAAqB,CAAC,EACtBC,EAAqB,GACrB7W,GAAcxxE,EAAK,KAAK,aAAe,KAAO,OAASA,EAAG,MAAM,EAChEse,EAAQ,EACRgqE,EAAoB,CAAC,EACzB,EAAG,CACD,OAAO,OAAOZ,EAAYS,CAAkB,EAC5Cd,EAAagB,EACb,OAAO,OAAOjB,EAAYgB,CAAkB,EAC5C,MAAMvvF,EAAS,KAAK,eAAe6uF,EAAYH,EAAgB,MAAM,EAAG/V,CAAU,EAMlF,GALA2W,EAAqBF,EAAWpvF,EAAO,UAAU,EACjDuvF,EAAqBvvF,EAAO,WAC5BwvF,EAAqBxvF,EAAO,WAC5B24E,EAAa34E,EAAO,WACpByvF,EAAoBzvF,EAAO,kBACvBylB,IAAU,GAAI,CAChBlf,EAAO,KAAK,oCAAoC,EAChD,KACF,CACF,OAAS,CAACwoF,EAAcO,EAAoBE,EAAoBD,CAAkB,GAClF,KAAK,KAAK,QAASh8E,GAAS,CAC1BA,EAAK,OAAOk8E,EAAkBl8E,EAAK,SAAS,CAAC,CAC/C,CAAC,EACD,MAAMm8E,EAAkB,EACxB,YAAK,KAAK,QAASn8E,GAAS,CAE1B,GADAA,EAAK,qBAAqBg7E,EAAW,UAAU,EAC3C,EAAC5V,EASL,OANAplE,EAAK,SACHolE,EAAW,EACXA,EAAW,EACXA,EAAW,MAAQ+W,EACnB/W,EAAW,OAAS+W,CACtB,EACQn8E,EAAK,SAAU,CACrB,IAAK,OACL,IAAK,QACHA,EAAK,cACHm7E,EAAgB,EAChB/V,EAAW,EACX+V,EAAgB,MAAQgB,EACxB/W,EAAW,OAAS+W,CACtB,EACA,MACF,IAAK,MACL,IAAK,SACHn8E,EAAK,cACHolE,EAAW,EACX+V,EAAgB,EAChB/V,EAAW,MAAQ+W,EACnBhB,EAAgB,OAASgB,CAC3B,EACA,KACJ,CACF,CAAC,EACD,KAAK,gBAAkBb,EACvB,KAAK,gBAAkBN,EAChB,CAAE,WAAA5V,EAAY,cAAe+V,EAAiB,WAAAH,EAAY,WAAAC,CAAW,CAC9E,CACA,eAAeK,EAAYpuC,EAAQkvC,EAAoB,CACrD,MAAMC,EAAU,CAAC,EACXC,EAAgB,CAAC,EACjBtB,EAAa,CACjB,OAAQ,GACR,WAAY,EACd,EACA,IAAIC,EAAa,GACjB,MAAMiB,EAAoB,CAAC,EACrBK,EAAe,KAAK,mBAAmBrvC,CAAM,EAC7CsvC,EAAmBJ,EAAqB,KAAK,sBAAsBd,CAAU,EAAI,CAAC,EAClFmB,EAAY,KAAK,eAAeF,EAAcjB,EAAYkB,EAAkBxB,CAAU,EACtF5V,EAAa,KAAK,gBAAgBqX,EAAWnB,CAAU,EAC7D,YAAK,KAAK,QAASt7E,GAAS,CAC1B,IAAIpM,EAAIiL,EACR,KAAM,CAAE,SAAAmU,EAAW,MAAO,EAAIhT,EACxB,CACJ,WAAY08E,EACZ,cAAAC,EACA,WAAAC,CACF,EAAI,KAAK,wBAAwB,CAC/B,KAAA58E,EACA,WAAAolE,EACA,aAAAmX,EACA,WAAAjB,EACA,cAAAgB,EACA,kBAAAJ,EACA,WAAAjB,EACA,sBAAuBrnF,EAAKyoF,EAAQrpE,CAAQ,IAAM,KAAOpf,EAAK,GAAK,CACrE,CAAC,EACDyoF,EAAQrpE,CAAQ,IAAMnU,EAAKw9E,EAAQrpE,CAAQ,IAAM,KAAOnU,EAAK,GAAK,EAClEo8E,EAAaA,GAAcyB,EAC3B,KAAK,aAAa,CAChB,KAAA18E,EACA,UAAAy8E,EACA,WAAAG,EACA,cAAAD,EACA,WAAArB,EACA,kBAAAY,EACA,WAAA9W,CACF,CAAC,CACH,CAAC,EACM,CAAE,WAAA6V,EAAY,WAAA7V,EAAY,WAAYkX,EAAe,WAAAtB,EAAY,kBAAAkB,CAAkB,CAC5F,CACA,sBAAsBZ,EAAY,CAChC,IAAI1nF,EACJ,MAAM4oF,EAAmB,CAAC,EAC1B,KAAK,KAAK,QAASx8E,GAAS,CACtBA,EAAK,YACPA,EAAK,WAAW,QAAS4zC,GAAc,CACrC,IAAI9hC,GACHA,EAAM8hC,EAAU,mBAAqB,MAAgB9hC,EAAI,KAAK8hC,EAAW4oC,CAAgB,CAC5F,CAAC,CAEL,CAAC,EACD,SAAW,CAACK,EAAM36C,EAAU,CAAC,IAAK,OAAO,QAAQs6C,CAAgB,EAC/DA,EAAiBK,CAAI,EAAI,KAAK,IAAI36C,IAAYtuC,EAAK0nF,EAAWuB,CAAI,IAAM,KAAOjpF,EAAK,GAAI,CAAC,EAE3F,OAAO4oF,CACT,CACA,mBAAmBtvC,EAAQ,CACzB,MAAM4vC,EAAa5vC,EAAO,MAAM,EAC1B6vC,EAAe,KAAK,KAAK,MAAM,EAAE,QAAQ,EAC/C,OAAApC,GAAW,QAASqC,GAAQ,CAC1B,MAAM96C,EAAU,KAAK,WAAW,QAAQ86C,CAAG,EACrCh9E,EAAO+8E,EAAa,KAAM,GAAM,EAAE,WAAaC,CAAG,EACpDh9E,EACFA,EAAK,kBAAoBkiC,EAEzB46C,EAAW,OAAO56C,EAAS86C,CAAG,CAElC,CAAC,EACMF,CACT,CACA,eAAe5vC,EAAQouC,EAAYkB,EAAkBxB,EAAY,CAC/D,IAAIpnF,EAAIiL,EAAIC,EAAIU,EAChB,MAAM/S,EAASygD,EAAO,MAAM,EACtB,CAAE,IAAAn1B,EAAM,EAAG,MAAArK,EAAQ,EAAG,OAAAsK,EAAS,EAAG,KAAAvK,EAAO,CAAE,EAAI+uE,EAC/CS,EAAoBxvE,EAAOC,EAC3BwvE,EAAkBnlE,EAAMC,EACxBmlE,IAAevpF,EAAK0nF,EAAW,OAAS,KAAO1nF,EAAK,KAAOiL,EAAKy8E,EAAW,QAAU,KAAOz8E,EAAK,GAAKo+E,EACtG7hD,IAAgBt8B,EAAKw8E,EAAW,MAAQ,KAAOx8E,EAAK,KAAOU,EAAK87E,EAAW,SAAW,KAAO97E,EAAK,GAAK09E,EAC7G,OAAIzwF,EAAO,OAAS0wF,GAAc1wF,EAAO,QAAU2uC,GACjD4/C,EAAW,WAAa,GACxBA,EAAW,OAAS,GACbvuF,IAETA,EAAO,GAAKghB,EACZhhB,EAAO,GAAKsrB,EACZtrB,EAAO,OAASwwF,EAChBxwF,EAAO,QAAUywF,EACVzwF,EACT,CACA,gBAAgBgwF,EAAWnB,EAAY,CACrC,MAAM7uF,EAASgwF,EAAU,MAAM,EACzB,CAAE,IAAA1kE,EAAK,OAAAC,EAAQ,KAAAvK,EAAM,MAAAC,CAAM,EAAI4tE,EACrC,OAAA7uF,EAAO,GAAKghB,GAAsB,EAClChhB,EAAO,GAAKsrB,GAAoB,EAChCtrB,EAAO,QAAUghB,GAAsB,IAAMC,GAAwB,GACrEjhB,EAAO,SAAWsrB,GAAoB,IAAMC,GAA0B,GACtEvrB,EAAO,MAAQ,KAAK,IAAI,EAAGA,EAAO,KAAK,EACvCA,EAAO,OAAS,KAAK,IAAI,EAAGA,EAAO,MAAM,EAClCA,CACT,CACA,yBAAyB24E,EAAYp5E,EAAOoxF,EAAW94C,EAAW,CAChE,KAAM,CAAE,EAAAl3C,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,CAAO,EAAImuD,EAE1BiY,EADc,CAACjwF,EAAG+oB,EAAG/oB,EAAI4pB,EAAOb,EAAIc,CAAM,GACjBmmE,IAAc,IAAM,EAAI,IAAM94C,IAAc,EAAI,EAAI,EAAE,EAErF,OADgBA,IAAc,EAAI,KAAK,IAAM,KAAK,KACnCt4C,EAAOqxF,CAAS,CACjC,CACA,wBAAwB37E,EAAM,CAC5B,IAAI9N,EAAIiL,EAAIC,EAAIU,EAChB,KAAM,CAAE,KAAAQ,EAAM,WAAAolE,EAAY,aAAAmX,EAAc,WAAAjB,EAAY,cAAAgB,EAAe,kBAAAJ,EAAmB,oBAAAoB,CAAoB,EAAI57E,EAC9G,GAAI,CAAE,WAAAu5E,CAAW,EAAIv5E,EACrB,KAAM,CAAE,SAAAsR,EAAW,OAAQ,UAAAsxB,CAAU,EAAItkC,EACnCu9E,EAAav9E,aAAgB46C,IAAgB56C,aAAgBk+C,GAC7Ds/B,EAAcxqE,IAAa,QAAUA,IAAa,QAClD4pE,GAAchpF,EAAK0oF,EAActpE,CAAQ,IAAM,KAAOpf,EAAK,EAC3D,CAAE,IAAA8Y,EAAK,IAAAC,CAAI,EAAI,KAAK,IAAI,YAAY,YAAY3M,EAAK,EAAE,EACzDw9E,GACED,GACFv9E,EAAK,MAAQ,CAAC,EAAGolE,EAAW,MAAM,EAClCplE,EAAK,aAAe,CAAC,EAAI2M,EAAK,EAAID,CAAG,IAErC1M,EAAK,MAAQ,CAAColE,EAAW,OAAQ,CAAC,EAClCplE,EAAK,aAAe,CAAC0M,EAAKC,CAAG,GAE/B3M,EAAK,WAAaolE,EAAW,QAE7BplE,EAAK,MAAQ,CAAC,EAAGolE,EAAW,KAAK,EACjCplE,EAAK,aAAe,CAAC0M,EAAKC,CAAG,EAC7B3M,EAAK,WAAaolE,EAAW,QAE/B,IAAIvwB,EAAmB70C,EAAK,KAAOk8E,EAAkB53C,CAAS,EAAI,OAClE,MAAMm5C,EAAan5C,IAAc,IAC3Bo5C,EAA0B,GAC5B19E,EAAK,UACPA,EAAK,aAAeA,EAAK,UAEzBA,EAAK,cAAgBy9E,EAAalB,EAAa,MAAQA,EAAa,QAAUmB,EAEhF,MAAMvgC,EAASn9C,EAAK,gBAAgB60C,CAAgB,EACpDA,EAAmBsI,EAAO,kBACzBt+C,EAAKq9E,EAAkB53C,CAAS,IAAM,OAAY43C,EAAkB53C,CAAS,EAAIuQ,GAClFomC,IAAeA,EAAaj7E,EAAK,WAAW,SAAWA,EAAK,aAAa,CAAC,EAAI,GAAKA,EAAK,aAAa,CAAC,EAAI,GAC1G,IAAI28E,EACJ,GAAI38E,EAAK,WAAa,MAAQA,EAAK,UAAY,EAC7C28E,EAAgB38E,EAAK,cAChB,CACL,KAAM,CAAE,KAAA8Z,CAAK,EAAIqjC,EACjBw/B,EAAgBc,EAAa3jE,EAAK,MAAQA,EAAK,MACjD,CAEA,OAAIwjE,IACFX,GAFkB,IAIpBA,EAAgB,KAAK,KAAKA,CAAa,EACvCL,EAActpE,CAAQ,IAAMlU,EAAKw9E,EAActpE,CAAQ,IAAM,KAAOlU,EAAK,GAAK69E,EAC9E38E,EAAK,cAAgBR,EAAK87E,EAAWtoE,CAAQ,IAAM,KAAOxT,EAAK,GAAK88E,EAActpE,CAAQ,EACnF,CAAE,WAAAioE,EAAY,cAAA0B,EAAe,WAAAC,EAAY,iBAAA/nC,CAAiB,CACnE,CACA,aAAanzC,EAAM,CACjB,IAAI9N,EAAIiL,EAAIC,EAAIU,EAChB,KAAM,CAAE,KAAAQ,EAAM,UAAAy8E,EAAW,WAAAnB,EAAY,WAAAlW,EAAY,WAAAwX,EAAY,cAAAD,CAAc,EAAIj7E,EACzE,CAAE,SAAAsR,CAAS,EAAIhT,EACrB,OAAQgT,EAAU,CAChB,IAAK,MACHhT,EAAK,YAAY,EAAIy8E,EAAU,IAAM7oF,EAAK0nF,EAAW,OAAS,KAAO1nF,EAAK,GAC1EoM,EAAK,YAAY,EAAI,KAAK,yBACxBolE,EACAqX,EAAU,EAAI,EAAIG,EAAaD,EAC/B,IACA,CACF,EACA,MACF,IAAK,SACH38E,EAAK,YAAY,EAAIy8E,EAAU,IAAM59E,EAAKy8E,EAAW,OAAS,KAAOz8E,EAAK,GAC1EmB,EAAK,YAAY,EAAI,KAAK,yBACxBolE,EACAqX,EAAU,EAAIA,EAAU,OAAS,EAAIE,EAAgBC,EACrD,IACA,EACF,EACA,MACF,IAAK,OACH58E,EAAK,YAAY,EAAIy8E,EAAU,IAAM39E,EAAKw8E,EAAW,MAAQ,KAAOx8E,EAAK,GACzEkB,EAAK,YAAY,EAAI,KAAK,yBACxBolE,EACAqX,EAAU,EAAIG,EAAaD,EAC3B,IACA,CACF,EACA,MACF,IAAK,QACH38E,EAAK,YAAY,EAAIy8E,EAAU,IAAMj9E,EAAK87E,EAAW,MAAQ,KAAO97E,EAAK,GACzEQ,EAAK,YAAY,EAAI,KAAK,yBACxBolE,EACAqX,EAAU,EAAIA,EAAU,MAAQE,EAAgBC,EAChD,IACA,EACF,EACA,KACJ,CACA58E,EAAK,eAAe,CAAE,SAAUumB,GAAUvmB,EAAK,QAAQ,EAAG,SAAUA,EAAK,MAAM,YAAY,CAAE,CAAC,CAChG,CACA,cAAe,CACb,MAAO,CAAC,KAAK,OAAO,KAAMC,GAAW,EAAEA,aAAkBy2E,IAAmBz2E,EAAO,aAAa,EAAE,CACpG,CACF,EACA26E,GAAgB,UAAY,iBAC5BA,GAAgB,KAAO,YACvB,IAAI+C,GAAiB/C,GACjBgD,GAAwB,MAAMC,EAAuB,CACvD,OAAO,WAAWzwF,EAAG,CACnB,IAAIwG,EAIJ,OAHIxG,aAAaywF,MAGXjqF,EAAKxG,EAAE,cAAgB,KAAO,OAASwG,EAAG,QAAU,wBAA0BxG,EAAE,OAAS,KACtF,GAEFA,EAAE,OAAS,MAAQ,KAAK,uBAAuBA,CAAC,CACzD,CACA,OAAO,uBAAuBA,EAAG,CAC/B,IAAIwG,EACJ,MAAMkqF,EAAa,CAAC,aAAc,SAAS,EACrCC,EAAiB,OAAO,MAAMnqF,EAAK,OAAO,eAAexG,CAAC,IAAM,KAAOwG,EAAK,CAAC,CAAC,EACpF,OAAOkqF,EAAW,MAAO1xF,GAAS2xF,EAAe,SAAS3xF,CAAI,CAAC,CACjE,CACA,YAAY8jE,EAAO,CACjB,KAAK,MAAQA,CACf,CACA,YAAa,CACX,OAAO7uD,GAAU,KAAK,MAAM,WAAW,CAAC,CAC1C,CACA,iBAAkB,CAChB,KAAK,MAAM,gBAAgB,CAC7B,CACA,gBAAiB,CACf,KAAK,MAAM,eAAe,CAC5B,CACA,SAAU,CACR,KAAK,MAAM,QAAQ,CACrB,CACF,EACAu8E,GAAsB,eAAiC,IAAI,QAC3D7uF,EAAiB,CACfu/C,GAAY,CACV,SAAS4hB,EAAO,CACd0tB,GAAsB,eAAe,OAAO1tB,CAAK,CACnD,EACA,SAASA,EAAO,CACd0tB,GAAsB,eAAe,IAAI1tB,EAAO,IAAI,CACtD,CACF,CAAC,CACH,EAAG0tB,GAAsB,UAAW,QAAS,CAAC,EAC9C,IAAII,GAAuBJ,GACvBK,GAAc,cAAczvD,EAAgB,CAC9C,aAAc,CACZ,MAAM,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,EACpB,KAAK,KAAO,QACd,CACA,SAASh7B,EAAG,CACV,OAAOA,CACT,CACA,OAAQ,CACN,IAAII,EACJ,MAAMse,GAASte,EAAK,KAAK,YAAc,KAAOA,EAAK46B,GAAgB,iBACnE,GAAI,CAAC,KAAK,QAAU,KAAK,OAAO,OAAS,GAAKtc,EAAQ,GAAK,KAAK,OAAO,KAAM1e,GAAM,CAAC,SAASA,CAAC,CAAC,EAC7F,MAAO,CAAC,EAEV,KAAK,QAAQ,EACb,KAAM,CAAC06B,EAAIC,CAAE,EAAI,KAAK,UAAU,EAC1B,CAAE,SAAA5G,CAAS,EAAI,KACrB,GAAIA,EAAU,CACZ,MAAM/3B,EAAO,KAAK,IAAI+3B,CAAQ,EACxB8L,EAAiB,KAAK,cAAc,EAC1C,GAAI,CAACD,GAAgB,CAAE,MAAOlF,EAAI,KAAMC,EAAI,SAAU3+B,EAAM,eAAA6jC,CAAe,CAAC,EAC1E,OAAOd,GAAMrE,EAAIC,EAAI3+B,CAAI,CAE7B,CACA,OAAO4iC,GAAclE,EAAIC,EAAIjc,EAAO,KAAK,aAAc,KAAK,YAAY,CAC1E,CACA,QAAS,CACH,CAAC,KAAK,QAAU,KAAK,OAAO,OAAS,GAGrC,KAAK,MACP,KAAK,iBAAiB,CAE1B,CACA,YAAYze,EAAOC,EAAM,CACvB,IAAIE,EAAIiL,EACR,MAAMqT,GAASte,EAAK,KAAK,YAAc,KAAOA,EAAK46B,GAAgB,iBACnE,OAAQ3vB,EAAK,KAAK,WAAa,KAAOA,EAAK2zB,GAAS/+B,EAAOC,EAAMwe,EAAO,KAAK,aAAc,KAAK,YAAY,CAC9G,CAIA,kBAAmB,CACjB,IAAIte,EACJ,MAAMse,GAASte,EAAK,KAAK,YAAc,KAAOA,EAAK46B,GAAgB,iBACnE,GAAItc,EAAQ,EAAG,CACb,KAAK,WAAa,CAAC,GAAG,KAAK,MAAM,EACjC,MACF,CACA,GAAI,CAACze,EAAOC,CAAI,EAAI,KAAK,OACzB,GAAIwe,IAAU,EACZ,CAACze,EAAOC,CAAI,EAAIq/B,GAAiBt/B,EAAOC,CAAI,MACvC,CACL,MAAMs/B,EAAav/B,EAAQC,EAAO,KAAK,KAAO,KAAK,MAC7Cu/B,EAAYv/B,EAAOD,EAAQ,KAAK,MAAQ,KAAK,KAC7CyqF,EAAc,EACpB,QAASxxF,EAAI,EAAGA,EAAIwxF,EAAaxxF,IAAK,CACpC,MAAMyxF,EAAQ1qF,EACR2qF,EAAQ1qF,EACRlE,EAAO,KAAK,YAAYiE,EAAOC,CAAI,EACnC,CAACw6B,EAAIC,CAAE,EAAI,KAAK,OACtB,GAAI3+B,GAAQ,EACViE,EAAQu/B,EAAW9E,EAAK1+B,CAAI,EAAIA,EAChCkE,EAAOu/B,EAAU9E,EAAK3+B,CAAI,EAAIA,MACzB,CACL,MAAM2E,EAAI,EAAI3E,EACdiE,EAAQu/B,EAAW9E,EAAK/5B,CAAC,EAAIA,EAC7BT,EAAOu/B,EAAU9E,EAAKh6B,CAAC,EAAIA,CAC7B,CACA,GAAIV,IAAU0qF,GAASzqF,IAAS0qF,EAC9B,KAEJ,CACF,CACA,KAAK,WAAa,CAAC3qF,EAAOC,CAAI,CAChC,CACA,WAAW,CAAE,MAAO2qF,EAAgB,UAAA5pD,CAAU,EAAG,CAC/C,OAAOoU,GAAWw1C,GAA0C,KAAK,MAAM,EAAG5pD,CAAS,CACrF,CACF,EACA,SAAS6pD,GAA2Bh3D,EAAQutB,EAAkB0pC,EAAS,CACrE,GAAI,CAAC9qF,EAAOC,CAAI,EAAIwhB,GAAWoS,CAAM,EACrC7zB,EAAQ+qF,GAAmB,KAAK,MAAM/qF,CAAK,EAAGC,EAAMmhD,CAAgB,EACpE,MAAMrlD,EAAOivF,GAAYhrF,EAAOC,EAAMmhD,CAAgB,EAChD6pC,EAAW7pC,EAAmB,EACpCnhD,EAAOD,EAAQirF,EAAWlvF,EAC1B,MAAMgE,EAAI+qF,EAAU,CAAC7qF,EAAMD,CAAK,EAAI,CAACA,EAAOC,CAAI,EAC1Cs9B,EAAQ2tD,GAASlrF,EAAOjE,EAAMqlD,CAAgB,EACpD,MAAO,CAACrhD,EAAGw9B,CAAK,CAClB,CACA,SAASwtD,GAAmBtyF,EAAGC,EAAG+lB,EAAO,CACvC,MAAM6V,EAAU,KAAK,IAAI57B,EAAID,CAAC,GAAKgmB,EAAQ,GACrC0sE,EAAQ,KAAK,MAAM,KAAK,MAAM72D,CAAO,CAAC,EACtC82D,EAAY,KAAK,IAAI,GAAID,CAAK,EACpC,OAAO,KAAK,MAAM1yF,EAAI2yF,CAAS,EAAIA,CACrC,CACA,SAASF,GAASlrF,EAAOjE,EAAM0iB,EAAO,CACpC,MAAM4sE,EAAY,KAAK,MAAM,KAAK,MAAMtvF,CAAI,CAAC,EACvC6vB,EAAiB7vB,EAAO,GAAKA,EAAO,EAAI,KAAK,IAAIsvF,CAAS,EAAI,EAC9DnlE,EAAI,KAAK,IAAI,GAAI0F,CAAc,EAC/B2R,EAAQkB,GAAmB7S,CAAc,EAC/C,QAAS3yB,EAAI,EAAGA,EAAIwlB,EAAOxlB,IAAK,CAC9B,MAAMkpC,EAAOniC,EAAQjE,EAAO9C,EAC5BskC,EAAMtkC,CAAC,EAAI,KAAK,MAAMkpC,EAAOjc,CAAC,EAAIA,CACpC,CACA,OAAOqX,CACT,CACA,SAASytD,GAAYhrF,EAAOC,EAAMwe,EAAO,CACvC,MAAMwsE,EAAWxsE,EAAQ,EACnB6V,GAAWr0B,EAAOD,GAASirF,EACjC,OAAOK,GAAsBh3D,CAAO,CACtC,CACA,SAASg3D,GAAsBh3D,EAAS,CACtC,MAAM62D,EAAQ,KAAK,MAAM,KAAK,MAAM72D,CAAO,CAAC,EACtC82D,EAAY,KAAK,IAAI,GAAID,CAAK,EAC9BpvF,EAAOu4B,EAAU82D,EAAY,GACnC,OAAIrvF,EAAO,GAAKA,GAAQ,EACfqvF,EAAY,GAEjBrvF,EAAO,GAAKA,GAAQ,EACf,EAAIqvF,EAAY,GAErBrvF,EAAO,GAAKA,GAAQ,EACf,EAAIqvF,EAAY,GAErBrvF,EAAO,GAAKA,GAAQ,GACf,GAAKqvF,EAAY,GAEtBrvF,EAAO,IAAMA,GAAQ,GAChB,GAAKqvF,EAAY,GAEtBrvF,EAAO,IAAMA,GAAQ,GAChB,GAAKqvF,EAAY,GAEtBrvF,EAAO,IAAMA,GAAQ,GAChB,GAAKqvF,EAAY,GAEtBrvF,EAAO,IAAMA,GAAQ,IAChB,IAAMqvF,EAAY,GAEpBrvF,CACT,CACA,IAAIwvF,GAAiB,cAAc5xD,EAAS,CAC1C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,WAAa,IAClB,KAAK,WAAa,GACpB,CACF,EACAr+B,EAAiB,CACf25B,EAASgE,EAAW,EACpBnE,GAAQ,GAAG,CACb,EAAGy2D,GAAe,UAAW,aAAc,CAAC,EAC5CjwF,EAAiB,CACf25B,EAASiE,EAAW,EACpBpE,GAAQ,GAAG,CACb,EAAGy2D,GAAe,UAAW,aAAc,CAAC,EAC5C,IAAIC,GAAa,cAAcvkC,EAAc,CAC3C,YAAY9I,EAAWpQ,EAAS,IAAIy8C,GAAe,CACjD,MAAMrsC,EAAWpQ,CAAM,EACvB,KAAK,IAAM,IACX,KAAK,IAAM,GACb,CACA,oBAAoBhuC,EAAG,CACrB,KAAM,CAAE,IAAAkZ,EAAK,IAAAC,CAAI,EAAI,KACf,CAAE,OAAQklB,EAAU,QAAA/kB,CAAQ,EAAID,GAA6BrZ,EAAGkZ,EAAKC,CAAG,EAC9E,MAAO,CAAE,OAAQklB,EAAU,QAAA/kB,CAAQ,CACrC,CACA,YAAa,CACX,OAAO,IAAIkyE,EACb,CACA,yBAAyBnqC,EAAkB,CACzC,GAAI,KAAK,YAAc,KACrB,MAAM,IAAI,MAAM,yEAAyE,EAE3F,GAAI,KAAK,WAAW,OAAO,SAAW,EACpC,MAAO,CAAC,EACV,KAAM,CAACrhD,EAAGw9B,CAAK,EAAIstD,GAA2B,KAAK,WAAW,OAAQzpC,GAA8C,EAAG,KAAK,OAAO,EACnI,YAAK,MAAM,KAAO,GAClB,KAAK,MAAM,OAASrhD,EACpB,KAAK,MAAM,OAAO,EACXw9B,CACT,CACA,YAAY1U,EAAO,CACjB,OAAI,OAAOA,GAAU,SACZA,EAAM,QAAQ,CAAC,EAEf,OAAOA,CAAK,CAEvB,CACF,EACA2iE,GAAW,UAAY,aACvBA,GAAW,KAAO,SAClBlwF,EAAiB,CACf25B,EAASU,GAAImB,GAAeM,GAAU,KAAK,CAAC,CAAC,EAC7CtC,GAAQ,GAAG,CACb,EAAG02D,GAAW,UAAW,MAAO,CAAC,EACjClwF,EAAiB,CACf25B,EAASU,GAAImB,GAAeQ,GAAa,KAAK,CAAC,CAAC,EAChDxC,GAAQ,GAAG,CACb,EAAG02D,GAAW,UAAW,MAAO,CAAC,EACjC,IAAIC,GAAkB31D,GAAsBv9B,GAAUqP,GAASrP,CAAK,GAAKA,IAAU,EAAG,mBAAmB,EACrGmzF,GAAU,cAAcF,EAAW,CACrC,YAAYrtC,EAAW,CACrB,MAAMA,EAAW,IAAI5H,EAAU,EAC/B,KAAK,IAAM,IACX,KAAK,IAAM,GACb,CACA,oBAAoBx2C,EAAG,CACrB,KAAM,CAAE,IAAAkZ,EAAK,IAAAC,CAAI,EAAI,KACf,CAAE,OAAQklB,EAAU,QAAA/kB,CAAQ,EAAID,GAA6BrZ,EAAGkZ,EAAKC,CAAG,EACxEyyE,EAAavtD,EAAS,CAAC,EAAIA,EAAS,CAAC,EACrCwtD,EAAcxtD,EAAS,CAAC,EAAI,GAAKA,EAAS,CAAC,EAAI,EAC/CytD,EAAgBztD,EAAS,CAAC,IAAM,GAAKA,EAAS,CAAC,IAAM,EAE3D,OADsButD,GAAcC,GAAeC,KAE7CD,EACFrsF,EAAO,KACL,mHACF,EACSssF,GACTtsF,EAAO,KAAK,oDAAoD,GAGhE6+B,EAAS,CAAC,IAAM,IAClBA,EAAS,CAAC,EAAI,GAEZA,EAAS,CAAC,IAAM,IAClBA,EAAS,CAAC,EAAI,IAET,CAAE,OAAQA,EAAU,QAAA/kB,CAAQ,CACrC,CACA,IAAI,KAAK9gB,EAAO,CACd,KAAK,MAAM,KAAOA,CACpB,CACA,IAAI,MAAO,CACT,OAAO,KAAK,MAAM,IACpB,CACF,EACAmzF,GAAQ,UAAY,UACpBA,GAAQ,KAAO,MACfpwF,EAAiB,CACf25B,EAASU,GAAImB,GAAe20D,GAAiBr0D,GAAU,KAAK,CAAC,CAAC,EAC9DtC,GAAQ,GAAG,CACb,EAAG42D,GAAQ,UAAW,MAAO,CAAC,EAC9BpwF,EAAiB,CACf25B,EAASU,GAAImB,GAAe20D,GAAiBn0D,GAAa,KAAK,CAAC,CAAC,EACjExC,GAAQ,GAAG,CACb,EAAG42D,GAAQ,UAAW,MAAO,CAAC,EAC9B,IAAII,GAAe,cAAcnyD,EAAS,CACxC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,WAAa,IAClB,KAAK,WAAa,GACpB,CACF,EACAr+B,EAAiB,CACf25B,EAASgE,EAAW,EACpBnE,GAAQ,GAAG,CACb,EAAGg3D,GAAa,UAAW,aAAc,CAAC,EAC1CxwF,EAAiB,CACf25B,EAASiE,EAAW,EACpBpE,GAAQ,GAAG,CACb,EAAGg3D,GAAa,UAAW,aAAc,CAAC,EAC1C,IAAIC,GAAW,cAAc9kC,EAAc,CACzC,YAAY9I,EAAW,CACrB,MAAMA,EAAW,IAAI/c,EAAW,EAChC,KAAK,IAAM,OACX,KAAK,IAAM,OACX,KAAK,aAAa,CACpB,CACA,oBAAoBrhC,EAAG,CACrB,IAAII,EACJ,GAAI,CAAE,IAAA8Y,EAAK,IAAAC,CAAI,EAAI,KACfG,EAAU,GACd,OAAI,OAAOJ,GAAQ,WACjBA,EAAM,IAAI,KAAKA,CAAG,GAEhB,OAAOC,GAAQ,WACjBA,EAAM,IAAI,KAAKA,CAAG,GAEhBnZ,EAAE,OAAS,IACbA,IAAMI,EAAK4Y,GAAOhZ,CAAC,IAAM,KAAOI,EAAK,CAAC,EAAG,GAAG,GAAG,IAAKxG,GAAM,IAAI,KAAKA,CAAC,CAAC,GAEnEsf,aAAe,OACjBI,IAAYA,EAAUJ,EAAMlZ,EAAE,CAAC,GAC/BA,EAAI,CAACkZ,EAAKlZ,EAAE,CAAC,CAAC,GAEZmZ,aAAe,OACjBG,IAAYA,EAAUH,EAAMnZ,EAAE,CAAC,GAC/BA,EAAI,CAACA,EAAE,CAAC,EAAGmZ,CAAG,GAEZnZ,EAAE,CAAC,EAAIA,EAAE,CAAC,IACZA,EAAI,CAAC,GAEA,CAAE,OAAQA,EAAG,QAAAsZ,CAAQ,CAC9B,CACA,YAAa,CACX,OAAO,IAAIyyE,EACb,CACA,oBAAoBvuD,EAAO1J,EAAQ8J,EAAS,CACtCA,EACF,MAAM,oBAAoBJ,EAAO1J,EAAQ8J,CAAO,EAEhD,KAAK,eAAiB,KAAK,MAAM,WAAW,CAAE,MAAAJ,EAAO,OAAA1J,CAAO,CAAC,CAEjE,CACA,kBAAmB,CACjB,MAAO,CAAC,EAAG,CAAC,CACd,CACA,YAAYhL,EAAO,CACjB,IAAI1oB,EACJ,MAAM+8B,EAAY,KAAK,MAAM,WAAW,CACtC,UAAW,oBACb,CAAC,EACD,OAAQ/8B,EAAK,KAAK,UAAU,cAAc,KAAK+8B,EAAWrU,CAAK,IAAM,KAAO1oB,EAAK,OAAO0oB,CAAK,CAC/F,CACF,EACAkjE,GAAS,UAAY,WACrBA,GAAS,KAAO,OAChBzwF,EAAiB,CACf25B,EAASU,GAAI6B,GAAqBJ,GAAU,KAAK,CAAC,EAAG,CAAE,SAAU,EAAK,CAAC,CACzE,EAAG20D,GAAS,UAAW,MAAO,CAAC,EAC/BzwF,EAAiB,CACf25B,EAASU,GAAI6B,GAAqBF,GAAa,KAAK,CAAC,EAAG,CAAE,SAAU,EAAK,CAAC,CAC5E,EAAGy0D,GAAS,UAAW,MAAO,CAAC,EAC/B,IAAIC,GAAU,KACVC,GAAc,CAACC,EAAaC,EAAcC,EAAcC,EAAeC,IAAiB,CAC1F,IAAIC,EAAiB,GACjBC,EAAkB,GAClBC,EAAWJ,EAAgB,KAAK,KAAK,KAAK,IAAIxxF,EAAMyxF,EAAc,CAAC,EAAIzxF,EAAMuxF,EAAc,CAAC,EAAG,CAAC,CAAC,EACjGM,EAAW,EACXC,EAAY,EACZC,EAAYR,EAAe,KAAK,KAAK,KAAK,IAAIvxF,EAAMyxF,EAAc,CAAC,EAAIzxF,EAAMwxF,EAAe,CAAC,EAAG,CAAC,CAAC,EACtG,OAAII,EAAWP,GACbK,EAAiB,GACjBE,EAAWP,EACXQ,EAAWN,EAAe,KAAK,KAAK,KAAK,IAAIvxF,EAAMyxF,EAAc,CAAC,EAAIzxF,EAAMwxF,EAAgBH,EAAa,CAAC,CAAC,CAAC,GACnGO,EAAWT,KACpBS,EAAW,GAETG,EAAYT,GACdK,EAAkB,GAClBG,EAAYN,EAAgB,KAAK,KAAK,KAAK,IAAIxxF,EAAMyxF,EAAc,CAAC,EAAIzxF,EAAMuxF,EAAeD,EAAc,CAAC,CAAC,CAAC,EAC9GS,EAAYT,GACHS,EAAYZ,KACrBY,EAAY,GAEP,CAAE,SAAAH,EAAU,SAAAC,EAAU,UAAAC,EAAW,UAAAC,EAAW,eAAAL,EAAgB,gBAAAC,CAAgB,CACrF,EACIK,GAAa,CAAC1jF,EAAM,CAAE,GAAAqrB,EAAI,GAAA0L,EAAI,GAAArc,EAAI,GAAAC,EAAI,GAAA8C,EAAI,GAAAC,CAAG,EAAGylE,EAAcQ,IAAS,CAIzE,GAHIA,GACF3jF,EAAK,OAAOqrB,EAAI0L,CAAE,EAEhB1L,IAAO3Q,GAAMqc,IAAOpc,EAAI,CAC1B,MAAMsQ,EAAK,KAAK,MAAM8L,EAAKrZ,EAAI2N,EAAK5N,CAAE,EAChCyN,EAAK,KAAK,MAAMvQ,EAAK+C,EAAIhD,EAAK+C,CAAE,EACtCzd,EAAK,IAAIyd,EAAIC,EAAIylE,EAAcl4D,EAAIC,CAAE,CACvC,MACElrB,EAAK,OAAOqrB,EAAI0L,CAAE,CAEtB,EACI6sD,GAAwB,CAAC5jF,EAAMxP,EAAG+oB,EAAGa,EAAOC,EAAQwpE,EAAaxpD,IAAa,CAChF,GAAI,CACF,QAASypD,EACT,SAAUC,EACV,YAAaC,EACb,WAAYC,CACd,EAAIJ,EACJ,MAAMK,EAA0B,KAAK,IACnCJ,EAAsBG,EACtBF,EAAuBC,CACzB,EACMG,EAA4B,KAAK,IACrCL,EAAsBC,EACtBE,EAAyBD,CAC3B,EACA,GAAIE,GAA2B,GAAKC,GAA6B,EAAG,CAC9D9pD,GAAY,KACdr6B,EAAK,KAAKxP,EAAG+oB,EAAGa,EAAOC,CAAM,EAE7Bra,EAAK,KAAKq6B,EAAS,EAAGA,EAAS,EAAGA,EAAS,MAAOA,EAAS,MAAM,EAEnE,MACF,SAAWA,GAAY,MAAQypD,IAAwBC,GAAwBD,IAAwBE,GAA2BF,IAAwBG,EAAwB,CAChLjkF,EAAK,UAAUxP,EAAG+oB,EAAGa,EAAOC,EAAQypE,CAAmB,EACvD,MACF,CASA,GARI1pE,EAAQ,IACV5pB,GAAK4pB,EACLA,EAAQ,KAAK,IAAIA,CAAK,GAEpBC,EAAS,IACXd,GAAKc,EACLA,EAAS,KAAK,IAAIA,CAAM,GAEtBD,GAAS,GAAKC,GAAU,EAC1B,OACF,GAAIggB,GAAY,KACdA,EAAW,IAAI/e,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,MAClC,CACL,MAAMgR,EAAK,KAAK,IAAI76B,EAAG6pC,EAAS,CAAC,EAC3B3f,EAAK,KAAK,IAAIlqB,EAAI4pB,EAAOigB,EAAS,EAAIA,EAAS,KAAK,EACpDtD,EAAK,KAAK,IAAIxd,EAAG8gB,EAAS,CAAC,EAC3B1f,EAAK,KAAK,IAAIpB,EAAIc,EAAQggB,EAAS,EAAIA,EAAS,MAAM,EAC5DA,EAAW,IAAI/e,EAAK+P,EAAI0L,EAAIrc,EAAK2Q,EAAI1Q,EAAKoc,CAAE,CAC9C,CACA,MAAMqtD,EAAc,KAAK,IAAIF,EAA0B7pE,EAAQ8pE,EAA4B/pE,EAAO,CAAC,EAC/FgqE,EAAc,IAChBN,GAAuBM,EACvBL,GAAwBK,EACxBJ,GAA2BI,EAC3BH,GAA0BG,GAE5B,IAAIC,EAAoB,GACpBC,EAAqB,GACrBC,EAAwB,GACxBC,EAAuB,GACvBC,EACAC,EACAC,EACAC,EACJ,GAAIP,EAAmB,CACrB,MAAMvkE,EAAQgjE,GACZzoD,EAAS,OACTA,EAAS,MACT,KAAK,IAAI7pC,EAAIszF,EAAsBzpD,EAAS,EAAG,CAAC,EAChD,KAAK,IAAI9gB,EAAIuqE,EAAsBzpD,EAAS,EAAG,CAAC,EAChDypD,CACF,EACIhkE,EAAM,iBACR0kE,EAAuB,IACrB1kE,EAAM,kBACRwkE,EAAqB,IACvB,MAAMj5D,EAAK,KAAK,IAAIgP,EAAS,EAAIva,EAAM,SAAUua,EAAS,CAAC,EACrDtD,EAAK,KAAK,IAAIsD,EAAS,EAAIva,EAAM,SAAUua,EAAS,CAAC,EACrD3f,EAAK,KAAK,IAAI2f,EAAS,EAAIva,EAAM,UAAWua,EAAS,CAAC,EACtD1f,EAAK,KAAK,IAAI0f,EAAS,EAAIva,EAAM,UAAWua,EAAS,CAAC,EACtD5c,EAAKjtB,EAAIszF,EACTpmE,EAAKnE,EAAIuqE,EACfW,EAAgB,CAAE,GAAAp5D,EAAI,GAAA0L,EAAI,GAAArc,EAAI,GAAAC,EAAI,GAAA8C,EAAI,GAAAC,CAAG,CAC3C,CACA,GAAI4mE,EAAoB,CACtB,MAAMxkE,EAAQgjE,GACZzoD,EAAS,MACTA,EAAS,OACT,KAAK,IAAI9gB,EAAIwqE,EAAuB1pD,EAAS,EAAG,CAAC,EACjD,KAAK,IAAIA,EAAS,EAAIA,EAAS,OAAS7pC,EAAI4pB,EAAQ2pE,GAAuB,CAAC,EAC5EA,CACF,EACIjkE,EAAM,iBACRukE,EAAoB,IAClBvkE,EAAM,kBACRykE,EAAwB,IAC1B,MAAMl5D,EAAK,KAAK,IAAIgP,EAAS,EAAIA,EAAS,MAAQva,EAAM,SAAUua,EAAS,EAAIA,EAAS,KAAK,EACvFtD,EAAK,KAAK,IAAIsD,EAAS,EAAIva,EAAM,SAAUua,EAAS,CAAC,EACrD3f,EAAK,KAAK,IAAI2f,EAAS,EAAIA,EAAS,MAAQva,EAAM,UAAWua,EAAS,EAAIA,EAAS,KAAK,EACxF1f,EAAK,KAAK,IAAI0f,EAAS,EAAIva,EAAM,UAAWua,EAAS,CAAC,EACtD5c,EAAKjtB,EAAI4pB,EAAQ2pE,EACjBrmE,EAAKnE,EAAIwqE,EACfW,EAAiB,CAAE,GAAAr5D,EAAI,GAAA0L,EAAI,GAAArc,EAAI,GAAAC,EAAI,GAAA8C,EAAI,GAAAC,CAAG,CAC5C,CACA,GAAI6mE,EAAuB,CACzB,MAAMzkE,EAAQgjE,GACZzoD,EAAS,OACTA,EAAS,MACT,KAAK,IAAIA,EAAS,EAAIA,EAAS,OAAS7pC,EAAI4pB,EAAQ4pE,GAA0B,CAAC,EAC/E,KAAK,IAAI3pD,EAAS,EAAIA,EAAS,QAAU9gB,EAAIc,EAAS2pE,GAA0B,CAAC,EACjFA,CACF,EACIlkE,EAAM,iBACRwkE,EAAqB,IACnBxkE,EAAM,kBACR0kE,EAAuB,IACzB,MAAMn5D,EAAK,KAAK,IAAIgP,EAAS,EAAIA,EAAS,MAAQva,EAAM,SAAUua,EAAS,EAAIA,EAAS,KAAK,EACvFtD,EAAK,KAAK,IAAIsD,EAAS,EAAIA,EAAS,OAASva,EAAM,SAAUua,EAAS,EAAIA,EAAS,MAAM,EACzF3f,EAAK,KAAK,IAAI2f,EAAS,EAAIA,EAAS,MAAQva,EAAM,UAAWua,EAAS,EAAIA,EAAS,KAAK,EACxF1f,EAAK,KAAK,IAAI0f,EAAS,EAAIA,EAAS,OAASva,EAAM,UAAWua,EAAS,EAAIA,EAAS,MAAM,EAC1F5c,EAAKjtB,EAAI4pB,EAAQ4pE,EACjBtmE,EAAKnE,EAAIc,EAAS2pE,EACxBW,EAAoB,CAAE,GAAAt5D,EAAI,GAAA0L,EAAI,GAAArc,EAAI,GAAAC,EAAI,GAAA8C,EAAI,GAAAC,CAAG,CAC/C,CACA,GAAI8mE,EAAsB,CACxB,MAAM1kE,EAAQgjE,GACZzoD,EAAS,MACTA,EAAS,OACT,KAAK,IAAIA,EAAS,EAAIA,EAAS,QAAU9gB,EAAIc,EAAS4pE,GAAyB,CAAC,EAChF,KAAK,IAAIzzF,EAAIyzF,EAAyB5pD,EAAS,EAAG,CAAC,EACnD4pD,CACF,EACInkE,EAAM,iBACRykE,EAAwB,IACtBzkE,EAAM,kBACRukE,EAAoB,IACtB,MAAMh5D,EAAK,KAAK,IAAIgP,EAAS,EAAIva,EAAM,SAAUua,EAAS,CAAC,EACrDtD,EAAK,KAAK,IAAIsD,EAAS,EAAIA,EAAS,OAASva,EAAM,SAAUua,EAAS,EAAIA,EAAS,MAAM,EACzF3f,EAAK,KAAK,IAAI2f,EAAS,EAAIva,EAAM,UAAWua,EAAS,CAAC,EACtD1f,EAAK,KAAK,IAAI0f,EAAS,EAAIA,EAAS,OAASva,EAAM,UAAWua,EAAS,EAAIA,EAAS,MAAM,EAC1F5c,EAAKjtB,EAAIyzF,EACTvmE,EAAKnE,EAAIc,EAAS4pE,EACxBW,EAAmB,CAAE,GAAAv5D,EAAI,GAAA0L,EAAI,GAAArc,EAAI,GAAAC,EAAI,GAAA8C,EAAI,GAAAC,CAAG,CAC9C,CACA,IAAImnE,EAAU,GACVR,GAAqBI,GAAiB,OACxCf,GAAW1jF,EAAMykF,EAAeX,EAAqB,CAACe,CAAO,EAC7DA,IAAYA,EAAU,KAEpBP,GAAsBI,GAAkB,OAC1ChB,GAAW1jF,EAAM0kF,EAAgBX,EAAsB,CAACc,CAAO,EAC/DA,IAAYA,EAAU,KAEpBN,GAAyBI,GAAqB,OAChDjB,GAAW1jF,EAAM2kF,EAAmBX,EAAyB,CAACa,CAAO,EACrEA,IAAYA,EAAU,KAEpBL,GAAwBI,GAAoB,OAC9ClB,GAAW1jF,EAAM4kF,EAAkBX,EAAwB,CAACY,CAAO,EACnEA,IAAYA,EAAU,KAExB7kF,EAAK,UAAU,CACjB,EACI8kF,GAAO,cAAcjQ,EAAK,CAC5B,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,WAAa,IAAInB,GACtB,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,MAAQ,GACb,KAAK,OAAS,GACd,KAAK,oBAAsB,EAC3B,KAAK,qBAAuB,EAC5B,KAAK,wBAA0B,EAC/B,KAAK,uBAAyB,EAC9B,KAAK,SAAW,OAChB,KAAK,MAAQ,GACb,KAAK,0BAA4Br3C,GAAM,cAAc,YACrD,KAAK,qBAAuBA,GAAM,cAAc,YAChD,KAAK,UAAY,MAAM,cACvB,KAAK,mBAAqB,MAAM,gBAChC,KAAK,wBAA0B,CACjC,CACA,IAAI,aAAa8mD,EAAc,CAC7B,KAAK,oBAAsBA,EAC3B,KAAK,qBAAuBA,EAC5B,KAAK,wBAA0BA,EAC/B,KAAK,uBAAyBA,CAChC,CACA,aAAc,CACZ,OAAO,KAAK,4BAA8B,KAAK,aAAe,GAAQ,KAAK,KAAK,QAAQ,GAAK,KAAK,WAAW,QAAQ,EACvH,CACA,YAAa,CACX,IAAInsF,EAAIiL,EAAIC,EACZ,KAAM,CACJ,KAAAlC,EACA,WAAA+kF,EACA,MAAAC,EACA,oBAAqBC,EACrB,qBAAsBC,EACtB,wBAAyBC,EACzB,uBAAwBC,CAC1B,EAAI,KACJ,GAAI,CAAE,EAAA50F,EAAG,EAAA+oB,EAAG,MAAOoE,EAAG,OAAQC,EAAG,YAAA8e,EAAa,SAAArC,CAAS,EAAI,KAE3D,MAAMgrD,EAAY,IADEpjF,GAAMjL,EAAK,KAAK,eAAiB,KAAO,OAASA,EAAG,OAAO,aAAe,KAAOiL,EAAK,GAE1G,IAAIqjF,EAA0B,EAqB9B,GApBAtlF,EAAK,MAAM,EAAI,EACf+kF,EAAW,MAAM,EAAI,EACjBC,IACErnE,GAAK0nE,IACPC,GAA2B3nE,EAAI0nE,GAE7BznE,GAAKynE,IACPC,GAA2B1nE,EAAIynE,GAEjC1nE,EAAI,KAAK,MAAMntB,EAAGmtB,CAAC,EACnBC,EAAI,KAAK,MAAMrE,EAAGqE,CAAC,EACnBptB,EAAI,KAAK,MAAMA,CAAC,EAChB+oB,EAAI,KAAK,MAAMA,CAAC,EAChB8gB,EAAWA,GAAY,KAAO,IAAI/e,EAChC,KAAK,MAAM+e,EAAS,CAAC,EACrB,KAAK,MAAMA,EAAS,CAAC,EACrB,KAAK,MAAMA,EAAS,EAAGA,EAAS,KAAK,EACrC,KAAK,MAAMA,EAAS,EAAGA,EAAS,MAAM,CACxC,EAAI,QAEFqC,EACF,GAAI/e,EAAI0nE,EAAW,CACjB,MAAME,EAAK/0F,EAAI60F,EAAY,EAC3BN,EAAW,OAAOQ,EAAIhsE,CAAC,EACvBwrE,EAAW,OAAOQ,EAAIhsE,EAAIqE,CAAC,EAC3B8e,EAAc2oD,EACd,KAAK,eAAiB,MACxB,SAAWznE,EAAIynE,EAAW,CACxB,MAAMG,EAAKjsE,EAAI8rE,EAAY,EAC3BN,EAAW,OAAOv0F,EAAGg1F,CAAE,EACvBT,EAAW,OAAOv0F,EAAImtB,EAAG6nE,CAAE,EAC3B9oD,EAAc2oD,EACd,KAAK,eAAiB,MACxB,SAAW3oD,EAAc/e,GAAK+e,EAAc9e,EAAG,CAC7C,MAAM6nE,EAAkB/oD,EAAc,EACtClsC,GAAKi1F,EACLlsE,GAAKksE,EACL9nE,GAAK+e,EACL9e,GAAK8e,EACL,MAAMgpD,EAA+CrrD,GAAS,MAAM,EAAE,OAAOorD,CAAe,EACtF5B,EAAc,CAClB,QAASoB,EAAU,EAAIA,EAAUvoD,EAAc,EAC/C,SAAUwoD,EAAW,EAAIA,EAAWxoD,EAAc,EAClD,YAAayoD,EAAc,EAAIA,EAAczoD,EAAc,EAC3D,WAAY0oD,EAAa,EAAIA,EAAa1oD,EAAc,CAC1D,EACA,KAAK,eAAiB,OACtBknD,GAAsB5jF,EAAMxP,EAAG+oB,EAAGoE,EAAGC,EAAGimE,EAAa6B,CAAgB,EACrE9B,GAAsBmB,EAAYv0F,EAAG+oB,EAAGoE,EAAGC,EAAGimE,EAAa6B,CAAgB,CAC7E,MACE,KAAK,gBAAkBxjF,EAAK,KAAK,iBAAmB,KAAOA,EAAK,IAAIwxE,GACpE,KAAK,eAAe,MAAM,EAAI,EAC9B,KAAK,eAAe,KAAKljF,EAAG+oB,EAAGoE,EAAGC,CAAC,EACnCmnE,EAAW,KAAKv0F,EAAG+oB,EAAGoE,EAAGC,CAAC,MAEvB,CACL,MAAMimE,EAAc,CAAE,QAAAoB,EAAS,SAAAC,EAAU,YAAAC,EAAa,WAAAC,CAAW,EACjE,KAAK,eAAiB,OACtBxB,GAAsB5jF,EAAMxP,EAAG+oB,EAAGoE,EAAGC,EAAGimE,EAAaxpD,CAAQ,CAC/D,CACI,CAAC4qD,EAASC,EAAUC,EAAaC,CAAU,EAAE,MAAO56E,GAAMA,IAAM,CAAC,GACnE,KAAK,UAAY,CAACm7E,EAAMC,IAAS,CAC/B,MAAMvnD,EAAQ,KAAK,eAAesnD,EAAMC,CAAI,EAC5C,OAAO,KAAK,cAAc,EAAE,cAAcvnD,EAAM,EAAGA,EAAM,CAAC,CAC5D,EACA,KAAK,gBAAkB,CAACsnD,EAAMC,IAAS,KAAK,cAAc,EAAE,gBAAgBD,EAAMC,CAAI,IAEtF,KAAK,UAAY,MAAM,cACvB,KAAK,mBAAqB,MAAM,iBAElC,KAAK,qBAAuBlpD,EAC5B,KAAK,0BAA4BA,EACjC,KAAK,wBAA0B4oD,CACjC,CACA,aAAc,CACZ,IAAItuF,EACJ,KAAM,CAAE,EAAAxG,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,EAAQ,SAAAggB,CAAS,EAAI,KAC1C,OAAQrjC,EAAiCqjC,GAAS,MAAM,IAAM,KAAOrjC,EAAK,IAAIskB,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,CACxG,CACA,cAAc7pB,EAAG+oB,EAAG,CAClB,OAAO,KAAK,UAAU/oB,EAAG+oB,CAAC,CAC5B,CACA,IAAI,UAAW,CACb,MAAO,CAAE,EAAG,KAAK,EAAI,KAAK,MAAQ,EAAG,EAAG,KAAK,EAAI,KAAK,OAAS,CAAE,CACnE,CACA,gBAAgB/oB,EAAG+oB,EAAG,CACpB,OAAO,KAAK,mBAAmB/oB,EAAG+oB,CAAC,CACrC,CACA,eAAesE,EAAK,CAClB,KAAM,CAAE,YAAA2e,EAAa,wBAAA8oD,EAAyB,QAAA1rD,CAAQ,EAAI,KAC1D/b,EAAI,aAAe+b,EAAU4C,EAAc8oD,CAC7C,CACA,aAAaznE,EAAK,CAChB,KAAM,CAAE,OAAA4e,EAAQ,qBAAAopD,CAAqB,EAAI,KACzC,GAAIppD,GAAUopD,EAAsB,CAClC,KAAM,CAAE,YAAA1pD,CAAY,EAAIte,EAClB,CACJ,cAAAgf,EACA,SAAAC,EACA,eAAAC,EACA,QAAAC,EACA,SAAAC,EACA,WAAA8nD,EACA,eAAAe,EACA,QAAAlsD,EACA,wBAAA0rD,CACF,EAAI,KACAQ,GACFjoE,EAAI,KAAKioE,EAAe,UAAU,CAAC,EAErCjoE,EAAI,YAAc4e,EAClB5e,EAAI,aAAe+b,EAAUiD,EAAgByoD,EAC7CznE,EAAI,UAAYgoE,EACZ/oD,GACFjf,EAAI,YAAYif,CAAQ,EAEtBC,IACFlf,EAAI,eAAiBkf,GAEnBC,IACFnf,EAAI,QAAUmf,GAEZC,IACFpf,EAAI,SAAWof,GAEjBpf,EAAI,OAAOknE,EAAW,UAAU,CAAC,EACjClnE,EAAI,YAAcse,CACpB,CACF,CACF,EACA2oD,GAAK,UAAY,OACjB3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,IAAK,CAAC,EACzB3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,IAAK,CAAC,EACzB3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,QAAS,CAAC,EAC7B3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,SAAU,CAAC,EAC9B3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,sBAAuB,CAAC,EAC3C3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,uBAAwB,CAAC,EAC5C3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,0BAA2B,CAAC,EAC/C3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,yBAA0B,CAAC,EAC9C3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,WAAY,CAAC,EAChC3yF,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGkQ,GAAK,UAAW,QAAS,CAAC,EAC7B,IAAIiB,GAAa,cAAc/qF,EAAmB,CAChD,YAAY6iB,EAAK,CACf,MAAM,EACN,KAAK,KAAO,IAAImd,EAAM,CACpB,KAAM,aACN,OAAQ,CAEV,CAAC,EACD,KAAK,SAAW,IAAI8pD,GACpB,KAAK,QAAU,GACf,KAAK,KAAO,QACZ,KAAK,KAAK,YAAY,KAAK,QAAQ,EACnC,KAAK,WAAW,KACdjnE,EAAI,MAAM,WAAW,KAAK,IAAI,EAC9BA,EAAI,cAAc,YAAY,kBAAoBhrB,GAAM,KAAK,iBAAiBA,CAAC,CAAC,CAClF,CACF,CACA,iBAAiB,EAAG,CAClB,KAAM,CAAE,MAAAunB,EAAO,OAAAC,CAAO,EAAI,EAAE,MAC5B,KAAK,SAAS,MAAQD,EACtB,KAAK,SAAS,OAASC,CACzB,CACF,EACAloB,EAAiB,CACf25B,EAASoB,CAAO,EAChBqkB,GAAqB,OAAQ,SAAS,CACxC,EAAGw0C,GAAW,UAAW,UAAW,CAAC,EACrC5zF,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,EACzCgjB,GAAqB,WAAY,MAAM,CACzC,EAAGw0C,GAAW,UAAW,OAAQ,CAAC,EAClC5zF,EAAiB,CACf25B,EAASiB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGg5D,GAAW,UAAW,QAAS,CAAC,EACnC,IAAIC,GAAmB,CACrB,KAAM,OACN,WAAY,aACZ,YAAa,YACb,WAAY,CAAC,YAAa,QAAS,YAAa,UAAU,EAC1D,oBAAqBD,EACvB,EACA,SAASE,GAAW,CAClB,YAAAC,EACA,OAAAC,EACA,UAAAvnD,EACA,SAAAD,EACA,aAAAynD,EAAe,EACf,aAAAC,EAAe,EACf,YAAAC,EAAc,EAChB,EAAG,CACD,MAAMC,EAAaL,IAAgB,aAC7BM,EAAU,CACd,IAAKD,EAAa5nD,EAAWC,EAC7B,GAAI2nD,EAAch3F,GAAMA,EAAE,MAASA,GAAMA,EAAE,OAC3C,QAASg3F,EAAaF,EAAeD,CACvC,EACMK,EAAY,CAChB,IAAKF,EAAa3nD,EAAYD,EAC9B,GAAI4nD,EAAch3F,GAAMA,EAAE,OAAUA,GAAMA,EAAE,MAC5C,QAASg3F,EAAaH,EAAeC,CACvC,EACA,IAAIK,EAAqB,EACzB,MAAMC,EAAW,CAAC,EAClB,KAAOD,EAAqBP,EAAO,QAAQ,CACzC,MAAMS,EAAoBT,EAAO,MAAMO,CAAkB,EACnD72F,EAASg3F,GAAcD,EAAmBF,EAAoBF,EAASC,EAAWH,CAAW,EACnG,GAAI,CAACz2F,EACH,OAEF62F,GAAsB72F,EAAO,mBAC7B82F,EAAS,KAAK92F,EAAO,WAAW,CAClC,CACA,OAAOi3F,GAAWH,EAAUT,EAAaC,EAAQC,EAAcC,CAAY,CAC7E,CACA,SAASQ,GAAcV,EAAQY,EAAaP,EAASC,EAAWH,EAAa,CAE3E,IAAIU,EAAgBC,GAAsBd,EAAQK,CAAO,EACzD,GAAIQ,EAAgB,EAAU,CAC5B,GAAI,CAACV,EACH,OAEFU,EAAgB,CAClB,CACA,IAAIE,EAAQF,EACZ,KAAOE,GAAS,GAAU,CACxB,MAAMC,EAAcC,GAAcjB,EAAQY,EAAaG,EAAOV,EAASC,EAAWH,CAAW,EAC7F,GAAIa,GAAe,MAAQD,GAAS,EAClC,OAEF,GAAIC,GAAe,KAAM,CACvBD,IACA,QACF,CACA,GAAI,OAAOC,GAAgB,SAAU,CACnC,GAAIA,GAAe,EACjB,OAEFD,EAAQC,EAAcD,GAASC,EAAc,EAAWA,EAAcD,EACtEA,IACA,QACF,CAEA,MAAO,CAAE,mBADkBC,EAAY,OAASA,EAAY,CAAC,EAAE,OAClC,YAAAA,CAAY,CAC3C,CACF,CACA,SAASC,GAAcjB,EAAQY,EAAaM,EAAcb,EAASC,EAAWH,EAAa,CACzF,IAAItvF,EACJ,MAAMnH,EAAS,CAAC,EAChB,IAAIy3F,EAAe,EACfC,EAAsB,EACtBC,EAAwB,CAAC,EAC7B,MAAMC,EAAmB,CAAC,EAC1B,QAASC,EAAY,EAAGA,EAAYvB,EAAO,OAAQuB,IAAa,CAC9D,MAAMC,GAAmBD,EAAYL,GAAgBA,EACjDM,IAAoB,IACtBL,GAAgBC,EAChBA,EAAsB,EAClBC,EAAsB,OAAS,GACjC33F,EAAO,KAAK23F,CAAqB,EAEnCA,EAAwB,CAAC,GAE3B,MAAMI,EAAepB,EAAQ,GAAGL,EAAOuB,CAAS,CAAC,EAAIlB,EAAQ,QAC7DiB,EAAiBE,CAAe,EAAI,KAAK,KAAK3wF,EAAKywF,EAAiBE,CAAe,IAAM,KAAO3wF,EAAK,EAAG4wF,CAAY,EACpHL,EAAsB,KAAK,IAAIA,EAAqBd,EAAU,GAAGN,EAAOuB,CAAS,CAAC,EAAIjB,EAAU,OAAO,EACvG,MAAMoB,EAA4BP,EAAeC,EAC3CO,EAAe,CAACxB,GAAez2F,EAAO,OAAS,EACrD,GAAIg4F,EAA4BpB,EAAU,KAAOqB,EAAc,CAC7DN,EAAwB,CAAC,EACzB,KACF,CAEA,GADmBC,EAAiB,OAAO,CAAC7lD,EAAMjiB,IAASiiB,EAAOjiB,EAAM,CAAC,EACxD6mE,EAAQ,KAAO,CAACF,EAC/B,OAAImB,EAAiB,OAASJ,EACrBI,EAAiB,OAE1B,OAEFD,EAAsB,KAAKE,EAAYX,CAAW,CACpD,CACA,OAAIS,EAAsB,OAAS,GACjC33F,EAAO,KAAK23F,CAAqB,EAE5B33F,EAAO,OAAS,EAAIA,EAAS,MACtC,CACA,SAASi3F,GAAWH,EAAUT,EAAaC,EAAQC,EAAcC,EAAc,CAC7E,IAAI0B,EAAe,EACfC,EAAgB,EAwCpB,MAAO,CAAE,MAvCKrB,EAAS,IAAK/uB,GAAY,CAClCsuB,IAAgB,eAClBtuB,EAAUqwB,GAAUrwB,CAAO,GAE7B,IAAIswB,EAAW,EACf,MAAMC,EAAUvwB,EAAQ,IAAKwwB,GAAe,CAC1C,MAAMC,EAAYD,EAAW,IAAKV,IAChCQ,EAAW,KAAK,IAAIR,EAAWQ,CAAQ,EAChC/B,EAAOuB,CAAS,EACxB,EACD,IAAIY,EAAe,EACfC,EAAc,EAClB,OAAAF,EAAU,QAASnrE,GAAS,CAC1BorE,GAAgBprE,EAAK,OAASkpE,EAC9BmC,EAAc,KAAK,IAAIA,EAAarrE,EAAK,MAAQmpE,CAAY,CAC/D,CAAC,EACM,CACL,QAAS+B,EACT,OAAQC,EACR,aAAc,KAAK,KAAKC,CAAY,EACpC,YAAa,KAAK,KAAKC,CAAW,CACpC,CACF,CAAC,EACD,IAAIC,EAAY,EACZC,EAAa,EACjB,OAAAN,EAAQ,QAASO,GAAW,CAC1BF,GAAaE,EAAO,YACpBD,EAAa,KAAK,IAAIA,EAAYC,EAAO,YAAY,CACvD,CAAC,EACDX,EAAe,KAAK,IAAIS,EAAWT,CAAY,EAC/CC,EAAgB,KAAK,IAAIS,EAAYT,CAAa,EAC3C,CACL,QAAAG,EACA,WAAYvwB,EAAQ,CAAC,EAAE,CAAC,EACxB,SAAAswB,EACA,UAAAM,EACA,WAAAC,CACF,CACF,CAAC,EACe,aAAAV,EAAc,cAAAC,CAAc,CAC9C,CACA,SAASC,GAAU9hF,EAAM,CACvB,MAAMtW,EAAS,CAAC,EAChB,UAAW6jB,KAAKvN,EAAK,CAAC,EACpBtW,EAAO,KAAK,CAAC,CAAC,EAEhB,OAAAsW,EAAK,QAAQ,CAACwiF,EAAWC,IAAY,CACnCD,EAAU,QAAQ,CAAClpF,EAAMopF,IAAY,CACnCh5F,EAAOg5F,CAAO,EAAED,CAAO,EAAInpF,CAC7B,CAAC,CACH,CAAC,EACM5P,CACT,CACA,SAASo3F,GAAsBd,EAAQK,EAAS,CAC9C,MAAMttE,EAAIitE,EAAO,OACjB,IAAI2C,EAAa,EACjB,QAASpB,EAAY,EAAGA,EAAYxuE,EAAGwuE,IAErC,GADAoB,GAActC,EAAQ,GAAGL,EAAOuB,CAAS,CAAC,EAAIlB,EAAQ,QAClDsC,EAAatC,EAAQ,IAEvB,OADcttE,EAAIwuE,EACN,EACH,KAAK,KAAKxuE,EAAI,CAAC,EAEjBwuE,EAGX,OAAOxuE,CACT,CACA,IAAI6vE,GAAc,cAAc/tD,CAAM,CACpC,aAAc,CACZ,MAAM,CAAE,KAAM,kBAAmB,CAAC,EAClC,KAAK,MAAQ,IAAIoH,GACjB,KAAK,KAAO,IAAI6M,GAChB,KAAK,QAAU,IAAIuoC,GACnB,KAAK,YAAc,GACnB,KAAK,SAAW,EAChB,KAAM,CAAE,OAAAhnC,EAAQ,MAAAxI,EAAO,KAAA7J,CAAK,EAAI,KAChC6J,EAAM,aAAe,SACrBA,EAAM,SAAW,GACjBA,EAAM,WAAa,sBACnBA,EAAM,KAAO,QACbA,EAAM,EAAI,EACV,KAAK,OAAO,CAAC7J,EAAMqS,EAAQxI,CAAK,CAAC,EACjC,KAAK,OAAO,CACd,CACA,IAAI,OAAO54C,EAAO,CACZ,KAAK,UAAYA,IACnB,KAAK,YAAY,KAAK,OAAO,EAC7B,KAAK,QAAUA,EACf,KAAK,YAAYA,CAAK,EACtB,KAAK,OAAO,EAEhB,CACA,IAAI,QAAS,CACX,OAAO,KAAK,OACd,CACA,IAAI,WAAWA,EAAO,CAChB,KAAK,cAAgBA,IACvB,KAAK,YAAcA,EACnB,KAAK,OAAO,EAEhB,CACA,IAAI,YAAa,CACf,OAAO,KAAK,WACd,CACA,IAAI,QAAQA,EAAO,CACb,KAAK,WAAaA,IACpB,KAAK,SAAWA,EAChB,KAAK,OAAO,EAEhB,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,QACd,CACA,sBAAsB45F,EAAM,CAC1B,MAAMxxF,EAAU,KAAK,OAAO,KAAO,EAAIwxF,EACvC,KAAK,KAAK,GAAK,CAACxxF,EAChB,KAAK,KAAK,GAAKA,EACf,KAAK,KAAK,GAAK,EACf,KAAK,KAAK,GAAK,EACf,KAAK,KAAK,mBAAmB,EAC7B,KAAK,OAAO,CACd,CACA,QAAS,CACP,KAAM,CAAE,WAAAyxF,CAAW,EAAI,KACjB3S,EAAS,KAAK,OAAO,YAAY,OACvC,KAAK,OAAO,KAAO2S,EACnB,KAAK,OAAO,GAAK3S,EAAO,EAAI,IAAO2S,EACnC,KAAK,OAAO,GAAK3S,EAAO,EAAI,IAAO2S,EACnC,MAAMC,EAAU,KAAK,KAAK,QAAU,KAAK,KAAK,GAAK,KAC7CC,EAAYF,EAAa,EAC/B,KAAK,MAAM,EAAI,KAAK,IAAIC,EAASC,CAAS,EAAI,KAAK,OACrD,CACA,OAAO1oE,EAAW,CAChB,KAAK,OAAO,QAAU,KAAK,QAC3B,KAAK,MAAM,QAAU,KAAK,QAC1B,KAAK,KAAK,QAAU,KAAK,QACzB,MAAM,OAAOA,CAAS,CACxB,CACF,EACAsoE,GAAY,UAAY,cACxB52F,EAAiB,CACfo/C,GAAqB,OAAO,CAC9B,EAAGw3C,GAAY,UAAW,OAAQ,CAAC,EACnC52F,EAAiB,CACfo/C,GAAqB,OAAO,CAC9B,EAAGw3C,GAAY,UAAW,YAAa,CAAC,EACxC52F,EAAiB,CACfo/C,GAAqB,OAAO,CAC9B,EAAGw3C,GAAY,UAAW,aAAc,CAAC,EACzC52F,EAAiB,CACfo/C,GAAqB,OAAO,CAC9B,EAAGw3C,GAAY,UAAW,WAAY,CAAC,EACvC52F,EAAiB,CACfo/C,GAAqB,OAAO,CAC9B,EAAGw3C,GAAY,UAAW,aAAc,CAAC,EACzC52F,EAAiB,CACfo/C,GAAqB,QAAS,MAAM,CACtC,EAAGw3C,GAAY,UAAW,QAAS,CAAC,EACpC52F,EAAiB,CACfo/C,GAAqB,SAAU,MAAM,CACvC,EAAGw3C,GAAY,UAAW,aAAc,CAAC,EACzC52F,EAAiB,CACfo/C,GAAqB,SAAU,QAAQ,CACzC,EAAGw3C,GAAY,UAAW,eAAgB,CAAC,EAC3C52F,EAAiB,CACfo/C,GAAqB,SAAU,aAAa,CAC9C,EAAGw3C,GAAY,UAAW,oBAAqB,CAAC,EAChD52F,EAAiB,CACfo/C,GAAqB,SAAU,aAAa,CAC9C,EAAGw3C,GAAY,UAAW,oBAAqB,CAAC,EAChD52F,EAAiB,CACfo/C,GAAqB,SAAU,eAAe,CAChD,EAAGw3C,GAAY,UAAW,sBAAuB,CAAC,EAClD52F,EAAiB,CACfo/C,GAAqB,SAAU,SAAS,CAC1C,EAAGw3C,GAAY,UAAW,gBAAiB,CAAC,EAC5C52F,EAAiB,CACfo/C,GAAqB,OAAQ,QAAQ,CACvC,EAAGw3C,GAAY,UAAW,aAAc,CAAC,EACzC52F,EAAiB,CACfo/C,GAAqB,OAAQ,aAAa,CAC5C,EAAGw3C,GAAY,UAAW,kBAAmB,CAAC,EAC9C52F,EAAiB,CACfo/C,GAAqB,OAAQ,eAAe,CAC9C,EAAGw3C,GAAY,UAAW,oBAAqB,CAAC,EAChD52F,EAAiB,CACfo/C,GAAqB,OAAQ,UAAU,CACzC,EAAGw3C,GAAY,UAAW,eAAgB,CAAC,EAC3C52F,EAAiB,CACfo/C,GAAqB,OAAQ,SAAS,CACxC,EAAGw3C,GAAY,UAAW,cAAe,CAAC,EAC1C,IAAIK,GAAkB,cAAc5lF,EAAe,CACjD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,QACb,KAAK,UAAY,OACjB,KAAK,WAAa,OAClB,KAAK,SAAW,GAChB,KAAK,WAAa,qBACpB,CACF,EACArR,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAG66D,GAAgB,UAAW,QAAS,CAAC,EACxCj3F,EAAiB,CACf25B,EAASqD,GAAY,CAAE,SAAU,EAAK,CAAC,CACzC,EAAGi6D,GAAgB,UAAW,YAAa,CAAC,EAC5Cj3F,EAAiB,CACf25B,EAASsD,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGg6D,GAAgB,UAAW,aAAc,CAAC,EAC7Cj3F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG47D,GAAgB,UAAW,WAAY,CAAC,EAC3Cj3F,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGg8D,GAAgB,UAAW,aAAc,CAAC,EAC7C,IAAIC,GAAwB,cAAc7lF,EAAe,CACvD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,GACZ,KAAK,KAAO,OACZ,KAAK,YAAc,OACnB,KAAK,OAAS,OACd,KAAK,YAAc,EACnB,KAAK,cAAgB,CACvB,CACF,EACArR,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG67D,GAAsB,UAAW,OAAQ,CAAC,EAC7Cl3F,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAG86D,GAAsB,UAAW,OAAQ,CAAC,EAC7Cl3F,EAAiB,CACf25B,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAG47D,GAAsB,UAAW,cAAe,CAAC,EACpDl3F,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAG86D,GAAsB,UAAW,SAAU,CAAC,EAC/Cl3F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG67D,GAAsB,UAAW,cAAe,CAAC,EACpDl3F,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAG47D,GAAsB,UAAW,gBAAiB,CAAC,EACtD,IAAIC,GAAmB,cAAc9lF,EAAe,CAClD,YAAYuc,EAAQ,CAClB,MAAM,EACN,KAAK,OAASA,EACd,KAAK,MAAQk4D,GACb,KAAK,KAAO,GACZ,KAAK,QAAU,CACjB,CACF,EACA9lF,EAAiB,CACfu/C,GAAY,CACV,aAAc,CACR,KAAK,OAAO,SAAW,MACzB,KAAK,OAAO,oBAAoB,CAEpC,CACF,CAAC,CACH,EAAG43C,GAAiB,UAAW,QAAS,CAAC,EACzCn3F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG87D,GAAiB,UAAW,OAAQ,CAAC,EACxCn3F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG87D,GAAiB,UAAW,UAAW,CAAC,EAC3C,IAAIC,GAAa,cAAc/lF,EAAe,CAC5C,YAAYgmF,EAAqBC,EAAoBztB,EAAe0tB,EAAe,CACjF,MAAM,EACN,KAAK,oBAAsBF,EAC3B,KAAK,mBAAqBC,EAC1B,KAAK,cAAgBztB,EACrB,KAAK,cAAgB0tB,EACrB,KAAK,GAAK5xE,GAAS,IAAI,EACvB,KAAK,OAAS,IAAIwxE,GAAiB,IAAI,EACvC,KAAK,YAAc,IAAID,GACvB,KAAK,cAAgB,IAAIA,GACzB,KAAK,eAAiB,IAAIA,GAC1B,KAAK,MAAQ,IAAID,GACjB,KAAK,MAAQ,IAAIpuD,EAAM,CAAE,KAAM,YAAa,CAAC,EAC7C,KAAK,UAAY,IAAIoH,GACrB,KAAK,WAAa,CAAC,EACnB,KAAK,WAAa,EAClB,KAAK,YAAc,EACnB,KAAK,aAAe,EACpB,KAAK,aAAe,EACpB,KAAK,mBAAqB,GAC1B,KAAK,uBAAyB,GAC9B,KAAK,SAAW,GAChB,KAAK,SAAW,GAChB,KAAK,aAAe,WACpB,KAAK,YAAc,IAAI61C,GACvB,KAAK,gBAAkB,IAAIA,GAC3B,KAAK,UAAU,cAAc,CAC3B,aAAc,SACd,SAAU,GACV,WAAY,sBACZ,KAAM,QACN,EAAG,CACL,CAAC,EACD,KAAK,MAAM,OAAO,CAAC,KAAK,WAAY,KAAK,eAAgB,KAAK,SAAS,CAAC,EACxE,MAAM/iC,EAAS,KAAK,cAAc,UAAU,aAAc,KAAK,KAAK,EACpE,KAAK,WAAW,KACdA,EAAO,YAAY,QAAUlM,GAAU,KAAK,kBAAkBA,CAAK,CAAC,EACpEkM,EAAO,YAAY,QAAUlM,GAAU,KAAK,sBAAsBA,CAAK,CAAC,CAC1E,EACA,KAAK,OAAO,EACZ,KAAK,cAAc,CACrB,CACA,SAAU,CACR,KAAK,WAAW,QAASjsB,GAAMA,EAAE,CAAC,CACpC,CACA,IAAI,QAAQ3tB,EAAO,CACjB,KAAK,SAAWA,EAChB,KAAK,sBAAsB,CAC7B,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,QACd,CACA,IAAI,QAAQA,EAAO,CACjB,KAAK,SAAWA,EAChB,KAAK,sBAAsB,CAC7B,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,QACd,CACA,uBAAwB,CACtB,KAAK,MAAM,QAAU,KAAK,SAAW,KAAK,OAC5C,CACA,IAAI,YAAYA,EAAO,CAErB,OADA,KAAK,aAAeA,EACZA,EAAO,CACb,IAAK,aAAc,CACjB,KAAK,eAAe,SAAW,CAAC,KAAK,GAAK,EAC1C,KAAK,WAAW,SAAW,KAAK,GAAK,EACrC,KACF,CACA,IAAK,WACL,QACE,KAAK,eAAe,SAAW,EAC/B,KAAK,WAAW,SAAW,KAAK,EAEpC,CACF,CACA,IAAI,aAAc,CAChB,OAAO,KAAK,YACd,CACA,IAAI,WAAWA,EAAO,CAChB,KAAK,cAAgBA,IACvB,KAAK,MAAM,YAAY,KAAK,WAAW,EACvC,KAAK,YAAcA,EACnB,KAAK,MAAM,YAAYA,CAAK,EAEhC,CACA,IAAI,YAAa,CACf,OAAO,KAAK,WACd,CACA,IAAI,eAAeA,EAAO,CACpB,KAAK,kBAAoBA,IAC3B,KAAK,MAAM,YAAY,KAAK,eAAe,EAC3C,KAAK,gBAAkBA,EACvB,KAAK,MAAM,YAAYA,CAAK,EAEhC,CACA,IAAI,gBAAiB,CACnB,OAAO,KAAK,eACd,CACA,QAAS,CACP,KAAK,YAAY,EACjB,KAAK,gBAAgB,EACrB,KAAK,uBAAuB,CAC9B,CACA,iBAAkB,CAChB,KAAK,MAAM,aAAe,KAAK,aAC/B,KAAK,MAAM,aAAe,KAAK,aAC/B,KAAK,oBAAoB,EACzB,KAAK,yBAAyB,CAChC,CACA,qBAAsB,CACpB,KAAM,CAAE,KAAM65F,EAAY,QAASU,CAAc,EAAI,KAAK,OAC1D,KAAK,WAAW,KAAOV,EACvB,KAAK,eAAe,KAAOA,EAC3B,KAAK,UAAU,EAAIA,EAAa,EAAIU,CACtC,CACA,0BAA2B,CACzB,MAAMC,EAAY,KAAK,UAAU,YAAY,EAC7C,KAAK,WAAW,aAAeA,EAAU,EAAIA,EAAU,MAAQ,KAAK,OAAO,KAAO,EAAI,KAAK,OAAO,OACpG,CACA,aAAc,CACZ,KAAM,CACJ,YAAAC,EACA,WAAYC,EACZ,UAAAC,EACA,MAAO,CAAE,MAAAvlE,EAAO,UAAA+d,EAAW,WAAAC,EAAY,SAAA7B,EAAU,WAAA2B,CAAW,CAC9D,EAAI,KACJynD,EAAU,KAAO,GAAGF,EAAc,CAAC,MAAMC,CAAK,GAC9CC,EAAU,KAAOvlE,EACjBulE,EAAU,UAAYxnD,EACtBwnD,EAAU,WAAavnD,EACvBunD,EAAU,SAAWppD,EACrBopD,EAAU,WAAaznD,CACzB,CACA,eAAgB,CACd,KAAM,CACJ,WAAA0nD,EACA,eAAAC,EACA,mBAAAC,EACA,uBAAAC,EACA,YAAA7kB,EACA,cAAA8kB,EACA,eAAAC,EACA,gBAAAC,CACF,EAAI,KACEC,EAAc,CAACC,EAAQC,IACvBA,EACKL,EACEI,IAAWF,EACbD,EAEF/kB,EAET,KAAK,aAAa0kB,EAAYO,EAAY,OAAQL,CAAkB,CAAC,EACrE,KAAK,aAAaD,EAAgBM,EAAY,WAAYJ,CAAsB,CAAC,CACnF,CACA,aAAa35C,EAAQ3+B,EAAO,CAC1B,IAAI7a,EACJ,KAAM,CAAE,KAAA0Z,CAAK,EAAI,KAAK,OACtB8/B,EAAO,KAAO9/B,EACd8/B,EAAO,KAAO3+B,EAAM,KACpB2+B,EAAO,aAAex5C,EAAK6a,EAAM,cAAgB,KAAO7a,EAAK,EAC7Dw5C,EAAO,OAAS3+B,EAAM,OACtB2+B,EAAO,YAAc3+B,EAAM,YAC3B2+B,EAAO,cAAgB3+B,EAAM,aAC/B,CACA,wBAAyB,CACvB,KAAM,CAAE,YAAAg4E,EAAa,WAAAa,CAAW,EAAI,KAC9BC,EAAqBD,IAAe,EACpCE,EAAaf,IAAgBa,EAAa,EAC1CG,EAAchB,IAAgB,EACpC,KAAK,mBAAqBe,GAAcD,EACxC,KAAK,uBAAyBE,GAAeF,CAC/C,CACA,wBAAwBt1C,EAAS5W,EAAS,CACxC,MAAO,CAAC,KAAK,oBAAsB,KAAK,WAAW,cAAc4W,EAAS5W,CAAO,CACnF,CACA,4BAA4B4W,EAAS5W,EAAS,CAC5C,MAAO,CAAC,KAAK,wBAA0B,KAAK,eAAe,cAAc4W,EAAS5W,CAAO,CAC3F,CACA,WAAY,CACV,KAAK,cAAc,EACnB,KAAK,oBAAoB,CAC3B,CACA,eAAgB,CACd,KAAK,cAAc,EACnB,KAAK,oBAAoB,CAC3B,CACA,QAAQqsD,EAAY,CAClBA,EAAa1yE,GAAM,EAAG0yE,EAAY,KAAK,WAAa,CAAC,EACjD,KAAK,cAAgBA,IACvB,KAAK,YAAcA,EACnB,KAAK,oBAAoB,EAE7B,CACA,kBAAkB9hD,EAAO,CACvB,KAAM,CAAE,QAAAqM,EAAS,QAAA5W,CAAQ,EAAIuK,EACzB,KAAK,wBAAwBqM,EAAS5W,CAAO,GAC/C,KAAK,UAAU,EACfuK,EAAM,QAAQ,GACL,KAAK,4BAA4BqM,EAAS5W,CAAO,IAC1D,KAAK,cAAc,EACnBuK,EAAM,QAAQ,EAElB,CACA,sBAAsBA,EAAO,CAC3B,KAAM,CAAE,QAAAqM,EAAS,QAAA5W,CAAQ,EAAIuK,EACzB,KAAK,wBAAwBqM,EAAS5W,CAAO,GAC/C,KAAK,cAAc,aAAa,KAAK,GAAI,SAAS,EAClD,KAAK,gBAAkB,QACd,KAAK,4BAA4B4W,EAAS5W,CAAO,GAC1D,KAAK,cAAc,aAAa,KAAK,GAAI,SAAS,EAClD,KAAK,gBAAkB,aAEvB,KAAK,cAAc,aAAa,KAAK,EAAE,EACvC,KAAK,gBAAkB,QAEzB,KAAK,cAAc,EACnB,KAAK,oBACH,CAEF,CACF,CACA,qBAAsB,CACpB,KAAK,mBAAmB,KAAK,WAAW,CAC1C,CACA,eAAgB,CACd,KAAK,YAAc,KAAK,IAAI,KAAK,YAAc,EAAG,KAAK,WAAa,CAAC,CACvE,CACA,eAAgB,CACd,KAAK,YAAc,KAAK,IAAI,KAAK,YAAc,EAAG,CAAC,CACrD,CACA,qBAAsB,CACpB,MAAMssD,EAAUzS,GAAU,KAAK,OAAO,OAASL,EAAQ,EACvD,KAAK,eAAiB,IAAI8S,EAC1B,KAAK,WAAa,IAAIA,EACtB,KAAK,gBAAgB,EACrB,KAAK,cAAc,EACnB,KAAK,oBACH,CAEF,CACF,CACA,iBAAiB/lF,EAAM,CACrBA,EAAK,OAAO,KAAK,KAAK,CACxB,CACA,aAAc,CACZ,OAAO,KAAK,MAAM,YAAY,CAChC,CACF,EACAukF,GAAW,UAAY,aACvBp3F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGw8D,GAAW,UAAW,SAAU,CAAC,EACpCp3F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGw8D,GAAW,UAAW,cAAe,CAAC,EACzCp3F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGw8D,GAAW,UAAW,gBAAiB,CAAC,EAC3Cp3F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGw8D,GAAW,UAAW,iBAAkB,CAAC,EAC5Cp3F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGw8D,GAAW,UAAW,QAAS,CAAC,EACnC,IAAIyB,GAAc,cAAcxnF,EAAe,CAC7C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,OACjB,KAAK,MAAQ,QACb,KAAK,UAAY,OACjB,KAAK,WAAa,OAClB,KAAK,SAAW,GAChB,KAAK,WAAa,sBAClB,KAAK,UAAY,MACnB,CACF,EACArR,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGw9D,GAAY,UAAW,YAAa,CAAC,EACxC74F,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAGy8D,GAAY,UAAW,QAAS,CAAC,EACpC74F,EAAiB,CACf25B,EAASqD,GAAY,CAAE,SAAU,EAAK,CAAC,CACzC,EAAG67D,GAAY,UAAW,YAAa,CAAC,EACxC74F,EAAiB,CACf25B,EAASsD,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAG47D,GAAY,UAAW,aAAc,CAAC,EACzC74F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGw9D,GAAY,UAAW,WAAY,CAAC,EACvC74F,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG49D,GAAY,UAAW,aAAc,CAAC,EACzC74F,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAG69D,GAAY,UAAW,YAAa,CAAC,EACxC,IAAIC,GAAe,cAAcznF,EAAe,CAC9C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,GACZ,KAAK,QAAU,EACf,KAAK,QAAU,EACjB,CACF,EACArR,EAAiB,CACf2/C,GAAgBniD,GAAW,CACzB,IAAIqH,EACJ,OAAQA,EAAKrH,EAAO,SAAW,KAAO,OAASqH,EAAG,oBAAoB,CACxE,CAAC,CACH,EAAGi0F,GAAa,UAAW,QAAS,CAAC,EACrC94F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGy9D,GAAa,UAAW,OAAQ,CAAC,EACpC94F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGy9D,GAAa,UAAW,UAAW,CAAC,EACvC94F,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGy9D,GAAa,UAAW,cAAe,CAAC,EAC3C94F,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG+9D,GAAa,UAAW,UAAW,CAAC,EACvC,IAAIC,GAAa,cAAc1nF,EAAe,CAC9C,EACArR,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAG09D,GAAW,UAAW,cAAe,CAAC,EACzC/4F,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAG09D,GAAW,UAAW,SAAU,CAAC,EACpC,IAAIC,GAAa,cAAc3nF,EAAe,CAC5C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,SAAW,GAChB,KAAK,SAAW,EAChB,KAAK,oBAAsB,GAC3B,KAAK,iBAAmB,GACxB,KAAK,OAAS,IAAIynF,GAClB,KAAK,MAAQ,IAAID,GACjB,KAAK,KAAO,IAAIE,EAClB,CACF,EACA/4F,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAG29D,GAAW,UAAW,WAAY,CAAC,EACtCh5F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG29D,GAAW,UAAW,WAAY,CAAC,EACtCh5F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG29D,GAAW,UAAW,WAAY,CAAC,EACtCh5F,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGi+D,GAAW,UAAW,sBAAuB,CAAC,EACjDh5F,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGi+D,GAAW,UAAW,mBAAoB,CAAC,EAC9Ch5F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGo+D,GAAW,UAAW,SAAU,CAAC,EACpCh5F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGo+D,GAAW,UAAW,QAAS,CAAC,EACnCh5F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGo+D,GAAW,UAAW,OAAQ,CAAC,EAClC,IAAIC,GAAkB,cAAc5nF,EAAe,CACnD,EACArR,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAGi+D,GAAgB,UAAW,kBAAmB,CAAC,EAClDj5F,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAGi+D,GAAgB,UAAW,wBAAyB,CAAC,EACxD,IAAIC,GAAS,cAAc7nF,EAAe,CACxC,YAAYqa,EAAK,CACf,MAAM,EACN,KAAK,IAAMA,EACX,KAAK,GAAK/F,GAAS,IAAI,EACvB,KAAK,MAAQ,IAAIkjB,EAAM,CACrB,KAAM,SACN,MAAO,GACP,OAAQ,EAEV,CAAC,EACD,KAAK,cAAgBqS,GAAU,OAAO,KAAK,MAAO07C,EAAW,EAC7D,KAAK,QAAU,CAAC,EAAG,CAAC,EACpB,KAAK,MAAQ,CAAC,EACd,KAAK,YAAc,CAAC,EAAG,CAAC,EACxB,KAAK,wBAA0B,EAC/B,KAAK,eAAiC,IAAI,IAC1C,KAAK,MAAQ,CAAC,EACd,KAAK,KAAO,IAAIoC,GAChB,KAAK,UAAY,IAAIC,GACrB,KAAK,QAAU,GACf,KAAK,SAAW,SAChB,KAAK,QAAU,GACf,KAAK,gBAAkC,IAAI,IAC3C,KAAK,WAAa,CAAC,EACnB,KAAK,KAAO,CAAC,EAAG,CAAC,EACjB,KAAK,SAAW,GAChB,KAAK,MAAQ,CAAE,KAAM,OAAQ,MAAO,CAAE,EACtC,KAAK,KAAK,OAAO,OAAS,KAC1B,KAAK,WAAa,IAAI7B,GACnBnoF,GAASyc,EAAI,cAAc,OAAOzc,CAAI,EACtCkqF,GAAS,KAAK,iBAAiBA,CAAI,EACpCztE,EAAI,cACJA,EAAI,aACN,EACA,KAAK,WAAW,iBAAiB,KAAK,KAAK,EAC3C,KAAK,KAAK,OAAO,OAAS,KAC1B,MAAM0tE,EAAiB,GACjBr2C,EAASr3B,EAAI,cAAc,wBAAwB,CACvD,KAAM,SACN,cAAe,CAAC,KAAK,KAAK,EAC1B,eAAgB,IAAM,KAAK,SAAW,KAAK,MAAM,OACnD,CAAC,EACD,KAAK,WAAW,KACdq3B,EAAO,YAAY,QAAUriD,GAAM,KAAK,iBAAiBA,CAAC,EAAG04F,CAAc,EAC3Er2C,EAAO,YAAY,WAAariD,GAAM,KAAK,uBAAuBA,CAAC,EAAG04F,CAAc,EACpFr2C,EAAO,YAAY,QAAUriD,GAAM,KAAK,sBAAsBA,CAAC,CAAC,EAChEqiD,EAAO,YAAY,QAAUriD,GAAM,KAAK,sBAAsBA,CAAC,EAAG04F,CAAc,EAChFr2C,EAAO,YAAY,QAAUriD,GAAM,KAAK,uBAAuBA,CAAC,EAAG04F,CAAc,EACjFr2C,EAAO,YAAY,OAASriD,GAAM,KAAK,OAAOA,CAAC,CAAC,EAChDqiD,EAAO,YAAY,MAAQriD,GAAM,KAAK,MAAMA,CAAC,CAAC,EAC9CqiD,EAAO,YAAY,YAAcriD,GAAM,KAAK,WAAWA,CAAC,CAAC,EACzDqiD,EAAO,YAAY,WAAariD,GAAM,KAAK,MAAMA,CAAC,CAAC,EACnDqiD,EAAO,YAAY,WAAariD,GAAM,KAAK,MAAMA,CAAC,CAAC,EACnDqiD,EAAO,YAAY,SAAWriD,GAAM,KAAK,SAASA,CAAC,CAAC,EACpDgrB,EAAI,cAAc,YAAY,eAAiBhrB,GAAM,KAAK,eAAeA,EAAE,UAAU,CAAC,EACtF,IAAM,KAAK,aAAa,CAC1B,CACF,CACA,IAAI,KAAKzD,EAAO,CACd,KAAK,MAAQA,EACb,KAAK,sBAAsB,CAC7B,CACA,IAAI,MAAO,CACT,OAAO,KAAK,KACd,CACA,SAAU,CACR,KAAK,WAAW,QAAS2tB,GAAMA,EAAE,CAAC,EAClC,KAAK,WAAW,QAAQ,CAC1B,CACA,qBAAsB,CACpB,KAAK,cAAc,MAAM,EACzB,KAAK,MAAM,UACT,KAAK,MACL,CAEF,CACF,CACA,gBAAiB,CACf,GAAI,KAAK,cAAgB,OACvB,OAAO,KAAK,YAEd,OAAQ,KAAK,SAAU,CACrB,IAAK,QACL,IAAK,OACH,MAAO,WACT,IAAK,SACL,IAAK,MACH,MAAO,YACX,CACF,CACA,mBAAmBklB,EAAM,CACvB,KAAM,CAAE,gBAAAupD,CAAgB,EAAI,KAC5B,GAAIA,EAAgB,IAAIvpD,CAAI,EAC1B,OAAOupD,EAAgB,IAAIvpD,CAAI,EAEjC,MAAMwpD,EAAK,CACT,MAAOrpD,GAAK,YAAY,MAAOH,CAAI,EAAE,KACvC,EACA,OAAAupD,EAAgB,IAAIvpD,EAAMwpD,CAAE,EACrBA,CACT,CACA,IAAI,QAAQr8F,EAAO,CACjB,KAAK,SAAWA,EAChB,KAAK,sBAAsB,CAC7B,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,QACd,CACA,uBAAwB,CACtB,KAAK,MAAM,QAAU,KAAK,SAAW,KAAK,SAAW,KAAK,KAAK,OAAS,CAC1E,CACA,aAAaokE,EAAO,CAClBA,EAAM,YAAY,KAAK,KAAK,CAC9B,CACA,cAAe,CACb,IAAIx8D,GACHA,EAAK,KAAK,MAAM,SAAW,MAAgBA,EAAG,YAAY,KAAK,KAAK,CACvE,CACA,aAAa0oB,EAAO,CAClB,KAAM,CACJ,IAAK,CAAE,cAAA44B,CAAc,CACvB,EAAI,KACE,CAAE,UAAAvkB,CAAU,EAAI,KAAK,KAAK,MAChC,OAAIA,EACKukB,EAAc,KAAKvkB,EAAW,CACnC,OAAQrU,EAAM,OACd,MAAOA,EAAM,MAAM,KACnB,SAAUA,EAAM,QAClB,CAAC,EAEIA,EAAM,MAAM,IACrB,CAaA,WAAWtF,EAAOC,EAAQ,CACxB,KAAM,CACJ,SAAAqxE,EACA,SAAAC,EACA,MAAA3jD,EACA,SAAArJ,EACA,OAAQ,CAAE,KAAMsqD,EAAY,QAASU,EAAe,MAAOiC,CAAY,EACvE,MAAO,CAAE,UAAAv/D,EAAY,IAAU,UAAAkW,EAAW,WAAAC,EAAY,SAAA7B,EAAU,WAAA2B,CAAW,EAC3E,KAAMupD,EACN,iBAAAC,CACF,EAAI,KAAK,KACH3lF,EAAO,CAAC,GAAG,KAAK,IAAI,EACtB,KAAK,cACPA,EAAK,QAAQ,EAEf,KAAK,cAAc,OAAOA,CAAI,EAC9B,MAAMggF,EAAS,CAAC,EACVlkD,EAAOnE,GAAQkK,CAAK,EAEpB+jD,EAAeptD,GAA8BvkB,EADpB,GAEzB4xE,EAAoB/C,EAAaU,EAAgB+B,EA8BvD,GA7BA,KAAK,cAAc,KAAK,CAACO,EAAavsE,IAAU,CAC9C,IAAI1oB,EAAIiL,EAAIC,EACZ,MAAM6oF,EAAUzS,GAAUsT,GAAoClsE,EAAM,OAAO,KAAK,EAC1EwsE,GAAiBl1F,EAAK0oB,EAAM,OAAO,UAAY,KAAO1oB,EAAK,KAAK,KAAK,OAAO,QAC5Ei1F,EAAY,QAAUA,EAAY,kBAAkBlB,IACxDkB,EAAY,OAAS,IAAIlB,GAE3BkB,EAAY,WAAahD,EACzBgD,EAAY,QAAUtC,EACtBsC,EAAY,UAAY1pD,EACxB0pD,EAAY,WAAazpD,EACzBypD,EAAY,SAAWtrD,EACvBsrD,EAAY,WAAa3pD,EACzB,MAAMvZ,IAAM9mB,EAAKyd,EAAM,SAAW,KAAOzd,EAAKyd,EAAM,GAC9CysE,GAAY,KAAK,aAAazsE,CAAK,EACnCgf,IAAQytD,IAAgC,aAAa,QAAQ,SAAU,GAAG,EAChFF,EAAY,KAAO,KAAK,SAASvtD,GAAMrS,EAAW0/D,EAAcC,EAAmB/pD,EAAMlZ,EAAE,EACvF+iE,GAAoBpsE,EAAM,OAAS,QACrCusE,EAAY,YAAc,GAC1BA,EAAY,cAAgBC,EAC5BD,EAAY,uBAAuB/pF,EAAK2pF,EAAS,SAAW,KAAO3pF,EAAK,CAAC,IAEzE+pF,EAAY,YAAc,GAC1BA,EAAY,cAAgB,IAE9B9F,EAAO,KAAK8F,EAAY,YAAY,CAAC,CACvC,CAAC,EACD7xE,EAAQ,KAAK,IAAI,EAAGA,CAAK,EACzBC,EAAS,KAAK,IAAI,EAAGA,CAAM,EACvB,CAAC,SAASD,CAAK,EACjB,MAAO,GAET,MAAM1J,EAAO,KAAK,KACZ07E,EAAU,KAAK,QACrB17E,EAAK,CAAC,EAAI0J,EACV1J,EAAK,CAAC,EAAI2J,GACN3J,EAAK,CAAC,IAAM07E,EAAQ,CAAC,GAAK17E,EAAK,CAAC,IAAM07E,EAAQ,CAAC,KACjDA,EAAQ,CAAC,EAAI17E,EAAK,CAAC,EACnB07E,EAAQ,CAAC,EAAI17E,EAAK,CAAC,GAErB,KAAM,CAAE,MAAAo5E,EAAO,cAAA9B,EAAe,aAAAD,CAAa,EAAI,KAAK,iBAAiB5B,EAAQ/rE,EAAOC,CAAM,EAC1F,KAAK,MAAQyvE,EACb,KAAK,YAAc,CAAC/B,EAAe2D,EAAU1D,EAAgB2D,CAAQ,EACrE,MAAMb,EAAa,KAAK,WAAW,YAC7BQ,EAAO,KAAK,MAAMR,CAAU,EAClC,GAAI,KAAK,MAAM,OAAS,GAAK,CAACQ,EAAM,CAClC,KAAK,QAAU,GACf,MACF,CACA,KAAK,QAAU,GACf,KAAK,gBAAgBR,CAAU,EAC/B,KAAK,OAAO,CACd,CACA,SAASpsD,EAAM2tD,EAAeN,EAAcC,EAAmB/pD,EAAMlZ,EAAI,CACvE,MAAMujE,EAAY,MACZC,EAAY7tD,EAAK,MAAM,EAAE,EAC/B,IAAI8tD,EAAc,GAMlB,GALI9tD,EAAK,OAAS2tD,IAChB3tD,EAAO,GAAGA,EAAK,UAAU,EAAG2tD,CAAa,CAAC,GAC1CG,EAAc,IAEG,KAAK,MAAMR,EAAoB5pD,GAAK,YAAY1D,EAAMuD,CAAI,EAAE,KAAK,EACnE8pD,EAAc,CAC7B,IAAIU,EAAgB,GACpB,MAAMjB,EAAkB,KAAK,mBAAmBvpD,CAAI,EACpD,IAAIyqD,EAAkBV,EAAoBR,EAAgBc,CAAS,EACnE,UAAWK,KAAQJ,EAAW,CAK5B,GAJKf,EAAgBmB,CAAI,IACvBnB,EAAgBmB,CAAI,EAAIvqD,GAAK,YAAYuqD,EAAM1qD,CAAI,EAAE,OAEvDyqD,GAAmBlB,EAAgBmB,CAAI,EACnCD,EAAkBX,EACpB,MAEFU,GAAiBE,CACnB,CACAjuD,EAAO+tD,EACPD,EAAc,EAChB,CACA,OAAIA,GACF9tD,GAAQ4tD,EACR,KAAK,eAAe,IAAIvjE,CAAE,GAE1B,KAAK,eAAe,OAAOA,CAAE,EAExB2V,CACT,CACA,iBAAiBynD,EAAQ/rE,EAAOC,EAAQ,CACtC,MAAM6rE,EAAc,KAAK,eAAe,EAClC0G,EAAgB,KAAK,IAAI,KAAK,wBAAyBzG,EAAO,MAAM,EAC1E,KAAK,WAAW,YAAcD,EAC9B,KAAK,WAAW,aAAe,EAC/B,KAAK,WAAW,aAAe,EAC/B,KAAM,CAAE,MAAA4D,EAAO,cAAA9B,EAAe,aAAAD,EAAc,eAAA8E,EAAgB,mBAAAC,CAAmB,EAAI,KAAK,oBACtF3G,EACA/rE,EACAC,CACF,EACM0yE,EAAiBjD,EAAM,UAAW/nE,GAAMA,EAAE,UAAY6qE,CAAa,EACzE,KAAK,WAAW,YAAcx0E,GAAM,EAAG20E,EAAgBjD,EAAM,OAAS,CAAC,EACvE,KAAM,CAAE,SAAUzD,EAAc,SAAUD,CAAa,EAAI,KAAK,KAC1D4G,EAA6B,EAC7BC,EAAmBlF,EAAe1B,EAClC6G,EAAoBlF,EAAgB5B,EAC1C,IAAI+G,EAAc,EACdC,EAAc,CAACP,EAAe,EAAI,KAAK,KAAK,OAAO,KAAO,EAC9D,OAAIC,EACFM,GAAeF,EAAoBF,GAEnCG,GAAe,CAACN,EAAe,EAAII,EAAmBD,EACtDI,IAAgBF,EAAoBL,EAAe,QAAU,GAE/D,KAAK,WAAW,aAAeM,EAC/B,KAAK,WAAW,aAAeC,EAC/B,KAAK,WAAW,OAAO,EACvB,KAAK,WAAW,cAAc,EACvB,CACL,cAAApF,EACA,aAAAD,EACA,MAAA+B,CACF,CACF,CACA,oBAAoB3D,EAAQ/rE,EAAOC,EAAQ,CACzC,IAAIrjB,EAAIiL,EAAIC,EACZ,KAAM,CAAE,SAAUmkF,EAAc,SAAUD,CAAa,EAAI,KAAK,KAC1DF,EAAc,KAAK,eAAe,EAClC4G,EAAqB,CAAC,OAAQ,OAAO,EAAE,SAAS,KAAK,QAAQ,EACnE,IAAID,EAAiB,KAAK,WAAW,YAAY,EAC7CQ,EAAyB,IAAI/xE,EAAK,EAAG,EAAG,EAAG,CAAC,EAC5CwuE,EAAQ,CAAC,EACT/B,EAAe,EACfC,EAAgB,EAChB1yE,EAAQ,EACZ,MAAMg4E,EAAgBpwE,GACbA,EAAK,QAAU2vE,EAAe,OAAS3vE,EAAK,SAAW2vE,EAAe,OAEzEvG,EAAc,KAAK,WAAa,QAAU,KAAK,YAAc,OACnE,EAAG,CACD,GAAIhxE,IAAU,GAAI,CAChBlf,EAAO,KAAK,sCAAsC,EAClD,KACF,CACAy2F,EAAiBQ,EACjB,MAAM1uD,EAAWvkB,GAAS0yE,EAAqB,EAAID,EAAe,OAC5DjuD,EAAYvkB,GAAUyyE,EAAqBD,EAAe,OAAS,GACnEtsC,EAAS0lC,GAAW,CACxB,YAAAC,EACA,OAAAC,EACA,UAAAvnD,EACA,SAAAD,EACA,aAAAynD,EACA,aAAAC,EACA,YAAAC,CACF,CAAC,EACDwD,GAAS9yF,EAA+BupD,GAAO,QAAU,KAAOvpD,EAAK,CAAC,EACtE+wF,GAAgB9lF,EAA+Bs+C,GAAO,eAAiB,KAAOt+C,EAAK,EACnF+lF,GAAiB9lF,EAA+Bq+C,GAAO,gBAAkB,KAAOr+C,EAAK,EACrF,MAAMwoF,EAAaZ,EAAM,OAKzB,GAJA,KAAK,WAAW,QAAUY,EAAa,EACvC,KAAK,WAAW,WAAaA,EAC7B,KAAK,WAAW,OAAO,EACvB2C,EAAyB,KAAK,WAAW,YAAY,EACjD,CAAC,KAAK,WAAW,QACnB,KAEJ,OAAS,CAACC,EAAaD,CAAsB,GAC7C,MAAO,CAAE,aAAAtF,EAAc,cAAAC,EAAe,MAAA8B,EAAO,eAAA+C,EAAgB,mBAAAC,CAAmB,CAClF,CACA,iBAAiBhC,EAAY,CAC3B,IAAIx1E,EAAQ,EACZ,UAAWi4E,KAAO,KAAK,MAAMzC,CAAU,EAAE,QACvCx1E,GAASi4E,EAAI,QAAQ,OAEvB,OAAOj4E,CACT,CACA,4BAA6B,CAC3B,KAAM,CAAE,MAAA/Z,CAAM,EAAI,KAAK,MACjB+vF,EAAO,KAAK,MAAM,KAAK,WAAW,WAAW,EACnD,IAAIkC,EAAY,EAChB,UAAWD,KAAOjC,EAAK,QAAS,CAC9B,GAAI/vF,EAAQiyF,EAAYD,EAAI,QAAQ,OAClC,OAAOA,EAAI,QAAQhyF,EAAQiyF,CAAS,EAEpCA,GAAaD,EAAI,QAAQ,MAE7B,CACA,MAAO,EACT,CACA,gBAAgBzC,EAAa,EAAG,CAC9B,KAAM,CACJ,KAAM,CAAE,SAAAa,CAAS,EACjB,cAAA8B,EACA,MAAA3D,CACF,EAAI,KACJ,GAAIA,EAAM,OAAS,GAAK,CAACA,EAAMgB,CAAU,EACvC,OAEF,KAAM,CAAE,QAAA3C,EAAS,WAAYuF,EAAc,SAAUC,CAAW,EAAI7D,EAAMgB,CAAU,EACpF,IAAIt6F,EAAI,EACJ+oB,EAAI,EACR,MAAMq0E,EAAczF,EAAQ,OACtB0F,EAAW1F,EAAQ,CAAC,EAAE,QAAQ,OAC9B5B,EAAa,KAAK,eAAe,IAAM,aACvCuH,EAAa3F,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,OAASwD,EAC3CoC,EAAqB,CAAC,EAC5BN,EAAc,KAAK,CAACxB,EAAav4E,EAAG5jB,IAAM,CACxC,IAAIkH,EAAIiL,EACR,GAAInS,EAAI49F,GAAgB59F,EAAI69F,EAAY,CACtC1B,EAAY,QAAU,GACtB,MACF,CACA,MAAM+B,EAAYl+F,EAAI49F,EACtB,IAAIO,EAAc,EACdC,EAAW,EACX3H,GACF0H,EAAcD,EAAYJ,EAC1BM,EAAW,KAAK,MAAMF,EAAYJ,CAAW,IAE7CK,EAAc,KAAK,MAAMD,EAAYH,CAAQ,EAC7CK,EAAWF,EAAYH,GAEzB5B,EAAY,QAAU,GACtB,MAAMvD,EAASP,EAAQ8F,CAAW,EAC7BvF,IAGLnvE,EAAIu0E,EAAaI,EACjB19F,GAAKwG,EAAK+2F,EAAmBG,CAAQ,IAAM,KAAOl3F,EAAK,EACvD+2F,EAAmBG,CAAQ,IAAMjsF,EAAK8rF,EAAmBG,CAAQ,IAAM,KAAOjsF,EAAK,GAAKymF,EAAO,YAC/FuD,EAAY,aAAe,KAAK,MAAMz7F,CAAC,EACvCy7F,EAAY,aAAe,KAAK,MAAM1yE,CAAC,EACzC,CAAC,CACH,CACA,iBAAiBuxE,EAAY,CAC3B,KAAM,CAAE,MAAAhB,CAAM,EAAI,KACZ,CAAE,WAAAqE,EAAY,SAAAjG,CAAS,EAAI4B,EAAMgB,CAAU,EAC7CqD,IAAe,EACjB,KAAK,wBAA0B,EACtBrD,IAAehB,EAAM,OAAS,EACvC,KAAK,wBAA0B5B,EAE/B,KAAK,wBAA0B,KAAK,OAAOiG,EAAajG,GAAY,CAAC,EAEvE,KAAK,WAAW,OAAO,EACvB,KAAK,WAAW,cAAc,EAC9B,KAAK,gBAAgB4C,CAAU,EAC/B,KAAK,IAAI,cAAc,OACrB,CAEF,CACF,CACA,QAAS,CACP,KAAM,CACJ,MAAO,CAAE,MAAAtmE,CAAM,EACf,OAAQ4pE,EACR,KAAMvC,EACN,iBAAAC,CACF,EAAI,KAAK,KACT,KAAK,cAAc,KAAK,CAACG,EAAavsE,IAAU,CAC9C,IAAI1oB,EAAIiL,EACR,MAAMuuC,EAAS9wB,EAAM,OACrBusE,EAAY,WAAaz7C,EAAO,KAChCy7C,EAAY,aAAez7C,EAAO,OAClCy7C,EAAY,mBAAqBj1F,EAAKo3F,EAAW,cAAgB,KAAOp3F,EAAK,KAAK,IAAI,EAAGw5C,EAAO,WAAW,EAC3Gy7C,EAAY,kBAAoBz7C,EAAO,YACvCy7C,EAAY,oBAAsBz7C,EAAO,cACzCy7C,EAAY,QAAUvsE,EAAM,QAAU,EAAI,GAC1CusE,EAAY,MAAQznE,EACpB,KAAM,CAAE,KAAA2Z,CAAK,EAAIze,EACbosE,GAAoB3tD,IAAS,SAC/B8tD,EAAY,WAAa9tD,EAAK,OAC9B8tD,EAAY,kBAAoB9tD,EAAK,cACrC8tD,EAAY,iBAAmBhqF,EAAK4pF,EAAS,cAAgB,KAAO5pF,EAAK,KAAK,IAAI,EAAGk8B,EAAK,WAAW,EACrG8tD,EAAY,aAAe9tD,EAAK,SAEpC,CAAC,CACH,CACA,iBAAiB3tC,EAAG+oB,EAAG,CACrB,MAAM80E,EAAqB,CAAC,EACtBC,EAAiB,CAAE,KAAM,IAAU,MAAO,MAAO,EACvD,UAAWv0E,KAAS,KAAK,MAAM,SAAU,CAGvC,GAFI,CAACA,EAAM,SAEP,EAAEA,aAAiBgvE,IACrB,SACF,MAAMwF,EAAYx0E,EAAM,YAAY,EAGpC,GAFAw0E,EAAU,KAAK,KAAK,KAAK,SAAW,EAAG,YAAY,EACnDA,EAAU,KAAK,KAAK,KAAK,SAAW,EAAG,UAAU,EAC7CA,EAAU,cAAc/9F,EAAG+oB,CAAC,EAC9B,OAAOQ,EAAM,MAEf,MAAMy0E,EAAQh+F,EAAI+9F,EAAU,EAAI,KAAK,KAAK,SAAW,EAC/CE,EAAQl1E,EAAIg1E,EAAU,EAAI,KAAK,KAAK,SAAW,EAC/CvR,EAAOtrF,EAAM88F,EAAO,CAAC,EAAI98F,EAAM+8F,EAAO,CAAC,EACxBD,GAAS,GAAKC,GAAS,GACxBzR,EAAOsR,EAAe,OACxCA,EAAe,KAAOtR,EACtBsR,EAAe,MAAQv0E,EAAM,OAE/Bs0E,EAAmB,KAAKE,CAAS,CACnC,CAEA,GADiBjzE,EAAK,MAAM+yE,CAAkB,EAChC,cAAc79F,EAAG+oB,CAAC,EAGhC,OAAO+0E,EAAe,KACxB,CACA,kBAAmB,CACjB,MAAMI,EAAa,KAAK,MAAM,YAAY,EAC1C,GAAI,KAAK,MAAM,QAAU,EACvB,OAAOA,EAET,KAAM,CAAC3G,EAAcC,CAAa,EAAI,KAAK,YAC3C,OAAA0G,EAAW,OAAS,KAAK,IAAI1G,EAAe0G,EAAW,MAAM,EAC7DA,EAAW,MAAQ,KAAK,IAAI3G,EAAc2G,EAAW,KAAK,EACnDA,CACT,CACA,iBAAiB1lD,EAAO,CACtB,MAAMtpB,EAAQ,KAAK,iBAAiBspB,EAAM,QAASA,EAAM,OAAO,EAC5D,KAAK,QAAQtpB,CAAK,GACpBspB,EAAM,QAAQ,CAElB,CACA,QAAQtpB,EAAO,CACb,IAAI1oB,EACJ,KAAM,CACJ,UAAW,CAAE,gBAAA23F,CAAgB,EAC7B,IAAK,CAAE,aAAAC,EAAc,iBAAAC,CAAiB,EACtC,KAAM,CAAE,oBAAAC,CAAoB,EAC5B,iBAAAC,CACF,EAAI,KACJ,GAAI,CAACrvE,EACH,MAAO,GAET,KAAM,CAAE,GAAAqJ,EAAI,OAAAmlC,EAAQ,QAAA7mB,CAAQ,EAAI3nB,EAC1Brc,EAASurF,EAAa,OAAO,KAAMr3F,GAAMA,EAAE,KAAOwxB,CAAE,EAC1D,GAAI,CAAC1lB,EACH,MAAO,GAET,IAAI2rF,EAAa3nD,EACjB,GAAIynD,EAAqB,CACvBE,EAAa,CAAC3nD,EACV0nD,GAAoB,CAACC,GACCJ,EAAa,OAAO,QAASr3F,GAAMA,EAAE,cAAc,UAAU,CAAC,EAAE,OAAQX,GAAMA,EAAE,OAAO,EAAE,OAC3F,IACpBo4F,EAAa,IAGjB,MAAMjgG,GAAQiI,EAAK0oB,EAAM,iBAAmB,KAAO1oB,EAAK0oB,EAAM,MAAM,KAC9DoI,EAASknE,EAAa,UAAY,WACxC,KAAK,IAAI,wBAAwB,cAAc,UAAUjgG,CAAI,IAAI+4B,CAAM,EAAE,EACzE,KAAK,IAAI,kBAAkB,gBAAgBzkB,EAAQ6qD,EAAQ8gC,EAAYtvE,EAAM,cAAc,CAC7F,CACA,OAAIsvE,EACFH,EAAiB,gBAAgB,KAAK,GAAI,CACxC,OAAAxrF,EACA,OAAA6qD,EACA,MAAO,MACT,CAAC,EAED2gC,EAAiB,gBAAgB,KAAK,EAAE,EAE1C,KAAK,IAAI,cAAc,OAAO,EAAG,CAAE,qBAAsB,EAAK,CAAC,EAC5BF,IAAgB,CAAE,KAAM,QAAS,QAASK,EAAY,OAAA9gC,EAAQ,SAAU7qD,EAAO,EAAG,CAAC,EAC/G,EACT,CACA,uBAAuB2lC,EAAO,CAC5B,IAAIhyC,EACJ,KAAM,CACJ,UAAW,CAAE,sBAAAi4F,CAAsB,EACnC,IAAK,CAAE,aAAAL,CAAa,EACpB,KAAM,CAAE,oBAAAE,CAAoB,CAC9B,EAAI,KACJ,GAAIF,EAAa,OAAS,aACxB,OAEF,MAAMlvE,EAAQ,KAAK,iBAAiBspB,EAAM,QAASA,EAAM,OAAO,EAChE,GAAI,CAACtpB,EACH,OAEF,KAAM,CAAE,GAAAqJ,EAAI,OAAAmlC,EAAQ,SAAAud,CAAS,EAAI/rD,EAC3Brc,EAASurF,EAAa,OAAO,KAAMr3F,GAAMA,EAAE,KAAOwxB,CAAE,EAC1D,GAAK1lB,EAIL,IADA2lC,EAAM,QAAQ,EACV8lD,EAAqB,CACvB,MAAMxjB,EAAasjB,EAAa,OAAO,QAASr3F,GAAMA,EAAE,cAAc,UAAU,CAAC,EAC3E62D,EAAkBkd,EAAW,OAAQ10E,GAAMA,EAAE,OAAO,EAAE,OACtDs4F,EAAc5jB,EAAW,KAAM10E,GAAMA,EAAE,SAAWs3D,GAAUt3D,EAAE,WAAa60E,CAAQ,EACzF,KAAK,IAAI,kBAAkB,sBACzBpoE,EACA6qD,GACCl3D,EAAoCk4F,GAAY,UAAY,KAAOl4F,EAAK,GACzEo3D,EAC+B8gC,GAAY,cAC7C,CACF,CACA,KAAK,IAAI,cAAc,OAAO,EAAG,CAAE,qBAAsB,EAAK,CAAC,EACtBD,IAAsB,CAAE,KAAM,WAAY,QAAS,GAAM,OAAA/gC,EAAQ,SAAU7qD,EAAO,EAAG,CAAC,EACjI,CACA,sBAAsB2lC,EAAO,CAC3B,GAAI,CAAC,KAAK,QACR,OAEF,KAAM,CAAE,QAAAqM,EAAS,QAAA5W,CAAQ,EAAIuK,EAC7BA,EAAM,QAAQ,EACd,MAAMtpB,EAAQ,KAAK,iBAAiB21B,EAAS5W,CAAO,EACpD,KAAK,QAAQuK,EAAOtpB,CAAK,CAC3B,CACA,QAAQspB,EAAOtpB,EAAO,CACpB,IAAI1oB,EACJ,KAAM,CACJ,KAAM,CAAE,oBAAA83F,CAAoB,EAC5B,UAAA3lC,CACF,EAAI,KACJ,GAAIngB,IAAU,QAAUtpB,IAAU,OAAQ,CACxC,KAAK,IAAI,cAAc,aAAa,KAAK,EAAE,EAC3C,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,EAAE,EACjD,MACF,CACA,MAAMrc,EAASqc,EAAQ,KAAK,IAAI,aAAa,OAAO,KAAMnoB,GAAMA,EAAE,KAAiCmoB,GAAM,EAAG,EAAI,OAChH,GAAIA,GAAS,KAAK,eAAe,KAAK1oB,EAAK0oB,EAAM,SAAW,KAAO1oB,EAAK0oB,EAAM,EAAE,EAAG,CACjF,KAAM,CAAE,QAAA21B,EAAS,QAAA5W,CAAQ,EAAIuK,EAC7B,KAAK,IAAI,eAAe,cACtB,KAAK,GACL,CAAE,QAAAqM,EAAS,QAAA5W,EAAS,iBAAkBuK,EAAO,UAAW,EAAM,EAC9D6J,GAAc,CAAE,QAAS,KAAK,aAAanzB,CAAK,CAAE,CAAC,CACrD,CACF,MACE,KAAK,IAAI,eAAe,cAAc,KAAK,EAAE,GAE3CovE,GAAuB3lC,EAAU,iBAAmB,MAAQA,EAAU,uBAAyB,OACjG,KAAK,IAAI,cAAc,aAAa,KAAK,GAAI,SAAS,EAE1BzpC,GAAM,SAAYrc,EAC9C,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,GAAI,CACjD,OAAAA,EACA,OAAiCqc,GAAM,OACvC,MAAO,MACT,CAAC,EAED,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,EAAE,CAErD,CACA,sBAAsB41B,EAAQ,CAC5B,KAAK,YAAY,CACnB,CACA,aAAc,CACZ,KAAK,IAAI,cAAc,aAAa,KAAK,EAAE,EAC3C,KAAK,IAAI,eAAe,cAAc,KAAK,EAAE,EACzC,KAAK,IAAI,mBAAmB,SAAS,IAAM,IAC7C,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,EAAE,CAErD,CACA,uBAAuBtM,EAAO,CAC5B,KAAM,CACJ,QAAA3B,EACA,KAAM,CAAE,oBAAqB8nD,CAAO,EACpC,UAAW,CAAE,gBAAiBC,EAAe,sBAAuBC,CAAiB,CACvF,EAAI,KACE3vE,EAAQ,KAAK,iBAAiBspB,EAAM,QAASA,EAAM,OAAO,EAC5D3B,GAAW3nB,IAAU,SAAWyvE,GAAUC,GAAiB,MAAQC,GAAoB,OACzF,KAAK,IAAI,cAAc,aAAa,KAAK,GAAI,SAAS,CAE1D,CACA,OAAO/5C,EAAQ,CACb,KAAK,YAAY,EACjB,KAAK,MAAM,KAAO,OAClB,KAAK,IAAI,cAAc,yBAAyB,MAAM,CACxD,CACA,MAAMtM,EAAO,CACX,KAAK,YAAY,EACjBA,EAAM,QAAQ,CAChB,CACA,WAAWA,EAAO,CAChB,GAAI,CAAC,KAAK,WAAW,SAAW,CAAC,KAAK,WAAW,QAC/C,OACF,MAAMsmD,EAAmBC,GAAY,CACnC,KAAK,MAAM,KAAOA,EAClB,KAAK,YAAY,EACjBvmD,EAAM,QAAQ,CAChB,EACI,KAAK,MAAM,OAAS,QAAUA,EAAM,QAAU,GAChD,KAAK,MAAM,MAAQ,KAAK,WAAW,cAAgB,EAAI,EAAI,EAC3DsmD,EAAgB,MAAM,GACb,KAAK,MAAM,OAAS,QAAUtmD,EAAM,QAAU,KACvD,KAAK,MAAM,MAAQ,EACnBsmD,EAAgB,MAAM,EAE1B,CACA,MAAMtmD,EAAO,CACX,GAAI,KAAK,MAAM,OAAS,OAAQ,CAC9B,MAAM+oB,EAAW,KAAK,MAAM,MAAQ/oB,EAAM,MACpCwmD,EAAgB,KAAK,iBAAiB,KAAK,WAAW,WAAW,EACvE,KAAK,MAAM,MAAQp3E,GAAM,GAAI25C,EAAUy9B,CAAa,EACpD,KAAK,YAAY,EACjBxmD,EAAM,QAAQ,CAChB,MAAW,KAAK,MAAM,OAAS,SACzBA,EAAM,MAAQ,IAChB,KAAK,MAAM,MAAQ,GACjBA,EAAM,MAAQ,IAChB,KAAK,MAAM,MAAQ,GACrB,KAAK,YAAY,EACjBA,EAAM,QAAQ,EAElB,CACA,SAASsM,EAAQ,CACX,KAAK,MAAM,OAAS,OACtB,KAAK,QAAQ,KAAK,eAAe,EAAE,KAAK,EAC/B,KAAK,MAAM,OAAS,SACzB,KAAK,MAAM,QAAU,GACvB,KAAK,WAAW,cAAc,EAC5B,KAAK,MAAM,QAAU,GACvB,KAAK,WAAW,UAAU,EAC5B,KAAK,IAAI,wBAAwB,cAC/B,eAAe,KAAK,WAAW,YAAc,CAAC,OAAO,KAAK,MAAM,MAAM,EACxE,EAEJ,CACA,sBAAuB,CACrB,MAAMm6C,EAAU,KAAK,WAAW,YAC1BC,EAAmB,KAAK,iBAAiBD,CAAO,EACtD,GAAI,KAAK,MAAM,QAAU,GACvB,KAAK,WAAW,QAAQA,EAAU,CAAC,UAC1B,KAAK,MAAM,QAAUC,EAC9B,KAAK,WAAW,QAAQD,EAAU,CAAC,MAEnC,QAEF,KAAM,CAAE,YAAA5F,CAAY,EAAI,KAAK,WACzB4F,IAAY5F,EACd,KAAK,MAAM,MAAQzxE,GAAM,EAAG,KAAK,MAAM,MAAOs3E,EAAmB,CAAC,EACzD,KAAK,MAAM,QAAU,GAC9B,KAAK,MAAM,MAAQ,KAAK,iBAAiB7F,CAAW,EAAI,EAExD,KAAK,MAAM,MAAQ,CAEvB,CACA,gBAAiB,CACf,GAAI,KAAK,MAAM,OAAS,OACtB,OAAAzzF,EAAO,MAAM,kEAAkE,EACxE,CAAE,UAAW,GAAI,KAAM,OAAQ,MAAO,MAAO,EAEtD,KAAK,qBAAqB,EAC1B,MAAMuxB,EAAY,KAAK,2BAA2B,EAClD,GAAIA,EAAY,EACd,OAAAvxB,EAAO,MAAM,oCAAoCuxB,CAAS,EAAE,EACrD,CAAE,UAAW,GAAI,KAAM,OAAQ,MAAO,MAAO,EAEtD,MAAM3iB,EAAO,KAAK,cAAc,MAAM,EAAE2iB,CAAS,EAC3CxhB,EAAO,KAAK,KAClB,IAAIuZ,EACJ,OAAIiI,EAAYxhB,EAAK,OACnBuZ,EAAQ,KAAK,KAAKiI,CAAS,EAE3BvxB,EAAO,MAAM,uBAAuBuxB,CAAS,GAAG,EAE3C,CAAE,UAAAA,EAAW,KAAA3iB,EAAM,MAAA0a,CAAM,CAClC,CACA,aAAc,CACZ,KAAM,CAAE,MAAAysD,EAAO,WAAAwjB,CAAW,EAAI,KAC9B,GAAIxjB,EAAM,OAAS,OAAQ,CACzB,KAAM,CAAE,UAAAxkD,EAAW,KAAA3iB,EAAM,MAAA0a,CAAM,EAAI,KAAK,eAAe,EACjDxC,EAA+BlY,GAAK,uBAAuB,EACjE,KAAK,QAAQ+2D,GAAyB,KAAK,IAAI,cAAe7+C,CAAI,EAAGwC,CAAK,EAC1E,MAAMsoB,EAAQtoB,GAAS,KAAK,aAAaA,CAAK,EAC1CsoB,GACF,KAAK,IAAI,wBAAwB,cAC/B,eAAergB,EAAY,CAAC,OAAO,KAAK,KAAK,MAAM,KAAKqgB,CAAK,UAC/D,CAEJ,SAAWmkC,EAAM,OAAS,OAAQ,CAChC,MAAMqe,EAASre,EAAM,QAAU,EAAIwjB,EAAW,eAAiBA,EAAW,WAC1E,KAAK,IAAI,cAAc,yBAAyBnF,EAAO,uBAAuB,CAAC,EAC/E,MAAMp7F,EAAQ,CAAC,uBAAwB,kBAAkB,EAAE+8E,EAAM,KAAK,EACtE,KAAK,IAAI,wBAAwB,cAAc,GAAG/8E,CAAK,UAAU,CACnE,CACF,CACA,eAAe43E,EAAY,CACzB,MAAMG,EAAgBH,EAAW,MAAM,EACvC,GAAI,CAAC,KAAK,SAAW,CAAC,KAAK,KAAK,OAC9B,MAAO,CAAE,WAAYG,CAAc,EAErC,KAAM,CAACyoB,EAAaC,CAAY,EAAI,KAAK,0BAA0B7oB,CAAU,EAC7E,KAAK,MAAM,aAAe,EAC1B,KAAK,MAAM,aAAe,EAC1B,KAAK,WAAW4oB,EAAaC,CAAY,EACzC,MAAMC,EAAa,KAAK,iBAAiB,EACnCC,EAA6C,IAAM,CACvD,OAAQ,KAAK,SAAU,CACrB,IAAK,MACL,IAAK,OACH,MAAO,GACT,IAAK,SACH,OAAO/oB,EAAW,OAAS8oB,EAAW,OACxC,IAAK,QACL,QACE,OAAO9oB,EAAW,MAAQ8oB,EAAW,KACzC,CACF,EACA,GAAI,KAAK,QAAS,CAChB,IAAI3xE,EACAC,EACJ,OAAQ,KAAK,SAAU,CACrB,IAAK,MACL,IAAK,SACHD,GAAgB6oD,EAAW,MAAQ8oB,EAAW,OAAS,EACvD1xE,EAAe2xE,EAA2C,EAC1D5oB,EAAc,OAAO2oB,EAAW,OAAQ,KAAK,QAAQ,EACrD,MACF,IAAK,OACL,IAAK,QACL,QACE3xE,EAAe4xE,EAA2C,EAC1D3xE,GAAgB4oD,EAAW,OAAS8oB,EAAW,QAAU,EACzD3oB,EAAc,OAAO2oB,EAAW,MAAO,KAAK,QAAQ,CACxD,CACA,KAAK,MAAM,aAAe,KAAK,MAAM,CAACA,EAAW,EAAI9oB,EAAW,EAAI7oD,CAAY,EAChF,KAAK,MAAM,aAAe,KAAK,MAAM,CAAC2xE,EAAW,EAAI9oB,EAAW,EAAI5oD,CAAY,CAClF,CACA,GAAI,KAAK,SAAW,KAAK,SAAW,KAAK,KAAK,OAAQ,CACpD,MAAM4xE,EAAgB,KAAK,QAC3B7oB,EAAc,OAAO6oB,EAAe,KAAK,QAAQ,EACjD,MAAMC,EAAuBH,EAAW,MAAM,EAC9CG,EAAqB,GAAK,KAAK,MAAM,aACrCA,EAAqB,GAAK,KAAK,MAAM,YACvC,CACA,MAAO,CAAE,WAAY9oB,CAAc,CACrC,CACA,0BAA0BH,EAAY,CACpC,KAAM,CAAE,MAAA5sD,EAAO,OAAAC,CAAO,EAAI2sD,EACpBkpB,EAAc91E,EAAQC,EACtB81E,EAAiB,GACjBC,EAAuB,GACvBC,EAAsB,IAC5B,IAAIT,EAAaC,EACjB,OAAQ,KAAK,SAAU,CACrB,IAAK,MACL,IAAK,SACH,MAAMS,EAAoBJ,EAAc,EAAI,KAAK,IAAIC,EAAgBC,GAAwB,EAAIF,EAAY,EAAIE,EACjHR,EAAc,KAAK,SAAW,KAAK,IAAI,KAAK,SAAUx1E,CAAK,EAAIA,EAC/Dy1E,EAAe,KAAK,UAAY,KAAK,IAAI,KAAK,UAAWx1E,CAAM,EAAI,KAAK,MAAMA,EAASi2E,CAAiB,EACxG,MACF,IAAK,OACL,IAAK,QACL,QACE,MAAMC,EAAmBL,EAAc,EAAI,KAAK,IAAIC,EAAgBE,EAAsBH,CAAW,EAAIG,EACzGT,EAAc,KAAK,SAAW,KAAK,IAAI,KAAK,SAAUx1E,CAAK,EAAI,KAAK,MAAMA,EAAQm2E,CAAgB,EAClGV,EAAe,KAAK,UAAY,KAAK,IAAI,KAAK,UAAWx1E,CAAM,EAAIA,CACvE,CACA,MAAO,CAACu1E,EAAaC,CAAY,CACnC,CACF,EACAxE,GAAO,UAAY,SACnBl5F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGs+D,GAAO,UAAW,aAAc,CAAC,EACpCl5F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGs+D,GAAO,UAAW,OAAQ,CAAC,EAC9Bl5F,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGs+D,GAAO,UAAW,YAAa,CAAC,EACnCl5F,EAAiB,CACf2/C,GAAgBniD,GAAWA,EAAO,sBAAsB,CAAC,EACzDm8B,EAASoB,CAAO,CAClB,EAAGm+D,GAAO,UAAW,UAAW,CAAC,EACjCl5F,EAAiB,CACf25B,EAASoD,EAAS,CACpB,EAAGm8D,GAAO,UAAW,WAAY,CAAC,EAClCl5F,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAG69D,GAAO,UAAW,WAAY,CAAC,EAClCl5F,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAG69D,GAAO,UAAW,YAAa,CAAC,EACnCl5F,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAGm+D,GAAO,UAAW,eAAgB,CAAC,EACtCl5F,EAAiB,CACf25B,EAASiD,GAAM,CAAC,aAAc,UAAU,EAAG,gBAAgB,EAAG,CAAE,SAAU,EAAK,CAAC,CAClF,EAAGs8D,GAAO,UAAW,cAAe,CAAC,EACrCl5F,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAGm+D,GAAO,UAAW,mBAAoB,CAAC,EAC1Cl5F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG69D,GAAO,UAAW,UAAW,CAAC,EACjC,IAAImF,GAAwB,CAC1B,KAAM,SACN,WAAY,SACZ,WAAY,WACZ,WAAY,CAAC,YAAa,QAAS,YAAa,UAAU,EAC1D,oBAAqBnF,GACrB,YAAa,WACf,EACIoF,GAAc,cAAc5b,EAAK,CACnC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,EACd,KAAK,MAAQ,UACb,KAAK,QAAU,UACf,KAAK,aAAe,EACpB,KAAK,SAAW,SAChB,KAAK,SAAW,EAChB,KAAK,SAAW,EAChB,KAAK,OAAS,EACd,KAAK,aAAe,EACpB,KAAK,gBAAkB,EACvB,KAAK,QAAU,EACjB,CACA,IAAI,QAAQzlF,EAAO,CACb,KAAK,WAAaA,IACpB,KAAK,SAAWA,EAChB,KAAK,UAAY,GAErB,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,QACd,CACA,IAAI,QAAQA,EAAO,CACb,KAAK,WAAaA,IACpB,KAAK,SAAWA,EAChB,KAAK,UAAY,GAErB,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,QACd,CACA,IAAI,MAAMA,EAAO,CACX,KAAK,SAAWA,IAClB,KAAK,OAASA,EACd,KAAK,UAAY,GAErB,CACA,IAAI,OAAQ,CACV,OAAO,KAAK,MACd,CACA,IAAI,YAAYA,EAAO,CACjB,KAAK,eAAiBA,IACxB,KAAK,aAAeA,EACpB,KAAK,UAAY,GAErB,CACA,IAAI,aAAc,CAChB,OAAO,KAAK,YACd,CACA,IAAI,eAAeA,EAAO,CACpB,KAAK,kBAAoBA,IAC3B,KAAK,gBAAkBA,EACvB,KAAK,UAAY,GAErB,CACA,IAAI,gBAAiB,CACnB,OAAO,KAAK,eACd,CACA,IAAI,OAAOA,EAAO,CACZ,KAAK,UAAYA,IACnB,KAAK,QAAUA,EACf,KAAK,UAAY,GAErB,CACA,IAAI,QAAS,CACX,OAAO,KAAK,OACd,CACA,OAAOoB,EAAG+oB,EAAG,CACX,KAAK,QAAU/oB,EACf,KAAK,QAAU+oB,CACjB,CACA,OAAO,MAAMm3E,EAAWC,EAAWngG,EAAG+oB,EAAGa,EAAOC,EAAQvK,EAAKC,EAAK,CAChE,MAAM6gF,EAAmBF,EAAU,YAAc,EAC3CG,EAAaH,EAAU,MAAMlgG,EAAI4pB,EAAQtK,CAAG,EAAI8gF,EAChDE,EAAaD,EAAaH,EAAU,MAAMlgG,EAAI4pB,EAAQtK,EAAKsK,GAASrK,EAAMD,EAAI,EAAI,EAAI8gF,EACtFG,EAAUL,EAAU,MAAMn3E,EAAIc,EAAS,CAAC,EAAIu2E,EAClDF,EAAU,OAAOG,EAAYE,CAAO,EACpCJ,EAAU,OAAOG,EAAYC,CAAO,CACtC,CACA,aAAc,CACZ,KAAM,CAAE,QAAA7mE,EAAS,QAAAC,EAAS,MAAA/P,EAAO,OAAAC,CAAO,EAAI,KACtC7pB,EAAI05B,EAAU9P,EAAQ,EACtBb,EAAI4Q,EAAU9P,EAAS,EAC7B,OAAO,IAAIiB,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,CACrC,CACA,cAAc7pB,EAAG+oB,EAAG,CAClB,MAAM8kB,EAAQ,KAAK,eAAe7tC,EAAG+oB,CAAC,EAEtC,OADa,KAAK,YAAY,EAClB,cAAc8kB,EAAM,EAAGA,EAAM,CAAC,CAC5C,CACA,YAAa,CACX,IAAIrnC,EAAIiL,EAAIC,EACZ,KAAM,CAAE,QAAAgoB,EAAS,QAAAC,EAAS,KAAAnqB,EAAM,YAAA08B,EAAa,YAAAs0D,EAAa,eAAAC,CAAe,EAAI,KACvEh1D,GAAc/5B,GAAMD,GAAMjL,EAAK,KAAK,eAAiB,KAAO,OAASA,EAAG,SAAW,KAAO,OAASiL,EAAG,aAAe,KAAOC,EAAK,EACvIlC,EAAK,MAAM,EACX,MAAM81E,EAAY,KAAK,MAAM,KAAK,MAAQ,EAAI75C,CAAU,EAAIA,EACtD85C,EAAa,KAAK,MAAM,KAAK,OAAS,EAAI95C,CAAU,EAAIA,EAC9Dj8B,EAAK,OAAOkqB,EAAU4rD,EAAW3rD,EAAU4rD,CAAU,EACrD/1E,EAAK,OAAOkqB,EAAU4rD,EAAW3rD,EAAU4rD,CAAU,EACrD/1E,EAAK,OAAOkqB,EAAU4rD,EAAW3rD,EAAU4rD,CAAU,EACrD/1E,EAAK,OAAOkqB,EAAU4rD,EAAW3rD,EAAU4rD,CAAU,EACrD/1E,EAAK,UAAU,EACf,MAAMsa,EAAK,KAAK,OAAO02E,EAAct0D,GAAe,EAAIT,CAAU,EAAIA,EAChE1hB,EAAK,KAAK,MAAM02E,EAAiB,EAAIh1D,CAAU,EAAIA,EACzDj8B,EAAK,OAAOkqB,EAAU5P,EAAI6P,EAAU5P,CAAE,EACtCva,EAAK,OAAOkqB,EAAU5P,EAAI6P,EAAU5P,CAAE,EACtCva,EAAK,OAAOkqB,EAAU5P,EAAI6P,EAAU5P,CAAE,EACtCva,EAAK,OAAOkqB,EAAU5P,EAAI6P,EAAU5P,CAAE,CACxC,CACF,EACAk2E,GAAY,UAAY,cACxBt+F,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAGkiE,GAAY,UAAW,QAAS,CAAC,EACpCt+F,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAGkiE,GAAY,UAAW,UAAW,CAAC,EACtCt+F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGijE,GAAY,UAAW,eAAgB,CAAC,EAC3Ct+F,EAAiB,CACf25B,EAASgD,EAAQ,CACnB,EAAG2hE,GAAY,UAAW,WAAY,CAAC,EACvCt+F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGijE,GAAY,UAAW,SAAU,CAAC,EACrCt+F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGijE,GAAY,UAAW,eAAgB,CAAC,EAC3Ct+F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGijE,GAAY,UAAW,kBAAmB,CAAC,EAC9Ct+F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGijE,GAAY,UAAW,UAAW,CAAC,EACtC,IAAIS,GAAY,cAAcrc,EAAK,CACjC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,EACd,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,MAAQ,IACb,KAAK,OAAS,GACd,KAAK,IAAM,EACX,KAAK,IAAM,CACb,CACA,OAAOrkF,EAAG+oB,EAAGa,EAAOC,EAAQ,CAC1B,KAAK,EAAI7pB,EACT,KAAK,EAAI+oB,EACT,KAAK,MAAQa,EACb,KAAK,OAASC,EACd,KAAK,UAAY,EACnB,CACA,OAAOvK,EAAKC,EAAK,CACf,KAAK,IAAM,MAAMD,CAAG,EAAI,KAAK,IAAMA,EACnC,KAAK,IAAM,MAAMC,CAAG,EAAI,KAAK,IAAMA,EACnC,KAAK,UAAY,EACnB,CACA,aAAc,CACZ,KAAM,CAAE,EAAAvf,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,CAAO,EAAI,KAChC,OAAO,IAAIiB,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,CACrC,CACA,yBAA0B,CACxB,KAAM,CAAE,EAAA7pB,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,EAAQ,IAAAvK,EAAK,IAAAC,CAAI,EAAI,KACpCgzC,EAAOvyD,EAAI4pB,EAAQtK,EACnBqhF,EAAO3gG,EAAI4pB,EAAQrK,EACzB,OAAO,IAAIuL,EAAKynC,EAAMxpC,EAAG43E,EAAOpuC,EAAM1oC,CAAM,CAC9C,CACA,YAAa,CACX,KAAM,CAAE,KAAAra,EAAM,EAAAxP,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,EAAQ,IAAAvK,EAAK,IAAAC,EAAK,YAAA2sB,CAAY,EAAI,KACvD00D,EAAa10D,EAAc,EACjC18B,EAAK,MAAM,EACX,MAAMqxF,EAAK,KAAK,MAAM7gG,CAAC,EAAI4gG,EACrBE,EAAK,KAAK,MAAM/3E,CAAC,EAAI63E,EACrBG,EAAMF,EAAK,KAAK,MAAM7gG,EAAG4pB,CAAK,EAAI,EAAIg3E,EACtCI,EAAMF,EAAK,KAAK,MAAM/3E,EAAGc,CAAM,EAAI,EAAI+2E,EAC7CpxF,EAAK,OAAOqxF,EAAIC,CAAE,EAClBtxF,EAAK,OAAOuxF,EAAKD,CAAE,EACnBtxF,EAAK,OAAOuxF,EAAKC,CAAG,EACpBxxF,EAAK,OAAOqxF,EAAIG,CAAG,EACnBxxF,EAAK,UAAU,EACf,MAAM+iD,EAAO,KAAK,MAAMvyD,EAAI4pB,EAAQtK,CAAG,EAAIshF,EACrCD,EAAOpuC,EAAO,KAAK,MAAMvyD,EAAI4pB,EAAQtK,EAAKsK,GAASrK,EAAMD,EAAI,EAAI,EAAIshF,EAC3EpxF,EAAK,OAAO+iD,EAAMuuC,CAAE,EACpBtxF,EAAK,OAAO+iD,EAAMyuC,CAAG,EACrBxxF,EAAK,OAAOmxF,EAAMK,CAAG,EACrBxxF,EAAK,OAAOmxF,EAAMG,CAAE,EACpBtxF,EAAK,UAAU,CACjB,CACF,EACAkxF,GAAU,UAAY,YACtB,IAAIO,GAAgB,cAAcz2D,CAAM,CACtC,YAAY9a,EAAU,CACpB,MAAM,CACJ,KAAM,qBACN,MAAO,GACP,OAAQ,EAEV,CAAC,EACD,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,MAAQ,IACb,KAAK,OAAS,GACd,KAAK,QAAU,EACf,KAAK,QAAU,EACf,KAAK,gBAAkB,GACvB,KAAK,WAAa,IAAI8a,EAAM,CAAE,KAAM,sBAAuB,CAAC,EAC5D,KAAK,WAAW,OAAS,EACzB,KAAK,YAAY,KAAK,UAAU,EAChC,KAAK,OAAO9a,CAAQ,CACtB,CACA,OAAO1vB,EAAG+oB,EAAGa,EAAOC,EAAQq3E,EAASC,EAAS,CAC5C,KAAK,EAAInhG,EACT,KAAK,EAAI+oB,EACT,KAAK,MAAQa,EACb,KAAK,OAASC,EACd,KAAK,QAAUq3E,EACf,KAAK,QAAUC,EACf,KAAK,WAAW,aAAenhG,EAC/B,KAAK,WAAW,aAAe+oB,CACjC,CACA,iBAAiBq4E,EAAUC,EAAU,CAC/BD,GAAY,MACd,KAAK,WAAW,YAAYA,CAAQ,EAElCC,GAAY,MACd,KAAK,WAAW,YAAYA,CAAQ,CAExC,CACA,aAAc,CACZ,KAAM,CAAE,EAAArhG,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,EAAQ,QAAAq3E,EAAS,QAAAC,CAAQ,EAAI,KAClD,OAAO,IAAIr2E,EAAK9qB,EAAIkhG,EAASn4E,EAAGa,GAASs3E,EAAUC,GAAUt3E,CAAM,CACrE,CACF,EACIy3E,GAAY,cAAc92F,EAAmB,CAC/C,YAAY6iB,EAAK,CACf,MAAM,EACN,KAAK,IAAMA,EACX,KAAK,UAAY,OACjB,KAAK,QAAU,GACf,KAAK,KAAO,IAAIqzE,GAChB,KAAK,UAAY,IAAIT,GACrB,KAAK,UAAY,IAAIA,GACrB,KAAK,OAAS,GACd,KAAK,OAAS,GACd,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,MAAQ,EACb,KAAK,cAAgB,IAAIgB,GAAc,CAAC,KAAK,KAAM,KAAK,UAAW,KAAK,SAAS,CAAC,EAClF,KAAK,KAAO,EACZ,KAAK,KAAO,EACZ,KAAK,SAAW,KAChB,MAAMv8C,EAASr3B,EAAI,cAAc,UAAU,YAAa,KAAK,aAAa,EACpEk0E,EAAa,GACnB,KAAK,WAAW,KACdl0E,EAAI,MAAM,WAAW,KAAK,aAAa,EACvCq3B,EAAO,YAAY,QAAUlM,GAAU,KAAK,QAAQA,CAAK,EAAG+oD,CAAU,EACtE78C,EAAO,YAAY,aAAelM,GAAU,KAAK,YAAYA,CAAK,EAAG+oD,CAAU,EAC/E78C,EAAO,YAAY,OAASlM,GAAU,KAAK,OAAOA,CAAK,EAAG+oD,CAAU,EACpE78C,EAAO,YAAY,WAAY,IAAM,KAAK,UAAU,EAAG68C,CAAU,EACjE78C,EAAO,YAAY,QAAUlM,GAAU,KAAK,QAAQA,CAAK,EAAG+oD,CAAU,EACtEl0E,EAAI,YAAY,YAAY,cAAgBmrB,GAAU,KAAK,aAAaA,CAAK,CAAC,CAChF,EACA,KAAK,sBAAsB,CAC7B,CACA,iBAAiB4oD,EAAUC,EAAU,CACnC,IAAI76F,GACHA,EAAK,KAAK,gBAAkB,MAAgBA,EAAG,iBAAiB46F,EAAUC,CAAQ,CACrF,CACA,uBAAwB,CACtB,KAAM,CAAE,QAAAxqD,CAAQ,EAAI,KAChB,KAAK,eAAiB,MAAQA,IAAY,KAAK,cAAc,UAEjE,KAAK,cAAc,QAAUA,EACzBA,EACF,KAAK,WAAW,EAEhB,KAAK,IAAI,YAAY,WAAW,WAAW,EAE/C,CACA,cAAcyhC,EAAI,CAChB,OAAOx2E,EAAQ,KAAM,UAAW,UAAW,CAAE,WAAA00E,CAAW,EAAG,CACzD,GAAI,KAAK,QAAS,CAChB,MAAMgrB,EAAuB,KAAK,OAAS,KAAK,OAChDhrB,EAAW,OAAOgrB,EAAsB,QAAQ,EAChD,KAAK,EAAIhrB,EAAW,EAAIA,EAAW,OAAS,KAAK,MACnD,MACE,KAAK,EAAI,EAEX,MAAO,CAAE,WAAAA,CAAW,CACtB,CAAC,CACH,CACA,uBAAuBliE,EAAM,CAC3B,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,EAAA9B,EAAG,MAAA4pB,CAAM,EAAItV,EAAK,WAC1B,GAAI,KAAK,QAAS,CAChB,KAAM,CAAE,EAAAyU,EAAG,OAAAc,CAAO,EAAI,KACtB,KAAK,YAAY7pB,EAAG+oB,EAAGa,EAAOC,CAAM,CACtC,CACA,KAAK,EAAI7pB,EACT,KAAK,MAAQ4pB,CACf,CAAC,CACH,CACA,QAAQ4uB,EAAO,CACb,GAAI,CAAC,KAAK,QACR,OACF,KAAM,CAAE,KAAAipD,EAAM,UAAAvB,EAAW,UAAAC,CAAU,EAAI,KACjC,CAAE,QAAAt7C,EAAS,QAAA5W,CAAQ,EAAIuK,EACzB0nD,EAAU,cAAcr7C,EAAS5W,CAAO,GAAKkyD,EAAU,cAAct7C,EAAS5W,CAAO,EACvF,KAAK,IAAI,cAAc,aAAa,YAAa,WAAW,EACnDwzD,EAAK,wBAAwB,EAAE,cAAc58C,EAAS5W,CAAO,EACtE,KAAK,IAAI,cAAc,aAAa,YAAa,MAAM,EAEvD,KAAK,IAAI,cAAc,aAAa,WAAW,CAEnD,CACA,YAAYuK,EAAO,CACjB,GAAI,CAAC,KAAK,QACR,OACF,KAAM,CAAE,KAAAipD,EAAM,UAAAvB,EAAW,UAAAC,EAAW,EAAAngG,EAAG,MAAA4pB,EAAO,KAAMtK,CAAI,EAAI,KACtD,CAAE,QAAAulC,EAAS,QAAA5W,CAAQ,EAAIuK,EACzB0nD,EAAU,OAASC,EAAU,OAC3BA,EAAU,cAAct7C,EAAS5W,CAAO,EAC1C,KAAK,SAAW,MACPiyD,EAAU,cAAcr7C,EAAS5W,CAAO,IACjD,KAAK,SAAW,OAETiyD,EAAU,cAAcr7C,EAAS5W,CAAO,EACjD,KAAK,SAAW,MACPkyD,EAAU,cAAct7C,EAAS5W,CAAO,IACjD,KAAK,SAAW,OAEd,KAAK,UAAY,MAAQwzD,EAAK,wBAAwB,EAAE,cAAc58C,EAAS5W,CAAO,IACxF,KAAK,SAAW,MAChB,KAAK,UAAY4W,EAAU7kD,GAAK4pB,EAAQtK,GAEtC,KAAK,UAAY,MACnB,KAAK,IAAI,YAAY,sBAAsB,WAAW,CAE1D,CACA,OAAOk5B,EAAO,CACZ,GAAI,CAAC,KAAK,SAAW,KAAK,UAAY,KACpC,OACF,KAAM,CAAE,SAAAkpD,EAAU,SAAAC,EAAU,SAAAC,EAAU,EAAA5hG,EAAG,MAAA4pB,CAAM,EAAI,KACnD,GAAI,CAAE,KAAMtK,EAAK,KAAMC,CAAI,EAAI,KAC/B,KAAM,CAAE,QAAAslC,CAAQ,EAAIrM,EACdoW,GAAS/J,EAAU7kD,GAAK4pB,EAC9B,GAAI83E,IAAa,MACfpiF,EAAMsI,GAAM,EAAGgnC,EAAOrvC,EAAMoiF,CAAQ,UAC3BD,IAAa,MACtBniF,EAAMqI,GAAMtI,EAAMqiF,EAAU/yC,EAAO,CAAC,UAC3B8yC,IAAa,OAASE,GAAY,KAAM,CACjD,MAAMj7C,EAAOpnC,EAAMD,EACnBA,EAAMsI,GAAM,EAAGgnC,EAAQgzC,EAAU,EAAIj7C,CAAI,EACzCpnC,EAAMD,EAAMqnC,CACd,CACA,KAAK,KAAOrnC,EACZ,KAAK,KAAOC,EACZ,KAAK,WAAW,CAClB,CACA,WAAY,CACV,KAAK,SAAW,MAClB,CACA,QAAQulC,EAAQ,CACd,KAAK,IAAI,cAAc,aAAa,WAAW,CACjD,CACA,aAAatM,EAAO,CAClB,KAAM,CAAE,EAAAx4C,CAAE,EAAIw4C,EACTx4C,IAEL,KAAK,KAAOA,EAAE,IACd,KAAK,KAAOA,EAAE,IACd,KAAK,YAAYA,EAAE,IAAKA,EAAE,GAAG,EAC/B,CACA,YAAYA,EAAG+oB,EAAGa,EAAOC,EAAQ,CAC/B,KAAM,CAAE,cAAAg4E,EAAe,KAAAJ,EAAM,UAAAvB,EAAW,UAAAC,EAAW,KAAM7gF,EAAK,KAAMC,CAAI,EAAI,KAC5EsiF,EAAc,OAAO7hG,EAAG+oB,EAAGa,EAAOC,EAAQq2E,EAAU,MAAQ,EAAGC,EAAU,MAAQ,CAAC,EAClFsB,EAAK,OAAOzhG,EAAG+oB,EAAGa,EAAOC,CAAM,EAC/Bo2E,GAAY,MAAMC,EAAWC,EAAWngG,EAAG+oB,EAAGa,EAAOC,EAAQvK,EAAKC,CAAG,EACjED,GAAOC,EAAMD,GAAO,EAAI,IAC1B4gF,EAAU,OAAS,EACnBC,EAAU,OAAS,IAEnBD,EAAU,OAAS,EACnBC,EAAU,OAAS,EAEvB,CACA,YAAY7gF,EAAKC,EAAK,CACpB,KAAK,KAAK,OAAOD,EAAKC,CAAG,CAC3B,CACA,YAAa,CACX,GAAI,CAAC,KAAK,QACR,OACF,KAAM,CAAE,KAAMD,EAAK,KAAMC,CAAI,EAAI,KAC3Bk4D,EAAQ,KAAK,IAAI,YAAY,QAAQ,EAC3C,GAAIn4D,GAAO,MAAQC,GAAO,KACxB,OACF,MAAMuiF,EAAkB12B,GAAY,CAC9B,KAAK,KAAO,MAAQ,KAAK,KAAO,MAEpCxlE,EAAO,SACL,0DAA0DwlE,CAAO,wCACnE,CACF,EACA,OAAO,KAAK,IAAI,YAAY,WAAW,YAAa,CAAE,EAAG,CAAE,IAAA9rD,EAAK,IAAAC,CAAI,EAAG,EAA4Bk4D,GAAM,CAAE,EAAG,GAAOqqB,CAAc,CACrI,CACF,EACAngG,EAAiB,CACf25B,EAASiB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG+kE,GAAU,UAAW,YAAa,CAAC,EACtC3/F,EAAiB,CACf25B,EAASoB,CAAO,EAChB4kB,GAAgBniD,GAAWA,EAAO,sBAAsB,CAAC,CAC3D,EAAGmiG,GAAU,UAAW,UAAW,CAAC,EACpC3/F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGskE,GAAU,UAAW,SAAU,CAAC,EACnC3/F,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGskE,GAAU,UAAW,SAAU,CAAC,EACnC3/F,EAAiB,CACfu/C,GAAY,CACV,SAAS5hC,EAAK,CACZ,KAAK,KAAOA,EACZ,KAAK,WAAW,CAClB,CACF,CAAC,EACDgc,EAASU,GAAIiB,GAAOQ,GAAU,KAAK,CAAC,EAAG,CAAE,SAAU,EAAK,CAAC,CAC3D,EAAG6jE,GAAU,UAAW,MAAO,CAAC,EAChC3/F,EAAiB,CACfu/C,GAAY,CACV,SAAS3hC,EAAK,CACZ,KAAK,KAAOA,EACZ,KAAK,WAAW,CAClB,CACF,CAAC,EACD+b,EAASU,GAAIiB,GAAOU,GAAa,KAAK,CAAC,EAAG,CAAE,SAAU,EAAK,CAAC,CAC9D,EAAG2jE,GAAU,UAAW,MAAO,CAAC,EAChC,IAAIS,GAAkB,CACpB,KAAM,OACN,WAAY,YACZ,YAAa,YACb,WAAY,CAAC,WAAW,EACxB,oBAAqBT,GACrB,cAAe,CACb,UAAW,CACT,QAAS,GACT,OAAQ,GACR,KAAM,CACJ,KAAM,UACN,OAAQ,UACR,YAAa,EACb,YAAa,EACf,EACA,UAAW,CACT,KAAM,UACN,OAAQ,UACR,YAAa,EACb,MAAO,EACP,OAAQ,GACR,YAAa,EACb,eAAgB,CAClB,EACA,UAAW,CACT,KAAM,UACN,OAAQ,UACR,YAAa,EACb,MAAO,EACP,OAAQ,GACR,YAAa,EACb,eAAgB,CAClB,CACF,CACF,CACF,EACIU,GAA6B,CAAC,CAAE,WAAAC,CAAW,IAAM,CACnD,KAAM,CACJ,MAAO,CAAC72D,CAAI,EACZ,QAAS,CAACa,CAAM,CAClB,EAAIg2D,EAAW,CAAC,EAChB,MAAO,CAAE,KAAA72D,EAAM,OAAAa,CAAO,CACxB,EACIi2D,GAAwBvtF,GAAW,CACrC,KAAM,CAAE,KAAAy2B,EAAM,OAAAa,CAAO,EAAI+1D,GAA2BrtF,CAAM,EAC1D,MAAO,CAAE,OAAQ,CAAE,KAAAy2B,EAAM,OAAAa,CAAO,CAAE,CACpC,EACA,SAASk2D,GAAWx8E,EAAS4Q,EAAOC,EAAkBi/B,EAAO/vD,EAAK,CAChE,KAAM,CAAE,WAAA08F,EAAY,cAAAC,EAAe,cAAAC,CAAc,EAAI58F,EAC/C68F,EAAU,CAAC/qE,EAAOhoB,EAAMgzF,IAAa,CACzChsE,EAAiB,QAAQ,CACvB,GAAI,GAAG7Q,CAAO,IAAI4Q,CAAK,IAAI/mB,EAAK,EAAE,IAAIgoB,CAAK,GAC3C,QAAA7R,EACA,KAAM,EACN,GAAI,EACJ,KAAMmP,GACN,YAAa,GACb,SAAS85B,EAAO6zC,EAAS,CACnBA,GAAWjrE,IAAU,YAEzBhoB,EAAK,KAAK,MAAM,EAAI,EACpBgzF,EAAS5zC,EAAOp/C,CAAI,EACpBA,EAAK,eAAe,EACtB,EACA,QAAS,CACHgoB,IAAU,UAEdhoB,EAAK,KAAK,MAAM,EAAI,EACpBgzF,EAAS,EAAGhzF,CAAI,EAChBA,EAAK,eAAe,EACtB,EACA,MAAOyX,GAAmCuQ,CAAK,CACjD,CAAC,CACH,EACA,UAAWhoB,KAAQimD,EACZj/B,EAAiB,UAAU,IAC9B+rE,EAAQ,UAAW/yF,EAAM8yF,CAAa,EACtCC,EAAQ,UAAW/yF,EAAM6yF,CAAa,GAExCE,EAAQ,QAAS/yF,EAAM4yF,CAAU,CAErC,CACA,IAAIM,GAAU,KACd,SAASC,GAAaz0D,EAAM,CAC1B,GAAIA,GAAQ,KAEL,OAAIA,IAAS,GACX,IAETw0D,KAA4BA,GAAUvhF,GAAc,KAAK,GACzDuhF,GAAQ,YAAc,OAAOx0D,CAAI,EAC1Bw0D,GAAQ,UACjB,CACA,SAASE,GAA2B,CAAE,GAAArqE,CAAG,EAAGhC,EAAOC,KAAqBqsE,EAAiB,CACvF17E,GACEoR,EACAhC,EACAC,EACAqsE,EACA,CAAE,QAAS,CAAE,EACb,CAAE,QAAS,CAAE,EACb,CAAE,MAAO,UAAW,CACtB,CACF,CACA,SAASC,GAA4B,CAAE,GAAAvqE,CAAG,EAAGhC,EAAOC,KAAqBqsE,EAAiB,CACxF17E,GACEoR,EACAhC,EACAC,EACAqsE,EACA,CAAE,QAAS,CAAE,EACb,CAAE,QAAS,CAAE,EACb,CAAE,MAAO,QAAS,CACpB,CACF,CACA,SAASE,GAAal9C,EAAO,CAC3B,MAAO,CAAE,QAAS,CAAE,CACtB,CACA,IAAIm9C,GAA6B,cAAchwF,EAAe,CAC5D,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,CAChB,CACA,UAAU8Y,EAASlb,EAAO,EAAG,CACvB,KAAK,OAASA,IAChB,KAAK,OAASA,EAElB,CACA,UAAUmb,EAAO,CACf,KAAK,OAAS,CAChB,CACA,SAAU,CACR,OAAO,KAAK,OAAS,CACvB,CACF,EACIk3E,GAAa,cAAcD,EAA2B,CACxD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,GACf,KAAK,MAAQ,qBACb,KAAK,QAAU,EACf,KAAK,QAAU,EACf,KAAK,KAAO,CACd,CACF,EACArhG,EAAiB,CACf25B,EAASoB,CAAO,EAChBvR,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG83E,GAAW,UAAW,UAAW,CAAC,EACrCthG,EAAiB,CACf25B,EAASyC,EAAY,EACrB5S,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG83E,GAAW,UAAW,QAAS,CAAC,EACnCthG,EAAiB,CACf25B,EAASuB,EAAM,EACf1R,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG83E,GAAW,UAAW,UAAW,CAAC,EACrCthG,EAAiB,CACf25B,EAASuB,EAAM,EACf1R,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG83E,GAAW,UAAW,UAAW,CAAC,EACrCthG,EAAiB,CACf25B,EAAS0B,CAAe,EACxB7R,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAG83E,GAAW,UAAW,OAAQ,CAAC,EAClC,IAAIC,GAAe/mE,GAChBv9B,GAAUgpF,GAAchpF,CAAK,GAAK,OAAOinF,IAAW,YAAc,OAAO,OAAOjnF,EAAM,SAAS,YAAainF,GAC7G,wGACF,EACIsd,GAAe,cAAcH,EAA2B,CAC1D,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,GACf,KAAK,MAAQ9c,GACb,KAAK,KAAO,EACZ,KAAK,YAAc,EACnB,KAAK,YAAc,EACnB,KAAK,cAAgB,CACvB,CACA,UAAW,CACT,KAAM,CAAE,KAAAhmE,EAAM,KAAAkrB,EAAM,YAAAY,EAAa,OAAAC,EAAQ,YAAAC,EAAa,cAAAG,CAAc,EAAI,KACxE,MAAO,CAAE,KAAAnsB,EAAM,KAAAkrB,EAAM,YAAAY,EAAa,OAAAC,EAAQ,YAAAC,EAAa,cAAAG,CAAc,CACvE,CACA,aAAc,CACZ,OAAO,KAAK,KAAO,KAAK,WAC1B,CACF,EACA1qC,EAAiB,CACf25B,EAASoB,CAAO,EAChBvR,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,UAAW,CAAC,EACvCxhG,EAAiB,CACf25B,EAAS4nE,EAAY,EACrB/3E,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,QAAS,CAAC,EACrCxhG,EAAiB,CACf25B,EAAS0B,CAAe,EACxB7R,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,OAAQ,CAAC,EACpCxhG,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,EACzC5S,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,OAAQ,CAAC,EACpCxhG,EAAiB,CACf25B,EAAS2B,EAAK,EACd9R,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,cAAe,CAAC,EAC3CxhG,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,EACzC5S,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,SAAU,CAAC,EACtCxhG,EAAiB,CACf25B,EAAS0B,CAAe,EACxB7R,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,cAAe,CAAC,EAC3CxhG,EAAiB,CACf25B,EAAS2B,EAAK,EACd9R,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,gBAAiB,CAAC,EAC7CxhG,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,EACrCxR,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGg4E,GAAa,UAAW,YAAa,CAAC,EACzC,IAAIC,GAA2B,cAAcpwF,EAAe,CAC1D,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,EACjB,CACF,EACArR,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG0mE,GAAyB,UAAW,UAAW,CAAC,EACnD,IAAIC,GAAgB,cAAcrwF,EAAe,CAC/C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,GACf,KAAK,YAAc,IAAIowF,GACvB,KAAK,SAAW,IAAIzgD,EACtB,CACA,cAAcryC,EAAUqE,EAAQ,CAC9B,OAAI,KAAK,SACA0tC,GAAc,KAAK,SAAS1tC,CAAM,EAAGrE,CAAQ,EAE/C+xC,GAAc/xC,CAAQ,CAC/B,CACF,EACA3O,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG2mE,GAAc,UAAW,UAAW,CAAC,EACxC1hG,EAAiB,CACf25B,EAASoB,EAAS,CAAE,SAAU,EAAK,CAAC,CACtC,EAAG2mE,GAAc,UAAW,YAAa,CAAC,EAC1C1hG,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAG0mE,GAAc,UAAW,WAAY,CAAC,EACzC1hG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG8mE,GAAc,UAAW,cAAe,CAAC,EAC5C1hG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG8mE,GAAc,UAAW,WAAY,CAAC,EACzC,IAAIC,GAAuB,cAAcja,EAA0B,CACjE,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,OACb,KAAK,KAAO,UACZ,KAAK,YAAc,EACnB,KAAK,OAAS,UACd,KAAK,YAAc,EACnB,KAAK,cAAgB,EACrB,KAAK,SAAW,CAAC,CAAC,EAClB,KAAK,eAAiB,EACtB,KAAK,OAAS,IAAI4Z,GAClB,KAAK,OAAS,IAAIE,GAClB,KAAK,MAAQ,IAAIlxD,GACjB,KAAK,QAAU,IAAIoxD,GACnB,KAAK,mBAAqB,EAC5B,CACF,EACA1hG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG0mE,GAAqB,UAAW,OAAQ,CAAC,EAC5C3hG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG0mE,GAAqB,UAAW,QAAS,CAAC,EAC7C3hG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG0mE,GAAqB,UAAW,OAAQ,CAAC,EAC5C3hG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG0mE,GAAqB,UAAW,QAAS,CAAC,EAC7C3hG,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGsmE,GAAqB,UAAW,eAAgB,CAAC,EACpD3hG,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAGulE,GAAqB,UAAW,OAAQ,CAAC,EAC5C3hG,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGqmE,GAAqB,UAAW,cAAe,CAAC,EACnD3hG,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAGulE,GAAqB,UAAW,SAAU,CAAC,EAC9C3hG,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGsmE,GAAqB,UAAW,cAAe,CAAC,EACnD3hG,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGqmE,GAAqB,UAAW,gBAAiB,CAAC,EACrD3hG,EAAiB,CACf25B,EAASmD,EAAS,CACpB,EAAG6kE,GAAqB,UAAW,WAAY,CAAC,EAChD3hG,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGsmE,GAAqB,UAAW,iBAAkB,CAAC,EACtD3hG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG+mE,GAAqB,UAAW,SAAU,CAAC,EAC9C3hG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG+mE,GAAqB,UAAW,SAAU,CAAC,EAC9C3hG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG+mE,GAAqB,UAAW,QAAS,CAAC,EAC7C3hG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG+mE,GAAqB,UAAW,UAAW,CAAC,EAC/C3hG,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG4mE,GAAqB,UAAW,qBAAsB,CAAC,EAC1D,SAASC,GAAsB,CAAE,GAAAhrE,CAAG,EAAG/B,EAAkBc,KAAWksE,EAAkB,CACpF,MAAM7uF,EAAS,CAAE,MAAO2iB,EAASrQ,GAAmCqQ,CAAM,EAAI,UAAW,EACzFnQ,GAAmBoR,EAAI,UAAW/B,EAAkBgtE,EAAkB,CAAE,QAAS,CAAE,EAAG,CAAE,QAAS,CAAE,EAAG7uF,CAAM,EAC5G6uF,EAAiB,QAASz8F,GAAMA,EAAE,QAAQ,CAAC,CAC7C,CACA,SAAS08F,GAAuB,CAAE,GAAAlrE,CAAG,EAAG/B,KAAqBgtE,EAAkB,CAC7Er8E,GACEoR,EACA,UACA/B,EACAgtE,EACA,CAAE,SAAU,EAAG,SAAU,CAAE,EAC3B,CAAE,SAAU,EAAG,SAAU,CAAE,EAC3B,CAAE,MAAO,SAAU,CACrB,EACAA,EAAiB,QAAS,GAAM,EAAE,QAAQ,CAAC,CAC7C,CACA,SAASE,GAA4B,CAAE,GAAAnrE,EAAI,qBAAAorE,CAAqB,EAAGntE,KAAqBgtE,EAAkB,CACxG,MAAMI,EAAcD,EAAqB,gBAazCz8E,GAAaqR,EAAI,UAAW/B,EAAkBgtE,EAAkB,CAAE,OAZnD,CAACtgF,EAAGgM,IAAU,CAC3B,IAAI1oB,EAAIiL,EACR,MAAMzR,GAAKyR,GAAMjL,EAAK0oB,EAAM,WAAa,KAAO,OAAS1oB,EAAG,IAAM,KAAOiL,EAAKmyF,EAC9E,IAAIlsE,EAAQ9P,GAAM,EAAGoN,GAAeh1B,EAAI4jG,CAAW,EAAG,CAAC,EACvD,OAAI,MAAMlsE,CAAK,IACbA,EAAQ,GAEH,CAAE,SAAU,EAAG,SAAU,EAAG,MAAAA,EAAO,SAAUxC,GAAkB,MAAO,SAAU,CACzF,EAI0E,KAH7D,KACJ,CAAE,SAAU,EAAG,SAAU,CAAE,EAE2C,CAAC,CAClF,CACA,SAAS2uE,GAAch+C,EAAO,CAC5B,MAAO,CAAE,QAAS,EAAG,SAAU,EAAG,SAAU,CAAE,CAChD,CACA,SAASi+C,GAAsBj+C,EAAO32B,EAAO,CAC3C,IAAI1oB,EAAIiL,EAAIC,EAAIU,EAChB,MAAO,CACL,cAAeX,GAAMjL,EAAK0oB,EAAM,QAAU,KAAO,OAAS1oB,EAAG,IAAM,KAAOiL,EAAK,IAC/E,cAAeW,GAAMV,EAAKwd,EAAM,QAAU,KAAO,OAASxd,EAAG,IAAM,KAAOU,EAAK,GACjF,CACF,CACA,SAAS2xF,GAAuBC,EAASC,EAAc,CACrD,MAAMC,EAAgB,CAACC,EAAQvzF,IAAS,CACtC,MAAMtD,EAAM02F,EAAQpzF,CAAI,EAAEuzF,CAAM,EAChC,OAAO,MAAM,QAAQ72F,CAAG,EAAIA,EAAI,CAAC,EAAIA,CACvC,EACM82F,EAAgBl1E,GAAU,CAC9B,KAAM,CAAE,OAAAi1E,CAAO,EAAIj1E,EACnB,OAAI80E,EAAQ,MAAMG,CAAM,EACf,CAAE,MAAOD,EAAcC,EAAQ,OAAO,EAAG,OAAQ,SAAU,EACzDH,EAAQ,QAAQG,CAAM,EACxB,CAAE,MAAOD,EAAcC,EAAQ,SAAS,EAAG,OAAQ,SAAU,EAC3DH,EAAQ,MAAMG,CAAM,EACtB,CAAE,MAAOD,EAAcC,EAAQ,OAAO,EAAG,OAAQ,OAAQ,EAE3D,CAAE,OAAQ,SAAU,CAC7B,EA8CA,MAAO,CAAE,OA7CM,CAACnkD,EAAQ9wB,IAAU,CAChC,IAAI1oB,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EACxB,KAAM,CAAE,OAAA2B,EAAQ,MAAAuW,CAAM,EAAIu2D,EAAal1E,CAAK,EAC5C,GAAIoI,IAAW,UACb,MAAO,CAAE,QAAS,CAAE,EACtB,MAAMhnB,EAAW,CACf,cAAemB,GAAMjL,EAA8BqnC,GAAM,OAAS,KAAO,OAASrnC,EAAG,IAAM,KAAOiL,EAAKuuC,EAAO,aAC9G,cAAe5tC,GAAMV,EAA8Bm8B,GAAM,OAAS,KAAO,OAASn8B,EAAG,IAAM,KAAOU,EAAK4tC,EAAO,aAC9G,QAASA,EAAO,QAChB,MAAO/4B,GAAmCqQ,CAAM,CAClD,EACA,OAAI2sE,IAAiB,QACZ5iG,EAAcD,EAAgB,CAAC,EAAGkP,CAAQ,EAAG,CAClD,QAAS,EACT,cAAeqT,EAA8BkqB,GAAM,KAAO,KAAO,OAASlqB,EAAG,EAC7E,cAAegS,EAA8BkY,GAAM,KAAO,KAAO,OAASlY,EAAG,EAC7E,MAAO1O,GAAmC,KAC5C,CAAC,GAECqQ,IAAW,UACbhnB,EAAS,QAAU,GAEdA,EACT,EAsBiB,KArBJ,CAAC+zF,EAASn1E,IAAU,CAC/B,IAAI1oB,EAAIiL,EACR,KAAM,CAAE,OAAA6lB,EAAQ,MAAAuW,CAAM,EAAIu2D,EAAal1E,CAAK,EAC5C,GAAIoI,IAAW,UACb,MAAO,CAAE,QAAS,CAAE,EACtB,MAAMhnB,EAAW,CACf,aAAc4e,EAAM,MAAM,EAC1B,aAAcA,EAAM,MAAM,EAC1B,QAAS,EACT,MAAOjI,GAAmCqQ,CAAM,CAClD,EACA,OAAIA,IAAW,WAAa2sE,IAAiB,UACpC5iG,EAAcD,EAAgB,CAAC,EAAGkP,CAAQ,EAAG,CAClD,cAAe9J,EAA8BqnC,GAAM,KAAO,KAAO,OAASrnC,EAAG,EAC7E,cAAeiL,EAA8Bo8B,GAAM,KAAO,KAAO,OAASp8B,EAAG,EAC7E,QAAS,EACT,MAAOwV,GAAmC,OAC5C,CAAC,EAEI3W,CACT,CACsB,CACxB,CACA,SAASg0F,GAAyBp1E,EAAOi8D,EAAa,CACpD,GAAIj8D,IAAU,QAAUA,EAAM,QAAU,OACtC,OACF,KAAM,CAAE,EAAGq1E,EAAQ,EAAGC,EAAQ,KAAAtkF,CAAK,EAAIgP,EAAM,MACvCu1E,EAAWvkF,GAAsB,EACjC0Z,EAAS6qE,EAAW,EACpB,CAAE,EAAAzkG,EAAG,EAAA+oB,CAAE,EAAIoiE,EAAY,sBAAsBoZ,EAAS3qE,EAAQ4qE,EAAS5qE,CAAM,EACnF,OAAO,IAAI9O,EAAK9qB,EAAG+oB,EAAG07E,EAAUA,CAAQ,CAC1C,CACA,SAASC,GAAOnc,EAAU,CACxB,OAAOA,EAAS,OACd,CAAC,CAAE,IAAAjpE,EAAK,IAAAC,CAAI,EAAG/K,MACT8K,GAAO,MAAQA,EAAI,MAAM,EAAI9K,EAAK,MAAM,KAC1C8K,EAAM9K,IAEJ+K,GAAO,MAAQA,EAAI,MAAM,EAAI/K,EAAK,MAAM,KAC1C+K,EAAM/K,GAED,CAAE,IAAA8K,EAAK,IAAAC,CAAI,GAEpB,CAAC,CACH,CACF,CACA,SAASolF,GAAmB7lG,EAAGC,EAAG6lG,EAAS,CACzC,MAAM55F,GAAKjM,EAAE,EAAID,EAAE,IAAMC,EAAE,EAAID,EAAE,GAC3BiqB,GAAK67E,EAAU9lG,EAAE,GAAKkM,EAAIlM,EAAE,EAClC,MAAO,CAAE,EAAG8lG,EAAS,EAAA77E,CAAE,CACzB,CACA,SAAS87E,GAAkB1nD,EAAS2nD,EAAShxF,EAAMixF,EAAW,CAC5D,IAAIC,EAAgB,GAAIC,EAAgB,EACxC,MAAMC,EAAY,CAAC,EACnB,KAAOD,EAAgB9nD,EAAQ,QAAQ,CACrC,GAAIA,EAAQ8nD,CAAa,EAAE,SAAWH,EAAS,CAC7CI,EAAU,KAAK/nD,EAAQ8nD,CAAa,CAAC,EACrCA,IACA,QACF,CACA,GAAI9nD,EAAQ8nD,CAAa,EAAE,SAAWnxF,EAAM,CAC1CmxF,IACA,QACF,CACIC,EAAU,OAAS,IACrBH,EAAUG,EAAWF,EAAeC,CAAa,EACjDC,EAAU,OAAS,GAErBF,EAAgBC,EAChBA,GACF,CACIC,EAAU,OAAS,GACrBH,EAAUG,EAAWF,EAAeC,CAAa,CAErD,CACA,SAASE,GAAsB9lG,EAAQ+lG,EAAW,CAChDP,GAAkBxlG,EAAQ,MAAO,KAAM,CAAC6lG,EAAWG,EAAMC,IAAS,CAChE,IAAI9+F,EAAIiL,EACJ4zF,IAAS,IAAMhmG,EAAOimG,CAAI,EAC5BJ,EAAU,QAAS9+F,GAAMA,EAAE,GAAK/G,EAAOimG,CAAI,EAAE,IAAI,EACxCA,IAASjmG,EAAO,QAAUA,EAAOgmG,CAAI,EAC9CH,EAAU,QAAS9+F,GAAMA,EAAE,GAAK/G,EAAOgmG,CAAI,EAAE,IAAI,EACxCD,IAAc,eAAiB5+F,EAAKnH,EAAOgmG,CAAI,IAAM,MAAgB7+F,EAAG,SAAWiL,EAAKpS,EAAOimG,CAAI,IAAM,MAAgB7zF,EAAG,MACrIyzF,EAAU,QAAS9+F,GAAMA,EAAE,GAAKu+F,GAAmBtlG,EAAOgmG,CAAI,EAAE,KAAMhmG,EAAOimG,CAAI,EAAE,KAAMl/F,EAAE,KAAK,CAAC,CAAC,EAElG8+F,EAAU,QAAS9+F,GAAMA,EAAE,GAAKA,EAAE,IAAI,CAE1C,CAAC,EACDy+F,GAAkBxlG,EAAQ,KAAM,MAAO,CAAC6lG,EAAWG,EAAMC,IAAS,CAChE,IAAI9+F,EAAIiL,EACJ4zF,IAAS,IAAMhmG,EAAOimG,CAAI,EAC5BJ,EAAU,QAAS9+F,GAAMA,EAAE,KAAO/G,EAAOimG,CAAI,EAAE,EAAE,EACxCA,IAASjmG,EAAO,QAAUA,EAAOgmG,CAAI,EAC9CH,EAAU,QAAS9+F,GAAMA,EAAE,KAAO/G,EAAOgmG,CAAI,EAAE,EAAE,EACxCD,IAAc,eAAiB5+F,EAAKnH,EAAOgmG,CAAI,IAAM,MAAgB7+F,EAAG,OAASiL,EAAKpS,EAAOimG,CAAI,IAAM,MAAgB7zF,EAAG,IACnIyzF,EAAU,QAAS9+F,GAAMA,EAAE,KAAOu+F,GAAmBtlG,EAAOgmG,CAAI,EAAE,GAAIhmG,EAAOimG,CAAI,EAAE,GAAIl/F,EAAE,GAAG,CAAC,CAAC,EAE9F8+F,EAAU,QAAS9+F,GAAMA,EAAE,KAAOA,EAAE,EAAE,CAE1C,CAAC,CACH,CACA,SAASm/F,GAAepvE,EAAMC,EAAIw4B,EAAO,CACvC,MAAM1kC,EAAK,MAAMiM,EAAK,CAAC,EAAIC,EAAG,EAAID,EAAK,EACjChM,EAAK,MAAMgM,EAAK,CAAC,EAAIC,EAAG,EAAID,EAAK,EACjCqvE,EAAKpvE,EAAG,EAAID,EAAK,EACjBsvE,EAAKrvE,EAAG,EAAID,EAAK,EACjBuvE,EAAK,MAAMF,CAAE,EAAI,EAAIA,EAAK52C,EAC1B+2C,EAAK,MAAMF,CAAE,EAAI,EAAIA,EAAK72C,EAChC,MAAO,CACL,EAAG1kC,EAAKw7E,EACR,EAAGv7E,EAAKw7E,CACV,CACF,CACA,SAASC,GAAkBC,EAAUC,EAAQt2F,EAAM,CACjD,KAAM,CAAE,KAAMu2F,CAAS,EAAIv2F,EAC3B,IAAIw2F,EACJ,UAAWrwF,KAAQkwF,EAAU,CAC3B,KAAM,CAAE,KAAA1vE,EAAM,GAAAC,CAAG,EAAIzgB,EACfi5C,EAAQk3C,EAAOnwF,EAAK,MAAM,EAChC,GAAIi5C,GAAS,MAAQz4B,GAAQ,MAAQC,GAAM,KACzC,SACF,KAAM,CAAE,EAAAp2B,EAAG,EAAA+oB,CAAE,EAAIw8E,GAAepvE,EAAMC,EAAIw4B,CAAK,EAC/C,GAAIj5C,EAAK,SAAW,GAClBowF,EAAS,OAAO/lG,EAAG+oB,CAAC,UACXpT,EAAK,SAAW,IAAQ,CAACqwF,EAClCD,EAAS,OAAO/lG,EAAG+oB,CAAC,UACXi9E,EAAY,CACrB,MAAMC,EAActwF,EAAK,SAAW,KAAOi5C,EAAQ,EAAIA,EACjD,CAAE,EAAGs3C,EAAW,EAAGC,CAAU,EAAIZ,GAAeS,EAAY,CAAE,EAAAhmG,EAAG,EAAA+oB,CAAE,EAAGk9E,CAAW,EACvFF,EAAS,OAAOG,EAAWC,CAAS,EACpCJ,EAAS,OAAO/lG,EAAG+oB,CAAC,CACtB,CACAi9E,EAAa,CAAE,EAAAhmG,EAAG,EAAA+oB,CAAE,CACtB,CACF,CACA,SAASq9E,GAAqB,CAAE,GAAA7tE,EAAI,QAAAqe,EAAS,qBAAA+sD,CAAqB,EAAGntE,KAAqBi/B,EAAO,CAC/F,KAAM,CAAE,gBAAiB7rC,EAAO,iBAAkBC,CAAO,EAAI85E,EAC7Dx8E,GACEoR,EACA,kBACA/B,EACAi/B,EACA,CAAE,MAAO,CAAE,EACX,CAAE,MAAO7rC,CAAM,EACf,CACE,MAAO,UACP,MAAO,CAAE,SAAU,SAAU,MAAOC,EAAQ,QAAA+sB,CAAQ,EACpD,OAAQ,CAAE,SAAU,OAAQ,QAAAA,CAAQ,CACtC,CACF,CACF,CACA,SAASyvD,GAAoB,CAAE,GAAA9tE,CAAG,EAAGhC,EAAOC,EAAkBgB,EAAQ,SAAUY,EAAW,CACzFjR,GAAmBoR,EAAIhC,EAAOC,EAAkB4B,EAAW,CAAE,QAAS,CAAE,EAAG,CAAE,QAAS,CAAE,EAAG,CAAE,MAAAZ,CAAM,CAAC,CACtG,CACA,SAAS8uE,GAAqB,CAAE,GAAA/tE,CAAG,EAAGhC,EAAOC,KAAqB4B,EAAW,CAC3EjR,GAAmBoR,EAAIhC,EAAOC,EAAkB4B,EAAW,CAAE,QAAS,CAAE,EAAG,CAAE,QAAS,CAAE,EAAG,CAAE,MAAO,QAAS,CAAC,CAChH,CACA,SAASmuE,GAAiBjyF,EAAM,CAC9B,OAAQuxC,IACC,CAAE,QAASvxC,EAAK,WAAW,EAAG,aAAc,EAAG,SAAU,MAAO,EAE3E,CACA,SAASkyF,GAAe,CAAE,qBAAA7C,CAAqB,EAAGn0F,EAAM,CACtD,MAAMi3F,EAAY7nG,GAAU,SAASA,CAAK,EAAIA,EAAQ,EACtD4Q,EAAK,MAAQi3F,EAAS9C,EAAqB,eAAe,EAC1Dn0F,EAAK,MAAQi3F,EAAS9C,EAAqB,gBAAgB,CAC7D,CACA,SAAS+C,GAAoBC,EAAS,CACpC,OAAOA,EAAQ,OAAS,cAAgBA,EAAQ,OAAS,KAC3D,CACA,SAASC,GAAkBD,EAAS,CAClC,OAAOA,EAAQ,OAAS,UAC1B,CACA,SAASE,GAAS/nG,EAAGC,EAAG,CACtB,OAAOD,EAAE,OAAO,SAAWC,EAAE,OAAO,QAAUD,EAAE,MAAM,SAAWC,EAAE,MAAM,QAAUD,EAAE,OAAO,MAAM,CAACwO,EAAKvC,IAAUuC,IAAQvO,EAAE,OAAOgM,CAAK,CAAC,GAAKjM,EAAE,MAAM,MAAM,CAACwO,EAAKvC,IAAUuC,IAAQvO,EAAE,MAAMgM,CAAK,CAAC,CACpM,CACA,SAAS+7F,GAAgBhoG,EAAGC,EAAG,CAC7B,OAAID,IAAM,QAAUC,IAAM,OACjBD,IAAM,QAAUC,IAAM,OAE3B2nG,GAAoB5nG,CAAC,GAAK4nG,GAAoB3nG,CAAC,EAC1CD,EAAE,OAASC,EAAE,MAAQ8nG,GAAS/nG,EAAGC,CAAC,EAEvC6nG,GAAkB9nG,CAAC,GAAK8nG,GAAkB7nG,CAAC,EACtC8nG,GAAS/nG,EAAGC,CAAC,EAEf,EACT,CACA,SAASgoG,GAAMz5F,EAAKq5F,EAAS,CAC3B,GAAI,CAACA,EACH,MAAO,KAIT,GAHIr5F,aAAe,OACjBA,EAAMA,EAAI,QAAQ,GAEhBq5F,EAAQ,OAAS,cAAgB,OAAOr5F,GAAQ,SAElD,OADqBA,EAAMq5F,EAAQ,OAAO,CAAC,IAAMA,EAAQ,OAAO,CAAC,EAAIA,EAAQ,OAAO,CAAC,IAC/DA,EAAQ,MAAM,CAAC,EAAIA,EAAQ,MAAM,CAAC,GAAKA,EAAQ,MAAM,CAAC,EAE9E,GAAIA,EAAQ,OAAS,OAAS,OAAOr5F,GAAQ,SAC3C,OAAOq5F,EAAQ,QAAQr5F,CAAG,EAE5B,MAAM05F,EAAgBL,EAAQ,OAAO,UAAWvgG,GAAMA,IAAMkH,CAAG,EAC/D,OAAI05F,GAAiB,EACZL,EAAQ,MAAMK,CAAa,EAE7B,GACT,CACA,SAASC,GAAcC,EAASC,EAAS,CACvC,MAAO,CAACL,GAAgBI,EAAQ,OAAO,EAAGC,EAAQ,OAAO,CAAC,GAAK,CAACL,GAAgBI,EAAQ,OAAO,EAAGC,EAAQ,OAAO,CAAC,CACpH,CACA,SAASC,GAAWtoG,EAAGC,EAAG,CACxB,MAAMsoG,EAAK,OAAOvoG,CAAC,EACbwoG,EAAK,OAAOvoG,CAAC,EACnB,MAAI,CAAC,MAAMsoG,CAAE,GAAK,CAAC,MAAMC,CAAE,EAClB,KAAK,IAAIA,EAAKD,CAAE,EAAI,IAEtBvoG,IAAMC,CACf,CACA,SAASwoG,GAAgBpxE,EAAO,GAAOC,EAAK,GAAO,CACjD,OAAID,IAASC,EACJ,EAAQD,EAEVA,EAAO,KAAO,KACvB,CACA,SAASqxE,GAAmBN,EAASC,EAAS7yF,EAAO,CAAC,EAAG,CACvD,IAAI9N,EAAIiL,EAAIC,EAAIU,EAChB,KAAM,CAAE,kBAAAq1F,EAAoB,WAAY,EAAInzF,EACtCozF,EAAcC,GAAa,CAC/B,IAAIjjF,EAAKC,EACT,MAAO,CACL,EAAGoiF,IAAOriF,EAAMijF,EAAS,SAAW,KAAOjjF,EAAM,IAAKwiF,EAAQ,OAAO,CAAC,EACtE,EAAGH,IAAOpiF,EAAMgjF,EAAS,SAAW,KAAOhjF,EAAM,IAAKuiF,EAAQ,OAAO,CAAC,CACxE,CACF,EACMU,EAAclqD,GAAa,CAC/B,IAAIh5B,EAAKC,EACT,MAAO,CACL,EAAGoiF,IAAOriF,EAAMg5B,EAAS,SAAW,KAAOh5B,EAAM,IAAKyiF,EAAQ,OAAO,CAAC,EACtE,EAAGJ,IAAOpiF,EAAM+4B,EAAS,SAAW,KAAO/4B,EAAM,IAAKwiF,EAAQ,OAAO,CAAC,CACxE,CACF,EACM9nG,EAAS,CAAC,EACVwoG,EAAY,CAChB,MAAO,CAAC,EACR,MAAO,CAAC,EACR,QAAS,CAAC,CACZ,EACMC,EAAS,CAAC3xE,EAAMC,EAAI+tE,EAAQl1C,EAAS,SAAW,CAChD94B,IAAS,MAAMA,EAAK,MAAM,CAAC,GAAK,MAAMA,EAAK,MAAM,CAAC,KACpDA,EAAOC,GAET,MAAM2xE,EAAc,CAClB,KAA8B5xE,GAAK,MACnC,GAA0BC,GAAG,MAC7B,OAAQmxE,GAAwCpxE,GAAK,MAAM,OAA8BC,GAAG,MAAM,MAAM,EACxG,OAAA64B,CACF,EACIA,IAAW,QACb44C,EAAU,MAAM1D,CAAM,EAAI4D,EAC1BC,IACAC,KACSh5C,IAAW,MACpB44C,EAAU,MAAM1D,CAAM,EAAI4D,EAC1BE,KACSh5C,IAAW,QACpB44C,EAAU,QAAQ1D,CAAM,EAAI4D,EAC5BC,KAEF3oG,EAAO,KAAK0oG,CAAW,CACzB,EACM,CAAE,IAAKG,EAAa,IAAKC,CAAY,EAAIzD,GAAOyC,EAAQ,QAAQ,EAChE,CAAE,IAAKiB,EAAW,IAAKC,CAAU,EAAI3D,GAAOwC,EAAQ,QAAQ,EAClE,IAAIc,EAAS,EACTC,EAAS,EACb,KAAOD,EAASb,EAAQ,SAAS,QAAUc,EAASf,EAAQ,SAAS,QAAQ,CAC3E,MAAM/wE,EAAOgxE,EAAQ,SAASa,CAAM,EAC9B5xE,EAAK8wE,EAAQ,SAASe,CAAM,EAC5BK,EAAcnyE,EAAOuxE,EAAWvxE,CAAI,EAAI,OACxCoyE,EAAcnyE,EAAKwxE,EAAWxxE,CAAE,EAAI,OACpCoyE,EAAK,OACX,GAAIF,GAAelB,GAAWkB,EAAY,EAAyBlyE,GAAG,MAAM,CAAC,EAC3E0xE,EAAO3xE,EAAMC,EAAIA,EAAG,OAAQ,MAAM,UACzBkyE,GAAeA,EAAY,IAAM9hG,EAAkC4hG,GAAU,MAAM,IAAM,KAAO5hG,EAAK,MAC9GshG,EAAO3xE,EAAMqyE,EAAIryE,EAAK,OAAQ,KAAK,UAC1BmyE,GAAeA,EAAY,IAAM72F,EAAkC42F,GAAU,MAAM,IAAM,KAAO52F,EAAK,KAC9Gq2F,EAAO3xE,EAAMqyE,EAAIryE,EAAK,OAAQ,KAAK,UAC1BoyE,GAAeA,EAAY,IAAM72F,EAAoCw2F,GAAY,MAAM,IAAM,KAAOx2F,EAAK,MAClHo2F,EAAOU,EAAIpyE,EAAIA,EAAG,OAAQ,IAAI,UACrBmyE,GAAeA,EAAY,IAAMn2F,EAAoC+1F,GAAY,MAAM,IAAM,KAAO/1F,EAAK,KAClH01F,EAAOU,EAAIpyE,EAAIA,EAAG,OAAQ,IAAI,UACrBkyE,GAAeA,EAAY,EAA2BlyE,GAAG,MAAM,EACxE0xE,EAAO3xE,EAAMqyE,EAAIryE,EAAK,OAAQ,KAAK,UAC1BoyE,GAAeA,EAAY,EAA6BpyE,GAAK,MAAM,EAC5E2xE,EAAOU,EAAIpyE,EAAIA,EAAG,OAAQ,IAAI,UACrBD,EACT2xE,EAAO3xE,EAAMqyE,EAAIryE,EAAK,OAAQ,KAAK,UAC1BC,EACT0xE,EAAOU,EAAIpyE,EAAIA,EAAG,OAAQ,IAAI,MAE9B,OAAM,IAAI,MAAM,0BAA0B,CAE9C,CACA,OAAA+uE,GAAsB9lG,EAAQooG,CAAiB,EACxC,CAAE,OAAApoG,EAAQ,UAAAwoG,CAAU,CAC7B,CACA,SAASY,GAAiBvB,EAASC,EAASnzF,EAAOM,EAAO,CAAC,EAAG,CAC5D,IAAI9N,EAAIiL,EAAIC,EACZ,KAAM,CAAE,kBAAA+1F,EAAoB,YAAa,WAAAiB,EAAa,EAAM,EAAIp0F,EAC1DjV,EAAS,CAAC,EACVspG,EAAkB,CACtB,MAAO,CAAC,EACR,MAAO,CAAC,EACR,QAAS,CAAC,CACZ,EACMC,EAAiB,CACrB,MAAO,CAAC,EACR,MAAO,CAAC,EACR,QAAS,CAAC,CACZ,EACMC,EAAqB,CACzB,GAAI,QACJ,KAAM,QACN,IAAK,SACP,EACA,IAAIC,EACAC,EACJ,MAAMC,EAAiB,CAAC7E,EAAQ8E,IAAa,CAC3C,IAAIvkF,EAAKC,EACT,MAAM/T,EAAOi4F,EAAmBI,EAAS,MAAM,EAC3CP,IACD/jF,GAAOD,EAAMkkF,EAAeh4F,CAAI,GAAGuzF,CAAM,IAAM,OAAaz/E,EAAIy/E,CAAM,EAAI,CAAC,GAC5EyE,EAAeh4F,CAAI,EAAEuzF,CAAM,EAAE,KAAK8E,CAAQ,GAE1CN,EAAgB/3F,CAAI,EAAEuzF,CAAM,EAAI8E,EAElCH,EAAsBG,EACtBF,EAAiB90D,GAAiCkwD,CAAM,CAC1D,EACA,IAAI+E,EAAW,EACX3nC,EAAW,EACX4nC,EAAe,GACnB,KAAOD,EAAW/B,EAAQ,SAAS,QAAU5lC,EAAW2lC,EAAQ,SAAS,QAAQ,CAC/E,MAAMkC,EAASjC,EAAQ,SAAS+B,CAAQ,EAClCG,EAAQnC,EAAQ,SAAS3lC,CAAQ,EACjC+nC,EAAUr1D,GAA2Dm1D,GAAO,MAAM,EAClFG,EAAUt1D,GAA0Do1D,GAAM,MAAM,EACtF,IAAItB,EACJ,GAAIuB,IAAYC,EACdxB,EAAc,CACZ,OAAQ,OACR,OAAQR,IAAiB/gG,EAAK4iG,EAAO,MAAM,SAAW,KAAO5iG,EAAK,GAAO6iG,EAAM,MAAM,MAAM,EAC3F,KAAMD,EAAO,MACb,GAAIC,EAAM,KACZ,EACAL,EAAyCI,GAAO,OAAQrB,CAAW,EACnEmB,IACA3nC,YACkCvtD,GAAM,QAAQ,IAAI,OAAOs1F,CAAO,CAAC,EACnEvB,EAAc,CACZ,OAAQ,MACR,QAASt2F,EAAK23F,EAAO,MAAM,SAAW,KAAO33F,EAAK,GAClD,KAAM23F,EAAO,KACf,EACAJ,EAAyCI,GAAO,OAAQrB,CAAW,EACnEmB,YACkCl1F,GAAM,MAAM,IAAI,OAAOu1F,CAAO,CAAC,EACjExB,EAAc,CACZ,OAAQ,KACR,QAASr2F,EAAK23F,EAAM,MAAM,SAAW,KAAO33F,EAAK,GACjD,GAAI23F,EAAM,KACZ,EACAL,EAAwCK,GAAM,OAAQtB,CAAW,EACjExmC,YACSmnC,GAAcI,GAAuBC,IAAmBO,EACjEvB,EAAc3mG,EAAgB,CAAC,EAAG0nG,CAAmB,EACrDE,EAAyCI,GAAO,OAAQrB,CAAW,EACnEmB,YACSR,GAAcI,GAAuBC,IAAmBQ,EACjExB,EAAc3mG,EAAgB,CAAC,EAAG0nG,CAAmB,EACrDE,EAAwCK,GAAM,OAAQtB,CAAW,EACjExmC,QACK,CACL4nC,EAAe,GACf,KACF,CACA9pG,EAAO,KAAK0oG,CAAW,CACzB,CACA,IAAIyB,EAAY,KAShB,OARAL,IAAiBA,EAAe9pG,EAAO,KAAMoqG,GAAc,CACzD,KAAM,CAAE,OAAQzpD,EAAQ,GAAI,CAAE,EAAAhgD,EAAI,IAAU,EAAI,CAAC,CAAE,EAAIypG,EACvD,GAAIzpD,IAAW,MACb,OACF,MAAM0pD,EAAY1pG,EAAIwpG,EACtB,OAAAA,EAAYxpG,EACL0pG,CACT,CAAC,GACGP,EACK,CAAE,OAAQ,OAAQ,UAAW,MAAO,GAE7ChE,GAAsB9lG,EAAQooG,CAAiB,EACxC,CAAE,OAAApoG,EAAQ,UAAWqpG,EAAaE,EAAiBD,CAAgB,EAC5E,CACA,SAASgB,GAAoBzC,EAASC,EAAStB,EAAU,CACvD,IAAIr/F,EAAIiL,EAAIC,EAAIU,EAChB,IAAIklB,EAAS,UACb,MAAMsf,EAAWjhC,GACRA,EAAK,QAEd,GAAI,CAACihC,EAAQuwD,CAAO,GAAKvwD,EAAQswD,CAAO,EACtC5vE,EAAS,gBACAsf,EAAQuwD,CAAO,GAAK,CAACvwD,EAAQswD,CAAO,EAC7C5vE,EAAS,cAET,SAASh4B,EAAI,EAAGA,EAAIumG,EAAS,QACvB,EAAAA,EAASvmG,CAAC,EAAE,SAAW,UAErBkH,EAAKq/F,EAASvmG,CAAC,EAAE,OAAS,KAAO,OAASkH,EAAG,OAASiL,EAAKo0F,EAASvmG,CAAC,EAAE,KAAO,KAAO,OAASmS,EAAG,MAEjGC,EAAKm0F,EAASvmG,CAAC,EAAE,OAAS,KAAO,OAASoS,EAAG,OAASU,EAAKyzF,EAASvmG,CAAC,EAAE,KAAO,KAAO,OAAS8S,EAAG,IALpE9S,IAOnC,GAAIA,IAAMumG,EAAS,OAAS,EAC1B,MAAO,QAGb,OAAOvuE,CACT,CACA,SAASsyE,GAAiCtyE,EAAQuyE,EAAmB,CACnE,MAAMryE,EAAQqyE,IAAsB,OAAS,UAAYvyE,EACnDj4B,EAAS,CACb,OAASyqG,GAAU,CACjB,IAAIC,EACJ,OAAIzyE,IAAW,UACbyyE,EAAQ,CAAE,OAAQ,CAAE,QAAS,EAAM,CAAE,EAC5BzyE,IAAW,QACpByyE,EAAQ,CAAE,MAAO,CAAE,QAAS,EAAK,CAAE,EAEnCA,EAAQ,CAAC,EAEJ3oG,EAAgB,CAAE,MAAO6lB,GAAmCuQ,CAAK,CAAE,EAAGuyE,CAAK,CACpF,EACA,KAAOD,IACE,CAAE,MAAO7iF,GAAmCuQ,CAAK,CAAE,EAE9D,EACA,OAAIqyE,IAAsB,OACjB,CACL,OAASr6F,GAAS,CAChB,MAAM45B,EAAU9R,IAAW,QAAU,EAAI9nB,EAAK,QAC9C,OAAOpO,EAAgB,CAAE,QAAAgoC,CAAQ,EAAG/pC,EAAO,OAAOmQ,CAAI,CAAC,CACzD,EACA,KAAOA,GAEEpO,EAAgB,CAAE,QADTk2B,IAAW,UAAY,EAAI,CACV,EAAGj4B,EAAO,KAAKmQ,CAAI,CAAC,CAEzD,EAEKnQ,CACT,CACA,SAAS2qG,GAA4B9C,EAASC,EAAStB,EAAUgE,EAAmBI,EAAQ,CAC1F,MAAM3yE,EAASqyE,GAAoBzC,EAASC,EAAStB,CAAQ,EACvDvD,EAAgB,CAAC1zC,EAAOp/C,IAAS,CACrCy6F,EAAOpE,EAAU,CAAE,KAAM,EAAG,IAAKj3C,CAAM,EAAGp/C,CAAI,CAChD,EACM6yF,EAAgB,CAACzzC,EAAOp/C,IAAS,CACrCy6F,EAAOpE,EAAU,CAAE,KAAMj3C,CAAM,EAAGp/C,CAAI,CACxC,EACM4yF,EAAa,CAACxzC,EAAOp/C,IAAS,CAClCy6F,EAAOpE,EAAU,CAAE,KAAM,EAAG,GAAIj3C,CAAM,EAAGp/C,CAAI,CAC/C,EACM06F,EAAiBN,GAAiCtyE,EAAQuyE,CAAiB,EACjF,MAAO,CAAE,OAAAvyE,EAAQ,KAAM,CAAE,WAAA8qE,EAAY,cAAAC,EAAe,cAAAC,CAAc,EAAG,eAAA4H,CAAe,CACtF,CACA,SAASC,GAAyBjD,EAASC,EAASnzF,EAAO,CACzD,IAAIxN,EAAIiL,EAAIC,EACZ,MAAM04F,IAAoB5jG,EAAK0gG,EAAQ,OAAO,IAAM,KAAO,OAAS1gG,EAAG,QAAU,WAC3E6jG,IAAqB54F,EAAK01F,EAAQ,OAAO,IAAM,KAAO,OAAS11F,EAAG,QAAU,WAClF,GAAI24F,IAAoBC,EACtB,OAEF,KAAM,CAAE,OAAQxE,EAAU,UAAW7B,CAAQ,EAAIoG,EAAkB3B,GAAiBvB,EAASC,EAASnzF,CAAK,EAAIwzF,GAAmBN,EAASC,CAAO,EAClJ,IAAI7vE,EAAS,UAMb,GALI6vE,EAAQ,SAAW,CAACD,EAAQ,QAC9B5vE,EAAS,UACA,CAAC6vE,EAAQ,SAAWD,EAAQ,UACrC5vE,EAAS,SAEPuuE,IAAa,QAAU7B,IAAY,OACrC,OAEF,MAAMsG,IAAc54F,EAA8BsC,GAAM,UAAY,KAAOtC,EAAK,KAASu1F,GAAcC,EAASC,CAAO,GAAK7vE,IAAW,UACjIizE,EAAUP,GAA4B9C,EAASC,EAAStB,EAAU,OAAQD,EAAiB,EAC3F5lD,EAAS+jD,GAAuBC,EAAS1sE,CAAM,EACrD,OAAOj2B,EAAcD,EAAgB,CAAC,EAAGmpG,CAAO,EAAG,CAAE,OAAAvqD,EAAQ,UAAAsqD,CAAU,CAAC,CAC1E,CACA,IAAIE,IAAkCC,IACpCA,EAAeA,EAAe,KAAU,CAAC,EAAI,OAC7CA,EAAeA,EAAe,OAAY,CAAC,EAAI,SAC/CA,EAAeA,EAAe,OAAY,CAAC,EAAI,SAC/CA,EAAeA,EAAe,MAAW,CAAC,EAAI,QACvCA,IACND,IAAiB,CAAC,CAAC,EACtB,SAASE,GAAgBlvE,EAAS,CAChC,KAAM,CAAE,OAAAmvE,EAAQ,cAAAC,CAAc,EAAIpvE,EAAQ,SAC1C,MAAO,CAAE,IAAKmvE,EAAQ,OAAQC,CAAc,CAC9C,CACA,SAASC,GAAWlsG,EAAK0uB,EAAKs9E,EAAQ,CACpC,MAAO,CACL,OAAQt9E,EAAI,OACZ,SAAUs9E,EAAOhsG,CAAG,EACpB,QAAS0uB,EAAI,OACf,CACF,CACA,SAASy9E,GAAqB5D,EAASC,EAASnzF,EAAO,CACrD,MAAM+2F,EAAYL,GAAgBvD,CAAO,EACnC6D,EAAYN,GAAgBxD,CAAO,EACnC+D,EAAW,CAAE,WAAY,EAAK,EACpC,MAAO,CACL,IAAKxC,GACHoC,GAAW,MAAO3D,EAAS8D,CAAS,EACpCH,GAAW,MAAO1D,EAAS4D,CAAS,EACpC/2F,EACAi3F,CACF,EACA,OAAQxC,GACNoC,GAAW,SAAU3D,EAAS8D,CAAS,EACvCH,GAAW,SAAU1D,EAAS4D,CAAS,EACvC/2F,EACAi3F,CACF,CACF,CACF,CACA,SAASC,GAAuBhE,EAASC,EAAS,CAChD,MAAM4D,EAAYL,GAAgBvD,CAAO,EACnC6D,EAAYN,GAAgBxD,CAAO,EACzC,MAAO,CACL,IAAKM,GAAmBqD,GAAW,MAAO3D,EAAS8D,CAAS,EAAGH,GAAW,MAAO1D,EAAS4D,CAAS,CAAC,EACpG,OAAQvD,GAAmBqD,GAAW,SAAU3D,EAAS8D,CAAS,EAAGH,GAAW,SAAU1D,EAAS4D,CAAS,CAAC,CAC/G,CACF,CACA,SAASI,GAAyBjE,EAASC,EAASnzF,EAAO,CACzD,IAAIxN,EAAIiL,EACR,MAAM24F,IAAoB5jG,EAAK0gG,EAAQ,OAAO,IAAM,KAAO,OAAS1gG,EAAG,QAAU,WAC3E6jG,IAAqB54F,EAAK01F,EAAQ,OAAO,IAAM,KAAO,OAAS11F,EAAG,QAAU,WAClF,GAAI24F,IAAoBC,EACtB,OAEF,IAAI/yE,EAAS,UACT6vE,EAAQ,SAAW,CAACD,EAAQ,QAC9B5vE,EAAS,UACA,CAAC6vE,EAAQ,SAAWD,EAAQ,UACrC5vE,EAAS,SAEX,MAAM8zE,EAAqB,IACrBhB,EACK3B,GAAiBvB,EAASC,EAASnzF,EAAO,CAAE,kBAAmB,SAAU,WAAY,EAAK,CAAC,EAE7FwzF,GAAmBN,EAASC,EAAS,CAAE,kBAAmB,QAAS,CAAC,EAEvEkE,EAAmB,IACnBjB,EACKU,GAAqB5D,EAASC,EAASnzF,CAAK,EAE9Ck3F,GAAuBhE,EAASC,CAAO,EAE1C,CAAE,UAAWmE,CAAc,EAAIF,EAAmB,EAClD,CAAE,IAAAzgF,EAAK,OAAAC,CAAO,EAAIygF,EAAiB,EACzC,GAAIC,IAAkB,QAAU3gF,EAAI,SAAW,QAAUC,EAAO,SAAW,OACzE,OAEF,MAAMi7E,EAAW,CAAC,GAAGl7E,EAAI,OAAQ,GAAGC,EAAO,OAAO,QAAQ,CAAC,EAErD2gF,GADepE,EAAQ,aAAeD,EAAQ,aAAe,IACnC,OAAS,OACnC97D,EAAO4+D,GAA4B9C,EAASC,EAAStB,EAAU0F,EAAU3F,EAAiB,EAC1F5lD,EAAS+jD,GAAuBuH,EAAeh0E,CAAM,EAC3D,MAAO,CAAE,OAAQ8T,EAAK,OAAQ,KAAAA,EAAM,OAAA4U,CAAO,CAC7C,CACA,IAAIwrD,GAAa,cAAcliB,EAAgB,CAC7C,YAAY9kC,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,cAAeykC,GACf,eAAgBC,GAChB,eAAgB,EAChB,0BAA2B,CAAC,EAAG,GAAG,EAClC,WAAY,GACZ,iCAAkC,GAClC,UAAW,CACT,EACA,CAEF,EACA,kBAAmB,CACjB,KAAMqd,GAAiB,CAAE,WAAY,IAAM,KAAK,WAAW,CAAE,CAAC,EAC9D,MAAOxD,GACP,OAAQ,CAACvuF,EAAM0a,IAAU9tB,EAAgBA,EAAgB,CAAC,EAAGyiG,GAAcrvF,CAAI,CAAC,EAAGsvF,GAAsBtvF,EAAM0a,CAAK,CAAC,CACvH,CACF,CAAC,EACD,KAAK,WAAa,IAAIo0E,EACxB,CACA,YAAY7oB,EAAgB,CAC1B,OAAO34E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,GAAI,KAAK,MAAQ,MAAQ,CAAC,KAAK,WAAW,QAAQ,EAChD,OAEF,KAAM,CAAE,KAAAkE,EAAM,QAAAihC,EAAS,eAAgB,CAAE,WAAArxB,EAAa,KAAK,GAAI,WAAAkmF,EAAa,CAAE,EAAI,CAAC,CAAE,EAAI,KACnF,CAAE,KAAAC,EAAM,KAAAC,EAAM,mBAAAC,EAAoB,aAAAC,CAAa,EAAI,KAAK,WACxD5gB,EAAmB,CAAC,KAAK,IAAI,iBAAiB,UAAU,EACxDjD,GAAUxhF,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnByhF,GAAUx2E,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnB,CAAE,cAAAy2E,EAAe,WAAA4jB,EAAY,WAAAC,CAAW,EAAI,KAAK,oBAAoB,CAAE,OAAA/jB,EAAQ,OAAAC,CAAO,CAAC,EACvF1iB,EAAM,CACV,cAAchgD,CAAU,WACxB,cAAcA,CAAU,oBACxB,cAAcA,CAAU,gBACxB,cAAcA,CAAU,yBACxB,cAAcA,CAAU,iBAC1B,EACMymF,EAAa,CAAC,EAChB3+F,GAAUw+F,CAAY,IACxBG,EAAW,KAAKr8B,GAAiB,CAACpK,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAAGsmC,EAAc,OAAO,CAAC,EACjFG,EAAW,KAAKr8B,GAAiB,CAACpK,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAAGsmC,EAAc,OAAO,CAAC,GAEvE,CAAC3jB,GAAiB+C,GAAoB,KAAK,eAC7C+gB,EAAW,KAAKz6B,GAAK,KAAK,aAAa,CAAC,EAEtC0Z,GACF+gB,EAAW,KAAK37B,GAAoB,CAAC,EAEvC,MAAM47B,EAAS,CAAE,aAAc,IAAK,EAChCL,GAAsBH,EAAa,IACrCQ,EAAO,aAAe,GAEnBr1D,IACHq1D,EAAO,WAAa,GAEtB,MAAM,KAAK,iBAAiBxxB,EAAgB9kE,EAAM,CAChD,MAAO,CACL28D,GAAYo5B,EAAMI,EAAY,CAAE,GAAI,QAAS,CAAC,EAC9Ct5B,GAAcm5B,EAAMI,EAAY3qG,EAAgB,CAAE,GAAI,WAAY,EAAG6qG,CAAM,CAAC,EAC5E,GAAGp5B,GACD84B,EACA,SACA,UACAtqG,EAAcD,EAAgB,CAC5B,GAAI,WACN,EAAG6qG,CAAM,EAAG,CACV,QAAS1mC,EAAI,CAAC,CAChB,CAAC,EACDwmC,CACF,EACA,GAAGl5B,GACD84B,EACA,kBACA,UACAtqG,EAAcD,EAAgB,CAC5B,GAAI,aACN,EAAG6qG,CAAM,EAAG,CACV,QAAS1mC,EAAI,CAAC,CAChB,CAAC,EACDwmC,CACF,EACA,GAAGl5B,GACD84B,EACA,SACA,OACAtqG,EAAcD,EAAgB,CAC5B,GAAI,mBACN,EAAG6qG,CAAM,EAAG,CACV,QAAS1mC,EAAI,CAAC,CAChB,CAAC,EACDwmC,CACF,EACA,GAAGl5B,GACD84B,EACA,kBACA,OACAtqG,EAAcD,EAAgB,CAC5B,GAAI,qBACN,EAAG6qG,CAAM,EAAG,CACV,QAAS1mC,EAAI,CAAC,CAChB,CAAC,EACDwmC,CACF,EACA,GAAGl5B,GACD84B,EACA,SACA,UACAtqG,EAAcD,EAAgB,CAC5B,GAAI,kBACN,EAAG6qG,CAAM,EAAG,CACV,QAAS1mC,EAAI,CAAC,CAChB,CAAC,EACDwmC,CACF,EACA,GAAGC,CACL,EACA,YAAa,GACb,YAAa,EACf,CAAC,EACD,KAAK,eAAe,WAAW,YAAY,CAC7C,CAAC,CACH,CACA,gBAAgB90D,EAAW,CACzB,KAAM,CAAE,cAAA0tB,EAAe,UAAA8E,EAAW,KAAA5uD,CAAK,EAAI,KAC3C,GAAI,CAAC8pD,GAAiB,CAAC8E,GAAa9E,EAAc,KAAK,SAAW,EAChE,MAAO,CAAC,EACV,MAAM+mB,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGIoxF,EAASxiC,EAAU,4BAA4B,KAAM,QAAQ,EAC7D76D,EAAO66D,EAAU,UAAU,KAAM,SAAU,MAAO9E,CAAa,EAC/DunC,EAAUziC,EAAU,UAAU,KAAM,YAAa,QAAS9E,CAAa,EAC7E,GAAI1tB,IAAc,IAChB,OAA+Bg1D,GAAO,IAAI,OAAU,OAASA,EAAO,IAAI,YAAc,WAC7Er9F,EAEF80D,GAAiBvkD,GAAOvQ,CAAI,EAAG88E,CAAK,EACtC,GAAIC,aAAiBmG,IAAWnG,aAAiBwG,GACtD,OAAOzuB,GAAiBwoC,EAASvgB,CAAK,EACjC,CACL,MAAMwgB,EAAe,CAACD,EAAQ,CAAC,EAAI,EAAI,EAAIA,EAAQ,CAAC,EAAGA,EAAQ,CAAC,EAAI,EAAI,EAAIA,EAAQ,CAAC,CAAC,EACtF,OAAOxoC,GAAiByoC,EAAcxgB,CAAK,CAC7C,CACF,CACA,gBAAiB,CACf,OAAO9pF,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EACJ,KAAM,CAAE,KAAAsU,EAAM,KAAAnF,EAAM,cAAe,CAAE,KAAM02F,CAAY,EAAI,CAAC,EAAG,UAAA3iC,CAAU,EAAI,KACvEiiB,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGF,GAAI,CAAC6wE,GAAS,CAACC,GAAS,CAACj2E,GAAQ,CAAC+zD,GAAa,CAAC,KAAK,WAAW,QAAQ,EACtE,OAEF,KAAM,CACJ,KAAAiiC,EACA,KAAAD,EACA,OAAA1rD,EACA,MAAAxI,EACA,KAAM80D,EACN,OAAQC,EACR,mBAAAX,CACF,EAAI,KAAK,WACH,CAAE,MAAO5jB,CAAO,EAAI2D,EACpB,CAAE,MAAO1D,CAAO,EAAI2D,EACpB,CAAE,cAAAzD,CAAc,EAAI,KAAK,oBAAoB,CAAE,OAAAH,EAAQ,OAAAC,CAAO,CAAC,EAC/DpiE,IAAYrf,EAAKwhF,EAAO,YAAc,KAAOxhF,EAAK,GAAK,EACvDm+D,EAAO+E,EAAU,8BAA8B,KAAM,CACzD,cACA,YACA,YACA,sBACA,oBACA,kBACF,CAAC,EACK8iC,EAAmBC,GAAeprG,EAAcD,EAAgB,CAAC,EAAGqrG,CAAU,EAAG,CACrF,MAAOprG,EAAcD,EAAgB,CAAC,EAAGqrG,EAAW,KAAK,EAAG,CAAE,OAAQ,EAAK,CAAC,CAC9E,CAAC,EACKC,EAAwB,CAACvI,EAAQwI,EAAUl3D,IAAS,CACxD,MAAMz1C,GAAIgoF,EAAO,QAAQmc,CAAM,EAAIt+E,EAC7B+mF,GAAkB3kB,EAAO,QAAQ0kB,CAAQ,EACzCE,GAAkB5kB,EAAO,QAAQxyC,CAAI,EAC3C,MAAO,CACL,CAAE,MAAO,CAAE,EAAAz1C,GAAG,EAAG6sG,EAAgB,EAAG,OAAQp3D,EAAM,OAAA0uD,CAAO,EACzD,CAAE,MAAO,CAAE,EAAAnkG,GAAG,EAAG4sG,EAAgB,EAAG,OAAQD,EAAU,OAAAxI,CAAO,CAC/D,CACF,EACM2I,EAAyB,CAACC,EAAQt3D,EAAMu3D,IAAc,CAC1D,IAAIC,GACJ,OAAI5/F,GAAU,KAAK,WAAW,YAAY,EAAI86E,GAAiBr0C,GAAak5D,CAAS,EAAI,CAAC,MAAMA,CAAS,KACvGC,GAAQx3D,GAEH,CACL,EAAGuyC,EAAO,QAAQ+kB,CAAM,EAAIlnF,EAC5B,EAAGoiE,EAAO,QAAQglB,EAAK,EACvB,KAAMjtD,EAAO,IACf,CACF,EACM0d,EAASiuC,EACTxhD,EAAY,CAAC,EACb+iD,EAAa,CAAC,EACd,CAAE,sBAAAC,CAAsB,EAAI,KAAK,IAAI,mBAAmB,yBAAyB,IAAI,EACrF3xE,EAAU,CACd,OAAAkiC,EACA,SAAU,CAAE,OAAAA,EAAQ,OAAQ,CAAC,EAAG,cAAe,CAAC,CAAE,EAClD,WAAY,CAAE,OAAAA,EAAQ,OAAQ,CAAC,CAAE,EACjC,UAAAvT,EACA,SAAU+iD,EACV,OAAQ,KAAK,iBAAiB,EAC9B,QAAS,KAAK,QACd,aAAcC,EAAwB,CACxC,EACMC,EAAa5xE,EAAQ,SAAS,OAC9B6xE,EAAoB7xE,EAAQ,SAAS,cACrC8xE,EAAe9xE,EAAQ,WAAW,OACxC,IAAI6qC,EAAW,GACXknC,EACAC,EAAa,KACjB,OAA+BnB,GAAY,QAASoB,GAAe,CACjE,KAAM,CACJ,KAAA5+F,EACA,KAAM,CAACk+F,CAAM,EACb,MAAOW,GACP,OAAQC,EACV,EAAIF,EACJE,GAAY,QAAQ,CAACtuF,GAAQmoD,KAAa,CACxC,IAAI9iD,GAAKjT,GAAIC,EACb20D,IACA,MAAMunC,GAAcF,GAAWlmC,EAAQ,EACjCqmC,EAAankC,EAAU,+BAA+B/E,EAAM,CAAE,KAAA91D,EAAM,OAAAwQ,EAAO,CAAC,EAC5E,CAAE,UAAWyuF,GAAQ,iBAAAC,EAAiB,EAAIF,EAChD,GAAI,CAAE,YAAAG,GAAa,UAAAC,GAAW,oBAAAC,EAAqB,kBAAAC,EAAkB,EAAIN,EACzE,MAAMO,GAAaN,IAAU,KACvBjgE,GAAQi/D,EAAuBC,EAAQ,CAACgB,GAAkBD,EAAM,EAmBtE,GAlBIM,IAAcpuD,GAChBktD,EAAW,KAAK,CACd,MAAO7mC,EACP,OAAQ,KACR,OAAA3I,EACA,MAAOkwC,GACP,SAAU,CAAE,EAAG//D,GAAM,EAAG,EAAGA,GAAM,CAAE,EACnC,gBAAiBogE,GACjB,OAAQH,GACR,OAAQf,EACR,KAAApB,EACA,KAAAD,EACA,MAAA79D,GACA,MAAOnpB,GAAMs7B,EAAO,OAAS,KAAOt7B,GAAM4nF,EAC1C,QAAS76F,GAAKuuC,EAAO,SAAW,KAAOvuC,GAAK86F,EAC5C,aAAc76F,EAAKsuC,EAAO,cAAgB,KAAOtuC,EAAK,KAAK,eAAe,KAAK,WAAW,WAAW,CACvG,CAAC,EAEC08F,IAAc52D,EAAO,CACvB,MAAMmkD,GAAY,KAAK,aACrBnkD,EACA,CACE,MAAOs2D,GACP,MAAOF,GACP,KAAAlC,EACA,KAAAC,EACA,MAAO,KAAK,WAAW,MACvB,MAAO,KAAK,WAAW,KACzB,EACC/sG,IAAUsP,GAAetP,EAAK,EAAIA,GAAM,QAAQ,CAAC,EAAI,OAAOA,EAAK,CACpE,EACAurD,EAAU,KAAK,CACb,MAAOkc,EACP,OAAQ,KACR,OAAQslC,EACR,MAAOiC,GACP,EAAG//D,GAAM,EACT,EAAGA,GAAM,EACT,MAAO8tD,GAAY,CACjB,KAAMA,GACN,UAAWnkD,EAAM,UACjB,WAAYA,EAAM,WAClB,SAAUA,EAAM,SAChB,WAAYA,EAAM,WAClB,UAAW,SACX,aAAc,SACd,KAAMA,EAAM,KACd,EAAI,MACN,CAAC,CACH,CACA,MAAM62D,GAASd,GAAc,MAAQR,GAAU,KACzCuB,GAASd,GAAc,MAAQY,GAChCE,KACHN,GAAcA,IAAoC,EAClDC,GAAYD,IAAoC,EAChDE,EAAsBA,GAAoD,EAC1EC,GAAoBD,GAAoD,GAE1E,KAAM,CAACK,GAASC,EAAU,EAAI9B,EAAsBa,EAAYW,EAAqBC,EAAiB,EAChG,CAACxjF,GAAKC,EAAM,EAAI8hF,EAAsBK,EAAQiB,GAAaC,EAAS,EACtEI,KAAW,CAACzC,GAAsB0C,MACpClB,EAAW,KAAKmB,GAAS5jF,EAAG,EAC5B0iF,EAAkB,KAAKmB,GAAY5jF,EAAM,GAEvC0jF,IAAUjoC,EAAW,GACvBinC,EAAa,KAAKd,EAAgB+B,EAAO,EAAG5jF,EAAG,EAEjD4iF,EAAaR,EACbS,EAAaM,EACf,CAAC,CACH,CAAC,EACGR,EAAa,OAAS,IACxBA,EAAa,CAAC,EAAId,EAAgBc,EAAa,CAAC,CAAC,GAE5C9xE,CACT,CAAC,CACH,CACA,wBAAyB,CACvB,OAAO,KAAK,WAAW,OAAO,QAAQ,CACxC,CACA,eAAgB,CACd,KAAM,CAAE,MAAAqsD,CAAM,EAAI,KAAK,WAAW,OAC5B8C,EAAc7C,GAAUD,CAAK,EACnC,OAAO,IAAI8C,CACb,CACA,gBAAgBr2E,EAAM,CACpB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,QAAAsnC,EAAS,QAAAwN,EAAS,iBAAAq0C,CAAiB,EAAI32E,EACzC,CAAC82B,EAAMa,CAAM,EAAI33B,EAAK,MACtB43B,EAAc,KAAK,eAAe,KAAK,WAAW,WAAW,EACnED,EAAO,cAAc,CACnB,IAAK,EACL,KAAM,OACN,SAAUA,EAAO,QAAU,QAC3B,cAAe,EACf,OAAQ,KAAK,WAAW,OACxB,YAAAC,EACA,cAAe,KAAK,WAAW,cAC/B,SAAU,KAAK,WAAW,SAC1B,eAAgB,KAAK,WAAW,eAChC,QAAA9C,EACA,QAAAwN,CACF,CAAC,EACDxL,EAAK,cAAc,CACjB,IAAK,EACL,OAAQ,OACR,SAAU,QACV,cAAe,EACf,KAAM,KAAK,WAAW,KACtB,YAAa,KAAK,WAAW,YAC7B,SAAU,KAAK,WAAW,SAC1B,eAAgB,KAAK,WAAW,eAChC,cAAe,KAAK,WAAW,cAC/B,WAAY,KAAK,WAAW,OAC5B,QAAAhC,EACA,QAASwN,GAAWq0C,EACpB,YAAA/+C,CACF,CAAC,EACDs6D,GAAe,KAAMv6D,CAAM,EAC3Bu6D,GAAe,KAAMp7D,CAAI,CAC3B,CAAC,CACH,CACA,YAAY92B,EAAM,CAChB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAK,gBAAgBwS,EAAK,MAAOA,EAAK,WAAW,CACnD,CAAC,CACH,CACA,gBAAgBmhD,EAAOi1B,EAAa,CAClC,KAAK,eAAej1B,EAAOi1B,CAAW,EACtC,KAAK,iBAAiBj1B,EAAOi1B,CAAW,CAC1C,CACA,eAAej1B,EAAOi1B,EAAa,CACjC,KAAM,CAAE,SAAA+jB,CAAS,EAAI/jB,EACf,CAACt/C,CAAI,EAAIqqB,EACT,CAAE,KAAMi5C,CAAS,EAAItjE,EAC3BsjE,EAAS,MAAM,EAAI,EACnB,IAAIC,EACJ,SAAW,CAAE,MAAA9gE,CAAM,IAAKtpC,GAAQkqG,EAAS,OAAQ/pG,GAAoB+pG,EAAS,aAAa,CAAC,EACtF5gE,EAAM,OACR6gE,EAAS,OAAO7gE,EAAM,EAAGA,EAAM,CAAC,EACO8gE,GAAU,IAAO9gE,EAAM,IAC1D8gE,GACFD,EAAS,OAAOC,EAAU,EAAGA,EAAU,CAAC,EAE1CD,EAAS,OAAO7gE,EAAM,EAAGA,EAAM,CAAC,GAElC8gE,EAAY9gE,EAEV8gE,GACFD,EAAS,OAAOC,EAAU,EAAGA,EAAU,CAAC,EAE1CD,EAAS,UAAU,EACnBtjE,EAAK,eAAe,CACtB,CACA,iBAAiBqqB,EAAOi1B,EAAa,CACnC,KAAM,CAAE,WAAAkkB,CAAW,EAAIlkB,EACjB,CAAC,CAAEz+C,CAAM,EAAIwpB,EACb,CAAE,KAAMo5C,CAAW,EAAI5iE,EAC7B4iE,EAAW,MAAM,EAAI,EACrB,SAAW,CAAE,MAAAhhE,CAAM,IAAK+gE,EAAW,OAC7B/gE,EAAM,OACRghE,EAAW,OAAOhhE,EAAM,EAAGA,EAAM,CAAC,EAElCghE,EAAW,OAAOhhE,EAAM,EAAGA,EAAM,CAAC,EAGtC5B,EAAO,eAAe,CACxB,CACA,sBAAsB33B,EAAM,CAC1B,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,SAAAymF,EAAU,gBAAAkC,CAAgB,EAAIn2E,EACtC,OAAI,KAAK,WAAW,OAAO,QAAQ,IACjCm2E,EAAgB,MAAM,EACtBA,EAAgB,QAAQ,GAEnBA,EAAgB,OAAO,KAAK,WAAW,OAAO,QAAUlC,EAAW,CAAC,CAAC,CAC9E,CAAC,CACH,CACA,kBAAkBj0E,EAAM,CACtB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,gBAAA2oF,EAAiB,YAAaqkB,CAAY,EAAIx6F,EAChD,CAAE,KAAAo3F,EAAM,KAAAC,EAAM,OAAA3rD,EAAQ,KAAA5U,EAAM,OAAAa,EAAQ,YAAAC,EAAa,YAAAF,EAAa,cAAAK,EAAe,eAAAwtD,CAAe,EAAI,KAAK,WACrGkV,EAAYngG,GAAckgG,GAAejV,EAAe,KAAM75C,EAAO,SAAS,EAAG,CACrF,KAAA5U,EACA,OAAAa,EACA,YAAAC,EACA,YAAAF,EACA,cAAAK,CACF,CAAC,EACDo+C,EAAgB,KAAK,CAACj2E,EAAM0a,IAAU,CACpC,KAAK,kBAAkB1a,EAAMwrC,EAAQ,CAAE,MAAA9wB,EAAO,YAAA4/E,EAAa,KAAApD,EAAM,KAAAC,CAAK,EAAGoD,CAAS,CACpF,CAAC,EACID,GACH,KAAK,WAAW,OAAO,UAAU,CAErC,CAAC,CACH,CACA,qBAAqBx6F,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,UAAAqoD,EAAW,eAAAqgC,CAAe,EAAIl2E,EACtC,OAAOk2E,EAAe,OAAOrgC,EAAYjc,GAAS,CAChDA,EAAK,IAAM,CACb,CAAC,CACH,CAAC,CACH,CACA,iBAAiB55B,EAAM,CACrB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,eAAA0oF,CAAe,EAAIl2E,EACrB,CAAE,QAAS06F,EAAc,UAAAj9D,EAAW,WAAAC,EAAY,SAAA7B,EAAU,WAAA2B,EAAY,MAAA9d,CAAM,EAAI,KAAK,WAAW,MACtGw2D,EAAe,KAAK,CAACt8C,EAAMhf,IAAU,CACnC,KAAM,CAAE,EAAAlvB,EAAG,EAAA+oB,EAAG,MAAAyuB,CAAM,EAAItoB,EACpBsoB,GAASw3D,GAAgB,KAAK,SAChC9gE,EAAK,UAAY6D,EACjB7D,EAAK,WAAa8D,EAClB9D,EAAK,SAAWiC,EAChBjC,EAAK,WAAa4D,EAClB5D,EAAK,UAAYsJ,EAAM,UACvBtJ,EAAK,aAAesJ,EAAM,aAC1BtJ,EAAK,KAAOsJ,EAAM,KAClBtJ,EAAK,EAAIluC,EACTkuC,EAAK,EAAInlB,EAAI,GACbmlB,EAAK,KAAOla,EACZka,EAAK,QAAU,IAEfA,EAAK,QAAU,EAEnB,CAAC,CACH,CAAC,CACH,CACA,eAAey6C,EAAW,CACxB,KAAM,CAAE,GAAI1N,EAAU,KAAAngE,EAAM,UAAA4uD,CAAU,EAAI,KACpC,CAAE,KAAAgiC,EAAM,MAAAuD,EAAO,MAAAC,EAAO,QAAArtC,EAAS,OAAA7hB,CAAO,EAAI,KAAK,WAC/C,CAAE,KAAA2rD,EAAM,OAAAxH,EAAQ,OAAAgL,EAAQ,MAAAjgF,EAAO,OAAAwuC,CAAO,EAAIirB,EAC1CgD,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGF,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,EAAE6wE,GAASC,GAAS19E,GAAeihG,CAAM,IAAM,CAACzlC,EAChF,OAAO1nB,GAET,MAAMotD,EAAUzjB,EAAM,YAAYwY,CAAM,EAClCkL,EAAUzjB,EAAM,YAAYujB,CAAM,EAClC7sD,EAAQqgD,GAAauM,CAAK,EAC1Br2D,EAAU8pD,GAAayM,EAAU,KAAOC,CAAO,EAC/CN,EAAYngG,GAAc,CAAE,KAAM,KAAK,WAAW,IAAK,EAAGoxC,EAAO,SAAS,EAAG,CACjF,OAAQ,KAAK,WAAW,OACxB,YAAa,KAAK,WAAW,WAC/B,CAAC,EACK,CAAE,KAAMhsB,CAAM,EAAI,KAAK,eAC3BgsB,EACA,CAAE,MAAO2oC,EAAW,KAAA+iB,EAAM,KAAAC,EAAM,YAAa,EAAM,EACnDoD,CACF,EACA,OAAOltC,EAAQ,cACb,CAAE,MAAAvf,EAAO,QAAAzJ,EAAS,gBAAiB7kB,CAAM,EACzC,CACE,MAAA9E,EACA,OAAAwuC,EACA,KAAAguC,EACA,MAAAuD,EACA,KAAAtD,EACA,MAAAuD,EACA,MAAAl7E,EACA,MAAAsuB,EACA,SAAA24B,CACF,CACF,CACF,CACA,cAAcpkE,EAAY,CACxB,IAAIrQ,EAAIiL,EAAIC,EAAIU,EAChB,GAAI,GAAG5L,EAAK,KAAK,OAAS,MAAgBA,EAAG,SAAW,CAAC,KAAK,WAAW,QAAQ,GAAKqQ,IAAe,WACnG,MAAO,CAAC,EAEV,KAAM,CAAE,KAAA80F,EAAM,MAAAuD,EAAO,KAAA9jE,EAAM,OAAAa,EAAQ,YAAAD,EAAa,cAAAK,EAAe,YAAAH,EAAa,SAAAI,EAAU,OAAA0T,EAAQ,QAAApJ,CAAQ,EAAI,KAAK,WACzG04D,EAAc,CAACtvD,EAAO,SAAWA,EAAO,OAAS,OACvD,MAAO,CACL,CACE,WAAAnpC,EACA,GAAI,KAAK,GACT,OAAQ80F,EACR,SAAU,KAAK,GACf,QAAS/0D,EACT,MAAO,CACL,KAAMs4D,GAAwBvD,CAChC,EACA,OAAQ,CACN,MAAO3rD,EAAO,MACd,KAAMsvD,EAAclkE,EAAO4U,EAAO,KAClC,YAAasvD,EAActjE,EAAcgU,EAAO,YAChD,QAASvuC,EAAKuuC,EAAO,SAAW,KAAOvuC,EAAKw6B,EAC5C,eAAgBv6B,EAAKsuC,EAAO,gBAAkB,KAAOtuC,EAAK26B,EAC1D,aAAcj6B,EAAK4tC,EAAO,cAAgB,KAAO5tC,EAAK,EACtD,QAAS4tC,EAAO,SAAW9T,GAAe,CAC5C,EACA,KAAM,CACJ,OAAAD,EACA,cAAAI,EACA,YAAAH,EACA,SAAAI,CACF,CACF,CACF,CACF,CACA,wBAAwB69C,EAAe,CACrC,KAAM,CAAE,gBAAAM,EAAiB,eAAAD,EAAgB,YAAAE,EAAa,MAAAj1B,CAAM,EAAI00B,EAC1D,CAAE,iBAAA3zD,CAAiB,EAAI,KAAK,IAClC,KAAK,gBAAgBi/B,EAAOi1B,CAAW,EACvC0b,GAAqB,KAAM5vE,EAAkB,GAAGi/B,CAAK,EACrDvd,GAAY,CAACuyC,CAAe,EAAGqZ,EAAqB,EACpDJ,GAA4B,KAAMltE,EAAkBi0D,CAAe,EACnEmY,GAA2B,KAAM,SAAUpsE,EAAkBg0D,CAAc,CAC7E,CACA,mBAAmBL,EAAe,CAChC,KAAM,CAAE,YAAAO,EAAa,MAAAj1B,CAAM,EAAI00B,EAC/B,KAAK,gBAAgB10B,EAAOi1B,CAAW,EACvC,MAAM,mBAAmBP,CAAa,CACxC,CACA,0BAA0BA,EAAe,CACvC,IAAI3jF,EAAIiL,EACR,KAAM,CAAE,iBAAA+kB,CAAiB,EAAI,KAAK,IAC5B,CAAE,gBAAAi0D,EAAiB,eAAAD,EAAgB,YAAAE,EAAa,MAAAj1B,EAAO,oBAAAu0B,CAAoB,EAAIG,EAC/E,CAAC/+C,EAAMa,CAAM,EAAIwpB,EACvB,GAAIrqB,GAAQ,MAAQa,GAAU,KAC5B,OACF,MAAM,kBAAkBk+C,CAAa,EACrC,MAAMolB,EAAS,IAAM,CACnB,KAAK,gBAAgB95C,EAAOi1B,CAAW,EACvC,KAAK,iBAAiBj1B,EAAOi1B,CAAW,CAC1C,EACM52E,EAAO,IAAM,CACjB0iB,EAAiB,iBAAiB,EAClC+4E,EAAO,CACT,EACA,GAAI7kB,GAAe,MAAQV,GAAuB,KAAM,CACtDulB,EAAO,EACPhM,GAAsB,KAAM/sE,EAAkB,QAASi0D,CAAe,EACtE4b,GAAoB,KAAM,uBAAwB7vE,EAAkB,MAAO4U,CAAI,EAC/Ei7D,GAAoB,KAAM,SAAU7vE,EAAkB,WAAYyV,CAAM,EACxE22D,GAA2B,KAAM,SAAUpsE,EAAkBg0D,CAAc,EAC3E,MACF,CACA,MAAM9kF,EAAMylG,GAAyBzgB,EAAaV,GAAsBv4E,GAAMjL,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,IAAI,EAChK,GAAI/L,IAAQ,OAAQ,CAClBoO,EAAK,EACL,MACF,SAAWpO,EAAI,SAAW,QACxB,OAEF69F,GAAsB,KAAM/sE,EAAkB,OAAQi0D,CAAe,EACrEvjE,GAAa,KAAK,GAAI,uBAAwBsP,EAAkB,CAAC4U,CAAI,EAAG1lC,EAAI,KAAK,cAAc,EAC/Fy8F,GAAW,KAAK,GAAI,mBAAoB3rE,EAAkB,CAAC4U,CAAI,EAAG1lC,EAAI,KAAK,IAAI,EAC/E,KAAK,iBAAiB+vD,EAAOi1B,CAAW,EACxC2b,GAAoB,KAAM,SAAU7vE,EAAkB,WAAYyV,CAAM,EACxE22D,GAA2B,KAAM,SAAUpsE,EAAkBg0D,CAAc,CAC7E,CACA,gBAAiB,CACf,OAAO,KAAK,WAAW,MAAM,OAC/B,CACA,aAAc,CACZ,OAAO,IAAIhgD,CACb,CACA,mBAAmB,CAAE,WAAAqxC,CAAW,EAAG,CACjC,IAAIr1E,EACJ,OAAO89F,IAA0B99F,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,SAASq1E,CAAU,EAAG,KAAK,YAAY,CAC3H,CACF,EACA2vB,GAAW,UAAY,aACvBA,GAAW,KAAO,OAClB,IAAIgE,GAAmB,CACrB,KAAM,SACN,WAAY,WACZ,YAAa,YACb,WAAY,CAAC,WAAW,EACxB,WAAY,OACZ,oBAAqBhE,GACrB,UAAW,GACX,YAAa,CACX,CACE,KAAM,SACN,SAAU,MAEZ,EACA,CACE,KAAM,WACN,SAAU,QAEZ,CACF,EACA,cAAe,CACb,OAAQ,CACN,YAAapzF,GACb,eAAgB,UAChB,QAAS,CAAE,SAAU,CAAE,KAAM,MAAO,CAAE,EACtC,YAAa,GACb,cAAe,EACf,YAAa,EACb,SAAU,CAAC,CAAC,EACZ,eAAgB,EAChB,OAAQ,CACN,QAAS,GACT,MAAOW,GACP,QAAS,EACT,QAAS,EACT,KAAM,CACR,EACA,OAAQ,CACN,YAAaV,GACb,QAAS,GACT,YAAa,EACb,cAAe,EACf,YAAa,CACf,EACA,MAAO,CACL,QAAS,GACT,SAAU,GACV,WAAYC,GACZ,MAAOC,EACT,CACF,CACF,EACA,eAAiB5D,GAAW,CAC1B,KAAM,CAAE,OAAAqrC,CAAO,EAAIkiD,GAAqBvtF,CAAM,EAC9C,MAAO,CAAE,KAAMqrC,EAAO,KAAM,OAAQA,EAAO,OAAQ,OAAAA,CAAO,CAC5D,CACF,EACA,SAAUyvD,GAAalgF,EAAQ,CAC7B,UAAW/a,KAAQ+a,EAAO,SACxB,MAAM/a,CAEV,CACA,SAASk7F,GAAwBC,EAAUC,EAAY,CACrD,UAAWp7F,KAAQo7F,EAAY,CAC7B,MAAM1gF,EAAQ1a,EAAK,MACf0a,IAAU,OACZtpB,EAAO,MAAM,iBAAiB,EAE9B+pG,EAAS,SAASn7F,EAAM0a,CAAK,CAEjC,CACF,CACA,SAAS2gF,GAAkBh9F,EAAQg7B,EAAO,CACxC,KAAM,CAAE,EAAA7tC,EAAG,EAAA+oB,CAAE,EAAIlW,EAAO,aAAa,eAAeg7B,EAAM,EAAGA,EAAM,CAAC,EAC9D,CAAE,QAAArkB,EAAS,gBAAiBC,CAAiB,EAAI5W,EAAO,YAAY,EAAE,KAAK7S,EAAG+oB,CAAC,EACrF,GAAIS,IAAY,OACd,MAAO,CAAE,MAAOA,EAAQ,MAAO,SAAU,KAAK,KAAKC,CAAgB,CAAE,CAGzE,CACA,IAAIqmF,GAA8B,cAAczmB,EAA0B,CACxE,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,UACnB,CACF,EACA1nF,EAAiB,CACf25B,EAAS2D,EAAS,CACpB,EAAG6wE,GAA4B,UAAW,YAAa,CAAC,EACxD,IAAIC,GAAoB,cAAczmB,EAAgB,CACpD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,WAAa,IAAIpuD,GACtB,KAAK,qBAAuB,MAC9B,CACA,qBAAsB,CACpB,MAAO,CAAE,MAAO,GAAK,MAAO,EAAI,CAClC,CACA,cAAe,CACb,MAAO,CAAC,KAAK,WAAW,CAC1B,CACA,YAAa,CACX,OAAO,KAAK,WAAW,YAAc,UACvC,CACA,iBAAkB,CAChB,OAAO,KAAK,aAAa,EAAI,IAAM,GACrC,CACA,sBAAuB,CACrB,OAAO,KAAK,aAAa,EAAI,IAAM,GACrC,CACA,cAAe,CACb,MAAMgc,EAAY,KAAK,gBAAgB,EACvC,OAAO,KAAK,KAAKA,CAAS,CAC5B,CACA,iBAAkB,CAChB,MAAMA,EAAY,KAAK,qBAAqB,EAC5C,OAAO,KAAK,KAAKA,CAAS,CAC5B,CACA,iBAAiBy0C,EAAO,CACtB,KAAM,CACJ,WAAAqkB,EACA,qBAAAC,EACA,IAAK,CAAE,mBAAAC,CAAmB,CAC5B,EAAI,KACEloB,EAAS2D,EAAM,MACfwkB,EAAa/uE,GAAgB,GAAG4mD,CAAM,EAAIA,EAAO,cAAcioB,CAAoB,EAAIjoB,EAAO,UAC9F9tD,EAAS,CAAC,EACV,CAAE,MAAO3U,EAAY,kBAAA6qF,CAAkB,EAAIF,EAAmB,yBAAyB,IAAI,EACjG,QAAS/qF,EAAW,EAAGA,EAAWirF,EAAmBjrF,IACnD+U,EAAO,KAAK,OAAO/U,CAAQ,CAAC,EAE9B,OAAA6qF,EAAW,OAAS91E,EACpB81E,EAAW,MAAQ,CAAC,EAAGG,GAAkC,CAAC,EACtDxkB,aAAiBn+B,GACnBwiD,EAAW,aAAerkB,EAAM,kBACvBA,aAAiB76B,GAC1Bk/C,EAAW,QAAU,GAErBA,EAAW,QAAU,EAEvBA,EAAW,MAAQA,EAAW,UAAY,EAQnC,CAAE,SAPQA,EAAW,WAAa,EAEvCA,EAAW,UAGXA,EAAW,aAEM,WAAAzqF,CAAW,CAChC,CACA,oBAAoB2xB,EAAW,CAC7B,OAAI,KAAK,gBAAgB,IAAM,IACzBA,IAAc,IACT,IAEF,IAEFA,CACT,CACA,aAAay4D,EAAU,CACrBD,GAAwBC,EAAU,KAAK,eAAe,CAAC,CACzD,CACA,qBAAqB9hE,EAAO,CAC1B,OAAOgiE,GAAkB,KAAMhiE,CAAK,CACtC,CACF,EACIwiE,GAAiB,cAAcp+D,EAAM,CACvC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,QACnB,CACF,EACAtwC,EAAiB,CACf25B,EAAS4D,EAAS,CACpB,EAAGmxE,GAAe,UAAW,YAAa,CAAC,EAC3C,IAAIC,GAAsB,cAAcR,EAA4B,CAClE,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,UACZ,KAAK,YAAc,EACnB,KAAK,OAAS,UACd,KAAK,YAAc,EACnB,KAAK,cAAgB,EACrB,KAAK,SAAW,CAAC,CAAC,EAClB,KAAK,eAAiB,EACtB,KAAK,aAAe,EACpB,KAAK,OAAS,IAAI7M,GAClB,KAAK,MAAQ,IAAIoN,GACjB,KAAK,QAAU,IAAIhN,EACrB,CACF,EACA1hG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG0zE,GAAoB,UAAW,OAAQ,CAAC,EAC3C3uG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG0zE,GAAoB,UAAW,QAAS,CAAC,EAC5C3uG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG0zE,GAAoB,UAAW,OAAQ,CAAC,EAC3C3uG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG0zE,GAAoB,UAAW,QAAS,CAAC,EAC5C3uG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG0zE,GAAoB,UAAW,aAAc,CAAC,EACjD3uG,EAAiB,CACf25B,EAASuB,GAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGyzE,GAAoB,UAAW,eAAgB,CAAC,EACnD3uG,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAGuyE,GAAoB,UAAW,OAAQ,CAAC,EAC3C3uG,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGqzE,GAAoB,UAAW,cAAe,CAAC,EAClD3uG,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAGuyE,GAAoB,UAAW,SAAU,CAAC,EAC7C3uG,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGszE,GAAoB,UAAW,cAAe,CAAC,EAClD3uG,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGqzE,GAAoB,UAAW,gBAAiB,CAAC,EACpD3uG,EAAiB,CACf25B,EAASmD,EAAS,CACpB,EAAG6xE,GAAoB,UAAW,WAAY,CAAC,EAC/C3uG,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGszE,GAAoB,UAAW,iBAAkB,CAAC,EACrD3uG,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGszE,GAAoB,UAAW,eAAgB,CAAC,EACnD3uG,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAG2zE,GAAoB,UAAW,YAAa,CAAC,EAChD3uG,EAAiB,CACf25B,EAASiB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG+zE,GAAoB,UAAW,SAAU,CAAC,EAC7C3uG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG+zE,GAAoB,UAAW,QAAS,CAAC,EAC5C3uG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG+zE,GAAoB,UAAW,UAAW,CAAC,EAC9C,SAASC,GAAW,CAAE,KAAAp0C,EAAM,OAAArwD,CAAO,EAAG,CACpC,KAAM,CACJ,MAAA0oF,EAAQ,GACR,KAAAppD,EACA,OAAAa,EACA,YAAAC,EACA,YAAAF,EACA,cAAAK,EACA,SAAAC,EACA,eAAAC,EACA,WAAAX,EACA,aAAA+mD,EAAe,EACf,oBAAAW,EAAsB,GACtB,qBAAAC,EAAuB,GACvB,wBAAAC,EAA0B,GAC1B,uBAAAC,EAAyB,GACzB,QAAA78C,EAAU,EACZ,EAAI9qC,EACJqwD,EAAK,MAAQq4B,EACbr4B,EAAK,KAAO/wB,EACZ+wB,EAAK,OAASlwB,EACdkwB,EAAK,YAAcjwB,EACnBiwB,EAAK,YAAcnwB,EACnBmwB,EAAK,cAAgB9vB,EACrB8vB,EAAK,SAAW7vB,EAChB6vB,EAAK,eAAiB5vB,EACtB4vB,EAAK,WAAavwB,EAClBuwB,EAAK,oBAAsBm3B,EAAsBX,EAAe,EAChEx2B,EAAK,qBAAuBo3B,EAAuBZ,EAAe,EAClEx2B,EAAK,wBAA0Bq3B,EAA0Bb,EAAe,EACxEx2B,EAAK,uBAAyBs3B,EAAyBd,EAAe,EACtEx2B,EAAK,QAAUvlB,CACjB,CACA,SAAS45D,GAAchqG,EAAI,CACzB,IAAIiL,EAAKjL,EAAI,CACX,MAAA0oB,EACA,cAAAuhF,EACA,MAAApvF,EACA,eAAAw4E,EACA,UAAAt2D,EACA,SAAA03C,EACA,IAAK,CAAE,cAAAnzB,CAAc,CACvB,EAAIr2C,EAAI6C,EAAOhT,GAAUmQ,EAAI,CAC3B,QACA,gBACA,QACA,iBACA,YACA,WACA,KACF,CAAC,EACGiT,EAAKC,EAAKjT,EAAIU,EAAIuR,EAAIgS,EAC1B,KAAM,CAAE,KAAAyV,EAAM,YAAAY,EAAa,OAAAC,EAAQ,YAAAC,CAAY,EAAIt9B,GAAc6hG,GAAiB5W,EAAgBx4E,CAAK,EACjG,CACJ,cAAAgrB,EACA,WAAAT,EACA,SAAAU,EACA,eAAAC,EACA,aAAAomD,EAAe,EACf,oBAAAW,EAAsB,GACtB,qBAAAC,EAAuB,GACvB,wBAAAC,EAA0B,GAC1B,uBAAAC,EAAyB,EAC3B,EAAIpyE,EACJ,IAAI2iB,EACJ,OAAIT,IACFS,EAAU8jB,EAAc,KAAKvkB,EAAWniC,EAAgB,CACtD,MAAO8tB,EAAM,MACb,KAAMA,EAAM,KACZ,KAAAkc,EACA,OAAAa,EACA,YAAAC,EACA,aAAAymD,EACA,YAAa8d,EACb,SAAAx1B,CACF,EAAG3mE,CAAI,CAAC,GAEH,CACL,MAAOoQ,EAAiCsf,GAAQ,OAAS,KAAOtf,EAAM0mB,EACtE,QAASzmB,EAAiCqf,GAAQ,SAAW,KAAOrf,EAAMsnB,EAC1E,aAAcv6B,EAAgCsyB,GAAQ,cAAgB,KAAOtyB,EAAKw6B,EAClF,aAAc95B,EAAgC4xB,GAAQ,cAAgB,KAAO5xB,EAAK45B,EAClF,eAAgBroB,EAAgCqgB,GAAQ,gBAAkB,KAAOrgB,EAAK0oB,EACtF,SAAAC,EACA,eAAAC,EACA,WAAAX,EACA,cAAejW,EAAgCqO,GAAQ,eAAiB,KAAOrO,EAAKg9D,EACpF,oBAAAW,EACA,qBAAAC,EACA,wBAAAC,EACA,uBAAAC,CACF,CACF,CACA,SAASid,GAAWnmD,EAAe,CAAC,EAAG,CACrC,KAAM,CAAComD,EAAYC,CAAU,EAAIrmD,EAEjC,MAAO,EADUomD,IAAe,GAAKC,IAAe,EAEtD,CACA,IAAIC,GAAmB3hF,GAAU,CAC/B,IAAI1oB,EACJ,OAAO0hB,IAAY1hB,EAAK0oB,EAAM,SAAW,KAAO1oB,EAAK,CAAC,CACxD,EACA,SAASsqG,GAA6BzgB,EAAYv1E,EAAMspD,EAAM,CAC5D,KAAM,CAAE,UAAA2sC,EAAW,UAAAC,CAAU,EAAIC,GAAkB5gB,EAAYv1E,CAAI,EA2BnE,MAAO,CAAE,WAAAu1E,EAAY,UA1BH,CAACnhE,EAAOgiF,IAAc,CACtC,IAAIlxG,EAAIqwF,EAAanhE,EAAM,EAAI6hF,EAC3BhoF,EAAIsnE,EAAa2gB,EAAY9hF,EAAM,EACnCtF,EAAQymE,EAAanhE,EAAM,MAAQ,EACnCrF,EAASwmE,EAAa,EAAInhE,EAAM,OACpC,KAAM,CAAE,QAAAka,CAAQ,EAAIla,EAChBgiF,IAAc,MAAMlxG,CAAC,GAAK,MAAM+oB,CAAC,KAClC,CAAE,EAAA/oB,EAAG,EAAA+oB,CAAE,EAAImoF,EACZtnF,EAAQymE,EAAa6gB,EAAU,MAAQ,EACvCrnF,EAASwmE,EAAa,EAAI6gB,EAAU,OAChC7gB,GAAc,CAACwgB,GAAgBK,CAAS,EAC1CnoF,GAAKmoF,EAAU,OACN,CAAC7gB,GAAcwgB,GAAgBK,CAAS,IACjDlxG,GAAKkxG,EAAU,QAGnB,IAAIrnE,EACJ,OAAI3a,EAAM,UAAY,KACpB2a,EAAW,OACFgnE,GAAgB3hF,CAAK,EAC9B2a,EAAWwmD,EAAa,IAAIvlE,EAAK9qB,EAAG+oB,EAAIc,EAAQD,EAAOC,CAAM,EAAI,IAAIiB,EAAK9qB,EAAI4pB,EAAOb,EAAGa,EAAOC,CAAM,EAErGggB,EAAW,IAAI/e,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,EAElC,CAAE,EAAA7pB,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,EAAQ,SAAAggB,EAAU,QAAAT,CAAQ,CAClD,EACgC,KAAAg7B,CAAK,CACvC,CACA,SAAS+sC,GAA4B9gB,EAAYjsB,EAAM,CACrD,MAAO,CACL,WAAAisB,EACA,UAAYnhE,IACH,CACL,EAAGmhE,EAAanhE,EAAM,EAAIA,EAAM,EAAIA,EAAM,MAAQ,EAClD,EAAGmhE,EAAanhE,EAAM,EAAIA,EAAM,OAAS,EAAIA,EAAM,EACnD,MAAOmhE,EAAanhE,EAAM,MAAQ,EAClC,OAAQmhE,EAAa,EAAInhE,EAAM,OAC/B,SAAUA,EAAM,SAChB,QAASA,EAAM,OACjB,GAEF,KAAAk1C,CACF,CACF,CACA,SAASgtC,GAA6BC,EAAS,CAC7C,MAAMC,EAAapiF,GAAUA,GAAS,MAAQ,MAAMA,EAAM,CAAC,GAAK,MAAMA,EAAM,CAAC,EA2C7E,MAAO,CAAE,KAlBI,CAACitC,EAAMjtC,EAAOoI,IAAW,CACpC,IAAI/1B,EACJ,OAAI+1B,IAAW,WAAa6kC,EAAK,OAAS,MAAQk1C,EAAQ,OAAS,OACjE9vG,EAASF,EAAcD,EAAgB,CAAC,EAAGmwG,GAAqBp1C,EAAMjtC,CAAK,CAAC,EAAG,CAAE,QAAS,CAAE,CAAC,EACpFoI,IAAW,WAAag6E,EAAUpiF,CAAK,EAChD3tB,EAAS8vG,EAAQ,UAAUniF,EAAOitC,EAAK,aAAa,EAEpD56D,EAAS,CACP,EAAG2tB,EAAM,EACT,EAAGA,EAAM,EACT,MAAOA,EAAM,MACb,OAAQA,EAAM,OACd,SAAUA,EAAM,SAChB,QAASA,EAAM,OACjB,EAEK3tB,CACT,EACe,OA1CA,CAAC46D,EAAMjtC,EAAOoI,IAAW,CAClCA,IAAW,WAAag6E,EAAUpiF,CAAK,EACzCoI,EAAS,UACAA,IAAW,WAAag6E,EAAUn1C,EAAK,aAAa,IAC7D7kC,EAAS,SAEX,IAAI/1B,EACA+1B,IAAW,SAAW6kC,EAAK,eAAiB,MAAQk1C,EAAQ,OAAS,OACvE9vG,EAASF,EAAcD,EAAgB,CAAC,EAAGmwG,GAAqBp1C,EAAMjtC,CAAK,CAAC,EAAG,CAAE,QAAS,CAAE,CAAC,EACpFoI,IAAW,WAAaA,IAAW,QAC5C/1B,EAAS8vG,EAAQ,UAAUniF,EAAOitC,EAAK,aAAa,EAEpD56D,EAAS,CACP,EAAG46D,EAAK,EACR,EAAGA,EAAK,EACR,MAAOA,EAAK,MACZ,OAAQA,EAAK,OACb,SAAUA,EAAK,SACf,QAASA,EAAK,OAChB,EAEF,MAAM3kC,EAAQvQ,GAAmCqQ,CAAM,EACvD,OAAOj2B,EAAcD,EAAgB,CAAC,EAAGG,CAAM,EAAG,CAAE,MAAAi2B,CAAM,CAAC,CAC7D,CAmBsB,CACxB,CACA,SAASy5E,GAAkB5gB,EAAYv1E,EAAM,CAC3C,MAAMlI,EAAOkI,EACXu1E,EAAa,IAAM,GAErB,EACA,IAAI0gB,EAAY,IACZC,EAAY,EAChB,OAAKp+F,GAGDy9E,EACF2gB,EAAYp+F,EAAK,MAAM,QAAQwuB,GAAgB,GAAGxuB,EAAK,KAAK,EAAI,EAAI,KAAK,IAAI,GAAGA,EAAK,KAAK,CAAC,EAE3Fm+F,EAAYn+F,EAAK,MAAM,QAAQwuB,GAAgB,GAAGxuB,EAAK,KAAK,EAAI,EAAI,KAAK,IAAI,GAAGA,EAAK,KAAK,CAAC,EAEtF,CAAE,UAAAm+F,EAAW,UAAAC,CAAU,GAPrB,CAAE,UAAAD,EAAW,UAAAC,CAAU,CAQlC,CACA,SAASO,GAAqB1rD,EAAO,CAAE,EAAA7lD,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,EAAQ,SAAAggB,EAAU,QAAAT,CAAQ,EAAG,CAC/E,MAAO,CAAE,EAAAppC,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,EAAQ,SAAAggB,EAAU,QAAAT,CAAQ,CAClD,CACA,SAASooE,GAAsBtiF,EAAOuiF,EAAUz5B,EAAY,CAC1D,GAAI9oD,IAAU,OACZ,OACF,KAAM,CAAE,EAAAlvB,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,CAAO,EAAIqF,EAChC,OAAOuiF,EAAS,qBAAqB,IAAI3mF,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,CAAC,EAAE,KAAKmuD,CAAU,CACrF,CACA,SAAS05B,GAAgBC,EAAUn6D,EAAO8S,EAAY,CACpD,GAAI9S,EAAM,SAAW8S,EAAY,CAC/B,KAAM,CAAE,EAAAtqD,EAAG,EAAA+oB,EAAG,KAAAmlB,EAAM,UAAAR,EAAW,aAAAD,CAAa,EAAI6c,EAC1C,CAAE,MAAOlf,EAAM,UAAA2G,EAAW,WAAAC,EAAY,SAAA7B,EAAU,WAAA2B,CAAW,EAAI0F,EACrEm6D,EAAS,cAAc,CACrB,QAAS,GACT,EAAA3xG,EACA,EAAA+oB,EACA,KAAAmlB,EACA,KAAA9C,EACA,UAAA2G,EACA,WAAAC,EACA,SAAA7B,EACA,WAAA2B,EACA,UAAApE,EACA,aAAAD,CACF,CAAC,CACH,MACEkkE,EAAS,QAAU,EAEvB,CACA,SAASC,GAAqB,CAC5B,WAAAz1D,EACA,WAAAk0C,EACA,UAAApwC,EACA,QAAAnL,EAAU,EACV,KAAAqnB,CACF,EAAG,CACD,IAAIn8D,EAAIm8D,EAAK,EAAIA,EAAK,MAAQ,EAC1BpzC,EAAIozC,EAAK,EAAIA,EAAK,OAAS,EAC3BzuB,EAAY,SACZD,EAAe,SACnB,OAAQwS,EAAW,CACjB,IAAK,QAAS,CACRowC,GACFtnE,EAAIozB,EAAaggB,EAAK,EAAIA,EAAK,OAASrnB,EAAUqnB,EAAK,EAAIrnB,EAC3DrH,EAAe0O,EAAa,MAAQ,WAEpCn8C,EAAIm8C,EAAaggB,EAAK,EAAIrnB,EAAUqnB,EAAK,EAAIA,EAAK,MAAQrnB,EAC1DpH,EAAYyO,EAAa,QAAU,OAErC,KACF,CACA,IAAK,UACL,IAAK,MAAO,CACNk0C,GACFtnE,EAAIozB,EAAaggB,EAAK,EAAIrnB,EAAUqnB,EAAK,EAAIA,EAAK,OAASrnB,EAC3DrH,EAAe0O,EAAa,SAAW,QAEvCn8C,EAAIm8C,EAAaggB,EAAK,EAAIA,EAAK,MAAQrnB,EAAUqnB,EAAK,EAAIrnB,EAC1DpH,EAAYyO,EAAa,QAAU,OAErC,KACF,CACF,CACA,MAAO,CAAE,EAAAn8C,EAAG,EAAA+oB,EAAG,UAAA2kB,EAAW,aAAAD,CAAa,CACzC,CACA,IAAIokE,GAAY,cAAc9B,EAAkB,CAC9C,YAAYvrD,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,cAAeykC,GACf,eAAgBC,GAChB,UAAW,CACT,CAEF,EACA,eAAgB,EAChB,qBAAsB,GACtB,gCAAiC,GACjC,gCAAiC,GACjC,kBAAmB,CACjB,MAAOqoB,GACP,MAAOxO,EACT,CACF,CAAC,EACD,KAAK,WAAa,IAAIuN,EACxB,CACA,YAAY71B,EAAgB,CAC1B,OAAO34E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EAAIC,EACZ,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,CAAC,KAAK,KACtC,OAEF,KAAM,CAAE,eAAgB,CAAE,WAAA6T,EAAa,KAAK,EAAG,EAAI,CAAC,EAAG,KAAA5P,EAAO,CAAC,CAAE,EAAI,KAC/D,CAAE,KAAA+1F,EAAM,KAAAC,EAAM,aAAAE,CAAa,EAAI,KAAK,WACpC5gB,EAAmB,CAAC,KAAK,IAAI,iBAAiB,UAAU,EACxDjD,GAAUxhF,EAAK,KAAK,gBAAgB,IAAM,KAAO,OAASA,EAAG,MAC7DyhF,GAAUx2E,EAAK,KAAK,aAAa,IAAM,KAAO,OAASA,EAAG,MAC1D,CAAE,cAAAy2E,EAAe,WAAA4jB,EAAY,WAAAC,CAAW,EAAI,KAAK,oBAAoB,CAAE,OAAA/jB,EAAQ,OAAAC,CAAO,CAAC,EACvF6pB,EAAiB,aAAavsF,CAAU,WACxCwsF,EAAyB,GAAGD,CAAc,YAC1C9F,EAAa,CAAC,EAChB99F,GAAe29F,CAAY,GAC7BG,EAAW,KACTr8B,GAAiB,CAACmiC,EAAgBC,CAAsB,EAAG,KAAK,IAAIlG,CAAY,EAAG,OAAO,CAC5F,EAEE5gB,GAAoB,KAAK,eAC3B+gB,EAAW,KAAKz6B,GAAK,KAAK,aAAa,CAAC,EAEtC0Z,GACF+gB,EAAW,KAAK37B,GAAoB,CAAC,EAEvC,MAAM2hC,EAAe,KAAK,QAAU,CAAC,EAAI,CAAE,WAAY,CAAE,EACnD,CAAE,cAAAptC,CAAc,EAAI,MAAM,KAAK,iBAAiB6V,EAAgB9kE,EAAM,CAC1E,MAAO,CACL28D,GAAYo5B,EAAMI,EAAY,CAAE,GAAI,QAAS,CAAC,EAC9Ct5B,GAAcm5B,EAAMI,EAAY3qG,EAAgB,CAAE,GAAI,aAAc,aAAc,IAAK,EAAG4wG,CAAY,CAAC,EACvG,GAAGn/B,GACD84B,EACA,SACA,UACAvqG,EAAgB,CACd,GAAI,aACJ,QAAS,eACT,aAAc,KACd,aAAc,EACd,QAAS0wG,EACT,iBAAkB,EACpB,EAAGE,CAAY,EACfjG,CACF,EACA,GAAGl5B,GACD84B,EACA,WACA,UACAvqG,EAAgB,CACd,GAAI,eACJ,aAAc,KACd,aAAc,EACd,QAAS2wG,EACT,iBAAkB,EACpB,EAAGC,CAAY,EACfjG,CACF,EACA,GAAG7jB,EAAgB,CAAClZ,EAAqB,EAAI,CAAC,EAC9C,GAAGg9B,CACL,EACA,YAAa,GACb,YAAa,EACf,CAAC,EACD,KAAK,sBAAwBt6F,EAAKkzD,EAAc,UAAY,KAAO,OAASlzD,EAAG,oBAC/E,KAAK,eAAe,WAAW,YAAY,CAC7C,CAAC,CACH,CACA,gBAAgBwlC,EAAW,CACzB,IAAI1wC,EACJ,KAAM,CAAE,cAAAo+D,EAAe,UAAA8E,EAAW,qBAAAumC,CAAqB,EAAI,KAC3D,GAAI,CAACrrC,GAAiB,CAAC8E,GAAa9E,EAAc,KAAK,SAAW,EAChE,MAAO,CAAC,EACV,MAAMqtC,EAAe,KAAK,gBAAgB,EACpCC,EAAY,KAAK,aAAa,EAC9BhG,EAASxiC,EAAU,4BAA4B,KAAM,QAAQ,EAC7D76D,EAAO66D,EAAU,UAAU,KAAM,SAAU,MAAO9E,CAAa,EAC/DunC,EAAUziC,EAAU,UAAU,KAAM,aAAc,QAAS9E,CAAa,EAC9E,GAAI1tB,IAAc,KAAK,qBAAqB,EAAG,CAC7C,GAA+Bg1D,GAAO,IAAI,OAAU,OAASA,EAAO,IAAI,YAAc,WACpF,OAAOr9F,EAET,MAAMsjG,EAAejkG,GAAe+hG,CAAoB,EAAIA,EAAuB,GAAM,EACnFmC,GAAc5rG,EAAK4Y,GAAOvQ,CAAI,IAAM,KAAOrI,EAAK,CAAC,IAAK,GAAG,EACzDs6B,EAAKsxE,EAAW,CAAC,EAAI,CAACD,EACtBpxE,EAAKqxE,EAAW,CAAC,EAAID,EAC3B,OAAOxuC,GAAiB,CAAC7iC,EAAIC,CAAE,EAAGkxE,CAAY,CAChD,KAAO,IAAI,KAAK,aAAa,YAAalgB,GACxC,OAAOpuB,GAAiBwoC,EAAS+F,CAAS,EACrC,CACL,MAAM9F,EAAe,CAAC,KAAK,IAAI,EAAGD,EAAQ,CAAC,CAAC,EAAG,KAAK,IAAI,EAAGA,EAAQ,CAAC,CAAC,CAAC,EACtE,OAAOxoC,GAAiByoC,EAAc8F,CAAS,CACjD,EACF,CACA,gBAAiB,CACf,OAAOpwG,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,UAAA4nE,CAAU,EAAI,KAChBiiB,EAAQ,KAAK,gBAAgB,EAC7BC,EAAQ,KAAK,aAAa,EAChC,GAAI,CAACliB,GAAa,CAACiiB,GAAS,CAACC,GAAS,CAAC,KAAK,WAAW,QAAQ,EAC7D,OACF,MAAM5D,EAAS2D,EAAM,MACf1D,EAAS2D,EAAM,MACf,CAAE,KAAA8f,EAAM,KAAAC,EAAM,MAAAsD,EAAO,MAAAC,EAAO,KAAA9jE,EAAM,OAAAa,EAAQ,YAAAC,EAAa,aAAAymD,EAAc,eAAAh1B,EAAgB,MAAAnmB,CAAM,EAAI,KAAK,WACpG66D,EAAYzmB,EAAM,WAAW,EAC7B,CAAE,SAAA0mB,EAAU,WAAA/sF,CAAW,EAAI,KAAK,iBAAiBomE,CAAK,EACtD4mB,EAAYnxE,GAAgB,GAAG4mD,CAAM,EAAIsqB,EAAW,IAAO,EAC3DE,EAAS9oC,EAAU,8BAA8B,KAAM,QAAQ,EAC/D+oC,EAAY/oC,EAAU,8BAA8B,KAAM,YAAY,EACtEgpC,EAAchpC,EAAU,8BAA8B,KAAM,cAAc,EAC1EipC,EAAYjpC,EAAU,8BAA8B,KAAM,YAAY,EACtEkpC,EAAclpC,EAAU,8BAA8B,KAAM,cAAc,EAC1EuhB,EAAmB,CAAC,KAAK,IAAI,iBAAiB,UAAU,EACxDzvD,EAAU,CACd,OAAQmwE,EACR,SAAU,CAAC,EACX,UAAW,CAAC,EACZ,OAAQ,KAAK,iBAAiB,EAC9B,QAAS,KAAK,SAAW1gB,CAC3B,EACM,CAAE,WAAA+kB,EAAY,cAAAprC,CAAc,EAAI,KACtC,OAAiCA,GAAc,KAAK,QAAQ,CAAC,CAAE,KAAA/1D,EAAM,MAAO++F,EAAa,OAAAvuF,EAAQ,UAAA6pD,CAAU,IAAM,CAC/G7pD,EAAO,QAAQ,CAACzgB,EAAOspE,IAAe,CACpC,IAAI1hE,EACJ,MAAM29F,EAASt1F,EAAK2jG,CAAM,EACpBxyG,GAAIgoF,EAAO,QAAQmc,CAAM,EACzB8I,GAAQ,CAACruG,EAAM+zG,CAAS,EACxBE,GAAQ,CAACj0G,EAAM8zG,CAAW,EAC1BI,GAAYl0G,EAAM6zG,CAAS,EAC3Bt2D,GAAa22D,IAAa,GAAK,CAAC,OAAO,GAAGA,GAAW,EAAE,EACvDC,GAAW52D,KAAek2D,EAC1BW,GAAUxsG,EAAkC0iE,IAAU0pC,CAAW,EAAEz2D,GAAa,EAAI,CAAC,IAAM,KAAO31C,EAAK,EACvGysG,GAAOjzG,GAAIgwG,EAAW,QAAQ,OAAOzqF,CAAU,CAAC,EAAIgtF,EAC1D,GAAI,MAAMtF,EAAK,EACb,OACF,MAAMlkF,EAAIk/D,EAAO,QAAQglB,EAAK,EACxBiG,GAAUjrB,EAAO,QAAQ4qB,EAAK,EAC9BM,GAAY,KAAK,gBAAgB,IAAM,IACvCj8B,GAAa+Q,EAAO,QAAQ+qB,CAAM,EAClCI,GAAanrB,EAAO,QAAQ,CAAC,EAC7B9rB,EAAO,CACX,EAAGg3C,GAAY,KAAK,IAAIpqF,EAAGmqF,EAAO,EAAID,GACtC,EAAGE,GAAYF,GAAO,KAAK,IAAIlqF,EAAGmqF,EAAO,EACzC,MAAOC,GAAY,KAAK,IAAID,GAAUnqF,CAAC,EAAIupF,EAC3C,OAAQa,GAAYb,EAAW,KAAK,IAAIY,GAAUnqF,CAAC,CACrD,EACM8gB,GAAW,IAAI/e,EAAKqxC,EAAK,EAAGA,EAAK,EAAGA,EAAK,MAAOA,EAAK,MAAM,EAC3Dk3C,GAAU,CACd,EAAGF,GAAY,KAAK,IAAIC,GAAYl8B,EAAU,EAAI+7B,GAClD,EAAGE,GAAYF,GAAO,KAAK,IAAIG,GAAYl8B,EAAU,EACrD,MAAOi8B,GAAY,KAAK,IAAIC,GAAal8B,EAAU,EAAIo7B,EACvD,OAAQa,GAAYb,EAAW,KAAK,IAAIc,GAAal8B,EAAU,EAC/D,SAAArtC,EACF,EACM,CACJ,UAAWypE,GACX,WAAYC,GACZ,SAAUC,GACV,WAAYC,GACZ,MAAOC,GACP,UAAAzzD,EACF,EAAIzI,EACEmkD,GAAY,KAAK,aACrB,KAAK,WAAW,MAChB,CACE,MAAOiS,EAAY1lC,CAAU,EAC7B,MAAO4qC,GACP,KAAApH,EACA,KAAAC,EACA,MAAAsD,EACA,MAAAC,EACA,eAAAvxC,CACF,EACC19D,IAAMiO,GAAejO,EAAC,EAAIA,GAAE,QAAQ,CAAC,EAAI,OAAOA,EAAC,CACpD,EACMqqD,GAAaqxC,GAAYv6F,EAAgB,CAC7C,KAAMu6F,GACN,KAAM+X,GACN,UAAWJ,GACX,WAAYC,GACZ,SAAUC,GACV,WAAYC,EACd,EAAG7B,GAAqB,CACtB,WAAAz1D,GACA,WAAY,CAACg3D,GACb,UAAAlzD,GACA,KAAAkc,CACF,CAAC,CAAC,EAAI,OACAw3C,GAAwB,KAAK,aAAa,EAAIx3C,EAAK,OAASA,EAAK,MACjEosB,GAAW,CACf,OAAQ,KACR,OAAQojB,EACR,MAAOiC,EAAY1lC,CAAU,EAC7B,WAAAA,EACA,gBAAiB+kC,GACjB,OAAA9I,EACA,OAAQ2O,GACR,KAAAnH,EACA,KAAAD,EACA,YAAa,CACX,sBAAAiI,GACA,UAAWA,EACb,EACA,EAAGN,GAAQ,EACX,EAAGA,GAAQ,EACX,MAAOA,GAAQ,MACf,OAAQA,GAAQ,OAChB,SAAU,CAAE,EAAGl3C,EAAK,EAAIA,EAAK,MAAQ,EAAG,EAAGA,EAAK,EAAIA,EAAK,OAAS,CAAE,EACpE,KAAA/wB,EACA,OAAAa,EACA,QAAS,EACT,YAAAC,EACA,aAAAymD,EACA,oBAAqBwgB,KAAcJ,GACnC,qBAAsBA,GACtB,wBAAyBI,KAAcJ,GACvC,uBAAwB,CAACA,GACzB,SAAAlpE,GACA,MAAOygB,GACP,QAASwoD,IAAa,IACxB,EACAt3E,EAAQ,SAAS,KAAK+sD,EAAQ,EAC9B/sD,EAAQ,UAAU,KAAK+sD,EAAQ,CACjC,CAAC,CACH,CAAC,EACM/sD,CACT,CAAC,CACH,CACA,aAAc,CACZ,OAAO,IAAI84D,EACb,CACA,qBAAqBhgF,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,OAAOwS,EAAK,eAAe,OACzBA,EAAK,SACJ6nD,GAAS,CACRA,EAAK,IAAM,CACb,EACCjtC,GAAU2iD,GAAc3iD,EAAM,OAAQA,EAAM,UAAU,CACzD,CACF,CAAC,CACH,CACA,iBAAiB5a,EAAM,CACrB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAI,CAAC,KAAK,WAAW,QAAQ,EAC3B,OAEF,KAAM,CACJ,KAAA6pG,EACA,WAAAiI,EACA,KAAAxoE,EACA,YAAAY,EACA,OAAAC,EACA,YAAAC,EACA,cAAAG,EACA,SAAAC,EACA,eAAAC,EACA,UAAAhJ,EACA,OAAAswE,EACA,eAAgB,CAAE,KAAMC,CAAmB,CAC7C,EAAI,KAAK,WACHnoB,EAAQ,KAAK,KACjB,EAGI6I,EAAQkc,GAAoC/kB,GAAM,YAAY,EAC9DooB,EAAiB,KAAK,qBAAqB,IAAM,IACvDz/F,EAAK,eAAe,KAAK,CAAC6nD,EAAMjtC,IAAU,CACxC,IAAI1oB,EAAIiL,EAAIC,EAAIU,EAChB,MAAMiP,EAAQ,CACZ,KAAA+pB,EACA,OAAAa,EACA,YAAAD,EACA,cAAAK,EACA,SAAAC,EACA,eAAAC,EACA,WAAYsnE,EACZ,YAAa,KAAK,eAAe3nE,CAAW,EAC5C,aAAchd,EAAM,aACpB,oBAAqBA,EAAM,oBAC3B,qBAAsBA,EAAM,qBAC5B,wBAAyBA,EAAM,wBAC/B,uBAAwBA,EAAM,sBAChC,EACM0nB,EAAUm9D,IAAmBtiG,GAAMjL,EAAK0oB,EAAM,WAAa,KAAO,OAAS1oB,EAAG,QAAU,KAAOiL,EAAKyd,EAAM,OAAS,IAAM9c,GAAMV,EAAKwd,EAAM,WAAa,KAAO,OAASxd,EAAG,SAAW,KAAOU,EAAK8c,EAAM,QAAU,EACjNpjB,EAAS0kG,GAAc,CAC3B,MAAAthF,EACA,IAAK,KAAK,IACV,SAAU,KAAK,GACf,cAAe5a,EAAK,YACpB,eAAgBw/F,EAChB,KAAAnI,EACA,MAAAtqF,EACA,UAAAkiB,EACA,WAAAqwE,CACF,CAAC,EACD9nG,EAAO,MAAQ0oF,EACf1oF,EAAO,QAAU8qC,EACjB25D,GAAW,CAAE,KAAAp0C,EAAM,OAAArwD,CAAO,CAAC,CAC7B,CAAC,CACH,CAAC,CACH,CACA,qBAAqBwI,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAM6T,EAAO,KAAK,eAAe,EAAIrB,EAAK,UAAY,CAAC,EACvD,OAAOA,EAAK,eAAe,OAAOqB,EAAOu4B,GAAS,CAChDA,EAAK,IAAM,EACXA,EAAK,cAAgB,CACvB,CAAC,CACH,CAAC,CACH,CACA,iBAAiB55B,EAAM,CACrB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtCwS,EAAK,eAAe,KAAK,CAACq9F,EAAUziF,IAAU,CAC5CwiF,GAAgBC,EAAU,KAAK,WAAW,MAAOziF,EAAM,KAAK,CAC9D,CAAC,CACH,CAAC,CACH,CACA,eAAey5D,EAAW,CACxB,IAAIniF,EACJ,KAAM,CACJ,GAAIy0E,EACJ,cAAArW,EACA,IAAK,CAAE,cAAA9c,CAAc,CACvB,EAAI,KACE6jC,EAAQ,KAAK,gBAAgB,EAC7BC,EAAQ,KAAK,aAAa,EAChC,GAAI,CAAChnB,GAAiB,CAAC,KAAK,WAAW,QAAQ,GAAK,CAAC+mB,GAAS,CAACC,EAC7D,OAAO5pC,GAET,KAAM,CAAE,KAAA0pD,EAAM,KAAAC,EAAM,MAAAsD,EAAO,MAAAC,EAAO,KAAA9jE,EAAM,OAAAa,EAAQ,YAAAC,EAAa,QAAA21B,EAAS,UAAAt+B,EAAW,WAAAqwE,EAAY,eAAAj2C,CAAe,EAAI,KAAK,WAC/G,CAAE,OAAAwmC,EAAQ,OAAAgL,EAAQ,MAAAjgF,EAAO,OAAAwuC,CAAO,EAAIirB,EACpCymB,EAAUzjB,EAAM,YAAYwY,CAAM,EAClCkL,EAAUzjB,EAAM,YAAYujB,CAAM,EAClC7sD,EAAQqgD,GAAauM,CAAK,EAC1Br2D,EAAU8pD,GAAayM,EAAU,KAAOC,CAAO,EACrD,IAAIrrE,EACAT,IACFS,EAAU8jB,EAAc,KAAKvkB,EAAW,CACtC,SAAA03C,EACA,MAAA/rD,EACA,KAAAw8E,EACA,KAAAC,EACA,WAAAiI,EACA,KAAAxoE,EACA,OAAAa,EACA,YAAa,KAAK,eAAeC,CAAW,EAC5C,YAAa,EACf,CAAC,GAEH,MAAMlY,GAASxtB,EAAgCw9B,GAAQ,OAAS,KAAOx9B,EAAK4kC,EAC5E,OAAOy2B,EAAQ,cACb,CAAE,MAAAvf,EAAO,QAAAzJ,EAAS,gBAAiB7kB,CAAM,EACzC5yB,EAAgB,CACd,SAAA65E,EACA,OAAAvd,EACA,MAAAxuC,EACA,KAAAw8E,EACA,KAAAC,EACA,MAAAsD,EACA,MAAAC,EACA,WAAA0E,EACA,MAAAtxD,EACA,MAAAtuB,EACA,eAAA2pC,CACF,EAAG,KAAK,uBAAuB,CAAC,CAClC,CACF,CACA,cAAc9mD,EAAY,CACxB,IAAIrQ,EAAIiL,EACR,KAAM,CAAE,aAAAuiG,CAAa,EAAI,KAAK,WAC9B,GAAIn9F,IAAe,YAAc,GAAGrQ,EAAK,KAAK,OAAS,MAAgBA,EAAG,SAAW,CAAC,KAAK,WAAW,QAAQ,GAAK,CAACwtG,EAClH,MAAO,CAAC,EAEV,KAAM,CAAE,KAAArI,EAAM,MAAAuD,EAAO,KAAA9jE,EAAM,OAAAa,EAAQ,YAAAC,EAAa,YAAAF,EAAa,cAAAK,EAAe,eAAAsxB,EAAgB,QAAA/mB,CAAQ,EAAI,KAAK,WAC7G,MAAO,CACL,CACE,WAAY,WACZ,GAAI,KAAK,GACT,OAAQ+0D,EACR,SAAU,KAAK,GACf,QAAS/0D,EACT,MAAO,CAAE,MAAOnlC,EAAKksD,GAA0CuxC,IAAU,KAAOz9F,EAAKk6F,CAAK,EAC1F,OAAQ,CAAE,KAAAvgE,EAAM,YAAAY,EAAa,OAAAC,EAAQ,YAAAC,EAAa,cAAAG,CAAc,EAChE,eAAAsxB,CACF,CACF,CACF,CACA,wBAAwB,CAAE,eAAA4sB,EAAgB,eAAAC,EAAgB,qBAAAypB,CAAqB,EAAG,CAChF,MAAMvuG,EAAM0rG,GAA6BN,GAA6B,KAAK,WAAW,EAAG,KAAK,KAAM,QAAQ,CAAC,EAC7G5pF,GAAa,KAAK,GAAI,QAAS,KAAK,IAAI,iBAAkB,CAACqjE,CAAc,EAAG7kF,CAAG,EAC/Ek9F,GAA2B,KAAM,SAAU,KAAK,IAAI,iBAAkBpY,CAAc,EACpFoY,GAA2B,KAAM,cAAe,KAAK,IAAI,iBAAkB,GAAGqR,CAAoB,CACpG,CACA,0BAA0Bt+F,EAAM,CAC9B,IAAInP,EAAIiL,EAAIC,EACZ,KAAM,CAAE,eAAA64E,EAAgB,eAAAC,EAAgB,qBAAAypB,EAAsB,oBAAAjqB,CAAoB,EAAIr0E,EACtF,KAAK,IAAI,iBAAiB,uBAAuB,KAAK,EAAE,EACxD,MAAMu+F,GAAYziG,GAAMjL,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,KAChG2yD,EAAO4lB,GAAuB,KAAO,OAAS,SAC9CtkF,EAAM0rG,GAA6BN,GAA6B,KAAK,WAAW,EAAG,KAAK,KAAM1sC,CAAI,CAAC,EACzGl9C,GACE,KAAK,GACL,QACA,KAAK,IAAI,iBACT,CAACqjE,CAAc,EACf7kF,EACA,CAACwd,EAAGgM,IAAU2iD,GAAc3iD,EAAM,OAAQA,EAAM,UAAU,EAC1DglF,CACF,IACmBxiG,EAAiCwiG,GAAS,UAAY,KAAOxiG,EAAK,MAEnFkxF,GAA2B,KAAM,SAAU,KAAK,IAAI,iBAAkBpY,CAAc,EACpFoY,GAA2B,KAAM,cAAe,KAAK,IAAI,iBAAkB,GAAGqR,CAAoB,EAEtG,CACA,gBAAiB,CACf,OAAO,KAAK,WAAW,MAAM,OAC/B,CACA,mBAAmB,CAAE,WAAAp4B,EAAY,WAAA7D,CAAW,EAAG,CAC7C,IAAIxxE,EACJ,MAAM2tG,GAAY3tG,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,SAASq1E,CAAU,EAAE,SACxF,OAAO21B,GAAsB2C,EAAU,KAAK,aAAcn8B,CAAU,CACtE,CACF,EACA65B,GAAU,UAAY,YACtBA,GAAU,KAAO,MACjB,IAAIuC,GAAkB,CACpB,KAAM,SACN,WAAY,WACZ,YAAa,YACb,WAAY,CAAC,WAAW,EACxB,WAAY,MACZ,oBAAqBvC,GACrB,UAAW,GACX,UAAW,GACX,YAAa,CACX,CACE,KAAM,SACN,SAAU,MAEZ,EACA,CACE,KAAM,WACN,SAAU,QAEZ,CACF,EACA,yBAA2Bh/F,GAAsCA,GAAO,YAAe,aACvF,cAAe,CACb,OAAQ,CACN,YAAauF,GACb,UAAW,WACX,YAAa,EACb,YAAa,EACb,SAAU,CAAC,CAAC,EACZ,eAAgB,EAChB,MAAO,CACL,QAAS,GACT,WAAY,SACZ,SAAU,GACV,WAAYE,GACZ,MAAOG,GACP,UAAW,QACb,EACA,OAAQ,CACN,QAAS,GACT,MAAOM,GACP,QAAS,EACT,QAAS,EACT,KAAM,CACR,CACF,CACF,EACA,wBAAyB,CACvB,OAAQ,CACN,SAAU,CACR,IAAK,CACH,YAAa,EACf,CACF,CACF,CACF,EACA,eAAgBipF,EAClB,EACIqS,GAA8Bp0G,GAAM,CACtC,MAAM+zB,EAAQG,GAAM,WAAWl0B,CAAC,EAC1B,CAAC+xB,EAAG1F,EAAGc,CAAC,EAAI+G,GAAM,WAAWH,EAAM,EAAGA,EAAM,EAAGA,EAAM,CAAC,EAC5D,MAAO,CAAE,EAAAhC,EAAG,EAAA1F,EAAG,EAAAc,EAAG,EAAG4G,EAAM,CAAE,CAC/B,EACIsgF,GAAmB,CAACt0G,EAAG+oB,EAAG3iB,IAAM,CAClCA,EAAIwhB,GAAM,EAAGxhB,EAAG,CAAC,EACjB,IAAIgnB,EACAd,EACJ,GAAI,OAAO,MAAMtsB,EAAE,CAAC,GAAK,OAAO,MAAM+oB,EAAE,CAAC,EACvCqE,EAAI,EACJd,EAAI,UACK,OAAO,MAAMtsB,EAAE,CAAC,EACzBotB,EAAIrE,EAAE,EACNuD,EAAIvD,EAAE,UACG,OAAO,MAAMA,EAAE,CAAC,EACzBqE,EAAIptB,EAAE,EACNssB,EAAItsB,EAAE,MACD,CACL,MAAMu0G,EAAKv0G,EAAE,EACb,IAAIw0G,EAAKzrF,EAAE,EACX,MAAM0rF,EAAS1rF,EAAE,EAAI/oB,EAAE,EACnBy0G,EAAS,IACXD,GAAM,IACGC,EAAS,OAClBD,GAAM,KAERpnF,EAAImnF,GAAM,EAAInuG,GAAKouG,EAAKpuG,EACxBkmB,EAAItsB,EAAE,GAAK,EAAIoG,GAAK2iB,EAAE,EAAI3iB,CAC5B,CACA,MAAM4rB,EAAIhyB,EAAE,GAAK,EAAIoG,GAAK2iB,EAAE,EAAI3iB,EAC1BtH,EAAIkB,EAAE,GAAK,EAAIoG,GAAK2iB,EAAE,EAAI3iB,EAChC,OAAO+tB,GAAM,UAAUnC,EAAG1F,EAAGc,EAAGtuB,CAAC,CACnC,EACI41G,GAAa,KAAM,CACrB,aAAc,CACZ,KAAK,KAAO,QACZ,KAAK,QAAU,GACf,KAAK,OAAS,CAAC,EAAG,CAAC,EACnB,KAAK,MAAQ,CAAC,MAAO,MAAM,EAC3B,KAAK,YAAc,KAAK,MAAM,IAAIL,EAA0B,CAC9D,CACA,QAAS,CACP,KAAM,CAAE,OAAAn6E,EAAQ,MAAOtzB,CAAO,EAAI,KAC9BszB,EAAO,OAAS,IAClBt0B,EAAO,SAAS,8CAA8C,EAC1Ds0B,EAAO,SAAW,EACpBA,EAAO,KAAK,EAAG,CAAC,EACPA,EAAO,SAAW,GAC3BA,EAAO,KAAKA,EAAO,CAAC,EAAI,CAAC,GAG7B,QAAS,EAAI,EAAG,EAAIA,EAAO,OAAQ,IAAK,CACtC,MAAMp7B,EAAIo7B,EAAO,EAAI,CAAC,EAChBn7B,EAAIm7B,EAAO,CAAC,EAClB,GAAIp7B,GAAKC,EAAG,CACV6G,EAAO,SAAS,6DAA6D,EAC7Es0B,EAAO,KAAK,CAACuL,EAAIC,IAAOD,EAAKC,CAAE,EAC/B,KACF,CACF,CACA,GAAI9+B,EAAO,OAASszB,EAAO,OACzB,QAAS,EAAItzB,EAAO,OAAQ,EAAIszB,EAAO,OAAQ,IAC7CtzB,EAAO,KAAKA,EAAO,OAAS,EAAIA,EAAO,CAAC,EAAI,OAAO,EAGvD,KAAK,YAAc,KAAK,MAAM,IAAIytG,EAA0B,CAC9D,CACA,QAAQr0G,EAAG,CACT,KAAK,QAAQ,EACb,KAAM,CAAE,OAAAk6B,EAAQ,MAAOtzB,EAAQ,YAAA+tG,CAAY,EAAI,KACzC7zE,EAAK5G,EAAO,CAAC,EACb6G,EAAK7G,EAAO,GAAG,EAAE,EACjBO,EAAK7zB,EAAO,CAAC,EACb8zB,EAAK9zB,EAAOA,EAAO,OAAS,CAAC,EACnC,GAAI5G,GAAK8gC,EACP,OAAOrG,EAET,GAAIz6B,GAAK+gC,EACP,OAAOrG,EAET,IAAI3vB,EACAqoB,EACJ,GAAI8G,EAAO,SAAW,EAAG,CACvB,MAAM/pB,GAAKnQ,EAAI8gC,IAAOC,EAAKD,GACrB1+B,EAAO,GAAKwE,EAAO,OAAS,GAClCmE,EAAQnE,EAAO,QAAU,EAAI,EAAI,KAAK,IAAI,KAAK,MAAMuJ,GAAKvJ,EAAO,OAAS,EAAE,EAAGA,EAAO,OAAS,CAAC,EAChGwsB,GAAKjjB,EAAIpF,EAAQ3I,GAAQA,CAC3B,KAAO,CACL,IAAK2I,EAAQ,EAAGA,EAAQmvB,EAAO,OAAS,GAClC,EAAAl6B,EAAIk6B,EAAOnvB,EAAQ,CAAC,GADiBA,IACzC,CAIF,MAAMjM,EAAIo7B,EAAOnvB,CAAK,EAChBhM,EAAIm7B,EAAOnvB,EAAQ,CAAC,EAC1BqoB,GAAKpzB,EAAIlB,IAAMC,EAAID,EACrB,CACA,MAAMm1B,EAAK0gF,EAAY5pG,CAAK,EACtBmpB,EAAKygF,EAAY5pG,EAAQ,CAAC,EAChC,OAAOupG,GAAiBrgF,EAAIC,EAAId,CAAC,EAAE,aAAa,CAClD,CACA,SAAU,CACH,KAAK,UAEV,KAAK,QAAU,GACf,KAAK,OAAO,EACR,KAAK,SACPxtB,EAAO,SAAS,yCAAyC,EAE7D,CACF,EACAjE,EAAiB,CACfm4B,EACF,EAAG46E,GAAW,UAAW,SAAU,CAAC,EACpC/yG,EAAiB,CACfm4B,EACF,EAAG46E,GAAW,UAAW,QAAS,CAAC,EACnC,IAAIE,GAAqB,cAAczR,EAAa,CAClD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,EACjB,CACF,EACAxhG,EAAiB,CACf25B,EAAS0B,CAAe,EACxB7R,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGypF,GAAmB,UAAW,UAAW,CAAC,EAC7CjzG,EAAiB,CACf25B,EAAS4C,GAAc,CAAE,SAAU,EAAK,CAAC,EACzC/S,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGypF,GAAmB,UAAW,SAAU,CAAC,EAC5C,IAAIC,GAAoB,cAAc5iE,EAAM,CAC1C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,KACnB,CACF,EACAtwC,EAAiB,CACf25B,EAAS8D,EAAe,CAC1B,EAAGy1E,GAAkB,UAAW,YAAa,CAAC,EAC9C,IAAIC,GAAyB,cAAczrB,EAA0B,CACnE,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,WAAa,CAAC,UAAW,UAAW,SAAS,EAClD,KAAK,OAAS,IAAIurB,GAClB,KAAK,MAAQ,IAAIC,GACjB,KAAK,QAAU,IAAIxR,EACrB,CACF,EACA1hG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGk4E,GAAuB,UAAW,OAAQ,CAAC,EAC9CnzG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGk4E,GAAuB,UAAW,OAAQ,CAAC,EAC9CnzG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGk4E,GAAuB,UAAW,UAAW,CAAC,EACjDnzG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk4E,GAAuB,UAAW,WAAY,CAAC,EAClDnzG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk4E,GAAuB,UAAW,WAAY,CAAC,EAClDnzG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk4E,GAAuB,UAAW,QAAS,CAAC,EAC/CnzG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk4E,GAAuB,UAAW,QAAS,CAAC,EAC/CnzG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk4E,GAAuB,UAAW,WAAY,CAAC,EAClDnzG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk4E,GAAuB,UAAW,YAAa,CAAC,EACnDnzG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk4E,GAAuB,UAAW,YAAa,CAAC,EACnDnzG,EAAiB,CACf25B,EAAS4C,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAG42E,GAAuB,UAAW,cAAe,CAAC,EACrDnzG,EAAiB,CACf25B,EAAS0C,EAAkB,CAC7B,EAAG82E,GAAuB,UAAW,aAAc,CAAC,EACpDnzG,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk4E,GAAuB,UAAW,QAAS,CAAC,EAC/CnzG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGu4E,GAAuB,UAAW,SAAU,CAAC,EAChDnzG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGu4E,GAAuB,UAAW,QAAS,CAAC,EAC/CnzG,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGu4E,GAAuB,UAAW,UAAW,CAAC,EACjD,IAAIC,GAAwB,cAAc5rB,EAAyB,CACjE,YAAYv4E,EAAMw4E,EAAal6D,EAAOrc,EAAQ,CAC5C,MAAMjC,EAAMw4E,EAAal6D,EAAOrc,CAAM,EACtC,KAAK,QAAUA,EAAO,WAAW,OACnC,CACF,EACImiG,GAAe,cAAc1rB,EAAgB,CAC/C,YAAY9kC,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,cAAeykC,GACf,eAAgBC,GAChB,UAAW,CACT,EACA,EACA,CAEF,EACA,eAAgB,EAChB,WAAY,GACZ,iCAAkC,GAClC,kBAAmB,CACjB,MAAO6Z,GACP,OAAQc,EACV,CACF,CAAC,EACD,KAAK,UAAYkR,GACjB,KAAK,WAAa,IAAID,GACtB,KAAK,UAAY,IAAIjkB,GACrB,KAAK,WAAa,IAAI6jB,EACxB,CACA,YAAYj6B,EAAgB,CAC1B,OAAO34E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EAAIC,EAAIU,EAChB,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,KAAK,MAAQ,MAAQ,CAAC,KAAK,QAC3D,OACF,MAAM41E,GAAUxhF,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnByhF,GAAUx2E,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnB,CAAE,WAAAq6F,EAAY,WAAAC,CAAW,EAAI,KAAK,oBAAoB,CAAE,OAAA/jB,EAAQ,OAAAC,CAAO,CAAC,EACxEgtB,EAAiB,KAAK,WAAW,KACjCC,EAAgB,KAAK,UAAU,KAC/B,CAAE,KAAAxJ,EAAM,KAAAC,EAAM,QAAAwJ,EAAS,SAAAC,EAAU,YAAAC,EAAa,WAAAC,EAAY,SAAAC,EAAU,OAAAv1D,CAAO,EAAI,KAAK,WACpF,CAAE,UAAA0pB,EAAW,cAAA9E,CAAc,EAAI,MAAM,KAAK,iBAAiB6V,EAAgB,KAAK,KAAM,CAC1F,MAAO,CACLnI,GAAYo5B,EAAMI,EAAY,CAAE,GAAI,UAAW,CAAC,EAChDx5B,GAAYq5B,EAAMI,EAAY,CAAE,GAAI,UAAW,CAAC,EAChD,GAAGqJ,EAAW,CAAC9iC,GAAY8iC,EAAU,OAAQ,CAAE,GAAI,cAAe,CAAC,CAAC,EAAI,CAAC,EACzE5iC,GAAck5B,EAAMI,EAAY,CAAE,GAAI,QAAS,CAAC,EAChDt5B,GAAcm5B,EAAMI,EAAY,CAAE,GAAI,QAAS,CAAC,EAChDv5B,GAAc2iC,EAASD,EAAe,CAAE,GAAI,WAAY,CAAC,EACzD,GAAGK,EAAW,CAAC/iC,GAAc+iC,EAAUN,EAAgB,CAAE,GAAI,YAAa,CAAC,CAAC,EAAI,CAAC,EACjF,GAAGG,EAAW,CAAC5iC,GAAc4iC,EAAU,OAAQ,CAAE,GAAI,YAAa,CAAC,CAAC,EAAI,CAAC,CAC3E,CACF,CAAC,EACKI,EAAa9rC,EAAU,8BAA8B,KAAM,WAAW,EACtE+rC,GAAiB/jG,EAAKkzD,EAAc,OAAO,OAAO4wC,CAAU,IAAM,KAAO9jG,EAAK,CAAC,EAErF,GADA,KAAK,UAAU,OAASsuC,EAAO,OAASA,EAAO,OAASy1D,EACpDF,EAAU,CACZ,MAAMG,EAAchsC,EAAU,8BAA8B,KAAM,YAAY,EAC9E,KAAK,WAAW,QAAUt3D,EAAKijG,GAAoCzwC,EAAc,OAAO,OAAO8wC,CAAW,IAAM,KAAOtjG,EAAK,CAAC,EAC7H,KAAK,WAAW,MAAQkjG,EACxB,KAAK,WAAW,OAAO,CACzB,CACA,KAAK,eAAe,WAAW,YAAY,CAC7C,CAAC,CACH,CACA,gBAAgBp+D,EAAW,CACzB,KAAM,CAAE,UAAAwyB,EAAW,cAAA9E,CAAc,EAAI,KACrC,GAAI,CAACA,GAAiB,CAAC8E,EACrB,MAAO,CAAC,EACV,MAAMnxC,EAAK2e,IAAc,IAAM,SAAW,SACpCy+D,EAAUjsC,EAAU,4BAA4B,KAAMnxC,CAAE,EACxD2B,EAASwvC,EAAU,UAAU,KAAMnxC,EAAI,QAASqsC,CAAa,EACnE,GAAgC+wC,GAAQ,IAAI,OAAU,SAAuCA,GAAQ,IAAI,YAAe,WACtH,OAAOz7E,EAET,MAAMtnB,EAAO,KAAK,KAAKskC,CAAS,EAChC,OAAOysB,GAAiBvkD,GAAO8a,CAAM,EAAGtnB,CAAI,CAC9C,CACA,gBAAiB,CACf,OAAO9Q,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EAAIC,EACZ,KAAM,CAAE,KAAAoJ,EAAM,UAAA4uD,EAAW,cAAA9E,EAAe,WAAAgxC,EAAY,UAAAC,CAAU,EAAI,KAC5D,CAAE,KAAAnK,EAAM,KAAAC,EAAM,QAAAwJ,EAAS,SAAAC,EAAU,MAAAnG,EAAO,MAAAC,EAAO,SAAA4G,EAAU,UAAAC,EAAW,MAAAv+D,EAAO,SAAA+9D,EAAU,OAAAv1D,EAAQ,QAAApJ,CAAQ,EAAI,KAAK,WAC9GwkD,EAActT,GAAU9nC,EAAO,KAAK,EACpC,CAAE,UAAAC,CAAU,EAAIzI,EAChBm0C,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGF,GAAI,EAAE4uD,GAAa9E,GAAiBhuB,GAAW+0C,GAASC,GACtD,OAEF,MAAMoqB,EAAWtsC,EAAU,8BAA8B,KAAM,QAAQ,EACjEusC,EAAWvsC,EAAU,8BAA8B,KAAM,QAAQ,EACjEwsC,EAAcf,EAAUzrC,EAAU,8BAA8B,KAAM,WAAW,EAAI,GACrFysC,EAAeZ,EAAW7rC,EAAU,8BAA8B,KAAM,YAAY,EAAI,GACxF0sC,EAAehB,EAAW1rC,EAAU,8BAA8B,KAAM,YAAY,EAAI,GACxFse,EAAS2D,EAAM,MACf1D,EAAS2D,EAAM,MACf/lE,IAAYrf,EAAKwhF,EAAO,YAAc,KAAOxhF,EAAK,GAAK,EACvDsf,IAAYrU,EAAKw2E,EAAO,YAAc,KAAOx2E,EAAK,GAAK,EACvD82E,EAAW,CAAC,EAClBstB,EAAU,MAAQ,CAAC71D,EAAO,KAAMA,EAAO,OAAO,EAC9C,MAAMvO,EAAO+F,EAAM,QAAQ,EAC3B,SAAW,CAAE,OAAAn4B,EAAQ,MAAA6P,EAAM,IAAMxd,EAAKkzD,EAAc,OAAS,KAAOlzD,EAAK,CAAC,EAAG,CAC3E,MAAMq7F,GAAS1tF,EAAO22F,CAAQ,EACxBlI,GAASzuF,EAAO42F,CAAQ,EACxBj2G,GAAIgoF,EAAO,QAAQ+kB,EAAM,EAAIlnF,EAC7BkD,GAAIk/D,EAAO,QAAQ6lB,EAAM,EAAIhoF,EAC7B61E,GAAY,KAAK,aAAankD,EAAO,CACzC,MAAO49D,EAAW/1F,EAAO+2F,CAAY,EAAItI,GACzC,MAAA5+E,GACA,KAAAw8E,EACA,KAAAC,EACA,QAAAwJ,EACA,SAAAC,EACA,MAAAnG,EACA,MAAAC,EACA,SAAA4G,EACA,UAAAC,CACF,CAAC,EACK71F,EAAO0xB,GAAK,YAAY,OAAO+pD,EAAS,EAAGlqD,CAAI,EAC/CgnD,GAAa0c,EAAUU,EAAU,QAAQx2F,EAAO62F,CAAW,CAAC,EAAIl2D,EAAO,KACvE5U,EAAOmqE,EAAWK,EAAW,QAAQv2F,EAAO82F,CAAY,CAAC,EAAI,OACnE5tB,EAAS,KAAK,CACZ,OAAQ,KACR,OAAQojB,EACR,KAAAA,EACA,KAAAD,EACA,MAAAx8E,GACA,OAAQ69E,GACR,OAAQe,GACR,UAAWzuF,EAAO62F,CAAW,EAC7B,MAAO,CAAE,EAAAl2G,GAAG,EAAA+oB,GAAG,KAAM0vE,EAAW,EAChC,SAAU,CAAE,EAAAz4F,GAAG,EAAA+oB,EAAE,EACjB,KAAAqiB,EACA,MAAOhqC,EAAgB,CAAE,KAAMu6F,EAAU,EAAGz7E,CAAI,EAChD,OAAQk7E,EACR,UAAAn7C,CACF,CAAC,CACH,CACA,MAAO,CACL,OAAQ0rD,EACR,SAAApjB,EACA,UAAWA,EACX,OAAQ,KAAK,iBAAiB,EAC9B,QAAS,KAAK,OAChB,CACF,CAAC,CACH,CACA,wBAAyB,CACvB,OAAO,KAAK,WAAW,OAAO,QAAQ,CACxC,CACA,cAAe,CACb,IAAI/hF,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,YAAc,KAAOiL,EAAK,CAAC,CAC5F,CACA,eAAgB,CACd,KAAM,CAAE,MAAAo2E,CAAM,EAAI,KAAK,WAAW,OAC5B8C,EAAc7C,GAAUD,CAAK,EACnC,OAAO,IAAI8C,CACb,CACA,sBAAsBr2E,EAAM,CAC1B,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,SAAAymF,EAAU,gBAAAkC,CAAgB,EAAIn2E,EAClC,KAAK,WAAW,OAAO,QAAQ,IACjCm2E,EAAgB,MAAM,EACtBA,EAAgB,QAAQ,GAE1B,MAAM90E,EAAO,KAAK,WAAW,OAAO,QAAU4yE,EAAW,CAAC,EAC1D,OAAOkC,EAAgB,OACrB90E,EACA,OACCuZ,GAAU2iD,GAAc,CAAC3iD,EAAM,OAAQA,EAAM,OAAQA,EAAM,MAAM,IAAI,CAAC,CACzE,CACF,CAAC,CACH,CACA,kBAAkB5a,EAAM,CACtB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,gBAAA2oF,EAAiB,YAAaqkB,CAAY,EAAIx6F,EAChD,CAAE,KAAAo3F,EAAM,KAAAC,EAAM,QAAAwJ,EAAS,SAAAC,EAAU,OAAAp1D,CAAO,EAAI,KAAK,WACjD+uD,EAAYngG,GAAckgG,GAAe,KAAK,WAAW,eAAe,KAAM9uD,EAAO,SAAS,CAAC,EACrG,KAAK,UAAU,MAAQ,CAACA,EAAO,KAAMA,EAAO,OAAO,EACnDyqC,EAAgB,KAAK,CAACj2E,EAAM0a,IAAU,CACpC,KAAK,kBAAkB1a,EAAMwrC,EAAQ,CAAE,MAAA9wB,EAAO,YAAA4/E,EAAa,KAAApD,EAAM,KAAAC,EAAM,QAAAwJ,EAAS,SAAAC,CAAS,EAAGrG,CAAS,CACvG,CAAC,EACID,GACH,KAAK,WAAW,OAAO,UAAU,CAErC,CAAC,CACH,CACA,qBAAqBx6F,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,MAAM4kG,EAAe,KAAK,WAAW,MAAM,SAAW5kG,GAAMjL,EAAK,KAAK,QAAU,KAAO,OAASA,EAAG,YAAY,EAAE,IAAI,IAAI,IAAM,KAAOiL,EAAK,CAAC,EAAI,CAAC,EACjJ,OAAO6C,EAAK,eAAe,OACzB+hG,EAAa,IAAKp2G,GAAMoB,EAAcD,EAAgB,CAAC,EAAGnB,EAAE,KAAK,EAAG,CAClE,MAAO,CACL,EAAGA,EAAE,EACL,EAAGA,EAAE,EACL,KAAMA,EAAE,MAAM,MAAM,IACtB,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CACH,CACA,iBAAiBqU,EAAM,CACrB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,MAAA01C,CAAM,EAAI,KAAK,WACvBljC,EAAK,eAAe,KAAK,CAAC45B,EAAMhf,IAAU,CACxC,IAAI1oB,EAAIiL,EAAIC,EAAIU,EAChB87B,EAAK,KAAOhf,EAAM,MAAM,KACxBgf,EAAK,KAAOsJ,EAAM,MAClBtJ,EAAK,GAAKz8B,GAAMjL,EAAK0oB,EAAM,QAAU,KAAO,OAAS1oB,EAAG,IAAM,KAAOiL,EAAK,EAC1Ey8B,EAAK,GAAK97B,GAAMV,EAAKwd,EAAM,QAAU,KAAO,OAASxd,EAAG,IAAM,KAAOU,EAAK,EAC1E87B,EAAK,UAAYsJ,EAAM,UACvBtJ,EAAK,WAAasJ,EAAM,WACxBtJ,EAAK,SAAWsJ,EAAM,SACtBtJ,EAAK,WAAasJ,EAAM,WACxBtJ,EAAK,UAAY,OACjBA,EAAK,aAAe,KACtB,CAAC,CACH,CAAC,CACH,CACA,eAAey6C,EAAW,CACxB,IAAIniF,EACJ,MAAMmlF,EAAQ,KAAK,KACjB,EAGIC,EAAQ,KAAK,KACjB,EAGF,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,CAACD,GAAS,CAACC,EAC3C,OAAO5pC,GAET,KAAM,CAAE,KAAA0pD,EAAM,KAAAC,EAAM,QAAAwJ,EAAS,SAAAC,EAAU,MAAAnG,EAAO,MAAAC,EAAO,SAAA4G,EAAU,UAAAC,EAAW,OAAA/1D,EAAQ,QAAA6hB,CAAQ,EAAI,KAAK,WAC7Fvf,GAAS97C,EAAK,KAAK,WAAW,QAAU,KAAOA,EAAK0oG,EACpDH,EAAYngG,GAChB,CAAE,KAAM+5E,EAAU,KAAM,YAAa,KAAK,eAAe3oC,EAAO,WAAW,CAAE,EAC7EA,EAAO,SAAS,CAClB,EACM,CAAE,KAAMhsB,EAAQ,MAAO,EAAI,KAAK,eACpCgsB,EACA,CAAE,MAAO2oC,EAAW,YAAa,GAAO,KAAA+iB,EAAM,KAAAC,EAAM,QAAAwJ,EAAS,SAAAC,CAAS,EACtErG,CACF,EACM,CACJ,MAAA7/E,EACA,OAAAi1E,EACA,OAAAgL,EACA,UAAAmH,EACA,MAAO,CAAE,KAAM3a,CAAU,EACzB,OAAAj+B,CACF,EAAIirB,EACEymB,EAAUzM,GAAahX,EAAM,YAAYwY,CAAM,CAAC,EAChDkL,EAAU1M,GAAa/W,EAAM,YAAYujB,CAAM,CAAC,EACtD,IAAIt2D,EAAU,MAAM8pD,GAAasM,GAAwBvD,CAAI,CAAC,SAAS0D,CAAO,UAAUzM,GAAauM,GAAwBvD,CAAI,CAAC,SAAS0D,CAAO,GAClJ,OAAI8F,IACFt8D,GAAW,UAAU8pD,GAAamT,GAA8BX,CAAO,CAAC,SAASxS,GAAa,OAAO2T,CAAS,CAAC,CAAC,IAE9GlB,IACFv8D,EAAU,MAAM8pD,GAAaoT,GAAgCX,CAAQ,CAAC,SAASzS,GAAahH,CAAS,CAAC,OAAS9iD,GAE1GgpB,EAAQ,cACb,CAAE,MAAAvf,EAAO,QAAAzJ,EAAS,gBAAiB7kB,CAAM,EACzC,CACE,MAAA9E,EACA,OAAAwuC,EACA,KAAAguC,EACA,MAAAuD,EACA,KAAAtD,EACA,MAAAuD,EACA,QAAAiG,EACA,SAAAW,EACA,SAAAV,EACA,UAAAW,EACA,MAAAzzD,EACA,MAAAtuB,EACA,SAAU,KAAK,EACjB,CACF,CACF,CACA,eAAgB,CACd,IAAIxtB,EAAIiL,EACR,GAAI,GAAGjL,EAAK,KAAK,OAAS,MAAgBA,EAAG,SAAW,CAAC,KAAK,WAAW,QAAQ,EAC/E,MAAO,CAAC,EAEV,KAAM,CAAE,KAAAmlG,EAAM,MAAAuD,EAAO,MAAA5sD,EAAO,OAAAtC,EAAQ,QAAApJ,CAAQ,EAAI,KAAK,WAC/C,CAAE,MAAAixC,EAAO,KAAAz8C,EAAM,OAAAa,EAAQ,YAAAD,EAAa,cAAAK,EAAe,YAAAH,CAAY,EAAI8T,EACzE,MAAO,CACL,CACE,WAAY,WACZ,GAAI,KAAK,GACT,OAAQ2rD,EACR,SAAU,KAAK,GACf,QAAS/0D,EACT,MAAO,CACL,MAAOnlC,EAAK6wC,GAAwB4sD,IAAU,KAAOz9F,EAAKk6F,CAC5D,EACA,OAAQ,CACN,MAAA9jB,EACA,KAAMz8C,GAAsB,mBAC5B,OAAQa,GAA0B,mBAClC,YAAaD,GAAoC,EACjD,cAAeK,GAAwC,EACvD,YAAaH,GAAoC,CACnD,CACF,CACF,CACF,CACA,wBAAwB,CAAE,gBAAAu+C,EAAiB,eAAAD,CAAe,EAAG,CAC3DiZ,GAAuB,KAAM,KAAK,IAAI,iBAAkBhZ,CAAe,EACvEmY,GAA2B,KAAM,SAAU,KAAK,IAAI,iBAAkBpY,CAAc,CACtF,CACA,gBAAiB,CACf,OAAO,KAAK,WAAW,MAAM,OAC/B,CACA,aAAc,CACZ,OAAO,IAAIhgD,CACb,CACA,mBAAmB,CAAE,WAAAqxC,CAAW,EAAG,CACjC,IAAIr1E,EACJ,OAAO89F,IAA0B99F,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,SAASq1E,CAAU,EAAG,KAAK,YAAY,CAC3H,CACF,EACAm5B,GAAa,UAAY,eACzBA,GAAa,KAAO,SACpB,IAAIuB,GAAqB,CACvB,KAAM,SACN,WAAY,WACZ,YAAa,YACb,WAAY,CAAC,WAAW,EACxB,WAAY,SACZ,oBAAqBvB,GACrB,YAAa,CACX,CACE,KAAM,SACN,SAAU,QAEZ,EACA,CACE,KAAM,SACN,SAAU,MAEZ,CACF,EACA,cAAe,CACb,OAAQ,CACN,YAAa58F,GACb,QAAS,CAAE,SAAU,CAAE,KAAM,MAAO,CAAE,EACtC,OAAQ,CACN,YAAaC,GACb,QAAS,GACT,YAAa,EACf,EACA,MAAO,CACL,QAAS,GACT,SAAU,GACV,WAAYC,GACZ,MAAOC,EACT,CACF,CACF,EACA,eAAgB2pF,EAClB,EACIsU,GAA4B,cAAcntB,EAA0B,CACtE,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,YAAc,EACnB,KAAK,YAAc,EACnB,KAAK,cAAgB,EACrB,KAAK,SAAW,CAAC,CAAC,EAClB,KAAK,eAAiB,EACtB,KAAK,aAAe,EACpB,KAAK,SAAW,GAChB,KAAK,YAAc,MACnB,KAAK,OAAS,IAAI4Z,GAClB,KAAK,MAAQ,IAAIhxD,GACjB,KAAK,QAAU,IAAIoxD,EACrB,CACF,EACA1hG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG45E,GAA0B,UAAW,OAAQ,CAAC,EACjD70G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG45E,GAA0B,UAAW,OAAQ,CAAC,EACjD70G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG45E,GAA0B,UAAW,QAAS,CAAC,EAClD70G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG45E,GAA0B,UAAW,QAAS,CAAC,EAClD70G,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGy4E,GAA0B,UAAW,OAAQ,CAAC,EACjD70G,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGu5E,GAA0B,UAAW,cAAe,CAAC,EACxD70G,EAAiB,CACf25B,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGy4E,GAA0B,UAAW,SAAU,CAAC,EACnD70G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGw5E,GAA0B,UAAW,cAAe,CAAC,EACxD70G,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGu5E,GAA0B,UAAW,gBAAiB,CAAC,EAC1D70G,EAAiB,CACf25B,EAASmD,EAAS,CACpB,EAAG+3E,GAA0B,UAAW,WAAY,CAAC,EACrD70G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGw5E,GAA0B,UAAW,iBAAkB,CAAC,EAC3D70G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGw5E,GAA0B,UAAW,eAAgB,CAAC,EACzD70G,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG85E,GAA0B,UAAW,WAAY,CAAC,EACrD70G,EAAiB,CACf25B,EAAS8B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAGo5E,GAA0B,UAAW,OAAQ,CAAC,EACjD70G,EAAiB,CACf25B,EAASiD,GAAM,CAAC,QAAS,MAAO,MAAM,EAAG,yBAAyB,CAAC,CACrE,EAAGi4E,GAA0B,UAAW,cAAe,CAAC,EACxD70G,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGw5E,GAA0B,UAAW,WAAY,CAAC,EACrD70G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGi6E,GAA0B,UAAW,SAAU,CAAC,EACnD70G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGi6E,GAA0B,UAAW,QAAS,CAAC,EAClD70G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGi6E,GAA0B,UAAW,UAAW,CAAC,EACpD,IAAIC,GAAkB,GAClBC,GAAkB,cAAcptB,EAAgB,CAClD,YAAY9kC,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,cAAeykC,GACf,eAAgBC,GAChB,UAAW,CACT,CAEF,EACA,gCAAiC,GACjC,kBAAmB,CACjB,MAAOqoB,GACP,MAAOxO,EACT,CACF,CAAC,EACD,KAAK,WAAa,IAAIyT,GACtB,KAAK,eAAiB,CAAC,CACzB,CAGA,WAAWG,EAAS,CAClB,MAAMC,EAAY5xE,GAAc2xE,EAAQ,CAAC,EAAGA,EAAQ,CAAC,EAAGF,EAAe,EACjEI,EAAUzxE,GAASuxE,EAAQ,CAAC,EAAGA,EAAQ,CAAC,EAAGF,EAAe,EAC1D,CAACK,CAAW,EAAIF,EAChBG,EAAoBruF,GAAM,CAACA,EAAGA,EAAImuF,CAAO,EAC/C,MAAO,CAAC,CAACC,EAAcD,EAASC,CAAW,EAAG,GAAGF,EAAU,IAAIG,CAAgB,CAAC,CAClF,CACA,kBAAkB78E,EAAQ88E,EAAU,CAClC,MAAMC,EAAa,KAAK,MAAM/8E,EAAO,CAAC,CAAC,EACjC5zB,EAAO4zB,EAAO,CAAC,EACfo3D,EAAW0lB,GAAY,EACvB,CAAE,MAAA3wG,EAAO,QAAAwwG,CAAQ,EAAI,KAAK,mBAAmBI,EAAY3wG,EAAMgrF,CAAQ,EAC7E,OAAO,KAAK,QAAQjrF,EAAOC,EAAMuwG,EAASvlB,CAAQ,CACpD,CACA,QAAQjrF,EAAOC,EAAMlE,EAAM0iB,EAAO,CAChC,MAAMoyF,EAAO,CAAC,EACR99D,EAAY,KAAK,mBAAmBh3C,CAAI,EAC9C,QAAS9C,EAAI,EAAGA,EAAIwlB,EAAOxlB,IAAK,CAC9B,MAAM,EAAI,KAAK,OAAO+G,EAAQ/G,EAAI8C,GAAQg3C,CAAS,EAAIA,EACvD,IAAIr6C,EAAI,KAAK,OAAOsH,GAAS/G,EAAI,GAAK8C,GAAQg3C,CAAS,EAAIA,EACvD95C,IAAMwlB,EAAQ,IAChB/lB,EAAI,KAAK,IAAIA,EAAGuH,CAAI,GAEtB4wG,EAAK53G,CAAC,EAAI,CAAC,EAAGP,CAAC,CACjB,CACA,OAAOm4G,CACT,CACA,mBAAmB90G,EAAM,CACvB,IAAIg3C,EAAY,GAChB,GAAI,SAASh3C,CAAI,GAAKA,EAAO,EAC3B,KAAOA,EAAO,GACZg3C,GAAa,GACbh3C,GAAQ,GAGZ,OAAOg3C,CACT,CACA,mBAAmBt6C,EAAGC,EAAGuyF,EAAU,CACjC,MAAMulB,EAAU,KAAK,IAAI93G,EAAID,CAAC,EAAIwyF,EAC5BE,EAAQ,KAAK,MAAM,KAAK,MAAMqlB,CAAO,CAAC,EACtCplB,EAAY,KAAK,IAAI,GAAID,CAAK,EAEpC,MAAO,CACL,MAFY,KAAK,MAAM1yF,EAAI2yF,CAAS,EAAIA,EAGxC,QAAAolB,CACF,CACF,CACA,YAAYp8B,EAAgB,CAC1B,OAAO34E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,GAAI,CAAC,KAAK,QACR,OACF,KAAM,CAAE,KAAAi6F,EAAM,KAAAC,EAAM,SAAAwL,EAAU,YAAAC,CAAY,EAAI,KAAK,WAC7CpvB,GAAUxhF,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnByhF,GAAUx2E,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnB,CAAE,WAAAq6F,EAAY,WAAAC,CAAW,EAAI,KAAK,oBAAoB,CAAE,OAAA9jB,EAAQ,OAAAD,CAAO,CAAC,EACxE9vD,EAAQ,CAACo6C,GAAYo5B,EAAMI,CAAU,EAAG18B,EAAkB,EAChE,GAAIu8B,EAAM,CACR,IAAI0L,EAAU/oC,GAAW,UAAU,EAC/B8oC,IAAgB,UACTA,IAAgB,MACzBC,EAAUjpC,GAAS,UAAU,EACpBgpC,IAAgB,SACzBC,EAAU9oC,GAAa,UAAU,IAE/B4oC,IACFE,EAAU7oC,GAAK,WAAY6oC,CAAO,GAEpCn/E,EAAM,KAAKs6C,GAAcm5B,EAAMI,EAAY,CAAE,aAAc,MAAO,CAAC,EAAGsL,CAAO,CAC/E,KAAO,CACL,IAAIA,EAAU/oC,GAAW,UAAU,EAC/B6oC,IACFE,EAAU7oC,GAAK,WAAY6oC,CAAO,GAEpCn/E,EAAM,KAAKm/E,CAAO,CACpB,CACA,MAAMvyC,EAAawyC,GAAY,CAC7B,IAAI5yF,EACJ,MAAM6yF,EAAU5zC,GAAiB2zC,EAAQ,OAAO,KAAK,CAAC,CAAC,EACvD,GAAIC,EAAQ,SAAW,EACrB,OAAAD,EAAQ,OAAO,OAAS,CAAC,EAClB,IAAM,CAAC,EAEhB,MAAMJ,EAAOjpG,GAAS,KAAK,WAAW,QAAQ,EAAI,KAAK,kBAAkBspG,EAAS,KAAK,WAAW,QAAQ,GAAK7yF,EAAM,KAAK,WAAW,OAAS,KAAOA,EAAM,KAAK,WAAW6yF,CAAO,EAC5KP,EAAWE,EAAK,OACtB,YAAK,eAAiB,CAAC,GAAGA,CAAI,EACtBjoG,GAAS,CACf,MAAMk1F,EAASl1F,EAAK,KAAK,CAAC,EAC1B,QAAS3P,EAAI,EAAGA,EAAI03G,EAAU13G,IAAK,CACjC,MAAMk4G,EAAUN,EAAK53G,CAAC,EAItB,GAHI6kG,GAAUqT,EAAQ,CAAC,GAAKrT,EAASqT,EAAQ,CAAC,GAG1Cl4G,IAAM03G,EAAW,GAAK7S,GAAUqT,EAAQ,CAAC,EAC3C,OAAOA,CAEX,CACA,MAAO,CAAC,CACV,CACF,EACI,CAAC,KAAK,IAAI,iBAAiB,UAAU,GAAK,KAAK,eACjDt/E,EAAM,KAAKq5C,GAAK,KAAK,cAAe,EAAK,CAAC,EAE5C,MAAM,KAAK,iBAAiBkJ,EAAgB,KAAK,KAAM,CAAE,MAAAviD,EAAO,UAAA4sC,CAAU,CAAC,EAC3E,KAAK,eAAe,WAAW,YAAY,CAC7C,CAAC,CACH,CACA,gBAAgB5tB,EAAW,CACzB,IAAI1wC,EAAIiL,EAAIC,EAAIU,EAChB,KAAM,CAAE,cAAAwyD,EAAe,UAAA8E,CAAU,EAAI,KACrC,GAAI,CAAC9E,GAAiB,CAAC8E,GAAa,CAAC,KAAK,eAAe,OACvD,MAAO,CAAC,EACV,MAAM+tC,EAAU/tC,EAAU,UAAU,KAAM,WAAY,YAAa9E,CAAa,EAC1E8yC,GAAclxG,EAAK,KAAK,iBAAmB,KAAO,OAASA,EAAG,CAAC,EAAE,CAAC,EAClEmxG,GAAcvlG,EAAK,KAAK,iBAAmB,KAAO,OAASA,IAAKV,GAAMD,EAAK,KAAK,iBAAmB,KAAO,OAASA,EAAG,SAAW,KAAOC,EAAK,GAAK,CAAC,EAAE,CAAC,EAC5J,OACSiyD,GADLzsB,IAAc,IACQ,CAACwgE,EAAYC,CAAU,EAEzBF,CAF0B,CAGpD,CACA,gBAAiB,CACf,OAAO31G,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EACJ,KAAM,CACJ,GAAIy0E,EACJ,KAAAngE,EACA,cAAA8pD,EACA,IAAK,CAAE,cAAA9c,CAAc,CACvB,EAAI,KACE6jC,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGF,GAAI,CAAC,KAAK,SAAW,CAAC6wE,GAAS,CAACC,GAAS,CAAChnB,GAAiBA,EAAc,OAAS,UAChF,OAEF,KAAM,CAAE,MAAOojB,CAAO,EAAI2D,EACpB,CAAE,MAAO1D,CAAO,EAAI2D,EACpB,CAAE,KAAA8f,EAAM,KAAAC,EAAM,MAAAsD,EAAO,MAAAC,EAAO,KAAA9jE,EAAM,OAAAa,EAAQ,YAAAC,EAAa,aAAAymD,CAAa,EAAI,KAAK,WAC7E,CACJ,UAAWtmC,EAAkB13C,GAAW,OAAOA,EAAO,KAAK,EAC3D,UAAW2+F,EACX,WAAYC,EACZ,SAAUC,EACV,WAAYC,EACZ,MAAOC,CACT,EAAI,KAAK,WAAW,MACdnrB,EAAW,CAAC,EAClB,OAAA3jB,EAAc,KAAK,QAASpuB,GAAW,CACrC,IAAI9xB,EACJ,KAAM,CACJ,UAAW,CAAC,CAACkzF,EAAaC,CAAW,CAAC,EAAI,CAAC,CAAC,EAAG,CAAC,CAAC,EACjD,MAAA3oF,EACA,MAAO,CAAE,OAAQ4oF,CAAU,EAC3B,KAAM59E,EACN,KAAM,CAACw9E,EAAYC,CAAU,CAC/B,EAAInhE,EACEuhE,EAAS/vB,EAAO,QAAQ0vB,CAAU,EAClCM,EAAShwB,EAAO,QAAQ2vB,CAAU,EAClChiD,EAAQiiD,EAAcC,EACtBI,GAAUhwB,EAAO,QAAQ,CAAC,EAC1BiwB,GAASjwB,EAAO,QAAQtyB,CAAK,EAC7BxoC,GAAI,KAAK,IAAI6qF,EAASD,CAAM,EAC5B3qF,GAAI,KAAK,IAAI8qF,GAASD,EAAO,EAC7Bj4G,GAAI,KAAK,IAAI+3G,EAAQC,CAAM,EAC3BjvF,GAAI,KAAK,IAAIkvF,GAASC,EAAM,EAClC,IAAIC,EACAxiD,IAAU,IACZwiD,EAAsB,CACpB,MAAOzzF,EAAMojC,EAAc,KAAKuE,EAAgB,CAC9C,MAAOsJ,EACP,MAAAzmC,EACA,SAAA+rD,EACA,KAAAywB,EACA,KAAAC,EACA,MAAAsD,EACA,MAAAC,CACF,CAAC,IAAM,KAAOxqF,EAAM,OAAOixC,CAAK,EAChC,UAAW29C,EACX,WAAYC,EACZ,SAAUC,EACV,WAAYC,EACZ,KAAMC,EACN,EAAG1zG,GAAImtB,GAAI,EACX,EAAGpE,GAAIqE,GAAI,CACb,GAEF,MAAMgrF,GAAe,CACnB,EAAGp4G,GAAImtB,GAAI,EACX,EAAGpE,GAAIqE,GAAI,CACb,EACMirF,EAAgBzsB,EAAM,WAAW,EACvCrD,EAAS,KAAK,CACZ,OAAQ,KACR,MAAAr5D,EAGA,gBAAiBymC,EACjB,UAAAmiD,EACA,OAAA59E,EACA,KAAAyxE,EACA,KAAAD,EACA,EAAA1rG,GACA,EAAA+oB,GACA,OAAQgvF,EACR,OAAQG,GACR,MAAO/qF,GACP,OAAQC,GACR,SAAUgrF,GACV,KAAAhtE,EACA,OAAAa,EACA,aAAA0mD,EACA,oBAAqB,CAAC0lB,EACtB,qBAAsB,CAACA,EACvB,wBAAyBA,EACzB,uBAAwBA,EACxB,QAAS,EACT,YAAAnsE,EACA,MAAOisE,CACT,CAAC,CACH,CAAC,EACM,CACL,QAAS3xG,EAAK,KAAK,WAAW,OAAS,KAAOA,EAAK,KAAK,GACxD,SAAA+hF,EACA,UAAWA,EACX,OAAQ,KAAK,iBAAiB,EAC9B,eAAgB,GAChB,QAAS,KAAK,OAChB,CACF,CAAC,CACH,CACA,aAAc,CACZ,OAAO,IAAI+L,EACb,CACA,qBAAqBhgF,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,SAAAymF,EAAU,eAAAgC,CAAe,EAAIj2E,EACrC,OAAOi2E,EAAe,OACpBhC,EACCpsB,GAAS,CACRA,EAAK,IAAM,EACXA,EAAK,MAAQ,EACf,EACCjtC,GAAUA,EAAM,OAAO,KAAK,GAAG,CAClC,CACF,CAAC,CACH,CACA,iBAAiB5a,EAAM,CACrB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,YAAaw2G,CAAmB,EAAIhkG,EACtC,CACJ,YAAaikG,EACb,cAAAlsE,EACA,SAAAC,EACA,eAAAC,EACA,OAAAsnE,EACA,eAAgB,CACd,KAAM,CACJ,KAAM2E,EACN,YAAaC,EAAuBF,EACpC,OAAQG,EACR,YAAaC,CACf,CACF,CACF,EAAI,KAAK,WACTrkG,EAAK,eAAe,KAAK,CAAC6nD,EAAMjtC,EAAOnkB,IAAU,CAC/C,IAAIvE,EAAIiL,EACR,KAAM,CACJ,aAAAkhF,EACA,oBAAAW,EACA,qBAAAC,EACA,wBAAAC,EACA,uBAAAC,CACF,EAAIvkE,EACEgd,EAAcosE,GAAsBK,IAAgC,OAASA,EAA8BzpF,EAAM,YACjH8c,EAAcssE,EAAqBG,EAAuBF,EAChEp8C,EAAK,MAAQ31D,EAAK8xG,EAAqBE,EAAkB,SAAW,KAAOhyG,EAAK0oB,EAAM,KACtFitC,EAAK,QAAU1qD,EAAK6mG,EAAqBI,EAAoB,SAAW,KAAOjnG,EAAKyd,EAAM,OAC1FitC,EAAK,YAAcnwB,EACnBmwB,EAAK,cAAgB9vB,EACrB8vB,EAAK,YAAcjwB,EACnBiwB,EAAK,SAAW7vB,EAChB6vB,EAAK,eAAiB5vB,EACtB4vB,EAAK,oBAAsBm3B,EAAsBX,EAAe,EAChEx2B,EAAK,qBAAuBo3B,EAAuBZ,EAAe,EAClEx2B,EAAK,wBAA0Bq3B,EAA0Bb,EAAe,EACxEx2B,EAAK,uBAAyBs3B,EAAyBd,EAAe,EACtEx2B,EAAK,WAAa03C,EAClB13C,EAAK,OAASm8C,EAAqBrlC,GAAO,kBAAoBloE,EAC9DoxD,EAAK,QAAUjtC,EAAM,OAAS,CAChC,CAAC,CACH,CAAC,CACH,CACA,qBAAqB5a,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,UAAAqoD,EAAW,eAAAqgC,CAAe,EAAIl2E,EACtC,OAAOk2E,EAAe,OAAOrgC,EAAYjc,GAAS,CAChDA,EAAK,IAAM,EACXA,EAAK,cAAgB,EACrBA,EAAK,UAAY,SACjBA,EAAK,aAAe,QACtB,CAAC,CACH,CAAC,CACH,CACA,iBAAiB55B,EAAM,CACrB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAMktG,EAAe,KAAK,eAAe,EACzC16F,EAAK,eAAe,KAAK,CAAC45B,EAAMhf,IAAU,CACxC,MAAMsoB,EAAQtoB,EAAM,MAChBsoB,GAASw3D,GACX9gE,EAAK,KAAOsJ,EAAM,KAClBtJ,EAAK,EAAIsJ,EAAM,EACftJ,EAAK,EAAIsJ,EAAM,EACftJ,EAAK,UAAYsJ,EAAM,UACvBtJ,EAAK,WAAasJ,EAAM,WACxBtJ,EAAK,SAAWsJ,EAAM,SACtBtJ,EAAK,WAAasJ,EAAM,WACxBtJ,EAAK,KAAOsJ,EAAM,KAClBtJ,EAAK,QAAU,IAEfA,EAAK,QAAU,EAEnB,CAAC,CACH,CAAC,CACH,CACA,aAAayhE,EAAU,CACrBD,GAAwBC,EAAUF,GAAa,KAAK,aAAa,SAAS,CAAC,CAAC,CAAC,CAC/E,CACA,qBAAqB5hE,EAAO,CAC1B,OAAOgiE,GAAkB,KAAMhiE,CAAK,CACtC,CACA,eAAe86C,EAAW,CACxB,MAAMgD,EAAQ,KAAK,KACjB,EAGIC,EAAQ,KAAK,KACjB,EAGF,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,CAACD,GAAS,CAACC,EAC3C,OAAO5pC,GAET,KAAM,CAAE,KAAA0pD,EAAM,KAAAC,EAAM,MAAAsD,EAAO,MAAAC,EAAO,KAAMl7E,EAAO,YAAAojF,EAAa,QAAAv1C,CAAQ,EAAI,KAAK,WACvE,CACJ,gBAAA+2C,EACA,UAAAd,EACA,OAAQ,CAAChoC,EAAUC,CAAQ,EAC3B,OAAArS,CACF,EAAIirB,EACErmC,EAAQ,GAAGqgD,GAAasM,GAAwBvD,CAAI,CAAC,KAAK/f,EAAM,YAAY7b,CAAQ,CAAC,MAAM6b,EAAM,YAAY5b,CAAQ,CAAC,GAC5H,IAAIl3B,EAAU8yD,EAAO,MAAMhJ,GAAauM,GAAwBvD,CAAI,CAAC,KAAKyL,CAAW,UAAUxrB,EAAM,YAAYgtB,CAAe,CAAC,OAAS,GAC1I//D,GAAW,qBAAqBi/D,CAAS,GACzC,MAAMxnG,EAAW,CACf,MAAAgyC,EACA,gBAAiBtuB,EACjB,QAAA6kB,CACF,EACA,OAAOgpB,EAAQ,cAAcvxD,EAAU,CACrC,MAAO,CACL,KAAMq4E,EAAU,MAChB,gBAAiBA,EAAU,gBAC3B,OAAQA,EAAU,OAClB,UAAWA,EAAU,SACvB,EACA,OAAAjrB,EACA,KAAAguC,EACA,MAAAuD,EACA,KAAAtD,EACA,MAAAuD,EACA,MAAAl7E,EACA,MAAAsuB,EACA,SAAU,KAAK,EACjB,CAAC,CACH,CACA,cAAczrC,EAAY,CACxB,IAAIrQ,EAAIiL,EACR,GAAI,GAAGjL,EAAK,KAAK,OAAS,MAAgBA,EAAG,SAAWqQ,IAAe,WACrE,MAAO,CAAC,EAEV,KAAM,CAAE,KAAA60F,EAAM,MAAAwD,EAAO,KAAA9jE,EAAM,YAAAY,EAAa,OAAAC,EAAQ,YAAAC,EAAa,cAAAG,EAAe,QAAAuK,CAAQ,EAAI,KAAK,WAC7F,MAAO,CACL,CACE,WAAY,WACZ,GAAI,KAAK,GACT,OAAQ80D,EACR,SAAU,KAAK,GACf,QAAS90D,EACT,MAAO,CACL,MAAOnlC,EAAKy9F,GAAwBxD,IAAS,KAAOj6F,EAAK,WAC3D,EACA,OAAQ,CACN,KAAM25B,GAAsB,mBAC5B,OAAQa,GAA0B,mBAClC,YAAAD,EACA,cAAAK,EACA,YAAAH,CACF,CACF,CACF,CACF,CACA,wBAAwB,CAAE,eAAAq+C,EAAgB,eAAAC,CAAe,EAAG,CAC1D,MAAM9kF,EAAM0rG,GAA6BN,GAA6B,GAAM,KAAK,KAAM,QAAQ,CAAC,EAChG5pF,GAAa,KAAK,GAAI,SAAU,KAAK,IAAI,iBAAkB,CAACqjE,CAAc,EAAG7kF,CAAG,EAChFk9F,GAA2B,KAAM,SAAU,KAAK,IAAI,iBAAkBpY,CAAc,CACtF,CACA,0BAA0B70E,EAAM,CAC9B,IAAInP,EAAIiL,EACR,MAAMyiG,GAAYziG,GAAMjL,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,KAChG/L,EAAM0rG,GAA6BN,GAA6B,GAAM,KAAK,KAAM,QAAQ,CAAC,EAChG5pF,GACE,KAAK,GACL,SACA,KAAK,IAAI,iBACT,CAACvR,EAAK,cAAc,EACpBjQ,EACA,CAACwd,EAAGgM,IAAU2iD,GAAc3iD,EAAM,MAAM,EACxCglF,CACF,EACAtR,GAA2B,KAAM,SAAU,KAAK,IAAI,iBAAkBjtF,EAAK,cAAc,CAC3F,CACA,gBAAiB,CACf,OAAO,KAAK,WAAW,MAAM,OAC/B,CACA,mBAAmB,CAAE,WAAAkmE,EAAY,WAAA7D,CAAW,EAAG,CAC7C,IAAIxxE,EACJ,OAAOgrG,IAAuBhrG,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,SAASq1E,CAAU,EAAG,KAAK,aAAc7D,CAAU,CACpI,CACF,EACA0+B,GAAgB,UAAY,kBAC5BA,GAAgB,KAAO,YACvB,IAAImC,GAAwB,CAC1B,KAAM,SACN,WAAY,WACZ,YAAa,YACb,WAAY,CAAC,WAAW,EACxB,WAAY,YACZ,oBAAqBnC,GACrB,YAAa,CACX,CACE,KAAM,SACN,SAAU,QAEZ,EACA,CACE,KAAM,SACN,SAAU,MAEZ,CACF,EACA,cAAe,CACb,OAAQ,CACN,YAAat+F,GACb,YAAa,EACb,YAAa,EACb,cAAe,EACf,SAAU,CAAC,CAAC,EACZ,eAAgB,EAChB,MAAO,CACL,QAAS,GACT,SAAU,GACV,WAAYE,GACZ,MAAOG,EACT,EACA,OAAQ,CACN,QAAS,GACT,MAAOM,GACP,QAAS,EACT,QAAS,EACT,KAAM,CACR,CACF,CACF,EACA,eAAgB,CAAC,CAAE,WAAAkpF,CAAW,IAAM,CAClC,KAAM,CACJ,MAAO,CAAC72D,CAAI,EACZ,QAAS,CAACa,CAAM,CAClB,EAAIg2D,EAAW,CAAC,EAChB,MAAO,CAAE,KAAA72D,EAAM,OAAAa,CAAO,CACxB,CACF,EACI6sE,GAAuB,cAAczvB,EAA0B,CACjE,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,UACd,KAAK,YAAc,EACnB,KAAK,cAAgB,EACrB,KAAK,SAAW,CAAC,CAAC,EAClB,KAAK,eAAiB,EACtB,KAAK,OAAS,IAAI8Z,GAClB,KAAK,MAAQ,IAAIlxD,GACjB,KAAK,QAAU,IAAIoxD,GACnB,KAAK,mBAAqB,EAC5B,CACF,EACA1hG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGk8E,GAAqB,UAAW,OAAQ,CAAC,EAC5Cn3G,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGk8E,GAAqB,UAAW,OAAQ,CAAC,EAC5Cn3G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk8E,GAAqB,UAAW,QAAS,CAAC,EAC7Cn3G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk8E,GAAqB,UAAW,QAAS,CAAC,EAC7Cn3G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGk8E,GAAqB,UAAW,QAAS,CAAC,EAC7Cn3G,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAG+6E,GAAqB,UAAW,SAAU,CAAC,EAC9Cn3G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG87E,GAAqB,UAAW,cAAe,CAAC,EACnDn3G,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAG67E,GAAqB,UAAW,gBAAiB,CAAC,EACrDn3G,EAAiB,CACf25B,EAASmD,EAAS,CACpB,EAAGq6E,GAAqB,UAAW,WAAY,CAAC,EAChDn3G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAG87E,GAAqB,UAAW,iBAAkB,CAAC,EACtDn3G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGu8E,GAAqB,UAAW,SAAU,CAAC,EAC9Cn3G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGu8E,GAAqB,UAAW,QAAS,CAAC,EAC7Cn3G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGu8E,GAAqB,UAAW,UAAW,CAAC,EAC/Cn3G,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGo8E,GAAqB,UAAW,qBAAsB,CAAC,EAC1D,IAAIC,GAAa,cAAczvB,EAAgB,CAC7C,YAAY9kC,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,cAAeykC,GACf,eAAgBC,GAChB,WAAY,GACZ,UAAW,CACT,EACA,EACA,CAEF,EACA,iCAAkC,GAClC,kBAAmB,CACjB,KAAMqd,GAAiB,CAAE,WAAY,IAAM,KAAK,WAAW,CAAE,CAAC,EAC9D,MAAOxD,GACP,OAAQ,CAACvuF,EAAM0a,IAAU9tB,EAAgBA,EAAgB,CAAC,EAAGyiG,GAAcrvF,CAAI,CAAC,EAAGsvF,GAAsBtvF,EAAM0a,CAAK,CAAC,CACvH,CACF,CAAC,EACD,KAAK,WAAa,IAAI4pF,EACxB,CACA,YAAYr+B,EAAgB,CAC1B,OAAO34E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,KAAK,MAAQ,KAC7C,OAEF,KAAM,CAAE,KAAAi6F,EAAM,KAAAC,CAAK,EAAI,KAAK,WACtB1gB,EAAmB,CAAC,KAAK,IAAI,iBAAiB,UAAU,EACxDjD,GAAUxhF,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnByhF,GAAUx2E,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnB,CAAE,cAAAy2E,EAAe,WAAA4jB,EAAY,WAAAC,CAAW,EAAI,KAAK,oBAAoB,CAAE,OAAA/jB,EAAQ,OAAAC,CAAO,CAAC,EACvF/vD,EAAQ,CAAC,EACVgwD,GACHhwD,EAAM,KAAKo6C,GAAYo5B,EAAMI,EAAY,CAAE,GAAI,MAAO,CAAC,CAAC,EAEtD7gB,IACF/yD,EAAM,KAAKm4C,GAAoB6X,EAAgB,CAAC,QAAQ,EAAI,MAAM,CAAC,EAC/D,KAAK,eACPhwD,EAAM,KAAKq5C,GAAK,KAAK,aAAa,CAAC,GAGvCr5C,EAAM,KACJs6C,GAAck5B,EAAMI,EAAY,CAAE,GAAI,QAAS,CAAC,EAChDt5B,GAAcm5B,EAAMI,EAAY,CAAE,GAAI,SAAU,aAAc,MAAO,CAAC,CACxE,EACA,MAAM,KAAK,iBAAiBtxB,EAAgB,KAAK,KAAM,CAAE,MAAAviD,CAAM,CAAC,EAChE,KAAK,eAAe,WAAW,YAAY,CAC7C,CAAC,CACH,CACA,gBAAgBgf,EAAW,CACzB,KAAM,CAAE,KAAAp8B,EAAM,UAAA4uD,EAAW,cAAA9E,CAAc,EAAI,KAC3C,GAAI,CAACA,GAAiB,CAAC8E,EACrB,MAAO,CAAC,EACV,MAAMiiB,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGIk+F,EAAOtvC,EAAU,4BAA4B,KAAM,QAAQ,EACjE,GAAIxyB,IAAc,IAAK,CACrB,MAAMhd,EAASwvC,EAAU,UAAU,KAAM,SAAU,QAAS9E,CAAa,EACzE,OAA6Bo0C,GAAK,IAAI,OAAU,SAAWA,EAAK,IAAI,YAAc,WACzE9+E,EAEFypC,GAAiBvkD,GAAO8a,CAAM,EAAGyxD,CAAK,CAC/C,KAAO,CACL,MAAMzxD,EAASwvC,EAAU,UAAU,KAAM,SAAU,QAAS9E,CAAa,EACzE,OAAOjB,GAAiBzpC,EAAQ0xD,CAAK,CACvC,CACF,CACA,gBAAiB,CACf,OAAO9pF,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EAAIC,EACZ,KAAM,CAAE,cAAAkzD,EAAe,UAAA8E,EAAW,KAAA5uD,CAAK,EAAI,KACrC6wE,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGF,GAAI,CAAC8pD,GAAiB,CAAC8E,GAAa,CAACiiB,GAAS,CAACC,EAC7C,OAEF,KAAM,CAAE,KAAA8f,EAAM,KAAAC,EAAM,MAAAsD,EAAO,MAAAC,EAAO,OAAAlvD,EAAQ,MAAAxI,EAAO,mBAAAo0D,EAAoB,eAAAjuC,CAAe,EAAI,KAAK,WACvFqqB,EAAS2D,EAAM,MACf1D,EAAS2D,EAAM,MACf/lE,IAAYrf,EAAKwhF,EAAO,YAAc,KAAOxhF,EAAK,GAAK,EACvDsf,IAAYrU,EAAKw2E,EAAO,YAAc,KAAOx2E,EAAK,GAAK,EACvD82E,EAAW,CAAC,EACZroE,EAAO8/B,EAAO,QAAUA,EAAO,KAAO,EACtCi5D,EAAOvvC,EAAU,8BAA8B,KAAM,QAAQ,EAC7DwvC,EAAOxvC,EAAU,8BAA8B,KAAM,QAAQ,EACnE,IAAIyvC,EAAS,GACTC,EACJ,QAAS95G,EAAI,EAAGA,EAAIslE,EAAc,KAAK,OAAQtlE,IAAK,CAClD,KAAM,CAAE,MAAA4vB,EAAO,OAAA7P,CAAO,EAAI+5F,GAAgCx0C,EAAc,KAAKtlE,CAAC,EACxEytG,EAAS1tF,EAAO45F,CAAI,EACpBnL,EAASzuF,EAAO65F,CAAI,EAC1B,GAAIpL,IAAW,OACbqL,EAAS,CAACvN,MACL,CACL,MAAM5rG,EAAIgoF,EAAO,QAAQ+kB,CAAM,EAAIlnF,EACnC,GAAI,MAAM7lB,CAAC,EAAG,CACZm5G,EAAS,CAACvN,EACVwN,EAAY,OACZ,QACF,CACAA,IAAc1nG,EAAKkzD,EAAc,KAAKtlE,EAAI,CAAC,IAAM,KAAO,OAASoS,EAAG,OAAOwnG,CAAI,KAAO,OAAS,OAASt0C,EAAc,KAAKtlE,EAAI,CAAC,EAChI,MAAMypB,EAAIk/D,EAAO,QAAQ6lB,CAAM,EAAIhoF,EAC7B61E,EAAY,KAAK,aACrBnkD,EACA,CAAE,MAAOs2D,EAAQ,MAAA5+E,EAAO,KAAAw8E,EAAM,KAAAC,EAAM,MAAAsD,EAAO,MAAAC,EAAO,eAAAvxC,CAAe,EAChE/+D,GAAUsP,GAAetP,CAAK,EAAIA,EAAM,QAAQ,CAAC,EAAI,OAAOA,CAAK,CACpE,EACA2pF,EAAS,KAAK,CACZ,OAAQ,KACR,MAAAr5D,EACA,KAAAy8E,EACA,KAAAD,EACA,MAAO,CAAE,EAAA1rG,EAAG,EAAA+oB,EAAG,OAAAowF,EAAQ,KAAAj5F,CAAK,EAC5B,SAAU,CAAE,EAAAlgB,EAAG,EAAA+oB,CAAE,EACjB,OAAQ+kF,EACR,OAAQf,EACR,YAAa,CAAE,sBAAuB,KAAK,WAAW,OAAO,YAAY,EAAG,UAAW,GAAS,EAChG,MAAOpR,EAAY,CACjB,KAAMA,EACN,UAAWnkD,EAAM,UACjB,WAAYA,EAAM,WAClB,SAAUA,EAAM,SAChB,WAAYA,EAAM,WAClB,UAAW,SACX,aAAc,SACd,KAAMA,EAAM,KACd,EAAI,MACN,CAAC,EACD2hE,EAAS,EACX,CACF,CACA,MAAO,CACL,OAAQxN,EACR,SAAApjB,EACA,UAAWA,EACX,OAAQ,KAAK,iBAAiB,EAC9B,QAAS,KAAK,OAChB,CACF,CAAC,CACH,CACA,wBAAyB,CACvB,OAAO,KAAK,WAAW,OAAO,QAAQ,CACxC,CACA,eAAgB,CACd,KAAM,CAAE,MAAAV,CAAM,EAAI,KAAK,WAAW,OAC5B8C,EAAc7C,GAAUD,CAAK,EACnC,OAAO,IAAI8C,CACb,CACA,gBAAgBr2E,EAAM,CACpB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CACJ,MAAO,CAACkqD,CAAQ,EAChB,QAAA5iB,EACA,QAAAwN,EACA,iBAAAq0C,CACF,EAAI32E,EACJ03C,EAAS,cAAc,CACrB,KAAM,OACN,SAAU,QACV,cAAe,EACf,QAAA5iB,EACA,OAAQ,KAAK,WAAW,OACxB,YAAa,KAAK,eAAe,KAAK,WAAW,WAAW,EAC5D,cAAe,KAAK,WAAW,cAC/B,SAAU,KAAK,WAAW,SAC1B,eAAgB,KAAK,WAAW,cAClC,CAAC,EACI6hD,IACHj/B,EAAS,QAAUpV,GAErB4vD,GAAe,KAAMx6C,CAAQ,CAC/B,CAAC,CACH,CACA,sBAAsB13C,EAAM,CAC1B,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAI,CAAE,SAAAymF,CAAS,EAAIj0E,EACnB,KAAM,CAAE,gBAAAm2E,CAAgB,EAAIn2E,EACtB,CAAE,MAAAuzE,EAAO,QAAAhxC,CAAQ,EAAI,KAAK,WAAW,OAC3C,OAAA0xC,EAAWV,GAAShxC,EAAU0xC,EAAW,CAAC,EACtC,KAAK,WAAW,OAAO,QAAQ,IACjCkC,EAAgB,MAAM,EACtBA,EAAgB,QAAQ,GAEnBA,EAAgB,OAAOlC,EAAU,OAASr5D,GAAU2iD,GAAc3iD,EAAM,MAAM,CAAC,CACxF,CAAC,CACH,CACA,kBAAkB5a,EAAM,CACtB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,gBAAA2oF,EAAiB,YAAaqkB,CAAY,EAAIx6F,EAChD,CAAE,KAAAo3F,EAAM,KAAAC,EAAM,OAAA1/D,EAAQ,YAAAC,EAAa,cAAAG,EAAe,OAAA2T,EAAQ,eAAA65C,CAAe,EAAI,KAAK,WAClFkV,EAAYngG,GAAckgG,GAAejV,EAAe,KAAM75C,EAAO,SAAS,EAAG,CACrF,OAAA/T,EACA,YAAAC,EACA,cAAAG,CACF,CAAC,EACKwoC,EAAmB,KAAK,IAAI,iBAAiB,UAAU,EAC7D4V,EAAgB,KAAK,CAACj2E,EAAM0a,IAAU,CACpC,KAAK,kBAAkB1a,EAAMwrC,EAAQ,CAAE,MAAA9wB,EAAO,YAAA4/E,EAAa,KAAApD,EAAM,KAAAC,CAAK,EAAGoD,EAAW,CAAE,iBAAAl6B,CAAiB,CAAC,CAC1G,CAAC,EACIi6B,GACH9uD,EAAO,UAAU,CAErB,CAAC,CACH,CACA,qBAAqB1rC,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,OAAOwS,EAAK,eAAe,OAAO,KAAK,eAAe,EAAIA,EAAK,UAAY,CAAC,CAAC,CAC/E,CAAC,CACH,CACA,iBAAiBA,EAAM,CACrB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,QAAA+0C,EAAS,UAAA9E,EAAW,WAAAC,EAAY,SAAA7B,EAAU,WAAA2B,EAAY,MAAA9d,CAAM,EAAI,KAAK,WAAW,MACxF1f,EAAK,eAAe,KAAK,CAAC45B,EAAMhf,IAAU,CACxC,KAAM,CAAE,MAAA2e,EAAO,MAAA2J,CAAM,EAAItoB,EACrBA,GAASsoB,GAASX,GACpB3I,EAAK,UAAY6D,EACjB7D,EAAK,WAAa8D,EAClB9D,EAAK,SAAWiC,EAChBjC,EAAK,WAAa4D,EAClB5D,EAAK,UAAYsJ,EAAM,UACvBtJ,EAAK,aAAesJ,EAAM,aAC1BtJ,EAAK,KAAOsJ,EAAM,KAClBtJ,EAAK,EAAIL,EAAM,EACfK,EAAK,EAAIL,EAAM,EAAI,GACnBK,EAAK,KAAOla,EACZka,EAAK,QAAU,IAEfA,EAAK,QAAU,EAEnB,CAAC,CACH,CAAC,CACH,CACA,eAAey6C,EAAW,CACxB,IAAIniF,EACJ,MAAMmlF,EAAQ,KAAK,KACjB,EAGIC,EAAQ,KAAK,KACjB,EAGF,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,CAACD,GAAS,CAACC,EAC3C,OAAO5pC,GAET,KAAM,CAAE,KAAA0pD,EAAM,KAAAC,EAAM,MAAAsD,EAAO,MAAAC,EAAO,YAAAhjE,EAAa,OAAA8T,EAAQ,QAAA6hB,CAAQ,EAAI,KAAK,WAClE,CAAE,MAAA3yC,EAAO,OAAAi1E,EAAQ,OAAAgL,EAAQ,OAAAzxC,CAAO,EAAIirB,EACpCymB,EAAUzjB,EAAM,YAAYwY,CAAM,EAClCkL,EAAUzjB,EAAM,YAAYujB,CAAM,EAClC7sD,EAAQqgD,IAAcn8F,EAAK,KAAK,WAAW,QAAU,KAAOA,EAAK0oG,CAAK,EACtEr2D,EAAU8pD,GAAayM,EAAU,KAAOC,CAAO,EAC/CN,EAAYngG,GAAc,CAAE,KAAMoxC,EAAO,MAAO,EAAGA,EAAO,SAAS,EAAG,CAAE,YAAA9T,CAAY,CAAC,EACrF,CAAE,KAAMlY,CAAM,EAAI,KAAK,eAC3BgsB,EACA,CAAE,MAAO2oC,EAAW,KAAA+iB,EAAM,KAAAC,EAAM,YAAa,EAAM,EACnDoD,CACF,EACA,OAAOltC,EAAQ,cACb,CAAE,MAAAvf,EAAO,QAAAzJ,EAAS,gBAAiB7kB,CAAM,EACzC5yB,EAAgB,CACd,MAAA8tB,EACA,OAAAwuC,EACA,KAAAguC,EACA,MAAAuD,EACA,KAAAtD,EACA,MAAAuD,EACA,MAAA5sD,EACA,MAAAtuB,EACA,SAAU,KAAK,EACjB,EAAG,KAAK,uBAAuB,CAAC,CAClC,CACF,CACA,cAAcnd,EAAY,CACxB,IAAIrQ,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EAAIC,EAAI8hB,EAAIsL,EAAIq2D,EACxC,GAAI,GAAI7yG,EAAK,KAAK,OAAS,MAAgBA,EAAG,QAAW,KAAK,WAAW,QAAQ,GAAKqQ,IAAe,YACnG,MAAO,CAAC,EAEV,KAAM,CAAE,KAAA80F,EAAM,MAAAuD,EAAO,OAAAjjE,EAAQ,cAAAI,EAAe,YAAAH,EAAa,SAAAI,EAAU,MAAAgW,EAAO,OAAAtC,EAAQ,QAAApJ,EAAS,eAAA+mB,CAAe,EAAI,KAAK,WAC7G27C,EAAS,mBACf,MAAO,CACL,CACE,WAAY,WACZ,GAAI,KAAK,GACT,OAAQ3N,EACR,eAAAhuC,EACA,SAAU,KAAK,GACf,QAAS/mB,EACT,MAAO,CACL,MAAOllC,GAAMD,EAAKksD,GAA0Crb,IAAU,KAAO7wC,EAAKy9F,IAAU,KAAOx9F,EAAKi6F,CAC1G,EACA,OAAQ,CACN,MAAO3rD,EAAO,MACd,MAAO5tC,EAAK4tC,EAAO,OAAS,KAAO5tC,EAAKknG,EACxC,QAAS3jF,GAAMhS,EAAKq8B,EAAO,SAAW,KAAOr8B,EAAKsoB,IAAW,KAAOtW,EAAK2jF,EACzE,aAAc1jF,EAAKoqB,EAAO,cAAgB,KAAOpqB,EAAK,EACtD,eAAgBotB,GAAMtL,EAAKsI,EAAO,gBAAkB,KAAOtI,EAAKrL,IAAkB,KAAO2W,EAAK,EAC9F,aAAcq2D,EAAKr5D,EAAO,cAAgB,KAAOq5D,EAAK,EACtD,QAASr5D,EAAO,OAClB,EACA,KAAM,CACJ,OAAQ/T,GAA0BqtE,EAClC,cAAAjtE,EACA,YAAAH,EACA,SAAAI,CACF,CACF,CACF,CACF,CACA,YAAYh4B,EAAM,CAChB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAK,gBAAgBwS,EAAK,MAAOA,EAAK,WAAW,CACnD,CAAC,CACH,CACA,gBAAgBmhD,EAAOi1B,EAAa,CAClC,KAAM,CAAE,SAAAnC,CAAS,EAAImC,EACf,CAAC1+B,CAAQ,EAAIyJ,EACb,CAAE,KAAMswC,CAAS,EAAI/5C,EAC3B+5C,EAAS,MAAM,EAAI,EACnB,UAAWpwF,KAAQ4yE,EACb5yE,EAAK,MAAM,OACbowF,EAAS,OAAOpwF,EAAK,MAAM,EAAGA,EAAK,MAAM,CAAC,EAE1CowF,EAAS,OAAOpwF,EAAK,MAAM,EAAGA,EAAK,MAAM,CAAC,EAG9Cq2C,EAAS,eAAe,CAC1B,CACA,wBAAwBm+B,EAAe,CACrC,KAAM,CAAE,gBAAAM,EAAiB,eAAAD,EAAgB,qBAAAypB,EAAsB,YAAAvpB,EAAa,MAAAj1B,CAAM,EAAI00B,EAChF,CAAE,iBAAA3zD,CAAiB,EAAI,KAAK,IAClC,KAAK,gBAAgBi/B,EAAOi1B,CAAW,EACvC0b,GAAqB,KAAM5vE,EAAkB,GAAGi/B,CAAK,EACrDvd,GAAY,CAACuyC,CAAe,EAAGqZ,EAAqB,EACpDJ,GAA4B,KAAMltE,EAAkBi0D,CAAe,EACnEmY,GAA2B,KAAM,SAAUpsE,EAAkBg0D,CAAc,EAC3EoY,GAA2B,KAAM,cAAepsE,EAAkB,GAAGy9E,CAAoB,CAC3F,CACA,mBAAmB9pB,EAAe,CAChC,KAAM,CAAE,YAAAO,EAAa,MAAAj1B,CAAM,EAAI00B,EAC/B,KAAK,gBAAgB10B,EAAOi1B,CAAW,EACvC,MAAM,mBAAmBP,CAAa,CACxC,CACA,0BAA0BA,EAAe,CACvC,IAAI3jF,EAAIiL,EACR,KAAM,CAAE,iBAAA+kB,CAAiB,EAAI,KAAK,IAC5B,CACJ,gBAAiBgtE,EACjB,eAAgBX,EAChB,qBAAAoR,EACA,YAAAvpB,EACA,MAAAj1B,EACA,oBAAAu0B,CACF,EAAIG,EACE,CAAC36E,CAAI,EAAIimD,EACf,MAAM,kBAAkB00B,CAAa,EACrC,MAAMolB,EAAS,IAAM,CACnB,KAAK,gBAAgB95C,EAAOi1B,CAAW,CACzC,EACM52E,EAAO,IAAM,CACjB0iB,EAAiB,iBAAiB,EAClC+4E,EAAO,CACT,EACA,GAAI7kB,GAAe,MAAQV,GAAuB,KAAM,CACtDulB,EAAO,EACPhM,GAAsB,KAAM/sE,EAAkB,QAASgtE,CAAgB,EACvE6C,GAAoB,KAAM,kBAAmB7vE,EAAkB,MAAOhnB,CAAI,EAC1EozF,GAA2B,KAAM,SAAUpsE,EAAkBqsE,CAAe,EAC5ED,GAA2B,KAAM,cAAepsE,EAAkB,GAAGy9E,CAAoB,EACzF,MACF,CACA,MAAMvuG,EAAMykG,GAAyBzf,EAAaV,GAAsBv4E,GAAMjL,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,IAAI,EAChK,GAAI/L,IAAQ,OAAQ,CAClBoO,EAAK,EACL,MACF,SAAWpO,EAAI,SAAW,QACxB,OAEF69F,GAAsB,KAAM/sE,EAAkB,OAAQgtE,CAAgB,EACtEt8E,GAAa,KAAK,GAAI,kBAAmBsP,EAAkB,CAAChnB,CAAI,EAAG9J,EAAI,cAAc,EACrFy8F,GAAW,KAAK,GAAI,cAAe3rE,EAAkB,CAAChnB,CAAI,EAAG9J,EAAI,IAAI,EACjEA,EAAI,YACNk9F,GAA2B,KAAM,SAAUpsE,EAAkBqsE,CAAe,EAC5ED,GAA2B,KAAM,cAAepsE,EAAkB,GAAGy9E,CAAoB,EAE7F,CACA,gBAAiB,CACf,OAAO,KAAK,WAAW,MAAM,OAC/B,CACA,qBAAsB,CACpB,MAAO,CAAE,MAAO,EAAG,MAAO,EAAI,CAChC,CACA,aAAc,CACZ,OAAO,IAAIzpE,CACb,CACA,mBAAmB,CAAE,WAAAqxC,CAAW,EAAG,CACjC,IAAIr1E,EACJ,OAAO89F,IAA0B99F,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,SAASq1E,CAAU,EAAG,KAAK,YAAY,CAC3H,CACF,EACAk9B,GAAW,UAAY,aACvBA,GAAW,KAAO,OAClB,IAAIQ,GAAmB,CACrB,KAAM,SACN,WAAY,WACZ,YAAa,YACb,WAAY,CAAC,WAAW,EACxB,WAAY,OACZ,oBAAqBR,GACrB,YAAa,CACX,CACE,KAAM,SACN,SAAU,MAEZ,EACA,CACE,KAAM,WACN,SAAU,QAEZ,CACF,EACA,cAAe,CACb,OAAQ,CACN,YAAa3gG,GACb,QAAS,CAAE,SAAU,CAAE,KAAM,MAAO,CAAE,EACtC,YAAa,EACb,cAAe,EACf,SAAU,CAAC,CAAC,EACZ,eAAgB,EAChB,OAAQ,CACN,YAAaC,GACb,YAAa,EACb,cAAe,EACf,YAAa,CACf,EACA,MAAO,CACL,QAAS,GACT,SAAU,GACV,WAAYC,GACZ,MAAOC,EACT,CACF,CACF,EACA,wBAAyB,CACvB,OAAQ,CACN,SAAU,CACR,IAAK,CACH,YAAa,CACf,CACF,CACF,CACF,EACA,eAAiB5D,GAAW,CAC1B,KAAM,CAAE,OAAAqrC,CAAO,EAAIkiD,GAAqBvtF,CAAM,EAC9C,MAAO,CAAE,OAAQqrC,EAAO,KAAM,OAAAA,CAAO,CACvC,CACF,EACIw5D,GAAqB,cAAcvnE,EAAM,CAC3C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,KACnB,CACF,EACAtwC,EAAiB,CACf25B,EAAS8D,EAAe,CAC1B,EAAGo6E,GAAmB,UAAW,YAAa,CAAC,EAC/C,IAAIC,GAA0B,cAAcpwB,EAA0B,CACpE,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,WAAa,CAAC,UAAW,UAAW,SAAS,EAClD,KAAK,OAAS,IAAI8Z,GAClB,KAAK,MAAQ,IAAIqW,GACjB,KAAK,QAAU,IAAInW,EACrB,CACF,EACA1hG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG68E,GAAwB,UAAW,OAAQ,CAAC,EAC/C93G,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG68E,GAAwB,UAAW,OAAQ,CAAC,EAC/C93G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG68E,GAAwB,UAAW,WAAY,CAAC,EACnD93G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG68E,GAAwB,UAAW,WAAY,CAAC,EACnD93G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG68E,GAAwB,UAAW,QAAS,CAAC,EAChD93G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG68E,GAAwB,UAAW,QAAS,CAAC,EAChD93G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG68E,GAAwB,UAAW,YAAa,CAAC,EACpD93G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG68E,GAAwB,UAAW,YAAa,CAAC,EACpD93G,EAAiB,CACf25B,EAAS4C,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGu7E,GAAwB,UAAW,cAAe,CAAC,EACtD93G,EAAiB,CACf25B,EAAS0C,EAAkB,CAC7B,EAAGy7E,GAAwB,UAAW,aAAc,CAAC,EACrD93G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG68E,GAAwB,UAAW,QAAS,CAAC,EAChD93G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGk9E,GAAwB,UAAW,SAAU,CAAC,EACjD93G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGk9E,GAAwB,UAAW,QAAS,CAAC,EAChD93G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGk9E,GAAwB,UAAW,UAAW,CAAC,EAClD,IAAIC,GAAgB,cAAcpwB,EAAgB,CAChD,YAAY9kC,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,cAAeykC,GACf,eAAgBC,GAChB,UAAW,CACT,EACA,EACA,CAEF,EACA,eAAgB,EAChB,WAAY,GACZ,iCAAkC,GAClC,kBAAmB,CACjB,OAAQ2a,GACR,MAAOd,EACT,CACF,CAAC,EACD,KAAK,WAAa,IAAI0W,GACtB,KAAK,WAAa,IAAI/E,EACxB,CACA,YAAYj6B,EAAgB,CAC1B,OAAO34E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EAAIC,EACZ,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,KAAK,MAAQ,MAAQ,CAAC,KAAK,QAC3D,OACF,MAAMs2E,GAAUxhF,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnByhF,GAAUx2E,EAAK,KAAK,KACxB,IAEI,KAAO,OAASA,EAAG,MACnB,CAAE,WAAAq6F,EAAY,WAAAC,CAAW,EAAI,KAAK,oBAAoB,CAAE,OAAA/jB,EAAQ,OAAAC,CAAO,CAAC,EACxEgtB,EAAiB,KAAK,WAAW,KACjC,CAAE,KAAAvJ,EAAM,KAAAC,EAAM,SAAAyJ,EAAU,SAAAG,EAAU,YAAAF,EAAa,WAAAC,CAAW,EAAI,KAAK,WACnE,CAAE,UAAA5rC,EAAW,cAAA9E,CAAc,EAAI,MAAM,KAAK,iBAAiB6V,EAAgB,KAAK,KAAM,CAC1F,MAAO,CACLnI,GAAYo5B,EAAMI,EAAY,CAAE,GAAI,UAAW,CAAC,EAChDx5B,GAAYq5B,EAAMI,EAAY,CAAE,GAAI,UAAW,CAAC,EAChD,GAAGqJ,EAAW,CAAC9iC,GAAY8iC,EAAU,OAAQ,CAAE,GAAI,cAAe,CAAC,CAAC,EAAI,CAAC,EACzE5iC,GAAck5B,EAAMI,EAAY,CAAE,GAAI,QAAS,CAAC,EAChDt5B,GAAcm5B,EAAMI,EAAY,CAAE,GAAI,QAAS,CAAC,EAChD,GAAGwJ,EAAW,CAAC/iC,GAAc+iC,EAAUN,EAAgB,CAAE,GAAI,YAAa,CAAC,CAAC,EAAI,CAAC,EACjF,GAAGG,EAAW,CAAC5iC,GAAc4iC,EAAU,OAAQ,CAAE,GAAI,YAAa,CAAC,CAAC,EAAI,CAAC,CAC3E,CACF,CAAC,EACD,GAAIG,EAAU,CACZ,MAAMG,EAAchsC,EAAU,8BAA8B,KAAM,YAAY,EAC9E,KAAK,WAAW,QAAUh4D,EAAK2jG,GAAoCzwC,EAAc,OAAO,OAAO8wC,CAAW,IAAM,KAAOhkG,EAAK,CAAC,EAC7H,KAAK,WAAW,MAAQ4jG,EACxB,KAAK,WAAW,OAAO,CACzB,CACA,KAAK,eAAe,WAAW,YAAY,CAC7C,CAAC,CACH,CACA,gBAAgBp+D,EAAW,CACzB,KAAM,CAAE,UAAAwyB,EAAW,cAAA9E,CAAc,EAAI,KACrC,GAAI,CAACA,GAAiB,CAAC8E,EACrB,MAAO,CAAC,EACV,MAAMnxC,EAAK2e,IAAc,IAAM,SAAW,SACpCy+D,EAAUjsC,EAAU,4BAA4B,KAAMnxC,CAAE,EACxD2B,EAASwvC,EAAU,UAAU,KAAMnxC,EAAI,QAASqsC,CAAa,EACnE,GAAgC+wC,GAAQ,IAAI,OAAU,SAAuCA,GAAQ,IAAI,YAAe,WACtH,OAAOz7E,EAET,MAAMtnB,EAAO,KAAK,KAAKskC,CAAS,EAChC,OAAOysB,GAAiBvkD,GAAO8a,CAAM,EAAGtnB,CAAI,CAC9C,CACA,gBAAiB,CACf,OAAO9Q,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EAAIC,EACZ,KAAM,CAAE,KAAAoJ,EAAM,UAAA4uD,EAAW,cAAA9E,EAAe,WAAAgxC,CAAW,EAAI,KACjD,CAAE,KAAAlK,EAAM,KAAAC,EAAM,SAAAyJ,EAAU,SAAAG,EAAU,MAAAtG,EAAO,MAAAC,EAAO,UAAA6G,EAAW,OAAA/1D,EAAQ,MAAAxI,EAAO,QAAAZ,CAAQ,EAAI,KAAK,WAC3F,CAAE,UAAAqJ,CAAU,EAAIzI,EAChB4jD,EAActT,GAAU9nC,EAAO,KAAK,EACpC2rC,EAAQ7wE,EACZ,EAGI8wE,EAAQ9wE,EACZ,EAGF,GAAI,EAAE4uD,GAAa9E,GAAiBhuB,GAAW+0C,GAASC,GACtD,OAEF,MAAMoqB,EAAWtsC,EAAU,8BAA8B,KAAM,QAAQ,EACjEusC,EAAWvsC,EAAU,8BAA8B,KAAM,QAAQ,EACjEysC,EAAeZ,EAAW7rC,EAAU,8BAA8B,KAAM,YAAY,EAAI,GACxF0sC,EAAehB,EAAW1rC,EAAU,8BAA8B,KAAM,YAAY,EAAI,GACxFse,EAAS2D,EAAM,MACf1D,EAAS2D,EAAM,MACf/lE,IAAYrf,EAAKwhF,EAAO,YAAc,KAAOxhF,EAAK,GAAK,EACvDsf,IAAYrU,EAAKw2E,EAAO,YAAc,KAAOx2E,EAAK,GAAK,EACvD82E,EAAW,CAAC,EACZ92C,EAAO+F,EAAM,QAAQ,EAC3B,SAAW,CAAE,OAAAn4B,EAAQ,MAAA6P,CAAM,IAAMxd,EAAKkzD,EAAc,OAAS,KAAOlzD,EAAK,CAAC,EAAG,CAC3E,MAAMq7F,EAAS1tF,EAAO22F,CAAQ,EACxBlI,EAASzuF,EAAO42F,CAAQ,EACxBj2G,EAAIgoF,EAAO,QAAQ+kB,CAAM,EAAIlnF,EAC7BkD,GAAIk/D,EAAO,QAAQ6lB,CAAM,EAAIhoF,EAC7B61E,GAAY,KAAK,aAAankD,EAAO,CACzC,MAAO49D,EAAW/1F,EAAO+2F,CAAY,EAAItI,EACzC,MAAA5+E,EACA,KAAAw8E,EACA,KAAAC,EACA,SAAAyJ,EACA,MAAAnG,EACA,MAAAC,EACA,UAAA6G,CACF,CAAC,EACK71F,GAAO0xB,GAAK,YAAY+pD,GAAWlqD,CAAI,EACvCrG,GAAOmqE,EAAWK,EAAW,QAAQv2F,EAAO82F,CAAY,CAAC,EAAI,OACnE5tB,EAAS,KAAK,CACZ,OAAQ,KACR,OAAQojB,EACR,KAAAA,EACA,KAAAD,EACA,MAAAx8E,EACA,OAAQ69E,EACR,OAAQe,EACR,YAAa,CAAE,sBAAuB9tD,EAAO,YAAY,EAAG,UAAW,GAAS,EAChF,MAAO,CAAE,EAAAhgD,EAAG,EAAA+oB,GAAG,KAAMi3B,EAAO,IAAK,EACjC,SAAU,CAAE,EAAAhgD,EAAG,EAAA+oB,EAAE,EACjB,KAAAqiB,GACA,MAAOhqC,EAAgB,CAAE,KAAMu6F,EAAU,EAAGz7E,EAAI,EAChD,OAAQk7E,EACR,UAAAn7C,CACF,CAAC,CACH,CACA,MAAO,CACL,OAAQ0rD,EACR,SAAApjB,EACA,UAAWA,EACX,OAAQ,KAAK,iBAAiB,EAC9B,QAAS,KAAK,OAChB,CACF,CAAC,CACH,CACA,wBAAyB,CACvB,OAAO,KAAK,WAAW,OAAO,QAAQ,CACxC,CACA,cAAe,CACb,IAAI/hF,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,YAAc,KAAOiL,EAAK,CAAC,CAC5F,CACA,eAAgB,CACd,KAAM,CAAE,MAAAo2E,CAAM,EAAI,KAAK,WAAW,OAC5B8C,EAAc7C,GAAUD,CAAK,EACnC,OAAO,IAAI8C,CACb,CACA,sBAAsBr2E,EAAM,CAC1B,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,SAAAymF,EAAU,gBAAAkC,CAAgB,EAAIn2E,EACtC,OAAI,KAAK,WAAW,OAAO,QAAQ,IACjCm2E,EAAgB,MAAM,EACtBA,EAAgB,QAAQ,GAEnBA,EAAgB,OAAO,KAAK,WAAW,OAAO,QAAUlC,EAAW,CAAC,CAAC,CAC9E,CAAC,CACH,CACA,kBAAkBj0E,EAAM,CACtB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,gBAAA2oF,EAAiB,YAAaqkB,CAAY,EAAIx6F,EAChD,CAAE,KAAAo3F,EAAM,KAAAC,EAAM,SAAAyJ,EAAU,OAAAp1D,EAAQ,eAAA65C,CAAe,EAAI,KAAK,WACxDkV,EAAYngG,GAAckgG,GAAejV,EAAe,KAAM75C,EAAO,SAAS,CAAC,EACrFyqC,EAAgB,KAAK,CAACj2E,EAAM0a,IAAU,CACpC,KAAK,kBAAkB1a,EAAMwrC,EAAQ,CAAE,MAAA9wB,EAAO,YAAA4/E,EAAa,KAAApD,EAAM,KAAAC,EAAM,SAAAyJ,CAAS,EAAGrG,CAAS,CAC9F,CAAC,EACID,GACH9uD,EAAO,UAAU,CAErB,CAAC,CACH,CACA,qBAAqB1rC,EAAM,CACzB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,MAAM4kG,EAAe,KAAK,eAAe,GAAK5kG,GAAMjL,EAAK,KAAK,QAAU,KAAO,OAASA,EAAG,YAAY,EAAE,IAAI,IAAI,IAAM,KAAOiL,EAAK,CAAC,EAAI,CAAC,EACzI,OAAO6C,EAAK,eAAe,OACzB+hG,EAAa,IAAI,CAAC,CAAE,MAAAnnF,EAAO,EAAAlvB,EAAG,EAAA+oB,CAAE,IAAM1nB,EAAcD,EAAgB,CAAC,EAAG8tB,CAAK,EAAG,CAC9E,MAAO,CAAE,EAAAlvB,EAAG,EAAA+oB,EAAG,KAAMmG,EAAM,MAAM,IAAK,EACtC,UAAW,KACb,CAAC,CAAC,EACDgf,GAAS,CACRA,EAAK,cAAgB,CACvB,CACF,CACF,CAAC,CACH,CACA,iBAAiB55B,EAAM,CACrB,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,MAAA01C,CAAM,EAAI,KAAK,WACvBljC,EAAK,eAAe,KAAK,CAAC45B,EAAMhf,IAAU,CACxC,IAAI1oB,EAAIiL,EAAIC,EAAIU,EAChB87B,EAAK,KAAOhf,EAAM,MAAM,KACxBgf,EAAK,KAAOsJ,EAAM,MAClBtJ,EAAK,GAAKz8B,GAAMjL,EAAK0oB,EAAM,QAAU,KAAO,OAAS1oB,EAAG,IAAM,KAAOiL,EAAK,EAC1Ey8B,EAAK,GAAK97B,GAAMV,EAAKwd,EAAM,QAAU,KAAO,OAASxd,EAAG,IAAM,KAAOU,EAAK,EAC1E87B,EAAK,UAAYsJ,EAAM,UACvBtJ,EAAK,WAAasJ,EAAM,WACxBtJ,EAAK,SAAWsJ,EAAM,SACtBtJ,EAAK,WAAasJ,EAAM,WACxBtJ,EAAK,UAAY,OACjBA,EAAK,aAAe,KACtB,CAAC,CACH,CAAC,CACH,CACA,eAAey6C,EAAW,CACxB,MAAMgD,EAAQ,KAAK,KACjB,EAGIC,EAAQ,KAAK,KACjB,EAGF,GAAI,CAAC,KAAK,WAAW,QAAQ,GAAK,CAACD,GAAS,CAACC,EAC3C,OAAO5pC,GAET,KAAM,CAAE,KAAA0pD,EAAM,KAAAC,EAAM,SAAAyJ,EAAU,MAAAnG,EAAO,MAAAC,EAAO,UAAA6G,EAAW,MAAAzzD,EAAQ4sD,EAAO,OAAAlvD,EAAQ,QAAA6hB,CAAQ,EAAI,KAAK,WACzF,CAAE,MAAA3yC,EAAO,OAAAi1E,EAAQ,OAAAgL,EAAQ,MAAA33D,EAAO,OAAAkmB,CAAO,EAAIirB,EAC3ComB,EAAYngG,GAChB,CAAE,KAAM+5E,EAAU,KAAM,YAAa,KAAK,eAAe3oC,EAAO,WAAW,CAAE,EAC7EA,EAAO,SAAS,CAClB,EACM,CAAE,KAAMhsB,EAAQ,MAAO,EAAI,KAAK,eACpCgsB,EACA,CAAE,MAAO2oC,EAAW,YAAa,GAAO,KAAA+iB,EAAM,KAAAC,EAAM,SAAAyJ,CAAS,EAC7DrG,CACF,EACMK,EAAUzM,GAAahX,EAAM,YAAYwY,CAAM,CAAC,EAChDkL,EAAU1M,GAAa/W,EAAM,YAAYujB,CAAM,CAAC,EACtD,IAAIt2D,EAAU,MAAM8pD,GAAasM,GAAwBvD,CAAI,CAAC,SAAS0D,CAAO,UAAUzM,GAAauM,GAAwBvD,CAAI,CAAC,SAAS0D,CAAO,GAClJ,OAAI+F,IACFv8D,EAAU,MAAM8pD,GAAaoT,GAAgCX,CAAQ,CAAC,SAASzS,GAAanrD,EAAM,IAAI,CAAC,OAASqB,GAE3GgpB,EAAQ,cACb,CAAE,MAAAvf,EAAO,QAAAzJ,EAAS,gBAAiB7kB,CAAM,EACzC5yB,EAAgB,CACd,MAAA8tB,EACA,OAAAwuC,EACA,KAAAguC,EACA,MAAAuD,EACA,KAAAtD,EACA,MAAAuD,EACA,SAAAkG,EACA,UAAAW,EACA,MAAAzzD,EACA,MAAAtuB,EACA,SAAU,KAAK,EACjB,EAAG,KAAK,uBAAuB,CAAC,CAClC,CACF,CACA,cAAcnd,EAAY,CACxB,IAAIrQ,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EACxB,KAAM,CAAE,KAAAg2E,EAAM,MAAAuD,EAAO,MAAA5sD,EAAO,OAAAtC,EAAQ,QAAApJ,CAAQ,EAAI,KAAK,WAC/C,CAAE,KAAAxL,EAAM,OAAAa,EAAQ,YAAAD,EAAa,cAAAK,EAAe,YAAAH,CAAY,EAAI8T,EAClE,MAAI,GAAGx5C,EAAK,KAAK,OAAS,MAAgBA,EAAG,SAAW,CAAC,KAAK,WAAW,QAAQ,GAAKqQ,IAAe,WAC5F,CAAC,EAEH,CACL,CACE,WAAY,WACZ,GAAI,KAAK,GACT,OAAQ80F,EACR,SAAU,KAAK,GACf,QAAS/0D,EACT,MAAO,CACL,MAAOnlC,EAAK6wC,GAAwB4sD,IAAU,KAAOz9F,EAAKk6F,CAC5D,EACA,OAAQ,CACN,MAAO3rD,EAAO,MACd,MAAO5tC,GAAMV,EAAKsuC,EAAO,OAAS,KAAOtuC,EAAK05B,IAAS,KAAOh5B,EAAK,mBACnE,QAASujB,GAAMhS,EAAKq8B,EAAO,SAAW,KAAOr8B,EAAKsoB,IAAW,KAAOtW,EAAK,mBACzE,YAAaqW,GAAoC,EACjD,cAAeK,GAAwC,EACvD,YAAaH,GAAoC,CACnD,CACF,CACF,CACF,CACA,wBAAwBv2B,EAAM,CAC5B,KAAM,CAAE,gBAAA80E,EAAiB,eAAAD,EAAgB,qBAAAypB,CAAqB,EAAIt+F,EAClE8tF,GAAuB,KAAM,KAAK,IAAI,iBAAkBhZ,CAAe,EACvEmY,GAA2B,KAAM,SAAU,KAAK,IAAI,iBAAkBpY,CAAc,EACpFoY,GAA2B,KAAM,cAAe,KAAK,IAAI,iBAAkB,GAAGqR,CAAoB,CACpG,CACA,gBAAiB,CACf,OAAO,KAAK,WAAW,MAAM,OAC/B,CACA,aAAc,CACZ,OAAO,IAAIzpE,CACb,CACA,mBAAmB,CAAE,WAAAqxC,CAAW,EAAG,CACjC,IAAIr1E,EACJ,OAAO89F,IAA0B99F,EAAK,KAAK,kBAAoB,KAAO,OAASA,EAAG,SAASq1E,CAAU,EAAG,KAAK,YAAY,CAC3H,CACF,EACA69B,GAAc,UAAY,gBAC1BA,GAAc,KAAO,UACrB,IAAIC,GAAsB,CACxB,KAAM,SACN,WAAY,WACZ,YAAa,YACb,WAAY,CAAC,WAAW,EACxB,WAAY,UACZ,oBAAqBD,GACrB,YAAa,CACX,CACE,KAAM,SACN,SAAU,QAEZ,EACA,CACE,KAAM,SACN,SAAU,MAEZ,CACF,EACA,cAAe,CACb,OAAQ,CACN,YAAathG,GACb,QAAS,CAAE,SAAU,CAAE,KAAM,MAAO,CAAE,EACtC,OAAQ,CACN,YAAaC,GACb,YAAa,EACf,EACA,MAAO,CACL,QAAS,GACT,SAAU,GACV,WAAYC,GACZ,MAAOC,EACT,CACF,CACF,EACA,wBAAyB,CACvB,OAAQ,CACN,SAAU,CACR,IAAK,CACH,YAAa,CACf,CACF,CACF,CACF,EACA,eAAgB2pF,EAClB,EACI0X,GAAY,MAAMC,EAAW,CAC/B,YAAY9gF,EAAYC,EAAUouD,EAAa0yB,EAAa,CAC1D,KAAK,WAAa/gF,EAClB,KAAK,SAAWC,EAChB,KAAK,YAAcouD,EACnB,KAAK,YAAc0yB,CACrB,CACA,OAAQ,CACN,KAAM,CAAE,WAAA/gF,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,EAAI,KAC3D,OAAO,IAAID,GAAW9gF,EAAYC,EAAUouD,EAAa0yB,CAAW,CACtE,CACA,CAACpyF,EAAW,EAAE5c,EAAO1E,EAAG,CACtB,OAAO,IAAIyzG,GACT,KAAK,YAAc,EAAIzzG,GAAK0E,EAAM,WAAa1E,EAC/C,KAAK,UAAY,EAAIA,GAAK0E,EAAM,SAAW1E,EAC3C,KAAK,aAAe,EAAIA,GAAK0E,EAAM,YAAc1E,EACjD,KAAK,aAAe,EAAIA,GAAK0E,EAAM,YAAc1E,CACnD,CACF,CACF,EACA,SAAS2zG,GAAgB/5G,EAAG+oB,EAAGixF,EAAQ,CACrC,MAAMpgF,EAAS,KAAK,KAAK,KAAK,IAAI55B,EAAG,CAAC,EAAI,KAAK,IAAI+oB,EAAG,CAAC,CAAC,EAClD,CAAE,YAAAq+D,EAAa,YAAA0yB,CAAY,EAAIE,EACrC,GAAIA,EAAO,aAAeA,EAAO,UAAYpgF,EAAS,KAAK,IAAIwtD,EAAa0yB,CAAW,GAAKlgF,EAAS,KAAK,IAAIwtD,EAAa0yB,CAAW,EACpI,MAAO,GAET,MAAM/gF,EAAaH,GAAkBohF,EAAO,UAAU,EAChDhhF,EAAWJ,GAAkBohF,EAAO,QAAQ,EAC5CngF,EAAQ,KAAK,MAAM9Q,EAAG/oB,CAAC,EAC7B,OAAO+4B,EAAaC,EAAWa,GAASb,GAAYa,GAASd,EAAac,GAASb,GAAYa,GAAS,CAAC,KAAK,IAAMA,GAASd,GAAcc,GAAS,KAAK,EAC3J,CACA,SAASogF,GAAmBtsE,EAAMqsE,EAAQ,CACxC,KAAM,CAAE,WAAAjhF,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,EAAIE,EACrDE,EAAa,CAAE,EAAGJ,EAAc,KAAK,IAAI/gF,CAAU,EAAG,EAAG+gF,EAAc,KAAK,IAAI/gF,CAAU,CAAE,EAC5FohF,EAAW,CAAE,EAAGL,EAAc,KAAK,IAAI9gF,CAAQ,EAAG,EAAG8gF,EAAc,KAAK,IAAI9gF,CAAQ,CAAE,EACtFohF,EAAahzB,IAAgB,EAAI,CAAE,EAAG,EAAG,EAAG,CAAE,EAAI,CAAE,EAAGA,EAAc,KAAK,IAAIruD,CAAU,EAAG,EAAGquD,EAAc,KAAK,IAAIruD,CAAU,CAAE,EACjIshF,EAAWjzB,IAAgB,EAAI,CAAE,EAAG,EAAG,EAAG,CAAE,EAAI,CAAE,EAAGA,EAAc,KAAK,IAAIpuD,CAAQ,EAAG,EAAGouD,EAAc,KAAK,IAAIpuD,CAAQ,CAAE,EACjI,OAAO+nD,GACLpzC,EAAK,MAAM,EACXA,EAAK,MAAM,EACXA,EAAK,IAAI,EACTA,EAAK,IAAI,EACTusE,EAAW,EACXA,EAAW,EACXE,EAAW,EACXA,EAAW,CACb,GAAKr5B,GACHpzC,EAAK,MAAM,EACXA,EAAK,MAAM,EACXA,EAAK,IAAI,EACTA,EAAK,IAAI,EACTwsE,EAAS,EACTA,EAAS,EACTE,EAAS,EACTA,EAAS,CACX,GAAKx3B,GACH,EACA,EACAi3B,EACA/gF,EACAC,EACA,GACA2U,EAAK,MAAM,EACXA,EAAK,MAAM,EACXA,EAAK,IAAI,EACTA,EAAK,IAAI,CACX,CACF,CACA,SAAS2sE,GAAkBzvF,EAAKmvF,EAAQ,CACtC,MAAMvlB,EAAU,CAAE,EAAG5pE,EAAI,EAAG,EAAGA,EAAI,CAAE,EAC/B6pE,EAAW,CAAE,EAAG7pE,EAAI,EAAIA,EAAI,MAAO,EAAGA,EAAI,CAAE,EAC5C+pE,EAAa,CAAE,EAAG/pE,EAAI,EAAG,EAAGA,EAAI,EAAIA,EAAI,MAAO,EAC/C8pE,EAAc,CAAE,EAAG9pE,EAAI,EAAIA,EAAI,MAAO,EAAGA,EAAI,EAAIA,EAAI,MAAO,EAClE,OAAOovF,GAAmB,CAAE,MAAOxlB,EAAS,IAAKC,CAAS,EAAGslB,CAAM,GAAKC,GAAmB,CAAE,MAAOrlB,EAAY,IAAKD,CAAY,EAAGqlB,CAAM,CAC5I,CACA,SAASO,GAAmBvgG,EAAGwgG,EAAO17G,EAAGC,EAAG,CAC1C,GAAID,IAAM,GAAKC,IAAM,EACnB,MAAO,GAET,GADY,KAAK,KAAK,KAAK,IAAI,EAAID,CAAC,GAAKkb,EAAI,EAAIlb,EAAE,EAAI,KAAK,KAAK,KAAK,IAAI,EAAIC,CAAC,GAAKib,EAAI,EAAIjb,EAAE,EAAIy7G,EACxF,EACR,MAAO,GACT,IAAIn0G,EAAQ,EACRy/B,EAAM,EACV,QAASxmC,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAAG,CAC7B,MAAMyH,GAAKV,EAAQy/B,GAAO,EACf,KAAK,KAAK,KAAK,IAAI/+B,EAAIjI,CAAC,GAAKkb,EAAIjT,EAAIjI,EAAE,EAAI,KAAK,KAAK,KAAK,IAAIiI,EAAIhI,CAAC,GAAKib,EAAIjT,EAAIhI,EAAE,EAAIy7G,EACxF,EACPn0G,EAAQU,EAER++B,EAAM/+B,CAEV,CACA,OAAOV,CACT,CACA,IAAIo0G,GAAQ,KACZ,SAASC,GAAe7gF,EAAO8gF,EAAsB,CACnD,OAAIrhF,GAAaO,EAAO8gF,CAAoB,EAAIF,GACvCE,EAEAliF,GAAkBoB,EAAQ8gF,CAAoB,EAAIA,CAE7D,CACA,SAASC,GAAgB7hF,EAAYC,EAAU2hF,EAAuB,EAAG,CAEvE,MAAME,EADU,KAAK,IAAI7hF,EAAWD,CAAU,GAAK,EAAI,KAAK,GAC/B,EAAI,KAAK,GAAKN,GAAkBO,EAAWD,CAAU,EAClF,OAAAA,EAAa2hF,GAAe3hF,EAAY4hF,CAAoB,EAC5D3hF,EAAWD,EAAa8hF,EACjB,CAAE,WAAA9hF,EAAY,SAAAC,CAAS,CAChC,CACA,SAAS8hF,GAA+B7tF,EAAIC,EAAIlT,EAAG+e,EAAYC,EAAU+hF,EAAW,CAClF,MAAMC,EAAO,KAAK,IAAID,CAAS,EACzBE,EAAO,KAAK,IAAIF,CAAS,EACzBzuF,EAAIprB,EAAM+rB,EAAI,CAAC,EAAI/rB,EAAMgsB,EAAI,CAAC,EAAIhsB,EAAM8Y,EAAG,CAAC,EAClD,IAAIkhG,EAAM,IACNC,EAAM,IACNC,EAAM,IACNC,EAAM,IACV,GAAIJ,EAAO,GAAK,CACd,MAAMK,EAAON,EAAOC,EACdn8G,EAAI,EAAIoC,EAAMo6G,EAAM,CAAC,EACrBv8G,EAAI,IAAMkuB,EAAKC,EAAKouF,GACpBl1G,EAAIlF,EAAMnC,EAAG,CAAC,EAAI,EAAID,EAAIwtB,EAChC,GAAIlmB,EAAI,EACN,OACF,MAAMy0B,GAAM,CAAC97B,EAAI,KAAK,KAAKqH,CAAC,IAAM,EAAItH,GAChCorB,GAAM,CAACnrB,EAAI,KAAK,KAAKqH,CAAC,IAAM,EAAItH,GACtCo8G,EAAMrgF,EACNsgF,EAAMtgF,EAAKygF,EACXF,EAAMlxF,EACNmxF,EAAMnxF,EAAKoxF,CACb,KAAO,CACL,MAAMC,EAAON,EAAOD,EACdl8G,EAAI,EAAIoC,EAAMq6G,EAAM,CAAC,EACrBx8G,EAAI,IAAMmuB,EAAKD,EAAKsuF,GACpBn1G,EAAIlF,EAAMnC,EAAG,CAAC,EAAI,EAAID,EAAIwtB,EAChC,GAAIlmB,EAAI,EACN,OACF,MAAMmgC,GAAM,CAACxnC,EAAI,KAAK,KAAKqH,CAAC,IAAM,EAAItH,GAChCqrB,GAAM,CAACprB,EAAI,KAAK,KAAKqH,CAAC,IAAM,EAAItH,GACtCo8G,EAAM30E,EAAKg1E,EACXJ,EAAM50E,EACN60E,EAAMjxF,EAAKoxF,EACXF,EAAMlxF,CACR,CACA,MAAMqxF,EAAcP,EACdQ,EAAcT,EACdU,EAAkBR,EAAMM,EAAcL,EAAMM,EAC5CE,EAAkBP,EAAMI,EAAcH,EAAMI,EAC5CxiF,EAAKyiF,EAAkB,EAAIhB,GAAe,KAAK,MAAMS,EAAMjuF,EAAIguF,EAAMjuF,CAAE,EAAG8L,CAAU,EAAI,IACxFG,EAAKyiF,EAAkB,EAAIjB,GAAe,KAAK,MAAMW,EAAMnuF,EAAIkuF,EAAMnuF,CAAE,EAAG8L,CAAU,EAAI,IAC9F,GAAIE,GAAMF,GAAcE,GAAMD,EAC5B,OAAOC,EACF,GAAIC,GAAMH,GAAcG,GAAMF,EACnC,OAAOE,CAEX,CACA,SAAS0iF,GAA2B3uF,EAAIC,EAAIlT,EAAG+e,EAAYC,EAAU6iF,EAAS,CAC5E,MAAMz1G,EAAI,KAAK,MAAM6mB,EAAIC,CAAE,EACrB6T,GAAM7/B,EAAMkF,EAAG,CAAC,EAAIlF,EAAM8Y,EAAG,CAAC,EAAI9Y,EAAM26G,EAAS,CAAC,IAAM,EAAIz1G,GAC5D46B,EAAK56B,EAAI26B,EACT4/C,EAAQ,KAAK,MAAMzzD,EAAID,CAAE,EACzB6uF,EAAa,KAAK,KAAK,CAAC96E,EAAKhnB,CAAC,EAC9Bif,EAAKyhF,GAAe/5B,EAAQm7B,EAAY/iF,CAAU,EAClDG,EAAKwhF,GAAe/5B,EAAQm7B,EAAY/iF,CAAU,EACxD,GAAIE,GAAMF,GAAcE,GAAMD,EAC5B,OAAOC,EACF,GAAIC,GAAMH,GAAcG,GAAMF,EACnC,OAAOE,CAEX,CACA,IAAI6iF,GAAM,KAAM,CACd,YAAY9uF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAI,CAC7B,KAAK,GAAKjM,EACV,KAAK,GAAKC,EACV,KAAK,EAAIlT,EACT,KAAK,GAAKif,EACV,KAAK,GAAKC,EACN,KAAK,IAAM,KAAK,KAClB,KAAK,GAAK,IACV,KAAK,GAAK,IAEd,CACA,SAAU,CACR,OAAO,OAAO,SAAS,KAAK,EAAE,GAAK,OAAO,SAAS,KAAK,EAAE,CAC5D,CACA,QAAQp6B,EAAG,CACT,MAAO,CACL,EAAG,KAAK,GAAK,KAAK,EAAI,KAAK,IAAIA,CAAC,EAChC,EAAG,KAAK,GAAK,KAAK,EAAI,KAAK,IAAIA,CAAC,CAClC,CACF,CACA,UAAUA,EAAG,CACPA,GAAK,MAAQ,CAAC,KAAK,QAAQ,GAAKA,EAAI,KAAK,KAE7C,KAAK,GAAKA,GACN,OAAO,MAAMA,CAAC,GAAK,KAAK,IAAM,KAAK,MACrC,KAAK,GAAK,IACV,KAAK,GAAK,KAEd,CACA,QAAQA,EAAG,CACLA,GAAK,MAAQ,CAAC,KAAK,QAAQ,GAAKA,EAAI,KAAK,KAE7C,KAAK,GAAKA,GACN,OAAO,MAAMA,CAAC,GAAK,KAAK,IAAM,KAAK,MACrC,KAAK,GAAK,IACV,KAAK,GAAK,KAEd,CACF,EACIk9G,GAAS,cAAc33B,EAAK,CAC9B,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,EACf,KAAK,QAAU,EACf,KAAK,YAAc,GACnB,KAAK,YAAc,GACnB,KAAK,WAAa,EAClB,KAAK,SAAW,KAAK,GAAK,EAC1B,KAAK,WAAa,OAClB,KAAK,oBAAsB,EAC3B,KAAK,gBAAkB,EACvB,KAAK,uBAAyB,EAC9B,KAAK,qBAAuB,EAC5B,KAAK,uBAAyB,EAC9B,KAAK,qBAAuB,CAC9B,CACA,IAAI,MAAMzlF,EAAO,CACf,KAAK,oBAAsBA,EAC3B,KAAK,gBAAkBA,CACzB,CACA,IAAI,aAAaA,EAAO,CACtB,KAAK,uBAAyBA,EAC9B,KAAK,qBAAuBA,EAC5B,KAAK,uBAAyBA,EAC9B,KAAK,qBAAuBA,CAC9B,CACA,aAAc,CACZ,MAAMg7B,EAAS,KAAK,YACpB,OAAO,IAAI9O,EAAK,KAAK,QAAU8O,EAAQ,KAAK,QAAUA,EAAQA,EAAS,EAAGA,EAAS,CAAC,CACtF,CACA,iBAAkB,CAChB,KAAM,CAAE,oBAAAqiF,CAAoB,EAAI,KAChC,MAAO,CACL,YAAa,KAAK,IAAI,KAAK,IAAI,KAAK,YAAa,KAAK,WAAW,EAAIA,EAAqB,CAAC,EAC3F,YAAa,KAAK,IAAI,KAAK,IAAI,KAAK,YAAa,KAAK,WAAW,EAAIA,EAAqB,CAAC,CAC7F,CACF,CACA,sBAAuB,CACrB,KAAM,CAAE,WAAAC,CAAW,EAAI,KACvB,GAAIA,GAAc,KAChB,OACF,KAAM,CAAE,WAAAnjF,EAAY,SAAAC,CAAS,EAAI4hF,GAAgB,KAAK,WAAY,KAAK,QAAQ,EACzE,CAAE,YAAAxzB,EAAa,YAAA0yB,CAAY,EAAI,KAAK,gBAAgB,EACpDqC,EAAavB,GAAgBsB,EAAW,WAAYA,EAAW,SAAUnjF,CAAU,EACzF,OAAO,IAAI6gF,GACT,KAAK,IAAI7gF,EAAYojF,EAAW,UAAU,EAC1C,KAAK,IAAInjF,EAAUmjF,EAAW,QAAQ,EACtC,KAAK,IAAI/0B,EAAa80B,EAAW,WAAW,EAC5C,KAAK,IAAIpC,EAAaoC,EAAW,WAAW,CAC9C,CACF,CACA,eAAetiF,EAAQ,CACrB,OAAOA,EAAS,EAAI,KAAK,gBAAkBA,EAAS,CACtD,CACA,IAAI5f,EAAGoiG,EAAYnjF,EAAIC,EAAImjF,EAAUC,EAAUj2G,EAAOk2G,EAAO,CAC3D,GAAIviG,GAAK,EACP,OACF,KAAM,CAAE,WAAA+e,EAAY,SAAAC,CAAS,EAAI4hF,GAAgB,KAAK,WAAY,KAAK,QAAQ,EACzE,CAAE,YAAAxzB,EAAa,YAAA0yB,CAAY,EAAI,KAAK,gBAAgB,EACpDoC,EAAa,KAAK,qBAAqB,EAC7C,GAAIK,GAASn1B,GAAe,EAC1B,OACF,MAAMo1B,EAAmB,KAAK,eAAep1B,CAAW,EAClDq1B,EAAmB,KAAK,eAAe3C,CAAW,EAClD4C,EAAcH,EAAQ,KAAK,eAAen1B,EAAcptE,CAAC,EAAI,KAAK,eAAe8/F,EAAc9/F,CAAC,EAChG6f,EAAQxzB,EAAQ0yB,EAAa2jF,EAAcN,EAAapjF,EAAW0jF,EAAcN,EACjFxiF,EAAS2iF,EAAQn1B,EAAcptE,EAAI8/F,EAAc9/F,EACjDiT,EAAK2M,EAAS,KAAK,IAAIC,CAAK,EAC5B3M,EAAK0M,EAAS,KAAK,IAAIC,CAAK,EAClC,GAAIqiF,GAAc,OAEZ,CAAC71G,GAAS,EAAEwzB,GAASd,EAAa,MAAUc,GAASqiF,EAAW,SAAW,OAE3E71G,GAAS,EAAEwzB,GAASqiF,EAAW,WAAa,MAAUriF,GAASb,EAAW,OAE1EujF,GAAS,EAAE3iF,GAAUsiF,EAAW,YAAc,OAE9C,CAACK,GAAS,EAAE3iF,GAAUsiF,EAAW,YAAc,OACjD,OAEJ,MAAMS,EAAM,IAAIZ,GAAI9uF,EAAIC,EAAIlT,EAAGif,EAAIC,CAAE,EACrC,GAAIgjF,GAAc,KAAM,CAClBK,GACFI,EAAI,UACF7B,GAA+B7tF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAIgjF,EAAW,SAAWM,CAAgB,CAC1F,EACAG,EAAI,QACF7B,GAA+B7tF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAIgjF,EAAW,WAAaM,CAAgB,CAC5F,IAEAG,EAAI,UACF7B,GAA+B7tF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAIgjF,EAAW,WAAaO,CAAgB,CAC5F,EACAE,EAAI,QAAQ7B,GAA+B7tF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAIgjF,EAAW,SAAWO,CAAgB,CAAC,GAEvG,IAAIG,EACAC,EAUJ,GATIx2G,GACFu2G,EAAkBhB,GAA2B3uF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAIgjF,EAAW,WAAW,EACtFW,EAAgBjB,GAA2B3uF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAIgjF,EAAW,WAAW,IAEpFU,EAAkBhB,GAA2B3uF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAIgjF,EAAW,WAAW,EACtFW,EAAgBjB,GAA2B3uF,EAAIC,EAAIlT,EAAGif,EAAIC,EAAIgjF,EAAW,WAAW,GAEtFS,EAAI,UAAUC,CAAe,EAC7BD,EAAI,QAAQE,CAAa,EACrBD,GAAmB,KAAM,CAC3B,KAAM,CAAE,EAAGxyF,EAAI,EAAGC,CAAG,EAAIsyF,EAAI,QAAQC,CAAe,EAC9CE,EAASpC,GAAe,KAAK,MAAMrwF,EAAID,CAAE,EAAG2O,CAAU,EACxD1yB,EAC0Bi2G,GAAS,UAAUQ,CAAM,EAErDT,EAAS,QAAQS,CAAM,CAE3B,CACA,GAAID,GAAiB,KAAM,CACzB,KAAM,CAAE,EAAGzyF,EAAI,EAAGC,CAAG,EAAIsyF,EAAI,QAAQE,CAAa,EAC5CC,EAASpC,GAAe,KAAK,MAAMrwF,EAAID,CAAE,EAAG2O,CAAU,EACxD1yB,EACFg2G,EAAS,UAAUS,CAAM,EAEGR,GAAS,QAAQQ,CAAM,CAEvD,CACF,CACA,GAAIZ,GAAc,KAAM,CACtB,KAAM,CAAE,EAAG9xF,EAAI,EAAGC,CAAG,EAAIsyF,EAAI,SAASA,EAAI,GAAKA,EAAI,IAAM,CAAC,EAC1D,GAAI,CAAC5C,GAAgB3vF,EAAIC,EAAI6xF,CAAU,EACrC,MACJ,CACA,KAAM,CAAE,EAAAl8G,EAAG,EAAA+oB,CAAE,EAAI4zF,EAAI,QAAQt2G,IAAUk2G,EAAQI,EAAI,GAAKA,EAAI,EAAE,EACxDh8B,EAAQ+5B,GAAe,KAAK,MAAM3xF,EAAG/oB,CAAC,EAAG+4B,CAAU,EACnDgkF,EAAYR,EAAQD,EAAWD,EACrC,OAAIh2G,EAC2B02G,GAAU,UAAUp8B,CAAK,EAEzBo8B,GAAU,QAAQp8B,CAAK,EAE/Cg8B,CACT,CACA,YAAa,CACX,IAAIn2G,EAAIiL,EAAIC,EAAIU,EAAIuR,EAEpB,KAAM,CAAE,KAAAnU,EAAM,QAAAkqB,EAAS,QAAAC,EAAS,oBAAAsiF,EAAqB,gBAAAe,CAAgB,EAAI,KACzE,GAAI,CAAE,uBAAAC,EAAwB,qBAAAC,EAAsB,uBAAAC,EAAwB,qBAAAC,CAAqB,EAAI,KACrG,KAAM,CAAE,WAAArkF,EAAY,SAAAC,CAAS,EAAI4hF,GAAgB,KAAK,WAAY,KAAK,QAAQ,EACzE,CAAE,YAAAxzB,EAAa,YAAA0yB,CAAY,EAAI,KAAK,gBAAgB,EACpDoC,EAAa,KAAK,qBAAqB,EACvCrB,EAAa7hF,EAAWD,EACxBskF,EAAUxC,GAAc,EAAI,KAAK,GAAK,KAE5C,GADArrG,EAAK,MAAM,IACLhJ,EAAmC01G,GAAW,aAAe,KAAO11G,EAAKuyB,OAAkBtnB,EAAmCyqG,GAAW,WAAa,KAAOzqG,EAAKunB,GACtK,OACK,GAAIqkF,GAAW,KAAK,YAAc,MAAQJ,IAA2B,GAAKC,IAAyB,GAAKC,IAA2B,GAAKC,IAAyB,EAAG,CACzK5tG,EAAK,OAAOkqB,EAAUogF,EAAc,KAAK,IAAI/gF,CAAU,EAAGY,EAAUmgF,EAAc,KAAK,IAAI/gF,CAAU,CAAC,EACtGvpB,EAAK,IAAIkqB,EAASC,EAASmgF,EAAa/gF,EAAYC,CAAQ,EACxDouD,EAAc60B,IAChBzsG,EAAK,OAAOkqB,EAAU0tD,EAAc,KAAK,IAAIpuD,CAAQ,EAAGW,EAAUytD,EAAc,KAAK,IAAIpuD,CAAQ,CAAC,EAClGxpB,EAAK,IAAIkqB,EAASC,EAASytD,EAAapuD,EAAUD,EAAY,EAAI,GAEpEvpB,EAAK,UAAU,EACf,MACF,CACA,MAAMgtG,EAAmB,KAAK,eAAep1B,CAAW,EAClDq1B,EAAmB,KAAK,eAAe3C,CAAW,EAExD,GAD2Be,EAAa,EAAI4B,EAE1C,OACF,MAAMa,IAAkB5rG,EAAmCwqG,GAAW,cAAgB,KAAOxqG,EAAK01E,GAAe60B,EAC3GsB,EAAqBn2B,EAAc60B,GAAuBpB,EAAa,EAAI2B,EAC3EgB,EAAe1D,EAAc1yB,EAC7Bq2B,EAAkB,KAAK,IAC3BR,EACAE,EACAD,EACAE,CACF,EACMM,EAAuBD,EAAkB,EAAI,KAAK,IAAID,EAAeC,EAAiB,CAAC,EAAI,EACjGR,GAA0BS,EAC1BR,GAAwBQ,EACxBP,GAA0BO,EAC1BN,GAAwBM,EACxB,MAAMC,EAAqBpD,GACzBT,EACAe,EAAa,EAAI4B,EACjB,CAACQ,EACD,CAACC,CACH,EAGA,GAFAD,GAA0BU,EAC1BT,GAAwBS,EACpB,CAACJ,GAAsBD,EAAe,CACxC,MAAMM,EAAqBrD,GACzBnzB,EACAyzB,EAAa,EAAI2B,EACjBW,EACAC,CACF,EACAD,GAA0BS,EAC1BR,GAAwBQ,CAC1B,MACET,EAAyB,EACzBC,EAAuB,EAEzB,MAAMS,EAA0B,KAAK,IACnCZ,EAAyBE,EACzBD,EAAuBE,CACzB,EACMU,EAAqBD,EAA0B,EAAI,KAAK,IAAIL,EAAeK,EAAyB,CAAC,EAAI,EAC/GZ,GAA0Ba,EAC1BZ,GAAwBY,EACxBX,GAA0BW,EAC1BV,GAAwBU,EACxB,IAAIC,EAAmC,EACnCC,EAAiC,EACrC,MAAMC,EAA8BhB,GAA0BnD,EAAcmD,GACtEiB,GAA4BhB,GAAwBpD,EAAcoD,GACxE,GAAIe,GAA+B,GAAKA,EAA8B,EAAI,KACxEF,EAAmC,KAAK,KAAKE,CAA2B,MACnE,CACLF,EAAmClD,EAAa,EAChD,MAAMsD,EAA4BrE,GAAe,EAAI,KAAK,IAAIiE,CAAgC,EAAI,GAClGd,EAAyB,KAAK,IAAIkB,EAA2BlB,CAAsB,CACrF,CACA,GAAIiB,IAA6B,GAAKA,GAA4B,EAAI,KACpEF,EAAiC,KAAK,KAAKE,EAAyB,MAC/D,CACLF,EAAiCnD,EAAa,EAC9C,MAAMuD,EAA0BtE,GAAe,EAAI,KAAK,IAAIkE,CAA8B,EAAI,GAC9Fd,EAAuB,KAAK,IAAIkB,EAAyBlB,CAAoB,CAC/E,CACA,MAAMmB,GAAmC,KAAK,KAC5ClB,GAA0B/1B,EAAc+1B,EAC1C,EACMmB,GAAiC,KAAK,KAAKlB,GAAwBh2B,EAAcg2B,EAAqB,EACtGmB,IAAkBnsG,EAAmC8pG,GAAW,cAAgB,KAAO9pG,EAAK0nG,EAC5F0E,GAAuB,KAAK,eAAeD,EAAc,EACzDlC,GAAW,IAAIN,GACnB,EACA,EACAwC,GACAxlF,EAAaylF,GACbxlF,EAAWwlF,EACb,EACMC,GAAkB96F,EAAmCu4F,GAAW,cAAgB,KAAOv4F,EAAKyjE,EAC5Fs3B,GAAuB,KAAK,eAAeD,CAAc,EACzDnC,EAAWgB,EAAgB,IAAIvB,GAAI,EAAG,EAAG0C,EAAgB1lF,EAAa2lF,GAAsB1lF,EAAW0lF,EAAoB,EAAI,OACjIxC,GAAc,OAChBG,GAAS,UAAUH,EAAW,UAAU,EACxCG,GAAS,QAAQH,EAAW,QAAQ,EACRI,GAAS,UAAUJ,EAAW,UAAU,EACxCI,GAAS,QAAQJ,EAAW,QAAQ,GAElE,MAAMyC,GAAgB,KAAK,IACzB1B,EACAc,EACAhlF,EAAa,KAAK,GAAK,GACvBA,EAAaglF,EACb1B,GACAC,EACA,GACA,EACF,EACMsC,GAAc,KAAK,IACvB1B,EACAc,EACAhlF,EAAWglF,EACXhlF,EAAW,KAAK,GAAK,GACrBqjF,GACAC,EACA,GACA,EACF,EACMuC,GAAc,KAAK,IACvBzB,EACAkB,GACAtlF,EAAW,KAAK,GAAK,GACrBA,EAAW,KAAK,GAAKslF,GACrBjC,GACAC,EACA,GACA,EACF,EACMwC,GAAgB,KAAK,IACzB3B,EACAkB,GACAtlF,EAAa,KAAK,GAAKslF,GACvBtlF,EAAa,KAAK,GAAK,IACvBsjF,GACAC,EACA,GACA,EACF,EACA,GAAIiB,EAAoB,CACtB,MAAMv9G,EAAI66G,EAAa,KAAK,GAAK,GAAMmC,GAAmB,EAAI,KAAK,IAAInC,CAAU,GAAK,KAAK,IAAIA,CAAU,EAAI,IAC7G,IAAI7gG,GACAha,EAAI,GAAKA,EAAI85G,EACf9/F,GAAI,KAAK,IAAI,KAAK,MAAMgjG,EAAiBh9G,CAAC,EAAGonF,CAAW,EAExDptE,GAAIotE,EAEN,MAAM23B,GAAWhmF,EAAa8hF,EAAa,GAC3CrrG,EAAK,OAAOkqB,EAAU1f,GAAI,KAAK,IAAI+kG,EAAQ,EAAGplF,EAAU3f,GAAI,KAAK,IAAI+kG,EAAQ,CAAC,CAChF,SAA6CD,IAAc,QAAQ,IAAO,GAAM,CAC9E,KAAM,CAAE,EAAA9+G,EAAG,EAAA+oB,EAAE,EAAI+1F,GAAc,QAAQA,GAAc,EAAE,EACvDtvG,EAAK,OAAOkqB,EAAU15B,EAAG25B,EAAU5Q,EAAC,CACtC,SAAwCuzF,GAAS,QAAQ,IAAO,GAAM,CACpE,KAAM,CAAE,EAAAt8G,EAAG,EAAA+oB,EAAE,EAAIuzF,EAAS,QAAQA,EAAS,EAAE,EAC7C9sG,EAAK,OAAOkqB,EAAU15B,EAAG25B,EAAU5Q,EAAC,CACtC,KAAO,CACL,MAAMg2F,EAAWhmF,EAAa8hF,EAAa,EACrC5tF,GAAKm6D,EAAc,KAAK,IAAI23B,CAAQ,EACpC7xF,GAAKk6D,EAAc,KAAK,IAAI23B,CAAQ,EAC1CvvG,EAAK,OAAOkqB,EAAUzM,GAAI0M,EAAUzM,EAAE,CACxC,CACA,GAAsCyxF,IAAc,QAAQ,IAAO,GAAM,CACvE,KAAM,CAAE,GAAA1xF,EAAI,GAAAC,GAAI,EAAAlT,GAAG,GAAAif,GAAI,GAAAC,EAAG,EAAIylF,GAC9BnvG,EAAK,IAAIkqB,EAAUzM,EAAI0M,EAAUzM,GAAIlT,GAAGif,GAAIC,EAAE,CAChD,CACA,GAAImjF,GAAS,QAAQ,EAAG,CACtB,KAAM,CAAE,EAAAriG,EAAG,GAAAif,GAAI,GAAAC,EAAG,EAAImjF,GACtB7sG,EAAK,IAAIkqB,EAASC,EAAS3f,EAAGif,GAAIC,EAAE,CACtC,CACA,GAAoC0lF,IAAY,QAAQ,IAAO,GAAM,CACnE,KAAM,CAAE,GAAA3xF,EAAI,GAAAC,GAAI,EAAAlT,GAAG,GAAAif,GAAI,GAAAC,EAAG,EAAI0lF,GAC9BpvG,EAAK,IAAIkqB,EAAUzM,EAAI0M,EAAUzM,GAAIlT,GAAGif,GAAIC,EAAE,CAChD,CACA,GAAI,CAACqkF,EAAoB,CACvB,GAAoCsB,IAAY,QAAQ,IAAO,GAAM,CACnE,KAAM,CAAE,GAAA5xF,EAAI,GAAAC,GAAI,EAAAlT,GAAG,GAAAif,GAAI,GAAAC,EAAG,EAAI2lF,GAC9BrvG,EAAK,IAAIkqB,EAAUzM,EAAI0M,EAAUzM,GAAIlT,GAAGif,GAAIC,EAAE,CAChD,CACA,GAAiCojF,GAAS,QAAQ,IAAO,GAAM,CAC7D,KAAM,CAAE,EAAAtiG,EAAG,GAAAif,GAAI,GAAAC,EAAG,EAAIojF,EACtB9sG,EAAK,IAAIkqB,EAASC,EAAS3f,EAAGkf,GAAID,GAAI,EAAI,CAC5C,CACA,GAAsC6lF,IAAc,QAAQ,IAAO,GAAM,CACvE,KAAM,CAAE,GAAA7xF,EAAI,GAAAC,GAAI,EAAAlT,GAAG,GAAAif,GAAI,GAAAC,EAAG,EAAI4lF,GAC9BtvG,EAAK,IAAIkqB,EAAUzM,EAAI0M,EAAUzM,GAAIlT,GAAGif,GAAIC,EAAE,CAChD,CACF,CACA1pB,EAAK,UAAU,CACjB,CACA,cAAcxP,EAAG+oB,EAAG,CAClB,IAAIviB,EACJ,MAAMqnC,EAAQ,KAAK,eAAe7tC,EAAG+oB,CAAC,EAChC,CAAE,WAAAgQ,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,GAAKtzG,EAAK,KAAK,aAAe,KAAOA,EAAK,KACjG,OAAOuzG,GAAgBlsE,EAAM,EAAGA,EAAM,EAAG,CACvC,WAAA9U,EACA,SAAAC,EACA,YAAa,KAAK,IAAIouD,EAAa0yB,CAAW,EAC9C,YAAa,KAAK,IAAI1yB,EAAa0yB,CAAW,CAChD,CAAC,CACH,CACF,EACAkC,GAAO,UAAY,SACnBr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,UAAW,CAAC,EACjCr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,UAAW,CAAC,EACjCr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,cAAe,CAAC,EACrCr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,cAAe,CAAC,EACrCr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,aAAc,CAAC,EACpCr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,WAAY,CAAC,EAClCr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,aAAc,CAAC,EACpCr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,sBAAuB,CAAC,EAC7Cr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,kBAAmB,CAAC,EACzCr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,yBAA0B,CAAC,EAChDr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,uBAAwB,CAAC,EAC9Cr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,yBAA0B,CAAC,EAChDr6G,EAAiB,CACfyiF,GAAyB,CAC3B,EAAG43B,GAAO,UAAW,uBAAwB,CAAC,EAC9C,IAAIgD,GAAa,cAAcz6D,EAAQ,CACrC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,aAAe,EACtB,CACF,EACA5iD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGsiF,GAAW,UAAW,eAAgB,CAAC,EAC1C,IAAIC,GAAkB,cAAchtE,EAAM,CACxC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,CAChB,CACA,IAAIh/B,EAAYisG,EAAQ,CACtB,OAAO,MAAM,IAAIjsG,CAAU,CAC7B,CACF,EACAtR,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGqiF,GAAgB,UAAW,OAAQ,CAAC,EACvCt9G,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAGoiF,GAAgB,UAAW,SAAU,CAAC,EACzC,IAAIE,GAAmB,cAAcnsG,EAAe,CAClD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,KAAO,cACZ,KAAK,YAAc,CACrB,CACF,EACArR,EAAiB,CACf25B,EAASyC,EAAY,CACvB,EAAGohF,GAAiB,UAAW,OAAQ,CAAC,EACxCx9G,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGkiF,GAAiB,UAAW,cAAe,CAAC,EAC/C,IAAIC,GAA0B,cAAcntE,EAAM,CAChD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,EACd,KAAK,SAAW,EAChB,KAAK,WAAa,EAClB,KAAK,mBAAqB,GAC1B,KAAK,gBAAkB,EACzB,CACF,EACAtwC,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGoiF,GAAwB,UAAW,SAAU,CAAC,EACjDz9G,EAAiB,CACf25B,EAAS4B,EAAM,CACjB,EAAGkiF,GAAwB,UAAW,WAAY,CAAC,EACnDz9G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGoiF,GAAwB,UAAW,aAAc,CAAC,EACrDz9G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGoiF,GAAwB,UAAW,qBAAsB,CAAC,EAC7Dz9G,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAG0iF,GAAwB,UAAW,kBAAmB,CAAC,EAC1D,IAAIC,GAAyB,cAAcptE,EAAM,CAC/C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,eAAiB,EACtB,KAAK,cAAgB,EACvB,CACF,EACAtwC,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAGwiF,GAAuB,UAAW,iBAAkB,CAAC,EACxD19G,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGoiF,GAAuB,UAAW,gBAAiB,CAAC,EACvD,IAAIC,GAAyB,cAActsG,EAAe,CACxD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,GACd,KAAK,YAAc,CACrB,CACF,EACArR,EAAiB,CACf25B,EAAS0C,GAAoB,CAAE,SAAU,EAAK,CAAC,CACjD,EAAGshF,GAAuB,UAAW,SAAU,CAAC,EAChD39G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGsiF,GAAuB,UAAW,SAAU,CAAC,EAChD39G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGsiF,GAAuB,UAAW,cAAe,CAAC,EACrD,IAAIC,GAAwB,cAAcv2B,EAAiB,CACzD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,OAAO,OAAOnxE,EAAa,EACxC,KAAK,QAAU,OAAO,OAAOC,EAAe,EAC5C,KAAK,YAAc,EACnB,KAAK,cAAgB,EACrB,KAAK,SAAW,CAAC,CAAC,EAClB,KAAK,eAAiB,EACtB,KAAK,aAAe,EACpB,KAAK,SAAW,EAChB,KAAK,kBAAoB,EACzB,KAAK,iBAAmB,EACxB,KAAK,YAAc,EACnB,KAAK,cAAgB,OACrB,KAAK,YAAc,IAAIzE,GAAgB4rG,EAAe,EACtD,KAAK,MAAQ,IAAID,GACjB,KAAK,YAAc,IAAIG,GACvB,KAAK,OAAS,IAAIlc,GAClB,KAAK,aAAe,IAAImc,GACxB,KAAK,YAAc,IAAIC,GACvB,KAAK,YAAc,IAAIC,GACvB,KAAK,QAAU,IAAIjc,GACnB,KAAK,8BAAgC,MACvC,CACA,SAAU,CACR,MAAMmc,EAAe,MAAM,QAAQ,EACnC,OAAI,KAAK,kBAAoB,MAAQ,KAAK,mBAAqB,MAC7D55G,EAAO,SACL,8FACF,EACO,IAEF45G,CACT,CACF,EACA79G,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAG2iF,GAAsB,UAAW,WAAY,CAAC,EACjD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,YAAa,CAAC,EAClD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,YAAa,CAAC,EAClD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,aAAc,CAAC,EACnD59G,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGuiF,GAAsB,UAAW,YAAa,CAAC,EAClD59G,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGuiF,GAAsB,UAAW,YAAa,CAAC,EAClD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,kBAAmB,CAAC,EACxD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,mBAAoB,CAAC,EACzD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,iBAAkB,CAAC,EACvD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,kBAAmB,CAAC,EACxD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,gBAAiB,CAAC,EACtD59G,EAAiB,CACf25B,EAAS0C,EAAkB,CAC7B,EAAGuhF,GAAsB,UAAW,QAAS,CAAC,EAC9C59G,EAAiB,CACf25B,EAAS0C,EAAkB,CAC7B,EAAGuhF,GAAsB,UAAW,UAAW,CAAC,EAChD59G,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGsiF,GAAsB,UAAW,cAAe,CAAC,EACpD59G,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGsiF,GAAsB,UAAW,gBAAiB,CAAC,EACtD59G,EAAiB,CACf25B,EAASmD,EAAS,CACpB,EAAG8gF,GAAsB,UAAW,WAAY,CAAC,EACjD59G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGuiF,GAAsB,UAAW,iBAAkB,CAAC,EACvD59G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGuiF,GAAsB,UAAW,eAAgB,CAAC,EACrD59G,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAG4iF,GAAsB,UAAW,YAAa,CAAC,EAClD59G,EAAiB,CACf25B,EAAS4B,EAAM,CACjB,EAAGqiF,GAAsB,UAAW,WAAY,CAAC,EACjD59G,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAG0iF,GAAsB,UAAW,oBAAqB,CAAC,EAC1D59G,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGsiF,GAAsB,UAAW,mBAAoB,CAAC,EACzD59G,EAAiB,CACf25B,EAASuB,GAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG0iF,GAAsB,UAAW,oBAAqB,CAAC,EAC1D59G,EAAiB,CACf25B,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAGsiF,GAAsB,UAAW,mBAAoB,CAAC,EACzD59G,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGuiF,GAAsB,UAAW,cAAe,CAAC,EACpD59G,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGuiF,GAAsB,UAAW,gBAAiB,CAAC,EACtD59G,EAAiB,CACf25B,EAAS+C,EAAY,CACvB,EAAGkhF,GAAsB,UAAW,cAAe,CAAC,EACpD59G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGgjF,GAAsB,UAAW,QAAS,CAAC,EAC9C59G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGgjF,GAAsB,UAAW,cAAe,CAAC,EACpD59G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGgjF,GAAsB,UAAW,SAAU,CAAC,EAC/C59G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGgjF,GAAsB,UAAW,eAAgB,CAAC,EACrD59G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGgjF,GAAsB,UAAW,cAAe,CAAC,EACpD59G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGgjF,GAAsB,UAAW,cAAe,CAAC,EACpD59G,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAGgjF,GAAsB,UAAW,UAAW,CAAC,EAChD59G,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAG2iF,GAAsB,UAAW,gCAAiC,CAAC,EACtE,SAASE,GAAmCC,EAAaC,EAAiBC,EAASC,EAAY,CAC7F,MAAMzrE,EAAS,CAACwrE,EAAQ,QAAQ,CAAC,EAAGA,EAAQ,QAAQ,CAAC,CAAC,EAChDE,EAAW,CAACD,EAAW,QAAQ,CAAC,EAAGA,EAAW,QAAQ,CAAC,CAAC,EACxDnyF,EAAW,KAAK,GAAK,GAAKyL,GAAUwmF,CAAe,EACnDI,EAAmB,CAAC,CAAE,OAAAnmF,CAAO,KAC1B,CAAE,YAAawa,EAAO,CAAC,EAAG,YAAaA,EAAO,CAAC,GAAKA,EAAO,CAAC,EAAIA,EAAO,CAAC,GAAKxa,CAAO,GAEvFomF,EAAmB,CAAC,CAAE,OAAApmF,CAAO,KAC1B,CAAE,YAAakmF,EAAS,CAAC,EAAG,YAAaA,EAAS,CAAC,GAAKA,EAAS,CAAC,EAAIA,EAAS,CAAC,GAAKlmF,CAAO,GAsDrG,MAAO,CAAE,MAAO,CAAE,KA1BL,CAACqmF,EAAO/wF,EAAOoI,EAAQ,CAAE,SAAA4oF,CAAS,IAAM,CACnD,IAAI15G,EAAIiL,EACR,GAAI,CAAE,WAAAsnB,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,EAAI5qF,EACzD,KAAM,CAAE,OAAA+c,EAAQ,KAAAb,CAAK,EAAIlc,EAAM,aAQ/B,GAPIoI,IAAW,WAAa4oF,GAC1BnnF,GAAcvyB,EAAK05G,EAAS,QAAU,KAAO,OAAS15G,EAAG,SACzDwyB,GAAYvnB,EAAKyuG,EAAS,QAAU,KAAO,OAASzuG,EAAG,UAC9C6lB,IAAW,WAAa,CAAC4oF,IAClCnnF,EAAarL,EACbsL,EAAWtL,GAET4J,IAAW,UAAW,CACxB,MAAM6rD,EAAQ48B,EAAiB7wF,CAAK,EACpCk4D,EAAcjE,EAAM,YACpB22B,EAAc32B,EAAM,WACtB,CACA,MAAO,CAAE,WAAApqD,EAAY,SAAAC,EAAU,YAAA8gF,EAAa,YAAA1yB,EAAa,OAAAn7C,EAAQ,KAAAb,CAAK,CACxE,EASwB,OApDT,CAAC+0E,EAAMjxF,EAAOoI,EAAQ,CAAE,cAAAL,CAAc,IAAM,CACzD,IAAIzwB,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EACxB,GAAI,CAAE,WAAAoD,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,EAAIqG,EACrD,CAAE,KAAA/0E,EAAM,OAAAa,CAAO,EAAI/c,EAAM,aAY7B,GAXIoI,IAAW,WAAaA,IAAW,SAAW,CAACL,GACjD8B,EAAarL,EACbsL,EAAWtL,EACX05D,EAAcl4D,EAAM,YACpB4qF,EAAc5qF,EAAM,aACXoI,IAAW,SAAWL,IAC/B8B,GAAcvyB,EAAKywB,EAAc,WAAa,KAAOzwB,EAAKknB,EAC1DsL,GAAYvnB,EAAKwlB,EAAc,WAAa,KAAOxlB,EAAKic,EACxD05D,GAAe11E,EAAKulB,EAAc,cAAgB,KAAOvlB,EAAKwd,EAAM,YACpE4qF,GAAe1nG,EAAK6kB,EAAc,cAAgB,KAAO7kB,EAAK8c,EAAM,aAElEoI,IAAW,SAAW,CAACooF,EAAa,CACtC,MAAMv8B,EAAQ68B,EAAiB9wF,CAAK,EACpCk4D,EAAcjE,EAAM,YACpB22B,EAAc32B,EAAM,WACtB,CACA,OAAI7rD,IAAW,YACb8T,GAAQznB,EAAKw8F,EAAK,OAAS,KAAOx8F,EAAKynB,EACvCa,GAAUtW,EAAKwqF,EAAK,SAAW,KAAOxqF,EAAKsW,GAEtC,CAAE,WAAAlT,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,EAAa,KAAA1uE,EAAM,OAAAa,EAAQ,MAAO,SAAU,CAC1F,CA2B+B,EAAG,YAAa,CAAE,OARvB,CAACz3B,EAAM0O,IAAM,CACrC,IAAI1c,EAAIiL,EAAIC,EACZ,MAAO,CAAE,MAAOA,GAAMD,GAAMjL,EAAKgO,EAAK,gBAAkB,KAAO,OAAShO,EAAG,SAAW,KAAOiL,EAAK+C,EAAK,OAAS,KAAO9C,EAAK,EAAG,MAAO,SAAU,CAClJ,EAK4E,KAJpD,CAACwR,EAAGgM,IAAU,CACpC,IAAI1oB,EACJ,MAAO,CAAE,MAAOA,EAAK0oB,EAAM,SAAW,KAAO1oB,EAAK,CAAE,CACtD,CACkG,CAAE,CACtG,CACA,SAAS45G,GAAqBv6D,EAAO32B,EAAO,CAC1C,MAAO,CACL,WAAYA,EAAM,WAClB,SAAUA,EAAM,SAChB,YAAaA,EAAM,YACnB,YAAaA,EAAM,YACnB,KAAMA,EAAM,aAAa,KACzB,OAAQA,EAAM,aAAa,MAC7B,CACF,CACA,SAASmxF,GAAoBxtG,EAAQg7B,EAAO,CAC1C,MAAM9jB,EAAK8jB,EAAM,EAAIh7B,EAAO,QACtBiX,EAAK+jB,EAAM,EAAIh7B,EAAO,QACtBgnB,EAAQ,KAAK,MAAM9P,EAAID,CAAE,EACzBw2F,EAAUztG,EAAO,aAAa,EACpC,UAAWmnG,KAAUsG,EACnB,GAAItG,EAAO,MAAM,UAAY,IAEzBnhF,GAAgBgB,EAAOmgF,EAAO,WAAYA,EAAO,QAAQ,EAAG,CAC9D,MAAMpgF,EAAS,KAAK,KAAK9P,EAAKA,EAAKC,EAAKA,CAAE,EAC1C,IAAIsQ,EAAY,EAChB,OAAIT,EAASogF,EAAO,YAClB3/E,EAAY2/E,EAAO,YAAcpgF,EACxBA,EAASogF,EAAO,cACzB3/E,EAAYT,EAASogF,EAAO,aAEvB,CAAE,MAAOA,EAAO,MAAO,SAAU3/E,CAAU,CACpD,CAGJ,CACA,SAASkmF,GAAyB1tG,EAAQyB,EAAM,CAC9C,MAAMi0E,EAAW11E,EAAO,YAAY,EACpC,GAAI01E,IAAa,OACf,OACF,KAAM,CAAE,QAAA7uD,EAAS,QAAAC,CAAQ,EAAI9mB,EACvBqc,EAAQq5D,EAASj0E,EAAK,UAAU,EAChCksG,EAAY,CAChB,CAAE,OAAQtxF,EAAM,YAAa,MAAOA,EAAM,UAAW,EACrD,CAAE,OAAQA,EAAM,YAAa,MAAOA,EAAM,QAAS,EACnD,CAAE,OAAQA,EAAM,YAAa,MAAOA,EAAM,UAAW,EACrD,CAAE,OAAQA,EAAM,YAAa,MAAOA,EAAM,QAAS,CACrD,EACMuxF,EAAc,CAAC,EAAG,KAAK,GAAK,EAAG,KAAK,GAAI,EAAI,KAAK,GAAK,CAAC,EAC7D,UAAWC,KAAcD,EACnB5nF,GAAgB6nF,EAAYxxF,EAAM,WAAYA,EAAM,QAAQ,GAC9DsxF,EAAU,KAAK,CAAE,OAAQtxF,EAAM,YAAa,MAAOwxF,CAAW,CAAC,EAGnE,MAAM/V,EAAS6V,EAAU,IAAI,CAAC,CAAE,OAAA5mF,EAAQ,MAAAC,CAAM,IAAMJ,GAAwBC,EAASC,EAASC,EAAQC,CAAK,CAAC,EACtG8mF,EAAKhW,EAAO,IAAKp5E,GAAMA,EAAE,CAAC,EAC1BqvF,EAAKjW,EAAO,IAAKp5E,GAAMA,EAAE,CAAC,EAC1BvxB,EAAI,KAAK,IAAI,GAAG2gH,CAAE,EAClB53F,EAAI,KAAK,IAAI,GAAG63F,CAAE,EAClBh3F,EAAQ,KAAK,IAAI,GAAG+2F,CAAE,EAAI3gH,EAC1B6pB,EAAS,KAAK,IAAI,GAAG+2F,CAAE,EAAI73F,EACjC,OAAO,IAAI+B,EAAK9qB,EAAG+oB,EAAGa,EAAOC,CAAM,CACrC,CACA,IAAIg3F,GAAc,cAAc94B,EAAgB,CAC9C,YAAYvhF,EAAI,CACd,IAAIiL,EAAKjL,EAAI,CACX,cAAAs6G,EAAgB,GAChB,UAAA3tC,EAAY,CACV,CAEF,EACA,YAAAI,EAAc,GACd,kBAAAuW,CACF,EAAIr4E,EAAI6C,EAAOhT,GAAUmQ,EAAI,CAC3B,gBACA,YACA,cACA,mBACF,CAAC,EACD,MAAMpQ,EAAcD,EAAgB,CAAC,EAAGkT,CAAI,EAAG,CAC7C,cAAAwsG,EACA,UAAA3tC,EACA,oBAAqB,GACrB,cAAe,CAEX,EAEC,CAAC,UAAU,EAEZ,EAEC,CAAC,WAAW,CACjB,EACA,eAAgB,CAEZ,EAEC,CAAC,WAAW,EAEb,EAEC,CAAC,YAAY,CAClB,EACA,YAAAI,CACF,CAAC,CAAC,EACF,KAAK,UAAY,KAAK,aAAa,YAAY,IAAI/oC,CAAO,EAC1D,KAAK,SAAW,CAAC,EACjB,KAAK,cAAgBqS,GAAU,OAC7B,KAAK,UACL,IAAM,KAAK,YAAY,EACvB,EACF,EACA,KAAK,eAAiBA,GAAU,OAAO,KAAK,WAAYjL,GAAM,EAAK,EACnE,KAAK,mBAAqBiL,GAAU,OAClC,KAAK,eACL,IAAM,KAAK,YAAY,CACzB,EACA,KAAK,QAAU,EACf,KAAK,QAAU,EACf,KAAK,OAAS,EACd,KAAK,UAAU,eAAiB,CAAC,IAAM,KAAK,kBAAmB,CAAC,EAChE,KAAK,kBAAoBitC,EACzB,KAAK,eAAiB,IAAI1xC,GACxB,QACA,CACE,MAAO,CACL,OAAQ,CACN,OAAQ,QACR,OAASziC,GAAS,KAAK,wBAAwBA,CAAI,CACrD,EACA,MAAO,QACP,KAAM,OACR,EACA,MAAO,CACL,WAAY,UACZ,MAAO,WACP,UAAYA,GAAS,KAAK,sBAAsBA,CAAI,EACpD,iBAAmBA,GAAS,KAAK,6BAA6BA,CAAI,EAClE,OAASA,GAAS,KAAK,mBAAmBA,CAAI,EAC9C,MAAO,QACP,KAAM,OACR,EACA,QAAS,CACP,OAAQ,CACN,OAAQ,QACR,OAASA,GAAS,KAAK,0BAA0BA,CAAI,CACvD,EACA,MAAO,QACP,KAAM,OACR,EACA,SAAU,CACR,OAAQ,CACN,OAAQ,QACR,OAASA,GAAS,KAAK,2BAA2BA,CAAI,CACxD,EACA,MAAO,QACP,KAAM,OACR,CACF,EACA,IAAM,KAAK,6BAA6B,CAC1C,CACF,CACA,cAAe,CACb,OAAO,KAAK,UAAU,QACxB,CACA,aAAc,CACZ,OAAO,KAAK,QACd,CACA,eAAe6hB,EAAO,CAChBA,IAAU,UACZ,KAAK,eAAe,WAAW,OAAO,EAC7BA,IAAU,SACnB,KAAK,eAAe,WAAW,MAAM,CAEzC,CACA,cAAe,CACb,MAAO,CAAC,CACV,CACA,kBAAkBupF,EAAUC,EAAa,CACvC,OAAO,IACT,CACA,mBAAoB,CAClB,IAAIx6G,EACJ,KAAM,CAAE,KAAAyI,EAAM,MAAAuoC,CAAM,GAAKhxC,EAAK,KAAK,oBAAsB,KAAOA,EAAK,CAAC,EACtE,KAAK,IAAI,iBAAiB,uBAAuB,KAAK,EAAE,EACpDyI,GACFipC,GAAY,CAAC,KAAK,cAAe,KAAK,kBAAkB,EAAGjpC,CAAI,EAE7DuoC,GACFU,GAAY,CAAC,KAAK,cAAc,EAAGV,CAAK,EAE1C,KAAK,cAAc,QAAQ,EAC3B,KAAK,eAAe,QAAQ,EAC5B,KAAK,mBAAmB,QAAQ,CAClC,CACA,wBAAwBypE,EAAO,CAC7B,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkB,CACzB,CACA,0BAA0BA,EAAO,CAC/B,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkB,CACzB,CACA,sBAAsBA,EAAO,CAC3B,IAAIz6G,EACJ,KAAM,CAAE,KAAAyI,CAAK,GAAKzI,EAAK,KAAK,oBAAsB,KAAOA,EAAK,CAAC,EAC3DyI,GACFipC,GAAY,CAAC,KAAK,kBAAkB,EAAGjpC,CAAI,CAE/C,CACA,6BAA6BgyG,EAAO,CACpC,CACA,mBAAmBA,EAAO,CACxB,KAAK,kBAAkB,CACzB,CACA,2BAA2BA,EAAO,CAChC,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkB,CACzB,CACA,0BAA2B,CACzB,KAAK,eAAe,WAAW,QAAS,KAAK,iBAAiB,CAAC,CACjE,CACA,iBAAiBjpC,EAAY,CAC3B,MAAO,CAAE,WAAAA,CAAW,CACtB,CACF,EACIkpC,GAAuB,cAAcpuC,EAAgB,CACvD,YAAYliE,EAAMw4E,EAAal6D,EAAOrc,EAAQ,CAC5C,MAAMjC,EAAMw4E,EAAal6D,EAAOrc,CAAM,EACtC,KAAK,SAAWA,EAAO,WAAW,SAClC,KAAK,UAAYA,EAAO,WAAW,UACnC,KAAK,gBAAkBA,EAAO,WAAW,gBACzC,KAAK,eAAiBA,EAAO,WAAW,cAC1C,CACF,EACIsuG,GAAc,cAAcN,EAAY,CAC1C,YAAYr8D,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,UAAW,CACT,CAEF,EACA,cAAe,GACf,kBAAmB,CAAE,KAAM47D,GAAsB,MAAOrd,EAAa,CACvE,CAAC,EACD,KAAK,WAAa,IAAIwc,GACtB,KAAK,oBAAsB,IAAI1uB,GAC/B,KAAK,YAAc,IAAIA,GACvB,KAAK,gBAAkB,KAAK,UAAU,YACpC,IAAIrmD,EAAM,CACR,KAAM,GAAG,KAAK,EAAE,cAChB,MAAO,GACP,OAAQ,CAEV,CAAC,CACH,EACA,KAAK,kBAAoB,KAAK,gBAAgB,YAAY,IAAIA,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,eAAgB,CAAC,CAAC,EACxG,KAAK,iBAAmB,KAAK,kBAAkB,YAAY,IAAI07C,EAAQ,EACvE,KAAK,iBAAmB,KAAK,kBAAkB,YAAY,IAAIA,EAAQ,EACvE,KAAK,iBAAmB,KAAK,gBAAgB,YAAY,IAAI17C,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,cAAe,CAAC,CAAC,EACtG,KAAK,kBAAoB,CAAC,EAC1B,KAAK,kBAAoB,OACzB,KAAK,UAAY02E,GACjB,KAAK,WAAa,IAAIrwB,GACtB,KAAK,WAAW,OAAS,CAAC,EAAG,CAAC,EAC9B,KAAK,WAAW,MAAQ,CAAC,CAAC,KAAK,GAAI,KAAK,EAAE,EAAE,IAAKh3D,GAAUA,EAAQ,KAAK,GAAK,CAAC,EAC9E,MAAMunF,EAAmB,IAAI52E,EAAM,CAAE,KAAM,kBAAmB,CAAC,EACzD62E,EAAkB,IAAI72E,EAAM,CAAE,KAAM,iBAAkB,CAAC,EACvD82E,EAAc,IAAI92E,EAAM,CAAE,KAAM,aAAc,CAAC,EACrD,KAAK,WAAW,OAAO42E,CAAgB,EACvC,KAAK,WAAW,OAAOC,CAAe,EACtC,KAAK,WAAW,OAAOC,CAAW,EAClC,KAAK,sBAAwBzkE,GAAU,OAAOukE,EAAkB52E,CAAK,EACrE,KAAK,qBAAuBqS,GAAU,OAAOwkE,EAAiBzvE,EAAI,EAClE,KAAK,qBAAuBiL,GAAU,OAAOykE,EAAa1vE,EAAI,EAC9D,KAAK,qBAAuBiL,GAAU,OAAO,KAAK,iBAAkBqpC,EAAM,CAC5E,CACA,wBAAyB,CACvB,IAAI1/E,EACJ,KAAK,WAAW,MACbA,EAAK,KAAK,IAAI,oBAAsB,KAAO,OAASA,EAAG,YAAY,oBAAsBgyC,GAAU,KAAK,kBAAkBA,CAAK,CAAC,CACnI,CACF,CACA,IAAI,SAAU,CACZ,OAAO,MAAM,UAAY,KAAK,kBAAkB,SAAW,GAAK,KAAK,kBAAkB,KAAM5B,GAAYA,CAAO,EAClH,CACA,aAAc,CACZ,OAAO,IAAIolE,EACb,CACA,gBAAgB9kE,EAAW,CACzB,OAAIA,IAAc,IACT,KAAK,WAAW,OAEhB,KAAK,YAAY,MAE5B,CACA,YAAYujC,EAAgB,CAC1B,OAAO34E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,GAAI,KAAK,MAAQ,MAAQ,CAAC,KAAK,WAAW,QAAQ,EAChD,OAEF,GAAI,CAAE,KAAAhO,CAAK,EAAI,KACf,KAAM,CAAE,QAAAihC,EAAS,kBAAA4xC,CAAkB,EAAI,KACjC,CAAE,SAAA+4B,EAAU,UAAAC,EAAW,gBAAAC,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,WAC/E12B,EAAmB,CAAC,KAAK,IAAI,iBAAiB,UAAU,EACxD22B,EAAgB,CAAC,EACjB5V,EAAa,CAAC,EAChB2V,EACFC,EAAc,KAAKtvC,GAAYqvC,EAAe,OAAQ,CAAE,GAAI,eAAgB,CAAC,CAAC,EACrEF,EACTG,EAAc,KAAKtvC,GAAYmvC,EAAiB,OAAQ,CAAE,GAAI,iBAAkB,CAAC,CAAC,EACzEC,GACTE,EAAc,KAAKtvC,GAAYovC,EAAgB,OAAQ,CAAE,GAAI,gBAAiB,CAAC,CAAC,EAElF,MAAMG,EAAkB,KAAK,YAAY,KACnCC,EAAiB,KAAK,YAAY,KACpCN,GACFxV,EAAW,KACTv5B,GAAoB+uC,EAAW,CAC7B,GAAI,cACJ,KAAMh7G,EAAK,KAAK,WAAW,YAAc,KAAOA,EAAK,EACrD,IAAK,KAAK,WAAW,SACvB,CAAC,EACDgsE,GAAcgvC,EAAWK,EAAiB,CAAE,GAAI,WAAY,CAAC,EAE7DzxC,GACE,CAAE,GAAI,aAAc,EACpB,CAAC,EAAG,CAAC,EACL,GACC3+D,EAAK,KAAK,WAAW,YAAc,KAAOA,EAAK,EAChD,KAAK,WAAW,SAClB,CACF,EAEEgwG,GACFzV,EAAW,KAAKx5B,GAAcivC,EAAiB,OAAQ,CAAE,GAAI,mBAAoB,CAAC,CAAC,EAEjFC,GACF1V,EAAW,KAAKx5B,GAAckvC,EAAgB,OAAQ,CAAE,GAAI,kBAAmB,CAAC,CAAC,EAE/EC,GACF3V,EAAW,KAAKx5B,GAAcmvC,EAAe,OAAQ,CAAE,GAAI,iBAAkB,CAAC,CAAC,EAE7E12B,GAAoB,KAAK,eAAiB22B,EAAc,OAAS,GACnE5V,EAAW,KAAKz6B,GAAK,KAAK,aAAa,CAAC,EAE1Cy6B,EAAW,KAAK37B,GAAoB,CAAC,EACrC16D,EAAOA,EAAK,IAAI,CAACvP,EAAG2iC,IAAQ6N,GAAW4xC,EAAkBz/C,CAAG,EAAI3iC,EAAI/E,EAAcD,EAAgB,CAAC,EAAGgF,CAAC,EAAG,CAAE,CAACm7G,CAAQ,EAAG,CAAE,CAAC,CAAC,EAC5H,MAAM,KAAK,iBAAiB9mC,EAAgB9kE,EAAM,CAChD,MAAO,CACL,GAAGisG,EACHjvC,GAA0B4uC,EAAUO,EAAgB,CAAE,GAAI,aAAc,aAAc,EAAK,CAAC,EAC5FtvC,GAAc+uC,EAAUO,EAAgB,CAAE,GAAI,UAAW,CAAC,EAE1D1xC,GAAoB,CAAE,GAAI,YAAa,EAAG,CAAC,EAAG,CAAC,EAAG,EAAG,CAAC,EACtD,GAAG47B,CACL,CACF,CAAC,EACD,UAAWxjC,KAAa7kD,GAAMvR,GAAMV,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,OAAS,KAAO,OAASU,EAAG,SAAW,KAAOuR,EAAK,CAAC,EAAG,CACxI,KAAM,CAAE,GAAA4U,EAAI,QAAAwpF,EAAS,SAAA9sG,CAAS,EAAIuzD,EAC5BpD,EAAYrB,GAAa,KAAMg+C,CAAO,EACxCxpF,IAAO,YAAc6sC,EAAY,GACnCx/D,EAAO,SACL,mCAAmC,OAAOqP,CAAQ,CAAC,QAAQmwD,CAAS,gBAAgBA,EAAY,EAAI,IAAM,EAAE,EAC9G,CAEJ,CACA,KAAK,eAAe,WAAW,YAAY,CAC7C,CAAC,CACH,CACA,sBAAuB,CACrB,OAAOtjE,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EACJ,GAAI,CAAC,KAAK,gBACR,OACF,KAAM,CAAE,SAAA+hF,EAAW,CAAC,CAAE,GAAK/hF,EAAK,MAAM,KAAK,eAAe,IAAM,KAAOA,EAAK,CAAC,EAC7E,KAAK,SAAW+hF,EAChB,KAAK,gBAAkB,EACzB,CAAC,CACH,CACA,wBAAwB7e,EAAW,CACjC,MAAMs4C,EAAWt4C,EAAU,8BAA8B,KAAM,YAAY,EACrEu4C,EAAY,KAAK,WAAW,UAAYv4C,EAAU,8BAA8B,KAAM,aAAa,EAAI,GACvGw4C,EAAkB,KAAK,WAAW,gBAAkBx4C,EAAU,8BAA8B,KAAM,mBAAmB,EAAI,GACzHy4C,EAAiB,KAAK,WAAW,eAAiBz4C,EAAU,8BAA8B,KAAM,kBAAkB,EAAI,GACtH04C,EAAgB,KAAK,WAAW,cAAgB14C,EAAU,8BAA8B,KAAM,iBAAiB,EAAI,GACzH,MAAO,CAAE,SAAAs4C,EAAU,UAAAC,EAAW,gBAAAC,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,CAC/E,CACA,gBAAiB,CACf,OAAOtgH,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,GAAIm5E,EAAU,cAAArW,EAAe,UAAA8E,EAAW,WAAA24C,CAAW,EAAI,KACzD,CAAE,SAAA30F,EAAU,iBAAA40F,CAAiB,EAAI,KAAK,WAC5C,GAAI,CAAC,KAAK,WAAW,QAAQ,EAC3B,YAAK,iBAAiB,QAAU,GAChC,KAAK,iBAAiB,QAAU,GACzB,CAAE,OAAQrnC,EAAU,SAAU,CAAC,EAAG,UAAW,CAAC,CAAE,EAEzD,GAAI,CAACrW,GAAiB,CAAC8E,GAAa9E,EAAc,OAAS,YACzD,OACF,KAAM,CAAE,SAAAo9C,EAAU,UAAAC,EAAW,gBAAAC,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,wBAAwB14C,CAAS,EACtH,IAAI64C,EAAe,EACfnxE,EAAO,EACX,MAAMm3C,EAAW3jB,EAAc,KAAK,IAAI,CAACpuB,EAAQzrC,IAAU,CACzD,IAAIvE,EACJ,KAAM,CAAE,MAAA0oB,EAAO,OAAA7P,CAAO,EAAIm3B,EACpBnhC,EAAegK,EAAO2iG,CAAQ,EAC9BjpF,EAAaspF,EAAW,QAAQE,CAAY,EAAIppF,GAAUzL,CAAQ,EACxE60F,EAAeltG,EACf+7B,GAAQ/7B,EACR,MAAM2jB,EAAWqpF,EAAW,QAAQE,CAAY,EAAIppF,GAAUzL,CAAQ,EAChEi5B,EAAO,KAAK,IAAI3tB,EAAWD,CAAU,EACrCgmF,EAAWhmF,EAAa4tB,EAAO,EAC/B67D,EAAanjG,EAAO2iG,EAAW,CAAC,EAChCpoF,EAASqoF,GAAa,IAAKz7G,EAAK6Y,EAAO4iG,CAAS,IAAM,KAAOz7G,EAAS,EACtEi8G,EAAcR,GAAa,EAAI5iG,EAAO4iG,EAAY,CAAC,EAAI,OACvDS,EAAkBN,GAAiB,EAAI/iG,EAAO+iG,CAAa,EAAI,OAC/DriE,EAAS,KAAK,UAClB7wB,EACA6vF,EACAp4D,EACA,GACAtnC,EAAO6iG,CAAe,EACtB7iG,EAAO8iG,CAAc,EACrBO,CACF,EACMC,EAAe,KAAK,gBAAgBzzF,EAAOnkB,EAAO,EAAK,EAC7D,OAAO3J,EAAgB,CACrB,OAAQ2J,EACR,OAAQ,KACR,MAAAmkB,EACA,MAAAnkB,EACA,WAAAy3G,EACA,SAAAzD,EACA,OAAQ,KAAK,IAAIA,CAAQ,EACzB,OAAQ,KAAK,IAAIA,CAAQ,EACzB,WAAAhmF,EACA,SAAAC,EACA,aAAA2pF,EACA,YAAAF,EACA,OAAA7oF,EACA,YAAa,KAAK,IAAI,KAAK,YAAY,QAAQ,CAAC,EAAG,CAAC,EACpD,YAAa,KAAK,IAAI,KAAK,YAAY,QAAQA,CAAM,EAAG,CAAC,EACzD,gBAAA8oF,CACF,EAAG3iE,CAAM,CACX,CAAC,EACD,YAAK,iBAAiB,QAAU3O,IAAS,EACzC,KAAK,iBAAiB,QAAUA,IAAS,GAAKkxE,GAAoB,MAAQA,IAAqB,GAAKA,EAAmB,EAChH,CAAE,OAAQrnC,EAAU,SAAAsN,EAAU,UAAWA,CAAS,CAC3D,CAAC,CACH,CACA,UAAUr5D,EAAO6vF,EAAUp4D,EAAMi8D,EAAcC,EAAmBC,EAAkBJ,EAAiB,CACnG,KAAM,CAAE,aAAAK,EAAc,YAAAC,EAAa,cAAArB,CAAc,EAAI,KAAK,WACpDF,EAAkB,CAACmB,GAAgBG,EAAa,QAAU,KAAK,WAAW,gBAAkB,OAC5FrB,EAAiB,CAACkB,GAAgBI,EAAY,QAAU,KAAK,WAAW,eAAiB,OAC/F,GAAI,CAACvB,GAAmB,CAACC,GAAkB,CAACC,EAC1C,MAAO,CAAC,EAEV,MAAMsB,EAAuB,CAC3B,MAAA/zF,EACA,SAAU,KAAK,WAAW,SAC1B,UAAW,KAAK,WAAW,UAC3B,UAAW,KAAK,WAAW,UAC3B,WAAY,KAAK,WAAW,WAC5B,gBAAiB,KAAK,WAAW,gBACjC,iBAAkB,KAAK,WAAW,iBAClC,eAAgB,KAAK,WAAW,eAChC,gBAAiB,KAAK,WAAW,gBACjC,cAAe,KAAK,WAAW,aACjC,EACM7vB,EAAS,CAAC,EAChB,OAAIoiH,GAAmB96D,EAAOxtB,GAAU4pF,EAAa,QAAQ,IAC3D1jH,EAAO,aAAegC,EAAcD,EAAgB,CAAC,EAAG,KAAK,iBAAiB29G,CAAQ,CAAC,EAAG,CACxF,KAAM,KAAK,aAAagE,EAAc1hH,EAAcD,EAAgB,CAAC,EAAG6hH,CAAoB,EAAG,CAC7F,MAAOJ,CACT,CAAC,CAAC,EACF,OAAQ,GACR,mBAAoB,OACpB,iBAAkB,EAClB,IAAK,MACP,CAAC,GAECnB,IACFriH,EAAO,YAAc,CACnB,KAAM,KAAK,aAAa2jH,EAAa3hH,EAAcD,EAAgB,CAAC,EAAG6hH,CAAoB,EAAG,CAC5F,MAAOH,CACT,CAAC,CAAC,CACJ,GAEEnB,GAAiB,MAAQe,GAAmB,OAC9CrjH,EAAO,WAAa,CAAE,IAAKsiH,EAAe,KAAMe,CAAgB,GAE3DrjH,CACT,CACA,iBAAiB0/G,EAAU,CACzB,MAAMmE,EAAmB,CACvB,CAAE,UAAW,SAAU,aAAc,QAAS,EAC9C,CAAE,UAAW,OAAQ,aAAc,QAAS,EAC5C,CAAE,UAAW,SAAU,aAAc,SAAU,EAC/C,CAAE,UAAW,QAAS,aAAc,QAAS,CAC/C,EACMC,EAAcvqF,GAAkBmmF,CAAQ,EACxCqE,EAAgB,KAAQ,KAAK,GAC7BC,EAAiBF,EAAcC,EAC/BE,EAAW,KAAK,MAAMD,GAAkB,KAAK,GAAK,EAAE,EACpDE,EAAgB96F,GAAI66F,EAAUJ,EAAiB,MAAM,EAC3D,OAAOA,EAAiBK,CAAa,CACvC,CACA,gBAAgBr0F,EAAOs0F,EAAaC,EAAW,CAC7C,IAAIj9G,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,KAAM,CAAE,cAAAmkC,EAAe,iBAAAu2C,CAAiB,EAAI,KAAK,IAC3C,CAAE,SAAAkjB,EAAU,UAAAC,EAAW,MAAA3iG,EAAO,QAAAC,EAAS,UAAAykB,EAAW,cAAAmgF,EAAe,8BAAAC,CAA8B,EAAI,KAAK,WACxGrkD,EAAmB++B,EAAiB,mBAAmB,EACvDia,EAAqBmL,GAAkDnkD,GAAiB,SAAY,MAAQkkD,IAAgBlkD,EAAiB,OACnJ,IAAIskD,EAAgB9kG,EAAQ0kG,EAAc1kG,EAAQ,MAAM,EACpD4kG,GAAiB,MAAQE,GAAiB,OAC5CA,EAAgBD,GAElB,KAAM,CAAE,KAAAv4E,EAAM,YAAAY,EAAa,OAAAC,EAAQ,YAAAC,EAAa,cAAAG,CAAc,EAAIz9B,GAChE0pG,GAAsB,KAAK,WAAW,eAAe,KACrD,CACE,KAAMz5F,EAAM,OAAS,EAAIA,EAAM2kG,EAAc3kG,EAAM,MAAM,EAAI,OAC7D,YAAa,KAAK,WAAW,YAC7B,OAAQ+kG,EACR,YAAa,KAAK,eAAe,KAAK,WAAW,WAAW,EAC5D,cAAe,KAAK,WAAW,CACjC,CACF,EACA,IAAI5/E,EACJ,OAAIT,IACFS,EAAU8jB,EAAc,KAAKvkB,EAAW,CACtC,MAAArU,EACA,SAAAqyF,EACA,UAAAC,EACA,KAAAp2E,EACA,OAAAa,EACA,MAAAptB,EACA,QAAAC,EACA,YAAAotB,EACA,YAAaosE,EACb,SAAU,KAAK,EACjB,CAAC,GAEI,CACL,MAAO9xG,EAAgCw9B,GAAQ,OAAS,KAAOx9B,EAAK4kC,EACpE,aAAc35B,EAAgCuyB,GAAQ,cAAgB,KAAOvyB,EAAKu6B,EAClF,QAASt6B,EAAgCsyB,GAAQ,SAAW,KAAOtyB,EAAKu6B,EACxE,aAAc75B,EAAgC4xB,GAAQ,cAAgB,KAAO5xB,EAAK85B,EAClF,eAAgBvoB,EAAgCqgB,GAAQ,gBAAkB,KAAOrgB,EAAK0oB,CACxF,CACF,CACA,gBAAiB,CACf,KAAM,CAAE,OAAAzS,CAAO,EAAI,KACb,CAAE,iBAAA0oF,EAAmB,EAAG,kBAAAuB,EAAoB,CAAE,EAAI,KAAK,WACvDz8B,EAAcxtD,EAAS0oF,EAAmBuB,EAChD,OAAIz8B,IAAgBxtD,GAAUwtD,EAAc,EACnC,EAEFA,CACT,CACA,gBAAiB,CACf,KAAM,CAAE,iBAAA08B,EAAkB,kBAAAC,CAAkB,EAAI,KAAK,WACrD,OAAO,KAAK,IAAI,KAAK,OAASD,EAAmBC,EAAmB,CAAC,CACvE,CACA,kBAAkB1uC,EAAQ,CACxB,MAAM2uC,EAAW,CAAC,KAAK,eAAe,EAAG,KAAK,eAAe,CAAC,EAC9D,KAAK,YAAY,MAAQA,EACrB3uC,IACF,KAAK,oBAAoB,MAAQ2uC,GAEnC,KAAK,SAAW,KAAK,SAAS,IAAKx9G,GAAO,CACxC,IAAIiL,EAAKjL,EAAI,CAAE,OAAAozB,CAAO,EAAInoB,EAAIrL,EAAI9E,GAAUmQ,EAAI,CAAC,QAAQ,CAAC,EAC1D,OAAOpQ,EAAcD,EAAgB,CAAC,EAAGgF,CAAC,EAAG,CAC3C,OAAAwzB,EACA,YAAa,KAAK,IAAI,KAAK,YAAY,QAAQ,CAAC,EAAG,CAAC,EACpD,YAAa,KAAK,IAAI,KAAK,YAAY,QAAQA,CAAM,EAAG,CAAC,CAC3D,CAAC,CACH,CAAC,CACH,CACA,sBAAuB,CACrB,IAAIpzB,EAAIiL,EACR,MAAMqoG,EAAc,KAAK,IAAI,EAAG,KAAK,YAAY,MAAM,CAAC,CAAC,EACzD,GAAIA,IAAgB,EAClB,MAAO,KAGT,MAAMmK,EAAc,IADHxyG,GAAMjL,EAAK,KAAK,WAAW,QAAU,KAAO,OAASA,EAAG,UAAY,KAAOiL,EAAK,GAE3FsY,EAAK,KAAK,IAAI,EAAG,CAAC+vF,CAAW,EACnC,MAAO,CAACA,EAAcmK,EAAcl6F,CACtC,CACA,OAAOuuD,EAAI,CACT,OAAOx2E,EAAQ,KAAM,UAAW,UAAW,CAAE,WAAAk2E,CAAW,EAAG,CACzD,KAAM,CAAE,MAAA11B,CAAM,EAAI,KAAK,WACjB8yB,EAA0B,CAC9B,gBAA+C4C,GAAW,MAC1D,iBAAgDA,GAAW,MAC7D,EACM3C,EAASxhE,GAAS,KAAK,qBAAsBuhE,CAAuB,GAAK,KAiB/E,GAhBIC,IACF,KAAK,sBAAwBD,GAE/B,MAAM,KAAK,qBAAqB,EAChC,KAAK,iBAAiB,EACtB,KAAK,kBAAkBC,CAAM,EAC7B,KAAK,aAAa,aAAe,KAAK,QACtC,KAAK,aAAa,aAAe,KAAK,QACtC,KAAK,eAAe,aAAe,KAAK,QACxC,KAAK,eAAe,aAAe,KAAK,QACxC,KAAK,gBAAgB,aAAe,KAAK,QACzC,KAAK,gBAAgB,aAAe,KAAK,QACrC,KAAK,aACP,KAAK,WAAW,aAAe,KAAK,QACpC,KAAK,WAAW,aAAe,KAAK,SAElC/yB,EAAO,CACT,MAAMv4B,EAAK,KAAK,qBAAqB,EAC/Bw+B,EAAWjG,EAAM,KAAK,YAAY,EACxCA,EAAM,KAAK,QAAUA,EAAM,SAAW,SAASv4B,CAAE,GAAK,CAAC,KAAK,gCAAgCw+B,EAAU,EAAGx+B,CAAE,EAC3Gu4B,EAAM,KAAK,aAAe,SAASv4B,CAAE,EAAIA,EAAK,CAChD,CACA,UAAWm6F,IAAU,CAAC,KAAK,iBAAkB,KAAK,gBAAgB,EAChEA,EAAO,YAAc,EACrBA,EAAO,OAAS,KAAK,WAAW,aAAa,MAC7CA,EAAO,YAAc,EACrBA,EAAO,cAAgB,EAEzB,KAAK,mBAAmB,EACxB,MAAM,KAAK,iBAAiB,EAC5B,MAAM,KAAK,YAAYlsC,CAAU,CACnC,CAAC,CACH,CACA,kBAAmB,CACjB,IAAIxxE,EAAIiL,EACR,KAAM,CAAE,SAAA0yG,CAAS,EAAI,KACf,CAAE,MAAA7hE,CAAM,EAAI,KAAK,WACnB6hE,IAAa7hE,IACX6hE,KACD39G,EAAK,KAAK,aAAe,MAAgBA,EAAG,YAAY29G,EAAS,IAAI,GAEpE7hE,IACFA,EAAM,KAAK,aAAe,UACzB7wC,EAAK,KAAK,aAAe,MAAgBA,EAAG,YAAY6wC,EAAM,IAAI,GAErE,KAAK,SAAWA,EAEpB,CACA,oBAAqB,CACnB,KAAK,SAAS,QAASl8C,GAAM,CAC3B,MAAMwzB,EAASxzB,EAAE,aAAeA,EAAE,YAAcA,EAAE,aAAe,EACjEA,EAAE,SAAW,CACX,EAAGA,EAAE,OAAS,KAAK,IAAI,EAAGwzB,CAAM,EAChC,EAAGxzB,EAAE,OAAS,KAAK,IAAI,EAAGwzB,CAAM,CAClC,CACF,CAAC,CACH,CACA,kBAAmB,CACjB,OAAO93B,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAM,KAAK,qBAAqB,EAChC,KAAK,2BAA2B,CAClC,CAAC,CACH,CACA,sBAAuB,CACrB,OAAOA,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,cAAAm7F,EAAe,mBAAAlS,EAAoB,sBAAAq5B,EAAuB,qBAAAC,EAAsB,qBAAAC,CAAqB,EAAI,KAC3G/U,EAAS,CAACn3E,EAAW9oB,IAAU,CACnC,IAAIi5E,EAAW,KAAK,SAChBj5E,IACFi5E,EAAWA,EAAS,IAAKr5D,GAAU7tB,EAAcD,EAAgB,CAAC,EAAG8tB,CAAK,EAAG,CAAE,aAAc9tB,EAAgB,CAAC,EAAG8tB,EAAM,YAAY,CAAE,CAAC,CAAC,GAEzIkJ,EAAU,OAAOmwD,EAAU,OAASr5D,GAAU,KAAK,WAAWA,CAAK,CAAC,EAChE,KAAK,IAAI,iBAAiB,UAAU,GACtCkJ,EAAU,QAAQ,CAEtB,EACAm3E,EAAOtS,EAAe,EAAK,EAC3BsS,EAAOxkB,EAAoB,EAAI,EAC/Bq5B,EAAsB,OAAO,KAAK,SAAW5tE,GAAW,CACtD,MAAM7I,EAAO,IAAI8Q,GACjB9Q,EAAK,IAAM,EACXA,EAAK,cAAgB,EACrB6I,EAAO,YAAY7I,CAAI,EACvB,MAAMO,EAAO,IAAI0D,GACjB1D,EAAK,IAAM,EACXA,EAAK,cAAgB,EACrBsI,EAAO,YAAYtI,CAAI,CACzB,CAAC,EACDm2E,EAAqB,OAAO,KAAK,SAAW7vG,GAAS,CACnDA,EAAK,cAAgB,CACvB,CAAC,EACD8vG,EAAqB,OAAO,KAAK,WAAW,YAAc9vG,GAAS,CACjEA,EAAK,cAAgB,CACvB,CAAC,CACH,CAAC,CACH,CACA,4BAA6B,CAC3B,KAAM,CAAE,YAAA+vG,CAAY,EAAI,KAAK,WAC7B,IAAI3qF,EAAS,EACb,MAAMwtD,EAAc,KAAK,eAAe,EACxC,GAAIA,EAAc,EAAG,CACnB,MAAMo9B,EAAe,KAAK,IAAIp9B,EAAa,KAAK,eAAe,CAAC,EAEhExtD,EAAS,KAAK,KAAK4qF,EAAe,EADN,CAC6B,CAC3D,CACA,MAAMC,EAASF,EAAc,CAAC,CAAE,OAAA3qF,CAAO,CAAC,EAAI,CAAC,EAC7C,KAAK,qBAAqB,OAAO6qF,CAAM,CACzC,CACA,YAAYzsC,EAAY,CACtB,OAAOl2E,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAMw9D,EAAmB,KAAK,IAAI,iBAAiB,mBAAmB,EAChEolD,EAAY,KAAK,SAAW,KAAK,kBAAkB,QAAQ,EAAI,GAAK,EAC1E,KAAK,UAAU,QAAUA,EACzB,KAAK,gBAAgB,QAAUA,EAC/B,KAAK,aAAa,QAAUA,EAC5B,KAAK,eAAe,QAAUA,GAAkDplD,GAAiB,SAAY,KACzG,KAAK,aACP,KAAK,WAAW,QAAUolD,GAE5B,KAAK,aAAa,QAAU,KAAK,WAAW,EAC5C,KAAK,qBAAqB,KAAK,CAAClwG,EAAM,CAAE,OAAAolB,CAAO,IAAM,CACnD,IAAIpzB,EAAIiL,EACR+C,EAAK,cAAc,CACjB,MAAOhO,EAAK,KAAK,WAAW,cAAgB,KAAO,OAASA,EAAG,KAC/D,SAAUiL,EAAK,KAAK,WAAW,cAAgB,KAAO,OAASA,EAAG,YAClE,KAAMmoB,CACR,CAAC,CACH,CAAC,EACD,MAAM+qF,EAAiB,CAAC3K,EAAQ9qF,EAAO01F,EAAQtM,IAAuB,CACpE,MAAMt0E,EAAU,KAAK,gBAAgB9U,EAAM,MAAOA,EAAM,OAAQopF,CAAkB,EAClFppF,EAAM,aAAa,KAAO8U,EAAQ,KAClC9U,EAAM,aAAa,OAAS8U,EAAQ,OACpC,MAAM6gF,EAAoB,KAAK,IAAI,iBAAiB,UAAU,EAC1DA,IACF7K,EAAO,WAAa9qF,EAAM,WAC1B8qF,EAAO,SAAW9qF,EAAM,SACxB8qF,EAAO,YAAc9qF,EAAM,YAC3B8qF,EAAO,YAAc9qF,EAAM,cAEzBopF,GAAsBuM,KACxB7K,EAAO,KAAOh2E,EAAQ,KACtBg2E,EAAO,OAASh2E,EAAQ,QAE1Bg2E,EAAO,YAAch2E,EAAQ,YAC7Bg2E,EAAO,YAAch2E,EAAQ,YAC7Bg2E,EAAO,cAAgB,KAAK,WAAW,cACvCA,EAAO,SAAW,KAAK,WAAW,SAClCA,EAAO,eAAiB,KAAK,WAAW,eACxCA,EAAO,WAAa,KAAK,WAAW,OACpCA,EAAO,aAAe,KAAK,WAAW,aACtCA,EAAO,MAAQ,KAAK,WAAW,eAAiB,MAAQ,KAAK,WAAW,eAAiBh2E,EAAQ,QAAU,KAAOA,EAAQ,YAAc,IAAM,EAAI,EAClJg2E,EAAO,SAAW,KAAK,WAAW,eAAiB,KAAO,QAAU,OACtE,EACA,KAAK,cAAc,KAAK,CAACxlG,EAAM0a,EAAOnkB,IAAU45G,EAAenwG,EAAM0a,EAAOnkB,EAAO,EAAK,CAAC,EACzF,KAAK,mBAAmB,KAAK,CAACyJ,EAAM0a,EAAOnkB,IAAU,CACnD,MAAMutG,EAA0Dh5C,GAAiB,SAAY,MAAQ9qD,EAAK,MAAM,SAAW8qD,EAAiB,OAC5IqlD,EAAenwG,EAAM0a,EAAOnkB,EAAO,EAAI,EACvCyJ,EAAK,QAAU8jG,CACjB,CAAC,EACD,KAAK,uBAAuB,EAC5B,KAAK,wBAAwBtgC,CAAU,EACvC,KAAK,uBAAuB,EAC5B,KAAK,sBAAsB,EAC3B,KAAK,mBAAmB,EACxB,KAAK,eAAe,WAAW,QAAQ,CACzC,CAAC,CACH,CACA,wBAAyB,CACvB,IAAIxxE,EACJ,KAAM,CAAE,YAAAs+G,CAAY,EAAI,KAAK,WACvBC,EAAgBD,EAAY,OAC5BE,EAAqBF,EAAY,YACjCG,GAAiBz+G,EAAKs+G,EAAY,SAAW,KAAOt+G,EAAK,KAAK,WAAW,QACzE,CAAE,OAAQQ,CAAQ,EAAI,KAAK,WAAW,aAC5C,KAAK,sBAAsB,YACzB,CAEF,EAAE,QAAQ,CAAC2mC,EAAM5iC,IAAU,CACzB,IAAI2Z,EACJ,MAAMwK,EAAQye,EAAK,MACb,CAAE,aAAc6J,EAAO,YAAAsiE,CAAY,EAAI5qF,EAC7C,GAA8BsoB,GAAM,MAAS,CAACA,EAAM,QAAUsiE,IAAgB,EAAG,CAC/EnsE,EAAK,QAAU,GACfA,EAAK,YAAcq3E,EACnBr3E,EAAK,OAASs3E,EAAcl6G,EAAQk6G,EAAc,MAAM,EACxDt3E,EAAK,KAAO,OACZ,MAAMzjB,EAAKgF,EAAM,OAAS4qF,EACpB3vF,EAAK+E,EAAM,OAAS4qF,EAC1B,IAAI1vF,EAAK8E,EAAM,QAAU4qF,EAAciL,GACnC16F,EAAK6E,EAAM,QAAU4qF,EAAciL,GAEvC,KADiBrgG,EAAM8yB,EAAM,qBAAuB,KAAO9yB,EAAM8yB,EAAM,mBAAqB,IAC7EA,EAAM,KAAO,KAAM,CAChC,MAAM3sB,EAAM2sB,EAAM,IAClB,IAAIvqB,EAAK7C,EACL8C,EAAK7C,EACLD,EAAKS,EAAI,EACXoC,EAAKpC,EAAI,EACAT,EAAKS,EAAI,EAAIA,EAAI,QAC1BoC,EAAKpC,EAAI,EAAIA,EAAI,OAEfR,EAAKQ,EAAI,EACXqC,EAAKrC,EAAI,EACAR,EAAKQ,EAAI,EAAIA,EAAI,SAC1BqC,EAAKrC,EAAI,EAAIA,EAAI,QAEnB,MAAMf,EAAKmD,EAAK7C,EACVL,EAAKmD,EAAK7C,EACVqV,EAAS,KAAK,KAAK,KAAK,IAAI5V,EAAI,CAAC,EAAI,KAAK,IAAIC,EAAI,CAAC,CAAC,EACpDm7F,EAAexlF,EAAS14B,EAC1Bk+G,EAAe,IACjB96F,EAAKA,EAAKN,EAAKo7F,EAAexlF,EAC9BrV,EAAKA,EAAKN,EAAKm7F,EAAexlF,EAElC,CACAiO,EAAK,GAAKzjB,EACVyjB,EAAK,GAAKxjB,EACVwjB,EAAK,GAAKvjB,EACVujB,EAAK,GAAKtjB,CACZ,MACEsjB,EAAK,QAAU,EAEnB,CAAC,CACH,CACA,iBAAiBO,EAAMrjB,EAAKmtD,EAAY,CACtC,MAAMmtC,EAAantC,EAAW,EAAI,KAAK,QACjCotC,EAAcptC,EAAW,EAAIA,EAAW,MAAQ,KAAK,QACrDqtC,EAAYrtC,EAAW,EAAI,KAAK,QAChCstC,EAAettC,EAAW,EAAIA,EAAW,OAAS,KAAK,QACvDutC,EAAQ,EACd,IAAIC,EAAkB,EAClB36F,EAAI,EAAI06F,EAAQJ,EAClBK,GAAmB36F,EAAI,EAAIA,EAAI,MAAQs6F,GAAct6F,EAAI,MAChDA,EAAI,EAAIA,EAAI,MAAQ06F,EAAQH,IACrCI,GAAmBJ,EAAcv6F,EAAI,GAAKA,EAAI,OAEhD,MAAM46F,EAAsB56F,EAAI,EAAI06F,EAAQF,GAAax6F,EAAI,EAAIA,EAAI,OAAS06F,EAAQD,EAChFI,EAAaF,IAAoB,EAAIt3E,EAAK,OAAS,KAAK,MAAMA,EAAK,OAASs3E,CAAe,EAAI,EAC/FG,EAA+B,KAAK,gCAAgC96F,CAAG,EAC7E,MAAO,CAAE,WAAA66F,EAAY,oBAAAD,EAAqB,6BAAAE,CAA6B,CACzE,CACA,gCAAgC96F,EAAKf,EAAK,EAAGC,EAAK,EAAG,CACnD,KAAM,CAAE,kBAAA67F,CAAkB,EAAI,KAC9B,GAAIA,GAAqB,KACvB,MAAO,GAET,MAAMC,EAAU,CACd,CAAE,EAAGh7F,EAAI,EAAIf,EAAI,EAAGe,EAAI,EAAId,CAAG,EAC/B,CAAE,EAAGc,EAAI,EAAIA,EAAI,MAAQf,EAAI,EAAGe,EAAI,EAAId,CAAG,EAC3C,CAAE,EAAGc,EAAI,EAAIA,EAAI,MAAQf,EAAI,EAAGe,EAAI,EAAIA,EAAI,OAASd,CAAG,EACxD,CAAE,EAAGc,EAAI,EAAIf,EAAI,EAAGe,EAAI,EAAIA,EAAI,OAASd,CAAG,CAC9C,EACM+7F,EAAO5kH,EAAM0kH,EAAmB,CAAC,EACvC,OAAOC,EAAQ,KAAME,GAAW7kH,EAAM6kH,EAAO,EAAG,CAAC,EAAI7kH,EAAM6kH,EAAO,EAAG,CAAC,EAAID,CAAI,CAChF,CACA,qCAAsC,CACpC,KAAM,CAAE,YAAAE,CAAY,EAAI,KAClB,CAAE,aAAAjD,EAAc,YAAA+B,CAAY,EAAI,KAAK,WACrC,CAAE,OAAQ99G,EAAS,WAAA0rC,CAAW,EAAIqwE,EAClC37B,EAAc4+B,EAAY,QAAQ,CAAC,EACnCC,EAAc/2F,GAEX,CADOA,EAAM,cACHA,EAAM,cAAgB,EAEnCg3F,EAAW,KAAK,SAChBvwG,EAAO,KAAK,SAAS,OAAQxF,GAAM,CAAC81G,EAAW91G,CAAC,CAAC,EASvD,GARAwF,EAAK,QAASuZ,GAAU,CACtB,MAAMsoB,EAAQtoB,EAAM,aAChBsoB,GAAS,OAEbA,EAAM,OAAS,GACfA,EAAM,mBAAqB,OAC3BA,EAAM,iBAAmB,EAC3B,CAAC,EACG7hC,EAAK,QAAU,EACjB,OAEF,MAAMwwG,EAAaxwG,EAAK,OAAQvP,GAAMA,EAAE,OAAS,CAAC,EAAE,KAAK,CAACtH,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,EAChFqnH,EAAczwG,EAAK,OAAQvP,GAAMA,EAAE,QAAU,CAAC,EAAE,KAAK,CAACtH,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,EAClFsnH,EAAY1wG,EAAK,OAAQvP,GAAM,CACnC,IAAII,EACJ,OAAOJ,EAAE,OAAS,KAAOI,EAAKJ,EAAE,eAAiB,KAAO,OAASI,EAAG,aAAe,QACrF,CAAC,EAAE,KAAK,CAAC1H,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,EAC/BunH,EAAe3wG,EAAK,OAAQvP,GAAM,CACtC,IAAII,EACJ,OAAOJ,EAAE,QAAU,KAAOI,EAAKJ,EAAE,eAAiB,KAAO,OAASI,EAAG,aAAe,QACtF,CAAC,EAAE,KAAK,CAAC1H,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,EAC/BwnH,EAAe,IAAI30E,GACnB40E,EAAet3F,GAAU,CAC7B,IAAI1oB,EACJ,MAAMgxC,EAAQtoB,EAAM,aACpB,GAAIsoB,GAAS,KACX,OAAO,IAAI1sB,EAAK,EAAG,EAAG,EAAG,CAAC,EAC5B,MAAM27F,EAAcv3F,EAAM,YAAc41F,EAAY,OAAS99G,EACvDhH,EAAIkvB,EAAM,OAASu3F,EACnB19F,EAAImG,EAAM,OAASu3F,EAAcjvE,EAAM,iBAC7C,OAAA+uE,EAAa,KAAO/uE,EAAM,KAC1B+uE,EAAa,EAAIvmH,EACjBumH,EAAa,EAAIx9F,EACjBw9F,EAAa,QAAQ,KAAK,WAAW,YAAY,EACjDA,EAAa,SAAS,CACpB,WAAY//G,EAAKgxC,EAAM,qBAAuB,KAAOhxC,EAAKgxC,EAAM,UAChE,aAAcA,EAAM,YACtB,CAAC,EACM+uE,EAAa,YAAY,CAClC,EACMG,EAA2B,CAAClvE,EAAOroB,EAAM+nB,IAAc,CAC3D,MAAMrsB,EAAM27F,EAAYhvE,CAAK,EAAE,KAAK9E,EAAa,CAAC,EAC5C5nC,EAAQ07G,EAAYr3F,CAAI,EAAE,KAAKujB,EAAa,CAAC,EAEnD,GADyB7nB,EAAI,EAAI/f,EAAM,EAAIA,EAAM,OAAS+f,EAAI,EAAIA,EAAI,MAAQ/f,EAAM,IAAMosC,IAAc,SAAWrsB,EAAI,EAAI/f,EAAM,EAAIA,EAAM,OAAS+f,EAAI,EAAIA,EAAI,OAAS/f,EAAM,GACzJ,CACpB,MAAMif,EAAKmtB,IAAc,SAAWrsB,EAAI,EAAI/f,EAAM,EAAIA,EAAM,OAAS+f,EAAI,EAAIA,EAAI,OAAS/f,EAAM,EAChGqkB,EAAK,aAAa,iBAAmBpF,CACvC,CACF,EACM48F,EAAoB5mE,GAAW,CACnC,MAAM6mE,EAAW7mE,EAAO,MAAM,EAAE,KAAK,CAACjhD,EAAGC,IAAM,KAAK,IAAID,EAAE,MAAM,EAAI,KAAK,IAAIC,EAAE,MAAM,CAAC,EAAE,CAAC,EACnF8nH,EAAW9mE,EAAO,QAAQ6mE,CAAQ,EACxC,QAAStnH,EAAIunH,EAAW,EAAGvnH,GAAK,EAAGA,IAAK,CACtC,MAAM0tD,EAAOjN,EAAOzgD,EAAI,CAAC,EACnB6vB,EAAO4wB,EAAOzgD,CAAC,EACrBonH,EAAyB15D,EAAM79B,EAAM,QAAQ,CAC/C,CACA,QAAS7vB,EAAIunH,EAAW,EAAGvnH,EAAIygD,EAAO,OAAQzgD,IAAK,CACjD,MAAM0tD,EAAOjN,EAAOzgD,EAAI,CAAC,EACnB6vB,EAAO4wB,EAAOzgD,CAAC,EACrBonH,EAAyB15D,EAAM79B,EAAM,WAAW,CAClD,CACF,EACM23F,EAAoB/mE,GAAW,CACnC,MAAMgnE,EAAyBpxG,EAAK,KAAMuZ,GAAUA,EAAM,aAAa,mBAAqB,CAAC,EACvFlF,EAAQ+1B,EAAO,IAAKvI,GAAUgvE,EAAYhvE,CAAK,CAAC,EAChDwvE,EAAch9F,EAAM,IAAKa,GAAQA,EAAI,MAAM,EAAE,KAAK6nB,EAAa,CAAC,CAAC,EACvE,IAAIu0E,EAAyB,GAC7B,QAAS3nH,EAAI,EAAGA,EAAI0nH,EAAY,QAAU,CAACC,EAAwB3nH,IAAK,CACtE,MAAMurB,EAAMm8F,EAAY1nH,CAAC,EACzB,QAASsF,EAAItF,EAAI,EAAGsF,EAAIm7C,EAAO,OAAQn7C,IAAK,CAC1C,MAAMkG,EAAQk8G,EAAYpiH,CAAC,EAC3B,GAAIimB,EAAI,aAAa/f,CAAK,EAAG,CAC3Bm8G,EAAyB,GACzB,KACF,CACF,CACF,CACA,MAAM3G,EAAU4F,EAAS,IAAKh3F,GAAU,CACtC,KAAM,CAAE,WAAA6J,EAAY,SAAAC,EAAU,YAAA8gF,CAAY,EAAI5qF,EAC9C,MAAO,CAAE,WAAA6J,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,CAC1D,CAAC,EACKoN,EAAuBl9F,EAAM,KAAMa,GAChCy1F,EAAQ,KAAMtG,GAAWM,GAAkBzvF,EAAKmvF,CAAM,CAAC,CAC/D,EACG,CAACiN,GAA0B,CAACF,GAA0B,CAACG,GAG3DnnE,EAAO,OAAQ35C,GAAMA,EAAE,aAAa,YAAc,QAAQ,EAAE,QAASA,GAAM,CACzE,MAAMoxC,EAAQpxC,EAAE,aACZA,EAAE,OAAS,EACboxC,EAAM,mBAAqB,QAClBpxC,EAAE,OAAS,EACpBoxC,EAAM,mBAAqB,OAE3BA,EAAM,mBAAqB,QAE/B,CAAC,CACH,EACAmvE,EAAiBR,CAAU,EAC3BQ,EAAiBP,CAAW,EAC5BU,EAAiBT,CAAS,EAC1BS,EAAiBR,CAAY,CAC/B,CACA,wBAAwBtuC,EAAY,CAClC,KAAM,CAAE,YAAAguC,CAAY,EAAI,KAClB,CAAE,aAAAjD,EAAc,YAAA+B,CAAY,EAAI,KAAK,WACrCC,EAAgBD,EAAY,OAC5B,CAAE,OAAQ99G,EAAS,MAAAgtB,CAAM,EAAI+uF,EAC7BwD,EAAe,IAAI30E,GACzB,KAAK,sBAAsB,YACzB,CAEF,EAAE,QAAS1D,GAAS,CAClB,IAAI1nC,EACJ,KAAM,CAAE,MAAA0oB,CAAM,EAAIgf,EACZsJ,EAAQtoB,EAAM,aACd0K,EAASosF,EAAY,QAAQ92F,EAAM,MAAM,EACzC4qF,EAAc,KAAK,IAAI,EAAGlgF,CAAM,EACtC,GAAI,CAA2B4d,GAAM,MAASsiE,IAAgB,GAAKtiE,EAAM,OAAQ,CAC/EtJ,EAAK,QAAU,GACf,MACF,CACA,MAAMu4E,EAAc3M,EAAciL,EAAgB/9G,EAC5ChH,EAAIkvB,EAAM,OAASu3F,EACnB19F,EAAImG,EAAM,OAASu3F,EAAcjvE,EAAM,iBACvCyB,EAAQ,CACZ,WAAYzyC,EAAKgxC,EAAM,qBAAuB,KAAOhxC,EAAKgxC,EAAM,UAChE,aAAcA,EAAM,YACtB,EACA+uE,EAAa,KAAO/uE,EAAM,KAC1B+uE,EAAa,EAAIvmH,EACjBumH,EAAa,EAAIx9F,EACjBw9F,EAAa,QAAQ,KAAK,WAAW,YAAY,EACjDA,EAAa,SAASttE,CAAK,EAC3B,MAAMpuB,EAAM07F,EAAa,YAAY,EACrC,IAAIY,EAAc3vE,EAAM,KACpBZ,EAAU,GACd,GAAImsE,EAAa,gBAAiB,CAChC,KAAM,CAAE,WAAA2C,EAAY,oBAAAD,CAAoB,EAAI,KAAK,iBAAiBjuE,EAAM,KAAM3sB,EAAKmtD,CAAU,EAC7FmvC,EAAc3vE,EAAM,KAAK,SAAWkuE,EAAaluE,EAAM,KAAO,GAAGA,EAAM,KAAK,UAAU,EAAGkuE,CAAU,CAAC,SACpG9uE,EAAU,CAAC6uE,CACb,CACAv3E,EAAK,KAAOi5E,EACZj5E,EAAK,EAAIluC,EACTkuC,EAAK,EAAInlB,EACTmlB,EAAK,QAAQ,KAAK,WAAW,YAAY,EACzCA,EAAK,SAAS+K,CAAK,EACnB/K,EAAK,KAAOla,EACZka,EAAK,QAAU0I,CACjB,CAAC,CACH,CACA,kBAAkB5xC,EAASgzE,EAAY,CACrC,OAAOl2E,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,aAAAihH,EAAc,YAAA+B,CAAY,EAAI,KAAK,WACrCC,EAAgBD,EAAY,OAC5B,CAAE,OAAQ99G,EAAS,mBAAAogH,EAAoB,WAAA10E,CAAW,EAAIqwE,EAC5D,GAAI,CAACA,EAAa,gBAChB,OAAO,KAET,MAAM,KAAK,qBAAqB,EAChC,KAAK,kBAAkB,EAAK,EAC5B,KAAK,oCAAoC,EACzC,MAAMsE,EAAY,CAAC,EACbn5E,EAAO,IAAI0D,GACjB,IAAI2W,EACJ,KAAM,CAAE,MAAAjG,CAAM,EAAI,KAAK,WACvB,GAA8BA,GAAM,MAASA,EAAM,QAAS,CAC1D,MAAMv4B,EAAK,KAAK,qBAAqB,EACjC,SAASA,CAAE,IACbmkB,EAAK,KAAOoU,EAAM,KAClBpU,EAAK,EAAI,EACTA,EAAK,EAAInkB,EACTmkB,EAAK,QAAQoU,CAAK,EAClBpU,EAAK,SAAS,CACZ,aAAc,SACd,UAAW,QACb,CAAC,EACDqa,EAAWra,EAAK,YAAY,EAC5Bm5E,EAAU,KAAK9+D,CAAQ,EAE3B,CAoDA,OAnDA,KAAK,SAAS,QAASr5B,GAAU,CAC/B,IAAI1oB,EACJ,MAAMgxC,EAAQtoB,EAAM,aACpB,GAAI,CAACsoB,GAAStoB,EAAM,cAAgB,EAClC,OAAO,KAET,MAAMu3F,EAAcv3F,EAAM,YAAc61F,EAAgB/9G,EAClDhH,EAAIkvB,EAAM,OAASu3F,EACnB19F,EAAImG,EAAM,OAASu3F,EAAcjvE,EAAM,iBAC7CtJ,EAAK,KAAOsJ,EAAM,KAClBtJ,EAAK,EAAIluC,EACTkuC,EAAK,EAAInlB,EACTmlB,EAAK,QAAQ,KAAK,WAAW,YAAY,EACzCA,EAAK,SAAS,CACZ,WAAY1nC,EAAKgxC,EAAM,qBAAuB,KAAOhxC,EAAKgxC,EAAM,UAChE,aAAcA,EAAM,YACtB,CAAC,EACD,MAAM3sB,EAAMqjB,EAAK,YAAY,EAE7B,GADAsJ,EAAM,IAAM3sB,EACR,KAAK,IAAI2sB,EAAM,gBAAgB,EAAI4vE,EAAoB,CACzD5vE,EAAM,OAAS,GACf,MACF,CACA,GAAI+Q,EAAU,CACZ,MAAM88D,EAAYrtC,EAAW,EAAI,KAAK,QAChCsvC,EAAiB,IAAIx8F,EACzBy9B,EAAS,EAAI7V,EACb2yE,EACA98D,EAAS,MAAQ,EAAI7V,EACrB6V,EAAS,EAAIA,EAAS,OAAS7V,EAAa2yE,CAC9C,EACA,GAAIx6F,EAAI,aAAay8F,CAAc,EAAG,CACpC9vE,EAAM,OAAS,GACf,MACF,CACF,CACA,GAAIxyC,EAAQ,kBAAmB,CAC7B,KAAM,CAAE,WAAA0gH,EAAY,oBAAAD,EAAqB,6BAAAE,CAA6B,EAAI,KAAK,iBAC7EnuE,EAAM,KACN3sB,EACAmtD,CACF,EACMuvC,EAAa/vE,EAAM,KAAK,OAAS,GAAKkuE,EAAa,EACzD,GAAID,GAAuB8B,GAAc5B,EAA8B,CACrEnuE,EAAM,OAAS,GACf,MACF,CACF,CACAA,EAAM,OAAS,GACf6vE,EAAU,KAAKx8F,CAAG,CACpB,CAAC,EACGw8F,EAAU,SAAW,EAChB,KAEFv8F,EAAK,MAAMu8F,CAAS,CAC7B,CAAC,CACH,CACA,wBAAyB,CACvB,KAAM,CAAE,YAAArB,CAAY,EAAI,KAClB5+B,EAAc4+B,EAAY,QAAQ,CAAC,EACnC,CAAE,SAAA71E,EAAU,UAAA4B,EAAW,WAAAC,EAAY,WAAAF,EAAY,eAAA01E,EAAgB,cAAAC,EAAe,MAAAzzF,CAAM,EAAI,KAAK,WAAW,YAC9G,KAAK,qBAAqB,KAAK,CAACka,EAAMhf,IAAU,CAC9C,KAAM,CAAE,YAAA8zF,EAAa,YAAAlJ,CAAY,EAAI5qF,EACrC,IAAIw4F,EAAgB,GACpB,GAAI1E,GAAelJ,IAAgB,EAAG,CACpC,MAAM2M,EAAcr/B,GAAe,EAAIqgC,GAAiB3N,EAAc2N,EAAgBD,EACtFt5E,EAAK,KAAOla,EACZka,EAAK,UAAY6D,EACjB7D,EAAK,WAAa8D,EAClB9D,EAAK,SAAWiC,EAChBjC,EAAK,WAAa4D,EAClB5D,EAAK,KAAO80E,EAAY,KACxB90E,EAAK,EAAIhf,EAAM,OAASu3F,EACxBv4E,EAAK,EAAIhf,EAAM,OAASu3F,EACxBv4E,EAAK,UAAY,SACjBA,EAAK,aAAe,SACpB,MAAMxhB,EAAOwhB,EAAK,YAAY,EACxB23E,EAAU,CACd,CAACn5F,EAAK,EAAGA,EAAK,CAAC,EACf,CAACA,EAAK,EAAIA,EAAK,MAAOA,EAAK,CAAC,EAC5B,CAACA,EAAK,EAAIA,EAAK,MAAOA,EAAK,EAAIA,EAAK,MAAM,EAC1C,CAACA,EAAK,EAAGA,EAAK,EAAIA,EAAK,MAAM,CAC/B,EACM,CAAE,WAAAqM,EAAY,SAAAC,CAAS,EAAI9J,EAC3By4F,EAAe,CAAE,WAAA5uF,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,EAClE+L,EAAQ,MAAM,CAAC,CAAC7lH,EAAG+oB,CAAC,IAAMgxF,GAAgB/5G,EAAG+oB,EAAG4+F,CAAY,CAAC,IAC/DD,EAAgB,GAEpB,CACAx5E,EAAK,QAAUw5E,CACjB,CAAC,CACH,CACA,uBAAwB,CACtB,MAAME,EAAa,CAAC,EACdC,EAAU,CAAC,EACjB,KAAK,qBAAqB,KAAK,CAAC35E,EAAMhf,IAAU,CAC9C,KAAM,CAAE,UAAA6iB,EAAW,WAAAC,EAAY,SAAA7B,EAAU,WAAA2B,EAAY,MAAA9d,CAAM,EAAI9E,EAC/Dgf,EAAK,UAAY6D,EACjB7D,EAAK,WAAa8D,EAClB9D,EAAK,SAAWiC,EAChBjC,EAAK,WAAa4D,EAClB5D,EAAK,KAAOhf,EAAM,KAClBgf,EAAK,EAAI,EACTA,EAAK,EAAI,EACTA,EAAK,KAAOla,EACZka,EAAK,UAAY,SACjBA,EAAK,aAAe,aACpB05E,EAAW,KAAK15E,EAAK,YAAY,CAAC,EAClC25E,EAAQ,KAAK34F,EAAM,MAAM,CAC3B,CAAC,EACD,MAAM44F,EAAgB/8G,GAAUA,IAAU,EAAI,EAAI88G,EAAQ98G,CAAK,EACzDg9G,EAAmBh9G,GAAUA,IAAU88G,EAAQ,OAAS,EAAI,EAAIA,EAAQ98G,CAAK,EAC7EijC,EAAc45E,EAAW,OAAO,CAACx2E,EAAM1kB,EAAMptB,IAC1C8xC,EAAO1kB,EAAK,OAASo7F,EAAaxoH,CAAC,EAAIyoH,EAAgBzoH,CAAC,EAC9D,CAAC,EACEywF,EAAa,KAAK,IAAI,GAAG63B,EAAW,IAAKl7F,GAASA,EAAK,KAAK,CAAC,EAC7D06D,EAAc,KAAK,eAAe,EAElC4gC,EADc,KAAK,KAAK,KAAK,IAAIj4B,EAAa,EAAG,CAAC,EAAI,KAAK,IAAI/hD,EAAc,EAAG,CAAC,CAAC,IAClDo5C,EAAc,EAAIA,EAAc,KAAK,eAAe,GACpF6gC,EAAc,CAAC,EACrB,QAAS3oH,EAAI,EAAG0tD,EAAO,CAAChf,EAAc,EAAG1uC,EAAIsoH,EAAW,OAAQtoH,IAAK,CAEnE,MAAMsrB,EADOg9F,EAAWtoH,CAAC,EACL,OAAS0tD,EAAO86D,EAAaxoH,CAAC,EAClD2oH,EAAY,KAAKr9F,CAAM,EACvBoiC,EAAOpiC,EAASm9F,EAAgBzoH,CAAC,CACnC,CACA,KAAK,qBAAqB,KAAK,CAAC4uC,EAAM4X,EAAQ/6C,IAAU,CACtDmjC,EAAK,EAAI+5E,EAAYl9G,CAAK,EAC1BmjC,EAAK,QAAU85E,CACjB,CAAC,CACH,CACA,oBAAqB,CACnB,KAAK,iBAAiB,KAAO,KAAK,eAAe,EAAI,EACrD,KAAK,iBAAiB,KAAO,KAAK,eAAe,EAAI,CACvD,CACA,mBAAmBr/B,EAAW,CAC5B,KAAM,CAAE,SAAA44B,EAAU,gBAAAE,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,WACpE,CAAE,YAAAqB,EAAa,aAAAD,EAAc,WAAAmF,CAAW,EAAIv/B,EAClD,GAAIg5B,GAAiBuG,IAAe,OAClC,OAAOA,EAAW,KACb,GAAIzG,GAAmBA,IAAoBF,GAA6CwB,GAAa,OAAU,OACpH,OAAOA,EAAa,KACf,GAAIrB,GAAkBA,IAAmBH,GAA4CyB,GAAY,OAAU,OAChH,OAAOA,EAAY,IAEvB,CACA,qBAAqBn1E,EAAO,CAC1B,OAAOwyE,GAAoB,KAAMxyE,CAAK,CACxC,CACA,eAAe86C,EAAW,CACxB,IAAIniF,EACJ,GAAI,CAAC,KAAK,WAAW,QAAQ,EAC3B,OAAOw7C,GAET,KAAM,CACJ,MAAA9yB,EACA,WAAAszF,EACA,aAAc,CAAE,KAAMxuF,CAAM,EAC5B,OAAA0pC,CACF,EAAIirB,EACErmC,EAAQqgD,IAAcn8F,EAAK,KAAK,WAAW,QAAU,KAAO,OAASA,EAAG,IAAI,EAC5EqyC,EAAU3qC,GAAes0G,CAAU,EAAIl6F,GAAQk6F,CAAU,EAAI,OAAOA,CAAU,EAC9E7mB,EAAY,KAAK,mBAAmBhT,CAAS,EACnD,OAAO,KAAK,WAAW,QAAQ,cAC7B,CACE,MAAOrmC,GAAwBq5C,EAC/B,QAASr5C,GAASq5C,EAAY,GAAGA,CAAS,KAAK9iD,CAAO,GAAKA,EAC3D,gBAAiB7kB,CACnB,EACA,CACE,MAAA9E,EACA,OAAAwuC,EACA,MAAApb,EACA,MAAAtuB,EACA,SAAU,KAAK,GACf,SAAU,KAAK,WAAW,SAC1B,UAAW,KAAK,WAAW,UAC3B,UAAW,KAAK,WAAW,UAC3B,WAAY,KAAK,WAAW,WAC5B,gBAAiB,KAAK,WAAW,gBACjC,iBAAkB,KAAK,WAAW,iBAClC,eAAgB,KAAK,WAAW,eAChC,gBAAiB,KAAK,WAAW,gBACjC,cAAe,KAAK,WAAW,aACjC,CACF,CACF,CACA,cAAcnd,EAAY,CACxB,IAAIrQ,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,KAAM,CAAE,QAAAizB,EAAS,cAAAguB,EAAe,UAAA8E,CAAU,EAAI,KAC9C,GAAI,CAACA,GAAa,CAAmC9E,GAAc,KAAK,QAAW,CAAC,KAAK,WAAW,QAAQ,GAAK/tD,IAAe,WAC9H,MAAO,CAAC,EAEV,KAAM,CAAE,SAAA0qG,EAAU,gBAAAE,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,WAC1E,GAAI,CAACA,IAAkB,CAACF,GAAmBA,IAAoBF,KAAc,CAACG,GAAkBA,IAAmBH,GACjH,MAAO,CAAC,EACV,KAAM,CAAE,gBAAAW,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,wBAAwB14C,CAAS,EAC3Fy+C,IAAc3hH,EAAK,KAAK,WAAW,QAAU,KAAO,OAASA,EAAG,eAAiB,KAAK,WAAW,MAAM,KACvGs0E,EAAa,CAAC,EACpB,QAAS/vE,EAAQ,EAAGA,EAAQ65D,EAAc,KAAK,OAAQ75D,IAAS,CAC9D,KAAM,CAAE,MAAAmkB,EAAO,OAAA7P,CAAO,EAAIulD,EAAc,KAAK75D,CAAK,EAC5Cq9G,EAAa,CAAC,EAChBD,GACFC,EAAW,KAAKD,CAAS,EAE3B,MAAMpoE,EAAS,KAAK,UAClB7wB,EACA,EAAI,KAAK,GACT,EAAI,KAAK,GACT,GACA7P,EAAO6iG,CAAe,EACtB7iG,EAAO8iG,CAAc,EACrB9iG,EAAO+iG,CAAa,CACtB,EAQA,GAPIT,GAAiB5hE,EAAO,aAAe,OACzCqoE,EAAW,KAAKroE,EAAO,WAAW,IAAI,EAC7B0hE,GAAmBA,IAAoBF,KAAc9vG,EAAKsuC,EAAO,eAAiB,KAAO,OAAStuC,EAAG,QAAU,OACxH22G,EAAW,MAAM12G,EAAKquC,EAAO,eAAiB,KAAO,OAASruC,EAAG,IAAI,EAC5DgwG,GAAkBA,IAAmBH,KAAcnvG,EAAK2tC,EAAO,cAAgB,KAAO,OAAS3tC,EAAG,QAAU,QACrHg2G,EAAW,MAAMzkG,EAAKo8B,EAAO,cAAgB,KAAO,OAASp8B,EAAG,IAAI,EAElEykG,EAAW,SAAW,EACxB,SACF,MAAMzF,EAAe,KAAK,gBAAgBzzF,EAAOnkB,EAAO,EAAK,EAC7D+vE,EAAW,KAAK,CACd,WAAY,WACZ,GAAI,KAAK,GACT,OAAQ/vE,EACR,SAAU,KAAK,GACf,QAAS6rC,GAAW,KAAK,kBAAkB7rC,CAAK,EAChD,MAAO,CACL,KAAMq9G,EAAW,KAAK,KAAK,CAC7B,EACA,OAAQ,CACN,KAAMzF,EAAa,KACnB,OAAQA,EAAa,OACrB,YAAa,KAAK,WAAW,YAC7B,cAAe,KAAK,WAAW,cAC/B,YAAa,KAAK,WAAW,WAC/B,EACA,eAAgBhB,GAAiB,KAAOzyF,EAAMyyF,CAAa,EAAI,MACjE,CAAC,CACH,CACA,OAAO7mC,CACT,CACA,kBAAkBtiC,EAAO,CACvB,KAAM,CAAE,QAAA3B,EAAS,OAAA6mB,EAAQ,OAAA7qD,EAAQ,eAAA8qD,CAAe,EAAInlB,EAChD3lC,EAAO,KAAO,KAAK,GACrB,KAAK,iBAAiB6qD,EAAQ7mB,CAAO,EAC5B8mB,GAAkB,MAC3B,KAAK,uBAAuBA,EAAgB9mB,CAAO,CAEvD,CACA,iBAAiB6mB,EAAQ7mB,EAAS,CAChC,KAAK,kBAAkB6mB,CAAM,EAAI7mB,EACjC,KAAK,gBAAkB,EACzB,CACA,uBAAuB8mB,EAAgB9mB,EAAS,CAC9C,IAAIrwC,EACJ,GAAI,CAAC,KAAK,WAAW,eAAiB,CAAC,KAAK,UAC1C,OAEF,MAAM47G,EAAgB,KAAK,UAAU,8BAA8B,KAAM,iBAAiB,GACzF57G,EAAK,KAAK,gBAAkB,MAAgBA,EAAG,KAAK,QAAQ,CAAC,CAAE,OAAA6Y,CAAO,EAAGgpG,IAAgB,CACpFhpG,EAAO+iG,CAAa,IAAMzkD,GAC5B,KAAK,iBAAiB0qD,EAAaxxE,CAAO,CAE9C,CAAC,CACH,CACA,wBAAwBoqE,EAAO,CAC7B,KAAM,CAAE,iBAAAzqF,CAAiB,EAAI,KAAK,IAC5B9wB,EAAM+5G,GACV,GACA,KAAK,WAAW,SAChB,KAAK,YACL,KAAK,mBACP,EACAv4F,GAAa,KAAK,GAAI,QAASsP,EAAkB,CAAC,KAAK,cAAe,KAAK,kBAAkB,EAAG9wB,EAAI,KAAK,EACzGwhB,GAAa,KAAK,GAAI,cAAesP,EAAkB,CAAC,KAAK,oBAAoB,EAAG9wB,EAAI,WAAW,EACnGk9F,GAA2B,KAAM,UAAWpsE,EAAkB,KAAK,qBAAqB,EACxFosE,GAA2B,KAAM,SAAUpsE,EAAkB,KAAK,oBAAoB,EACtFosE,GAA2B,KAAM,QAASpsE,EAAkB,KAAK,oBAAoB,EACrF,KAAK,oBAAoB,MAAQ,KAAK,YAAY,KACpD,CACA,2BAA4B,CAC1B,IAAIhwB,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EACxB,KAAM,CAAE,cAAAsnE,EAAe,mBAAAlS,EAAoB,cAAAnmB,EAAe,YAAAohD,EAAa,oBAAAsC,CAAoB,EAAI,KACzF,CAAE,iBAAA9xF,CAAiB,EAAI,KAAK,IAC5B09E,GAAY1tG,EAAsCo+D,GAAc,UAAY,KAAO,OAASp+D,EAAG,KACrG,KAAK,IAAI,iBAAiB,uBAAuB,KAAK,EAAE,EACxD,MAAM+hH,IAAkB92G,EAAiCyiG,GAAS,MAAM,OAAS,KAAOziG,EAAK,KAAO,EAC9F+2G,IAAY92G,EAAsCkzD,GAAc,KAAK,KAAK,SAAW,KAAOlzD,EAAK,GAAK,EACtG+2G,GAAiB9yF,GAAMhS,GAAMvR,EAAsCwyD,GAAc,UAAY,KAAO,OAASxyD,EAAG,sBAAwB,KAAO,OAASuR,EAAG,aAAe,KAAOgS,EAAK,IACxL,CAAC4yF,GAAiB,CAACC,GAAW,CAACC,IACjC,KAAK,IAAI,iBAAiB,iBAAiB,EAE7C,MAAM/iH,EAAM+5G,GACV,GACA,KAAK,WAAW,SAChBuG,EACAsC,CACF,EACAphG,GACE,KAAK,GACL,QACAsP,EACA,CAACymE,EAAelS,CAAkB,EAClCrlF,EAAI,MACJ,CAACwd,EAAGgM,IAAU,KAAK,WAAWA,CAAK,EACnCglF,CACF,EACAhtF,GAAa,KAAK,GAAI,cAAesP,EAAkB,CAAC,KAAK,oBAAoB,EAAG9wB,EAAI,WAAW,EACnGk9F,GAA2B,KAAM,UAAW,KAAK,IAAI,iBAAkB,KAAK,qBAAqB,EACjGA,GAA2B,KAAM,SAAU,KAAK,IAAI,iBAAkB,KAAK,oBAAoB,EAC/FA,GAA2B,KAAM,QAAS,KAAK,IAAI,iBAAkB,KAAK,oBAAoB,EAC9F,KAAK,oBAAoB,MAAQ,KAAK,YAAY,KACpD,CACA,4BAA6B,CAC3B,KAAM,CAAE,cAAA3F,EAAe,mBAAAlS,EAAoB,YAAAi7B,EAAa,oBAAAsC,CAAoB,EAAI,KAC1E,CAAE,iBAAA9xF,CAAiB,EAAI,KAAK,IAC5B9wB,EAAM+5G,GACV,GACA,KAAK,WAAW,SAChBuG,EACAsC,CACF,EACAphG,GAAa,KAAK,GAAI,QAASsP,EAAkB,CAACymE,EAAelS,CAAkB,EAAGrlF,EAAI,KAAK,EAC/FwhB,GAAa,KAAK,GAAI,cAAesP,EAAkB,CAAC,KAAK,oBAAoB,EAAG9wB,EAAI,WAAW,EACnGo9F,GAA4B,KAAM,UAAW,KAAK,IAAI,iBAAkB,KAAK,qBAAqB,EAClGA,GAA4B,KAAM,SAAU,KAAK,IAAI,iBAAkB,KAAK,oBAAoB,EAChGA,GAA4B,KAAM,QAAS,KAAK,IAAI,iBAAkB,KAAK,oBAAoB,EAC/F,KAAK,oBAAoB,MAAQ,KAAK,YAAY,KACpD,CACA,mBAAmB5zE,EAAO,CACxB,IAAI1oB,EAAIiL,EAAIC,EACZ,KAAM,CAAE,gBAAA+vG,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,WAChE,IAAOjwG,GAAMD,GAAMjL,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,sBAAwB,MAAgBC,EAAG,WAG5I,IAAIiwG,EACF,OAAOzyF,EAAMyyF,CAAa,EACrB,GAAIF,EACT,OAAOvyF,EAAMuyF,CAAe,EACvB,GAAIC,EACT,OAAOxyF,EAAMwyF,CAAc,EAE/B,CACA,WAAWxyF,EAAO,CAChB,KAAM,CAAE,MAAAnkB,CAAM,EAAImkB,EACZuuB,EAAU,KAAK,mBAAmBvuB,EAAM,KAAK,EACnD,OAAOuuB,GAAW,KAAO,OAAOA,CAAO,EAAI,GAAG1yC,CAAK,EACrD,CACA,cAAe,CACb,IAAIvE,EACJ,KAAM,CAAE,KAAAmP,EAAM,kBAAA6yE,CAAkB,EAAI,KACpC,KAAK,mBAAqBhiF,EAA6BmP,GAAK,IAAI,CAACuN,EAAGnY,IAAU,CAC5E,IAAI2Z,EACJ,OAAQA,EAAM8jE,EAAkBz9E,CAAK,IAAM,KAAO2Z,EAAM,EAC1D,CAAC,IAAM,KAAOle,EAAK,CAAC,CACtB,CACA,mBAAmB8N,EAAM,CACvB,OAAOisG,GAAyB,KAAMjsG,CAAI,CAC5C,CACF,EACA6sG,GAAY,UAAY,cACxBA,GAAY,KAAO,QACnB,IAAIuH,GAAW,CACb,OAAQ,CACN,YAAatwG,GACb,MAAO,CACL,QAAS,GACT,UAAW,OACX,WAAY,SACZ,SAAU,GACV,WAAYE,GACZ,MAAOI,GACP,QAAS,CACX,EACA,aAAc,CACZ,QAAS,GACT,UAAW,OACX,WAAY,OACZ,SAAU,GACV,WAAYJ,GACZ,MAAOC,GACP,OAAQ,EACR,SAAU,CACZ,EACA,YAAa,CACX,QAAS,GACT,UAAW,OACX,WAAY,SACZ,SAAU,GACV,WAAYD,GACZ,MAAOG,GACP,eAAgB,EAChB,cAAe,EACjB,EACA,YAAa,CACX,OAAQ,GACR,YAAa,CACf,EACA,YAAa,EACb,cAAe,EACf,YAAa,EACb,SAAU,CAAC,CAAC,EACZ,eAAgB,EAChB,SAAU,EAGV,OAAQ,CACN,QAAS,GACT,MAAOM,GACP,QAAS,EACT,QAAS,EACT,KAAM,CACR,EACA,YAAa,CACX,UAAW,OACX,WAAY,OACZ,SAAU,GACV,WAAYT,GACZ,MAAOC,GACP,OAAQ,CACV,EAGA,8BAA+BO,EACjC,CACF,EACI6vG,GAAoB,CAAC,CAAE,WAAA1mB,EAAY,YAAA2mB,EAAa,YAAA1kG,CAAY,IAAM,CACpE,KAAM,CAAE,MAAArF,EAAO,QAAAC,CAAQ,EAAImjF,EAAW2mB,CAAW,EACjD,MAAO,CACL,MAAA/pG,EACA,QAASqF,EAAcpF,EAAU,CAAC,EAClC,YAAa,CACX,OAAQA,CACV,CACF,CACF,EACI+pG,GAAoB,CACtB,KAAM,SACN,WAAY,WACZ,YAAa,YACb,WAAY,CAAC,OAAO,EACpB,WAAY,QACZ,oBAAqB1H,GACrB,cAAeuH,GACf,eAAgBC,EAClB,EACIG,GAAW,cAAcvkE,EAAQ,CACnC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,aAAe,EACtB,CACF,EACA5iD,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGosF,GAAS,UAAW,eAAgB,CAAC,EACxC,IAAIC,GAAmB,cAAc92E,EAAM,CACzC,IAAIh/B,EAAYisG,EAAQ,CACtB,OAAO,MAAM,IAAIjsG,CAAU,CAC7B,CACF,EACAtR,EAAiB,CACf+kB,GAAW,4BAA4B,EACvC4U,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGmsF,GAAiB,UAAW,OAAQ,CAAC,EACxCpnH,EAAiB,CACf+kB,GAAW,4BAA4B,EACvC4U,EAASuB,GAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGksF,GAAiB,UAAW,SAAU,CAAC,EAC1C,IAAIC,GAAoB,cAAch2G,EAAe,CACrD,EACArR,EAAiB,CACf+kB,GAAW,4BAA4B,EACvC4U,EAASyC,GAAc,CAAE,SAAU,EAAK,CAAC,CAC3C,EAAGirF,GAAkB,UAAW,OAAQ,CAAC,EACzCrnH,EAAiB,CACf+kB,GAAW,4BAA4B,EACvC4U,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAG+rF,GAAkB,UAAW,cAAe,CAAC,EAChD,IAAIC,GAAwB,cAAch3E,EAAM,CAC9C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,EACd,KAAK,SAAW,EAChB,KAAK,WAAa,EAClB,KAAK,mBAAqB,GAC1B,KAAK,gBAAkB,EACzB,CACF,EACAtwC,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGisF,GAAsB,UAAW,SAAU,CAAC,EAC/CtnH,EAAiB,CACf25B,EAAS4B,EAAM,CACjB,EAAG+rF,GAAsB,UAAW,WAAY,CAAC,EACjDtnH,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGisF,GAAsB,UAAW,aAAc,CAAC,EACnDtnH,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGisF,GAAsB,UAAW,qBAAsB,CAAC,EAC3DtnH,EAAiB,CACf25B,EAASoB,CAAO,CAClB,EAAGusF,GAAsB,UAAW,kBAAmB,CAAC,EACxD,IAAIC,GAAuB,cAAcj3E,EAAM,CAC7C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,eAAiB,EACtB,KAAK,cAAgB,EACvB,CACF,EACAtwC,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAGqsF,GAAqB,UAAW,iBAAkB,CAAC,EACtDvnH,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGisF,GAAqB,UAAW,gBAAiB,CAAC,EACrD,IAAIC,GAAuB,cAAcn2G,EAAe,CACtD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,OAAS,GACd,KAAK,YAAc,CACrB,CACF,EACArR,EAAiB,CACf25B,EAAS0C,GAAoB,CAAE,SAAU,EAAK,CAAC,CACjD,EAAGmrF,GAAqB,UAAW,SAAU,CAAC,EAC9CxnH,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGmsF,GAAqB,UAAW,SAAU,CAAC,EAC9CxnH,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGmsF,GAAqB,UAAW,cAAe,CAAC,EACnD,IAAIC,GAAsB,cAAcpgC,EAAiB,CACvD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,OAAO,OAAOnxE,EAAa,EACxC,KAAK,QAAU,OAAO,OAAOC,EAAe,EAC5C,KAAK,YAAc,EACnB,KAAK,cAAgB,EACrB,KAAK,SAAW,CAAC,CAAC,EAClB,KAAK,eAAiB,EACtB,KAAK,aAAe,EACpB,KAAK,SAAW,EAChB,KAAK,kBAAoB,EACzB,KAAK,iBAAmB,EACxB,KAAK,YAAc,EACnB,KAAK,cAAgB,OACrB,KAAK,YAAc,IAAIzE,GAAgB01G,EAAgB,EACvD,KAAK,MAAQ,IAAID,GACjB,KAAK,YAAc,IAAIE,GACvB,KAAK,OAAS,IAAI/lB,GAClB,KAAK,aAAe,IAAIgmB,GACxB,KAAK,YAAc,IAAIC,GACvB,KAAK,YAAc,IAAIC,GACvB,KAAK,QAAU,IAAI9lB,GACnB,KAAK,8BAAgC,MACvC,CACF,EACA1hG,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGwsF,GAAoB,UAAW,WAAY,CAAC,EAC/CznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,YAAa,CAAC,EAChDznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,YAAa,CAAC,EAChDznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,aAAc,CAAC,EACjDznH,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGosF,GAAoB,UAAW,YAAa,CAAC,EAChDznH,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGosF,GAAoB,UAAW,YAAa,CAAC,EAChDznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,kBAAmB,CAAC,EACtDznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,mBAAoB,CAAC,EACvDznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,iBAAkB,CAAC,EACrDznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,kBAAmB,CAAC,EACtDznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,gBAAiB,CAAC,EACpDznH,EAAiB,CACf25B,EAAS0C,EAAkB,CAC7B,EAAGorF,GAAoB,UAAW,QAAS,CAAC,EAC5CznH,EAAiB,CACf25B,EAAS0C,EAAkB,CAC7B,EAAGorF,GAAoB,UAAW,UAAW,CAAC,EAC9CznH,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGmsF,GAAoB,UAAW,cAAe,CAAC,EAClDznH,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGmsF,GAAoB,UAAW,gBAAiB,CAAC,EACpDznH,EAAiB,CACf25B,EAASmD,EAAS,CACpB,EAAG2qF,GAAoB,UAAW,WAAY,CAAC,EAC/CznH,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGosF,GAAoB,UAAW,iBAAkB,CAAC,EACrDznH,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGosF,GAAoB,UAAW,eAAgB,CAAC,EACnDznH,EAAiB,CACf25B,EAASqB,GAAU,CAAE,SAAU,EAAK,CAAC,CACvC,EAAGysF,GAAoB,UAAW,YAAa,CAAC,EAChDznH,EAAiB,CACf25B,EAAS4B,EAAM,CACjB,EAAGksF,GAAoB,UAAW,WAAY,CAAC,EAC/CznH,EAAiB,CACf25B,EAASuB,EAAM,CACjB,EAAGusF,GAAoB,UAAW,oBAAqB,CAAC,EACxDznH,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGmsF,GAAoB,UAAW,mBAAoB,CAAC,EACvDznH,EAAiB,CACf+kB,GAAW,4BAA4B,EACvC4U,EAASuB,GAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGusF,GAAoB,UAAW,oBAAqB,CAAC,EACxDznH,EAAiB,CACf+kB,GAAW,4BAA4B,EACvC4U,EAAS2B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAGmsF,GAAoB,UAAW,mBAAoB,CAAC,EACvDznH,EAAiB,CACf25B,EAAS0B,CAAe,CAC1B,EAAGosF,GAAoB,UAAW,cAAe,CAAC,EAClDznH,EAAiB,CACf25B,EAAS0B,EAAiB,CAAE,SAAU,EAAK,CAAC,CAC9C,EAAGosF,GAAoB,UAAW,gBAAiB,CAAC,EACpDznH,EAAiB,CACf25B,EAAS+C,EAAY,CACvB,EAAG+qF,GAAoB,UAAW,cAAe,CAAC,EAClDznH,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG6sF,GAAoB,UAAW,QAAS,CAAC,EAC5CznH,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG6sF,GAAoB,UAAW,cAAe,CAAC,EAClDznH,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG6sF,GAAoB,UAAW,SAAU,CAAC,EAC7CznH,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG6sF,GAAoB,UAAW,eAAgB,CAAC,EACnDznH,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG6sF,GAAoB,UAAW,cAAe,CAAC,EAClDznH,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG6sF,GAAoB,UAAW,cAAe,CAAC,EAClDznH,EAAiB,CACf25B,EAASiB,CAAM,CACjB,EAAG6sF,GAAoB,UAAW,UAAW,CAAC,EAC9CznH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGwsF,GAAoB,UAAW,gCAAiC,CAAC,EACpE,IAAIC,GAAqB,cAAcv2C,EAAgB,CACrD,YAAYliE,EAAMw4E,EAAal6D,EAAOrc,EAAQ,CAC5C,MAAMjC,EAAMw4E,EAAal6D,EAAOrc,CAAM,EACtC,KAAK,SAAWA,EAAO,WAAW,SAClC,KAAK,UAAYA,EAAO,WAAW,UACnC,KAAK,gBAAkBA,EAAO,WAAW,gBACzC,KAAK,eAAiBA,EAAO,WAAW,cAC1C,CACF,EACIy2G,GAAY,cAAczI,EAAY,CACxC,YAAYr8D,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,UAAW,CACT,CAEF,EACA,cAAe,GACf,kBAAmB,CAAE,KAAM47D,GAAsB,MAAOrd,EAAa,CACvE,CAAC,EACD,KAAK,WAAa,IAAIqmB,GACtB,KAAK,oBAAsB,IAAIv4B,GAC/B,KAAK,YAAc,IAAIA,GACvB,KAAK,gBAAkB,KAAK,UAAU,YACpC,IAAIrmD,EAAM,CACR,KAAM,GAAG,KAAK,EAAE,cAChB,MAAO,GACP,OAAQ,CAEV,CAAC,CACH,EACA,KAAK,kBAAoB,KAAK,gBAAgB,YAAY,IAAIA,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,eAAgB,CAAC,CAAC,EACxG,KAAK,iBAAmB,KAAK,kBAAkB,YAAY,IAAI07C,EAAQ,EACvE,KAAK,iBAAmB,KAAK,kBAAkB,YAAY,IAAIA,EAAQ,EACvE,KAAK,iBAAmB,KAAK,gBAAgB,YAAY,IAAI17C,EAAM,CAAE,KAAM,GAAG,KAAK,EAAE,cAAe,CAAC,CAAC,EACtG,KAAK,kBAAoB,CAAC,EAC1B,KAAK,kBAAoB,OACzB,KAAK,UAAY6+E,GACjB,KAAK,WAAa,IAAIx4B,GACtB,KAAK,WAAW,OAAS,CAAC,EAAG,CAAC,EAC9B,KAAK,WAAW,MAAQ,CAAC,CAAC,KAAK,GAAI,KAAK,EAAE,EAAE,IAAKh3D,GAAUA,EAAQ,KAAK,GAAK,CAAC,EAC9E,MAAMunF,EAAmB,IAAI52E,EAAM,CAAE,KAAM,kBAAmB,CAAC,EACzD62E,EAAkB,IAAI72E,EAAM,CAAE,KAAM,iBAAkB,CAAC,EACvD82E,EAAc,IAAI92E,EAAM,CAAE,KAAM,aAAc,CAAC,EACrD,KAAK,WAAW,OAAO42E,CAAgB,EACvC,KAAK,WAAW,OAAOC,CAAe,EACtC,KAAK,WAAW,OAAOC,CAAW,EAClC,KAAK,sBAAwBzkE,GAAU,OAAOukE,EAAkB52E,CAAK,EACrE,KAAK,qBAAuBqS,GAAU,OAAOwkE,EAAiBzvE,EAAI,EAClE,KAAK,qBAAuBiL,GAAU,OAAOykE,EAAa1vE,EAAI,EAC9D,KAAK,qBAAuBiL,GAAU,OAAO,KAAK,iBAAkBqpC,EAAM,CAC5E,CACA,wBAAyB,CACvB,IAAI1/E,EACJ,KAAK,WAAW,MACbA,EAAK,KAAK,IAAI,oBAAsB,KAAO,OAASA,EAAG,YAAY,oBAAsBgyC,GAAU,KAAK,kBAAkBA,CAAK,CAAC,CACnI,CACF,CACA,IAAI,SAAU,CACZ,OAAO,MAAM,UAAY,KAAK,kBAAkB,SAAW,GAAK,KAAK,kBAAkB,KAAM5B,GAAYA,CAAO,EAClH,CACA,aAAc,CACZ,OAAO,IAAIolE,EACb,CACA,gBAAgB9kE,EAAW,CACzB,OAAIA,IAAc,IACT,KAAK,WAAW,OAEhB,KAAK,YAAY,MAE5B,CACA,YAAYujC,EAAgB,CAC1B,OAAO34E,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,GAAI,KAAK,MAAQ,MAAQ,CAAC,KAAK,WAAW,QAAQ,EAChD,OAEF,GAAI,CAAE,KAAAhO,CAAK,EAAI,KACf,KAAM,CAAE,QAAAihC,EAAS,kBAAA4xC,CAAkB,EAAI,KACjC,CAAE,SAAA+4B,EAAU,UAAAC,EAAW,gBAAAC,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,WAC/E12B,EAAmB,CAAC,KAAK,IAAI,iBAAiB,UAAU,EACxD22B,EAAgB,CAAC,EACjB5V,EAAa,CAAC,EAChB2V,EACFC,EAAc,KAAKtvC,GAAYqvC,EAAe,OAAQ,CAAE,GAAI,eAAgB,CAAC,CAAC,EACrEF,EACTG,EAAc,KAAKtvC,GAAYmvC,EAAiB,OAAQ,CAAE,GAAI,iBAAkB,CAAC,CAAC,EACzEC,GACTE,EAAc,KAAKtvC,GAAYovC,EAAgB,OAAQ,CAAE,GAAI,gBAAiB,CAAC,CAAC,EAElF,MAAMG,EAAkB,KAAK,YAAY,KACnCC,EAAiB,KAAK,YAAY,KACpCN,GACFxV,EAAW,KACTv5B,GAAoB+uC,EAAW,CAC7B,GAAI,cACJ,KAAMh7G,EAAK,KAAK,WAAW,YAAc,KAAOA,EAAK,EACrD,IAAK,KAAK,WAAW,SACvB,CAAC,EACDgsE,GAAcgvC,EAAWK,EAAiB,CAAE,GAAI,WAAY,CAAC,EAE7DzxC,GACE,CAAE,GAAI,aAAc,EACpB,CAAC,EAAG,CAAC,EACL,GACC3+D,EAAK,KAAK,WAAW,YAAc,KAAOA,EAAK,EAChD,KAAK,WAAW,SAClB,CACF,EAEEgwG,GACFzV,EAAW,KAAKx5B,GAAcivC,EAAiB,OAAQ,CAAE,GAAI,mBAAoB,CAAC,CAAC,EAEjFC,GACF1V,EAAW,KAAKx5B,GAAckvC,EAAgB,OAAQ,CAAE,GAAI,kBAAmB,CAAC,CAAC,EAE/EC,GACF3V,EAAW,KAAKx5B,GAAcmvC,EAAe,OAAQ,CAAE,GAAI,iBAAkB,CAAC,CAAC,EAE7E12B,GAAoB,KAAK,eAAiB22B,EAAc,OAAS,GACnE5V,EAAW,KAAKz6B,GAAK,KAAK,aAAa,CAAC,EAE1Cy6B,EAAW,KAAK37B,GAAoB,CAAC,EACrC16D,EAAOA,EAAK,IAAI,CAACvP,EAAG2iC,IAAQ6N,GAAW4xC,EAAkBz/C,CAAG,EAAI3iC,EAAI/E,EAAcD,EAAgB,CAAC,EAAGgF,CAAC,EAAG,CAAE,CAACm7G,CAAQ,EAAG,CAAE,CAAC,CAAC,EAC5H,MAAM,KAAK,iBAAiB9mC,EAAgB9kE,EAAM,CAChD,MAAO,CACL,GAAGisG,EACHjvC,GAA0B4uC,EAAUO,EAAgB,CAAE,GAAI,aAAc,aAAc,EAAK,CAAC,EAC5FtvC,GAAc+uC,EAAUO,EAAgB,CAAE,GAAI,UAAW,CAAC,EAE1D1xC,GAAoB,CAAE,GAAI,YAAa,EAAG,CAAC,EAAG,CAAC,EAAG,EAAG,CAAC,EACtD,GAAG47B,CACL,CACF,CAAC,EACD,UAAWxjC,KAAa7kD,GAAMvR,GAAMV,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,OAAS,KAAO,OAASU,EAAG,SAAW,KAAOuR,EAAK,CAAC,EAAG,CACxI,KAAM,CAAE,GAAA4U,EAAI,QAAAwpF,EAAS,SAAA9sG,CAAS,EAAIuzD,EAC5BpD,EAAYrB,GAAa,KAAMg+C,CAAO,EACxCxpF,IAAO,YAAc6sC,EAAY,GACnCx/D,EAAO,SACL,mCAAmC,OAAOqP,CAAQ,CAAC,QAAQmwD,CAAS,gBAAgBA,EAAY,EAAI,IAAM,EAAE,EAC9G,CAEJ,CACA,KAAK,eAAe,WAAW,YAAY,CAC7C,CAAC,CACH,CACA,sBAAuB,CACrB,OAAOtjE,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EACJ,GAAI,CAAC,KAAK,gBACR,OACF,KAAM,CAAE,SAAA+hF,EAAW,CAAC,CAAE,GAAK/hF,EAAK,MAAM,KAAK,eAAe,IAAM,KAAOA,EAAK,CAAC,EAC7E,KAAK,SAAW+hF,EAChB,KAAK,gBAAkB,EACzB,CAAC,CACH,CACA,wBAAwB7e,EAAW,CACjC,MAAMs4C,EAAWt4C,EAAU,8BAA8B,KAAM,YAAY,EACrEu4C,EAAY,KAAK,WAAW,UAAYv4C,EAAU,8BAA8B,KAAM,aAAa,EAAI,GACvGw4C,EAAkB,KAAK,WAAW,gBAAkBx4C,EAAU,8BAA8B,KAAM,mBAAmB,EAAI,GACzHy4C,EAAiB,KAAK,WAAW,eAAiBz4C,EAAU,8BAA8B,KAAM,kBAAkB,EAAI,GACtH04C,EAAgB,KAAK,WAAW,cAAgB14C,EAAU,8BAA8B,KAAM,iBAAiB,EAAI,GACzH,MAAO,CAAE,SAAAs4C,EAAU,UAAAC,EAAW,gBAAAC,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,CAC/E,CACA,gBAAiB,CACf,OAAOtgH,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,GAAIm5E,EAAU,cAAArW,EAAe,UAAA8E,EAAW,WAAA24C,CAAW,EAAI,KACzD,CAAE,SAAA30F,CAAS,EAAI,KAAK,WAC1B,GAAI,CAACk3C,GAAiB,CAAC8E,GAAa9E,EAAc,OAAS,YACzD,OACF,KAAM,CAAE,SAAAo9C,EAAU,UAAAC,EAAW,gBAAAC,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,wBAAwB14C,CAAS,EACtH,IAAI64C,EAAe,EACfnxE,EAAO,EACX,MAAMm3C,EAAW3jB,EAAc,KAAK,IAAI,CAACpuB,EAAQzrC,IAAU,CACzD,IAAIvE,EACJ,KAAM,CAAE,MAAA0oB,EAAO,OAAA7P,CAAO,EAAIm3B,EACpBnhC,EAAegK,EAAO2iG,CAAQ,EAC9BjpF,EAAaspF,EAAW,QAAQE,CAAY,EAAIppF,GAAUzL,CAAQ,EACxE60F,EAAeltG,EACf+7B,GAAQ/7B,EACR,MAAM2jB,EAAWqpF,EAAW,QAAQE,CAAY,EAAIppF,GAAUzL,CAAQ,EAChEi5B,EAAO,KAAK,IAAI3tB,EAAWD,CAAU,EACrCgmF,EAAWhmF,EAAa4tB,EAAO,EAC/B67D,EAAanjG,EAAO2iG,EAAW,CAAC,EAChCpoF,EAASqoF,GAAa,IAAKz7G,EAAK6Y,EAAO4iG,CAAS,IAAM,KAAOz7G,EAAS,EACtEi8G,EAAcR,GAAa,EAAI5iG,EAAO4iG,EAAY,CAAC,EAAI,OACvDS,EAAkBN,GAAiB,EAAI/iG,EAAO+iG,CAAa,EAAI,OAC/DriE,EAAS,KAAK,UAClB7wB,EACA6vF,EACAp4D,EACA,GACAtnC,EAAO6iG,CAAe,EACtB7iG,EAAO8iG,CAAc,EACrBO,CACF,EACMC,EAAe,KAAK,gBAAgBzzF,EAAOnkB,EAAO,EAAK,EAC7D,OAAO3J,EAAgB,CACrB,OAAQ2J,EACR,OAAQ,KACR,MAAAmkB,EACA,MAAAnkB,EACA,WAAAy3G,EACA,SAAAzD,EACA,OAAQ,KAAK,IAAIA,CAAQ,EACzB,OAAQ,KAAK,IAAIA,CAAQ,EACzB,WAAAhmF,EACA,SAAAC,EACA,aAAA2pF,EACA,YAAAF,EACA,OAAA7oF,EACA,YAAa,KAAK,IAAI,KAAK,YAAY,QAAQ,CAAC,EAAG,CAAC,EACpD,YAAa,KAAK,IAAI,KAAK,YAAY,QAAQA,CAAM,EAAG,CAAC,EACzD,gBAAA8oF,CACF,EAAG3iE,CAAM,CACX,CAAC,EACD,KAAK,iBAAiB,QAAU3O,IAAS,EACzC,KAAM,CAAE,iBAAAkxE,EAAmB,CAAE,EAAI,KAAK,WACtC,YAAK,iBAAiB,QAAUlxE,IAAS,GAAKkxE,IAAqB,GAAKA,EAAmB,EACpF,CAAE,OAAQrnC,EAAU,SAAAsN,EAAU,UAAWA,CAAS,CAC3D,CAAC,CACH,CACA,UAAUr5D,EAAO6vF,EAAUp4D,EAAMi8D,EAAcC,EAAmBC,EAAkBJ,EAAiB,CACnG,KAAM,CAAE,aAAAK,EAAc,YAAAC,EAAa,cAAArB,CAAc,EAAI,KAAK,WACpDF,EAAkB,CAACmB,GAAgBG,EAAa,QAAU,KAAK,WAAW,gBAAkB,OAC5FrB,EAAiB,CAACkB,GAAgBI,EAAY,QAAU,KAAK,WAAW,eAAiB,OAC/F,GAAI,CAACvB,GAAmB,CAACC,GAAkB,CAACC,EAC1C,MAAO,CAAC,EAEV,MAAMsB,EAAuB,CAC3B,MAAA/zF,EACA,SAAU,KAAK,WAAW,SAC1B,UAAW,KAAK,WAAW,UAC3B,UAAW,KAAK,WAAW,UAC3B,WAAY,KAAK,WAAW,WAC5B,gBAAiB,KAAK,WAAW,gBACjC,iBAAkB,KAAK,WAAW,iBAClC,eAAgB,KAAK,WAAW,eAChC,gBAAiB,KAAK,WAAW,gBACjC,cAAe,KAAK,WAAW,aACjC,EACM7vB,EAAS,CAAC,EAChB,OAAIoiH,GAAmB96D,EAAOxtB,GAAU4pF,EAAa,QAAQ,IAC3D1jH,EAAO,aAAegC,EAAcD,EAAgB,CAAC,EAAG,KAAK,iBAAiB29G,CAAQ,CAAC,EAAG,CACxF,KAAM,KAAK,aAAagE,EAAc1hH,EAAcD,EAAgB,CAAC,EAAG6hH,CAAoB,EAAG,CAC7F,MAAOJ,CACT,CAAC,CAAC,EACF,OAAQ,GACR,mBAAoB,OACpB,iBAAkB,EAClB,IAAK,MACP,CAAC,GAECnB,IACFriH,EAAO,YAAc,CACnB,KAAM,KAAK,aAAa2jH,EAAa3hH,EAAcD,EAAgB,CAAC,EAAG6hH,CAAoB,EAAG,CAC5F,MAAOH,CACT,CAAC,CAAC,CACJ,GAEEnB,GAAiB,MAAQe,GAAmB,OAC9CrjH,EAAO,WAAa,CAAE,IAAKsiH,EAAe,KAAMe,CAAgB,GAE3DrjH,CACT,CACA,iBAAiB0/G,EAAU,CACzB,MAAMmE,EAAmB,CACvB,CAAE,UAAW,SAAU,aAAc,QAAS,EAC9C,CAAE,UAAW,OAAQ,aAAc,QAAS,EAC5C,CAAE,UAAW,SAAU,aAAc,SAAU,EAC/C,CAAE,UAAW,QAAS,aAAc,QAAS,CAC/C,EACMC,EAAcvqF,GAAkBmmF,CAAQ,EACxCqE,EAAgB,KAAQ,KAAK,GAC7BC,EAAiBF,EAAcC,EAC/BE,EAAW,KAAK,MAAMD,GAAkB,KAAK,GAAK,EAAE,EACpDE,EAAgB96F,GAAI66F,EAAUJ,EAAiB,MAAM,EAC3D,OAAOA,EAAiBK,CAAa,CACvC,CACA,gBAAgBr0F,EAAOs0F,EAAaC,EAAW,CAC7C,IAAIj9G,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,KAAM,CAAE,cAAAmkC,EAAe,iBAAAu2C,CAAiB,EAAI,KAAK,IAC3C,CAAE,SAAAkjB,EAAU,UAAAC,EAAW,MAAA3iG,EAAO,QAAAC,EAAS,UAAAykB,EAAW,cAAAmgF,EAAe,8BAAAC,CAA8B,EAAI,KAAK,WACxGrkD,EAAmB++B,EAAiB,mBAAmB,EACvDia,EAAqBmL,GAAkDnkD,GAAiB,SAAY,MAAQkkD,IAAgBlkD,EAAiB,OACnJ,IAAIskD,EAAgB9kG,EAAQ0kG,EAAc1kG,EAAQ,MAAM,EACpD4kG,GAAiB,OACnBE,IAAwCA,EAAgBD,IAE1D,KAAM,CAAE,KAAAv4E,EAAM,YAAAY,EAAa,OAAAC,EAAQ,YAAAC,EAAa,cAAAG,CAAc,EAAIz9B,GAChE0pG,GAAsB,KAAK,WAAW,eAAe,KACrD,CACE,KAAMz5F,EAAM,OAAS,EAAIA,EAAM2kG,EAAc3kG,EAAM,MAAM,EAAI,OAC7D,YAAa,KAAK,WAAW,YAC7B,OAAQ+kG,EACR,YAAa,KAAK,eAAe,KAAK,WAAW,WAAW,EAC5D,cAAe,KAAK,WAAW,CACjC,CACF,EACA,IAAI5/E,EACJ,OAAIT,IACFS,EAAU8jB,EAAc,KAAKvkB,EAAW,CACtC,MAAArU,EACA,SAAAqyF,EACA,UAAAC,EACA,KAAAp2E,EACA,OAAAa,EACA,MAAAptB,EACA,QAAAC,EACA,YAAAotB,EACA,YAAaosE,EACb,SAAU,KAAK,EACjB,CAAC,GAEI,CACL,MAAO9xG,EAAgCw9B,GAAQ,OAAS,KAAOx9B,EAAK4kC,EACpE,aAAc35B,EAAgCuyB,GAAQ,cAAgB,KAAOvyB,EAAKu6B,EAClF,QAASt6B,EAAgCsyB,GAAQ,SAAW,KAAOtyB,EAAKu6B,EACxE,aAAc75B,EAAgC4xB,GAAQ,cAAgB,KAAO5xB,EAAK85B,EAClF,eAAgBvoB,EAAgCqgB,GAAQ,gBAAkB,KAAOrgB,EAAK0oB,CACxF,CACF,CACA,gBAAiB,CACf,KAAM,CAAE,OAAAzS,CAAO,EAAI,KACb,CAAE,iBAAA0oF,EAAmB,EAAG,kBAAAuB,EAAoB,CAAE,EAAI,KAAK,WACvDz8B,EAAcxtD,EAAS0oF,EAAmBuB,EAChD,OAAIz8B,IAAgBxtD,GAAUwtD,EAAc,EACnC,EAEFA,CACT,CACA,gBAAiB,CACf,OAAO,KAAK,IAAI,KAAK,OAAS,KAAK,WAAW,iBAAmB,KAAK,WAAW,kBAAmB,CAAC,CACvG,CACA,kBAAkB/R,EAAQ,CACxB,MAAM2uC,EAAW,CAAC,KAAK,eAAe,EAAG,KAAK,eAAe,CAAC,EAC9D,KAAK,YAAY,MAAQA,EACrB3uC,IACF,KAAK,oBAAoB,MAAQ2uC,GAEnC,KAAK,SAAW,KAAK,SAAS,IAAKx9G,GAAO,CACxC,IAAIiL,EAAKjL,EAAI,CAAE,OAAAozB,CAAO,EAAInoB,EAAIrL,EAAI9E,GAAUmQ,EAAI,CAAC,QAAQ,CAAC,EAC1D,OAAOpQ,EAAcD,EAAgB,CAAC,EAAGgF,CAAC,EAAG,CAC3C,OAAAwzB,EACA,YAAa,KAAK,IAAI,KAAK,YAAY,QAAQ,CAAC,EAAG,CAAC,EACpD,YAAa,KAAK,IAAI,KAAK,YAAY,QAAQA,CAAM,EAAG,CAAC,CAC3D,CAAC,CACH,CAAC,CACH,CACA,sBAAuB,CACrB,IAAIpzB,EAAIiL,EACR,MAAMqoG,EAAc,KAAK,IAAI,EAAG,KAAK,YAAY,MAAM,CAAC,CAAC,EACzD,GAAIA,IAAgB,EAClB,MAAO,KAGT,MAAMmK,EAAc,IADHxyG,GAAMjL,EAAK,KAAK,WAAW,QAAU,KAAO,OAASA,EAAG,UAAY,KAAOiL,EAAK,GAE3FsY,EAAK,KAAK,IAAI,EAAG,CAAC+vF,CAAW,EACnC,MAAO,CAACA,EAAcmK,EAAcl6F,CACtC,CACA,OAAOuuD,EAAI,CACT,OAAOx2E,EAAQ,KAAM,UAAW,UAAW,CAAE,WAAAk2E,CAAW,EAAG,CACzD,KAAM,CAAE,MAAA11B,CAAM,EAAI,KAAK,WACjB8yB,EAA0B,CAC9B,gBAA+C4C,GAAW,MAC1D,iBAAgDA,GAAW,MAC7D,EACM3C,EAASxhE,GAAS,KAAK,qBAAsBuhE,CAAuB,GAAK,KAiB/E,GAhBIC,IACF,KAAK,sBAAwBD,GAE/B,MAAM,KAAK,qBAAqB,EAChC,KAAK,iBAAiB,EACtB,KAAK,kBAAkBC,CAAM,EAC7B,KAAK,aAAa,aAAe,KAAK,QACtC,KAAK,aAAa,aAAe,KAAK,QACtC,KAAK,eAAe,aAAe,KAAK,QACxC,KAAK,eAAe,aAAe,KAAK,QACxC,KAAK,gBAAgB,aAAe,KAAK,QACzC,KAAK,gBAAgB,aAAe,KAAK,QACrC,KAAK,aACP,KAAK,WAAW,aAAe,KAAK,QACpC,KAAK,WAAW,aAAe,KAAK,SAElC/yB,EAAO,CACT,MAAMv4B,EAAK,KAAK,qBAAqB,EAC/Bw+B,EAAWjG,EAAM,KAAK,YAAY,EACxCA,EAAM,KAAK,QAAUA,EAAM,SAAW,SAASv4B,CAAE,GAAK,CAAC,KAAK,gCAAgCw+B,EAAU,EAAGx+B,CAAE,EAC3Gu4B,EAAM,KAAK,aAAe,SAASv4B,CAAE,EAAIA,EAAK,CAChD,CACA,UAAWm6F,IAAU,CAAC,KAAK,iBAAkB,KAAK,gBAAgB,EAChEA,EAAO,YAAc,EACrBA,EAAO,OAAS,KAAK,WAAW,aAAa,MAC7CA,EAAO,YAAc,EACrBA,EAAO,cAAgB,EAEzB,KAAK,mBAAmB,EACxB,MAAM,KAAK,iBAAiB,EAC5B,MAAM,KAAK,YAAYlsC,CAAU,CACnC,CAAC,CACH,CACA,kBAAmB,CACjB,IAAIxxE,EAAIiL,EACR,KAAM,CAAE,SAAA0yG,CAAS,EAAI,KACf,CAAE,MAAA7hE,CAAM,EAAI,KAAK,WACnB6hE,IAAa7hE,IACX6hE,KACD39G,EAAK,KAAK,aAAe,MAAgBA,EAAG,YAAY29G,EAAS,IAAI,GAEpE7hE,IACFA,EAAM,KAAK,aAAe,UACzB7wC,EAAK,KAAK,aAAe,MAAgBA,EAAG,YAAY6wC,EAAM,IAAI,GAErE,KAAK,SAAWA,EAEpB,CACA,oBAAqB,CACnB,KAAK,SAAS,QAASl8C,GAAM,CAC3B,MAAMwzB,EAASxzB,EAAE,aAAeA,EAAE,YAAcA,EAAE,aAAe,EACjEA,EAAE,SAAW,CACX,EAAGA,EAAE,OAAS,KAAK,IAAI,EAAGwzB,CAAM,EAChC,EAAGxzB,EAAE,OAAS,KAAK,IAAI,EAAGwzB,CAAM,CAClC,CACF,CAAC,CACH,CACA,kBAAmB,CACjB,OAAO93B,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAM,KAAK,qBAAqB,EAChC,KAAK,2BAA2B,CAClC,CAAC,CACH,CACA,sBAAuB,CACrB,OAAOA,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,cAAAm7F,EAAe,mBAAAlS,EAAoB,sBAAAq5B,EAAuB,qBAAAC,EAAsB,qBAAAC,CAAqB,EAAI,KAC3G/U,EAAS,CAACn3E,EAAW9oB,IAAU,CACnC,IAAIi5E,EAAW,KAAK,SAChBj5E,IACFi5E,EAAWA,EAAS,IAAKr5D,GAAU7tB,EAAcD,EAAgB,CAAC,EAAG8tB,CAAK,EAAG,CAAE,aAAc9tB,EAAgB,CAAC,EAAG8tB,EAAM,YAAY,CAAE,CAAC,CAAC,GAEzIkJ,EAAU,OAAOmwD,EAAU,OAASr5D,GAAU,KAAK,WAAWA,CAAK,CAAC,EAChE,KAAK,IAAI,iBAAiB,UAAU,GACtCkJ,EAAU,QAAQ,CAEtB,EACAm3E,EAAOtS,EAAe,EAAK,EAC3BsS,EAAOxkB,EAAoB,EAAI,EAC/Bq5B,EAAsB,OAAO,KAAK,SAAW5tE,GAAW,CACtD,MAAM7I,EAAO,IAAI8Q,GACjB9Q,EAAK,IAAM,EACXA,EAAK,cAAgB,EACrB6I,EAAO,YAAY7I,CAAI,EACvB,MAAMO,EAAO,IAAI0D,GACjB1D,EAAK,IAAM,EACXA,EAAK,cAAgB,EACrBsI,EAAO,YAAYtI,CAAI,CACzB,CAAC,EACDm2E,EAAqB,OAAO,KAAK,SAAW7vG,GAAS,CACnDA,EAAK,cAAgB,CACvB,CAAC,EACD8vG,EAAqB,OAAO,KAAK,WAAW,YAAc9vG,GAAS,CACjEA,EAAK,cAAgB,CACvB,CAAC,CACH,CAAC,CACH,CACA,4BAA6B,CAC3B,KAAM,CAAE,YAAA+vG,CAAY,EAAI,KAAK,WAC7B,IAAI3qF,EAAS,EACb,MAAMwtD,EAAc,KAAK,eAAe,EACxC,GAAIA,EAAc,EAAG,CACnB,MAAMo9B,EAAe,KAAK,IAAIp9B,EAAa,KAAK,eAAe,CAAC,EAEhExtD,EAAS,KAAK,KAAK4qF,EAAe,EADN,CAC6B,CAC3D,CACA,MAAMC,EAASF,EAAc,CAAC,CAAE,OAAA3qF,CAAO,CAAC,EAAI,CAAC,EAC7C,KAAK,qBAAqB,OAAO6qF,CAAM,CACzC,CACA,YAAYzsC,EAAY,CACtB,OAAOl2E,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAMw9D,EAAmB,KAAK,IAAI,iBAAiB,mBAAmB,EAChEolD,EAAY,KAAK,SAAW,KAAK,kBAAkB,QAAQ,EAAI,GAAK,EAC1E,KAAK,UAAU,QAAUA,EACzB,KAAK,gBAAgB,QAAUA,EAC/B,KAAK,aAAa,QAAUA,EAC5B,KAAK,eAAe,QAAUA,GAAkDplD,GAAiB,SAAY,KACzG,KAAK,aACP,KAAK,WAAW,QAAUolD,GAE5B,KAAK,aAAa,QAAU,KAAK,WAAW,EAC5C,KAAK,qBAAqB,KAAK,CAAClwG,EAAM,CAAE,OAAAolB,CAAO,IAAM,CACnD,IAAIpzB,EAAIiL,EACR+C,EAAK,cAAc,CACjB,MAAOhO,EAAK,KAAK,WAAW,cAAgB,KAAO,OAASA,EAAG,KAC/D,SAAUiL,EAAK,KAAK,WAAW,cAAgB,KAAO,OAASA,EAAG,YAClE,KAAMmoB,CACR,CAAC,CACH,CAAC,EACD,MAAM+qF,EAAiB,CAAC3K,EAAQ9qF,EAAO01F,EAAQtM,IAAuB,CACpE,MAAMt0E,EAAU,KAAK,gBAAgB9U,EAAM,MAAOA,EAAM,OAAQopF,CAAkB,EAClFppF,EAAM,aAAa,KAAO8U,EAAQ,KAClC9U,EAAM,aAAa,OAAS8U,EAAQ,OACpC,MAAM6gF,EAAoB,KAAK,IAAI,iBAAiB,UAAU,EAC1DA,IACF7K,EAAO,WAAa9qF,EAAM,WAC1B8qF,EAAO,SAAW9qF,EAAM,SACxB8qF,EAAO,YAAc9qF,EAAM,YAC3B8qF,EAAO,YAAc9qF,EAAM,cAEzBopF,GAAsBuM,KACxB7K,EAAO,KAAOh2E,EAAQ,KACtBg2E,EAAO,OAASh2E,EAAQ,QAE1Bg2E,EAAO,YAAch2E,EAAQ,YAC7Bg2E,EAAO,YAAch2E,EAAQ,YAC7Bg2E,EAAO,cAAgB,KAAK,WAAW,cACvCA,EAAO,SAAW,KAAK,WAAW,SAClCA,EAAO,eAAiB,KAAK,WAAW,eACxCA,EAAO,WAAa,KAAK,WAAW,OACpCA,EAAO,aAAe,KAAK,WAAW,aACtCA,EAAO,MAAQ,KAAK,WAAW,eAAiB,MAAQ,KAAK,WAAW,eAAiBh2E,EAAQ,QAAU,KAAOA,EAAQ,YAAc,IAAM,EAAI,EAClJg2E,EAAO,SAAW,KAAK,WAAW,eAAiB,KAAO,QAAU,OACtE,EACA,KAAK,cAAc,KAAK,CAACxlG,EAAM0a,EAAOnkB,IAAU45G,EAAenwG,EAAM0a,EAAOnkB,EAAO,EAAK,CAAC,EACzF,KAAK,mBAAmB,KAAK,CAACyJ,EAAM0a,EAAOnkB,IAAU,CACnD,MAAMutG,EAA0Dh5C,GAAiB,SAAY,MAAQ9qD,EAAK,MAAM,SAAW8qD,EAAiB,OAC5IqlD,EAAenwG,EAAM0a,EAAOnkB,EAAO,EAAI,EACvCyJ,EAAK,QAAU8jG,CACjB,CAAC,EACD,KAAK,uBAAuB,EAC5B,KAAK,wBAAwBtgC,CAAU,EACvC,KAAK,uBAAuB,EAC5B,KAAK,sBAAsB,EAC3B,KAAK,mBAAmB,EACxB,KAAK,eAAe,WAAW,QAAQ,CACzC,CAAC,CACH,CACA,wBAAyB,CACvB,IAAIxxE,EACJ,KAAM,CAAE,YAAAs+G,CAAY,EAAI,KAAK,WACvBC,EAAgBD,EAAY,OAC5BE,EAAqBF,EAAY,YACjCG,GAAiBz+G,EAAKs+G,EAAY,SAAW,KAAOt+G,EAAK,KAAK,WAAW,QACzE,CAAE,OAAQQ,CAAQ,EAAI,KAAK,WAAW,aAC5C,KAAK,sBAAsB,YACzB,CAEF,EAAE,QAAQ,CAAC2mC,EAAM5iC,IAAU,CACzB,IAAI2Z,EACJ,MAAMwK,EAAQye,EAAK,MACb,CAAE,aAAc6J,EAAO,YAAAsiE,CAAY,EAAI5qF,EAC7C,GAA8BsoB,GAAM,MAAS,CAACA,EAAM,QAAUsiE,IAAgB,EAAG,CAC/EnsE,EAAK,QAAU,GACfA,EAAK,YAAcq3E,EACnBr3E,EAAK,OAASs3E,EAAcl6G,EAAQk6G,EAAc,MAAM,EACxDt3E,EAAK,KAAO,OACZ,MAAMzjB,EAAKgF,EAAM,OAAS4qF,EACpB3vF,EAAK+E,EAAM,OAAS4qF,EAC1B,IAAI1vF,EAAK8E,EAAM,QAAU4qF,EAAciL,GACnC16F,EAAK6E,EAAM,QAAU4qF,EAAciL,GAEvC,KADiBrgG,EAAM8yB,EAAM,qBAAuB,KAAO9yB,EAAM8yB,EAAM,mBAAqB,IAC7EA,EAAM,KAAO,KAAM,CAChC,MAAM3sB,EAAM2sB,EAAM,IAClB,IAAIvqB,EAAK7C,EACL8C,EAAK7C,EACLD,EAAKS,EAAI,EACXoC,EAAKpC,EAAI,EACAT,EAAKS,EAAI,EAAIA,EAAI,QAC1BoC,EAAKpC,EAAI,EAAIA,EAAI,OAEfR,EAAKQ,EAAI,EACXqC,EAAKrC,EAAI,EACAR,EAAKQ,EAAI,EAAIA,EAAI,SAC1BqC,EAAKrC,EAAI,EAAIA,EAAI,QAEnB,MAAMf,EAAKmD,EAAK7C,EACVL,EAAKmD,EAAK7C,EACVqV,EAAS,KAAK,KAAK,KAAK,IAAI5V,EAAI,CAAC,EAAI,KAAK,IAAIC,EAAI,CAAC,CAAC,EACpDm7F,EAAexlF,EAAS14B,EAC1Bk+G,EAAe,IACjB96F,EAAKA,EAAKN,EAAKo7F,EAAexlF,EAC9BrV,EAAKA,EAAKN,EAAKm7F,EAAexlF,EAElC,CACAiO,EAAK,GAAKzjB,EACVyjB,EAAK,GAAKxjB,EACVwjB,EAAK,GAAKvjB,EACVujB,EAAK,GAAKtjB,CACZ,MACEsjB,EAAK,QAAU,EAEnB,CAAC,CACH,CACA,iBAAiBO,EAAMrjB,EAAKmtD,EAAY,CACtC,MAAMmtC,EAAantC,EAAW,EAAI,KAAK,QACjCotC,EAAcptC,EAAW,EAAIA,EAAW,MAAQ,KAAK,QACrDqtC,EAAYrtC,EAAW,EAAI,KAAK,QAChCstC,EAAettC,EAAW,EAAIA,EAAW,OAAS,KAAK,QACvDutC,EAAQ,EACd,IAAIC,EAAkB,EAClB36F,EAAI,EAAI06F,EAAQJ,EAClBK,GAAmB36F,EAAI,EAAIA,EAAI,MAAQs6F,GAAct6F,EAAI,MAChDA,EAAI,EAAIA,EAAI,MAAQ06F,EAAQH,IACrCI,GAAmBJ,EAAcv6F,EAAI,GAAKA,EAAI,OAEhD,MAAM46F,EAAsB56F,EAAI,EAAI06F,EAAQF,GAAax6F,EAAI,EAAIA,EAAI,OAAS06F,EAAQD,EAChFI,EAAaF,IAAoB,EAAIt3E,EAAK,OAAS,KAAK,MAAMA,EAAK,OAASs3E,CAAe,EAAI,EAC/FG,EAA+B,KAAK,gCAAgC96F,CAAG,EAC7E,MAAO,CAAE,WAAA66F,EAAY,oBAAAD,EAAqB,6BAAAE,CAA6B,CACzE,CACA,gCAAgC96F,EAAKf,EAAK,EAAGC,EAAK,EAAG,CACnD,KAAM,CAAE,kBAAA67F,CAAkB,EAAI,KAC9B,GAAIA,GAAqB,KACvB,MAAO,GAET,MAAMC,EAAU,CACd,CAAE,EAAGh7F,EAAI,EAAIf,EAAI,EAAGe,EAAI,EAAId,CAAG,EAC/B,CAAE,EAAGc,EAAI,EAAIA,EAAI,MAAQf,EAAI,EAAGe,EAAI,EAAId,CAAG,EAC3C,CAAE,EAAGc,EAAI,EAAIA,EAAI,MAAQf,EAAI,EAAGe,EAAI,EAAIA,EAAI,OAASd,CAAG,EACxD,CAAE,EAAGc,EAAI,EAAIf,EAAI,EAAGe,EAAI,EAAIA,EAAI,OAASd,CAAG,CAC9C,EACM+7F,EAAO5kH,EAAM0kH,EAAmB,CAAC,EACvC,OAAOC,EAAQ,KAAME,GAAW7kH,EAAM6kH,EAAO,EAAG,CAAC,EAAI7kH,EAAM6kH,EAAO,EAAG,CAAC,EAAID,CAAI,CAChF,CACA,qCAAsC,CACpC,KAAM,CAAE,YAAAE,CAAY,EAAI,KAClB,CAAE,aAAAjD,EAAc,YAAA+B,CAAY,EAAI,KAAK,WACrC,CAAE,OAAQ99G,EAAS,WAAA0rC,CAAW,EAAIqwE,EAClC37B,EAAc4+B,EAAY,QAAQ,CAAC,EACnCC,EAAc/2F,GAEX,CADOA,EAAM,cACHA,EAAM,cAAgB,EAEnCg3F,EAAW,KAAK,SAChBvwG,EAAO,KAAK,SAAS,OAAQxF,GAAM,CAAC81G,EAAW91G,CAAC,CAAC,EASvD,GARAwF,EAAK,QAASuZ,GAAU,CACtB,MAAMsoB,EAAQtoB,EAAM,aAChBsoB,GAAS,OAEbA,EAAM,OAAS,GACfA,EAAM,mBAAqB,OAC3BA,EAAM,iBAAmB,EAC3B,CAAC,EACG7hC,EAAK,QAAU,EACjB,OAEF,MAAMwwG,EAAaxwG,EAAK,OAAQvP,GAAMA,EAAE,OAAS,CAAC,EAAE,KAAK,CAACtH,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,EAChFqnH,EAAczwG,EAAK,OAAQvP,GAAMA,EAAE,QAAU,CAAC,EAAE,KAAK,CAACtH,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,EAClFsnH,EAAY1wG,EAAK,OAAQvP,GAAM,CACnC,IAAII,EACJ,OAAOJ,EAAE,OAAS,KAAOI,EAAKJ,EAAE,eAAiB,KAAO,OAASI,EAAG,aAAe,QACrF,CAAC,EAAE,KAAK,CAAC1H,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,EAC/BunH,EAAe3wG,EAAK,OAAQvP,GAAM,CACtC,IAAII,EACJ,OAAOJ,EAAE,QAAU,KAAOI,EAAKJ,EAAE,eAAiB,KAAO,OAASI,EAAG,aAAe,QACtF,CAAC,EAAE,KAAK,CAAC1H,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,EAC/BwnH,EAAe,IAAI30E,GACnB40E,EAAet3F,GAAU,CAC7B,IAAI1oB,EACJ,MAAMgxC,EAAQtoB,EAAM,aACpB,GAAIsoB,GAAS,KACX,OAAO,IAAI1sB,EAAK,EAAG,EAAG,EAAG,CAAC,EAC5B,MAAM27F,EAAcv3F,EAAM,YAAc41F,EAAY,OAAS99G,EACvDhH,EAAIkvB,EAAM,OAASu3F,EACnB19F,EAAImG,EAAM,OAASu3F,EAAcjvE,EAAM,iBAC7C,OAAA+uE,EAAa,KAAO/uE,EAAM,KAC1B+uE,EAAa,EAAIvmH,EACjBumH,EAAa,EAAIx9F,EACjBw9F,EAAa,QAAQ,KAAK,WAAW,YAAY,EACjDA,EAAa,SAAS,CACpB,WAAY//G,EAAKgxC,EAAM,qBAAuB,KAAOhxC,EAAKgxC,EAAM,UAChE,aAAcA,EAAM,YACtB,CAAC,EACM+uE,EAAa,YAAY,CAClC,EACMG,EAA2B,CAAClvE,EAAOroB,EAAM+nB,IAAc,CAC3D,MAAMrsB,EAAM27F,EAAYhvE,CAAK,EAAE,KAAK9E,EAAa,CAAC,EAC5C5nC,EAAQ07G,EAAYr3F,CAAI,EAAE,KAAKujB,EAAa,CAAC,EAEnD,GADyB7nB,EAAI,EAAI/f,EAAM,EAAIA,EAAM,OAAS+f,EAAI,EAAIA,EAAI,MAAQ/f,EAAM,IAAMosC,IAAc,SAAWrsB,EAAI,EAAI/f,EAAM,EAAIA,EAAM,OAAS+f,EAAI,EAAIA,EAAI,OAAS/f,EAAM,GACzJ,CACpB,MAAMif,EAAKmtB,IAAc,SAAWrsB,EAAI,EAAI/f,EAAM,EAAIA,EAAM,OAAS+f,EAAI,EAAIA,EAAI,OAAS/f,EAAM,EAChGqkB,EAAK,aAAa,iBAAmBpF,CACvC,CACF,EACM48F,EAAoB5mE,GAAW,CACnC,MAAM6mE,EAAW7mE,EAAO,MAAM,EAAE,KAAK,CAACjhD,EAAGC,IAAM,KAAK,IAAID,EAAE,MAAM,EAAI,KAAK,IAAIC,EAAE,MAAM,CAAC,EAAE,CAAC,EACnF8nH,EAAW9mE,EAAO,QAAQ6mE,CAAQ,EACxC,QAAStnH,EAAIunH,EAAW,EAAGvnH,GAAK,EAAGA,IAAK,CACtC,MAAM0tD,EAAOjN,EAAOzgD,EAAI,CAAC,EACnB6vB,EAAO4wB,EAAOzgD,CAAC,EACrBonH,EAAyB15D,EAAM79B,EAAM,QAAQ,CAC/C,CACA,QAAS7vB,EAAIunH,EAAW,EAAGvnH,EAAIygD,EAAO,OAAQzgD,IAAK,CACjD,MAAM0tD,EAAOjN,EAAOzgD,EAAI,CAAC,EACnB6vB,EAAO4wB,EAAOzgD,CAAC,EACrBonH,EAAyB15D,EAAM79B,EAAM,WAAW,CAClD,CACF,EACM23F,EAAoB/mE,GAAW,CACnC,MAAMgnE,EAAyBpxG,EAAK,KAAMuZ,GAAUA,EAAM,aAAa,mBAAqB,CAAC,EACvFlF,EAAQ+1B,EAAO,IAAKvI,GAAUgvE,EAAYhvE,CAAK,CAAC,EAChDwvE,EAAch9F,EAAM,IAAKa,GAAQA,EAAI,MAAM,EAAE,KAAK6nB,EAAa,CAAC,CAAC,EACvE,IAAIu0E,EAAyB,GAC7B,QAAS3nH,EAAI,EAAGA,EAAI0nH,EAAY,QAAU,CAACC,EAAwB3nH,IAAK,CACtE,MAAMurB,EAAMm8F,EAAY1nH,CAAC,EACzB,QAASsF,EAAItF,EAAI,EAAGsF,EAAIm7C,EAAO,OAAQn7C,IAAK,CAC1C,MAAMkG,EAAQk8G,EAAYpiH,CAAC,EAC3B,GAAIimB,EAAI,aAAa/f,CAAK,EAAG,CAC3Bm8G,EAAyB,GACzB,KACF,CACF,CACF,CACA,MAAM3G,EAAU4F,EAAS,IAAKh3F,GAAU,CACtC,KAAM,CAAE,WAAA6J,EAAY,SAAAC,EAAU,YAAA8gF,CAAY,EAAI5qF,EAC9C,MAAO,CAAE,WAAA6J,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,CAC1D,CAAC,EACKoN,EAAuBl9F,EAAM,KAAMa,GAChCy1F,EAAQ,KAAMtG,GAAWM,GAAkBzvF,EAAKmvF,CAAM,CAAC,CAC/D,EACG,CAACiN,GAA0B,CAACF,GAA0B,CAACG,GAG3DnnE,EAAO,OAAQ35C,GAAMA,EAAE,aAAa,YAAc,QAAQ,EAAE,QAASA,GAAM,CACzE,MAAMoxC,EAAQpxC,EAAE,aACZA,EAAE,OAAS,EACboxC,EAAM,mBAAqB,QAClBpxC,EAAE,OAAS,EACpBoxC,EAAM,mBAAqB,OAE3BA,EAAM,mBAAqB,QAE/B,CAAC,CACH,EACAmvE,EAAiBR,CAAU,EAC3BQ,EAAiBP,CAAW,EAC5BU,EAAiBT,CAAS,EAC1BS,EAAiBR,CAAY,CAC/B,CACA,wBAAwBtuC,EAAY,CAClC,KAAM,CAAE,YAAAguC,CAAY,EAAI,KAClB,CAAE,aAAAjD,EAAc,YAAA+B,CAAY,EAAI,KAAK,WACrCC,EAAgBD,EAAY,OAC5B,CAAE,OAAQ99G,EAAS,MAAAgtB,CAAM,EAAI+uF,EAC7BwD,EAAe,IAAI30E,GACzB,KAAK,sBAAsB,YACzB,CAEF,EAAE,QAAS1D,GAAS,CAClB,IAAI1nC,EACJ,KAAM,CAAE,MAAA0oB,CAAM,EAAIgf,EACZsJ,EAAQtoB,EAAM,aACd0K,EAASosF,EAAY,QAAQ92F,EAAM,MAAM,EACzC4qF,EAAc,KAAK,IAAI,EAAGlgF,CAAM,EACtC,GAAI,CAA2B4d,GAAM,MAASsiE,IAAgB,GAAKtiE,EAAM,OAAQ,CAC/EtJ,EAAK,QAAU,GACf,MACF,CACA,MAAMu4E,EAAc3M,EAAciL,EAAgB/9G,EAC5ChH,EAAIkvB,EAAM,OAASu3F,EACnB19F,EAAImG,EAAM,OAASu3F,EAAcjvE,EAAM,iBACvCyB,EAAQ,CACZ,WAAYzyC,EAAKgxC,EAAM,qBAAuB,KAAOhxC,EAAKgxC,EAAM,UAChE,aAAcA,EAAM,YACtB,EACA+uE,EAAa,KAAO/uE,EAAM,KAC1B+uE,EAAa,EAAIvmH,EACjBumH,EAAa,EAAIx9F,EACjBw9F,EAAa,QAAQ,KAAK,WAAW,YAAY,EACjDA,EAAa,SAASttE,CAAK,EAC3B,MAAMpuB,EAAM07F,EAAa,YAAY,EACrC,IAAIY,EAAc3vE,EAAM,KACpBZ,EAAU,GACd,GAAImsE,EAAa,gBAAiB,CAChC,KAAM,CAAE,WAAA2C,EAAY,oBAAAD,CAAoB,EAAI,KAAK,iBAAiBjuE,EAAM,KAAM3sB,EAAKmtD,CAAU,EAC7FmvC,EAAc3vE,EAAM,KAAK,SAAWkuE,EAAaluE,EAAM,KAAO,GAAGA,EAAM,KAAK,UAAU,EAAGkuE,CAAU,CAAC,SACpG9uE,EAAU,CAAC6uE,CACb,CACAv3E,EAAK,KAAOi5E,EACZj5E,EAAK,EAAIluC,EACTkuC,EAAK,EAAInlB,EACTmlB,EAAK,QAAQ,KAAK,WAAW,YAAY,EACzCA,EAAK,SAAS+K,CAAK,EACnB/K,EAAK,KAAOla,EACZka,EAAK,QAAU0I,CACjB,CAAC,CACH,CACA,kBAAkB5xC,EAASgzE,EAAY,CACrC,OAAOl2E,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,aAAAihH,EAAc,YAAA+B,CAAY,EAAI,KAAK,WACrCC,EAAgBD,EAAY,OAC5B,CAAE,OAAQ99G,EAAS,mBAAAogH,EAAoB,WAAA10E,CAAW,EAAIqwE,EAC5D,GAAI,CAACA,EAAa,gBAChB,OAAO,KAET,MAAM,KAAK,qBAAqB,EAChC,KAAK,kBAAkB,EAAK,EAC5B,KAAK,oCAAoC,EACzC,MAAMsE,EAAY,CAAC,EACbn5E,EAAO,IAAI0D,GACjB,IAAI2W,EACJ,KAAM,CAAE,MAAAjG,CAAM,EAAI,KAAK,WACvB,GAA8BA,GAAM,MAASA,EAAM,QAAS,CAC1D,MAAMv4B,EAAK,KAAK,qBAAqB,EACjC,SAASA,CAAE,IACbmkB,EAAK,KAAOoU,EAAM,KAClBpU,EAAK,EAAI,EACTA,EAAK,EAAInkB,EACTmkB,EAAK,QAAQoU,CAAK,EAClBpU,EAAK,SAAS,CACZ,aAAc,SACd,UAAW,QACb,CAAC,EACDqa,EAAWra,EAAK,YAAY,EAC5Bm5E,EAAU,KAAK9+D,CAAQ,EAE3B,CAoDA,OAnDA,KAAK,SAAS,QAASr5B,GAAU,CAC/B,IAAI1oB,EACJ,MAAMgxC,EAAQtoB,EAAM,aACpB,GAAI,CAACsoB,GAAStoB,EAAM,cAAgB,EAClC,OAAO,KAET,MAAMu3F,EAAcv3F,EAAM,YAAc61F,EAAgB/9G,EAClDhH,EAAIkvB,EAAM,OAASu3F,EACnB19F,EAAImG,EAAM,OAASu3F,EAAcjvE,EAAM,iBAC7CtJ,EAAK,KAAOsJ,EAAM,KAClBtJ,EAAK,EAAIluC,EACTkuC,EAAK,EAAInlB,EACTmlB,EAAK,QAAQ,KAAK,WAAW,YAAY,EACzCA,EAAK,SAAS,CACZ,WAAY1nC,EAAKgxC,EAAM,qBAAuB,KAAOhxC,EAAKgxC,EAAM,UAChE,aAAcA,EAAM,YACtB,CAAC,EACD,MAAM3sB,EAAMqjB,EAAK,YAAY,EAE7B,GADAsJ,EAAM,IAAM3sB,EACR,KAAK,IAAI2sB,EAAM,gBAAgB,EAAI4vE,EAAoB,CACzD5vE,EAAM,OAAS,GACf,MACF,CACA,GAAI+Q,EAAU,CACZ,MAAM88D,EAAYrtC,EAAW,EAAI,KAAK,QAChCsvC,EAAiB,IAAIx8F,EACzBy9B,EAAS,EAAI7V,EACb2yE,EACA98D,EAAS,MAAQ,EAAI7V,EACrB6V,EAAS,EAAIA,EAAS,OAAS7V,EAAa2yE,CAC9C,EACA,GAAIx6F,EAAI,aAAay8F,CAAc,EAAG,CACpC9vE,EAAM,OAAS,GACf,MACF,CACF,CACA,GAAIxyC,EAAQ,kBAAmB,CAC7B,KAAM,CAAE,WAAA0gH,EAAY,oBAAAD,EAAqB,6BAAAE,CAA6B,EAAI,KAAK,iBAC7EnuE,EAAM,KACN3sB,EACAmtD,CACF,EACMuvC,EAAa/vE,EAAM,KAAK,OAAS,GAAKkuE,EAAa,EACzD,GAAID,GAAuB8B,GAAc5B,EAA8B,CACrEnuE,EAAM,OAAS,GACf,MACF,CACF,CACAA,EAAM,OAAS,GACf6vE,EAAU,KAAKx8F,CAAG,CACpB,CAAC,EACGw8F,EAAU,SAAW,EAChB,KAEFv8F,EAAK,MAAMu8F,CAAS,CAC7B,CAAC,CACH,CACA,wBAAyB,CACvB,KAAM,CAAE,YAAArB,CAAY,EAAI,KAClB5+B,EAAc4+B,EAAY,QAAQ,CAAC,EACnC,CAAE,SAAA71E,EAAU,UAAA4B,EAAW,WAAAC,EAAY,WAAAF,EAAY,eAAA01E,EAAgB,cAAAC,EAAe,MAAAzzF,CAAM,EAAI,KAAK,WAAW,YACxGu1F,EAAUniC,EAAc,EACxBoiC,EAAsB,KAAK,kBAAkB,OAAO,OAAO,EAAE,SAAW,EAC9E,KAAK,qBAAqB,KAAK,CAACt7E,EAAMhf,IAAU,CAC9C,KAAM,CAAE,YAAA8zF,EAAa,YAAAlJ,CAAY,EAAI5qF,EACrC,IAAIw4F,EAAgB,GACpB,GAAI1E,GAAelJ,IAAgB,EAAG,CACpC,MAAM2M,EAAcr/B,GAAe,EAAIqgC,GAAiB3N,EAAc2N,EAAgBD,EACtFt5E,EAAK,KAAOla,EACZka,EAAK,UAAY6D,EACjB7D,EAAK,WAAa8D,EAClB9D,EAAK,SAAWiC,EAChBjC,EAAK,WAAa4D,EAClB5D,EAAK,KAAO80E,EAAY,KACM,CAACuG,GAAWC,GAExCt7E,EAAK,EAAI,EACTA,EAAK,EAAI,IAETA,EAAK,EAAIhf,EAAM,OAASu3F,EACxBv4E,EAAK,EAAIhf,EAAM,OAASu3F,GAE1Bv4E,EAAK,UAAY,SACjBA,EAAK,aAAe,SACpB,MAAMxhB,EAAOwhB,EAAK,YAAY,EACxB23E,EAAU,CACd,CAACn5F,EAAK,EAAGA,EAAK,CAAC,EACf,CAACA,EAAK,EAAIA,EAAK,MAAOA,EAAK,CAAC,EAC5B,CAACA,EAAK,EAAIA,EAAK,MAAOA,EAAK,EAAIA,EAAK,MAAM,EAC1C,CAACA,EAAK,EAAGA,EAAK,EAAIA,EAAK,MAAM,CAC/B,EACM,CAAE,WAAAqM,EAAY,SAAAC,CAAS,EAAI9J,EAC3By4F,EAAe,CAAE,WAAA5uF,EAAY,SAAAC,EAAU,YAAAouD,EAAa,YAAA0yB,CAAY,EAClE+L,EAAQ,MAAM,CAAC,CAAC7lH,EAAG+oB,CAAC,IAAMgxF,GAAgB/5G,EAAG+oB,EAAG4+F,CAAY,CAAC,IAC/DD,EAAgB,GAEpB,CACAx5E,EAAK,QAAUw5E,CACjB,CAAC,CACH,CACA,uBAAwB,CACtB,MAAME,EAAa,CAAC,EACdC,EAAU,CAAC,EACjB,KAAK,qBAAqB,KAAK,CAAC35E,EAAMhf,IAAU,CAC9C,KAAM,CAAE,UAAA6iB,EAAW,WAAAC,EAAY,SAAA7B,EAAU,WAAA2B,EAAY,MAAA9d,EAAO,OAAAswD,EAAS,CAAE,EAAIp1D,EAC3Egf,EAAK,UAAY6D,EACjB7D,EAAK,WAAa8D,EAClB9D,EAAK,SAAWiC,EAChBjC,EAAK,WAAa4D,EAClB5D,EAAK,KAAOhf,EAAM,KAClBgf,EAAK,EAAI,EACTA,EAAK,EAAI,EACTA,EAAK,KAAOla,EACZka,EAAK,UAAY,SACjBA,EAAK,aAAe,aACpB05E,EAAW,KAAK15E,EAAK,YAAY,CAAC,EAClC25E,EAAQ,KAAKvjC,CAAM,CACrB,CAAC,EACD,MAAMwjC,EAAgB/8G,GAAUA,IAAU,EAAI,EAAI88G,EAAQ98G,CAAK,EACzDg9G,EAAmBh9G,GAAUA,IAAU88G,EAAQ,OAAS,EAAI,EAAIA,EAAQ98G,CAAK,EAC7EijC,EAAc45E,EAAW,OAAO,CAACx2E,EAAM1kB,EAAMptB,IAC1C8xC,EAAO1kB,EAAK,OAASo7F,EAAaxoH,CAAC,EAAIyoH,EAAgBzoH,CAAC,EAC9D,CAAC,EACEywF,EAAa,KAAK,IAAI,GAAG63B,EAAW,IAAKl7F,GAASA,EAAK,KAAK,CAAC,EAC7D06D,EAAc,KAAK,eAAe,EAElC4gC,EADc,KAAK,KAAK,KAAK,IAAIj4B,EAAa,EAAG,CAAC,EAAI,KAAK,IAAI/hD,EAAc,EAAG,CAAC,CAAC,IAClDo5C,EAAc,EAAIA,EAAc,KAAK,eAAe,GACpF6gC,EAAc,CAAC,EACrB,QAAS3oH,EAAI,EAAG0tD,EAAO,CAAChf,EAAc,EAAG1uC,EAAIsoH,EAAW,OAAQtoH,IAAK,CAEnE,MAAMsrB,EADOg9F,EAAWtoH,CAAC,EACL,OAAS0tD,EAAO86D,EAAaxoH,CAAC,EAClD2oH,EAAY,KAAKr9F,CAAM,EACvBoiC,EAAOpiC,EAASm9F,EAAgBzoH,CAAC,CACnC,CACA,KAAK,qBAAqB,KAAK,CAAC4uC,EAAM4X,EAAQ/6C,IAAU,CACtDmjC,EAAK,EAAI+5E,EAAYl9G,CAAK,EAC1BmjC,EAAK,QAAU85E,CACjB,CAAC,CACH,CACA,oBAAqB,CACnB,KAAK,iBAAiB,KAAO,KAAK,eAAe,EAAI,EACrD,KAAK,iBAAiB,KAAO,KAAK,eAAe,EAAI,CACvD,CACA,mBAAmBr/B,EAAW,CAC5B,KAAM,CAAE,SAAA44B,EAAU,gBAAAE,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,WACpE,CAAE,YAAAqB,EAAa,aAAAD,EAAc,WAAAmF,CAAW,EAAIv/B,EAClD,GAAIg5B,GAAiBuG,IAAe,OAClC,OAAOA,EAAW,KACb,GAAIzG,GAAmBA,IAAoBF,GAA6CwB,GAAa,OAAU,OACpH,OAAOA,EAAa,KACf,GAAIrB,GAAkBA,IAAmBH,GAA4CyB,GAAY,OAAU,OAChH,OAAOA,EAAY,IAEvB,CACA,qBAAqBn1E,EAAO,CAC1B,OAAOwyE,GAAoB,KAAMxyE,CAAK,CACxC,CACA,eAAe86C,EAAW,CACxB,IAAIniF,EACJ,GAAI,CAAC,KAAK,WAAW,QAAQ,EAC3B,OAAOw7C,GAET,KAAM,CACJ,MAAA9yB,EACA,WAAAszF,EACA,aAAc,CAAE,KAAMxuF,CAAM,EAC5B,OAAA0pC,CACF,EAAIirB,EACErmC,EAAQqgD,IAAcn8F,EAAK,KAAK,WAAW,QAAU,KAAO,OAASA,EAAG,IAAI,EAC5EqyC,EAAU3qC,GAAes0G,CAAU,EAAIl6F,GAAQk6F,CAAU,EAAI,OAAOA,CAAU,EAC9E7mB,EAAY,KAAK,mBAAmBhT,CAAS,EACnD,OAAO,KAAK,WAAW,QAAQ,cAC7B,CACE,MAAOrmC,GAAwBq5C,EAC/B,QAASr5C,GAASq5C,EAAY,GAAGA,CAAS,KAAK9iD,CAAO,GAAKA,EAC3D,gBAAiB7kB,CACnB,EACA,CACE,MAAA9E,EACA,OAAAwuC,EACA,MAAApb,EACA,MAAAtuB,EACA,SAAU,KAAK,GACf,SAAU,KAAK,WAAW,SAC1B,UAAW,KAAK,WAAW,UAC3B,UAAW,KAAK,WAAW,UAC3B,WAAY,KAAK,WAAW,WAC5B,gBAAiB,KAAK,WAAW,gBACjC,iBAAkB,KAAK,WAAW,iBAClC,eAAgB,KAAK,WAAW,eAChC,gBAAiB,KAAK,WAAW,gBACjC,cAAe,KAAK,WAAW,aACjC,CACF,CACF,CACA,cAAcnd,EAAY,CACxB,IAAIrQ,EAAIiL,EAAIC,EAAIU,EAAIuR,EACpB,KAAM,CAAE,QAAAizB,EAAS,cAAAguB,EAAe,UAAA8E,CAAU,EAAI,KAC9C,GAAI,CAACA,GAAa,CAAmC9E,GAAc,KAAK,QAAW/tD,IAAe,WAChG,MAAO,CAAC,EAEV,KAAM,CAAE,SAAA0qG,EAAU,gBAAAE,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,WAC1E,GAAI,CAACA,IAAkB,CAACF,GAAmBA,IAAoBF,KAAc,CAACG,GAAkBA,IAAmBH,GACjH,MAAO,CAAC,EAEV,KAAM,CAAE,gBAAAW,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,wBAAwB14C,CAAS,EAC3Fy+C,IAAc3hH,EAAK,KAAK,WAAW,QAAU,KAAO,OAASA,EAAG,eAAiB,KAAK,WAAW,MAAM,KACvGs0E,EAAa,CAAC,EACpB,QAAS/vE,EAAQ,EAAGA,EAAQ65D,EAAc,KAAK,OAAQ75D,IAAS,CAC9D,KAAM,CAAE,MAAAmkB,EAAO,OAAA7P,CAAO,EAAIulD,EAAc,KAAK75D,CAAK,EAC5Cq9G,EAAa,CAAC,EAChBD,GACFC,EAAW,KAAKD,CAAS,EAE3B,MAAMpoE,EAAS,KAAK,UAClB7wB,EACA,EAAI,KAAK,GACT,EAAI,KAAK,GACT,GACA7P,EAAO6iG,CAAe,EACtB7iG,EAAO8iG,CAAc,EACrB9iG,EAAO+iG,CAAa,CACtB,EAQA,GAPIT,GAAiB5hE,EAAO,aAAe,OACzCqoE,EAAW,KAAKroE,EAAO,WAAW,IAAI,EAC7B0hE,GAAmBA,IAAoBF,KAAc9vG,EAAKsuC,EAAO,eAAiB,KAAO,OAAStuC,EAAG,QAAU,OACxH22G,EAAW,MAAM12G,EAAKquC,EAAO,eAAiB,KAAO,OAASruC,EAAG,IAAI,EAC5DgwG,GAAkBA,IAAmBH,KAAcnvG,EAAK2tC,EAAO,cAAgB,KAAO,OAAS3tC,EAAG,QAAU,QACrHg2G,EAAW,MAAMzkG,EAAKo8B,EAAO,cAAgB,KAAO,OAASp8B,EAAG,IAAI,EAElEykG,EAAW,SAAW,EACxB,SACF,MAAMzF,EAAe,KAAK,gBAAgBzzF,EAAOnkB,EAAO,EAAK,EAC7D+vE,EAAW,KAAK,CACd,WAAY,WACZ,GAAI,KAAK,GACT,OAAQ/vE,EACR,SAAU,KAAK,GACf,QAAS6rC,GAAW,KAAK,kBAAkB7rC,CAAK,EAChD,MAAO,CACL,KAAMq9G,EAAW,KAAK,KAAK,CAC7B,EACA,OAAQ,CACN,KAAMzF,EAAa,KACnB,OAAQA,EAAa,OACrB,YAAa,KAAK,WAAW,YAC7B,cAAe,KAAK,WAAW,cAC/B,YAAa,KAAK,WAAW,WAC/B,EACA,eAAgBhB,GAAiB,KAAOzyF,EAAMyyF,CAAa,EAAI,MACjE,CAAC,CACH,CACA,OAAO7mC,CACT,CACA,kBAAkBtiC,EAAO,CACvB,KAAM,CAAE,QAAA3B,EAAS,OAAA6mB,EAAQ,OAAA7qD,EAAQ,eAAA8qD,CAAe,EAAInlB,EAChD3lC,EAAO,KAAO,KAAK,GACrB,KAAK,iBAAiB6qD,EAAQ7mB,CAAO,EAC5B8mB,GAAkB,MAC3B,KAAK,uBAAuBA,EAAgB9mB,CAAO,CAEvD,CACA,iBAAiB6mB,EAAQ7mB,EAAS,CAChC,KAAK,kBAAkB6mB,CAAM,EAAI7mB,EACjC,KAAK,gBAAkB,EACzB,CACA,uBAAuB8mB,EAAgB9mB,EAAS,CAC9C,IAAIrwC,EACJ,GAAI,CAAC,KAAK,WAAW,eAAiB,CAAC,KAAK,UAC1C,OAEF,MAAM47G,EAAgB,KAAK,UAAU,8BAA8B,KAAM,iBAAiB,GACzF57G,EAAK,KAAK,gBAAkB,MAAgBA,EAAG,KAAK,QAAQ,CAAC,CAAE,OAAA6Y,CAAO,EAAGgpG,IAAgB,CACpFhpG,EAAO+iG,CAAa,IAAMzkD,GAC5B,KAAK,iBAAiB0qD,EAAaxxE,CAAO,CAE9C,CAAC,CACH,CACA,wBAAwBoqE,EAAO,CAC7B,KAAM,CAAE,iBAAAzqF,CAAiB,EAAI,KAAK,IAC5B9wB,EAAM+5G,GACV,GACA,KAAK,WAAW,SAChB,KAAK,YACL,KAAK,mBACP,EACAv4F,GAAa,KAAK,GAAI,QAASsP,EAAkB,CAAC,KAAK,cAAe,KAAK,kBAAkB,EAAG9wB,EAAI,KAAK,EACzGwhB,GAAa,KAAK,GAAI,cAAesP,EAAkB,CAAC,KAAK,oBAAoB,EAAG9wB,EAAI,WAAW,EACnGk9F,GAA2B,KAAM,UAAWpsE,EAAkB,KAAK,qBAAqB,EACxFosE,GAA2B,KAAM,SAAUpsE,EAAkB,KAAK,oBAAoB,EACtFosE,GAA2B,KAAM,QAASpsE,EAAkB,KAAK,oBAAoB,EACrF,KAAK,oBAAoB,MAAQ,KAAK,YAAY,KACpD,CACA,2BAA4B,CAC1B,IAAIhwB,EAAIiL,EAAIC,EAAIU,EAAIuR,EAAIgS,EACxB,KAAM,CAAE,cAAAsnE,EAAe,mBAAAlS,EAAoB,cAAAnmB,EAAe,YAAAohD,EAAa,oBAAAsC,CAAoB,EAAI,KACzF,CAAE,iBAAA9xF,CAAiB,EAAI,KAAK,IAC5B09E,GAAY1tG,EAAsCo+D,GAAc,UAAY,KAAO,OAASp+D,EAAG,KACrG,KAAK,IAAI,iBAAiB,uBAAuB,KAAK,EAAE,EACxD,MAAM+hH,IAAkB92G,EAAiCyiG,GAAS,MAAM,OAAS,KAAOziG,EAAK,KAAO,EAC9F+2G,IAAY92G,EAAsCkzD,GAAc,KAAK,KAAK,SAAW,KAAOlzD,EAAK,GAAK,EACtG+2G,GAAiB9yF,GAAMhS,GAAMvR,EAAsCwyD,GAAc,UAAY,KAAO,OAASxyD,EAAG,sBAAwB,KAAO,OAASuR,EAAG,aAAe,KAAOgS,EAAK,IACxL,CAAC4yF,GAAiB,CAACC,GAAW,CAACC,IACjC,KAAK,IAAI,iBAAiB,iBAAiB,EAE7C,MAAM/iH,EAAM+5G,GACV,GACA,KAAK,WAAW,SAChBuG,EACAsC,CACF,EACAphG,GACE,KAAK,GACL,QACAsP,EACA,CAACymE,EAAelS,CAAkB,EAClCrlF,EAAI,MACJ,CAACwd,EAAGgM,IAAU,KAAK,WAAWA,CAAK,EACnCglF,CACF,EACAhtF,GAAa,KAAK,GAAI,cAAesP,EAAkB,CAAC,KAAK,oBAAoB,EAAG9wB,EAAI,WAAW,EACnGk9F,GAA2B,KAAM,UAAW,KAAK,IAAI,iBAAkB,KAAK,qBAAqB,EACjGA,GAA2B,KAAM,SAAU,KAAK,IAAI,iBAAkB,KAAK,oBAAoB,EAC/FA,GAA2B,KAAM,QAAS,KAAK,IAAI,iBAAkB,KAAK,oBAAoB,EAC9F,KAAK,oBAAoB,MAAQ,KAAK,YAAY,KACpD,CACA,4BAA6B,CAC3B,KAAM,CAAE,cAAA3F,EAAe,mBAAAlS,EAAoB,YAAAi7B,EAAa,oBAAAsC,CAAoB,EAAI,KAC1E,CAAE,iBAAA9xF,CAAiB,EAAI,KAAK,IAC5B9wB,EAAM+5G,GACV,GACA,KAAK,WAAW,SAChBuG,EACAsC,CACF,EACAphG,GAAa,KAAK,GAAI,QAASsP,EAAkB,CAACymE,EAAelS,CAAkB,EAAGrlF,EAAI,KAAK,EAC/FwhB,GAAa,KAAK,GAAI,cAAesP,EAAkB,CAAC,KAAK,oBAAoB,EAAG9wB,EAAI,WAAW,EACnGo9F,GAA4B,KAAM,UAAW,KAAK,IAAI,iBAAkB,KAAK,qBAAqB,EAClGA,GAA4B,KAAM,SAAU,KAAK,IAAI,iBAAkB,KAAK,oBAAoB,EAChGA,GAA4B,KAAM,QAAS,KAAK,IAAI,iBAAkB,KAAK,oBAAoB,EAC/F,KAAK,oBAAoB,MAAQ,KAAK,YAAY,KACpD,CACA,mBAAmB5zE,EAAO,CACxB,IAAI1oB,EAAIiL,EAAIC,EACZ,KAAM,CAAE,gBAAA+vG,EAAiB,eAAAC,EAAgB,cAAAC,CAAc,EAAI,KAAK,WAChE,IAAOjwG,GAAMD,GAAMjL,EAAK,KAAK,gBAAkB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,sBAAwB,MAAgBC,EAAG,WAG5I,IAAIiwG,EACF,OAAOzyF,EAAMyyF,CAAa,EACrB,GAAIF,EACT,OAAOvyF,EAAMuyF,CAAe,EACvB,GAAIC,EACT,OAAOxyF,EAAMwyF,CAAc,EAE/B,CACA,WAAWxyF,EAAO,CAChB,KAAM,CAAE,MAAAnkB,CAAM,EAAImkB,EACZuuB,EAAU,KAAK,mBAAmBvuB,EAAM,KAAK,EACnD,OAAOuuB,GAAW,KAAO,OAAOA,CAAO,EAAI,GAAG1yC,CAAK,EACrD,CACA,cAAe,CACb,IAAIvE,EACJ,KAAM,CAAE,KAAAmP,EAAM,kBAAA6yE,CAAkB,EAAI,KACpC,KAAK,mBAAqBhiF,EAA6BmP,GAAK,IAAI,CAACuN,EAAGnY,IAAU,CAC5E,IAAI2Z,EACJ,OAAQA,EAAM8jE,EAAkBz9E,CAAK,IAAM,KAAO2Z,EAAM,EAC1D,CAAC,IAAM,KAAOle,EAAK,CAAC,CACtB,CACA,mBAAmB8N,EAAM,CACvB,OAAOisG,GAAyB,KAAMjsG,CAAI,CAC5C,CACF,EACAg1G,GAAU,UAAY,YACtBA,GAAU,KAAO,MACjB,IAAIG,GAAkB,CACpB,KAAM,SACN,WAAY,WACZ,YAAa,YACb,WAAY,CAAC,OAAO,EACpB,WAAY,MACZ,oBAAqBH,GACrB,cAAeZ,GACf,eAAgBC,EAClB,EACIe,GAAqB,CAAC,QAAS,SAAU,KAAK,EAC9CC,GAAiB,CAAC,cAAe,SAAU,MAAM,EACjDC,IAAoCC,IACtCA,EAAiB,IAAS,MAC1BA,EAAiB,MAAW,QAC5BA,EAAiB,OAAY,SAC7BA,EAAiB,KAAU,OAC3BA,EAAiB,YAAiB,eAClCA,EAAiB,eAAoB,kBAC9BA,IACND,IAAmB,CAAC,CAAC,EACpBE,GAAoB,OAAO,OAAOF,EAAe,EACjDG,GAAyB,cAAc/2G,EAAe,CACxD,YAAYg3G,EAAUC,EAAiB,CACrC,MAAM,EACN,KAAK,SAAWD,EAChB,KAAK,gBAAkBC,EACvB,KAAK,MAAQ,QACb,KAAK,SAAW,KAClB,CACF,EACAtoH,EAAiB,CACf2/C,GAAgBniD,GAAW,CACzBA,EAAO,SAASA,EAAO,OAAO,CAChC,CAAC,EACDm8B,EAASoB,CAAO,CAClB,EAAGqtF,GAAuB,UAAW,UAAW,CAAC,EACjDpoH,EAAiB,CACf2/C,GAAgBniD,GAAW,CACzBA,EAAO,SAASA,EAAO,OAAO,CAChC,CAAC,EACDm8B,EAASiD,GAAM,CAAC,QAAS,SAAU,KAAK,CAAC,EAAG,CAAE,SAAU,EAAK,CAAC,CAChE,EAAGwrF,GAAuB,UAAW,QAAS,CAAC,EAC/CpoH,EAAiB,CACf2/C,GAAgBniD,GAAW,CACzBA,EAAO,SAASA,EAAO,OAAO,CAChC,CAAC,EACDm8B,EAASiD,GAAM,CAAC,MAAO,QAAS,SAAU,OAAQ,eAAgB,iBAAiB,CAAC,EAAG,CAAE,SAAU,EAAK,CAAC,CAC3G,EAAGwrF,GAAuB,UAAW,WAAY,CAAC,EAClDpoH,EAAiB,CACf2/C,GAAgBniD,GAAW,CACzBA,EAAO,gBAAgBA,EAAO,OAAO,CACvC,CAAC,EACDm8B,EAAS8B,GAAO,CAAE,SAAU,EAAK,CAAC,CACpC,EAAG2sF,GAAuB,UAAW,UAAW,CAAC,EACjD,IAAIG,GAAS,oBACTC,GAAY,CACd,MAAO,GAAGD,EAAM,UAChB,OAAQ,GAAGA,EAAM,WACjB,KAAM,GAAGA,EAAM,SACf,MAAO,GAAGA,EAAM,SAClB,EACIE,GAAa,CAEb,IAEC,GAAGF,EAAM,QAEV,MAEC,GAAGA,EAAM,UAEV,OAEC,GAAGA,EAAM,WAEV,KAEC,GAAGA,EAAM,SAEV,eAEC,GAAGA,EAAM,iBAEV,kBAEC,GAAGA,EAAM,oBACZ,OAAQ,GAAGA,EAAM,WACjB,aAAc,GAAGA,EAAM,kBACvB,eAAgB,GAAGA,EAAM,oBACzB,MAAO,CACL,MAAO,GAAGC,GAAU,KAAK,UACzB,OAAQ,GAAGA,GAAU,KAAK,WAC1B,IAAK,GAAGA,GAAU,KAAK,OACzB,EACA,OAAQ,CACN,OAAQ,GAAGA,GAAU,MAAM,UAC7B,CACF,EACIE,GAAO;AAAA,GACRH,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAeNE,GAAW,MAAM;AAAA,GACjBA,GAAW,YAAY;AAAA;AAAA;AAAA;AAAA,GAIvBA,GAAW,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA,GAKzBA,GACD,GAED;AAAA,GACEA,GACD,MAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAOEA,GACD,IAED;AAAA,GACEA,GACD,KAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAMEA,GACD,cAEF,CAAC;AAAA,GACEA,GACD,iBAEF,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUED,GAAU,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAOfC,GAAW,MAAM,MAAM;AAAA,GACvBA,GAAW,MAAM,GAAG;AAAA;AAAA;AAAA;AAAA,GAIpBA,GACD,IAED,KAAKA,GAAW,MAAM,MAAM;AAAA,GAC1BA,GACD,IAED,KAAKA,GAAW,MAAM,GAAG;AAAA,GACvBA,GACD,KAED,KAAKA,GAAW,MAAM,MAAM;AAAA,GAC1BA,GACD,KAED,KAAKA,GAAW,MAAM,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,GAKvBA,GACD,cAEF,CAAC,KAAKD,GAAU,KAAK;AAAA,GAClBC,GACD,iBAEF,CAAC,KAAKD,GAAU,KAAK;AAAA;AAAA;AAAA;AAAA,GAIlBA,GAAU,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAchBC,GACD,IAED,KAAKD,GAAU,MAAM;AAAA,GACnBC,GACD,KAED,KAAKD,GAAU,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAMnBC,GACD,cAEF,CAAC,KAAKD,GAAU,MAAM;AAAA,GACnBC,GACD,iBAEF,CAAC,KAAKD,GAAU,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,GAKnBC,GAAW,OAAO,MAAM;AAAA;AAAA;AAAA;AAAA,GAIxBD,GAAU,MAAM;AAAA;AAAA;AAAA;AAAA,GAIhBA,GAAU,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,GAKhBA,GAAU,MAAM;AAAA;AAAA;AAAA;AAAA,GAIhBA,GAAU,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,GAKdA,GAAU,IAAI,OAAOA,GAAU,KAAK;AAAA;AAAA;AAAA;AAAA,GAIpCA,GAAU,IAAI;AAAA,GACdA,GAAU,KAAK;AAAA;AAAA;AAAA;AAAA,EAKdG,GAAU,cAAc9/G,EAAmB,CAC7C,YAAY6iB,EAAK,CACf,MAAM,EACN,KAAK,IAAMA,EACX,KAAK,QAAU,GACf,KAAK,YAAc,IAAI08F,GACrB,KAAK,eAAe,KAAK,KAAM,aAAa,EAC5C,KAAK,sBAAsB,KAAK,KAAM,aAAa,CACrD,EACA,KAAK,OAAS,IAAIA,GAChB,KAAK,eAAe,KAAK,KAAM,QAAQ,EACvC,KAAK,sBAAsB,KAAK,KAAM,QAAQ,CAChD,EACA,KAAK,KAAO,IAAIA,GACd,KAAK,eAAe,KAAK,KAAM,MAAM,EACrC,KAAK,sBAAsB,KAAK,KAAM,MAAM,CAC9C,EACA,KAAK,OAAS,GACd,KAAK,uBAAyB,GAC9B,KAAK,UAAY,CAEb,IAEiB,IAAI,IAErB,MAEiB,IAAI,IAErB,OAEiB,IAAI,IAErB,KAEiB,IAAI,IAErB,eAEiB,IAAI,IAErB,kBAEiB,IAAI,GACzB,EACA,KAAK,aAAe,CAClB,YAAa,EACb,OAAQ,EACR,KAAM,CACR,EACA,KAAK,aAAe,CAClB,YAAa,CAAC,EACd,OAAQ,CAAC,EACT,KAAM,CAAC,CACT,EACA,KAAK,2BAA6B,CAAC,EACnC,KAAK,aAA+B,IAAI,IACxC,KAAK,UAAY18F,EAAI,eAAe,QACpC,KAAK,SAAW,CAEZ,IAEC,KAAK,UAAU,YAAYlM,GAAc,KAAK,CAAC,EAEhD,MAEC,KAAK,UAAU,YAAYA,GAAc,KAAK,CAAC,EAEhD,OAEC,KAAK,UAAU,YAAYA,GAAc,KAAK,CAAC,EAEhD,KAEC,KAAK,UAAU,YAAYA,GAAc,KAAK,CAAC,EAEhD,eAEC,KAAK,UAAU,YAAYA,GAAc,KAAK,CAAC,EAEhD,kBAEC,KAAK,UAAU,YAAYA,GAAc,KAAK,CAAC,CACpD,EACAQ,GAAY0oG,GAAMH,EAAM,EACxB,KAAK,cACH,KAEF,EACA,KAAK,cACH,OAEF,EACA,KAAK,cACH,QAEF,EACA,KAAK,cACH,MAEF,EACA,KAAK,cACH,cAEF,EACA,KAAK,cACH,iBAEF,EACA,KAAK,mBAAmB,EACxB,KAAK,WAAW,KACd78F,EAAI,mBAAmB,YACrB,QACA,KAAK,QAAQ,KAAK,IAAI,EACtB,EAEF,EACAA,EAAI,mBAAmB,YACrB,QACA,KAAK,QAAQ,KAAK,IAAI,EACtB,EAEF,EACAA,EAAI,eAAe,YAAY,iBAAkB,KAAK,gBAAgB,KAAK,IAAI,CAAC,EAChFA,EAAI,eAAe,YAAY,gBAAiB,KAAK,eAAe,KAAK,IAAI,CAAC,EAC9EA,EAAI,eAAe,YAAY,sBAAuB,KAAK,oBAAoB,KAAK,IAAI,CAAC,EACzFA,EAAI,cAAc,YAAY,kBAAmB,KAAK,iBAAiB,KAAK,IAAI,CAAC,CACnF,CACF,CACA,QAAQmrB,EAAO,CACb,KAAM,CACJ,QAAA3B,EACA,SAAU3qB,EACV,uBAAAq+F,EACA,IAAK,CAAE,MAAAvnD,CAAM,CACf,EAAI,KACE,CACJ,QAAA/0B,EACA,YAAa,CAAE,OAAA9uC,CAAO,CACxB,EAAIq5C,EACJ,GAAI,CAAC3B,EACH,OACF,MAAMjsB,EAASsB,EACb,iBAEF,EACMvB,EAAMuB,EACV,cAEF,EACMs+F,EAAmB5/F,EAAO,UAAY2/F,EACtCE,EAAgBx8E,EAAUu8E,GAAoBv8E,EAAU+0B,EAAM,OAAO,QAAQ,cAAgB7jE,IAAWyrB,EAC9GA,EAAO,UAAU,OAAOw/F,GAAW,eAAgB,CAACK,CAAa,EACjE,MAAMC,EAAgB//F,EAAI,UAAYA,EAAI,aAAe4/F,EACnDI,EAAa18E,EAAU,GAAKA,EAAUy8E,GAAiBvrH,IAAWwrB,EACxEA,EAAI,UAAU,OAAOy/F,GAAW,eAAgB,CAACO,CAAU,CAC7D,CACA,QAAQnyE,EAAO,CACb,KAAM,CACJ,QAAA3B,EACA,SAAU3qB,EACV,IAAK,CAAE,MAAA82C,CAAM,CACf,EAAI,KACE,CAAE,cAAA4nD,EAAe,OAAAzrH,CAAO,EAAIq5C,EAAM,YACxC,GAAI,CAAC3B,EACH,OACF,MAAMjsB,EAASsB,EACb,iBAEF,EACMvB,EAAMuB,EACV,cAEF,EACA,IAAI2+F,EAAW,GACf,UAAWr0E,KAAUmzE,GACnB,UAAW3vB,KAAU,KAAK,aAAaxjD,CAAM,EAC3C,GAAIwjD,IAAW4wB,EAAe,CAC5BC,EAAW,GACX,KACF,CAGA1rH,IAAW6jE,EAAM,OAAO,SAAW6nD,IAEvCjgG,EAAO,UAAU,IAAIw/F,GAAW,cAAc,EAC9Cz/F,EAAI,UAAU,IAAIy/F,GAAW,cAAc,EAC7C,CACA,eAAe5zE,EAAQ,CACjB,KAAKA,CAAM,GAAK,MAAQ,KAAK,aAAa,IAAIA,CAAM,IAExD,KAAK,YAAYA,CAAM,EACvB,KAAK,mBAAmB,EAC1B,CACA,sBAAsBA,EAAQs0E,EAAS,CACjC,CAAC,KAAK,SAAW,KAAK,aAAa,IAAIt0E,CAAM,IAEjD,KAAK,mBAAmBA,EAAQs0E,CAAO,EACvC,KAAK,mBAAmB,EAC1B,CACA,kBAAmB,CACjB,UAAWllG,KAAYkkG,GACrB,KAAK,SAASlkG,CAAQ,EAAE,UAAU,OAAOwkG,GAAW,YAAY,CAEpE,CACA,gBAAgB5xE,EAAO,CACrB,KAAM,CAAE,MAAOhC,EAAQ,MAAA53C,EAAO,QAAAi4C,CAAQ,EAAI2B,EAC1C,GAAI,KAAK,aAAahC,CAAM,EAAE,SAAW,EAAG,CAC1C,KAAK,2BAA2B,KAAKgC,CAAK,EAC1C,MACF,CACA,UAAWwhD,KAAU,KAAK,aAAaxjD,CAAM,EACvCwjD,EAAO,QAAQ,eAAiB,GAAGp7F,CAAK,KAE5Co7F,EAAO,SAAW,CAACnjD,EAEvB,CACA,eAAe2B,EAAO,CACpB,KAAM,CAAE,MAAOhC,EAAQ,QAAAI,CAAQ,EAAI4B,EACnC,KAAK,YAAYhC,EAAQI,CAAO,EAChC,KAAK,mBAAmB,CAC1B,CACA,oBAAoB4B,EAAO,CACzB,KAAM,CAAE,MAAOhC,EAAQ,QAAAxxC,CAAQ,EAAIwzC,EACnC,KAAK,aAAa,IAAIhC,CAAM,EAC5B,KAAK,YAAYA,CAAM,EACvB,KAAK,mBAAmBA,EAAQxxC,EAAQ,OAAO,EAC/C,KAAK,YAAYwxC,EAAQxxC,EAAQ,OAAO,EACxC,KAAKwxC,CAAM,EAAE,IAAIxxC,CAAO,CAC1B,CACA,YAAYwxC,EAAQ,CAClB,UAAW5wB,KAAYkkG,GACjB,KAAKtzE,CAAM,EAAE,SAAW,KAAKA,CAAM,EAAE,WAAa5wB,EACpD,KAAK,UAAUA,CAAQ,EAAE,IAAI4wB,CAAM,EAEnC,KAAK,UAAU5wB,CAAQ,EAAE,OAAO4wB,CAAM,CAG5C,CACA,mBAAmBA,EAAQs0E,EAAS,CAClC,IAAItkH,EAAIiL,EACR,UAAWuoF,KAAU,KAAK,aAAaxjD,CAAM,EAC3CwjD,EAAO,OAAO,EAEhB,KAAK,aAAaxjD,CAAM,EAAI,CAAC,EAC7B,MAAMyC,GAASzyC,EAAK,KAAKgwC,CAAM,EAAE,QAAU,KAAOhwC,EAAK,QACjDof,GAAYnU,EAAK,KAAK+kC,CAAM,EAAE,WAAa,KAAO/kC,EAAK,MACvDs5G,EAAU,KAAK,SAASnlG,CAAQ,EACtC,UAAW5gB,KAAW8lH,GAA4B,CAAC,EAAG,CACpD,MAAM9wB,EAAS,KAAK,oBAAoBxjD,EAAQxxC,CAAO,EACjDuqB,EAASw7F,EAAQ,uBAAuBX,GAAW,MAAMnxE,CAAK,CAAC,EAAE,KAAK,CAAC,EACnD1pB,GAAO,YAAYyqE,CAAM,EACnD,KAAK,aAAaxjD,CAAM,EAAE,KAAKwjD,CAAM,CACvC,CACF,CACA,YAAYxjD,EAAQK,EAAS,CACvBA,EACF,KAAK,aAAaL,CAAM,GAAK,EAE7B,KAAK,aAAaA,CAAM,EAAI,KAAK,IAAI,EAAG,KAAK,aAAaA,CAAM,EAAI,CAAC,CAEzE,CACA,sBAAuB,CACrB,IAAIhwC,EACJ,MAAMwkH,IAA+BxkH,EAAK,KAAK,6BAA+B,KAAOA,EAAK,CAAC,GAAG,MAAM,EACpG,UAAWgyC,KAASwyE,EAClB,KAAK,gBAAgBxyE,CAAK,EAE5B,KAAK,2BAA6B,CAAC,CACrC,CACA,cAAc8/B,EAAI,CAChB,OAAOx2E,EAAQ,KAAM,UAAW,UAAW,CAAE,WAAA00E,CAAW,EAAG,CACzD,KAAM,CAAE,SAAUtqD,EAAW,OAAAo4D,CAAO,EAAI,KACxC,OAAKp4D,EAAU,IAAI,UAAU,SAASk+F,GAAW,MAAM,GACrD5zC,EAAW,OAAOtqD,EAAU,IAAI,aAAeo4D,EAAS,EAAG,KAAK,EAE7Dp4D,EAAU,MAAM,UAAU,SAASk+F,GAAW,MAAM,GACvD5zC,EAAW,OAAOtqD,EAAU,MAAM,YAAco4D,EAAQ,OAAO,EAE5Dp4D,EAAU,OAAO,UAAU,SAASk+F,GAAW,MAAM,GACxD5zC,EAAW,OAAOtqD,EAAU,OAAO,aAAeo4D,EAAS,EAAG,QAAQ,EAEnEp4D,EAAU,KAAK,UAAU,SAASk+F,GAAW,MAAM,GACtD5zC,EAAW,OAAOtqD,EAAU,KAAK,YAAco4D,EAAQ,MAAM,EAExD,CAAE,WAAA9N,CAAW,CACtB,CAAC,CACH,CACA,uBAAuBliE,EAAM,CAC3B,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,KAAM,CAAE,SAAUoqB,EAAW,OAAAo4D,CAAO,EAAI,KAClC,CAAE,WAAAtM,CAAW,EAAI1jE,EACvB4X,EAAU,IAAI,MAAM,IAAM,GAAG8rD,EAAW,EAAI9rD,EAAU,IAAI,aAAeo4D,EAAS,CAAC,KACnFp4D,EAAU,IAAI,MAAM,KAAO,GAAGo4D,CAAM,KACpCp4D,EAAU,IAAI,MAAM,MAAQ,eAAeo4D,EAAS,CAAC,MACrDp4D,EAAU,MAAM,MAAM,IAAM,GAAG8rD,EAAW,EAAIsM,CAAM,KACpDp4D,EAAU,MAAM,MAAM,MAAQ,GAAGo4D,CAAM,KACvCp4D,EAAU,MAAM,MAAM,OAAS,eAAe8rD,EAAW,EAAIsM,EAAS,CAAC,MACvEp4D,EAAU,OAAO,MAAM,OAAS,GAAGo4D,CAAM,KACzCp4D,EAAU,OAAO,MAAM,KAAO,GAAGo4D,CAAM,KACvCp4D,EAAU,OAAO,MAAM,MAAQ,eAAeo4D,EAAS,CAAC,MACxDp4D,EAAU,KAAK,MAAM,IAAM,GAAG8rD,EAAW,CAAC,KAC1C9rD,EAAU,KAAK,MAAM,KAAO,GAAGo4D,CAAM,KACrCp4D,EAAU,KAAK,MAAM,OAAS,eAAe8rD,EAAW,EAAIsM,EAAS,CAAC,MACtEp4D,EACE,cAEF,EAAE,MAAM,IAAM,GAAG8rD,EAAW,EAAIsM,CAAM,KACtCp4D,EACE,iBAEF,EAAE,MAAM,IAAM,GAAG8rD,EAAW,EAAIA,EAAW,OAAS9rD,EAClD,cAEF,EAAE,aAAeo4D,CAAM,IACzB,CAAC,CACH,CACA,oBAAqB,CACnB,IAAI99E,EACJ,GAAI,KAAK,UAAY,KACnB,OACF,MAAMykH,EAAkBz0E,GAAW,KAAKA,CAAM,EAAE,SAAW,KAAK,aAAaA,CAAM,EAAI,EACjF00E,EAAmB5pG,GAAc04E,GAAW,OAAOA,EAAO,OAAU,UAAY,OAAOA,EAAO,OAAU,UAAY,GAAGA,EAAO,KAAK,KAAO14E,EAAS,QAAQ,aACjK,UAAWsE,KAAYkkG,GAAmB,CACxC,MAAMlzE,EAAU,KAAK,SAAW,MAAM,KAAK,KAAK,UAAUhxB,CAAQ,EAAE,OAAO,CAAC,EAAE,KAAKqlG,CAAc,EACjG,KAAK,SAASrlG,CAAQ,EAAE,UAAU,OAAOwkG,GAAW,OAAQ,CAACxzE,CAAO,CACtE,CACA,UAAWJ,KAAUmzE,GAAgB,CACnC,GAAI,KAAKnzE,CAAM,GAAK,KAClB,SACF,MAAMI,EAAUq0E,EAAez0E,CAAM,EACrC,UAAWwjD,KAAU,KAAK,aAAaxjD,CAAM,EAAG,CAC9C,MAAM20E,EAAgBv0E,KAAapwC,EAAK,KAAKgwC,CAAM,EAAE,UAAY,KAAO,OAAShwC,EAAG,KAAK0kH,EAAgBlxB,CAAM,CAAC,GAChHA,EAAO,UAAU,OAAOowB,GAAW,OAAO,OAAQ,CAACe,CAAa,CAClE,CACF,CACF,CACA,cAAcvlG,EAAW,MAAO,CAC9B,MAAMtE,EAAW,KAAK,SAASsE,CAAQ,EACvCtE,EAAS,UAAU,IAAI4oG,GAAQE,GAAWxkG,CAAQ,EAAGwkG,GAAW,YAAY,GACxExkG,IAAa,gBAAkBA,IAAa,oBAC9CtE,EAAS,UAAU,IAAI8oG,GAAW,cAAc,EAElD,UAAWnxE,KAASywE,GAAoB,CACtC,MAAM0B,EAAmBjqG,GAAc,KAAK,EAC5CiqG,EAAiB,UAAU,IAAIjB,GAAU,MAAOC,GAAW,MAAMnxE,CAAK,CAAC,EACvE33B,EAAS,YAAY8pG,CAAgB,CACvC,CACF,CACA,oBAAoB50E,EAAQxxC,EAAS,CACnC,MAAMg1F,EAAS74E,GAAc,QAAQ,EACrC64E,EAAO,UAAU,IAAImwB,GAAU,MAAM,EACrCnwB,EAAO,QAAQ,aAAexjD,GAC1B,OAAOxxC,EAAQ,OAAU,UAAY,OAAOA,EAAQ,OAAU,YAChEg1F,EAAO,QAAQ,aAAe,GAAGh1F,EAAQ,KAAK,IAE5CA,EAAQ,UACVg1F,EAAO,MAAQh1F,EAAQ,SAEzB,IAAIu3G,EAAQ,GACZ,OAAIv3G,EAAQ,MAAQ,OAClBu3G,EAAQ,+BAA+Bv3G,EAAQ,IAAI,IAAImlH,GAAU,IAAI,aAEnEnlH,EAAQ,OAAS,OACnBu3G,EAAQ,GAAGA,CAAK,gBAAgB4N,GAAU,KAAK,KAAKnlH,EAAQ,KAAK,WAEnEg1F,EAAO,UAAYuiB,EACnBviB,EAAO,QAAU,KAAK,cAAc,KAAK,KAAMxjD,EAAQxxC,EAAQ,KAAK,EACpE,KAAK,WAAW,KAAK,IAAMg1F,EAAO,OAAO,CAAC,EACnCA,CACT,CACA,cAAcxjD,EAAQ53C,EAAO,CAC3B,KAAK,IAAI,eAAe,YAAY43C,EAAQ53C,CAAK,CACnD,CACF,EACA+C,EAAiB,CACf2/C,GAAgBniD,GAAW,CACzBA,EAAO,qBAAqB,EAC5BA,EAAO,mBAAmB,CAC5B,CAAC,EACDm8B,EAASoB,CAAO,CAClB,EAAG4tF,GAAQ,UAAW,UAAW,CAAC,EAClC,IAAIe,GAAM,IAAM,GAAK,GAAK,GACtBC,GAAQD,GAAM,GACdE,GAAOF,GAAM,IACbG,GAAc,CAChB,QAAS,GACT,SAAU,OACV,MAAO,QACP,QAAS,CACP,CAAE,MAAO,KAAM,MAAO,MAAO,EAC7B,CAAE,MAAO,MAAO,MAAO,kBAAmB,CAC5C,CACF,EACIC,GAAS,CACX,QAAS,GACT,SAAU,MACV,MAAO,QACP,QAAS,CACP,CAAE,MAAO,KAAM,MAAOH,EAAM,EAC5B,CAAE,MAAO,KAAM,MAAO,EAAIA,EAAM,EAChC,CAAE,MAAO,KAAM,MAAO,EAAIA,EAAM,EAChC,CAAE,MAAO,MAAO,MAAO,CAACI,EAAQ5lF,IAAQ,CAAkB,IAAI,KAAK,GAAG,IAAI,KAAKA,CAAG,EAAE,YAAY,CAAC,QAAQ,EAAG,QAAQ,EAAGA,CAAG,CAAE,EAC5H,CAAE,MAAO,KAAM,MAAOylF,EAAK,EAC3B,CAAE,MAAO,MAAO,MAAO,CAACllH,EAAOy/B,IAAQ,CAACz/B,EAAOy/B,CAAG,CAAE,CACtD,CACF,EACI6lF,GAAO,CACT,QAAS,GACT,SAAU,MACV,MAAO,MACP,QAAS,CACP,CACE,KAAM,WACN,QAAS,WACT,MAAO,UACT,EACA,CACE,KAAM,UACN,QAAS,UACT,MAAO,SACT,EACA,CACE,KAAM,WACN,QAAS,WACT,MAAO,UACT,EACA,CACE,KAAM,YACN,QAAS,YACT,MAAO,WACT,EACA,CACE,KAAM,YACN,QAAS,mBACT,MAAO,WACT,EACA,CACE,KAAM,UACN,QAAS,iBACT,MAAO,SACT,EACA,CACE,KAAM,aACN,QAAS,iBACT,MAAO,YACT,CACF,CACF,EACIC,GAAgB,CAClB,KAAM,OACN,WAAY,UACZ,YAAa,YACb,WAAY,CAAC,WAAW,EACxB,oBAAqBtB,GACrB,cAAe,CACb,QAAS,CACP,QAAS,GACT,YAAAkB,GACA,OAAAC,GACA,KAAAE,EACF,CACF,CACF,EACA,SAASE,IAAyB,CAChC1gH,GAAe,SACbqqF,GACAwK,GACA+B,GACA6pB,GACApc,GACA4E,GACAmC,GACAgD,GACAI,GACAkP,GACAY,GACA5Q,EACF,EACA,UAAWttG,IAAmB,CAACsmF,GAAYrkC,GAAc4kC,GAAUthC,GAAqBihC,EAAO,EAC7FtmF,GAAa,SAASF,EAAgB,KAAM,CAC1C,oBAAqBA,EACrB,OAAQA,IAAoBulD,EAC9B,CAAC,CAEL,CACA,SAASg7D,IAAe,CACtB,UAAW9gH,KAAKG,GAAe,QAAS,CAItC,GAHIH,EAAE,cAAgB,cAAgB,CAACmG,GAAuBnG,CAAC,GAC7DpF,EAAO,UAAU,4CAA8CoF,EAAE,UAAU,EAEzEA,EAAE,OAAS,QAAUA,EAAE,cACzB,UAAWqF,KAAcrF,EAAE,WACzByF,GAAc,IAAIJ,EAAYrF,EAAE,aAAa,EAGjD,GAAIA,EAAE,OAAS,SAAU,CACvB,GAAIA,EAAE,WAAW,OAAS,EACxB,MAAM,IAAI,MAAM,wCAAwCA,EAAE,UAAU,EAAE,EAExE2L,GAAe,SAAS3L,EAAE,WAAYA,CAAC,CACzC,CACA,GAAIA,EAAE,OAAS,iBAAmBA,EAAE,cAClC,UAAWkF,KAAclF,EAAE,YACzB2L,GAAe,iBAAiBzG,EAAYlF,EAAE,aAAa,EAG/D,GAAIA,EAAE,OAAS,eAAiBA,EAAE,cAChC,UAAWK,KAAYL,EAAE,UAAW,CAClC,MAAM+gH,EAAgB/gH,EAAE,cAAcK,CAAQ,EACxCouE,EAAQr4E,EAAgBA,EAAgB,CAAC,EAAG4J,EAAE,aAAa,EAAG+gH,CAAa,EACjF,UAAWC,KAAiBhhH,EAAE,UAC5B,OAAOyuE,EAAMuyC,CAAa,EAE5BvgH,GAAa,iBAAiBJ,EAAUouE,CAAK,CAC/C,CAEEzuE,EAAE,OAAS,QACbS,GAAa,SAAST,EAAE,WAAYA,CAAC,EAEnCA,EAAE,OAAS,UACbgM,GAAe,SAAShM,EAAE,WAAYA,CAAC,CAE3C,CACA,GAAIG,GAAe,qBAAqB,EAAG,CACzC,MAAM8gH,EAAoB56G,GAAyB,EAC/C46G,EAAkB,OAAS,GAC7BrmH,EAAO,UAAU,mDAAoDqmH,CAAiB,CAE1F,CACF,CACA,IAAIC,GAAkB,MAAMC,WAAyBpsC,EAAM,CACzD,YAAY/6E,EAASqzE,EAAW,CAC9B,MAAMrzE,EAASqzE,CAAS,CAC1B,CACA,eAAgB,CACd,OAAOv2E,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAM00E,EAAa,MAAM50E,GAAWuqH,GAAiB,UAAW,KAAM,eAAe,EAAE,KAAK,IAAI,EAC1F,CACJ,WAAY,CAAE,QAAAr3E,CAAQ,EACtB,WAAA4gC,EACA,eAAAnd,EACA,cAAAod,CACF,EAAI,KACEy2C,EAAiB51C,EAAW,MAAM,EACxCA,EAAW,OAAO1hC,EAAQ,KAAM,MAAM,EACtC0hC,EAAW,OAAO1hC,EAAQ,IAAK,KAAK,EACpC0hC,EAAW,OAAO1hC,EAAQ,MAAO,OAAO,EACxC0hC,EAAW,OAAO1hC,EAAQ,OAAQ,QAAQ,EAC1C,KAAK,WAAa0hC,EAClB,KAAK,cAAgBA,EACrB,KAAK,UAAYA,EACjB,UAAWhgC,IAAU,CAACk/B,EAAYnd,EAAgBod,CAAa,EAC7Dn/B,EAAO,aAAe,KAAK,MAAMggC,EAAW,CAAC,EAC7ChgC,EAAO,aAAe,KAAK,MAAMggC,EAAW,CAAC,EAE/C,aAAM,QAAQ,IACZ,KAAK,OAAO,IAAK3jE,GAAW/Q,EAAQ,KAAM,KAAM,WAAa,CAC3D,MAAM+Q,EAAO,OAAO,CAAE,WAAY2jE,CAAW,CAAC,CAChD,CAAC,CAAC,CACJ,EACAd,EAAW,QAAU,KAAK,OAAO,CAAC,EAAE,QACpCA,EAAW,kCACT,IAAI5qD,EAAK0rD,EAAW,EAAGA,EAAW,EAAGA,EAAW,MAAOA,EAAW,MAAM,CAC1E,EACA,KAAK,IAAI,cAAc,uBAAuB,CAC5C,KAAM,kBACN,MAAO,CAAE,MAAO,KAAK,IAAI,MAAM,MAAO,OAAQ,KAAK,IAAI,MAAM,MAAO,EACpE,WAAY,GACZ,OAAQ,CAAE,KAAM41C,EAAgB,WAAY51C,EAAY,QAAS,EAAK,EACtE,KAAM,CAAC,CACT,CAAC,EACMA,CACT,CAAC,CACH,CACF,EACA01C,GAAgB,UAAY,iBAC5BA,GAAgB,KAAO,YACvB,IAAIG,GAAiBH,GACjBI,GAAY,cAAcr/D,EAAK,CACjC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,UACb,KAAK,iBAAmB,EACxB,KAAK,sBAAwB,EAC/B,CACA,kBAAkB8zD,EAAUC,EAAa,CACvC,OAAO,IACT,CACF,EACAr/G,EAAiB,CACf25B,EAASiD,GAAM,CAAC,UAAW,QAAQ,EAAG,oBAAoB,CAAC,CAC7D,EAAG+tF,GAAU,UAAW,QAAS,CAAC,EAClC3qH,EAAiB,CACf25B,EAAS2B,EAAK,CAChB,EAAGqvF,GAAU,UAAW,mBAAoB,CAAC,EAC7C,IAAIC,GAAc,MAAMC,WAAqBzsC,EAAM,CACjD,YAAY/6E,EAASqzE,EAAW,CAC9B,MAAMrzE,EAASqzE,CAAS,EACxB,KAAK,QAAU,IAAIphB,GAAQ,EAAE,EAC7B,KAAK,UAAU,OAAS,CAC1B,CACA,eAAgB,CACd,OAAOn1D,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAM00E,EAAa,MAAM50E,GAAW4qH,GAAa,UAAW,KAAM,eAAe,EAAE,KAAK,IAAI,EACtFJ,EAAiB51C,EAAW,MAAM,EACxC,YAAK,kBAAkBA,CAAU,EACjC,MAAM,KAAK,cAAcA,CAAU,EACnC,KAAK,KAAK,QAAS5jE,GAASA,EAAK,OAAO,CAAC,EACzC,KAAK,UAAY4jE,EACjB,KAAK,IAAI,cAAc,uBAAuB,CAC5C,KAAM,kBACN,MAAO,CAAE,MAAO,KAAK,IAAI,MAAM,MAAO,OAAQ,KAAK,IAAI,MAAM,MAAO,EACpE,WAAY,GACZ,OAAQ,CAAE,KAAM41C,EAAgB,WAAY51C,EAAY,QAAS,EAAK,EACtE,KAAM,CAAC,CACT,CAAC,EACMA,CACT,CAAC,CACH,CACA,WAAWvpD,EAAIC,EAAI0M,EAAQ,CACzB,IAAIpzB,EAAIiL,EACR,MAAMg7G,EAAY,KAAK,KAAK,KACzB75G,GAASA,EAAK,YAAc,GAE/B,EACM85G,EAAa,KAAK,KAAK,KAC1B95G,GAASA,EAAK,YAAc,GAE/B,EACA,GAAI,EAAE65G,aAAqBH,KAAc,EAAEI,aAAsBJ,IAC/D,OAEF,MAAMjK,EAAaoK,EAAU,MACvBE,GAAUnmH,EAAK67G,EAAW,QAAU,KAAO,OAAS77G,EAAG,KAAK67G,CAAU,EAAE,IAAKzjH,GAAUyjH,EAAW,QAAQzjH,CAAK,CAAC,EAChH0jH,EAAmBoK,EAAW,iBACpCD,EAAU,iBAAmBnK,GAC5B7wG,EAAKg7G,EAAU,eAAiB,MAAgBh7G,EAAG,KAAKg7G,CAAS,EAClEA,EAAU,WAAa7yF,EACvB8yF,EAAW,WAAaC,EACxBD,EAAW,UAAYD,EAAU,MACjCC,EAAW,MAAQ,CAAC9yF,EAAQA,EAAS0oF,CAAgB,EACrD,CAACmK,EAAWC,CAAU,EAAE,QAAS95G,GAAS,CACxCA,EAAK,YAAY,EAAIqa,EACrBra,EAAK,YAAY,EAAIsa,EACrBta,EAAK,gBAAgB,CACvB,CAAC,CACH,CACA,kBAAkB4jE,EAAY,CAC5B,KAAM,CACJ,WAAY,CAAE,QAAA1hC,CAAQ,CACxB,EAAI,KACJ0hC,EAAW,OAAO1hC,EAAQ,KAAM,MAAM,EACtC0hC,EAAW,OAAO1hC,EAAQ,IAAK,KAAK,EACpC0hC,EAAW,OAAO1hC,EAAQ,MAAO,OAAO,EACxC0hC,EAAW,OAAO1hC,EAAQ,OAAQ,QAAQ,EAC1C,KAAK,WAAa0hC,EAClB,KAAK,cAAgBA,CACvB,CACA,cAAco2C,EAAW,CACvB,OAAO9qH,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAM+qH,EAAc,KAAK,OAAO,OAAQh6G,GAC/BA,aAAkBguG,EAC1B,EACKiM,EAAY,KAAK,KAAK,OAAQl6G,GAC3BA,aAAgB05G,EACxB,EACKS,EAAkB,CAAC9/F,EAAIC,EAAIlT,IAAM,CACrC,KAAK,WAAWiT,EAAIC,EAAIlT,CAAC,EACzB6yG,EAAY,QAASh6G,GAAW,CAC9BA,EAAO,QAAUoa,EACjBpa,EAAO,QAAUqa,EACjBra,EAAO,OAASmH,CAClB,CAAC,EACD,MAAMgzG,EAAYH,EAAY,OAAQ9lH,GAC7BA,aAAauiH,IAAaviH,aAAao6G,EAC/C,EACD,GAAI6L,EAAU,OAAS,EAAG,CACxB,MAAMC,EAAaD,EAAU,IAAKn6G,GAAW,CAC3C,MAAMu0E,EAAcv0E,EAAO,eAAe,EAC1C,MAAO,CAAE,OAAAA,EAAQ,YAAAu0E,CAAY,CAC/B,CAAC,EAAE,KAAK,CAACtoF,EAAGC,IAAMD,EAAE,YAAcC,EAAE,WAAW,EAC/CkuH,EAAW,GAAG,EAAE,EAAE,OAAO,kBAAoB,OAC7C,QAAS3tH,EAAI,EAAGA,EAAI2tH,EAAW,OAAS,EAAG3tH,IACzC2tH,EAAW3tH,CAAC,EAAE,OAAO,kBAAoB2tH,EAAW3tH,EAAI,CAAC,EAAE,WAE/D,CACF,EACMo6B,EAAUkzF,EAAU,EAAIA,EAAU,MAAQ,EAC1CjzF,EAAUizF,EAAU,EAAIA,EAAU,OAAS,EAC3CM,EAAgB,KAAK,IAAI,EAAG,KAAK,IAAIN,EAAU,MAAOA,EAAU,MAAM,EAAI,CAAC,EACjF,IAAIhzF,EAASszF,EACbH,EAAgBrzF,EAASC,EAASC,CAAM,EACxC,MAAMuzF,EAAQ,IAAI70C,IAAOx2E,EAAQ,KAAM,CAAC,GAAGw2E,CAAE,EAAG,UAAW,CAAE,kBAAA80C,EAAoB,EAAM,EAAI,CAAC,EAAG,CAC7F,MAAMC,EAAa,CAAC,EACpB,UAAWx6G,IAAU,CAAC,GAAGi6G,EAAW,GAAGD,CAAW,EAAG,CACnD,MAAMhiG,EAAM,MAAMhY,EAAO,kBAAkB,CAAE,kBAAAu6G,CAAkB,EAAGR,CAAS,EACvE/hG,GACFwiG,EAAW,KAAKxiG,CAAG,CAEvB,CACA,GAAIwiG,EAAW,SAAW,EAAG,CAC3BN,EAAgBrzF,EAASC,EAASuzF,CAAa,EAC/C,MACF,CACA,MAAMj2E,EAAWnsB,EAAK,MAAMuiG,CAAU,EAChCC,EAAU,KAAK,aAAar2E,EAAUrd,EAAQgzF,CAAS,EAC7DG,EAAgBO,EAAQ,QAASA,EAAQ,QAASA,EAAQ,MAAM,EAC5DA,EAAQ,SAAW1zF,IAGvBA,EAAS0zF,EAAQ,OACnB,CAAC,EACD,aAAMH,EAAM,EACZ,MAAMA,EAAM,EACZ,MAAMA,EAAM,EACZ,MAAMA,EAAM,CAAE,kBAAmB,EAAK,CAAC,EACvC,MAAMA,EAAM,CAAE,kBAAmB,EAAK,CAAC,EAChC,CAAE,OAAAvzF,EAAQ,QAAAF,EAAS,QAAAC,CAAQ,CACpC,CAAC,CACH,CACA,aAAa4zF,EAAW3zF,EAAQgzF,EAAW,CAEzC,MAAMY,EAAa,CAAC5zF,EACd6zF,EAAY,CAAC7zF,EACb8zF,EAAc9zF,EACd+zF,EAAe/zF,EACrB,IAAI2hB,EAAU,KAAK,IAAI,EAAGiyE,EAAaD,EAAU,CAAC,EAC9CK,EAAS,KAAK,IAAI,EAAGH,EAAYF,EAAU,CAAC,EAC5C/xE,EAAW,KAAK,IAAI,EAAG+xE,EAAU,EAAIA,EAAU,MAAQG,CAAW,EAClEG,EAAY,KAAK,IAAI,EAAGN,EAAU,EAAIA,EAAU,OAASI,CAAY,EACzEpyE,EAAUC,EAAW,KAAK,IAAID,EAASC,CAAQ,EAC/CoyE,EAASC,EAAY,KAAK,IAAID,EAAQC,CAAS,EAC/C,MAAMC,EAAmBlB,EAAU,MAAQrxE,EAAUC,EAC/CuyE,EAAoBnB,EAAU,OAASgB,EAASC,EACtD,IAAIG,EAAY,KAAK,IAAIF,EAAkBC,CAAiB,EAAI,EAChE,MAAME,EAAsB,GAAiBrB,EAAU,MAAQ,EACzDsB,EAAoB,GAAiBtB,EAAU,OAAS,EACxDuB,EAAY,KAAK,IAAIF,EAAqBC,CAAiB,EACjE,GAAIF,EAAYG,EAAW,CACzBH,EAAYG,EACZ,MAAMt+B,EAAoBt0C,EAAUC,EAC9Bs0C,EAAkB89B,EAASC,EACjC,GAAI,EAAIG,EAAYl+B,EAAkB88B,EAAU,OAAQ,CACtD,MAAMwB,EAAYxB,EAAU,OAAS,EAAIoB,EACrC,KAAK,IAAIJ,EAAQC,CAAS,EAAI,EAAIO,GACpCR,EAASQ,EAAY,EACrBP,EAAYO,EAAY,GACfR,EAASC,EAClBD,EAASQ,EAAYP,EAErBA,EAAYO,EAAYR,CAE5B,CACA,GAAI,EAAII,EAAYn+B,EAAoB+8B,EAAU,MAAO,CACvD,MAAMtxE,EAAWsxE,EAAU,MAAQ,EAAIoB,EACnC,KAAK,IAAIzyE,EAASC,CAAQ,EAAI,EAAIF,GACpCC,EAAUD,EAAW,EACrBE,EAAWF,EAAW,GACbC,EAAUC,EACnBD,EAAUD,EAAWE,EAErBA,EAAWF,EAAWC,CAE1B,CACF,CACA,MAAM8yE,EAAW9yE,EAAU,EAAIyyE,EAAYxyE,EACrC8yE,EAAYV,EAAS,EAAII,EAAYH,EAC3C,MAAO,CACL,QAASjB,EAAU,GAAKA,EAAU,MAAQyB,GAAY,EAAI9yE,EAAUyyE,EACpE,QAASpB,EAAU,GAAKA,EAAU,OAAS0B,GAAa,EAAIV,EAASI,EACrE,OAAQA,CACV,CACF,CACF,EACAzB,GAAY,UAAY,aACxBA,GAAY,KAAO,QACnB,IAAIgC,GAAahC,GACbiC,GAAY,KAAK,GAAK,IACtBC,GAAQC,GAAQA,EAAMF,GACtBG,GAAQC,GAAQ,CAAC,KAAK,IAAI,KAAK,IAAI,KAAK,GAAK,IAAOA,EAAMJ,GAAY,EAAG,CAAC,EAC1EK,GAAQ7uH,GAAMA,EAAIwuH,GAClBM,GAAQ/lG,IAAO,KAAK,KAAK,KAAK,IAAI,CAACA,CAAC,CAAC,EAAI,KAAK,GAAK,MAASylG,GAAY,IACxEO,GAAgB,MAAMC,EAAe,CACvC,YAAY90F,EAAQtzB,EAAQ,CAC1B,KAAK,OAASszB,EACd,KAAK,MAAQtzB,EACb,KAAK,KAAO,WACZ,KAAK,OAASooH,GAAe,OAAO90F,CAAM,CAC5C,CACA,OAAO,OAAOA,EAAQ,CACpB,KAAM,CAAC,CAAC+0F,EAAMC,CAAI,EAAG,CAACC,EAAMC,CAAI,CAAC,EAAIl1F,EAC/BW,EAAK4zF,GAAKQ,CAAI,EACd1oF,EAAKooF,GAAKO,CAAI,EACdhlG,EAAKukG,GAAKU,CAAI,EACdhlG,EAAKwkG,GAAKS,CAAI,EACpB,OAAO,IAAItkG,EAAK,KAAK,IAAI+P,EAAI3Q,CAAE,EAAG,KAAK,IAAIqc,EAAIpc,CAAE,EAAG,KAAK,IAAID,EAAK2Q,CAAE,EAAG,KAAK,IAAI1Q,EAAKoc,CAAE,CAAC,CAC1F,CACA,OAAO,YAAa,CAClB,OAAO,IAAIyoF,GACT,CACE,CAACH,GAAK,CAAC,EAAGC,GAAK,CAAC,CAAC,EACjB,CAACD,GAAK,CAAC,EAAGC,GAAK,CAAC,CAAC,CACnB,EACA,CACE,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,CACP,CACF,CACF,CACA,QAAQ,CAACJ,EAAKE,CAAG,EAAG,CAClB,KAAM,CAAC,CAAC/zF,EAAI0L,CAAE,EAAG,CAACrc,EAAIC,CAAE,CAAC,EAAI,KAAK,MAC5B69D,GAAU99D,EAAK2Q,GAAM,KAAK,OAAO,MACjCotD,GAAU99D,EAAKoc,GAAM,KAAK,OAAO,OACvC,MAAO,EAAEkoF,GAAKC,CAAG,EAAI,KAAK,OAAO,GAAK1mC,EAASntD,GAAK8zF,GAAKC,CAAG,EAAI,KAAK,OAAO,GAAK3mC,EAAS1hD,CAAE,CAC9F,CACA,OAAO,CAACvmC,EAAG+oB,CAAC,EAAG,CACb,KAAM,CAAC,CAAC8R,EAAI0L,CAAE,EAAG,CAACrc,EAAIC,CAAE,CAAC,EAAI,KAAK,MAC5B69D,GAAU99D,EAAK2Q,GAAM,KAAK,OAAO,MACjCotD,GAAU99D,EAAKoc,GAAM,KAAK,OAAO,OACvC,MAAO,CAACsoF,IAAM7uH,EAAI66B,GAAMmtD,EAAS,KAAK,OAAO,CAAC,EAAG8mC,IAAM/lG,EAAIwd,GAAM0hD,EAAS,KAAK,OAAO,CAAC,CAAC,CAC1F,CACF,EACA,SAASonC,GAAiBx8G,EAAQ,CAChC,OAAOA,EAAO,OAAS,aAAeA,EAAO,OAAS,YAAcA,EAAO,OAAS,cAAgBA,EAAO,OAAS,wBAA0BA,EAAO,OAAS,qBAChK,CACA,IAAIy8G,GAAiB,MAAMC,WAAwBxvC,EAAM,CACvD,YAAY/6E,EAASqzE,EAAW,CAC9B,MAAMrzE,EAASqzE,CAAS,EACxB,KAAK,MAAQ,IAAIwZ,GAAW,KAAK,iBAAiB,CAAC,EACnD,KAAK,MAAM,SAAW,SACtB,KAAK,MAAQ,IAAIA,GAAW,KAAK,iBAAiB,CAAC,EACnD,KAAK,MAAM,SAAW,OACtB,KAAK,IAAI,YAAY,WAAW,CAAC,KAAK,MAAO,KAAK,KAAK,CAAC,CAC1D,CACA,YAAa,CACX,OAAO/vF,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAMF,GAAW2tH,GAAgB,UAAW,KAAM,YAAY,EAAE,KAAK,IAAI,EACzE,KAAM,CAAE,SAAAC,CAAS,EAAI,KAAK,WAAW,EACrC,KAAK,OAAO,QAAS38G,GAAW,CAC1Bw8G,GAAiBx8G,CAAM,GACzBA,EAAO,iBAAiB28G,CAAQ,CAEpC,CAAC,CACH,CAAC,CACH,CACA,eAAgB,CACd,OAAO1tH,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAM00E,EAAa,MAAM50E,GAAW2tH,GAAgB,UAAW,KAAM,eAAe,EAAE,KAAK,IAAI,EACzF,CACJ,WAAY,CAAE,QAAAz6E,CAAQ,EACtB,WAAA4gC,EACA,eAAAnd,EACA,cAAAod,CACF,EAAI,KACEy2C,EAAiB51C,EAAW,MAAM,EACxCA,EAAW,OAAO1hC,EAAQ,KAAM,MAAM,EACtC0hC,EAAW,OAAO1hC,EAAQ,IAAK,KAAK,EACpC0hC,EAAW,OAAO1hC,EAAQ,MAAO,OAAO,EACxC0hC,EAAW,OAAO1hC,EAAQ,OAAQ,QAAQ,EAC1C,KAAK,WAAa0hC,EAClB,KAAK,cAAgBA,EACrB,KAAK,UAAYA,EACjB,MAAMi5C,EAAY,KAAK,OAAO,OAAOJ,EAAgB,EAC/CK,EAAeD,EAAU,OAAO,CAACE,EAAU98G,IAAW,CAC1D,GAAI,CAACA,EAAO,QACV,OAAO88G,EACT,MAAMjjG,EAAO7Z,EAAO,eACpB,OAAI6Z,GAAQ,KACHijG,EACLA,GAAY,KACPjjG,GACTijG,EAAS,MAAMjjG,CAAI,EACZijG,EACT,EAAG,MAAM,EACT,IAAIv7E,EACJ,GAAIs7E,GAAgB,KAAM,CACxB,KAAM,CAAE,KAAAT,EAAM,KAAAC,EAAM,KAAAC,EAAM,KAAAC,CAAK,EAAIM,EAC7Bx1F,EAAS,CACb,CAAC+0F,EAAMC,CAAI,EACX,CAACC,EAAMC,CAAI,CACb,EACMtvE,EAASivE,GAAc,OAAO70F,CAAM,EACpC,CAAE,MAAAtQ,EAAO,OAAAC,CAAO,EAAI2sD,EACpBo5C,EAAe,KAAK,IAAIhmG,EAAQk2B,EAAO,MAAOj2B,EAASi2B,EAAO,MAAM,EACpE+vE,EAAe/vE,EAAO,MAAQ8vE,EAC9BE,EAAgBhwE,EAAO,OAAS8vE,EAChCG,GAAkBnmG,EAAQimG,GAAgB,EAC1CG,GAAkBnmG,EAASimG,GAAiB,EAC5Cj1F,EAAKk1F,EACLxpF,EAAKypF,EACL9lG,EAAK6lG,EAAiBF,EACtB1lG,EAAK6lG,EAAiBF,EACtBG,EAAQ,KAAK,IAAI,YAAY,YAAY,KAAK,MAAM,EAAE,EACtDC,EAAQ,KAAK,IAAI,YAAY,YAAY,KAAK,MAAM,EAAE,EACtDC,GAASjmG,EAAK2Q,IAAOo1F,EAAM,IAAMA,EAAM,KACvCt6E,EAAS9a,EAAKs1F,EAAQF,EAAM,IAC5BG,GAASjmG,EAAKoc,IAAO,EAAI2pF,EAAM,KAAO,EAAIA,EAAM,MAChD16E,EAASjP,EAAK6pF,GAAS,EAAIF,EAAM,KACvC97E,EAAS,IAAI26E,GAAc70F,EAAQ,CACjC,CAACyb,EAAQH,CAAM,EACf,CAACG,EAASw6E,EAAO36E,EAAS46E,CAAK,CACjC,CAAC,CACH,CACAX,EAAU,QAAS58G,GAAW,CAC5BA,EAAO,MAAQuhC,CACjB,CAAC,EACD,MAAMi8E,EAAgB,KAAK,OAAO,KAAMtpH,GAAMA,EAAE,OAAO,EACvD2uE,EAAW,QAAU26C,EACrB,UAAW75E,IAAU,CAACk/B,EAAYnd,EAAgBod,CAAa,EAC7Dn/B,EAAO,aAAe,KAAK,MAAMggC,EAAW,CAAC,EAC7ChgC,EAAO,aAAe,KAAK,MAAMggC,EAAW,CAAC,EAC7ChgC,EAAO,kCACL,IAAI1rB,EAAK0rD,EAAW,EAAGA,EAAW,EAAGA,EAAW,MAAOA,EAAW,MAAM,CAC1E,EAEF,YAAK,IAAI,cAAc,uBAAuB,CAC5C,KAAM,kBACN,MAAO,CAAE,MAAO,KAAK,IAAI,MAAM,MAAO,OAAQ,KAAK,IAAI,MAAM,MAAO,EACpE,WAAY,GACZ,OAAQ,CAAE,KAAM41C,EAAgB,WAAY51C,EAAY,QAAS65C,CAAc,EAC/E,KAAM,CAAC,CACT,CAAC,EACM75C,CACT,CAAC,CACH,CACF,EACA84C,GAAe,UAAY,gBAC3BA,GAAe,KAAO,WACtB,IAAIgB,GAAgBhB,GAChBiB,GAAS/tG,GAAM,OAAO,GAAM,MAAM,EACtC,SAASguG,GAAUxrH,EAAS,CAC1B,GAAI2M,GAA0B3M,CAAO,EACnC,MAAO,YACF,GAAI6M,GAAsB7M,CAAO,EACtC,MAAO,QACF,GAAI8M,GAA0B9M,CAAO,EAC1C,MAAO,YACF,GAAI+M,GAAyB/M,CAAO,EACzC,MAAO,WAET,MAAM,IAAI,MAAM,2DAA2DA,EAAQ,IAAI,EAAE,CAC3F,CACA,IAAIyrH,GAAY,MAAMC,EAAW,CAC/B,OAAO,aAAa1rH,EAAS,CAC3B,IAAIwB,EAAIiL,EAAIC,EAAIU,EACZ,KAAK,iBAET,KAAK,gBAAkBX,GAAMjL,EAAK+D,IAAkB,iBAAmB,KAAO,OAASkH,EAAG,KAAKjL,EAAIxB,CAAO,GACzG0M,EAAK,KAAK,iBAAmB,MAAgBA,EAAG,cAAc,KAAK,WAAY,KAAK,WAAW,GAC/FU,EAAK,KAAK,iBAAmB,MAAgBA,EAAG,gBAAgB,EACjE,KAAK,eAAiB,GACxB,CACA,OAAO,cAAcu+G,EAAY,CAC/B,KAAK,WAAaA,CACpB,CACA,OAAO,eAAeC,EAAa,CACjC,KAAK,YAAcA,CACrB,CACA,OAAO,kBAAkBD,EAAY,CACnC,IAAInqH,EAAIiL,EACR,OAAQA,GAAMjL,EAAK+D,IAAkB,iBAAmB,KAAO,OAASkH,EAAG,KAAKjL,EAAI,CAAC,CAAC,EAAE,kBAAkBmqH,CAAU,CACtH,CAIA,OAAO,YAAYrvG,EAAU,CAC3B,OAAOuvG,GAAiB,YAAYvvG,CAAQ,CAC9C,CAIA,OAAO,OAAOtc,EAAS,CACrB,IAAIwB,EAAIiL,EAAIC,EACZ,KAAK,aAAa1M,CAAO,EACzB,MAAM89D,EAAQ+tD,GAAiB,eAAe7rH,CAAO,EACrD,OAAKwB,EAAK,KAAK,iBAAmB,MAAgBA,EAAG,mBAAmB,KACrEkL,GAAMD,EAAKlH,IAAkB,kBAAoB,MAAgBmH,EAAG,KAAKD,EAAIqxD,EAAM,MAAM,QAAS,KAAK,eAAe,oBAAoB,CAAC,GAEvIA,CACT,CASA,OAAO,OAAOA,EAAO99D,EAAS,CAC5B,GAAI,CAAC4rF,GAAqB,WAAW9tB,CAAK,EACxC,MAAM,IAAI,MAAM4tD,GAAW,yBAAyB,EAEtDG,GAAiB,eAAe7rH,EAAS89D,CAAK,CAChD,CASA,OAAO,YAAYA,EAAOgb,EAAc,CACtC,GAAI,CAAC8S,GAAqB,WAAW9tB,CAAK,EACxC,MAAM,IAAI,MAAM4tD,GAAW,yBAAyB,EAEtDG,GAAiB,gBAAgB/tD,EAAOgb,CAAY,CACtD,CAIA,OAAO,SAAShb,EAAO99D,EAAS,CAC9B,GAAI,EAAE89D,aAAiB8tB,IACrB,MAAM,IAAI,MAAM8/B,GAAW,yBAAyB,EAEtDG,GAAiB,SAAS/tD,EAAO99D,CAAO,EAAE,MAAO3C,GAAMuD,EAAO,UAAUvD,CAAC,CAAC,CAC5E,CAIA,OAAO,gBAAgBygE,EAAO99D,EAAS,CACrC,GAAI,EAAE89D,aAAiB8tB,IACrB,MAAM,IAAI,MAAM8/B,GAAW,yBAAyB,EAEtD,OAAOG,GAAiB,gBAAgB/tD,EAAO99D,CAAO,CACxD,CACF,EACAyrH,GAAU,0BAA4B,6CACtCA,GAAU,eAAiB,GAC3BA,GAAU,YAAc,GACxB,IAAIK,GAAoB,MAAMC,EAAmB,CAC/C,OAAO,YAAYzvG,EAAU,CAC3B,MAAMwhD,EAAQid,GAAM,YAAYz+D,CAAQ,EACxC,OAAOwhD,EAAQ8tB,GAAqB,eAAe,IAAI9tB,CAAK,EAAI,MAClE,CACA,OAAO,mBAAoB,CACrBiuD,GAAmB,cAEvBlF,GAAuB,EACvBC,GAAa,EACbiF,GAAmB,YAAc,GACnC,CACA,OAAO,eAAe/rH,EAASgsH,EAAO,CACpC,IAAIv/G,EACJs/G,GAAmB,kBAAkB,EACrCR,GAAO,8CAA+CvrH,CAAO,EAC7D,MAAMwB,EAAKxB,EAAS,CAAE,yBAAAyzE,EAA0B,SAAU32D,EAAW,OAAQmvG,CAAW,EAAIzqH,EAAIqc,EAAcvhB,GAAUkF,EAAI,CAAC,2BAA4B,WAAY,QAAQ,CAAC,EACxKo3E,EAAe,IAAIh7D,GAAaC,EAAa,CAAE,yBAAA41D,EAA0B,SAAU32D,EAAW,OAAQmvG,CAAW,CAAC,EACxH,IAAInuD,EAAiCkuD,GAAM,MAC3C,OAAIluD,GAAS,MAAQ0tD,GAAU3tG,CAAW,IAAM2tG,GAAU1tD,EAAM,gBAAgB,KAC9EA,EAAQiuD,GAAmB,oBAAoBnzC,EAAc9a,CAAK,GAEhEkuD,GAAS,KACXA,EAAQ,IAAIpgC,GAAqB9tB,CAAK,EAEtCkuD,EAAM,MAAQluD,EAEZytD,GAAO,MAAM,GAAK,OAAO,OAAW,OACrC9+G,EAAK,OAAO,mBAAqB,OAAY,OAAO,iBAAmB,CAAC,GACzE,OAAO,iBAAiBqxD,EAAM,EAAE,EAAIA,GAEtCA,EAAM,kBAAkB,KAAKjgD,CAAW,EACxCigD,EAAM,qBAAsBouD,GAAa,CACvCA,EAAS,aAAatzC,CAAY,EAClCszC,EAAS,kBAAkB,OAAO,EAAGA,EAAS,kBAAkB,QAAQruG,CAAW,CAAC,CACtF,CAAC,EACMmuG,CACT,CACA,OAAO,gBAAgBA,EAAOlzC,EAAc,CAC1CA,EAAe7pE,GAAU6pE,EAAc,CAAE,QAAS,CAAC,MAAM,CAAE,CAAC,EAC5D3pE,GACE2pE,EACCtpE,GAAS,CACR,GAAI,OAAOA,GAAS,SAEpB,SAAW,CAAC7V,EAAKC,CAAK,IAAK,OAAO,QAAQ4V,CAAI,EACxC,OAAO5V,EAAU,KACnB,OAAO,OAAO4V,EAAM,CAAE,CAAC7V,CAAG,EAAG,OAAO,OAAO,CAAE,CAAC,CAGpD,EACA,CAAE,KAAM,CAAC,MAAM,CAAE,CACnB,EACA,KAAM,CAAE,MAAAmkE,CAAM,EAAIkuD,EACZG,EAAoBruD,EAAM,WAAW,EACrCjgD,EAAcjU,GAAckvE,EAAcqzC,CAAiB,EACjEZ,GAAO,6CAA8CzyC,CAAY,EACjEyyC,GAAO,6CAA8CY,CAAiB,EACtEJ,GAAmB,eAAeluG,EAAamuG,CAAK,CACtD,CAIA,OAAO,SAASA,EAAO18G,EAAM,CAC3B,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,GAAI,CACF,MAAMwN,EAAQ,MAAMyhH,GAAmB,oBAAoBC,EAAO18G,CAAI,EACtEhF,EAAM,MAAM,IAAI,MAAM,SAAiCgF,GAAK,SAAkCA,GAAK,UAAU,EAC7GhF,EAAM,QAAQ,CAChB,OAASoG,EAAO,CACd9P,EAAO,UAAU8P,CAAK,CACxB,CACF,CAAC,CACH,CACA,OAAO,gBAAgBs7G,EAAO18G,EAAM,CAClC,OAAOxS,EAAQ,KAAM,KAAM,WAAa,CACtC,MAAMwN,EAAQ,MAAMyhH,GAAmB,oBAAoBC,EAAO18G,CAAI,EAChEjV,EAASiQ,EAAM,MAAM,IAAI,MAAM,WAAmCgF,GAAK,UAAU,EACvF,OAAAhF,EAAM,QAAQ,EACPjQ,CACT,CAAC,CACH,CACA,OAAO,oBAAoBi5E,EAAI,CAC7B,OAAOx2E,EAAQ,KAAM,UAAW,UAAW,CAAE,MAAAghE,CAAM,EAAGxuD,EAAO,CAAC,EAAG,CAC/D,IAAI9N,EAAIiL,EAAIC,EAAIU,EAChB,MAAMwX,GAASnY,GAAMjL,EAAK8N,EAAK,QAAU,KAAO9N,EAAKs8D,EAAM,QAAU,KAAOrxD,EAAKqxD,EAAM,IAAI,MAAM,OAAO,MAClGj5C,GAAUzX,GAAMV,EAAK4C,EAAK,SAAW,KAAO5C,EAAKoxD,EAAM,SAAW,KAAO1wD,EAAK0wD,EAAM,IAAI,MAAM,OAAO,OACrG99D,EAAU4J,GACd,CACE,UAAW,SAAS,cAAc,KAAK,EACvC,yBAA0B,EAC1B,SAAU,GACV,MAAAgb,EACA,OAAAC,CACF,EAEA1e,GAAe,qBAAqB,GAAK,CAAE,UAAW,CAAE,QAAS,EAAM,CAAE,EACzE23D,EAAM,WACR,EACMsuD,EAAaL,GAAmB,eAAe/rH,CAAO,EAC5D,OAAAosH,EAAW,MAAM,IAAI,YAAY,WAAW,YAAatuD,EAAM,IAAI,YAAY,QAAQ,CAAC,EACxFA,EAAM,OAAO,QAAQ,CAACjwD,EAAQ9H,IAAU,CACjC8H,EAAO,UACVu+G,EAAW,MAAM,OAAOrmH,CAAK,EAAE,QAAU,GAE7C,CAAC,EACD+3D,EAAM,OAAO,EAAG,CAAE,qBAAsB,EAAK,CAAC,EAC9C,MAAMsuD,EAAW,MAAM,cAAc,EAC9BA,CACT,CAAC,CACH,CACA,OAAO,oBAAoBpsH,EAASqsH,EAAU,CAC5C,MAAMC,EAAmDD,GAAS,QAAQ,CAAE,0BAA2B,EAAK,CAAC,EACvGE,EAAmBR,GAAmB,kBAAkB/rH,EAAQ,gBAAgB,EACtF,OAAO,IAAIusH,EAAiBvsH,EAASssH,CAAoB,CAC3D,CACA,OAAO,kBAAkBtsH,EAAS,CAChC,GAAI2M,GAA0B3M,CAAO,EACnC,OAAOurF,GACF,GAAIz+E,GAA0B9M,CAAO,EAC1C,OAAOqnH,GACF,GAAIx6G,GAAsB7M,CAAO,EACtC,OAAOupH,GACF,GAAIx8G,GAAyB/M,CAAO,EACzC,OAAOsrH,GAET,MAAM,IAAI,MACR,iHACF,CACF,CACF,EACAQ,GAAkB,YAAc,GAChC,IAAID,GAAmBC,GACnBU,GAAkC,CAAC,EACvC/vH,GAAS+vH,GAAiC,CACxC,IAAK,IAAMC,GACX,KAAM,IAAM3mG,EACZ,UAAW,IAAMoQ,GACjB,QAAS,IAAMqpB,GACf,2BAA4B,IAAMy+C,GAClC,OAAQ,IAAM9c,GACd,gBAAiB,IAAM9kD,GACvB,QAAS,IAAMolD,GACf,WAAY,IAAMyc,GAClB,eAAgB,IAAM/f,GACtB,MAAO,IAAM14C,EACb,WAAY,IAAM4oB,GAClB,MAAO,IAAMs+D,GACb,MAAO,IAAMz/E,GACb,KAAM,IAAMwM,GACZ,mBAAoB,IAAMkzE,GAC1B,YAAa,IAAM9gC,GACnB,OAAQ,IAAMhL,GACd,KAAM,IAAMj1D,GACZ,iBAAkB,IAAM8X,GACxB,KAAM,IAAM27C,GACZ,cAAe,IAAM11D,GACrB,kBAAmB,IAAMijG,GACzB,KAAM,IAAMt9B,GACZ,WAAY,IAAMvpE,GAClB,MAAO,IAAM6qC,GACb,qBAAsB,IAAMzqC,EAC5B,yBAA0B,IAAMi5D,GAChC,OAAQ,IAAM43B,GACd,UAAW,IAAMpC,GACjB,UAAW,IAAM/8D,GACjB,MAAO,IAAMhR,GACb,OAAQ,IAAMm7C,GACd,KAAM,IAAMp1C,GACZ,QAAS,IAAMgR,GACf,SAAU,IAAM6kC,GAChB,OAAQ,IAAMhzD,GACd,QAAS,IAAM6Y,GACf,UAAW,IAAMw6C,GACjB,qBAAsB,IAAM+pC,GAC5B,OAAQ,IAAMC,GACd,eAAgB,IAAMhpG,GACtB,0BAA2B,IAAMK,GACjC,UAAW,IAAMgQ,GACjB,cAAe,IAAMkpB,EACvB,CAAC,EACD,IAAIovE,GAAO,cAAcptC,EAAK,CAC5B,aAAc,CACZ,MAAM,EACN,KAAK,QAAU,EACf,KAAK,QAAU,EACf,KAAK,OAAS,GACd,KAAK,WAAa,EAClB,KAAK,SAAW,KAAK,GAAK,EAC1B,KAAK,iBAAmB,GACxB,KAAK,KAAO,EACZ,KAAK,iBAAiB,CACxB,CACA,IAAI,SAAU,CACZ,OAAOr8D,GAAQyQ,GAAkB,KAAK,UAAU,EAAGA,GAAkB,KAAK,QAAQ,CAAC,CACrF,CACA,YAAa,CACX,MAAMjpB,EAAO,KAAK,KAClBA,EAAK,MAAM,EACXA,EAAK,IAAI,KAAK,QAAS,KAAK,QAAS,KAAK,OAAQ,KAAK,WAAY,KAAK,SAAU,KAAK,gBAAgB,EACnG,KAAK,OAAS,EAChBA,EAAK,UAAU,EACN,KAAK,OAAS,GAAK,CAAC,KAAK,UAClCA,EAAK,OAAO,KAAK,QAAS,KAAK,OAAO,EACtCA,EAAK,UAAU,EAEnB,CACA,aAAc,CACZ,OAAO,IAAIsb,EAAK,KAAK,QAAU,KAAK,OAAQ,KAAK,QAAU,KAAK,OAAQ,KAAK,OAAS,EAAG,KAAK,OAAS,CAAC,CAC1G,CACA,cAAc9qB,EAAG+oB,EAAG,CAClB,MAAM8kB,EAAQ,KAAK,eAAe7tC,EAAG+oB,CAAC,EAChC2D,EAAO,KAAK,YAAY,EAC9B,OAAO,KAAK,OAAS,GAAKA,EAAK,cAAcmhB,EAAM,EAAGA,EAAM,CAAC,GAAK,KAAK,KAAK,cAAcA,EAAM,EAAGA,EAAM,CAAC,CAC5G,CACF,EACA4jF,GAAK,UAAY,MACjBA,GAAK,cAAgB,OAAO,OAAO,CAAC,EAAG5lF,GAAM,cAAe,CAC1D,UAAW,EACX,UAAW,IACb,CAAC,EACDlqC,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGqtC,GAAK,UAAW,UAAW,CAAC,EAC/B9vH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGqtC,GAAK,UAAW,UAAW,CAAC,EAC/B9vH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGqtC,GAAK,UAAW,SAAU,CAAC,EAC9B9vH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGqtC,GAAK,UAAW,aAAc,CAAC,EAClC9vH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGqtC,GAAK,UAAW,WAAY,CAAC,EAChC9vH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGqtC,GAAK,UAAW,mBAAoB,CAAC,EACxC9vH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGqtC,GAAK,UAAW,OAAQ,CAAC,EAC5B,IAAIE,GAAqB,cAAc9lF,EAAM,CAC3C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,WACjB,KAAK,MAAQ,OACb,KAAK,MAAQ,MACf,CACA,IAAI,MAAO,CACT,OAAO,KAAK,KACd,CACA,IAAI,KAAKkmF,EAAS,CACZ,KAAK,OAAS,MAChB,KAAK,YAAY,KAAK,KAAK,EAEzBA,GAAW,MACb,KAAK,YAAYA,CAAO,EAE1B,KAAK,MAAQA,CACf,CACA,cAAc/xH,EAAG+oB,EAAG,CAClB,IAAIviB,EAAIiL,EACR,OAAQA,GAAMjL,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,cAAcxG,EAAG+oB,CAAC,IAAM,KAAOtX,EAAK,EAC1F,CACA,aAAc,CACZ,IAAIjL,EACJ,OAAQA,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,YAAY,CAC5D,CACA,OAAOypB,EAAW,CAChB,KAAM,CAAE,KAAAwxE,EAAM,MAAA/2D,CAAM,EAAI,KAClB,CAAE,IAAArd,EAAK,iBAAAuxB,CAAiB,EAAI3uB,EAC5B+hG,EAAc,EAAIpzE,EAClBqzE,EAAmCxwB,GAAK,uBAAuB,EACrE,GAAIA,GAAQ,MAAQ/2D,GAAS,MAAQunF,GAAY,KAC/C,OACExwB,EAAK,YACPA,EAAK,WAAW,EAChBA,EAAK,UAAY,IAEnBp0E,EAAI,KAAK,EACTA,EAAI,KAAKo0E,EAAK,KAAK,UAAU,CAAC,EAC9Bp0E,EAAI,aAAauxB,EAAkB,EAAG,EAAGA,EAAkB,EAAG,CAAC,EAC/D,MAAM/jB,EAAK,KAAK,MAAMo3F,EAAS,CAAC,EAC1B/nG,EAAK,KAAK,KAAK+nG,EAAS,EAAIA,EAAS,KAAK,EAC1C1rF,EAAK,KAAK,MAAM0rF,EAAS,CAAC,EAC1B9nG,EAAK,KAAK,KAAK8nG,EAAS,EAAIA,EAAS,MAAM,EAC3Crc,EAAa,IAAIlB,GACjB,CAACwd,EAAIC,CAAE,EAAI,KAAK,YAAc,WAAa,CAACt3F,EAAI3Q,CAAE,EAAI,CAACqc,EAAIpc,CAAE,EAMnE,GALAyrF,EAAW,OAASlrE,EAAM,IAAI,CAACxnB,EAAGnY,IACzBmnH,GAAMC,EAAKD,GAAMnnH,GAAS2/B,EAAM,OAAS,EACjD,EACDkrE,EAAW,MAAQlrE,EACnBkrE,EAAW,OAAO,EACd,KAAK,YAAc,WAAY,CACjC,MAAM/rF,EAASM,EAAKoc,EACpB,QAASvmC,EAAI66B,EAAI76B,GAAKkqB,EAAIlqB,GAAKgyH,EAC7B3kG,EAAI,UAAYuoF,EAAW,QAAQ51G,CAAC,EACpCqtB,EAAI,SAASrtB,EAAGumC,EAAIyrF,EAAanoG,CAAM,CAE3C,KAAO,CACL,MAAMD,EAAQM,EAAK2Q,EACnB,QAAS9R,EAAIwd,EAAIxd,GAAKoB,EAAIpB,GAAKipG,EAC7B3kG,EAAI,UAAYuoF,EAAW,QAAQ7sF,CAAC,EACpCsE,EAAI,SAASwN,EAAI9R,EAAGa,EAAOooG,CAAW,CAE1C,CACA3kG,EAAI,QAAQ,CACd,CACF,EACA1rB,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGwmG,GAAmB,UAAW,YAAa,CAAC,EAC/ChwH,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGwmG,GAAmB,UAAW,QAAS,CAAC,EAC3ChwH,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGwmG,GAAmB,UAAW,QAAS,CAAC,EAC3C,SAASS,GAAYpyH,EAAG+oB,EAAG2E,EAAU,CACnC,MAAMkM,EAAS,KAAK,KAAK14B,EAAMlB,EAAG,CAAC,EAAIkB,EAAM6nB,EAAG,CAAC,CAAC,EAE5C4pB,EADQ,KAAK,MAAM5pB,EAAG/oB,CAAC,EACL0tB,EACxB,MAAO,CACL,EAAG,KAAK,IAAIilB,CAAO,EAAI/Y,EACvB,EAAG,KAAK,IAAI+Y,CAAO,EAAI/Y,CACzB,CACF,CACA,IAAIg4F,GAAoB,cAAcvtC,EAAK,CACzC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,WAAa,IAAInB,GACtB,KAAK,UAAY,GACjB,KAAK,YAAc,EACnB,KAAK,WAAa,EAClB,KAAK,SAAW,EAChB,KAAK,YAAc,EACnB,KAAK,YAAc,EACnB,KAAK,gBAAkB,EACvB,KAAK,gBAAkB,EACvB,KAAK,qBAAuB,EAC9B,CACA,aAAc,CACZ,KAAM,CAAE,WAAAnqD,EAAY,SAAAC,CAAS,EAAI,KAC3B+lF,EAAWzlF,GAAaP,EAAYC,CAAQ,EAClD,OAAOP,GAAkBM,EAAagmF,EAAW,EAAI,KAAK,GAAK,CAAC,CAClE,CACA,YAAa,CACX,KAAM,CAAE,UAAAsT,CAAU,EAAI,KAClBA,EACF,KAAK,kBAAkB,EAEvB,KAAK,sBAAsB,EAE7B,KAAK,eAAe,CACtB,CACA,uBAAwB,CACtB,KAAM,CAAE,YAAAt6B,EAAa,YAAA3Q,EAAa,YAAA0yB,EAAa,KAAAtqG,CAAK,EAAI,KAClD6Q,EAAO,CAAC03E,EAAc,EACtBz3E,EAAQy3E,EAAc,EACtBptE,EAAM,CAACmvF,EACPlvF,EAAS,CAACw8D,EACV15D,EAAW,KAAK,YAAY,EAC5Bi9E,EAAS,CACb,CAACtqF,EAAMuK,CAAM,EACb,CAACvK,EAAMsK,CAAG,EACV,CAACrK,EAAOqK,CAAG,EACX,CAACrK,EAAOsK,CAAM,EACd,CAACvK,EAAMuK,CAAM,CACf,EAAE,IAAI,CAAC,CAAC5qB,EAAG+oB,CAAC,IAAMqpG,GAAYpyH,EAAG+oB,EAAG2E,CAAQ,CAAC,EAC7Cle,EAAK,MAAM,EAAI,EACfA,EAAK,OAAOm7F,EAAO,CAAC,EAAE,EAAGA,EAAO,CAAC,EAAE,CAAC,EACpCn7F,EAAK,OAAOm7F,EAAO,CAAC,EAAE,EAAGA,EAAO,CAAC,EAAE,CAAC,EACpCn7F,EAAK,OAAOm7F,EAAO,CAAC,EAAE,EAAGA,EAAO,CAAC,EAAE,CAAC,EACpCn7F,EAAK,OAAOm7F,EAAO,CAAC,EAAE,EAAGA,EAAO,CAAC,EAAE,CAAC,EACpCn7F,EAAK,OAAOm7F,EAAO,CAAC,EAAE,EAAGA,EAAO,CAAC,EAAE,CAAC,EACpCn7F,EAAK,UAAU,CACjB,CACA,mBAAoB,CAClB,KAAM,CAAE,YAAAuoF,EAAa,KAAAvoF,EAAM,YAAAsqG,EAAa,YAAA1yB,EAAa,gBAAAkrC,EAAiB,gBAAAC,EAAiB,qBAAAC,CAAqB,EAAI,KAC1GC,EAAgBzqG,GAAQo/D,EAAakrC,CAAe,EACpDI,EAAe,KAAK,KAAK36B,EAAc,EAAI3Q,CAAW,EACtDurC,EAAgB,KAAK,YAAY,EACjCC,EAAS,CAAC5yH,EAAG+oB,IAAMqpG,GAAYpyH,EAAG+oB,EAAG4pG,CAAa,EAClDE,EAAwB,CAACC,EAAKC,IAAa,KAAK,KAAK7xH,EAAM4xH,EAAK,CAAC,EAAI5xH,EAAM6xH,EAAU,CAAC,CAAC,EACvFC,EAAiB,CAACC,EAAYF,IAC9BA,EAAWE,EACN,EAEF,KAAK,KAAK/xH,EAAM+xH,EAAY,CAAC,EAAI/xH,EAAM6xH,EAAU,CAAC,CAAC,EAEtDG,EAAU,CAACt0H,EAAOu0H,EAAYC,IAAaA,EAAWx0H,EAAQu0H,EAAav0H,EAAQu0H,EACnFE,EAA4BZ,GAAiB,CAAC,MAAMC,CAAY,GAAKA,EAAe,KAAK,GAAK,EACpG,IAAIryG,EAAO,CAAC03E,EAAc,EACtBz3E,EAAQy3E,EAAc,EAC1B,MAAMptE,EAAM,CAACmvF,EACPlvF,EAAS,CAACw8D,GAAeisC,EAA4B,KAAK,IAAIX,CAAY,EAAI,GAC9EY,EAAwBJ,EAC5BX,EACAM,EAAsBzrC,EAAa2Q,EAAc,CAAC,EAClD,CAACy6B,CACH,EACA,GAAIc,EAAuB,CACzB,MAAMC,EAAsBP,EAAeT,EAAiBnrC,CAAW,EACvE/mE,EAAO,CAACkzG,EACRjzG,EAAQizG,CACV,CACA/jH,EAAK,MAAM,EAAI,EACf,MAAMgkH,EAAeZ,EAAOvyG,EAAMuK,CAAM,EACxCpb,EAAK,OAAOgkH,EAAa,EAAGA,EAAa,CAAC,EAC1C,MAAMC,EAAUzrG,GAAQo/D,EAAa0yB,CAAW,EAC1C4Z,EAAsBR,EAC1BX,EACAM,EAAsB/Y,EAAa/hB,EAAc,CAAC,EAClD,CAACy6B,CACH,EACA,GAAIiB,GAAWJ,EACb7jH,EAAK,IACH,EACA,EACA43E,EACA3uD,GAAkB,CAACi6F,EAAe,KAAK,GAAK,CAAC,EAAIC,EACjDl6F,GAAkBi6F,EAAe,KAAK,GAAK,CAAC,EAAIC,EAChD,EACF,UACSe,EAAqB,CAC9B,MAAMC,EAAoB,CAACX,EAAeT,EAAiBx6B,EAAc,CAAC,EACpE67B,EAAmBZ,EAAeT,EAAiBzY,CAAW,EACpE,GAAI,CAACwZ,EAAuB,CAC1B,MAAMO,EAAYjB,EAAOvyG,EAAMszG,CAAiB,EAChDnkH,EAAK,OAAOqkH,EAAU,EAAGA,EAAU,CAAC,CACtC,CASA,GARArkH,EAAK,IACH,EACA,EACA+iH,EACA,KAAK,MAAMoB,EAAmBtzG,CAAI,EAAIsyG,EACtC,KAAK,MAAMhoG,EAAK,CAACipG,CAAgB,EAAIjB,EACrC,EACF,EACI,CAAC3qG,GAAQ4rG,EAAkB,CAAC,EAAG,CACjC,MAAME,EAAkBlB,EAAOgB,EAAkBjpG,CAAG,EACpDnb,EAAK,OAAOskH,EAAgB,EAAGA,EAAgB,CAAC,CAClD,CACAtkH,EAAK,IACH,EACA,EACA+iH,EACA,KAAK,MAAM5nG,EAAKipG,CAAgB,EAAIjB,EACpC,KAAK,MAAMgB,EAAmBrzG,CAAK,EAAIqyG,EACvC,EACF,CACF,KAAO,CACL,MAAMkB,EAAYjB,EAAOvyG,EAAMsK,CAAG,EAC5BopG,EAAanB,EAAOtyG,EAAOqK,CAAG,EACpCnb,EAAK,OAAOqkH,EAAU,EAAGA,EAAU,CAAC,EACpCrkH,EAAK,OAAOukH,EAAW,EAAGA,EAAW,CAAC,CACxC,CACA,MAAMC,EAAgBpB,EAAOtyG,EAAOsK,CAAM,EAE1C,GADApb,EAAK,OAAOwkH,EAAc,EAAGA,EAAc,CAAC,EACxCX,EACF7jH,EAAK,IACH,EACA,EACA43E,EACA3uD,GAAkBi6F,EAAe,KAAK,GAAK,CAAC,EAAIC,EAChDl6F,GAAkB,CAACi6F,EAAe,KAAK,GAAK,CAAC,EAAIC,EACjD,EACF,MACK,CACL,MAAMsB,EAAsBrB,EAAOvyG,EAAMuK,CAAM,EAC/Cpb,EAAK,OAAOykH,EAAoB,EAAGA,EAAoB,CAAC,CAC1D,CACAzkH,EAAK,UAAU,CACjB,CACF,EACAoiH,GAAkB,UAAY,oBAC9BjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,YAAa,CAAC,EAC9CjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,cAAe,CAAC,EAChDjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,aAAc,CAAC,EAC/CjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,WAAY,CAAC,EAC7CjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,cAAe,CAAC,EAChDjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,cAAe,CAAC,EAChDjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,kBAAmB,CAAC,EACpDjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,kBAAmB,CAAC,EACpDjwH,EAAiB,CACfyiF,GAAyB,CAC3B,EAAGwtC,GAAkB,UAAW,uBAAwB,CAAC,EACzD,SAASC,GAAqB94F,EAAYC,EAAUu5F,EAAiB2B,EAAkBC,EAAqB,CAC1G,MAAMzmG,EAAW4L,GAAaP,EAAYC,CAAQ,EAC5C80B,EAAOpgC,GAAY,EAAIwmG,GAAoB,EAGjD,GAFAn7F,GAAc+0B,EACd90B,GAAY80B,EACRpgC,EAAW,KACb,MAAO,GAAI6kG,EAAkB4B,EAE/B,GAAIzmG,GAAY,EAAI,KAAK,GAAI,CAC3B,MAAMqxF,EAAWhmF,EAAarL,EAAW,EACzCqL,EAAagmF,EAAW,KAAK,GAC7B/lF,EAAW+lF,EAAW,KAAK,EAC7B,CACA,MAAM3gE,EAASm0E,EAAkB,KAAK,IAAIx5F,CAAU,EAC9CslB,EAASk0E,EAAkB,KAAK,IAAIx5F,CAAU,EAC9CulB,EAAOi0E,EAAkB,KAAK,IAAIv5F,CAAQ,EAC1CulB,EAAOg0E,EAAkB,KAAK,IAAIv5F,CAAQ,EAC1Co7F,EAAW,KAAK,MAAM,KAAK,KAAKlzH,EAAMk9C,EAASE,EAAM,CAAC,EAAIp9C,EAAMm9C,EAASE,EAAM,CAAC,CAAC,CAAC,EAClFpQ,EAAW,EAAIokF,EAAkB4B,EACvC,OAAO,KAAK,IAAI,EAAG,KAAK,IAAIhmF,EAAUimF,CAAQ,CAAC,CACjD,CACA,IAAI1C,GAAQ,cAAc9gG,EAAK,CAC7B,YAAYyjG,EAAa,CACvB,MAAM,EACN,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,MAAQ,EACb,KAAK,OAAS,EACd,KAAK,QAAU,EACf,KAAK,YAAcA,CACrB,CACA,OAAOpkG,EAAW,CAChB,KAAM,CAAE,IAAA5C,EAAK,YAAAuc,EAAa,MAAA1Z,CAAM,EAAID,EACpC,GAAI,KAAK,QAAU,GAAK,CAAC2Z,EAAa,CAChC1Z,GACFA,EAAM,eACR,MACF,CACA,KAAK,uBAAuB,EAC5B,KAAK,OAAO,UAAU7C,CAAG,EACzB,MAAMinG,EAAQ,KAAK,YACnBjnG,EAAI,YAAc,KAAK,QACvBA,EAAI,UAAUinG,EAAO,EAAG,EAAGA,EAAM,MAAOA,EAAM,OAAQ,KAAK,EAAG,KAAK,EAAG,KAAK,MAAO,KAAK,MAAM,EAC7F,MAAM,OAAOrkG,CAAS,CACxB,CACF,EACAtuB,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGumG,GAAM,UAAW,IAAK,CAAC,EAC1B/vH,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGumG,GAAM,UAAW,IAAK,CAAC,EAC1B/vH,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGumG,GAAM,UAAW,QAAS,CAAC,EAC9B/vH,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGumG,GAAM,UAAW,SAAU,CAAC,EAC/B/vH,EAAiB,CACfwpB,EAAqB,CACnB,OAAQ,CAEV,CAAC,CACH,EAAGumG,GAAM,UAAW,UAAW,CAAC,EAChC,IAAII,GAAS1wH,EAAgBA,EAAgB,CAAC,EAAG4lB,EAAoB,EAAGixB,EAAmB,EACvFs8E,GAAkC,CAAC,EACvC9yH,GAAS8yH,GAAiC,CACxC,oBAAqB,IAAMh9G,GAC3B,WAAY,IAAM2D,GAClB,mCAAoC,IAAMxB,GAC1C,+BAAgC,IAAMC,GACtC,0BAA2B,IAAMF,GACjC,yBAA0B,IAAMd,GAChC,yBAA0B,IAAMC,GAChC,0BAA2B,IAAME,GACjC,gBAAiB,IAAME,GACvB,2BAA4B,IAAMH,GAClC,sCAAuC,IAAMS,GAC7C,oBAAqB,IAAMhB,GAC3B,wBAAyB,IAAMiB,GAC/B,0BAA2B,IAAMC,GACjC,mCAAoC,IAAMf,GAC1C,8BAA+B,IAAMD,GACrC,qBAAsB,IAAMD,GAC5B,2BAA4B,IAAMG,GAClC,4BAA6B,IAAMW,GACnC,sBAAuB,IAAMN,GAC7B,+CAAgD,IAAMK,GACtD,0CAA2C,IAAMF,GACjD,0CAA2C,IAAMD,GACjD,uCAAwC,IAAME,GAC9C,sBAAuB,IAAMnB,GAC7B,gCAAiC,IAAMG,GACvC,2BAA4B,IAAMF,GAClC,2BAA4B,IAAMC,GAClC,kCAAmC,IAAMG,GACzC,wBAAyB,IAAMD,GAC/B,UAAW,IAAMnB,GACjB,YAAa,IAAME,GACnB,cAAe,IAAMY,GACrB,iBAAkB,IAAMJ,GACxB,gBAAiB,IAAMF,GACvB,SAAU,IAAMJ,GAChB,cAAe,IAAM2H,GACrB,qBAAsB,IAAMkjF,GAC5B,2BAA4B,IAAMF,GAClC,OAAQ,IAAMwyB,EAChB,CAAC,EACD,IAAIA,GAAUtlH,GAAUuP,GAASg2G,GAAiDA,IAAa,CAAC,EAC5FC,GAA2B,CAAC,EAChCjzH,GAASizH,GAA0B,CACjC,UAAW,IAAMx5F,GACjB,WAAY,IAAMw5E,GAClB,gBAAiB,IAAMtzE,GACvB,aAAc,IAAMtH,GACpB,YAAa,IAAM+2D,GACnB,iBAAkB,IAAMnoD,GACxB,UAAW,IAAMjB,EACnB,CAAC,EACD,IAAIktF,GAA0B,CAAC,EAC/BlzH,GAASkzH,GAAyB,CAChC,MAAO,IAAMxgG,GACb,OAAQ,IAAMvuB,EACd,QAAS,IAAMqxD,GACf,aAAc,IAAM39B,GACpB,2BAA4B,IAAMinB,GAClC,qBAAsB,IAAMG,GAC5B,UAAW,IAAMvgC,GACjB,WAAY,IAAM4zB,GAClB,MAAO,IAAMnsB,GACb,WAAY,IAAMC,GAClB,oBAAqB,IAAMc,GAC3B,SAAU,IAAMrB,GAChB,UAAW,IAAMrT,GACjB,wBAAyB,IAAMwlB,GAC/B,OAAQ,IAAMra,GACd,WAAY,IAAM0I,GAClB,gBAAiB,IAAMC,GACvB,gBAAiB,IAAM8Q,GACvB,aAAc,IAAMib,GACpB,OAAQ,IAAMpmC,GACd,gBAAiB,IAAMs4B,GACvB,QAAS,IAAMhe,GACf,WAAY,IAAME,GAClB,SAAU,IAAMha,GAChB,cAAe,IAAM8Z,GACrB,eAAgB,IAAM6rB,GACtB,SAAU,IAAM7lC,GAChB,eAAgB,IAAM4lC,GACtB,UAAW,IAAMl/B,GACjB,SAAU,IAAMb,GAChB,SAAU,IAAMM,GAChB,IAAK,IAAMsU,GACX,iBAAkB,IAAMjJ,GACxB,6BAA8B,IAAMC,GACpC,kBAAmB,IAAMmZ,GACzB,kBAAmB,IAAMH,GACzB,2BAA4B,IAAME,GAClC,MAAO,IAAMwM,GACb,SAAU,IAAM9d,GAChB,MAAO,IAAMc,GACb,aAAc,IAAMw6E,GACpB,aAAc,IAAMphD,GACpB,aAAc,IAAMrtC,GACpB,WAAY,IAAMunC,GAClB,SAAU,IAAMrW,GAChB,MAAO,IAAMJ,GACb,UAAW,IAAM3L,GACjB,QAAS,IAAM/Q,GACf,UAAW,IAAM6Q,GACjB,iCAAkC,IAAM8a,GACxC,UAAW,IAAM2gF,EACnB,CAAC,EACD,SAASA,GAAU/lH,EAAMwQ,EAAQ,CAC/B,MAAMw1G,EAAS,CAAC,EAChB,GAAI,MAAM,QAAQx1G,CAAM,EACtB,QAAS/f,EAAI,EAAGA,EAAIuP,EAAK,OAAQvP,IAC/Bu1H,EAAO,GAAGhmH,EAAKvP,CAAC,CAAC,EAAE,EAAI+f,EAAO/f,CAAC,MAGjC,SAASA,EAAI,EAAGA,EAAIuP,EAAK,OAAQvP,IAC/Bu1H,EAAO,GAAGhmH,EAAKvP,CAAC,CAAC,EAAE,EAAI+f,EAG3B,OAAOw1G,CACT,CACA,IAAIC,GAAyB,CAAC,EAC9BrzH,GAASqzH,GAAwB,CAC/B,IAAK,IAAM94F,GACX,MAAO,IAAMoB,GACb,SAAU,IAAME,GAChB,kBAAmB,IAAMyyE,GACzB,4BAA6B,IAAMD,GACnC,YAAa,IAAM5uD,GACnB,UAAW,IAAMxrB,GACjB,iBAAkB,IAAMknC,GACxB,cAAe,IAAM4tC,GACrB,KAAM,IAAMv9C,GACZ,UAAW,IAAM/H,GACjB,SAAU,IAAMllB,GAChB,QAAS,IAAMtD,EACf,cAAe,IAAMuB,GACrB,WAAY,IAAMs3D,GAClB,iBAAkB,IAAMC,GACxB,mBAAoB,IAAMhrF,GAC1B,eAAgB,IAAMwI,GACtB,aAAc,IAAM+qB,GACpB,mBAAoB,IAAMC,GAC1B,cAAe,IAAMsvB,GACrB,gBAAiB,IAAMg8B,GACvB,yBAA0B,IAAMH,GAChC,0BAA2B,IAAME,GACjC,aAAc,IAAM77B,GACpB,iBAAkB,IAAMD,GACxB,mBAAoB,IAAMttB,GAC1B,kBAAmB,IAAMw9B,GACzB,aAAc,IAAM76C,GACpB,gBAAiB,IAAM4/C,GACvB,oBAAqB,IAAM1E,GAC3B,cAAe,IAAMK,GACrB,KAAM,IAAMvgC,GACZ,WAAY,IAAMQ,GAClB,oBAAqB,IAAMP,GAC3B,iCAAkC,IAAMorD,GACxC,kCAAmC,IAAMC,GACzC,sBAAuB,IAAMpnC,GAC7B,2BAA4B,IAAMC,GAClC,OAAQ,IAAM7kB,GACd,UAAW,IAAM+B,GACjB,eAAgB,IAAMwrC,GACtB,UAAW,IAAMtG,GACjB,gBAAiB,IAAM4jB,GACvB,YAAa,IAAMjvB,GACnB,QAAS,IAAM39B,GACf,WAAY,IAAMzU,GAClB,uBAAwB,IAAMG,GAC9B,sBAAuB,IAAMm7B,GAC7B,WAAY,IAAMrjB,GAClB,YAAa,IAAMC,GACnB,SAAU,IAAMjC,GAChB,aAAc,IAAMgB,GACpB,gBAAiB,IAAM+gC,GACvB,oBAAqB,IAAM5N,GAC3B,cAAe,IAAMikE,GACrB,gBAAiB,IAAMC,GACvB,0BAA2B,IAAMC,GACjC,iBAAkB,IAAM51D,GACxB,eAAgB,IAAM0pB,GACtB,kBAAmB,IAAM5pD,GACzB,mBAAoB,IAAMs9B,GAC1B,iBAAkB,IAAMxB,GACxB,gBAAiB,IAAM77B,GACvB,UAAW,IAAM3B,GACjB,SAAU,IAAMa,GAChB,UAAW,IAAMG,GACjB,UAAW,IAAMD,GACjB,OAAQ,IAAMkV,GACd,cAAe,IAAMuuB,GACrB,WAAY,IAAMizD,GAClB,aAAc,IAAMhyB,GACpB,wBAAyB,IAAMhvD,GAC/B,YAAa,IAAM3U,GACnB,YAAa,IAAMD,GACnB,cAAe,IAAMyvF,GACrB,OAAQ,IAAMt6F,GACd,IAAK,IAAMsI,GACX,mCAAoC,IAAM9V,GAC1C,OAAQ,IAAM4V,GACd,aAAc,IAAMqB,GACpB,cAAe,IAAMf,GACrB,UAAW,IAAMmkE,GACjB,gBAAiB,IAAMS,GACvB,OAAQ,IAAMxlE,EACd,aAAc,IAAM8B,GACpB,GAAI,IAAMhC,GACV,kBAAmB,IAAM2C,GACzB,eAAgB,IAAMsiB,GACtB,eAAgB,IAAMlsB,GACtB,YAAa,IAAMD,GACnB,UAAW,IAAM+J,GACjB,aAAc,IAAMzC,GACpB,0BAA2B,IAAMk+B,GACjC,SAAU,IAAMj8B,GAChB,gBAAiB,IAAM1B,EACvB,UAAW,IAAMsvF,GACjB,YAAa,IAAMzL,GACnB,gBAAiB,IAAMxtG,GACvB,aAAc,IAAMwtC,GACpB,cAAe,IAAMF,GACrB,qBAAsB,IAAMI,GAC5B,iBAAkB,IAAM7rB,GACxB,MAAO,IAAM+H,GACb,WAAY,IAAM5H,GAClB,sBAAuB,IAAM25C,GAC7B,mBAAoB,IAAMI,GAC1B,OAAQ,IAAMxyC,EACd,aAAc,IAAMuB,GACpB,OAAQ,IAAM80C,GACd,2BAA4B,IAAMF,GAClC,yBAA0B,IAAM6V,GAChC,aAAc,IAAMua,GACpB,gBAAiB,IAAMrwB,GACvB,mBAAoB,IAAMf,GAC1B,iBAAkB,IAAMiX,GACxB,cAAe,IAAMqa,GACrB,aAAc,IAAMjrD,GACpB,WAAY,IAAMtZ,GAClB,UAAW,IAAMD,GACjB,eAAgB,IAAM6iC,GACtB,QAAS,IAAM9e,GACf,eAAgB,IAAMgf,GACtB,gBAAiB,IAAMjf,GACvB,MAAO,IAAMpkB,GACb,cAAe,IAAMmkC,GACrB,eAAgB,IAAM3jC,GACtB,SAAU,IAAMzD,EAChB,YAAa,IAAMwvC,GACnB,yBAA0B,IAAMqqD,GAChC,gBAAiB,IAAM9jD,GACvB,iBAAkB,IAAMzC,GACxB,0BAA2B,IAAM+D,GACjC,wBAAyB,IAAM+8B,GAC/B,qBAAsB,IAAMkC,GAC5B,iBAAkB,IAAM/wF,GACxB,oBAAqB,IAAMwvD,GAC3B,KAAM,IAAM7B,GACZ,YAAa,IAAM7uD,GACnB,gCAAiC,IAAMygB,GACvC,sBAAuB,IAAM+kE,GAC7B,oCAAqC,IAAMlzB,GAC3C,UAAW,IAAM9xD,GACjB,eAAgB,IAAM2iB,GACtB,iBAAkB,IAAMyjE,GACxB,+BAAgC,IAAM1iE,GACtC,mBAAoB,IAAM4d,GAC1B,WAAY,IAAMivD,GAClB,aAAc,IAAMjB,GACpB,mBAAoB,IAAMxvF,GAC1B,MAAO,IAAM2H,GACb,WAAY,IAAMC,GAClB,6BAA8B,IAAMipF,GACpC,sBAAuB,IAAMU,GAC7B,yBAA0B,IAAMlN,GAChC,yBAA0B,IAAMic,GAChC,2BAA4B,IAAM6U,GAClC,oBAAqB,IAAMzsG,GAC3B,cAAe,IAAMkpD,GACrB,yBAA0B,IAAMrrD,GAChC,cAAe,IAAMrF,GACrB,aAAc,IAAMuiB,GACpB,6BAA8B,IAAMlO,GACpC,UAAW,IAAMvhB,GACjB,UAAW,IAAMvF,GACjB,sBAAuB,IAAMi1B,GAC7B,oBAAqB,IAAMgmE,GAC3B,KAAM,IAAMp4B,GACZ,YAAa,IAAMhwD,GACnB,iBAAkB,IAAMhX,GACxB,OAAQ,IAAM6U,GACd,2BAA4B,IAAMjS,GAClC,WAAY,IAAM2a,GAClB,kBAAmB,IAAM+nF,GACzB,gBAAiB,IAAM9nF,GACvB,iBAAkB,IAAM47C,GACxB,aAAc,IAAMz8C,GACpB,YAAa,IAAMlG,GACnB,aAAc,IAAM+iD,GACpB,QAAS,IAAMx0D,GACf,cAAe,IAAMihG,GACrB,UAAW,IAAMtvF,GACjB,+BAAgC,IAAM2xD,GACtC,aAAc,IAAMtE,GACpB,QAAS,IAAMzuD,GACf,WAAY,IAAMwuD,GAClB,SAAU,IAAMF,GAChB,YAAa,IAAMzsD,GACnB,QAAS,IAAMpU,GACf,UAAW,IAAMC,GACjB,OAAQ,IAAMC,GACd,kBAAmB,IAAMV,GACzB,UAAW,IAAMM,GACjB,UAAW,IAAMe,GACjB,YAAa,IAAMG,GACnB,QAAS,IAAMyZ,GACf,eAAgB,IAAM9Z,GACtB,WAAY,IAAMN,GAClB,cAAe,IAAMO,GACrB,WAAY,IAAM+Z,GAClB,SAAU,IAAMja,GAChB,SAAU,IAAMJ,GAChB,aAAc,IAAMC,GACpB,cAAe,IAAMC,GACrB,aAAc,IAAMqF,GACpB,SAAU,IAAMzF,GAChB,SAAU,IAAMK,GAChB,SAAU,IAAMS,GAChB,YAAa,IAAMf,GACnB,UAAW,IAAMgH,GACjB,SAAU,IAAMb,GAChB,SAAU,IAAMM,GAChB,YAAa,IAAMm+D,GACnB,wBAAyB,IAAMtlE,GAC/B,YAAa,IAAMuT,GACnB,UAAW,IAAMrR,GACjB,sBAAuB,IAAMq0F,GAC7B,qBAAsB,IAAMrB,GAC5B,uBAAwB,IAAMuB,GAC9B,4BAA6B,IAAMC,GACnC,mBAAoB,IAAM50F,GAC1B,cAAe,IAAMF,GACrB,4BAA6B,IAAMuiG,GACnC,OAAQ,IAAMzM,GACd,IAAK,IAAMj8E,GACX,eAAgB,IAAMtd,GACtB,iBAAkB,IAAMwkE,GACxB,oBAAqB,IAAMS,GAC3B,iBAAkB,IAAM5wD,GACxB,6BAA8B,IAAMC,GACpC,iBAAkB,IAAMgpF,GACxB,mBAAoB,IAAMjB,GAC1B,cAAe,IAAMz3F,GACrB,oBAAqB,IAAMs2F,GAC3B,qBAAsB,IAAMC,GAC5B,qBAAsB,IAAMF,GAC5B,oBAAqB,IAAMia,GAC3B,qBAAsB,IAAMlkF,GAC5B,yBAA0B,IAAMgvE,GAChC,4BAA6B,IAAM9lD,GACnC,8BAA+B,IAAMM,GACrC,6BAA8B,IAAMyrD,GACpC,yBAA0B,IAAMjH,GAChC,4BAA6B,IAAMH,GACnC,uBAAwB,IAAMjG,GAC9B,mCAAoC,IAAM0b,GAC1C,MAAO,IAAMpxC,GACb,oBAAqB,IAAMoE,GAC3B,kBAAmB,IAAMmzB,GACzB,iBAAkB,IAAM5/C,GACxB,0BAA2B,IAAMG,GACjC,yBAA0B,IAAMC,GAChC,qBAAsB,IAAMH,GAC5B,qBAAsB,IAAMsrD,GAC5B,SAAU,IAAMlqF,GAChB,aAAc,IAAM07E,GACpB,cAAe,IAAMc,GACrB,sBAAuB,IAAMC,GAC7B,YAAa,IAAM5rD,GACnB,qBAAsB,IAAMkoE,GAC5B,MAAO,IAAMj4F,GACb,2BAA4B,IAAMy6E,GAClC,4BAA6B,IAAME,GACnC,YAAa,IAAM9gF,GACnB,QAAS,IAAMtS,GACf,UAAW,IAAMuS,GACjB,aAAc,IAAM/N,GACpB,2BAA4B,IAAM8tF,GAClC,mBAAoB,IAAM76E,GAC1B,UAAW,IAAMyU,GACjB,IAAK,IAAMuyC,GACX,UAAW,IAAMF,GACjB,QAAS,IAAMruD,GACf,QAAS,IAAM0I,GACf,cAAe,IAAM+5B,GACrB,yBAA0B,IAAMysB,GAChC,iCAAkC,IAAM8D,GACxC,OAAQ,IAAM/yD,GACd,eAAgB,IAAM2mF,GACtB,gBAAiB,IAAMkL,GACvB,WAAY,IAAMnB,GAClB,wBAAyB,IAAMp8D,GAC/B,cAAe,IAAMq+B,GACrB,QAAS,IAAMnjE,EACjB,CAAC,EACD,SAAS+lH,GAA2B,CAClC,KAAAzwD,EACA,OAAAtlD,EACA,MAAAssE,EACA,MAAAC,CACF,EAAG,CACD,GAAI,EAAED,GAASC,GACb,MAAM,IAAI,MAAM,sBAAsB,EAExC,MAAMvsF,EAAS,CAAC,EAChB,SAAW,CAAColE,EAAU,CAAE,IAAA79C,CAAI,CAAC,IAAK+9C,EAChC,GAAI,OAAO,OAAOtlD,EAAQolD,CAAQ,EAAG,CACnC,KAAM,CAAE,MAAOrwB,CAAO,EAAIxtB,EAAI,OAAS,MAAQ+kE,EAAQC,EACvDvsF,EAAOolE,CAAQ,EAAI,KAAK,MAAMrwB,EAAO,QAAQ/0B,EAAOolD,CAAQ,CAAC,CAAC,CAChE,CAEF,OAAOplE,CACT,CACA,IAAIg2H,GAAiB,MAAMC,EAAgB,CACzC,YAAYziH,EAAQ9H,EAAOmkB,EAAOhP,EAAMq1G,EAAYnqF,EAAMa,EAAQupF,EAASxnE,EAAOz+B,EAAQG,EAAU,CAClG,KAAK,OAAS7c,EACd,KAAK,MAAQ9H,EACb,KAAK,MAAQmkB,EACb,KAAK,KAAOhP,EACZ,KAAK,WAAaq1G,EAClB,KAAK,KAAOnqF,EACZ,KAAK,OAASa,EACd,KAAK,QAAUupF,EACf,KAAK,MAAQxnE,EACb,KAAK,OAASz+B,EACd,KAAK,SAAWG,EAChB,KAAK,SAAW,CAAE,EAAG,EAAG,EAAG,CAAE,CAC/B,CACA,SAAS5kB,EAAO,CACd,IAAIopE,EAAUppE,EACd,KAAOopE,GAAW,MAAQA,EAAQ,OAAS,KAAK,OAAO,CACrD,GAAIA,IAAY,KACd,MAAO,GAETA,EAAUA,EAAQ,MACpB,CACA,MAAO,EACT,CACA,KAAKpvE,EAAU0sF,EAAQ8jC,GAAgB,KAAK,SAAU,CAChD9jC,IAAU8jC,GAAgB,KAAK,UACjCxwH,EAAS,IAAI,EAEf,KAAK,SAAS,QAASykB,GAAU,CAC/BA,EAAM,KAAKzkB,EAAU0sF,CAAK,CAC5B,CAAC,EACGA,IAAU8jC,GAAgB,KAAK,WACjCxwH,EAAS,IAAI,CAEjB,CACA,EAAE,OAAO,QAAQ,GAAI,CACnB,MAAM,KACN,UAAWykB,KAAS,KAAK,SACvB,MAAO5pB,GAAY6C,GAAa+mB,CAAK,CAAC,CAE1C,CACF,EACA8rG,GAAe,KAAO,CACpB,SAAU,EACV,UAAW,CACb,EACA,IAAIN,GAAgBM,GAChBL,GAAkB,cAAc/hD,EAAO,CACzC,YAAYzuB,EAAW,CACrB,MAAM,CACJ,UAAAA,EACA,UAAW,CACT,CAEF,EACA,oBAAqB,EACvB,CAAC,EACD,KAAK,SAAW,IAAIuwE,GAClB,KACA,EACA,OACA,EACA,OACA,OACA,OACA,EACA,OACA,OACA,CAAC,CACH,EACA,KAAK,YAAc,CAAC,EAAG,CAAC,EACxB,KAAK,SAAW,EAChB,KAAK,eAAiB,IAAI38E,GACxB,QACA,CACE,MAAO,CACL,OAAQ,CACN,OAAQ,QACR,OAASziC,GAAS,KAAK,wBAAwBA,CAAI,CACrD,EACA,MAAO,QACP,KAAM,OACR,EACA,MAAO,CACL,WAAY,UACZ,MAAO,WACP,UAAYA,GAAS,KAAK,sBAAsBA,CAAI,EACpD,OAASA,GAAS,KAAK,mBAAmBA,CAAI,EAC9C,MAAO,QACP,KAAM,OACR,EACA,QAAS,CACP,OAAQ,CACN,OAAQ,QACR,OAASA,GAAS,KAAK,0BAA0BA,CAAI,CACvD,EACA,MAAO,QACP,KAAM,OACR,EACA,SAAU,CACR,OAAQ,CACN,OAAQ,QACR,OAASA,GAAS,KAAK,2BAA2BA,CAAI,CACxD,EACA,MAAO,QACP,KAAM,OACR,CACF,EACA,IAAM,KAAK,6BAA6B,CAC1C,CACF,CACA,eAAe6hB,EAAO,CAChBA,IAAU,UACZ,KAAK,eAAe,WAAW,OAAO,EAC7BA,IAAU,SACnB,KAAK,eAAe,WAAW,MAAM,CAEzC,CACA,aAAc,CACZ,OAAO11B,EAAQ,KAAM,KAAM,WAAa,CACtC,IAAI0E,EAAIiL,EACR,KAAM,CAAE,YAAAgkH,EAAa,QAAAtgB,EAAS,SAAAI,EAAU,MAAA12F,EAAO,QAAAC,EAAS,WAAAw2F,CAAW,EAAI,KAAK,WAC5E,IAAIvqG,EAAQ,EACZ,MAAM2qH,EAAW,KACf3qH,GAAS,EACFA,GAET,IAAI4qH,EAAW,EACXC,EAAW,IACXC,EAAW,KACf,MAAMvqF,EAAS,IAAI,QAAQ75B,GAAMjL,EAAK,KAAK,OAAS,KAAO,OAASA,EAAG,SAAW,KAAOiL,EAAK,GAAK,CAAC,EAAE,KAAK,MAAM,EAC3GqkH,EAAa,CAAC5mG,EAAOK,IAAW,CACpC,MAAM4H,EAAYu+F,EAAS,EACrB1nE,EAAQz+B,EAAO,OAAS,KAAOA,EAAO,MAAQ,EAAI,EAClDG,EAAW+lG,GAAe,KAAOvmG,EAAMumG,CAAW,EAAI,OACtDnjE,EAAS5iC,GAAY,MAAQA,EAAS,SAAW,EACvD,IAAIxP,EAAOi1F,GAAW,KAAOjmF,EAAMimF,CAAO,EAAI,OAC1C,OAAO,SAASj1F,CAAI,EACtBA,EAAO,KAAK,IAAIA,EAAM,CAAC,EAEvBA,EAAOoyC,EAAS,EAAI,EAEtB,MAAMkjE,EAAUt1G,EAChBy1G,EAAW,KAAK,IAAIA,EAAU3nE,CAAK,EACnC,MAAMh6B,EAAQuhF,GAAY,KAAOrmF,EAAMqmF,CAAQ,EAAI,OACnD,OAAI,OAAOvhF,GAAU,WACnBsX,EAAOnU,CAAS,EAAInD,EACpB4hG,EAAW,KAAK,IAAIA,EAAU5hG,CAAK,EACnC6hG,EAAW,KAAK,IAAIA,EAAU7hG,CAAK,GAE9B+hG,EACL,IAAIhB,GACF,KACA59F,EACAjI,EACAhP,EACA8T,EACA,OACA,OACAwhG,EACAxnE,EACAz+B,EACA,CAAC,CACH,EACAG,CACF,CACF,EACMqmG,EAAiB,CAACvhH,EAAMmB,KACJA,GAAK,QAASuZ,GAAU,CAC9C,MAAM3F,EAAQusG,EAAW5mG,EAAO1a,CAAI,EACpCA,EAAK,SAAS,KAAK+U,CAAK,EACxB/U,EAAK,SAAW+U,EAAM,OACxB,CAAC,EACM/U,GAEHwhH,EAAWD,EACf,IAAIhB,GACF,KACA,EACA,OACA,EACA,OACA,OACA,OACA,EACA,OACA,OACA,CAAC,CACH,EACA,KAAK,IACP,EACM1f,EAAc,CAACugB,EAAUC,CAAQ,EACvC,IAAIjgB,EACAN,GAAc,MAAQ,OAAO,SAASsgB,CAAQ,GAAK,OAAO,SAASC,CAAQ,IAC7EjgB,EAAa,IAAIlB,GACjBkB,EAAW,OAASP,EACpBO,EAAW,MAAQN,EACnBM,EAAW,OAAO,GAEpBogB,EAAS,SAAS,QAAQ,CAACzsG,EAAO0sG,IAAe,CAC/C1sG,EAAM,KAAM/U,GAAS,CACnB,IAAI42B,EACJ,MAAMpX,EAAQsX,EAAO92B,EAAK,KAAK,EAC3Bwf,GAAS,OACXoX,EAAqCwqE,GAAW,QAAQ5hF,CAAK,GAE/DoX,IAAsBA,EAAgCvsB,IAAMo3G,EAAap3G,EAAM,MAAM,GACrFrK,EAAK,KAAO42B,EACZ52B,EAAK,OAASohG,GAAc,KAAkC92F,IAAQm3G,EAAan3G,EAAQ,MAAM,EAAI,oBACvG,CAAC,CACH,CAAC,EACD,KAAK,SAAWk3G,EAChB,KAAK,SAAWL,EAChB,KAAK,YAActgB,CACrB,CAAC,CACH,CACA,OAAO/8B,EAAI,CACT,OAAOx2E,EAAQ,KAAM,UAAW,UAAW,CAAE,WAAAk2E,CAAW,EAAG,CACzD,MAAM,KAAK,iBAAiB,EAC5B,MAAM,KAAK,YAAY,EACvB,MAAMmS,EAAgB,KAAK,iBAAiB,EAC7B,KAAK,YAAYnS,CAAU,GAExC,KAAK,eAAe,WAAW,SAAUmS,CAAa,EAExD,KAAK,eAAe,WAAW,SAAUA,CAAa,CACxD,CAAC,CACH,CACA,kBAAkBx0E,EAAM,CACtB,IAAInP,EACJ,MAAM0oB,GAAS1oB,EAAK,KAAK,oBAAsB,KAAO,OAASA,EAAG,MAClE,KAAK,IAAI,iBAAiB,uBAAuB,KAAK,EAAE,EACpD0oB,GAAS,MACXgpB,GAAYviC,EAAK,gBAAiBuZ,CAAK,CAE3C,CACA,wBAAwBvZ,EAAM,CAC5B,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkBA,CAAI,CAC7B,CACA,0BAA0BA,EAAM,CAC9B,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkBA,CAAI,CAC7B,CACA,sBAAsBA,EAAM,CAC1B,IAAInP,EACJ,MAAM0oB,GAAS1oB,EAAK,KAAK,oBAAsB,KAAO,OAASA,EAAG,MAC9D0oB,GAAS,MACXgpB,GAAY,CAACviC,CAAI,EAAGuZ,CAAK,CAE7B,CACA,mBAAmBvZ,EAAM,CACvB,KAAK,kBAAkBA,CAAI,CAC7B,CACA,2BAA2BA,EAAM,CAC/B,KAAK,IAAI,iBAAiB,iBAAiB,EAC3C,KAAK,kBAAkBA,CAAI,CAC7B,CACA,0BAA2B,CACzB,KAAK,eAAe,WAAW,QAAS,KAAK,iBAAiB,CAAC,CACjE,CACA,kBAAmB,CAIjB,MAHsB,CACpB,gBAAiB,CAAC,KAAK,cAAc,CACvC,CAEF,CACA,2BAA4B,CAC1B,MAAO,EACT,CACA,8BAA+B,CACxB,KAAK,0BAA0B,GAClC,KAAK,IAAI,iBAAiB,iBAAiB,CAE/C,CACA,cAAe,CACb,MAAO,CAAC,CACV,CACA,iBAAkB,CAChB,MAAO,CAAC,IAAK,GAAG,CAClB,CACA,cAAckB,EAAY,CACxB,KAAM,CAAE,SAAA0+F,EAAU,UAAA2gB,EAAW,WAAA5gB,EAAY,QAAA1+D,CAAQ,EAAI,KAAK,WAC1D,OAAO//B,IAAe,YAAc0+F,GAAY,MAAQD,GAAc,KAAO,CAC3E,CACE,WAAY,WACZ,QAAS1+D,EACT,SAAU,KAAK,GACf,UAAAs/E,EACA,WAAA5gB,EACA,YAAa,KAAK,WACpB,CACF,EAAI,CAAC,CACP,CACA,mBAAmB9gG,EAAM,CACvB,MAAO,GAAGA,EAAK,KAAK,EACtB,CACA,WAAWA,EAAM,CACf,OAAO,KAAK,mBAAmBA,CAAI,CACrC,CACF,EACIygH,GAA4B,cAAcjsC,EAAiB,CAC7D,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,YAAc,WACnB,KAAK,MAAQ,OAAO,OAAOnxE,EAAa,EACxC,KAAK,QAAU,OAAO,OAAOC,EAAe,CAC9C,CACF,EACAnW,EAAiB,CACf25B,EAASsB,CAAM,CACjB,EAAGq4F,GAA0B,UAAW,cAAe,CAAC,EACxDtzH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGq4F,GAA0B,UAAW,UAAW,CAAC,EACpDtzH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGq4F,GAA0B,UAAW,WAAY,CAAC,EACrDtzH,EAAiB,CACf25B,EAASsB,EAAQ,CAAE,SAAU,EAAK,CAAC,CACrC,EAAGq4F,GAA0B,UAAW,YAAa,CAAC,EACtDtzH,EAAiB,CACf25B,EAAS0C,EAAkB,CAC7B,EAAGi3F,GAA0B,UAAW,QAAS,CAAC,EAClDtzH,EAAiB,CACf25B,EAAS0C,EAAkB,CAC7B,EAAGi3F,GAA0B,UAAW,UAAW,CAAC,EACpDtzH,EAAiB,CACf25B,EAAS0C,GAAoB,CAAE,SAAU,EAAK,CAAC,CACjD,EAAGi3F,GAA0B,UAAW,aAAc,CAAC,EACvD,IAAIC,GAAa,KAAM,CACrB,YAAYjG,EAAMC,EAAMC,EAAMC,EAAM,CAClC,KAAK,KAAOH,EACZ,KAAK,KAAOC,EACZ,KAAK,KAAOC,EACZ,KAAK,KAAOC,CACd,CACA,MAAMtkH,EAAO,CACX,KAAK,KAAO,KAAK,IAAI,KAAK,KAAMA,EAAM,IAAI,EAC1C,KAAK,KAAO,KAAK,IAAI,KAAK,KAAMA,EAAM,IAAI,EAC1C,KAAK,KAAO,KAAK,IAAI,KAAK,KAAMA,EAAM,IAAI,EAC1C,KAAK,KAAO,KAAK,IAAI,KAAK,KAAMA,EAAM,IAAI,CAC5C,CACF,EACIqqH,GAA4B,EAG5BgB,GAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyCrB,CAAE,OAAQC,GAAS,SAAUC,GAAW,SAAUC,GAAW,eAAgBC,GAAiB,OAAQC,GAAS,SAAUC,GAAW,QAASC,EAAS,EAAI/B,GAC1J,CAAE,YAAagC,GAAc,UAAWC,GAAY,UAAWC,EAAW,EAAInC,GAC9EoC,GAAgB,KAAM,CACxB,aAAc,CACZ,KAAK,KAAO,WACZ,KAAK,OAAS,qBACd,KAAK,YAAc,CACrB,CACF,EACIC,GAAa,MAAMA,EAAW,CAChC,aAAc,CACZ,KAAK,GAAKN,GAAU,IAAI,EACxB,KAAK,WAAa,CAChB,EAAG,EACH,EAAG,EACH,MAAO,EACP,OAAQ,CACV,EACA,KAAK,SAAW,OAChB,KAAK,WAAa,OAClB,KAAK,MAAQ,OACb,KAAK,QAAU,IAAIC,GAAS,CAAC,EAC7B,KAAK,KAAO,IACZ,KAAK,KAAO,IACZ,KAAK,SAAW,OAChB,KAAK,MAAQ,CAAC,EACd,KAAK,MAAQ,CAAC,EAEd,KAAK,IAAM,OAEX,KAAK,IAAM,OACX,KAAK,OAAS,IAAIC,GAClB,KAAK,KAAO,IAAIG,GAChB,KAAK,eAAiB,CACpB,KAAM,EACN,KAAM,SACN,OAAQ,SACR,YAAa,CACf,EACA,KAAK,OAAS,IACd,KAAK,QAAU,IACf,KAAK,iBAAmB,OACxB,KAAK,SAAW,EAChB,KAAK,qBAAuB,IAAI,KAAK,eAAe,QAAS,CAC3D,KAAM,UACN,MAAO,UACP,IAAK,UACL,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,OAAQ,EACV,CAAC,EACD,KAAK,aAAe,KAAK,YAAY,KAAK,IAAI,EAC9C,KAAK,YAAc,KAAK,WAAW,KAAK,IAAI,EAC5C,MAAM/oE,EAAO,IAAIyjE,GAAgC,MACjD,KAAK,UAAYzjE,EACjB,MAAMzsC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,aAAa,QAAS,sBAAsB,EACrD,MAAM0hD,EAAQ,IAAIwuD,GAAgC,MAAM,CAAC,CAAC,EAC1D,KAAK,MAAQxuD,EACb,KAAK,cAAgBA,EAAM,OAAO,QAClCA,EAAM,QAAQjV,CAAI,EAClBiV,EAAM,aAAa1hD,CAAQ,EAC3B,KAAK,uBAAuB,KAAK,MAAO,KAAK,MAAM,EAC9Cy1G,GAAW,iBAAiB,SAAS,QAAQ,GAChD,KAAK,wBAAwB,EAE/B,KAAK,uBAAuB,KAAK,aAAa,CAChD,CACA,IAAI,QAAQn4H,EAAO,CACb,KAAK,WAAaA,IACpB,KAAK,SAAWA,EAEpB,CACA,IAAI,SAAU,CACZ,OAAO,KAAK,QACd,CACA,IAAI,UAAUA,EAAO,CACnB,GAAI,KAAK,aAAeA,EAAO,CAC7B,KAAM,CAAE,WAAAm+C,CAAW,EAAI,KAAK,cAE1BA,GAAW,YAAY,KAAK,aAAa,EAEvCn+C,GACFA,EAAM,YAAY,KAAK,aAAa,EAEtC,KAAK,WAAaA,CACpB,CACF,CACA,IAAI,WAAY,CACd,OAAO,KAAK,UACd,CACA,IAAI,KAAKA,EAAO,CACV,KAAK,QAAUA,IACjB,KAAK,MAAQA,EACb,KAAK,YAAY,EACb,KAAK,gBAAkB,KAAK,kBAC9B,KAAK,eAAe,KAAK,cAAc,EAG7C,CACA,IAAI,MAAO,CACT,OAAO,KAAK,KACd,CACA,uBAAuBgrB,EAAOC,EAAQ,CACpC,KAAK,MAAM,OAAOD,EAAOC,CAAM,EAC/B,KAAK,WAAW,MAAQD,EACxB,KAAK,WAAW,OAASC,CAC3B,CACA,yBAA0B,CACxB,MAAM9H,EAAe,SAAS,cAAc,OAAO,EACnDA,EAAa,UAAYo0G,GACzB,SAAS,KAAK,aAAap0G,EAAc,SAAS,KAAK,cAAc,OAAO,CAAC,EAC7Eg1G,GAAW,iBAAiB,KAAK,QAAQ,CAC3C,CACA,IAAI,MAAMn4H,EAAO,CACX,KAAK,SAAWA,IAClB,KAAK,OAASA,EACd,KAAK,MAAM,OAAOA,EAAO,KAAK,MAAM,EACpC,KAAK,eAAe,EAExB,CACA,IAAI,OAAQ,CACV,OAAO,KAAK,MACd,CACA,IAAI,OAAOA,EAAO,CACZ,KAAK,UAAYA,IACnB,KAAK,QAAUA,EACf,KAAK,MAAM,OAAO,KAAK,MAAOA,CAAK,EACnC,KAAK,eAAe,EAExB,CACA,IAAI,QAAS,CACX,OAAO,KAAK,OACd,CAMA,QAAS,CACT,CAEA,cAAe,CACb,KAAK,kBAAkB,EACvB,KAAK,mBAAmB,CAC1B,CAEA,oBAAqB,CACrB,CAEA,mBAAoB,CAClB,KAAM,CAAE,OAAAqpF,EAAQ,WAAAjQ,CAAW,EAAI,KAC/BiQ,EAAO,MAAQ,CAACjQ,EAAW,OAAQ,CAAC,CACtC,CAEA,cAAe,CACb,KAAM,CAAE,KAAApnE,CAAK,EAAI,KAAK,KACtB,KAAK,OAAS,KAAK,UAAUA,CAAI,EACjC,KAAK,kBAAkB,EACvB,KAAK,mBAAmB,CAC1B,CAEA,mBAAoB,CAClB,KAAK,OAAO,MAAQ,CAAC,EAAG,KAAK,WAAW,KAAK,CAC/C,CAEA,oBAAqB,CACnB,KAAM,CAAE,MAAAomH,EAAO,OAAAhvC,CAAO,EAAI,KAC1B,IAAIivC,GACAjvC,aAAkB2uC,IAAgB3uC,aAAkB6uC,MACtDI,EAAUb,GAAQY,CAAK,GAEzB,KAAK,OAAO,OAASC,EAAUA,EAAQ,MAAM,EAAID,CACnD,CAMA,UAAUpmH,EAAO,WAAY,CAC3B,OAAQA,EAAM,CACZ,IAAK,SACH,OAAO,IAAI+lH,GACb,IAAK,OACH,OAAO,IAAIE,GACb,IAAK,WACL,QACE,OAAO,IAAID,EACf,CACF,CAEA,gBAAiB,CACjB,CAEA,YAAa,CACX,KAAK,aAAa,EAClB,KAAK,aAAa,EAClB,KAAK,eAAe,CACtB,CAEA,kBAAmB,CACjB,KAAK,qBAAqB,EAC1B,KAAK,qBAAqB,CAC5B,CAEA,kBAAmB,CACjB,MAAO,CAAC,CACV,CAEA,aAAc,CACZ,MAAO,CAAC,CACV,CAEA,aAAc,CACd,CAEA,sBAAuB,CACvB,CAEA,sBAAuB,CACvB,CACA,eAAe9qC,EAAc,CAC3B,KAAK,YAAY,CACnB,CACA,kBAAmB,CACjB,KAAK,iBAAmB,OACxB,KAAK,YAAY,EACjB,KAAK,iBAAiB,CACxB,CAOA,YAAYtzC,EAAO,CACjB,KAAK,eAAiBA,EACtB,KAAK,eAAeA,CAAK,CAC3B,CACA,eAAeA,EAAO,CACpB,IAAIhyC,EAAIiL,EAAIC,EACZ,MAAMo6E,EAAe,KAAK,2BAA2BtzC,EAAM,QAASA,EAAM,OAAO,EACjF,GAAI,CAACszC,EACH,OAEF,MAAMorC,EAAsB,KAAK,iBACjC,KAAK,iBAAmBprC,GACpB,KAAK,kBAAoB,CAACorC,GAAuB,KAAK,kBAAoBA,GAAuB,KAAK,mBAAqBA,KAC7H,KAAK,eAAeprC,CAAY,EAChC,KAAK,iBAAiB,EACtB,KAAK,MAAM,OAAO,EAAE,MAAOzpF,GAAM,QAAQ,MAAM,mCAAoCA,CAAC,CAAC,KAE/DqP,GAAMD,GAAMjL,EAAK,KAAK,mBAAqB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,UAAY,KAAOC,EAAK,KAE3I,KAAK,cAAc8mC,EAAOszC,CAAY,CAE1C,CAKA,WAAWtzC,EAAO,CAChB,KAAK,iBAAiB,EACtB,KAAK,QAAQ,OAAO,EAAK,EACzB,KAAK,MAAM,OAAO,EAAE,MAAOn2C,GAAM,QAAQ,MAAM,mCAAoCA,CAAC,CAAC,CACvF,CAEA,aAAc,CACZ,KAAM,CAAE,KAAAsT,EAAM,MAAAwhH,EAAO,MAAAH,CAAM,EAAI,KAC/B,GAAI,CAACrhH,GAAQ,KAAK,YAAY,KAAK,IAAI,EACrC,OAEFwhH,EAAM,OAAS,EACfH,EAAM,OAAS,EACf,MAAM,EAAIrhH,EAAK,OACTyhH,EAAW,KAAK,YAAYzhH,CAAI,EACtC,KAAK,SAAWyhH,EAChB,KAAM,CAAE,KAAMC,CAAW,EAAI,KAAK,KAC5BC,EAAQD,IAAe,UAAYA,IAAe,OAAS,WAAaA,EACxEnvC,EAAgBovC,IAAU,UAAYA,IAAU,OAChDC,EAAuB,CAACC,EAAMxqE,IAAS,CACvC,KAAK,kBAAoB,OAC3B,KAAK,iBAAmB,CAAE,EAAG,IAAU,EAAG,GAAS,GAErD,KAAM,CAAE,EAAAhtD,CAAE,EAAI,KAAK,iBACbm6B,EAAW,KAAK,IAAIq9F,EAAOxqE,CAAI,EACjC7yB,EAAW,GAAKA,EAAWn6B,IAC7B,KAAK,iBAAiB,EAAIm6B,EAE9B,EACA,IAAI80C,EACJ,GAAImoD,IAAa,SACf,QAAS93H,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMytG,EAASztG,EACTwuG,EAASn4F,EAAKrW,CAAC,EACfU,EAAI,KAAK,SAAS+sG,EAAQuqB,CAAK,EAC/BvuG,EAAI,KAAK,SAAS+kF,EAAQ,QAAQ,EACpC5lB,GACFqvC,EAAqBv3H,EAAGivE,CAAK,EAE/B+nD,EAAM,KAAKh3H,CAAC,EACZm3H,EAAM,KAAKpuG,CAAC,EACZkmD,EAAQjvE,CACV,SACSo3H,IAAa,QACtB,QAAS93H,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAM4vB,EAAQvZ,EAAKrW,CAAC,EACpB,GAAI,MAAM,QAAQ4vB,CAAK,EAAG,CACxB,MAAM69E,EAAS79E,EAAM,CAAC,EAChB4+E,EAAS5+E,EAAM,CAAC,EAChBlvB,EAAI,KAAK,SAAS+sG,EAAQuqB,CAAK,EAC/BvuG,EAAI,KAAK,SAAS+kF,EAAQ,QAAQ,EACxC,GAAI9tG,GAAK,KACP,SAEEkoF,GACFqvC,EAAqBv3H,EAAGivE,CAAK,EAE/B+nD,EAAM,KAAKh3H,CAAC,EACZm3H,EAAM,KAAKpuG,CAAC,EACZkmD,EAAQjvE,CACV,CACF,SACSo3H,IAAa,SAAU,CAChC,KAAM,CAAE,KAAAzrB,EAAM,KAAAD,CAAK,EAAI,KACvB,QAASpsG,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAM4vB,EAAQvZ,EAAKrW,CAAC,EACpB,GAAI,OAAO4vB,GAAU,UAAY,CAAC,MAAM,QAAQA,CAAK,EAAG,CACtD,MAAM69E,EAAS79E,EAAMw8E,CAAI,EACnBoC,EAAS5+E,EAAMy8E,CAAI,EACnB3rG,EAAI,KAAK,SAAS+sG,EAAQuqB,CAAK,EAC/B,EAAI,KAAK,SAASxpB,EAAQ,QAAQ,EACxC,GAAI9tG,GAAK,KACP,SAEEkoF,GACFqvC,EAAqBv3H,EAAGivE,CAAK,EAE/B+nD,EAAM,KAAKh3H,CAAC,EACZm3H,EAAM,KAAK,CAAC,EACZloD,EAAQjvE,CACV,CACF,CACF,CACA,KAAK,WAAW,EAChB,KAAK,gBAAgB,CACvB,CAMA,YAAY2V,EAAM,CAChB,UAAWuZ,KAASvZ,EAClB,GAAIuZ,GAAS,KAAQ,CACnB,GAAImnG,GAAUnnG,CAAK,EACjB,MAAO,SACF,GAAI,MAAM,QAAQA,CAAK,EAC5B,MAAO,QACF,GAAI,OAAOA,GAAU,SAC1B,MAAO,QAEX,CAEJ,CAMA,SAAStwB,EAAOgS,EAAM,CACpB,GAAIA,IAAS,UAAYylH,GAAUz3H,CAAK,GAAKgS,IAAS,SAAWylH,GAAUz3H,CAAK,GAAK43H,GAAQ53H,CAAK,GAChG,OAAOA,EACF,GAAIgS,IAAS,WAAY,CAC9B,GAAI0lH,GAAU13H,CAAK,GAAK43H,GAAQ53H,CAAK,GAAKy3H,GAAUz3H,CAAK,EACvD,MAAO,CAAE,SAAU,IAAM,OAAOA,CAAK,CAAE,EAClC,GAAI23H,GAAgB33H,CAAK,EAC9B,OAAOA,CAEX,CACF,CAKA,IAAI,iBAAkB,CACpB,MAAO,CAAC,CAAC,KAAK,QAChB,CAMA,gBAAiB,CACX,KAAK,UACP,qBAAqB,KAAK,QAAQ,EAEpC,KAAK,SAAW,sBAAsB,IAAM,CAC1C,KAAK,gBAAgB,EACrB,KAAK,SAAW,CAClB,CAAC,CACH,CACA,iBAAkB,CAChB,KAAK,uBAAuB,EACxB,MAAK,YAAY,KAAK,IAAI,IAG9B,KAAK,kBAAkB,EACvB,KAAK,kBAAkB,EACvB,KAAK,eAAe,EACpB,KAAK,OAAO,EACZ,KAAK,MAAM,OAAO,EAAE,MAAOyD,GAAM,QAAQ,MAAM,mCAAoCA,CAAC,CAAC,EACvF,CACA,wBAAyB,CACvB,KAAM,CAAE,MAAAunB,EAAO,OAAAC,EAAQ,QAAAirB,EAAS,WAAAkjC,EAAY,UAAA5D,CAAU,EAAI,KACpDqjD,EAAc7tG,EAAQkrB,EAAQ,KAAOA,EAAQ,MAC7C4iF,EAAe7tG,EAASirB,EAAQ,IAAMA,EAAQ,OACpDkjC,EAAW,MAAQy/C,EACnBz/C,EAAW,OAAS0/C,EACpB1/C,EAAW,EAAIljC,EAAQ,KACvBkjC,EAAW,EAAIljC,EAAQ,IACvBs/B,EAAU,aAAe4D,EAAW,EACpC5D,EAAU,aAAe4D,EAAW,CACtC,CAMA,2BAA2Bh4E,EAAG+oB,EAAG,CAC/B,IAAIqR,EAAc,IACd0xD,EACJ,MAAMD,EAAW,KAAK,UAAU,eAAe7rF,EAAG+oB,CAAC,EAC7Cw/D,EAAW,KAAK,YAAY,EAClC,QAASjpF,EAAI,EAAGA,EAAIipF,EAAS,OAAQjpF,IAAK,CACxC,MAAM4vB,EAAQq5D,EAASjpF,CAAC,EACxB,GAAI,CAAC4vB,EAAM,MACT,OAEF,MAAMmL,EAAY,KAAK,YAAYwxD,EAAU38D,EAAM,KAAK,EACpDmL,GAAaD,IACfA,EAAcC,EACdyxD,EAAe58D,EAEnB,CACA,OAAO48D,CACT,CAOA,YAAY/vC,EAAI47E,EAAI,CAClB,OAAO,KAAK,IAAI57E,EAAG,EAAI47E,EAAG,CAAC,CAC7B,CAKA,cAAcn/E,EAAOtpB,EAAO,CAC1B,IAAI1oB,EAAIiL,EACR,KAAM,CAAE,YAAAm8F,CAAY,EAAI1+E,EAClB,CAAE,cAAAsiB,CAAc,EAAI,KACpB,CAAE,QAAAoqB,EAAS,QAAAC,CAAQ,EAAIrjB,EACvBo/E,GAAkBpxH,EAAK,KAAK,mBAAqB,KAAO,OAASA,EAAG,QACpEs8C,EAAO,CACX,MAAO8Y,EACP,MAAOC,EACP,SAAU,CACR,QAA2C+7D,GAAe,QAC1D,QAA2CA,GAAe,OAC5D,EACA,UAA6CA,GAAe,SAC9D,EACI90E,EAAK,WAAa,OACpBA,EAAK,UAAYtR,GAEnB,MAAM29D,EAASvB,EAAY,EACrBzJ,EAASyJ,EAAY,EAC3B,IAAI/2D,GAAWplC,EAAuCmmH,GAAe,UAAY,KAAOnmH,EAAK,GAC7F,MAAMomH,EAAoDD,GAAe,SACzE,GAAIC,EAAiB,CACnB,MAAMC,EAAwBD,EAAgB,CAC5C,QAAS,KAAK,QACd,MAAOjqB,EACP,OAAAuB,EACA,OAAAhL,CACF,CAAC,EACDttD,EAAU,OAAOihF,GAA0B,UAAYA,EAAsB,UAAY,OAASA,EAAsB,QAAUjhF,CACpI,CACA,MAAMklC,EAAOllC,GAAW+2D,EAAY,IAAM,QAAU,KAAK,eAAe1+E,CAAK,EACzE6sD,GACF,KAAK,QAAQ,KAAKj5B,EAAMi5B,CAAI,CAEhC,CACA,mBAAmB7sD,EAAO,CACxB,OAAO,OAAO,KAAK,MAAMA,EAAQ,EAAE,EAAI,EAAE,CAC3C,CAEA,YAAYA,EAAO,CACjB,MAAMte,EAAO,KAAK,KAAK,MAAQ,WAC/B,OAAIA,IAAS,UAAY,OAAOse,GAAU,SACjC,KAAK,mBAAmBA,CAAK,EAC3Bte,IAAS,SAAWse,aAAiB,MAAQmnG,GAAUnnG,CAAK,GAC9D,KAAK,qBAAqB,OAAOA,CAAK,EAEtC,OAAOA,CAAK,CAEvB,CACA,uBAAuB6oG,EAAc,CACnCA,EAAa,iBAAiB,YAAa,KAAK,YAAY,EAC5DA,EAAa,iBAAiB,WAAY,KAAK,WAAW,CAC5D,CACA,yBAAyBA,EAAc,CACrCA,EAAa,oBAAoB,YAAa,KAAK,YAAY,EAC/DA,EAAa,oBAAoB,WAAY,KAAK,WAAW,CAC/D,CACA,YAAYpiH,EAAM,CAChB,MAAO,CAACA,GAAQ,CAAC,MAAM,QAAQA,CAAI,CACrC,CAIA,SAAU,CACR,KAAK,yBAAyB,KAAK,aAAa,EAChD,KAAK,MAAM,QAAQ,EACnB,KAAK,UAAY,MACnB,CACF,EACAohH,GAAW,iBAAmB,CAAC,EAC/B,IAAIiB,GAAYjB,GAGhB,SAASkB,GAAezmH,EAAOlB,EAAU,CACvC,IAAI9J,EAAIiL,EAAIC,EACZ,GAAI,OAAOF,GAAU,SACnB,OAAOA,EAETlB,EAAWA,GAA8B,CAAC,EAC1C,KAAM,CACJ,QAAAuoC,GAAWryC,EAAK8J,EAAS,UAAY,KAAO9J,EAAK,GACjD,MAAA87C,GAAS7wC,EAAKnB,EAAS,QAAU,KAAOmB,EAAK,OAC7C,MAAAuiB,EAAQ1jB,EAAS,MACjB,gBAAAiyC,EAAkBjyC,EAAS,gBAC3B,QAAA84B,GAAW13B,EAAKpB,EAAS,UAAY,KAAOoB,EAAK,CACnD,EAAIF,EACJ,IAAIgxC,EACAE,EACA1uB,GACFwuB,EAAYF,EAAQ,gBAAgB41E,GAAiB,KAAK,0BAA0BlkG,CAAK,KAAKsuB,CAAK,UAAY,GAC/GI,EAAc,gBAAgBw1E,GAAiB,KAAK,2BAA2BlkG,CAAK,KAAK6kB,CAAO,YAEhG2J,EAAYF,EAAQ,gBAAgB41E,GAAiB,KAAK,WAAW51E,CAAK,UAAY,GACtFI,EAAc,gBAAgBw1E,GAAiB,KAAK,aAAar/E,CAAO,WAE1E,IAAIx3B,EAAQ,YAAY+nB,CAAO,GAC/B,OAAImZ,IACFlhC,GAAS,uBAAuBkhC,EAAgB,YAAY,CAAC,IAExD,eAAe21E,GAAiB,KAAK,YAAY72G,CAAK;AAAA,kBAC7CmhC,CAAS;AAAA,kBACTE,CAAW;AAAA,mBAE7B,CACA,IAAIy1E,GAAoB,MAAMA,EAAkB,CAC9C,aAAc,CACZ,KAAK,QAAU,SAAS,cAAc,KAAK,EACvB,SAAS,KACjB,YAAY,KAAK,OAAO,CACtC,CACA,WAAY,CACV,KAAM,CAAE,QAAS72G,CAAS,EAAI,KAC9B,GAAIA,EAAS,UACX,MAAO,CAACA,EAAS,UAAU,SAAS,GAAG62G,GAAkB,KAAK,iBAAiB,EAEjF,MAAMC,EAAU92G,EAAS,aAAa,OAAO,EAC7C,OAAI82G,EACKA,EAAQ,MAAM,GAAG,EAAE,QAAQ,GAAGD,GAAkB,KAAK,iBAAiB,EAAI,EAE5E,EACT,CACA,YAAYvhF,EAAS,CACnB,MAAM6M,EAAY,CAAC,GAAG00E,GAAkB,KAAK,UAAU,EACnDvhF,IAAY,IACd6M,EAAU,KAAK,GAAG00E,GAAkB,KAAK,iBAAiB,EAE5D,KAAK,QAAQ,aAAa,QAAS10E,EAAU,KAAK,GAAG,CAAC,CACxD,CACA,KAAKX,EAAMi5B,EAAM,CACf,IAAIv1E,EAAIiL,EAAIC,EAAIU,EAChB,KAAK,OAAO,EAAK,EACjB,KAAM,CAAE,QAASkP,CAAS,EAAI,KAC9B,GAAIy6D,IAAS,OACXz6D,EAAS,UAAYy6D,UACZ,CAACz6D,EAAS,UACnB,OAEF,MAAMuE,GAAWpU,GAAMjL,EAAKs8C,EAAK,WAAa,KAAO,OAASt8C,EAAG,UAAY,KAAOiL,EAAK,GACnFqU,GAAW1T,GAAMV,EAAKoxC,EAAK,WAAa,KAAO,OAASpxC,EAAG,UAAY,KAAOU,EAAK,EACzF,IAAIiO,EAAOyiC,EAAK,MAAQj9B,EACpB8E,EAAMm4B,EAAK,MAAQh9B,EACvB,MAAMuyG,EAAc/2G,EAAS,sBAAsB,EACnD,IAAIg3G,EAAU,OAAO,WAAaD,EAAY,MAC9C,GAAIv1E,EAAK,UAAW,CAClB,MAAMy1E,EAAgBz1E,EAAK,UAAU,sBAAsB,EAC3Dw1E,EAAUC,EAAc,MAAQA,EAAc,MAAQF,EAAY,MACpE,CACIh4G,EAAOi4G,IACTj4G,EAAOyiC,EAAK,MAAQxhC,EAAS,YAAcuE,GAEzC,OAAO,QAAY,MACrBxF,GAAQ,SAEN,OAAO,QAAY,MACrBsK,GAAO,SAETrJ,EAAS,MAAM,KAAO,GAAG,KAAK,MAAMjB,CAAI,CAAC,KACzCiB,EAAS,MAAM,IAAM,GAAG,KAAK,MAAMqJ,CAAG,CAAC,KACvC,KAAK,OAAO,EAAI,CAClB,CACA,OAAOisB,EAAS,CACd,KAAK,YAAYA,CAAO,CAC1B,CACA,SAAU,CACR,KAAM,CAAE,WAAAmG,CAAW,EAAI,KAAK,QACxBA,GACFA,EAAW,YAAY,KAAK,OAAO,CAEvC,CACF,EACAo7E,GAAkB,MAAQ,uBAC1B,IAAID,GAAmBC,GAGvB,SAASK,GAAW3wC,EAAO,CACzB,OAAQA,EAAO,CACb,IAAK,SACH,OAAO2pC,GAAgC,OACzC,IAAK,SACH,OAAOA,GAAgC,OACzC,IAAK,UACH,OAAOA,GAAgC,QACzC,QACE,OAAOA,GAAgC,MAC3C,CACF,CAGA,SAASiH,GAAYjsF,EAASF,EAAW,QAAS,CAChD,MAAMosF,EAAa,CACjB,MAAO,CAAC,EACR,KAAM,CAAC,EAAG,CAAC,EACX,IAAK,CAAC,EAAG,CAAC,EACV,QAAS,CAAC,EAAG,EAAG,EAAG,CAAC,EACpB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC7B,SAAU,CAAC,EAAG,CAAC,EACf,UAAW,CAAC,EAAG,CAAC,EAChB,aAAc,CAAC,EAAG,EAAG,EAAG,CAAC,EACzB,gBAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAClC,SAAU,CAAC,EAAG,CAAC,EACf,YAAa,CAAC,EAAG,EAAG,EAAG,CAAC,EACxB,eAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,CACnC,EACMC,EAAgB,CACpB,MAAO,CAAC,EACR,KAAM,CAAC,EAAG,CAAC,EACX,IAAK,CAAC,EAAG,CAAC,EACV,QAAS,CAAC,EAAG,EAAG,EAAG,CAAC,EACpB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC7B,SAAU,CAAC,EAAG,CAAC,EACf,UAAW,CAAC,EAAG,CAAC,EAChB,aAAc,CAAC,EAAG,EAAG,EAAG,CAAC,EACzB,gBAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAClC,SAAU,CAAC,EAAG,CAAC,EACf,YAAa,CAAC,EAAG,EAAG,EAAG,CAAC,EACxB,eAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,CACnC,EACA,OAAInsF,IAAY,SAAWA,IAAY,SACjCmsF,EAAcrsF,CAAQ,GAAK,MAC7B,QAAQ,KAAK,IAAIA,CAAQ,qCAAqC,EACvDqsF,EAAc,OAEhBA,EAAcrsF,CAAQ,EAE3BosF,EAAWpsF,CAAQ,GAAK,MAC1B,QAAQ,KAAK,IAAIA,CAAQ,qCAAqC,EACvDosF,EAAW,OAEbA,EAAWpsF,CAAQ,CAC5B,CAGA,GAAI,CAAE,OAAQssF,EAAQ,EAAIjE,GACtB,CAAE,UAAWkE,EAAW,EAAInE,GAC5BoE,GAAkB,KAAM,CAC1B,aAAc,CACZ,KAAK,QAAU,GACf,KAAK,MAAQ,SACb,KAAK,KAAO,EACZ,KAAK,KAAO,qBACZ,KAAK,OAAS,qBACd,KAAK,YAAc,EACnB,KAAK,UAAY,MACnB,CACF,EACIC,GAAgB,KAAM,CACxB,aAAc,CACZ,KAAK,OAAS,qBACd,KAAK,YAAc,CACrB,CACF,EACIC,GAAsB,KAAM,CAC9B,aAAc,CACZ,KAAK,MAAQ,CACX,QAAS,GACT,OAAQ,oBACR,YAAa,EACb,SAAU,QACV,QAAS,MACX,EACA,KAAK,MAAQ,CACX,QAAS,GACT,OAAQ,oBACR,YAAa,EACb,SAAU,QACV,QAAS,MACX,CACF,CACF,EACIC,GAAgB,cAAcjB,EAAU,CAC1C,aAAc,CACZ,MAAM,EACN,KAAK,KAAO,4BACZ,KAAK,WAAa,IAAIxG,GAAgC,KACtD,KAAK,SAAW,IAAIA,GAAgC,KACpD,KAAK,eAAiB,IAAIA,GAAgC,KAC1D,KAAK,eAAiB,IAAIA,GAAgC,KAC1D,KAAK,mBAAqB,IAAIA,GAAgC,MAC9D,KAAK,UAAY,IAAIA,GAAgC,KACrD,KAAK,QAAU,IAAIA,GAAgC,MACnD,KAAK,gBAAkBA,GAAgC,UAAU,OAC/D,KAAK,QACL,IAAM,KAAK,cAAc,CAC3B,EACA,KAAK,oBAAsB,CAAC,EAC5B,KAAK,OAAS,IAAIsH,GAClB,KAAK,KAAO,IAAIC,GAChB,KAAK,WAAa,IAAIC,GACtB,KAAK,UAAU,OAAO,KAAK,kBAAkB,EAC7C,KAAK,UAAU,OAAS,IACxB,KAAK,SAAS,OAAS,GACvB,KAAK,WAAW,OAAS,IACzB,KAAK,eAAe,OAAS,IAC7B,KAAK,eAAe,OAAS,IAC7B,KAAK,QAAQ,OAAS,KACtB,KAAK,mBAAmB,OAAO,CAC7B,KAAK,SACL,KAAK,UACL,KAAK,WACL,KAAK,eACL,KAAK,eACL,KAAK,OACP,CAAC,CACH,CACA,eAAgB,CACd,KAAM,CAAE,MAAAnxC,CAAM,EAAI,KAAK,OACjB8C,EAAc6tC,GAAW3wC,CAAK,EACpC,OAAO,IAAI8C,CACb,CACA,aAAc,CACZ,OAAO,KAAK,mBACd,CACA,QAAS,CACP,MAAMh1E,EAAO,KAAK,iBAAiB,EACnC,GAAI,CAACA,EACH,OAEF,KAAM,CAAE,SAAA4yE,EAAU,SAAAkmB,EAAU,WAAAG,CAAW,EAAIj5F,EAC3C,KAAK,oBAAsB4yE,EAC3B,KAAK,gBAAgBA,CAAQ,EAC7B,KAAK,YAAY,EACjB,KAAK,aAAaqmB,CAAU,EAC5B,KAAK,WAAWH,CAAQ,CAC1B,CACA,oBAAqB,CACnB,KAAM,CAAE,MAAA0oB,EAAO,OAAAlvC,CAAO,EAAI,KACpBixC,EAAUN,GAAQzB,CAAK,EAC7B,IAAIgC,EAAO,EACPC,EAAO,EACPF,IAAY,SACdC,EAAO,KAAK,IAAMD,EAAQ,CAAC,EAC3BE,EAAO,KAAK,IAAMF,EAAQ,CAAC,GAE7BC,EAAOA,EAAO,EAAIA,EAAO,EACzBC,EAAOA,EAAO,EAAI,EAAIA,EACtBnxC,EAAO,OAAS,CAACkxC,EAAMC,CAAI,CAC7B,CACA,kBAAmB,CACjB,KAAM,CAAE,KAAAzjH,EAAM,MAAAwhH,EAAO,MAAAH,EAAO,OAAAhvC,EAAQ,OAAAC,CAAO,EAAI,KAC/C,GAAI,CAACtyE,EACH,OAEF,MAAMuxC,EAAa,EAAE8gC,aAAkB6wC,IACjCh0E,EAAWqC,EAAoC,EAAvB8gC,EAAO,UAAY,EAC3Ct/D,EAAIyuG,EAAM,OACV5uC,EAAW,CAAC,EACZkmB,EAAW,CAAC,EACZG,EAAa,CAAC,EACpB,IAAIyqB,EACAC,EACA9vB,EACAr6B,EACJ,MAAMoqD,EAAQtxC,EAAO,QAAQ,CAAC,EAC9B,QAAS3oF,EAAI,EAAGA,EAAIopB,EAAGppB,IAAK,CAC1B,MAAMwuG,EAASqpB,EAAM73H,CAAC,EAChBytG,EAASiqB,EAAM13H,CAAC,EAChB,EAAI0oF,EAAO,QAAQ9gC,EAAa8gC,EAAO,SAAS+kB,CAAM,EAAIA,CAAM,EAAIloD,EACpE97B,EAAI+kF,IAAW,OAAS,IAAM7lB,EAAO,QAAQ6lB,CAAM,EACrDxuG,EAAI,EAAIopB,IACVymD,EAAQ6Y,EAAO,QAAQ9gC,EAAa8gC,EAAO,SAASgvC,EAAM13H,EAAI,CAAC,CAAC,EAAI03H,EAAM13H,EAAI,CAAC,CAAC,EAAIulD,GAEtF+pD,EAAW,KAAK,CACd,YAAa,CAAE,EAAG7B,EAAQ,EAAGe,CAAO,EACpC,MAAO,CAAE,EAAG,EAAA/kF,CAAE,CAChB,CAAC,EACG+kF,IAAW,QAAUtE,IAAc,QACrCiF,EAAS,KAAK,CAAE,YAAa,OAAQ,MAAO,CAAE,EAAGjF,EAAW,EAAG+vB,CAAM,CAAE,CAAC,EACpEpqD,IAAU,QACZs/B,EAAS,KAAK,CAAE,YAAa,OAAQ,MAAO,CAAE,EAAGt/B,EAAO,EAAGoqD,CAAM,CAAE,CAAC,GAE7DzrB,IAAW,SACpBW,EAAS,KAAK,CACZ,YAAa,CAAE,EAAG1B,EAAQ,EAAGe,CAAO,EACpC,MAAO,CAAE,EAAG,EAAA/kF,CAAE,CAChB,CAAC,EACDw/D,EAAS,KAAK,CACZ,YAAa,CAAE,EAAGwkB,EAAQ,EAAGe,CAAO,EACpC,MAAO,CAAE,EAAG,EAAA/kF,CAAE,CAChB,CAAC,EACDswG,EAAcA,IAAgB,OAASA,EAAc,EACrDC,EAAa,GAEf9vB,EAAY,CACd,CACA,OAAAiF,EAAS,KACP,CAAE,YAAa,OAAQ,MAAO,CAAE,EAAG6qB,EAAY,EAAGC,CAAM,CAAE,EAC1D,CAAE,YAAa,OAAQ,MAAO,CAAE,EAAGF,EAAa,EAAGE,CAAM,CAAE,CAC7D,EACO,CAAE,SAAAhxC,EAAU,SAAAkmB,EAAU,WAAAG,CAAW,CAC1C,CACA,gBAAiB,CACf,KAAM,CAAE,OAAA5mB,EAAQ,OAAAC,EAAQ,KAAAr1E,EAAM,UAAA4mH,CAAU,EAAI,KAC5CA,EAAU,GAAKxxC,EAAO,MAAM,CAAC,EAC7BwxC,EAAU,GAAKxxC,EAAO,MAAM,CAAC,EAC7BwxC,EAAU,GAAKA,EAAU,GAAK,EAC9BA,EAAU,OAAS5mH,EAAK,OACxB4mH,EAAU,YAAc5mH,EAAK,YAC7B,MAAM2mH,EAAQtxC,EAAO,QAAQ,CAAC,EAC9BuxC,EAAU,aAAeD,CAC3B,CACA,gBAAgBE,EAAe,CAC7B,KAAK,gBAAgB,OAAOA,CAAa,CAC3C,CACA,aAAc,CACZ,KAAM,CAAE,iBAAAn6D,EAAkB,eAAAu6B,EAAgB,OAAA75C,CAAO,EAAI,KAC/C,CACJ,KAAM05E,EACN,KAAMC,EACN,OAAQC,EACR,YAAaC,CACf,EAAIhgC,EACEigC,EAAkB95E,EAAO,UAC/B,KAAK,gBAAgB,KAAK,CAACxrC,EAAM0a,EAAOnkB,IAAU,CAChD,KAAM,CAAE,MAAA8iC,EAAO,YAAA+/D,CAAY,EAAI1+E,EAC/B,GAAI,CAAC2e,EACH,OAEF,MAAMihE,EAAc5/E,IAAUowC,EACxB4b,EAAa4zB,GAAe6qB,IAAkB,OAASA,EAAgB35E,EAAO,KAC9E+5E,EAAejrB,GAAe8qB,IAAoB,OAASA,EAAkB55E,EAAO,OACpFg6E,EAAoBlrB,GAAe+qB,IAAyB,OAASA,EAAuB75E,EAAO,YACnGy4C,EAAaqW,GAAe4qB,IAAkB,OAASA,EAAgB15E,EAAO,KACpF,IAAIi6E,EACJ,GAAIH,EAAiB,CACnB,MAAMI,EAAQnvH,IAAU,EAClBovH,EAAOpvH,IAAU,KAAK,oBAAoB,OAAS,EACnDuU,EAAMsuF,EAAY,IAAM,KAAK,IAC7BruF,EAAMquF,EAAY,IAAM,KAAK,IACnCqsB,EAAeH,EAAgB,CAC7B,MAAA5qG,EACA,OAAQ0+E,EAAY,EACpB,OAAQA,EAAY,EACpB,IAAAtuF,EACA,IAAAC,EACA,MAAA26G,EACA,KAAAC,EACA,KAAMj/C,EACN,OAAQ6+C,EACR,YAAaC,EACb,KAAMvhC,EACN,YAAAqW,CACF,CAAC,CACH,CACAt6F,EAAK,KAAOylH,GAAgBA,EAAa,MAAQ,KAASA,EAAa,KAAOxhC,EAC9EjkF,EAAK,KAAOylH,GAAgBA,EAAa,MAAQ,KAASA,EAAa,KAAO/+C,EAC9E1mE,EAAK,OAASylH,GAAgBA,EAAa,QAAU,KAASA,EAAa,OAASF,EACpFvlH,EAAK,YAAcylH,GAAgBA,EAAa,aAAe,KAASA,EAAa,YAAcD,EACnGxlH,EAAK,aAAeq5B,EAAM,EAC1Br5B,EAAK,aAAeq5B,EAAM,EAC1Br5B,EAAK,QAAUylH,GAAgBA,EAAa,SAAW,KAASA,EAAa,QAAUj6E,EAAO,SAAWxrC,EAAK,KAAO,CACvH,CAAC,CACH,CACA,aAAao6F,EAAY,CACvB,KAAM,CAAE,WAAAC,EAAY,MAAAsoB,EAAO,KAAAxpF,CAAK,EAAI,KAC9Bn+B,EAAOq/F,EAAW,KAExB,GADAr/F,EAAK,MAAM,EACP2nH,EAAM,OAAS,EACjB,OAEF,MAAMzuG,EAAIkmF,EAAW,OACrB,IAAIuK,EAAS,GACb,QAAS75G,EAAI,EAAGA,EAAIopB,EAAGppB,IAAK,CAC1B,KAAM,CAAE,MAAAuuC,EAAO,YAAA+/D,CAAY,EAAIgB,EAAWtvG,CAAC,EACrCU,EAAI6tC,EAAM,EACV9kB,EAAI8kB,EAAM,EACZ+/D,EAAY,GAAK,KACnBuL,EAAS,GAELA,GACF3pG,EAAK,OAAOxP,EAAG+oB,CAAC,EAChBowF,EAAS,IAET3pG,EAAK,OAAOxP,EAAG+oB,CAAC,CAGtB,CACA8lF,EAAW,SAAWA,EAAW,QAAU,QAC3CA,EAAW,KAAO,OAClBA,EAAW,OAASlhE,EAAK,OACzBkhE,EAAW,YAAclhE,EAAK,WAChC,CACA,WAAWysF,EAAU,CACnB,KAAM,CAAE,SAAA1rB,EAAU,MAAAyoB,EAAO,KAAA/rF,CAAK,EAAI,KAC5B57B,EAAOk/F,EAAS,KAChBhmF,EAAI0xG,EAAS,OAEnB,GADA5qH,EAAK,MAAM,EACP,EAAA2nH,EAAM,OAAS,GAGnB,SAAS73H,EAAI,EAAGA,EAAIopB,EAAGppB,IAAK,CAC1B,KAAM,CAAE,MAAAuuC,CAAM,EAAIusF,EAAS96H,CAAC,EACtBU,EAAI6tC,EAAM,EACV9kB,EAAI8kB,EAAM,EACZvuC,EAAI,EACNkQ,EAAK,OAAOxP,EAAG+oB,CAAC,EAEhBvZ,EAAK,OAAOxP,EAAG+oB,CAAC,CAEpB,CACAvZ,EAAK,UAAU,EACfk/F,EAAS,SAAW,QACpBA,EAAS,OAAS,OAClBA,EAAS,KAAOtjE,EAClB,CACA,sBAAuB,CACrB,IAAI5kC,EACJ,KAAM,CACJ,OAAAyhF,EACA,eAAAoyC,EACA,iBAAA/6D,EACA,WAAY,CAAE,MAAAg7D,CAAM,CACtB,EAAI,KACJ,GAAI,CAACA,EAAM,SAAWh7D,GAAoB,KAAQ,CAChD+6D,EAAe,YAAc,EAC7B,MACF,CACAA,EAAe,GAAKpyC,EAAO,MAAM,CAAC,EAClCoyC,EAAe,GAAKpyC,EAAO,MAAM,CAAC,EAClCoyC,EAAe,GAAKA,EAAe,GAAK,EACxCA,EAAe,OAASC,EAAM,OAC9BD,EAAe,aAAe7zH,EAAK8zH,EAAM,cAAgB,KAAO9zH,EAAK,EACrE6zH,EAAe,QAAUC,EAAM,UAAY,SAAWA,EAAM,UAAY,SAAWA,EAAM,QAAU,OACnG,KAAM,CAAE,SAAAhuF,CAAS,EAAIguF,EACrBD,EAAe,SAAW,MAAM,QAAQ/tF,CAAQ,EAAIA,EAAWmsF,GAAY4B,EAAe,QAASC,EAAM,QAAQ,EACjHD,EAAe,aAAe/6D,EAAiB,MAAM,CACvD,CACA,sBAAuB,CACrB,IAAI94D,EACJ,KAAM,CACJ,OAAAwhF,EACA,eAAAuyC,EACA,iBAAAj7D,EACA,WAAY,CAAE,MAAAk7D,CAAM,CACtB,EAAI,KACJ,GAAI,CAACA,EAAM,SAAWl7D,GAAoB,KAAQ,CAChDi7D,EAAe,YAAc,EAC7B,MACF,CACAA,EAAe,GAAKvyC,EAAO,MAAM,CAAC,EAClCuyC,EAAe,GAAKvyC,EAAO,MAAM,CAAC,EAClCuyC,EAAe,GAAKA,EAAe,GAAK,EACxCA,EAAe,OAASC,EAAM,OAC9BD,EAAe,aAAe/zH,EAAKg0H,EAAM,cAAgB,KAAOh0H,EAAK,EACrE+zH,EAAe,QAAUC,EAAM,UAAY,SAAWA,EAAM,UAAY,SAAWA,EAAM,QAAU,OACnG,KAAM,CAAE,SAAAluF,CAAS,EAAIkuF,EACrBD,EAAe,SAAW,MAAM,QAAQjuF,CAAQ,EAAIA,EAAWmsF,GAAY8B,EAAe,QAASC,EAAM,QAAQ,EACjHD,EAAe,aAAej7D,EAAiB,MAAM,CACvD,CACA,eAAepwC,EAAO,CACpB,IAAI1oB,EAAIiL,EACR,KAAM,CAAE,SAAA2lH,CAAS,EAAI,KACf,CAAE,YAAAxpB,CAAY,EAAI1+E,EAClBigF,EAASvB,EAAY,EACrBzJ,EAASyJ,EAAY,EACrB/0D,EAAU,KAAK,mBAAmBs2D,CAAM,EACxC7sD,EAAQ80E,IAAa,SAAWA,IAAa,SAAW,KAAK,YAAYjzB,CAAM,EAAI,OACnF7zF,EAAW,CACf,QAAAuoC,EACA,MAAAyJ,CACF,EACMu1E,GAAmBpmH,GAAMjL,EAAK,KAAK,mBAAqB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,SAChH,OAAIomH,EACKI,GACLJ,EAAgB,CACd,QAAS,KAAK,QACd,MAAOjqB,EACP,OAAAuB,EACA,OAAAhL,CACF,CAAC,EACD7zF,CACF,EAEK2nH,GAAe3nH,CAAQ,CAChC,CACF,EACA2oH,GAAc,UAAY,gBAG1B,GAAI,CAAE,OAAQwB,EAAQ,EAAI9F,GACtB,CAAE,UAAW+F,EAAW,EAAIhG,GAC5BiG,GAAmB,KAAM,CAC3B,aAAc,CACZ,KAAK,QAAU,GACf,KAAK,MAAQ,SACb,KAAK,KAAO,EACZ,KAAK,KAAO,qBACZ,KAAK,OAAS,qBACd,KAAK,YAAc,EACnB,KAAK,UAAY,MACnB,CACF,EACIC,GAAiB,KAAM,CACzB,aAAc,CACZ,KAAK,OAAS,qBACd,KAAK,YAAc,CACrB,CACF,EACIC,GAAuB,KAAM,CAC/B,aAAc,CACZ,KAAK,MAAQ,CACX,QAAS,GACT,OAAQ,oBACR,YAAa,EACb,SAAU,QACV,QAAS,MACX,EACA,KAAK,MAAQ,CACX,QAAS,GACT,OAAQ,oBACR,YAAa,EACb,SAAU,QACV,QAAS,MACX,CACF,CACF,EACIC,GAAgB,cAAc9C,EAAU,CAC1C,aAAc,CACZ,MAAM,EACN,KAAK,SAAW,IAAIxG,GAAgC,KACpD,KAAK,eAAiB,IAAIA,GAAgC,KAC1D,KAAK,eAAiB,IAAIA,GAAgC,KAC1D,KAAK,mBAAqB,IAAIA,GAAgC,MAC9D,KAAK,QAAU,IAAIA,GAAgC,MACnD,KAAK,gBAAkBA,GAAgC,UAAU,OAC/D,KAAK,QACL,IAAM,KAAK,cAAc,CAC3B,EACA,KAAK,oBAAsB,CAAC,EAC5B,KAAK,OAAS,IAAImJ,GAClB,KAAK,KAAO,IAAIC,GAChB,KAAK,WAAa,IAAIC,GACtB,KAAK,UAAU,OAAO,KAAK,kBAAkB,EAC7C,KAAK,SAAS,OAAS,IACvB,KAAK,eAAe,OAAS,IAC7B,KAAK,eAAe,OAAS,IAC7B,KAAK,QAAQ,OAAS,KACtB,KAAK,mBAAmB,OAAO,CAAC,KAAK,SAAU,KAAK,eAAgB,KAAK,eAAgB,KAAK,OAAO,CAAC,CACxG,CACA,aAAc,CACZ,OAAO,KAAK,mBACd,CACA,eAAgB,CACd,KAAM,CAAE,MAAAhzC,CAAM,EAAI,KAAK,OACjB8C,EAAc6tC,GAAW3wC,CAAK,EACpC,OAAO,IAAI8C,CACb,CAIA,qBAAsB,CACpB,KAAK,gBAAkB,KAAK,gBAAgB,MAAM,EAClD,KAAK,eAAe,CACtB,CACA,QAAS,CACP,MAAMpC,EAAW,KAAK,iBAAiB,EAClCA,IAGL,KAAK,oBAAsBA,EAC3B,KAAK,gBAAgBA,CAAQ,EAC7B,KAAK,YAAY,EACjB,KAAK,WAAW,EAClB,CACA,oBAAqB,CACnB,KAAM,CAAE,MAAA4uC,EAAO,OAAAlvC,CAAO,EAAI,KACpBixC,EAAUuB,GAAQtD,CAAK,EAC7B,IAAIgC,EAAO,EACPC,EAAO,EAKX,GAJIF,IAAY,SACdC,EAAO,KAAK,IAAMD,EAAQ,CAAC,EAC3BE,EAAO,KAAK,IAAMF,EAAQ,CAAC,GAEzBC,IAASC,EAAM,CACjB,MAAMtkF,EAAU,KAAK,IAAIqkF,EAAO,GAAI,EACpCA,GAAQrkF,EACRskF,GAAQtkF,CACV,CACAmzC,EAAO,OAAS,CAACkxC,EAAMC,CAAI,CAC7B,CACA,kBAAmB,CACjB,KAAM,CAAE,KAAAzjH,EAAM,MAAAwhH,EAAO,MAAAH,EAAO,OAAAhvC,EAAQ,OAAAC,CAAO,EAAI,KAC/C,GAAI,CAACtyE,EACH,OAEF,MAAMuxC,EAAa,EAAE8gC,aAAkB0yC,IACjC71E,EAAWqC,EAAoC,EAAvB8gC,EAAO,UAAY,EAC3CO,EAAW,CAAC,EAClB,QAASjpF,EAAI,EAAGA,EAAI63H,EAAM,OAAQ73H,IAAK,CACrC,MAAMwuG,EAASqpB,EAAM73H,CAAC,EAChBytG,EAASiqB,EAAM13H,CAAC,EACtB,GAAIwuG,GAAU,KACZ,SAEF,MAAM9tG,EAAIgoF,EAAO,QAAQ9gC,EAAa8gC,EAAO,SAAS+kB,CAAM,EAAIA,CAAM,EAAIloD,EACpE97B,EAAI+kF,IAAW,OAAS,IAAM7lB,EAAO,QAAQ6lB,CAAM,EACzDvlB,EAAS,KAAK,CACZ,YAAa,CAAE,EAAGwkB,EAAQ,EAAGe,CAAO,EACpC,MAAO,CAAE,EAAA9tG,EAAG,EAAA+oB,CAAE,CAChB,CAAC,CACH,CACA,OAAOw/D,CACT,CACA,gBAAgBkxC,EAAe,CAC7B,KAAK,gBAAgB,OAAOA,CAAa,CAC3C,CACA,aAAc,CACZ,KAAM,CAAE,iBAAAn6D,EAAkB,eAAAu6B,EAAgB,OAAA75C,CAAO,EAAI,KAC/C,CACJ,KAAM05E,EACN,KAAMC,EACN,OAAQC,EACR,YAAaC,CACf,EAAIhgC,EACEigC,EAAkB95E,EAAO,UAC/B,KAAK,gBAAgB,KAAK,CAACxrC,EAAM0a,EAAOnkB,IAAU,CAChD,MAAM+jG,EAAc5/E,IAAUowC,EACxB4b,EAAa4zB,GAAe6qB,IAAkB,OAASA,EAAgB35E,EAAO,KAC9E+5E,EAAejrB,GAAe8qB,IAAoB,OAASA,EAAkB55E,EAAO,OACpFg6E,EAAoBlrB,GAAe+qB,IAAyB,OAASA,EAAuB75E,EAAO,YACnGy4C,EAAaqW,GAAe4qB,IAAkB,OAASA,EAAgB15E,EAAO,KACpF,IAAIi6E,EACJ,KAAM,CAAE,YAAArsB,EAAa,MAAA//D,CAAM,EAAI3e,EAC/B,GAAI4qG,EAAiB,CACnB,MAAMI,EAAQnvH,IAAU,EAClBovH,EAAOpvH,IAAU,KAAK,oBAAoB,OAAS,EACnDuU,EAAMsuF,EAAY,IAAM,KAAK,IAC7BruF,EAAMquF,EAAY,IAAM,KAAK,IACnCqsB,EAAeH,EAAgB,CAC7B,MAAA5qG,EACA,OAAQ0+E,EAAY,EACpB,OAAQA,EAAY,EACpB,IAAAtuF,EACA,IAAAC,EACA,MAAA26G,EACA,KAAAC,EACA,KAAMj/C,EACN,OAAQ6+C,EACR,YAAaC,EACb,KAAMvhC,EACN,YAAAqW,CACF,CAAC,CACH,CACAt6F,EAAK,KAAOylH,GAAgBA,EAAa,MAAQ,KAASA,EAAa,KAAOxhC,EAC9EjkF,EAAK,KAAOylH,GAAgBA,EAAa,MAAQ,KAASA,EAAa,KAAO/+C,EAC9E1mE,EAAK,OAASylH,GAAgBA,EAAa,QAAU,KAASA,EAAa,OAASF,EACpFvlH,EAAK,YAAcylH,GAAgBA,EAAa,aAAe,KAASA,EAAa,YAAcD,EACnGxlH,EAAK,aAAeq5B,EAAM,EAC1Br5B,EAAK,aAAeq5B,EAAM,EAC1Br5B,EAAK,QAAUylH,GAAgBA,EAAa,SAAW,KAASA,EAAa,QAAUj6E,EAAO,SAAWxrC,EAAK,KAAO,CACvH,CAAC,CACH,CACA,YAAa,CACX,KAAM,CAAE,SAAAuxF,EAAU,MAAAoxB,EAAO,MAAAH,EAAO,OAAAhvC,EAAQ,OAAAC,EAAQ,KAAAt6C,CAAK,EAAI,KACnDn+B,EAAOu2F,EAAS,KAEtB,GADAv2F,EAAK,MAAM,EACP2nH,EAAM,OAAS,EACjB,OAEF,MAAMjwE,EAAa,EAAE8gC,aAAkB0yC,IACjChyG,EAAIyuG,EAAM,OACVtyE,EAAWqC,EAAoC,EAAvB8gC,EAAO,UAAY,EACjD,IAAImxB,EAAS,GACb,QAAS75G,EAAI,EAAGA,EAAIopB,EAAGppB,IAAK,CAC1B,MAAMytG,EAASiqB,EAAM13H,CAAC,EAChBwuG,EAASqpB,EAAM73H,CAAC,EAChBU,EAAIgoF,EAAO,QAAQ9gC,EAAa8gC,EAAO,SAAS+kB,CAAM,EAAIA,CAAM,EAAIloD,EACpE97B,EAAI+kF,IAAW,OAAS,IAAM7lB,EAAO,QAAQ6lB,CAAM,EACrDA,GAAU,KACZqL,EAAS,GAELA,GACF3pG,EAAK,OAAOxP,EAAG+oB,CAAC,EAChBowF,EAAS,IAET3pG,EAAK,OAAOxP,EAAG+oB,CAAC,CAGtB,CACAg9E,EAAS,KAAO,OAChBA,EAAS,OAASp4D,EAAK,OACvBo4D,EAAS,YAAcp4D,EAAK,WAC9B,CACA,sBAAuB,CACrB,IAAInnC,EACJ,KAAM,CACJ,OAAAyhF,EACA,eAAAoyC,EACA,iBAAA/6D,EACA,WAAY,CAAE,MAAAg7D,CAAM,CACtB,EAAI,KACJ,GAAI,CAACA,EAAM,SAAWh7D,GAAoB,KAAQ,CAChD+6D,EAAe,YAAc,EAC7B,MACF,CACAA,EAAe,GAAKpyC,EAAO,MAAM,CAAC,EAClCoyC,EAAe,GAAKpyC,EAAO,MAAM,CAAC,EAClCoyC,EAAe,GAAKA,EAAe,GAAK,EACxCA,EAAe,OAASC,EAAM,OAC9BD,EAAe,aAAe7zH,EAAK8zH,EAAM,cAAgB,KAAO9zH,EAAK,EACrE6zH,EAAe,QAAUC,EAAM,UAAY,SAAWA,EAAM,UAAY,SAAWA,EAAM,QAAU,OACnG,KAAM,CAAE,SAAAhuF,CAAS,EAAIguF,EACrBD,EAAe,SAAW,MAAM,QAAQ/tF,CAAQ,EAAIA,EAAWmsF,GAAY4B,EAAe,QAASC,EAAM,QAAQ,EACjHD,EAAe,aAAe/6D,EAAiB,MAAM,CACvD,CACA,sBAAuB,CACrB,IAAI94D,EACJ,KAAM,CACJ,OAAAwhF,EACA,eAAAuyC,EACA,iBAAAj7D,EACA,WAAY,CAAE,MAAAk7D,CAAM,CACtB,EAAI,KACJ,GAAI,CAACA,EAAM,SAAWl7D,GAAoB,KAAQ,CAChDi7D,EAAe,YAAc,EAC7B,MACF,CACAA,EAAe,GAAKvyC,EAAO,MAAM,CAAC,EAClCuyC,EAAe,GAAKvyC,EAAO,MAAM,CAAC,EAClCuyC,EAAe,GAAKA,EAAe,GAAK,EACxCA,EAAe,OAASC,EAAM,OAC9BD,EAAe,aAAe/zH,EAAKg0H,EAAM,cAAgB,KAAOh0H,EAAK,EACrE+zH,EAAe,QAAUC,EAAM,UAAY,SAAWA,EAAM,UAAY,SAAWA,EAAM,QAAU,OACnG,KAAM,CAAE,SAAAluF,CAAS,EAAIkuF,EACrBD,EAAe,SAAW,MAAM,QAAQjuF,CAAQ,EAAIA,EAAWmsF,GAAY8B,EAAe,QAASC,EAAM,QAAQ,EACjHD,EAAe,aAAej7D,EAAiB,MAAM,CACvD,CACA,eAAepwC,EAAO,CACpB,IAAI1oB,EAAIiL,EACR,KAAM,CAAE,SAAA2lH,CAAS,EAAI,KACf,CAAE,YAAAxpB,CAAY,EAAI1+E,EAClBigF,EAASvB,EAAY,EACrBzJ,EAASyJ,EAAY,EACrB/0D,EAAU,KAAK,mBAAmBs2D,CAAM,EACxC7sD,EAAQ80E,IAAa,SAAWA,IAAa,SAAW,KAAK,YAAYjzB,CAAM,EAAI,OACnF7zF,EAAW,CACf,QAAAuoC,EACA,MAAAyJ,CACF,EACMu1E,GAAmBpmH,GAAMjL,EAAK,KAAK,mBAAqB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,SAChH,OAAIomH,EACKI,GACLJ,EAAgB,CACd,QAAS,KAAK,QACd,MAAOjqB,EACP,OAAAuB,EACA,OAAAhL,CACF,CAAC,EACD7zF,CACF,EAEK2nH,GAAe3nH,CAAQ,CAChC,CACF,EACAwqH,GAAc,UAAY,gBAG1B,IAAIC,GAAS,KAAM,CACjB,aAAc,CACZ,KAAK,QAAU,GACf,KAAK,SAAW,EAChB,KAAK,WAAa,sBAClB,KAAK,UAAY,OACjB,KAAK,WAAa,OAClB,KAAK,MAAQ,qBACf,CACF,EAGI,CAAE,OAAQC,EAAQ,EAAIrG,GACtBsG,GAAiB,cAAcF,EAAO,CACxC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,OACjB,KAAK,UAAY,WACnB,CACF,EACIG,GAAqB,cAAclD,EAAU,CAC/C,aAAc,CACZ,MAAM,EACN,KAAK,KAAO,qBACZ,KAAK,OAAS,SACd,KAAK,YAAc,EACnB,KAAK,aAAe,GACpB,KAAK,aAAe,GACpB,KAAK,gBAAkB,OACvB,KAAK,UAAY,OACjB,KAAK,SAAW,IAAIxG,GAAgC,KACpD,KAAK,UAAY,EACjB,KAAK,eAAiB,IAAIA,GAAgC,MAC1D,KAAK,UAAY,IAAIA,GAAgC,MACrD,KAAK,WAAa,IAAIA,GAAgC,MACtD,KAAK,cAAgBA,GAAgC,UAAU,OAC7D,KAAK,UACLA,GAAgC,IAClC,EACA,KAAK,eAAiBA,GAAgC,UAAU,OAC9D,KAAK,WACLA,GAAgC,IAClC,EACA,KAAK,kBAAoB,CAAC,EAC1B,KAAK,MAAQ,IAAIyJ,GACjB,KAAK,UAAU,OAAO,KAAK,cAAc,EACzC,KAAK,UAAU,OAAS,GACxB,KAAK,SAAS,OAAS,IACvB,KAAK,WAAW,OAAS,KACzB,KAAK,eAAe,OAAO,CAAC,KAAK,UAAW,KAAK,SAAU,KAAK,UAAU,CAAC,EAC3E,KAAK,SAAS,QAAU,QACxB,KAAK,MAAM,QAAU,EACvB,CACA,aAAc,CACZ,OAAO,KAAK,iBACd,CACA,QAAS,CACP,KAAK,iBAAiB,EACtB,KAAK,YAAY,CACnB,CACA,kBAAmB,CACjB,MAAM1yC,EAAW,KAAK,iBAAiB,EAClCA,IAGL,KAAK,kBAAoBA,EACzB,KAAK,oBAAoBA,CAAQ,EACjC,KAAK,qBAAqBA,CAAQ,EACpC,CACA,aAAc,CACZ,KAAK,gBAAgB,EACrB,KAAK,iBAAiB,CACxB,CACA,cAAc3hF,EAAQ,CACpB,IAAIJ,EACJ,KAAM,CAAE,OAAAwhF,EAAQ,aAAAztD,EAAc,aAAAC,EAAc,iBAAAgG,CAAiB,EAAI,KAEjE,IAAIE,GADesnD,EAAO,OAAO,CAAC,EAAIA,EAAO,OAAO,CAAC,KACpBxhF,EAAyCg6B,GAAiB,IAAM,KAAOh6B,EAAK,GAAK,EAElH,MAAMo6B,EAAQ,KAAK,IAAIF,EADN,EACyB,EACpCy6F,EAAOv6F,EAAQ,EAErB,OADah6B,EAAS,KAAK,IAAI,EAAG,EAAI4zB,EAAe2gG,EAAO5gG,EAAeqG,CAAK,CAElF,CACA,oBAAqB,CACnB,KAAM,CAAE,OAAAqnD,EAAQ,MAAAkvC,EAAO,gBAAAiE,CAAgB,EAAI,KACrClC,EAAU8B,GAAQ7D,CAAK,EAC7B,IAAIgC,EAAO,EACPC,EAAO,EACPF,IAAY,SACdC,EAAO,KAAK,IAAMD,EAAQ,CAAC,EAC3BE,EAAO,KAAK,IAAMF,EAAQ,CAAC,GAE7BC,EAAOA,EAAO,EAAIA,EAAO,EACzBC,EAAOA,EAAO,EAAI,EAAIA,EAClBgC,IACEA,EAAgB,CAAC,EAAIhC,IACvBgC,EAAgB,CAAC,EAAIhC,GAEnBgC,EAAgB,CAAC,EAAIjC,IACvBiC,EAAgB,CAAC,EAAIjC,IAGzBlxC,EAAO,OAASmzC,GAAoC,CAACjC,EAAMC,CAAI,CACjE,CACA,oBAAoBK,EAAe,CACjC,KAAK,cAAc,OAAOA,CAAa,CACzC,CACA,iBAAkB,CAChB,KAAM,CAAE,iBAAAn6D,EAAkB,UAAW+7D,EAAe,KAAAjwF,EAAM,OAAAa,EAAQ,YAAAC,CAAY,EAAI,KAC5E,CAAE,KAAMytF,EAAe,OAAQC,EAAiB,YAAaC,CAAqB,EAAI,KAAK,eACjG,KAAK,cAAc,KAAK,CAACrlH,EAAM0a,EAAOnkB,IAAU,CAC9C,MAAM+jG,EAAc5/E,IAAUowC,EACxBg8D,EAAWxsB,GAAe6qB,IAAkB,OAASA,EAAgBvuF,EACrEmwF,EAAazsB,GAAe8qB,IAAoB,OAASA,EAAkB3tF,EAC3EuvF,EAAkB1sB,GAAe+qB,IAAyB,OAASA,EAAuB3tF,EAChG,IAAIuvF,EACJ,KAAM,CAAE,EAAAz7H,EAAG,EAAA+oB,EAAG,MAAAa,EAAO,OAAAC,EAAQ,YAAA+jF,CAAY,EAAI1+E,EAC7C,GAAImsG,EAAe,CACjB,MAAMnB,EAAQnvH,IAAU,EAClBovH,EAAOpvH,IAAU,KAAK,kBAAkB,OAAS,EACjDuU,EAAMsuF,EAAY,IAAM,KAAK,IAC7BruF,EAAMquF,EAAY,IAAM,KAAK,IACnC6tB,EAAaJ,EAAc,CACzB,MAAAnsG,EACA,OAAQ0+E,EAAY,EACpB,OAAQA,EAAY,EACpB,MAAAhkF,EACA,OAAAC,EACA,IAAAvK,EACA,IAAAC,EACA,MAAA26G,EACA,KAAAC,EACA,KAAMmB,EACN,OAAQC,EACR,YAAaC,EACb,YAAA1sB,CACF,CAAC,CACH,CACAt6F,EAAK,KAAOinH,GAAcA,EAAW,MAAQH,EAC7C9mH,EAAK,OAASinH,GAAcA,EAAW,QAAUF,EACjD/mH,EAAK,YAAcinH,GAAcA,EAAW,aAAeD,EAC3DhnH,EAAK,EAAIA,EAAK,EAAI,EAClBA,EAAK,MAAQoV,EACbpV,EAAK,OAASqV,EACdrV,EAAK,QAAUA,EAAK,OAAS,EAC7BA,EAAK,aAAexU,EACpBwU,EAAK,aAAeuU,CACtB,CAAC,CACH,CACA,qBAAqB0wG,EAAe,CAClC,KAAK,eAAe,OAAOA,EAAgBvrF,GAAS,CAClDA,EAAK,IAAM,EACXA,EAAK,cAAgBsjF,GAAgC,cAAc,IACrE,CAAC,CACH,CACA,kBAAmB,CACjB,KAAM,CACJ,MAAO,CAAE,QAASxiB,EAAc,UAAAj9D,EAAW,WAAAC,EAAY,SAAA7B,EAAU,WAAA2B,EAAY,MAAA9d,CAAM,CACrF,EAAI,KACJ,KAAK,eAAe,KAAK,CAACka,EAAMhf,IAAU,CACxC,MAAMsoB,EAAQtoB,EAAM,MAChBsoB,GAASw3D,GACX9gE,EAAK,UAAY6D,EACjB7D,EAAK,WAAa8D,EAClB9D,EAAK,SAAWiC,EAChBjC,EAAK,WAAa4D,EAClB5D,EAAK,UAAYsJ,EAAM,UACvBtJ,EAAK,aAAesJ,EAAM,aAC1BtJ,EAAK,KAAOsJ,EAAM,KAClBtJ,EAAK,EAAIsJ,EAAM,EACftJ,EAAK,EAAIsJ,EAAM,EACftJ,EAAK,KAAOla,EACZka,EAAK,QAAU,IAEfA,EAAK,QAAU,EAEnB,CAAC,CACH,CACA,eAAehf,EAAO,CACpB,IAAI1oB,EAAIiL,EACR,KAAM,CAAE,SAAA2lH,CAAS,EAAI,KACf,CAAE,YAAAxpB,CAAY,EAAI1+E,EAClBigF,EAASvB,EAAY,EACrBzJ,EAASyJ,EAAY,EACrB/0D,EAAU,KAAK,mBAAmBs2D,CAAM,EACxC7sD,EAAQ80E,IAAa,SAAWA,IAAa,SAAW,KAAK,YAAYjzB,CAAM,EAAI,OACnF7zF,EAAW,CACf,QAAAuoC,EACA,MAAAyJ,CACF,EACMu1E,GAAmBpmH,GAAMjL,EAAK,KAAK,mBAAqB,KAAO,OAASA,EAAG,UAAY,KAAO,OAASiL,EAAG,SAChH,OAAIomH,EACKI,GACLJ,EAAgB,CACd,QAAS,KAAK,QACd,MAAOjqB,EACP,OAAAuB,EACA,OAAAhL,CACF,CAAC,EACD7zF,CACF,EAEK2nH,GAAe3nH,CAAQ,CAChC,CACA,iBAAiB1R,EAAO,CACtB,OAAOA,EAAQ,IAAM,EAAIA,EAAM,QAAQ,CAAC,EAAIA,EAAM,QAAQ,CAAC,CAC7D,CACF,EAGI,CAAE,SAAU88H,EAAU,EAAI/G,GAC1B,CAAE,UAAWgH,EAAW,EAAIjH,GAC5BkH,GAAe,cAAcV,EAAmB,CAClD,mBAAoB,CAClB,KAAM,CAAE,WAAAljD,EAAY,OAAAiQ,CAAO,EAAI,KAC/BA,EAAO,MAAQ,CAAC,EAAGjQ,EAAW,KAAK,CACrC,CACA,mBAAoB,CAClB,KAAM,CAAE,OAAAgQ,EAAQ,WAAAhQ,EAAY,aAAAx9C,EAAc,aAAAD,CAAa,EAAI,KAC3D,GAAIytD,aAAkB2zC,GACpB3zC,EAAO,MAAQ,CAAC,EAAGhQ,EAAW,MAAM,EACpCgQ,EAAO,aAAeztD,EACtBytD,EAAO,aAAextD,MACjB,CACL,MAAMp4B,EAAO,KAAK,cAAc41E,EAAW,MAAM,EAC3CljC,EAAU1yC,EAAOo4B,EACvB,KAAK,UAAYp4B,GAAQ,EAAIm4B,GAC7BytD,EAAO,MAAQ,CAAClzC,EAASkjC,EAAW,OAASljC,EAAU,KAAK,SAAS,CACvE,CACF,CACA,gBAAiB,CACf,KAAM,CAAE,OAAAmzC,EAAQ,KAAAr1E,EAAM,SAAAipH,EAAU,WAAA7jD,CAAW,EAAI,KACzC,CAAE,YAAA9rC,CAAY,EAAIt5B,EACxBipH,EAAS,GAAK,EACdA,EAAS,GAAK,EACdA,EAAS,GAAK,EACdA,EAAS,GAAK7jD,EAAW,OACzB6jD,EAAS,OAASjpH,EAAK,OACvBipH,EAAS,YAAc3vF,GAAeA,EAAc,IAAM,EAAI,EAAI,GAClE,MAAMqtF,EAAQtxC,EAAO,QAAQ,CAAC,EAC9B4zC,EAAS,aAAetC,CAC1B,CACA,kBAAmB,CACjB,KAAM,CAAE,KAAA5jH,EAAM,MAAAwhH,EAAO,MAAAH,EAAO,OAAAhvC,EAAQ,OAAAC,EAAQ,KAAA78C,EAAM,OAAAa,EAAQ,YAAAC,EAAa,MAAAsL,CAAM,EAAI,KACjF,GAAI,CAAC7hC,EACH,OAEF,KAAM,CACJ,UAAW29F,EACX,WAAYC,EACZ,SAAUC,EACV,WAAYC,EACZ,MAAOC,EACP,UAAWrnD,EACX,UAAWyvE,CACb,EAAItkF,EACE+wC,EAAW,CAAC,EACZgxC,EAAQtxC,EAAO,QAAQ,CAAC,EACxB/gC,EAAa,EAAE8gC,aAAkB2zC,IACvC,QAASr8H,EAAI,EAAGopB,EAAIyuG,EAAM,OAAQ73H,EAAIopB,EAAGppB,IAAK,CAC5C,IAAIwuG,EAASqpB,EAAM73H,CAAC,EACpB,MAAMytG,EAASiqB,EAAM13H,CAAC,EAChBy8H,EAAejuB,IAAW,OAC5BiuB,IACFjuB,EAAS,GAEX,MAAM/kF,EAAIi/D,EAAO,QAAQ9gC,EAAa8gC,EAAO,SAAS+kB,CAAM,EAAIA,CAAM,EAChE/sG,EAAI,KAAK,IAAI8tG,IAAW,OAAS,IAAM7lB,EAAO,QAAQ6lB,CAAM,EAAGyrB,CAAK,EACpE3uG,EAAS,KAAK,IAAIkjF,IAAW,OAAS,IAAM7lB,EAAO,QAAQ6lB,CAAM,EAAGyrB,CAAK,EACzE1vG,EAAUq9B,EAAgC,KAAK,UAAxB8gC,EAAO,UAC9Bp+D,EAAQgB,EAAS5qB,EACjBgtF,EAAW,CACf,EAAGusC,EACH,EAAAxwG,CACF,EACA,IAAI4yE,EACAtvC,EACFsvC,EAAYtvC,EAAe,CAAE,MAAOyhD,CAAO,CAAC,EAE5CnS,EAAYmS,IAAW,QAAU4tB,GAAU5tB,CAAM,EAAI,KAAK,iBAAiBA,CAAM,EAAI,GAEvF,MAAMv6D,EAASxqB,EAAIc,EAAS,EAC5B,IAAIypB,EACJ,MAAM0oF,EAAoB,SAC1B,IAAIC,EACJ,MAAMC,EAAcpuB,IAAW,QAAUA,GAAU,EAC7Cn2D,GAAe,EACrB,GAAImkF,IAAmB,SACrBxoF,EAAStzC,EAAI4pB,EAAQ,EACrBqyG,EAAiB,iBACRH,IAAmB,aAC5BxoF,EAAStzC,GAAKk8H,EAActyG,EAAQ+tB,GAAe,CAACA,IACpDskF,EAAiBC,EAAc,QAAU,cAChCJ,IAAmB,YAA6B,CACzDxoF,EAAStzC,GAAKk8H,EAActyG,EAAQ+tB,GAAeA,IACnDskF,EAAiBC,EAAc,MAAQ,QAEvC,MAAMC,GADW3K,GAAgC,KAAK,YAAY71B,EAAW8X,CAAe,EACjE,OAAS,GAC9B2oB,GAAmB7C,EAAQ4C,GAC3BE,GAAmB9C,EAAQ4C,IACPD,GAAe5oF,EAAS8oF,IAAoB,CAACF,GAAe5oF,EAAS+oF,MAE7F/oF,EAASimF,EAAQ5hF,IAAgBukF,EAAc,EAAI,IACnDD,EAAiBC,EAAc,QAAU,MAE7C,MACE5oF,EAASimF,EAAQ5hF,IAAgBukF,EAAc,EAAI,IACnDD,EAAiBC,EAAc,QAAU,MAE3C3zC,EAAS,KAAK,CACZ,EAAAvoF,EACA,EAAA+oB,EACA,MAAAa,EACA,OAAAC,EACA,KAAAuhB,EACA,OAAAa,EACA,YAAAC,EACA,YAAa,CAAE,EAAG6gE,EAAQ,EAAGgvB,EAAe,OAASjuB,CAAO,EAC5D,MAAO9gB,EACP,MAAO,CACL,EAAG15C,EACH,EAAGC,EACH,KAAMooD,EACN,UAAW2X,EACX,WAAYC,EACZ,SAAUC,EACV,WAAYC,EACZ,UAAWwoB,EACX,aAAcD,EACd,KAAMtoB,CACR,CACF,CAAC,CACH,CACA,OAAOnrB,CACT,CACA,YAAYxsC,EAAI47E,EAAI,CAClB,OAAO,KAAK,IAAI57E,EAAG,EAAI47E,EAAG,CAAC,CAC7B,CACF,EACAiE,GAAa,UAAY,eAGzB,GAAI,CAAE,SAAUU,EAAU,EAAI3H,GAC1B,CAAE,UAAW4H,EAAW,EAAI7H,GAC5B8H,GAAkB,cAActB,EAAmB,CACrD,mBAAoB,CAClB,KAAM,CAAE,WAAAljD,EAAY,OAAAiQ,CAAO,EAAI,KAC/BA,EAAO,MAAQ,CAACjQ,EAAW,OAAQ,CAAC,CACtC,CACA,mBAAoB,CAClB,KAAM,CAAE,OAAAgQ,EAAQ,WAAAhQ,EAAY,aAAAx9C,EAAc,aAAAD,CAAa,EAAI,KAC3D,GAAIytD,aAAkBu0C,GACpBv0C,EAAO,MAAQ,CAAC,EAAGhQ,EAAW,KAAK,EACnCgQ,EAAO,aAAeztD,EACtBytD,EAAO,aAAextD,MACjB,CACL,MAAMp4B,EAAO,KAAK,cAAc41E,EAAW,KAAK,EAC1CljC,EAAU1yC,EAAOo4B,EACvB,KAAK,UAAYp4B,GAAQ,EAAIm4B,GAC7BytD,EAAO,MAAQ,CAAClzC,EAASkjC,EAAW,MAAQljC,EAAU,KAAK,SAAS,CACtE,CACF,CACA,gBAAiB,CACf,KAAM,CAAE,OAAAmzC,EAAQ,KAAAr1E,EAAM,SAAAipH,EAAU,WAAA7jD,CAAW,EAAI,KACzC,CAAE,YAAA9rC,CAAY,EAAIt5B,EACxBipH,EAAS,GAAK,EACdA,EAAS,GAAK7jD,EAAW,MACzB6jD,EAAS,GAAK,EACdA,EAAS,GAAK,EACdA,EAAS,OAASjpH,EAAK,OACvBipH,EAAS,YAAc3vF,GAAeA,EAAc,IAAM,EAAI,EAAI,GAClE,MAAMqtF,EAAQtxC,EAAO,QAAQ,CAAC,EAC9B4zC,EAAS,aAAetC,CAC1B,CACA,kBAAmB,CACjB,KAAM,CAAE,KAAA5jH,EAAM,MAAAwhH,EAAO,MAAAH,EAAO,OAAAhvC,EAAQ,OAAAC,EAAQ,KAAA78C,EAAM,OAAAa,EAAQ,YAAAC,EAAa,MAAAsL,CAAM,EAAI,KACjF,GAAI,CAAC7hC,EACH,OAEF,KAAM,CACJ,UAAW29F,EACX,WAAYC,EACZ,SAAUC,EACV,WAAYC,EACZ,MAAOC,EACP,UAAWrnD,EACX,UAAWyvE,CACb,EAAItkF,EACE+wC,EAAW,CAAC,EACZgxC,EAAQtxC,EAAO,QAAQ,CAAC,EACxB/gC,EAAa,EAAE8gC,aAAkBu0C,IACvC,QAASj9H,EAAI,EAAGopB,EAAIyuG,EAAM,OAAQ73H,EAAIopB,EAAGppB,IAAK,CAC5C,IAAIwuG,EAASqpB,EAAM73H,CAAC,EACpB,MAAMytG,EAASiqB,EAAM13H,CAAC,EAChBy8H,EAAejuB,IAAW,OAC5BiuB,IACFjuB,EAAS,GAEX,MAAM/kF,EAAI,KAAK,IAAI+kF,IAAW,OAAS,IAAM7lB,EAAO,QAAQ6lB,CAAM,EAAGyrB,CAAK,EACpEv5H,EAAIgoF,EAAO,QAAQ9gC,EAAa8gC,EAAO,SAAS+kB,CAAM,EAAIA,CAAM,EAChEniF,EAAS,KAAK,IAAIkjF,IAAW,OAAS,IAAM7lB,EAAO,QAAQ6lB,CAAM,EAAGyrB,CAAK,EACzE3vG,EAASs9B,EAAgC,KAAK,UAAxB8gC,EAAO,UAC7Bn+D,EAASe,EAAS7B,EAClBikE,EAAW,CACf,EAAGhtF,EAAI4pB,EAAQ,EACf,EAAG2vG,CACL,EACA,IAAI59B,EACAtvC,EACFsvC,EAAYtvC,EAAe,CAAE,MAAOyhD,CAAO,CAAC,EAE5CnS,EAAYmS,IAAW,QAAUwuB,GAAUxuB,CAAM,EAAI,KAAK,iBAAiBA,CAAM,EAAI,GAEvF,MAAMx6D,EAAStzC,EAAI4pB,EAAQ,EAC3B,IAAI2pB,EACJ,MAAM0oF,EAAiB,SACvB,IAAID,EACJ,MAAME,EAAcpuB,IAAW,QAAUA,GAAU,EAC7Cn2D,GAAe,EACrB,GAAImkF,IAAmB,SACrBvoF,EAASxqB,EAAIc,EAAS,EACtBmyG,EAAoB,iBACXF,IAAmB,aAC5BvoF,EAASxqB,GAAKmzG,EAAc,CAACvkF,GAAe9tB,EAAS8tB,IACrDqkF,EAAoBE,EAAc,SAAW,cACpCJ,IAAmB,YAA6B,CACzDvoF,EAASxqB,GAAKmzG,EAAcvkF,GAAe9tB,EAAS8tB,IACpDqkF,EAAoBE,EAAc,MAAQ,SAE1C,MAAMO,GADWjL,GAAgC,KAAK,YAAY71B,EAAW8X,CAAe,EAChE,QAAU,GAChC2oB,GAAmB7C,EAAQkD,GAC3BJ,GAAmB9C,EAAQkD,IACPP,GAAe3oF,EAAS6oF,IAAoB,CAACF,GAAe3oF,EAAS8oF,MAE7F9oF,EAASgmF,EAAQ5hF,IAAgBukF,EAAc,GAAK,GACpDF,EAAoBE,EAAc,SAAW,MAEjD,MACE3oF,EAASgmF,EAAQ5hF,IAAgBukF,EAAc,GAAK,GACpDF,EAAoBE,EAAc,SAAW,MAE/C3zC,EAAS,KAAK,CACZ,EAAAvoF,EACA,EAAA+oB,EACA,MAAAa,EACA,OAAAC,EACA,KAAAuhB,EACA,OAAAa,EACA,YAAAC,EACA,YAAa,CAAE,EAAG6gE,EAAQ,EAAGgvB,EAAe,OAASjuB,CAAO,EAC5D,MAAO9gB,EACP,MAAO,CACL,EAAG15C,EACH,EAAGC,EACH,KAAMooD,EACN,UAAW2X,EACX,WAAYC,EACZ,SAAUC,EACV,WAAYC,EACZ,UAAWwoB,EACX,aAAcD,EACd,KAAMtoB,CACR,CACF,CAAC,CACH,CACA,OAAOnrB,CACT,CACF,EACAi0C,GAAgB,UAAY,kBAG5B,GAAI,CAAE,SAAUE,EAAU,EAAI/H,GAC1BgI,GAAc,KAAM,CACtB,OAAO,OAAO33H,EAAS68D,EAAS,CAC9B78D,EAAU2vH,GAAwB,UAAU3vH,CAAO,EACnD,MAAM43H,EAAYC,GAAqB73H,EAAQ,IAAI,EACnD,OAAI68D,IACF+6D,EAAU,QAAU/6D,GAEtBi7D,GAAcF,EAAW53H,CAAO,EAChC+3H,GAAoBH,EAAW53H,CAAO,EAClCA,EAAQ,OACV43H,EAAU,KAAO53H,EAAQ,MAE3B43H,EAAU,iBAAmB53H,EACtB43H,CACT,CACF,EACA,SAASC,GAAqBjsH,EAAO,OAAQ,CAC3C,OAAQA,EAAM,CACZ,IAAK,SACH,OAAO,IAAI4rH,GACb,IAAK,MACH,OAAO,IAAIZ,GACb,IAAK,OACH,OAAO,IAAI3C,GACb,IAAK,OACL,QACE,OAAO,IAAI6B,EACf,CACF,CACA,SAASiC,GAAoBH,EAAW53H,EAAS,CAC/C,OAAQA,EAAQ,KAAM,CACpB,IAAK,MACHg4H,GAAuBJ,EAAW53H,CAAO,EACzC,MACF,IAAK,SACHg4H,GAAuBJ,EAAW53H,CAAO,EACzC,MACF,IAAK,OACHi4H,GAAkBL,EAAW53H,CAAO,EACpC,MACF,IAAK,OACL,QACEk4H,GAAkBN,EAAW53H,CAAO,EACpC,KACJ,CACF,CACA,SAAS83H,GAAcF,EAAW53H,EAAS,CACzCm4H,EAAyBP,EAAW,UAAW53H,EAAQ,QAASA,CAAO,EACvEm4H,EAAyBP,EAAW,QAAS53H,EAAQ,MAAOA,CAAO,EACnEm4H,EAAyBP,EAAW,SAAU53H,EAAQ,OAAQA,CAAO,EACrEm4H,EAAyBP,EAAW,YAAa53H,EAAQ,UAAWA,CAAO,EAC3Em4H,EAAyBP,EAAW,OAAQ53H,EAAQ,KAAMA,CAAO,EACjEm4H,EAAyBP,EAAW,OAAQ53H,EAAQ,KAAMA,CAAO,EAC7DA,EAAQ,SACVo4H,GAAmBR,EAAU,QAAS53H,EAAQ,OAAO,EAEnDA,EAAQ,MACVq4H,GAAgBT,EAAU,KAAM53H,EAAQ,IAAI,EAE1CA,EAAQ,gBACVs4H,GAA0BV,EAAU,eAAgB53H,EAAQ,cAAc,CAE9E,CACA,SAASk4H,GAAkBN,EAAW53H,EAAS,CACzCA,EAAQ,QACVu4H,GAAkBX,EAAU,OAAQ53H,EAAQ,MAAM,EAEhDA,EAAQ,MACVw4H,GAAgBZ,EAAU,KAAM53H,EAAQ,IAAI,EAE1CA,EAAQ,YACVy4H,GAAsBb,EAAU,WAAY53H,EAAQ,UAAU,CAElE,CACA,SAASi4H,GAAkBL,EAAW53H,EAAS,CAC7Cm4H,EAAyBP,EAAW,OAAQ53H,EAAQ,KAAMA,CAAO,EAC7DA,EAAQ,QACVu4H,GAAkBX,EAAU,OAAQ53H,EAAQ,MAAM,EAEhDA,EAAQ,MACVw4H,GAAgBZ,EAAU,KAAM53H,EAAQ,IAAI,EAE1CA,EAAQ,YACVy4H,GAAsBb,EAAU,WAAY53H,EAAQ,UAAU,CAElE,CACA,SAASg4H,GAAuBJ,EAAW53H,EAAS,CAClDm4H,EAAyBP,EAAW,kBAAmB53H,EAAQ,gBAAiBA,CAAO,EACvFm4H,EAAyBP,EAAW,OAAQ53H,EAAQ,KAAMA,CAAO,EACjEm4H,EAAyBP,EAAW,SAAU53H,EAAQ,OAAQA,CAAO,EACrEm4H,EAAyBP,EAAW,cAAe53H,EAAQ,YAAaA,CAAO,EAC/Em4H,EAAyBP,EAAW,eAAgB53H,EAAQ,aAAcA,CAAO,EACjFm4H,EAAyBP,EAAW,eAAgB53H,EAAQ,aAAcA,CAAO,EACjFm4H,EAAyBP,EAAW,YAAa53H,EAAQ,UAAWA,CAAO,EACvEA,EAAQ,OACV04H,GAAiBd,EAAU,MAAO53H,EAAQ,KAAK,CAEnD,CACA,SAASo4H,GAAmBj+H,EAAQ6F,EAAS,CAC3Cm4H,EAAyBh+H,EAAQ,MAAO6F,EAAQ,IAAKA,CAAO,EAC5Dm4H,EAAyBh+H,EAAQ,QAAS6F,EAAQ,MAAOA,CAAO,EAChEm4H,EAAyBh+H,EAAQ,SAAU6F,EAAQ,OAAQA,CAAO,EAClEm4H,EAAyBh+H,EAAQ,OAAQ6F,EAAQ,KAAMA,CAAO,CAChE,CACA,SAASu4H,GAAkBp+H,EAAQ6F,EAAS,CAC1Cm4H,EAAyBh+H,EAAQ,UAAW6F,EAAQ,QAASA,CAAO,EACpEm4H,EAAyBh+H,EAAQ,OAAQ6F,EAAQ,KAAMA,CAAO,EAC9Dm4H,EAAyBh+H,EAAQ,QAAS6F,EAAQ,MAAOA,CAAO,EAChEm4H,EAAyBh+H,EAAQ,OAAQ6F,EAAQ,KAAMA,CAAO,EAC9Dm4H,EAAyBh+H,EAAQ,SAAU6F,EAAQ,OAAQA,CAAO,EAClEm4H,EAAyBh+H,EAAQ,cAAe6F,EAAQ,YAAaA,CAAO,EAC5Em4H,EAAyBh+H,EAAQ,YAAa6F,EAAQ,UAAWA,CAAO,CAC1E,CACA,SAAS04H,GAAiBv+H,EAAQ6F,EAAS,CACzCm4H,EAAyBh+H,EAAQ,UAAW6F,EAAQ,QAASA,CAAO,EACpEm4H,EAAyBh+H,EAAQ,YAAa6F,EAAQ,UAAWA,CAAO,EACxEm4H,EAAyBh+H,EAAQ,aAAc6F,EAAQ,WAAYA,CAAO,EAC1Em4H,EAAyBh+H,EAAQ,WAAY6F,EAAQ,SAAUA,CAAO,EACtEm4H,EAAyBh+H,EAAQ,aAAc6F,EAAQ,WAAYA,CAAO,EAC1Em4H,EAAyBh+H,EAAQ,YAAa6F,EAAQ,UAAWA,CAAO,EACxEm4H,EAAyBh+H,EAAQ,eAAgB6F,EAAQ,aAAcA,CAAO,EAC9Em4H,EAAyBh+H,EAAQ,QAAS6F,EAAQ,MAAOA,CAAO,EAChEm4H,EAAyBh+H,EAAQ,YAAa6F,EAAQ,UAAWA,CAAO,EACxEm4H,EAAyBh+H,EAAQ,YAAa6F,EAAQ,UAAWA,CAAO,CAC1E,CACA,SAASw4H,GAAgBr+H,EAAQ6F,EAAS,CACxCm4H,EAAyBh+H,EAAQ,SAAU6F,EAAQ,OAAQA,CAAO,EAClEm4H,EAAyBh+H,EAAQ,cAAe6F,EAAQ,YAAaA,CAAO,CAC9E,CACA,SAASq4H,GAAgBl+H,EAAQ6F,EAAS,CACxCm4H,EAAyBh+H,EAAQ,OAAQ6F,EAAQ,KAAMA,CAAO,EAC9Dm4H,EAAyBh+H,EAAQ,SAAU6F,EAAQ,OAAQA,CAAO,EAClEm4H,EAAyBh+H,EAAQ,cAAe6F,EAAQ,YAAaA,CAAO,CAC9E,CACA,SAASs4H,GAA0Bn+H,EAAQ6F,EAAS,CAClDm4H,EAAyBh+H,EAAQ,OAAQ6F,EAAQ,KAAMA,CAAO,EAC9Dm4H,EAAyBh+H,EAAQ,OAAQ6F,EAAQ,KAAMA,CAAO,EAC9Dm4H,EAAyBh+H,EAAQ,SAAU6F,EAAQ,OAAQA,CAAO,EAClEm4H,EAAyBh+H,EAAQ,cAAe6F,EAAQ,YAAaA,CAAO,CAC9E,CACA,SAASy4H,GAAsBt+H,EAAQ6F,EAAS,CAC1C7F,EAAO,OAAS6F,EAAQ,OAC1B24H,GAAyBx+H,EAAO,MAAO6F,EAAQ,KAAK,EAElD7F,EAAO,OAAS6F,EAAQ,OAC1B24H,GAAyBx+H,EAAO,MAAO6F,EAAQ,KAAK,CAExD,CACA,SAAS24H,GAAyBx+H,EAAQ6F,EAAS,CACjDm4H,EAAyBh+H,EAAQ,UAAW6F,EAAQ,QAASA,CAAO,EACpEm4H,EAAyBh+H,EAAQ,SAAU6F,EAAQ,OAAQA,CAAO,EAClEm4H,EAAyBh+H,EAAQ,cAAe6F,EAAQ,YAAaA,CAAO,EAC5Em4H,EAAyBh+H,EAAQ,WAAY6F,EAAQ,SAAUA,CAAO,EACtEm4H,EAAyBh+H,EAAQ,UAAW6F,EAAQ,QAASA,CAAO,CACtE,CACA,IAAI44H,GAAc,CAAC,EACnB,SAASC,GAAQx5H,EAAM1F,EAAK,CACtBi/H,GAAYj/H,CAAG,IAGnB0F,EAAK,EACLu5H,GAAYj/H,CAAG,EAAI,GACrB,CACA,IAAIm/H,GAAkB,CAAC7oH,EAAUrW,EAAOm/H,IAAkB,CACxD,GAAIrB,GAAU99H,CAAK,EACjB,MAAO,GAET,MAAMkH,EAAU,cAAcmP,CAAQ,yFAAyF8oH,CAAa,MAC5I,OAAAF,GAAQ,IAAM,QAAQ,KAAK/3H,CAAO,EAAG,GAAGmP,CAAQ,eAAe,EACxD,EACT,EACI+oH,GAAa,CACf,QAASF,GACT,QAASA,EACX,EACA,SAASX,EAAyBh+H,EAAQ8V,EAAUrW,EAAOoG,EAAS,CAClE,GAAIiQ,KAAYjQ,EACd,GAAIiQ,KAAY9V,EAAQ,CACtB,MAAM8+H,EAAYD,GAAW/oH,CAAQ,GACrBgpH,EAAYA,EAAUhpH,EAAUrW,EAAOO,EAAO8V,CAAQ,CAAC,EAAI,KAC5D9V,EAAO8V,CAAQ,IAAMrW,IAClCO,EAAO8V,CAAQ,EAAIrW,EAEvB,MACE,QAAQ,KAAK,YAAYqW,CAAQ,uCAAuC,CAG9E,CAGA,IAAIipH,GAAyB,MAAMA,WAA+B59H,EAAU,CAC1E,aAAc,CACZ,MAAM49H,GAAuB,QAAQ,CACvC,CACA,KAAKvpH,EAAQ,CACX,IAAIwpH,EAAc,GAClB,MAAMC,EAAkB,IAAM,CAC5B,KAAM,CAAE,YAAAC,EAAa,aAAAC,CAAa,EAAI,KAAK,OAAO,EAClD,GAAI,EAAAD,IAAgB,GAAKC,IAAiB,GAG1C,GAAIH,EAAa,CACf,MAAMn5H,EAAUnG,GAAe,CAC7B,KAAM8V,EAAO,MACb,MAAO0pH,EACP,OAAQC,EACR,QAAS,CACP,KAAM3pH,EAAO,IACf,CACF,EAAGA,EAAO,gBAAgB,EAC1B,KAAK,UAAYgoH,GAAY,OAAO33H,EAAS,KAAK,0BAA0B,oBAAoB,CAAC,EACjG,KAAK,WAAW,YAAY,KAAK,UAAU,aAAa,EACxDm5H,EAAc,EAChB,MACE,KAAK,UAAU,MAAQE,EACvB,KAAK,UAAU,OAASC,CAE5B,EACMC,EAAwB,KAAK,sBAAsB,cAAc,KAAK,OAAO,EAAGH,CAAe,EACrG,KAAK,eAAe,IAAMG,EAAsB,CAAC,CACnD,CACA,QAAQ5pH,EAAQ,CACd,OAAI,KAAK,WACP,KAAK,UAAU,KAAOA,EAAO,MACtB,IAEF,EACT,CACA,SAAU,CACJ,KAAK,WACP,KAAK,UAAU,QAAQ,EAEzB,MAAM,QAAQ,CAChB,CACF,EACAupH,GAAuB,SAAW;AAAA;AAAA,gBAGlCj/H,GAAgB,CACdsB,GAAY,YAAY,CAC1B,EAAG29H,GAAuB,UAAW,aAAc,CAAC,EACpDj/H,GAAgB,CACdoB,GAAU,uBAAuB,CACnC,EAAG69H,GAAuB,UAAW,wBAAyB,CAAC,EAC/Dj/H,GAAgB,CACdoB,GAAU,2BAA2B,CACvC,EAAG69H,GAAuB,UAAW,4BAA6B,CAAC,EACnE,IAAIM,GAAwBN,GAG5B,OAAS,QAAAO,GAAM,YAAAC,GAAU,iBAAAC,GAAe,cAAAC,OAAkB,0BAC1D,IAAIC,GAA4B,cAAcH,EAAS,CACrD,eAAgB,CACd,KAAK,QAAU,IAAIxG,EACrB,CACA,qBAAsB,CACpB,OAAO,KAAK,OACd,CACA,gBAAiB,CACX,KAAK,SACP,KAAK,QAAQ,QAAQ,CAEzB,CACF,EACAj5H,GAAgB,CACd0/H,EACF,EAAGE,GAA0B,UAAW,gBAAiB,CAAC,EAC1D5/H,GAAgB,CACd2/H,EACF,EAAGC,GAA0B,UAAW,iBAAkB,CAAC,EAC3DA,GAA4B5/H,GAAgB,CAC1Cw/H,GAAK,2BAA2B,CAClC,EAAGI,EAAyB,EAG5B,IAAIC,GAAU,SAGVC,GAAmB,CACrB,QAASD,GACT,WAAY3+H,GAAY,iBACxB,MAAO,CAAC0+H,EAAyB,EACjC,eAAgB,CAAC,CAAE,cAAe,0BAA2B,eAAgBL,EAAsB,CAAC,EACpG,iBAAkB,CAACp+H,EAAoB,CACzC,EACA,OACE2+H,MAAA",
  "names": ["__defProp", "__getOwnPropDesc", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__knownSymbol", "name", "symbol", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a", "b", "prop", "__decorateClass", "decorators", "target", "kind", "result", "i", "decorator", "__await", "promise", "isYieldStar", "__yieldStar", "isAwait", "method", "it", "k", "x", "v", "resolve", "ModuleNames", "EnterpriseCoreModule", "Autowired", "Component", "RefSelector", "__defProp2", "__defProps", "__getOwnPropDesc2", "__getOwnPropDescs", "__getOwnPropSymbols2", "__getProtoOf", "__hasOwnProp2", "__propIsEnum2", "__reflectGet", "__knownSymbol2", "__pow", "__defNormalProp2", "__spreadValues2", "__spreadProps", "__objRest", "source", "exclude", "__export", "all", "__decorateClass2", "__superGet", "cls", "__async", "__this", "__arguments", "generator", "reject", "fulfilled", "step", "e", "rejected", "__await2", "__yieldStar2", "__MINI_CHART_SERIES_OPTIONS", "__VERIFY_MINI_CHART_SERIES_OPTIONS", "AgTooltipPositionType", "AgTooltipPositionType2", "__THEME_OVERRIDES", "__VERIFY_THEME_OVERRIDES", "time_exports", "day", "friday", "hour", "millisecond", "minute", "monday", "month", "saturday", "second", "sunday", "thursday", "tuesday", "utcDay", "utcHour", "utcMinute", "utcMonth", "utcYear", "wednesday", "year", "doOnceState", "doOnce", "func", "identity", "iterate", "iterators", "iterator", "iterateReverseArray", "array", "j", "throttle", "callback", "waitMs", "options", "leading", "trailing", "timerId", "lastArgs", "shouldWait", "timeoutHandler", "throttleCallback", "args", "joinFunctions", "fns", "fn", "Logger", "logContent", "message", "TimeInterval", "_encode", "_decode", "_rangeCallback", "date", "d", "start", "stop", "extend", "_a", "rangeCallback", "e0", "e1", "range3", "CountableTimeInterval", "snapTo", "s", "offset4", "unsafeStep", "initialOffset", "encode13", "decode13", "encoded", "encode", "decode", "millisecond_default", "epochYear", "durationSecond", "durationMinute", "durationHour", "durationDay", "durationWeek", "durationMonth", "durationYear", "offset", "encode2", "decode2", "second_default", "offset2", "encode3", "decode3", "minute_default", "offset3", "encode4", "decode4", "hour_default", "encode5", "tzOffsetMs", "decode5", "day_default", "weekday", "weekStart", "dayShift", "week_default", "encode6", "decode6", "year2", "month2", "month_default", "encode7", "decode7", "year_default", "encode8", "decode8", "encode9", "decode9", "encode10", "decode10", "encode11", "decode11", "encode12", "decode12", "enterpriseModule", "BaseModuleInstance", "destroyFn", "ModuleRegistry", "modules", "module", "otherModule", "other", "index", "m", "types", "dep", "moduleRegistry", "AxisRegistry", "axisType", "moduleContext", "AxisConstructor", "themeTemplate", "axisRegistry", "BREAK_TRANSFORM_CHAIN", "CONFIG_KEY", "initialiseConfig", "propertyKeyOrSymbol", "config", "propertyKey", "valuesMap", "descriptor", "prevSet", "prevGet", "setters", "observers", "oldValue", "transformFn", "observerFn", "addTransformToInstanceProperty", "setTransform", "getTransform", "configMetadata", "addObserverToInstanceProperty", "setObserver", "isDecoratedObject", "listDecoratedProperties", "targets", "configMap", "extractDecoratedProperties", "extractDecoratedPropertyMetadata", "isDefined", "val", "isArray", "isBoolean", "isDate", "isValidDate", "isRegExp", "isFunction", "isObject", "isObjectLike", "isPlainObject", "isString", "isNumber", "isFiniteNumber", "isHtmlElement", "isEnumKey", "enumObject", "enumKey", "isEnumValue", "enumValue", "isSymbol", "deepMerge", "sources", "mergeDefaults", "keys", "mergeArrayDefaults", "dataArray", "itemDefaults", "item", "mapValues", "object", "mapper", "without", "clone", "getPath", "path", "pathKey", "setPath", "newValue", "pathArray", "lastKey", "lastObject", "partialAssign", "keysToCopy", "ChartTypes", "seriesType", "t", "ChartDefaults", "chartType2", "defaults", "chartTypes", "publicChartTypes", "chartDefaults", "EXPECTED_ENTERPRISE_MODULES", "isEnterpriseSeriesType", "type", "getEnterpriseSeriesChartTypes", "isEnterpriseCartesian", "isEnterprisePolar", "isEnterpriseHierarchy", "isEnterpriseTopology", "isEnterpriseModule", "verifyIfModuleExpected", "stub", "getUnusedExpectedModules", "useCount", "optionsType", "input", "_b", "_c", "isAgCartesianChartOptions", "specifiedType", "isAgPolarChartOptions", "isAgHierarchyChartOptions", "isAgTopologyChartOptions", "isAgPolarChartOptionsWithSeriesBasedLegend", "isSeriesOptionType", "isAxisOptionType", "removeUsedEnterpriseOptions", "_d", "usedOptions", "optionsChartType", "moduleChartTypes", "optionsKey", "optionsInnerKey", "identifier", "optionValue", "axis", "series", "enterprisePackageName", "enterpriseReferenceUrl", "BaseProperties", "properties", "className", "self", "isProperties", "PropertiesArray", "unknownKey", "optional", "valid", "propertyValue", "_PropertiesArray", "itemFactory", "CLASS_INSTANCE_TYPE", "jsonDiff", "skip", "allKeys", "diff2", "deepClone", "shallowClone", "jsonWalk", "json", "visit", "opts", "jsons", "node", "keyMapper", "jsonApply", "params", "constructedArrays", "matcherPath", "targetAny", "targetType", "classify", "property", "propertyMatcherPath", "propertyPath", "targetClass", "currentValue", "ctr", "currentValueType", "newValueType", "newValueArray", "error", "data", "dataObject", "SeriesRegistry", "instanceConstructor", "defaultAxes", "enterpriseThemeTemplate", "paletteFactory", "solo", "stackable", "groupable", "stackedByDefault", "swapDefaultAxesCondition", "hidden", "SeriesConstructor", "currentTemplate", "isDefaultAxisSwapped", "seriesRegistry", "LegendRegistry", "legendType", "LegendConstructor", "record", "legendRegistry", "FONT_SIZE", "FONT_SIZE2", "FONT_WEIGHT", "FONT_WEIGHT3", "POSITION", "POSITION3", "CARTESIAN_AXIS_TYPE", "CARTESIAN_AXIS_TYPE2", "POLAR_AXIS_TYPE", "POLAR_AXIS_TYPE2", "POLAR_AXIS_SHAPE", "POLAR_AXIS_SHAPE2", "DEFAULT_FILLS", "DEFAULT_STROKES", "IS_DARK_THEME", "EXTENDS_AXES_DEFAULTS", "EXTENDS_AXES_LINE_DEFAULTS", "EXTENDS_AXES_TICK_DEFAULTS", "EXTENDS_AXES_GRID_LINE_DEFAULTS", "EXTENDS_SERIES_DEFAULTS", "EXTENDS_CARTESIAN_MARKER_DEFAULTS", "DEFAULT_FONT_FAMILY", "DEFAULT_LABEL_COLOUR", "DEFAULT_INVERTED_LABEL_COLOUR", "DEFAULT_INSIDE_SERIES_LABEL_COLOUR", "DEFAULT_MUTED_LABEL_COLOUR", "DEFAULT_AXIS_GRID_COLOUR", "DEFAULT_AXIS_LINE_COLOUR", "DEFAULT_CROSS_LINES_COLOUR", "DEFAULT_BACKGROUND_COLOUR", "DEFAULT_SHADOW_COLOUR", "DEFAULT_COLOURS", "DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS", "DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS", "DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS", "DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE", "DEFAULT_POLAR_SERIES_STROKE", "DEFAULT_DIVERGING_SERIES_COLOUR_RANGE", "DEFAULT_HIERARCHY_FILLS", "DEFAULT_HIERARCHY_STROKES", "DEFAULT_ANNOTATION_STROKE", "DEFAULT_ANNOTATION_BACKGROUND_FILL", "DEFAULT_ANNOTATION_HANDLE_FILL", "DEFAULT_BACKGROUND_FILL", "DEFAULT_PALETTE", "CHART_TYPE_CONFIG", "CHART_TYPE_SPECIFIC_COMMON_OPTIONS", "r", "commonOptions", "_ChartTheme", "_ChartTheme2", "overrideDefaults", "overrides", "palette10", "seriesTypes", "cleanedCommon", "commonKey", "nextType", "typeDefaults", "getOverridesByType", "chartTypeDefaults", "axes", "themeInstance", "extensions", "extendsValue", "ChartTheme", "DEFAULT_DARK_BACKGROUND_FILL", "DEFAULT_DARK_FILLS", "DEFAULT_DARK_STROKES", "palette", "DarkTheme", "_DarkTheme", "MATERIAL_DARK_FILLS", "MATERIAL_DARK_STROKES", "palette2", "MaterialDark", "_MaterialDark", "MATERIAL_LIGHT_FILLS", "MATERIAL_LIGHT_STROKES", "palette3", "MaterialLight", "_MaterialLight", "POLYCHROMA_DARK_FILLS", "POLYCHROMA_DARK_STROKES", "POLYCHROMA_DARK_FILL_GRAY", "POLYCHROMA_DARK_STROKE_GRAY", "palette4", "PolychromaDark", "_PolychromaDark", "POLYCHROMA_LIGHT_FILLS", "POLYCHROMA_LIGHT_STROKES", "POLYCHROMA_LIGHT_FILL_GRAY", "POLYCHROMA_LIGHT_STROKE_GRAY", "palette5", "PolychromaLight", "_PolychromaLight", "SHEETS_DARK_FILLS", "SHEETS_DARK_STROKES", "palette6", "SheetsDark", "_SheetsDark", "SHEETS_LIGHT_FILLS", "SHEETS_LIGHT_STROKES", "palette7", "SheetsLight", "_SheetsLight", "VIVID_DARK_FILLS", "VIVID_DARK_STROKES", "palette8", "VividDark", "_VividDark", "VIVID_FILLS", "VIVID_STROKES", "palette9", "VividLight", "_VividLight", "lightTheme", "darkTheme", "lightThemes", "darkThemes", "themes", "validateChartThemeObject", "unknownObject", "baseTheme", "fills", "strokes", "validateChartTheme", "getChartTheme", "unvalidatedValue", "stockTheme", "flattenedTheme", "extent", "values", "min", "max", "normalisedExtent", "normalisedExtentWithMetadata", "clipped", "arraysEqual", "toArray", "unique", "groupBy", "iteratee", "groupKey", "circularSliceArray", "size", "bifurcate", "isLeft", "left", "right", "mapIterable", "src", "predicate", "constStringsIncludes", "isInStringUnion", "unionValues", "allInStringUnion", "verifiedGlobals", "injectCache", "getDocument", "propertyName", "getWindow", "createElement", "tagName", "style", "element2", "downloadUrl", "dataUrl", "fileName", "body", "injectStyle", "cssStyle", "uniqueId", "document2", "styleElement", "setDocument", "setWindow", "window2", "LONG_TIME_PERIOD_THRESHOLD", "timeOfLastLog", "logTimeGap", "timeSinceLastLog", "prettyDuration", "Debug", "debugSelectors", "selector", "unthemedSeries", "ChartOptions", "userOptions", "specialOverrides", "cloneOptions", "axesThemes", "annotationsThemes", "_", "themeDefaults", "optionsType2", "axesDefaults", "axis0", "axis1", "crossLinesTheme", "axisTheme", "gridLineStyle", "_e", "_1", "_2", "_3", "_4", "defaultSeriesType", "defaultTooltipPosition", "userPalette", "paletteOptions", "processedSeries", "innerLabelsTheme", "seriesTheme", "seriesPaletteOptions", "seriesOptions", "miniChartSeries", "_a2", "_b2", "_annotationsThemes", "colourOffset", "count", "grouped", "stacked", "allSeries", "seriesGroups", "groupIdx", "groupCount2", "countMap", "seriesGroup", "groupIndex", "stackIndex", "__", "groupMap", "groupId", "position", "xOffset", "yOffset", "oldProp", "newProp", "expectedTypes", "mainSeriesType", "nonSolo", "rejects", "visitingUserOpts", "visitingMergedOpts", "optionsNode", "createDeprecationWarning", "msg", "Deprecated", "warnDeprecated", "def", "DeprecatedAndRenamedTo", "newPropName", "mapValue", "fromToMotion_exports", "NODE_UPDATE_STATE_TO_PHASE_MAPPING", "fromToMotion", "staticFromToMotion", "ID_MAP", "resetIds", "createId", "instance", "constructor", "nextId", "interpolate", "isInterpolating", "clamp", "clampArray", "findMinMax", "findRangeExtent", "isEqual", "epsilon2", "isNegative", "round", "decimals", "base", "toFixed", "fractionOrSignificantDigits", "power", "mod", "n", "countFractionDigits", "maximumFractionDigits", "decimal", "nearestSquared", "y", "objects", "maxDistanceSquared", "thisDistance", "nearestSquaredInContainer", "container", "tx", "ty", "child", "nearest", "distanceSquared2", "_BBox", "_BBox2", "width", "height", "dx", "dy", "boxes", "clipRect", "x1", "y1", "x2", "y2", "amount", "apply", "pos", "amt", "paddingCopy", "top", "bottom", "box", "BBox", "RedrawType", "RedrawType2", "functionConstructorAvailable", "STRING_FUNCTION_USEABLE", "SceneChangeDetection", "changeCb", "convertor", "privateKey", "prepareFastGetSet", "prepareSlowGetSet", "redraw", "checkDirtyOnAssignment", "setterJs", "getterJs", "ChangeDetectable", "_source", "_opts", "_Matrix", "_Matrix2", "elements3", "A", "B", "C", "c", "f", "el", "rD", "bbox", "xx", "xy", "yx", "yy", "h_w", "h_h", "cx", "cy", "w", "h", "ctx", "sourceMatrix", "matrix", "scalingX", "scalingY", "rotation", "translationX", "translationY", "bbcx", "bbcy", "sx", "sy", "scx", "scy", "cos", "sin", "rcx", "rcy", "tx4", "ty4", "domMatrix", "Matrix", "PointerEvents", "PointerEvents2", "_Node", "_Node2", "isVirtual", "tag", "zIndex", "datum", "next", "styles", "pickKeys", "nodes", "parent", "_x", "_y", "children", "hit", "scalingCenterX", "scalingCenterY", "rotationCenterX", "rotationCenterY", "childCounts", "renderCtx", "stats", "parentType", "force", "recursive", "dirtyCount", "visibleCount", "countChild", "childCount", "childVisibleCount", "childDirtyCount", "Node", "srgbToLinear", "sign", "abs", "srgbFromLinear", "_Color", "_Color2", "g", "str", "hex", "parts", "p", "po", "pc", "contents", "rgba", "part", "arr", "alpha", "rgb", "l", "fractionDigits", "components", "LSRGB0", "LSRGB1", "LSRGB2", "LMS0", "LMS1", "LMS2", "OKLAB0", "OKLAB1", "OKLAB2", "hue", "OKLCH0", "OKLCH1", "OKLCH2", "SRGB0", "SRGB1", "SRGB2", "delta2", "q", "hueToRgb", "S", "H", "rc", "gc", "bc", "hueShift", "saturationFactor", "brightnessFactor", "opacityFactor", "hsb", "color", "c0", "c1", "Color", "interpolateNumber", "interpolateColor", "red", "green", "blue", "easing_exports", "easeIn", "easeInOut", "easeInOutQuad", "easeInQuad", "easeOut", "easeOutQuad", "inverseEaseOut", "linear", "QUICK_TRANSITION", "PHASE_ORDER", "PHASE_METADATA", "RepeatType", "RepeatType2", "isNodeArray", "deconstructSelectionsOrNodes", "selectionsOrNodes", "Animation", "_f", "_g", "durationProportion", "calculatedDuration", "initialUpdate", "time2", "previousElapsed", "totalDuration", "from", "to", "interpolatorEntries", "interpolator", "subId", "animationManager", "getDatumId", "fromFn", "toFn", "intermediateFn", "selections", "processNodes", "liveNodes", "subNodes", "prevFromProps", "liveNodeIndex", "nodeIndex", "isLive", "animationId", "status", "calculateStatus", "phase", "finish", "delay", "duration", "toPhase", "toStart", "toFinish", "toDelay", "toDuration", "collapsable", "props", "selectionIndex", "selection", "selectionNodes", "extraOpts", "id", "twoPi", "normalizeAngle360", "radians", "normalizeAngle360Inclusive", "normalizeAngle180", "isBetweenAngles", "targetAngle", "startAngle", "endAngle", "a0", "a1", "toRadians", "degrees", "toDegrees", "angleBetween", "angle0", "angle1", "displacePointFromVector", "centerX", "centerY", "radius", "angle", "Invalidating", "mappedProperty", "_BandScale", "_BandScale2", "domain", "interval", "minDistance", "distance2", "round3", "paddingInner", "paddingOuter", "r0", "r1", "rawStep", "fullBandWidth", "x0", "bw", "bandwidth", "rawBandwidth", "valueOf", "BandScale", "Default", "defaultValue", "replaces", "Validate", "overrideProperty", "context", "cleanKey", "targetName", "valueString", "stringify", "maxLength", "excessCharacters", "getPredicateMessage", "AND", "predicates", "messages", "predicateWithMessage", "isValid", "OR", "getPredicateMessageMapper", "OBJECT", "attachObjectRestrictions", "PLAIN_OBJECT", "BOOLEAN", "FUNCTION", "STRING", "NUMBER", "attachNumberRestrictions", "NAN", "POSITIVE_NUMBER", "RATIO", "DEGREE", "NUMBER_OR_NAN", "ARRAY", "attachArrayRestrictions", "ARRAY_OF", "arrayMessage", "isComparable", "LESS_THAN", "otherField", "GREATER_THAN", "DATE", "DATE_OR_DATETIME_MS", "colorMessage", "COLOR_STRING", "COLOR_STRING_ARRAY", "BOOLEAN_ARRAY", "NUMBER_ARRAY", "STRING_ARRAY", "DATE_ARRAY", "OBJECT_ARRAY", "LINE_CAP", "UNION", "LINE_JOIN", "LINE_DASH", "POSITION2", "FONT_STYLE", "FONT_WEIGHT2", "TEXT_WRAP", "TEXT_ALIGN", "VERTICAL_ALIGN", "OVERFLOW_STRATEGY", "DIRECTION", "PLACEMENT", "INTERACTION_RANGE", "LABEL_PLACEMENT", "joinUnionOptions", "MIN_SPACING", "MAX_SPACING", "option", "lastValue", "length", "minLength", "hasMin", "hasMax", "objectType", "TICK_INTERVAL", "AxisTick", "ChartAxisDirection", "ChartAxisDirection2", "JSON_APPLY_PLUGINS", "assignJsonApplyConstructedArray", "ctor", "_ContinuousScale", "_ContinuousScale2", "smallestInterval", "rangeDistance", "intervals", "maxBands", "bands", "clampMode", "d0", "d1", "d2", "isReversed", "rMin", "rMax", "ContinuousScale", "CONSTANTS", "dayOfYear", "startOfYear", "startOffset", "timeDiff", "timeOneDay", "weekOfYear", "startDay", "startOfYearDay", "firstWeekStartOffset", "SUNDAY", "MONDAY", "THURSDAY", "isoWeekOfYear", "firstOfYearDay", "firstThursdayOffset", "timezone", "unsignedOffset", "pad", "FORMATTERS", "hours", "day2", "PADS", "padChar", "output", "buildFormatter", "formatString", "formatParts", "nextEscapeIdx", "literalPart", "maybePadSpecifier", "maybePad", "maybeFormatterSpecifier", "maybeFormatter", "formatter", "dateTime", "dateTimeAsDate", "dateToNumber", "defaultTimeTickFormat", "ticks", "calculateDefaultTimeTickFormat", "defaultTimeFormat", "updateFormat", "format2", "getLowestGranularityFormat", "startDomain", "endDomain", "startYear", "yearChange", "formatStringBuilder", "firstTick", "lastTick", "extent22", "activeYear", "activeDate", "firstFormat", "lastFormat", "createNumericTicks", "takingValues", "ticks_default", "minCount", "maxCount", "range", "tickStep", "tickMultipliers", "multiplier", "isWithinBounds", "diffCount", "a2", "b2", "singleTickDomain", "roundStart", "roundStop", "end", "fractionalDigits", "isDenseInterval", "availableRange", "_TimeScale", "_TimeScale2", "countableTimeInterval", "tickCount", "targetInterval", "y0", "diff0", "diff1", "t0", "t1", "nice", "minTickCount", "maxTickCount", "ticks2", "absInterval", "reversedInterval", "timeInterval", "tickInterval", "stopDate", "specifier", "n0", "n1", "intervalRange", "TimeScale", "_OrdinalTimeScale", "_OrdinalTimeScale2", "extents", "indexShift", "i2", "nextValue", "e02", "e12", "dateRange2", "middleIndex", "intervalIndex", "dateRange", "medianInterval", "tickPositions", "tick", "tickEvery", "OrdinalTimeScale", "ascendingStringNumberUndefined", "toLiteral", "compoundAscending", "comparator", "idx", "_Group", "_Group2", "zIndexSubOrder", "layersManager", "opacity", "counts", "lastChild", "debug3", "dirty", "dirtyZIndex", "layer", "dirtyTransform", "forceRender", "clipBBox", "resized", "canvasCtxTransform", "isDirty", "isChildDirty", "isChildLayerDirty", "currentBBox", "groupVisible", "hasVirtualChildren", "childRenderContext", "skipped", "Group", "Gradient", "stops", "LinearGradient", "diagonal", "diagonalAngle", "quarteredAngle", "gradient", "LINEAR_GRADIENT_REGEXP", "_Shape", "_Shape2", "defaultStyles", "fill", "linearGradientMatch", "colors", "colorsPart", "colorRegex", "pixelRatio", "alignedStart", "globalAlpha", "fillShadow", "Shape", "Range", "isRange", "fillOpacity", "stroke", "strokeWidth", "startLine", "endLine", "strokeOpacity", "lineDash", "lineDashOffset", "lineCap", "lineJoin", "memorizedFns", "memorizedMap", "memo", "fnGenerator", "serialisedParams", "memoizeFunction", "baseFn", "rest", "ellipsis", "SceneFontChangeDetection", "_Text", "_Text2", "getFont", "lines", "lineHeight", "textBaseline", "textAlign", "line", "metrics", "point", "renderCallback", "lineHeights", "totalHeight", "offsetY", "text", "maxWidth", "maxHeight", "textProps", "wrapping", "overflow", "canOverflow", "measurer", "TextMeasurer", "truncText", "truncated2", "wrappedLines", "cumulativeHeight", "truncated", "wrappedLine", "initialSize", "words", "wrapResult", "linesCount", "balanced", "ln", "word", "firstLineWidth", "hyphens", "isPunctuationAt", "breaks", "partWidth", "limit", "ellipsisMode", "lineWidth", "ellipsisWidth", "trunc", "truncWidth", "fontSize", "breakWord", "hyphenate", "spaceWidth", "wordsBrokenOrTruncated", "linesTruncated", "currentLine", "getReturnValue", "truncateLastLine", "lastLine", "addNewLine", "expectedHeight", "wordWidth", "expectedSpaceWidth", "expectedLineWidth", "availWidth", "totalWordsWidth", "sum2", "totalSpaceWidth", "averageLineWidth", "newLine", "canvasElement", "font", "baselineDistance", "o", "Text", "fontProps", "fontFamily", "fontStyle", "fontWeight", "Label", "calculateLabelRotation", "parallelFlipRotation", "regularFlipRotation", "configuredRotation", "parallelFlipFlag", "regularFlipFlag", "defaultRotation", "getLabelSpacing", "minSpacing", "rotated", "getTextBaseline", "parallel", "labelRotation", "sideFlag", "getTextAlign", "labelAutoRotation", "labelRotated", "labelAutoRotated", "alignFlag", "calculateLabelBBox", "labelX", "labelY", "labelMatrix", "translatedBBox", "Layers", "Layers2", "isStringObject", "isNumberObject", "isContinuous", "checkDatum", "isContinuousScale", "transformIntegratedCategoryValue", "MATCHING_CROSSLINE_TYPE", "validateCrossLineValues", "scale2", "lineCrossLine", "rangeCrossLine", "isContinuous2", "validStart", "validEnd", "horizontalCrosslineTranslationDirections", "verticalCrossLineTranslationDirections", "calculateLabelTranslation", "yDirection", "padding", "crossLineTranslationDirections", "xTranslationDirection", "yTranslationDirection", "xTranslation", "yTranslation", "calculateLabelChartPadding", "chartPadding", "POSITION_TOP_COORDINATES", "xEnd", "yStart", "yEnd", "POSITION_LEFT_COORDINATES", "xStart", "POSITION_RIGHT_COORDINATES", "POSITION_BOTTOM_COORDINATES", "POSITION_INSIDE_COORDINATES", "POSITION_TOP_LEFT_COORDINATES", "POSITION_BOTTOM_LEFT_COORDINATES", "POSITION_TOP_RIGHT_COORDINATES", "POSITION_BOTTOM_RIGHT_COORDINATES", "labelDirectionHandling", "CROSSLINE_LABEL_POSITION", "CartesianCrossLineLabel", "_CartesianCrossLine", "_CartesianCrossLine2", "group2", "labelGroup", "crossLineRange", "crossLineLabel", "visible", "enabled", "reversedAxis", "gridLength", "crossLineBox", "labelBox", "direction", "clippedRange", "ordinalTimeScalePadding", "clampedYStart", "clampedYEnd", "validRange", "label", "tempText", "_h", "labelPadding", "crossLineLabelBBox", "CartesianCrossLine", "ModuleMap", "moduleFactory", "moduleKey", "resetMotion_exports", "resetMotion", "propsFn", "StateMachine", "initialState", "states", "preTransitionCb", "event", "currentStateConfig", "destinationTransition", "destinationState", "group", "content", "optionalGroup", "nonCapturingGroup", "formatRegEx", "align", "zero", "comma", "precision", "tilde", "surroundedRegEx", "prefix", "suffix", "parseFormatter", "surrounded", "match", "trim", "format", "precisionIsNaN", "formatBody", "decimalTypes", "integerTypes", "formatterPrecision", "removeTrailingZeros", "insertSeparator", "addSign", "getSIPrefix", "addPadding", "absFloor", "getSIPrefixPower", "numString", "separator", "dotIndex", "integerChars", "fractionalPart", "siPrefixes", "minSIPrefix", "maxSIPrefix", "minusSign", "num", "signType", "plusSign", "padWidth", "padLeft", "padRight", "tickFormat", "digits", "exp", "_LogScale", "_LogScale2", "p0", "p1", "absDiff", "isBaseInteger", "isDiffLarge", "isPositive", "availableSpacing", "lastTickPosition", "nextMagnitudeTickPosition", "tickPosition", "prevSpacing", "nextSpacing", "fits", "logBase", "LogScale", "Selection", "_Selection", "parentNode", "classOrFactory", "autoCleanup", "garbageCollection", "results", "traverse", "Class", "ExtraClasses", "initializer", "dataMap", "datumId", "newDatum", "iterate2", "entry", "pointsDistanceSquared", "lineDistanceSquared", "best", "ix", "iy", "arcDistanceSquared", "counterClockwise", "startX", "startY", "endX", "endY", "distToArc", "Line", "px", "py", "devicePixelRatio", "circleRectOverlap", "unitCenter", "edgeX", "edgeY", "rectRectOverlap", "w2", "h2", "xOverlap", "yOverlap", "rectContainsRect", "r2x", "r2y", "r2w", "r2h", "isPointLabelDatum", "labelPlacements", "placeLabels", "bounds", "labels", "marker", "placement", "dataDatums", "dataDatum", "l2", "l3", "axisLabelsOverlap", "areArrayItemsStrictlyEqual", "arrA", "arrB", "areArrayNumbersEqual", "ProxyProperty", "proxyPath", "ProxyOnWrite", "proxyProperty", "ProxyPropertyOnWrite", "childName", "childProperty", "ActionOnSet", "newValueFn", "oldValueFn", "changeValueFn", "ObserveChanges", "setAttribute", "qualifiedName", "calculatePlacement", "naturalWidth", "naturalHeight", "containerWidth", "containerHeight", "DEFAULT_TOOLTIP_CLASS", "DEFAULT_TOOLTIP_DARK_CLASS", "EMPTY_TOOLTIP_CONTENT", "toAccessibleText", "inputHtml", "lineConverter", "_match", "toTooltipHtml", "title", "backgroundColor", "titleHtml", "titleAria", "contentHtml", "TooltipPosition", "Tooltip", "canvasRect", "meta", "instantly", "_i", "positionType", "tooltipBounds", "windowBounds", "constrained", "defaultShowArrow", "showArrow", "innerWidth", "innerHeight", "classList", "toggleClass", "include", "wasVisible", "timeSinceLastVisibilityChangeMs", "now", "animatedMoveThresholdMs", "thrashingThresholdMs", "noAnimation", "wrapType", "classListContains", "show", "tooltipWidth", "tooltipHeight", "Caption", "moduleCtx", "regionName", "region", "destroyFns", "wrappedText", "offsetX", "_event", "GRID_STYLE_KEYS", "GRID_STYLE", "AxisGridLine", "AxisLabel", "AxisLine", "AxisTitle", "prepareAxisAnimationContext", "requestedRangeMin", "requestedRangeMax", "fullCircle", "halfCircle", "normaliseEndRotation", "prepareAxisAnimationFunctions", "outOfBounds", "_node", "_datum", "_status", "resetAxisGroupFn", "resetAxisSelectionFn", "rangeVisible", "resetAxisLabelSelectionFn", "resetAxisLineSelectionFn", "_Axis", "_Axis2", "previousSize", "crossLine", "rr", "vr", "span", "shift", "axisNode", "gridNode", "tolerance", "_domain", "defaultLabelFormatter", "continuous", "prevValue", "_primaryTickCount", "animated", "lineData", "tickData", "combinedRotation", "primaryTickCount", "previousTicks", "caption", "titleNode", "titleRotationFlag", "callbackCache", "ticksResult", "lineBox", "tickLineBox", "labelProps", "getTransformBox", "bbox2", "axisRotation", "spacing", "titleBox", "transformedBBox", "anySeriesActive", "secondaryAxis", "initialRotation", "maxIterations", "autoRotation", "labelOverlap", "terminate", "tickStrategies", "strategy", "iteration", "avoidLabelCollisions", "filterTicks", "autoRotate", "strategies", "tickGenerationType", "tickGenerationStrategy", "tickFilterStrategy", "autoWrapStrategy", "autoRotateStrategy", "defaultTickCount", "regenerateTicks", "unchanged", "prevTicks", "rawTicks", "labelCount", "shouldTerminate", "labelData", "labelSpacing", "tickLabel", "labelDatum", "visibleRange", "halfBandwidth", "tickIdCounts", "filteredTicks", "tickId", "keepEvery", "maxSpacing", "minRect", "avoidCollisions", "rangeWithBleed", "defaultMinSpacing", "clampMaxTickCount", "minRectDistance", "visibleScale", "domains", "crossLineGroup", "axisGroup", "gridGroup", "translation", "gridLineGroupSelection", "gridPadding", "defaultMaxWidth", "defaultMaxHeight", "tickDatum", "_titleCaption", "lineNode", "tickLineGroup", "tickLabelGroup", "tickBBox", "tickWidth", "labelFormatter", "boundSeries", "acc", "names", "selectionCtx", "tickLineGroupSelection", "tickLabelGroupSelection", "previous", "added", "removed", "tickMap", "prev", "Axis", "CartesianAxisLabel", "_CartesianAxis", "_CartesianAxis2", "crossLines", "CartesianAxis", "CategoryAxisTick", "CategoryAxis", "uniqueValues", "paddings", "TreeNode", "number", "ticksToTree", "pad2", "root", "depth", "insertTick", "pathParts", "lastPartIndex", "pathPart", "partIndex", "existingNode", "isNotLeaf", "moveSubtree", "wm", "wp", "subtrees", "ratio", "ancestor", "vim", "defaultAncestor", "executeShifts", "change", "apportion", "vop", "vip", "vom", "sip", "sop", "sim", "som", "firstWalk", "midpoint", "leftSibling", "Dimensions", "secondWalk", "layout", "thirdWalk", "leafCount", "treeLayout", "TreeLayout", "shiftX", "shiftY", "flipX", "xSteps", "ySteps", "dimensions", "existingSpacingX", "existingSpacingY", "screenDimensions", "GroupedCategoryAxisLabel", "GroupedCategoryAxis", "gridLineGroup", "tickScale", "isNumericX", "flatDomains", "domain2", "tickLabelLayout", "separatorLayout", "axisLineLayout", "gridLine", "gridSelection", "styleCount", "rangeStart", "rangeEnd", "isHorizontal", "tickTreeLayout", "treeLabels", "isLabelTree", "copyLabelProps", "labelBBoxes", "maxLeafLabelWidth", "setLabelProps", "labelGrid", "separatorData", "isLeaf", "minX", "separatorBoxes", "separatorBox", "axisLineBoxes", "lineCount", "hasConstrainedCanvasMemory", "iPhoneOSMatch", "major", "minor", "_HdpiCanvas", "_HdpiCanvas2", "save", "restore", "HdpiCanvas", "LayersManager", "_LayersManager", "canvas", "markDirty", "getComputedOpacity", "getVisibility", "newLayer", "newZIndex", "newZIndexSubOrder", "debugStats", "debugSplitTimes", "renderCtxStats", "extraDebugStats", "layersRendered", "layersSkipped", "nodesRendered", "nodesSkipped", "durations", "splits", "time", "extras", "detailedStats", "pct", "statsSize", "accumulate", "stat", "debugSceneNodeHighlight", "debugNodes", "buildTree", "childTree", "treeNodeName", "childNode", "virtualParent", "selectedKey", "buildDirtyTree", "childrenDirtyTree", "paths", "rendered", "total", "Scene", "fileFormat", "pendingSize", "renderStartTime", "canvasCleared", "dirtyTree", "layerRenderStart", "icons_default", "reset_default", "theme_default_default", "theme_default_dark_default", "styles_default", "sleep", "sleepTimeoutMs", "Mutex", "cb", "done", "Observable", "eventType", "listener", "eventTypeListeners", "Padding", "debouncedAnimationFrame", "buildScheduler", "innerCb", "_delayMs", "debouncedCallback", "delayMs", "scheduleFn", "scheduleCount", "promiseRunning", "awaitingPromise", "awaitingDone", "busy", "scheduleCb", "maybePromise", "SizeMonitor", "entries", "contentRect", "CallbackCache", "paramCache", "invoke", "AnnotationManager", "annotationRoot", "Listeners", "handler", "eventSymbol", "listeners", "matchIndex", "wrapFn", "DataService", "dataSourceCallback", "requestThrottle", "dispatchThrottle", "response", "requestIndex", "rid", "AnimationBatch", "maxAnimationTime", "animation", "deltaTime", "unusedTime", "refresh", "phase2", "phaseControllers", "phaseMeta", "arePhasesComplete", "progressPhase", "phaseDeltaTime", "skipPhase", "completeCount", "controller", "skipAll", "BaseManager", "listenerSymbol", "buildConsumable", "builtEvent", "buildConsumptionHandler", "dispatchTypedConsumable", "POINTER_INTERACTION_TYPES", "FOCUS_INTERACTION_TYPES", "KEY_INTERACTION_TYPES", "WINDOW_EVENT_HANDLERS", "EVENT_HANDLERS", "CSS", "InteractionState", "InteractionState2", "_InteractionManager", "_InteractionManager2", "keyboardOptions", "triggeringStates", "state", "coords", "dragStart", "mouseButtonDown", "lastTouch", "clientX", "clientY", "pageX", "pageY", "offsets", "offsetDragStart", "offsetEvent", "rect", "pageRect", "deltaX", "deltaY", "factor", "pointerHistory", "InteractionManager", "validAnimationDuration", "testee", "AnimationManager", "interactionManager", "chartUpdateMutex", "batch", "_animation", "_defaultDuration", "prevTime", "onAnimationFrame", "executeAnimationFrame", "cancelAnimation", "skipAnimations", "AriaAnnouncementService", "_AriaAnnouncementService", "ChartEventManager", "itemId", "legendItemName", "numVisibleItems", "axisId", "ContextMenuRegistry", "action", "actionId", "StateTracker", "defaultState", "CursorManager", "callerId", "distanceSquared", "finger1", "finger2", "distance", "MIN_DISTANCE_TO_START_PINCH", "GestureDetector", "moveEvent", "touches", "deltaDistance", "origin", "newEvent", "pinch", "pinchTouches", "touch1", "touch2", "newDistance", "HighlightManager", "highlightedDatum", "previousHighlight", "clickableDatum", "focusStyles_exports", "block", "css", "elements", "modifiers", "KeyNavManager", "interactionEvent", "REGION_TAB_ORDERING", "RegionListeners", "RegionManager", "eventName", "block3", "modifiers3", "bboxprovider", "extraProviders", "matches", "_name", "provider", "ObservableRegionImplementation", "targetRegion", "historyEvent", "historyRegion", "currentRegion", "newRegion", "matchingRegions", "tabIndex", "sourceEvent", "startEvent", "focusedRegion", "currentIndex", "newIndex", "newTabIndex", "blurEvent", "ToolbarManager", "defaultTooltipCss", "TooltipManager", "tooltip", "observer", "renderInstantly", "refPoint", "LayoutService", "stage", "SeriesStateManager", "seriesGrouping", "visibleGroupsSet", "visibleSameStackSet", "visibleGroups", "ChartUpdateType", "ChartUpdateType2", "UpdateService", "updateCallback", "rects", "ChartContext", "chart", "vars", "scene", "syncManager", "updateMutex", "ChartHighlight", "DiscreteDomain", "_DiscreteDomain", "ContinuousDomain", "_ContinuousDomain", "toKeyString", "round2", "fixNumericExtentInternal", "fixNumericExtent", "fixedExtent", "paddingMin", "paddingMax", "getMissCount", "scopeProvider", "missMap", "INVALID_VALUE", "DataModel", "mode", "verifyMatchGroupId", "matchGroupIds", "matchGroupId", "scope", "searchId", "searchIds", "defs", "processedData", "groupByKeys", "groupByFn", "aggregates", "groupProcessors", "reducers", "processors", "propertyProcessors", "missCount", "scopeHint", "logProcessedData", "ids", "scopes", "noScopesToMatch", "propId", "hasMatchingScopeId", "dataDomain", "processValue", "allScopesHaveSameDefs", "sourcesById", "keyDefs", "valueDefs", "resultData", "resultDataIdx", "partialValidDataCount", "datumIdx", "sourceDatums", "validScopes", "keyIdx", "valueDefIdx", "valueDatum", "propertyDomain", "defDomain", "groupingFn", "dataEntry", "groupStr", "existingData", "resultGroups", "dataIndex", "isUngrouped", "indices", "groupAggValues", "distinctValues", "valuesToAgg", "valueIdx", "valuesAgg", "finalValues", "affectedIndices", "updatedDomains", "groupProcessorIndices", "groupProcessorInitFns", "processor", "isDiscrete", "updateDomains", "valueIndex", "valueIndexes", "adjustFn", "adjust", "reducer", "accValue", "valueDef", "processorFns", "initDataDomain", "accessors", "previousDatum", "valueInDatum", "missingValueDef", "fnBody", "logValues", "flattenedValues", "aggValues", "skipKeys", "skipAggValues", "_DataController", "_DataController2", "merged", "needsValueExtraction", "resolves", "dataModel", "requestIdx", "validRequests", "restRequests", "extractDatum", "extracted", "otherId", "extractValues", "requested", "request", "requests", "_c2", "existing", "fromMap", "toMap", "DataController", "_SyncManager", "_SyncManager2", "syncGroup", "SyncManager", "ZoomManager", "zoomManagers", "AxisZoomManager", "newZoom", "canChangeInitial", "rejectCallback", "stateId", "prevZoom", "Keyboard", "makeKeyboardPointerEvent", "regionManager", "CARTESIAN_AXIS_POSITIONS", "CARTESIAN_AXIS_TYPES", "hasCartesianAxisPosition", "isCartesianAxisOptions", "isAxisPosition", "AxisPositionGuesser", "invalid", "takenPosition", "guesses", "invalidAxis", "nextGuess", "MATCHING_KEYS", "matchSeriesOptions", "optSeries", "oldOptsSeries", "generateKey", "seriesMap", "optsMap", "changes", "targetIdx", "optArray", "seriesArray", "outputSeries", "outputIdx", "previousOpts", "ModulesManager", "moduleInstance", "DEFAULT_OVERLAY_CLASS", "DEFAULT_OVERLAY_DARK_CLASS", "Overlay", "defaultText", "htmlContent", "ChartOverlays", "overlay", "defaultOverlayCss", "getLoadingSpinner", "defaultDuration", "animationDuration", "background", "animationStyles", "sumValues", "accumulator", "sum", "groupSum", "range2", "groupCount", "groupAverage", "area", "aggFn", "keyRange", "keyWidth", "accumulatedValue", "onlyPositive", "trailingAccumulatedValue", "trailingValue", "SMALLEST_KEY_INTERVAL", "prevX", "smallestSoFar", "nextX", "SORT_DOMAIN_GROUPS", "groups", "normaliseFnBuilder", "normaliseTo", "normalise", "valuesExtent", "valIdx", "normaliseGroupTo", "normalisePropertyFnBuilder", "zeroDomain", "rangeMin", "rangeMax", "normaliseSpan", "pData", "pIdx", "groupValues", "normalisePropertyTo", "animationValidation", "valueKeyIds", "uniqueKeys", "orderedKeys", "valueKeys", "processKey", "keyValues", "keyValue", "buildGroupAccFn", "separateNegative", "currentVal", "accIndex", "buildGroupWindowAccFn", "lastValues", "firstRow", "sumValue", "accumulateGroup", "modeParam", "diff", "previousData", "updateMovedData", "moved", "updated", "prevId", "createDatumId", "extraKeys", "SeriesNodePickMode", "SeriesNodePickMode2", "basicContinuousCheckDatumValidation", "basicDiscreteCheckDatumValidation", "getValidationFn", "scaleType", "getValueType", "keyProperty", "propName", "valueProperty", "rangedValueProperty", "defOpts", "accumulativeValueProperty", "trailingAccumulatedValueProperty", "groupAccumulativeValueProperty", "SeriesNodeEvent", "SeriesGroupingChangedEvent", "oldGrouping", "Series", "seriesOpts", "pickModes", "directionKeys", "directionNames", "contentGroupVirtual", "canHaveAxes", "internalId", "subIndex", "mainAdjust", "resolvedDirection", "addValues", "items", "seriesDomain", "moduleDomains", "dimOpacity", "defaultStrokeWidth", "current", "limitPickModes", "rootGroup", "pickMode", "_point", "_requireCategoryAxis", "defaultFormatter", "defaultStyle", "defaultSize", "markerStyle", "markerNode", "applyTranslation", "activeStyle", "_width", "_height", "newSeriesRect", "seriesRectWidth", "seriesRectHeight", "newNodeDataDependencies", "resize", "newVal", "oldVal", "SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION", "SeriesLayerManager", "seriesRoot", "highlightRoot", "seriesConfig", "seriesRootGroup", "seriesHighlightGroup", "seriesAnnotationGroup", "lookupIndex", "groupInfo", "highlightGroup", "annotationGroup", "leadSeriesConfig", "BaseLayoutProcessor", "chartLike", "layoutService", "shrinkRect", "subtitle", "footnote", "newShrinkRect", "updateCaption", "defaultCaptionHeight", "captionLineHeight", "computeX", "positionTopAndShrinkBBox", "baseY", "bboxHeight", "positionBottomAndShrinkBBox", "DataWindowProcessor", "dataService", "updateService", "zoomManager", "shouldRefresh", "zoom2", "lastZoom", "OverlaysProcessor", "overlays", "isLoading", "hasData", "anySeriesVisible", "seriesRect", "debug", "SeriesArea", "_Chart", "_Chart2", "resources", "_0", "seriesNodeClickEvent", "seriesNodeDoubleClick", "overrideDevicePixelRatio", "All", "seriesRegion", "captionText", "keepTransferableResources", "highlightOnly", "forceNodeDataRefresh", "seriesToUpdate", "newAnimationBatch", "stack", "performUpdateType", "previousSplit", "updateSplits", "splitName", "updateDeferred", "tooltipMeta", "theme", "themeClassNamePrefix", "validThemeClassNames", "themeClassName", "isDark", "checkUpdateType", "backOffMs", "seriesToDestroy", "directionToAxesMap", "directionAxes", "seriesKeys", "newAxis", "autoWidth", "authHeight", "modulePromises", "syncModule", "dataController", "seriesPromises", "legend", "visibleSeries", "warnConflicts", "legendData", "seriesMarkerFills", "seriesTypeMap", "seriesId", "markerFill", "oldRect", "exactMatchOnly", "maxDistance", "reverseSeries", "Default2", "ContextMenu", "datumIndexDelta", "overlayFocus", "focus", "pick", "datumIndex", "keyboardEvent", "html", "redisplay", "lastPick", "hoverRect", "disablePointer", "pixelRange", "isNewDatum", "isPixelRange", "tooltipEnabled", "exactlyMatched", "shouldUpdateTooltip", "nearestNode", "nodeClickRange", "pickedNode", "pastEvent", "historyPoint", "historyNode", "newSeries", "lastSeries", "lastDatum", "timeoutMs", "failOnTimeout", "timeout", "minRects", "maxVisibleWidth", "maxVisibleHeight", "minRect2", "minVisibleRect2", "minVisibleRect", "chartOptions", "oldOpts", "deltaOptions", "completeOptions", "modulesChanged", "seriesStatus", "navigatorModule", "zoomModule", "miniChart", "updateType", "seriesDataUpdate", "legendKeys", "optionsHaveLegend", "legendKey", "otherRefreshUpdate", "oldSeries", "miniChartSeriesStatus", "horizontalAxis", "miniChartOpts", "labelOptions", "intervalOptions", "shouldBeEnabled", "oldOptSeries", "matchResult", "seriesInstances", "dataChanged", "groupingChanged", "isUpdated", "axisDiff", "seriesInstance", "moduleMap", "moduleDef", "moduleOptions", "guesser", "axisOptions", "Chart", "linearRoot", "quadraticRoots", "D", "roots", "t2", "cubicRoots", "Q", "R", "third", "T", "Im", "theta", "thirdA", "twoSqrtQ", "t3", "segmentIntersection", "ax1", "ay1", "ax2", "ay2", "bx1", "by1", "bx2", "by2", "ua", "ub", "cubicSegmentIntersections", "px1", "py1", "px2", "py2", "px3", "py3", "px4", "py4", "intersections", "bx", "bezierCoefficients", "by", "tt", "ttt", "P1", "P2", "P3", "P4", "arcIntersections", "i1x", "i2x", "adjacent", "opposite", "ExtendedPath2D", "radii", "sAngle", "eAngle", "cx1", "cy1", "cx2", "cy2", "trackChanges", "commands", "cn", "ox", "oy", "intersectionCount", "ci", "pi", "nx", "ny", "ScenePathChangeDetection", "Path", "margin", "QuadtreeNearest", "capacity", "maxdepth", "boundary", "QuadtreeNodeNearest", "hitTester", "elem", "arg", "QuadtreeSubdivisions", "nw", "ne", "sw", "se", "QuadtreeNode", "newElem", "halfWidth", "halfHeight", "nwBoundary", "neBoundary", "swBoundary", "seBoundary", "_QuadtreeNodeNearest", "Marker", "center", "moves", "mx", "my", "Circle", "_Cross", "_Cross2", "Cross", "_Diamond", "_Diamond2", "Diamond", "Heart", "degree", "rad", "Pin", "_Plus", "_Plus2", "Plus", "Square", "hs", "Star", "spikes", "innerRadius", "xCoordinate", "yCoordinate", "_Triangle", "_Triangle2", "Triangle", "MARKER_SHAPES", "MARKER_SUPPORTED_SHAPES", "isMarkerShape", "shape", "getMarker", "DataModelSeries", "xScale", "yScale", "isContinuousX", "isContinuousY", "mod2", "validationResults", "derivedSeries", "nodeData", "seriesItemEnabled", "isDatumEnabled", "datumIndex2", "nodeDatum", "SeriesItemHighlightStyle", "SeriesHighlightStyle", "TextHighlightStyle", "HighlightStyle", "SeriesProperties", "DEFAULT_CARTESIAN_DIRECTION_KEYS", "DEFAULT_CARTESIAN_DIRECTION_NAMES", "CartesianSeriesNodeEvent", "nativeEvent", "CartesianSeriesProperties", "CartesianSeries", "pathsPerSeries", "hasMarkers", "hasHighlightedLabels", "pathsZIndexSubOrderOffset", "datumSelectionGarbageCollection", "markerSelectionGarbageCollection", "animationAlwaysUpdateSelections", "animationResetFns", "otherOpts", "previousContextData", "seriesHighlighted", "highlightItems", "animationData", "anySeriesItemEnabled", "animationSkipUpdate", "animationValid", "datumSelection", "labelSelection", "markerSelection", "contextData", "MarkerShape", "superFn", "pathOffset", "highlightedItems", "highlightSelection", "highlightLabelSelection", "animationEnabled", "dataNodeGroup", "markerGroup", "highlightedItem", "labelItems", "ld", "_nodeData", "contextNodeData", "labelsEnabled", "_quadtree", "xAxis", "yAxis", "hitPoint", "closestDatum", "datumX", "datumY", "modPick", "requireCategoryAxis", "directions2", "primaryDirection", "hitPointCoords", "datumPoint", "newMinDistance", "dist", "closestDistanceSquared", "matchedLegendItemName", "dirtyNodeData", "sizeCache", "newSizeCache", "minRectXs", "minRectYs", "midPoint", "zeroX", "widthX", "zeroY", "heightY", "minVisibleRectXs", "minVisibleRectYs", "directions", "_CartesianChart", "_CartesianChart2", "firstSeriesTranslation", "animationRect", "visibility", "clipSeries", "seriesPaddedRect", "inputShrinkRect", "crossLineIds", "axesValid", "axisWidths", "liveAxisWidths", "stableOutputs", "otherAxisWidths", "otherClipSeries", "otherVisibility", "otherW", "ceilValues", "records", "lastPassAxisWidths", "lastPassVisibility", "lastPassClipSeries", "primaryTickCounts", "clipRectPadding", "lastPassSeriesRect", "visited", "newAxisWidths", "paddedBounds", "crossLinePadding", "axisBound", "newClipSeries", "axisThickness", "axisOffset", "side", "paddedRect", "reversedAxes", "dir", "horizontalPadding", "verticalPadding", "totalWidth", "dimension", "compareTo", "addInterAxisPadding", "isCategory", "isLeftRight", "isVertical", "paddedBoundsCoefficient", "CartesianChart", "_AgChartInstanceProxy", "_AgChartInstanceProxy2", "chartProps", "signatureProps", "AgChartInstanceProxy", "LinearScale", "maxAttempts", "prev0", "prev1", "specifiedTicks", "calculateNiceSecondaryAxis", "reverse", "calculateNiceStart", "getTickStep", "segments", "getTicks", "order", "magnitude", "stepPower", "calculateNextNiceStep", "NumberAxisTick", "NumberAxis", "NON_ZERO_NUMBER", "LogAxis", "isInverted", "crossesZero", "hasZeroExtent", "TimeAxisTick", "TimeAxis", "epsilon", "cornerEdges", "leadingEdge", "trailingEdge", "leadingInset", "trailingInset", "cornerRadius", "leadingClipped", "trailingClipped", "leading0", "leading1", "trailing0", "trailing1", "drawCorner", "move", "insetCornerRadiusRect", "cornerRadii", "topLeftCornerRadius", "topRightCornerRadius", "bottomRightCornerRadius", "bottomLeftCornerRadius", "maxVerticalCornerRadius", "maxHorizontalCornerRadius", "borderScale", "drawTopLeftCorner", "drawTopRightCorner", "drawBottomRightCorner", "drawBottomLeftCorner", "topLeftCorner", "topRightCorner", "bottomRightCorner", "bottomLeftCorner", "didMove", "Rect", "borderPath", "crisp", "topLeft", "topRight", "bottomRight", "bottomLeft", "pixelSize", "microPixelEffectOpacity", "lx", "ly", "halfStrokeWidth", "adjustedClipBBox", "hitX", "hitY", "effectiveStrokeWidth", "borderClipPath", "Background", "BackgroundModule", "gridLayout", "orientation", "bboxes", "itemPaddingY", "itemPaddingX", "forceResult", "horizontal", "primary", "secondary", "processedBBoxCount", "rawPages", "unprocessedBBoxes", "processBBoxes", "buildPages", "indexOffset", "startingGuess", "estimateStartingGuess", "guess", "pageIndices", "calculatePage", "primaryCount", "sumSecondary", "currentMaxSecondary", "currentPrimaryIndices", "maxPrimaryValues", "bboxIndex", "primaryValueIdx", "primaryValue", "currentSecondaryDimension", "returnResult", "maxPageWidth", "maxPageHeight", "transpose", "endIndex", "columns", "colIndices", "colBBoxes", "columnHeight", "columnWidth", "pageWidth", "pageHeight", "column", "innerData", "dataIdx", "itemIdx", "primarySum", "MarkerLabel", "xOff", "markerSize", "lineEnd", "markerEnd", "PaginationLabel", "PaginationMarkerStyle", "PaginationMarker", "Pagination", "chartUpdateCallback", "pageUpdateCallback", "cursorManager", "markerPadding", "labelBBox", "currentPage", "pages", "labelNode", "nextButton", "previousButton", "nextButtonDisabled", "previousButtonDisabled", "inactiveStyle", "highlightStyle", "highlightActive", "buttonStyle", "button", "disabled", "totalPages", "zeroPagesToDisplay", "onLastPage", "onFirstPage", "pageNumber", "Marker2", "LegendLabel", "LegendMarker", "LegendLine", "LegendItem", "LegendListeners", "Legend", "page", "animationState", "characterWidths", "cw", "paddingX", "paddingY", "markerShape", "itemLine", "showSeriesStroke", "maxItemWidth", "paddedMarkerWidth", "markerLabel", "markerEnabled", "labelText", "oldSize", "maxCharLength", "ellipsis2", "textChars", "addEllipsis", "truncatedText", "cumulativeWidth", "char", "trackingIndex", "paginationBBox", "paginationVertical", "newCurrentPage", "paginationComponentPadding", "legendItemsWidth", "legendItemsHeight", "paginationX", "paginationY", "lastPassPaginationBBox", "stableOutput", "col", "itemCount", "itemSelection", "visibleStart", "visibleEnd", "columnCount", "rowCount", "itemHeight", "rowSumColumnWidths", "pageIndex", "columnIndex", "rowIndex", "startIndex", "itemMarker", "visibleChildBBoxes", "closestLeftTop", "childBBox", "distX", "distY", "actualBBox", "legendItemClick", "chartService", "highlightManager", "toggleSeriesVisible", "preventHidingAll", "newEnabled", "legendItemDoubleClick", "clickedItem", "toggle", "clickListener", "dblclickListener", "consumeTabStart", "newMode", "pageItemCount", "oldPage", "oldPageItemCount", "pagination", "legendWidth", "legendHeight", "legendBBox", "calculateTranslationPerpendicularDimension", "legendPadding", "legendPositionedBBox", "aspectRatio", "maxCoefficient", "minHeightCoefficient", "minWidthCoefficient", "heightCoefficient", "widthCoefficient", "CommunityLegendModule", "RangeHandle", "minHandle", "maxHandle", "handlePixelAlign", "minHandleX", "maxHandleX", "handleY", "gripLineGap", "gripLineLength", "RangeMask", "maxX", "pixelAlign", "ax", "ay", "axw", "ayh", "RangeSelector", "lOffset", "rOffset", "oldGroup", "newGroup", "Navigator", "dragStates", "navigatorTotalHeight", "mask", "dragging", "minRange", "panStart", "rangeSelector", "warnOnConflict", "NavigatorModule", "singleSeriesPaletteFactory", "takeColors", "markerPaletteFactory", "pathMotion", "addPhaseFn", "updatePhaseFn", "removePhaseFn", "animate", "updateFn", "preInit", "element", "sanitizeHtml", "seriesLabelFadeInAnimation", "labelSelections", "seriesLabelFadeOutAnimation", "resetLabelFn", "ChangeDetectableProperties", "DropShadow", "MARKER_SHAPE", "SeriesMarker", "SeriesTooltipInteraction", "SeriesTooltip", "AreaSeriesProperties", "markerFadeInAnimation", "markerSelections", "markerScaleInAnimation", "markerSwipeScaleInAnimation", "nodeDataDependencies", "seriesWidth", "resetMarkerFn", "resetMarkerPositionFn", "prepareMarkerAnimation", "pairMap", "parentStatus", "readFirstPair", "xValue", "markerStatus", "_marker", "computeMarkerFocusBounds", "pointX", "pointY", "diameter", "minMax", "intersectionOnLine", "targetX", "backfillPathPoint", "process", "processFn", "prevMarkerIdx", "nextMarkerIdx", "toProcess", "backfillPathPointData", "splitMode", "sIdx", "eIdx", "calculatePoint", "xd", "yd", "xr", "yr", "renderPartialPath", "pairData", "ratios", "linePath", "previousTo", "moveToRatio", "midPointX", "midPointY", "pathSwipeInAnimation", "pathFadeInAnimation", "pathFadeOutAnimation", "buildResetPathFn", "updateClipPath", "toFinite", "isContinuousScaling", "scaling", "isCategoryScaling", "areEqual", "areScalingEqual", "scale", "matchingIndex", "scalesChanged", "newData", "oldData", "closeMatch", "an", "bn", "calculateMoveTo", "pairContinuousData", "backfillSplitMode", "toNewScale", "oldDatum", "toOldScale", "resultMap", "pairUp", "resultPoint", "oldIdx", "newIdx", "minFromNode", "maxFromNode", "minToNode", "maxToNode", "fromShifted", "toUnshifted", "NA", "pairCategoryData", "multiDatum", "resultMapSingle", "resultMapMulti", "pointResultMapping", "previousResultPoint", "previousXValue", "addToResultMap", "newPoint", "oldIndex", "isXUnordered", "before", "after", "bXValue", "aXValue", "previousX", "pathPoint", "unordered", "determinePathStatus", "prepareLinePathPropertyAnimation", "visibleToggleMode", "_path", "mixin", "prepareLinePathAnimationFns", "render", "pathProperties", "prepareLinePathAnimation", "isCategoryBased", "wasCategoryBased", "hasMotion", "pathFns", "AreaSeriesTag", "AreaSeriesTag2", "splitFillPoints", "points", "phantomPoints", "prepPoints", "pairFillCategoryData", "oldPoints", "newPoints", "pairOpts", "pairFillContinuousData", "prepareAreaPathAnimation", "prepareMarkerPairs", "prepareFillPairs", "markerPairMap", "fadeMode", "AreaSeries", "stackCount", "xKey", "yKey", "connectMissingData", "normalizedTo", "xScaleType", "yScaleType", "extraProps", "common", "keyDef", "yExtent", "fixedYExtent", "groupedData", "seriesFill", "seriesStroke", "createMovePoint", "plainPoint", "createPathCoordinates", "lastYEnd", "prevYCoordinate", "currYCoordinate", "createMarkerCoordinate", "xDatum", "rawYDatum", "currY", "markerData", "visibleSameStackCount", "fillPoints", "fillPhantomPoints", "strokePoints", "lastXDatum", "lastYDatum", "datumGroup", "datumArray", "valuesArray", "seriesDatum", "dataValues", "yDatum", "yValueCumulative", "yValueStart", "yValueEnd", "yValuePreviousStart", "yValuePreviousEnd", "validPoint", "xValid", "yValid", "prevTop", "prevBottom", "fillData", "fillPath", "lastPoint", "strokeData", "strokePath", "highlighted", "baseStyle", "labelEnabled", "xName", "yName", "yValue", "xString", "yString", "useAreaFill", "update", "AreaSeriesModule", "childrenIter", "addHitTestersToQuadtree", "quadtree", "hitTesters", "findQuadtreeMatch", "AbstractBarSeriesProperties", "AbstractBarSeries", "groupScale", "smallestDataInterval", "seriesStateManager", "xBandWidth", "visibleGroupCount", "BarSeriesLabel", "BarSeriesProperties", "updateRect", "getRectConfig", "isHighlighted", "checkCrisp", "visibleMin", "visibleMax", "isDatumNegative", "collapsedStartingBarPosition", "startingX", "startingY", "getStartingValues", "prevDatum", "midpointStartingBarPosition", "prepareBarAnimationFunctions", "initPos", "isRemoved", "resetBarSelectionsFn", "computeBarFocusBounds", "barGroup", "updateLabelNode", "textNode", "adjustLabelPlacement", "BarSeries", "stackGroupName", "stackGroupTrailingName", "visibleProps", "categoryAxis", "valueAxis", "scalePadding", "keysExtent", "yReversed", "barWidth", "barOffset", "xIndex", "yRawIndex", "yStartIndex", "yEndIndex", "yRangeIndex", "prevY", "yRawValue", "isUpward", "yRange", "barX", "bottomY", "barAlongX", "bboxBottom", "barRect", "labelFontStyle", "labelFontWeight", "labelFontSize", "labelFontFamily", "labelColor", "lengthRatioMultiplier", "stackGroup", "shadow", "itemHighlightStyle", "categoryAlongX", "showInLegend", "annotationSelections", "dataDiff", "datumBox", "BarSeriesModule", "convertColorStringToOklcha", "interpolateOklch", "xH", "yH", "deltaH", "ColorScale", "parsedRange", "BubbleSeriesMarker", "BubbleSeriesLabel", "BubbleSeriesProperties", "BubbleSeriesNodeEvent", "BubbleSeries", "colorScaleType", "sizeScaleType", "sizeKey", "labelKey", "colorDomain", "colorRange", "colorKey", "sizeKeyIdx", "processedSize", "colorKeyIdx", "dataDef", "colorScale", "sizeScale", "sizeName", "labelName", "xDataIdx", "yDataIdx", "sizeDataIdx", "colorDataIdx", "labelDataIdx", "placedLabels", "sizeValue", "BubbleSeriesModule", "HistogramSeriesProperties", "defaultBinCount", "HistogramSeries", "xDomain", "binStarts", "binSize", "firstBinEnd", "expandStartToBin", "binCount", "startGuess", "bins", "areaPlot", "aggregation", "aggProp", "dataSet", "xExtent", "nextBin", "yDomain", "xDomainMin", "xDomainMax", "negativeAgg", "positiveAgg", "frequency", "xMinPx", "xMaxPx", "yZeroPx", "yMaxPx", "selectionDatumLabel", "nodeMidPoint", "yAxisReversed", "isDatumHighlighted", "seriesFillOpacity", "highlightedFill", "highlightFillOpacity", "highlightedStroke", "highlightedDatumStrokeWidth", "aggregatedValue", "HistogramSeriesModule", "LineSeriesProperties", "LineSeries", "xDef", "xIdx", "yIdx", "moveTo", "nextPoint", "_j", "color0", "LineSeriesModule", "ScatterSeriesLabel", "ScatterSeriesProperties", "ScatterSeries", "ScatterSeriesModule", "SectorBox", "_SectorBox", "outerRadius", "isPointInSector", "sector", "lineCollidesSector", "outerStart", "outerEnd", "innerStart", "innerEnd", "boxCollidesSector", "radiiScalingFactor", "sweep", "delta", "clockwiseAngle", "relativeToStartAngle", "clockwiseAngles", "sweepAngle", "arcRadialLineIntersectionAngle", "clipAngle", "sinA", "cosA", "p0x", "p0y", "p1x", "p1y", "tanA", "cotA", "normalisedX", "normalisedY", "p0DotNormalized", "p1DotNormalized", "arcCircleIntersectionAngle", "circleR", "deltaTheta", "Arc", "Sector", "concentricEdgeInset", "clipSector", "clipAngles", "angleSweep", "outerArc", "innerArc", "inner", "innerAngleOffset", "outerAngleOffset", "angleOffset", "arc", "circleClipStart", "circleClipEnd", "theta2", "radialArc", "radialEdgeInset", "startOuterCornerRadius", "endOuterCornerRadius", "startInnerCornerRadius", "endInnerCornerRadius", "fullPie", "hasInnerSweep", "innerAngleExceeded", "radialLength", "maxRadialLength", "initialScalingFactor", "outerScalingFactor", "innerScalingFactor", "maxCombinedRadialLength", "edgesScalingFactor", "startOuterCornerRadiusAngleSweep", "endOuterCornerRadiusAngleSweep", "startOuterCornerRadiusSweep", "endOuterCornerRadiusSweep", "maxStartOuterCornerRadius", "maxEndOuterCornerRadius", "startInnerCornerRadiusAngleSweep", "endInnerCornerRadiusAngleSweep", "outerArcRadius", "outerArcRadiusOffset", "innerArcRadius", "innerArcRadiusOffset", "startOuterArc", "endOuterArc", "endInnerArc", "startInnerArc", "midAngle", "DonutTitle", "DonutInnerLabel", "_reset", "DonutInnerCircle", "DonutSeriesCalloutLabel", "DonutSeriesSectorLabel", "DonutSeriesCalloutLine", "DonutSeriesProperties", "superIsValid", "preparePieSeriesAnimationFunctions", "initialLoad", "rotationDegrees", "scaleFn", "oldScaleFn", "oldScale", "scaleToNewRadius", "scaleToOldRadius", "_sect", "prevLive", "sect", "resetPieSelectionsFn", "pickByMatchingAngle", "sectors", "computeSectorFocusBounds", "pointVars", "rightAngles", "rightAngle", "xs", "ys", "PolarSeries", "useLabelLayer", "_options", "_seriesRect", "_data", "DonutSeriesNodeEvent", "DonutSeries", "pieCalloutLabels", "pieSectorLabels", "innerLabels", "angleKey", "radiusKey", "calloutLabelKey", "sectorLabelKey", "legendItemKey", "extraKeyProps", "radiusScaleType", "angleScaleType", "missing", "angleIdx", "radiusIdx", "calloutLabelIdx", "sectorLabelIdx", "legendItemIdx", "angleScale", "innerRadiusRatio", "currentStart", "angleValue", "radiusValue", "legendItemValue", "sectorFormat", "skipDisabled", "calloutLabelValue", "sectorLabelValue", "calloutLabel", "sectorLabel", "labelFormatterParams", "quadrantTextOpts", "midAngle180", "quadrantStart", "quadrantOffset", "quadrant", "quadrantIndex", "formatIndex", "highlight", "sectorSpacing", "__BACKGROUND_COLOR_DO_NOT_USE", "defaultStroke", "innerRadiusOffset", "outerRadiusRatio", "outerRadiusOffset", "newRange", "titleOffset", "circle", "oldTitle", "calloutLabelSelection", "sectorLabelSelection", "innerLabelsSelection", "innerCircle", "circleRadius", "datums", "isVisible", "updateSectorFn", "_index", "animationDisabled", "calloutLine", "calloutLength", "calloutStrokeWidth", "calloutColors", "paddedLength", "seriesLeft", "seriesRight", "seriesTop", "seriesBottom", "errPx", "visibleTextPart", "hasVerticalOverflow", "textLength", "hasSurroundingSeriesOverflow", "surroundingRadius", "corners", "sur2", "corner", "radiusScale", "shouldSkip", "fullData", "leftLabels", "rightLabels", "topLabels", "bottomLabels", "tempTextNode", "getTextBBox", "labelRadius", "avoidNeighbourYCollision", "avoidYCollisions", "midLabel", "midIndex", "avoidXCollisions", "labelsCollideLabelsByY", "paddedBoxes", "labelsCollideLabelsByX", "labelsCollideSectors", "displayText", "maxCollisionOffset", "textBoxes", "titleCleanArea", "isTooShort", "positionOffset", "positionRatio", "isTextVisible", "sectorBounds", "textBBoxes", "margins", "getMarginTop", "getMarginBottom", "labelsVisible", "textBottoms", "legendItem", "titleText", "labelParts", "datumItemId", "previousRadiusScale", "supportedDiff", "hasKeys", "hasUniqueKeys", "pieTheme", "piePaletteFactory", "colorsCount", "DonutSeriesModule", "PieTitle", "DonutInnerLabel2", "DonutInnerCircle2", "PieSeriesCalloutLabel", "PieSeriesSectorLabel", "PieSeriesCalloutLine", "PieSeriesProperties", "PieSeriesNodeEvent", "PieSeries", "isDonut", "singleVisibleSector", "PieSeriesModule", "TOOLBAR_ALIGNMENTS", "TOOLBAR_GROUPS", "ToolbarPosition", "ToolbarPosition2", "TOOLBAR_POSITIONS", "ToolbarGroupProperties", "onChange", "onButtonsChange", "block2", "elements2", "modifiers2", "css2", "Toolbar", "floatingDetectionRange", "bottomDetectionY", "bottomVisible", "topDetectionY", "topVisible", "relatedTarget", "isButton", "buttons", "toolbar", "pendingButtonToggledEvents", "isGroupVisible", "isButtonVisible", "buttonVisible", "alignmentElement", "DAY", "MONTH", "YEAR", "annotations", "ranges", "_start", "zoom", "ToolbarModule", "registerInbuiltModules", "setupModules", "axisTypeTheme", "innerAxisType", "expectedButUnused", "_HierarchyChart", "_HierarchyChart2", "fullSeriesRect", "HierarchyChart", "PolarAxis", "_PolarChart", "_PolarChart2", "angleAxis", "radiusAxis", "angles", "seriesBox", "polarSeries", "polarAxes", "setSeriesCircle", "pieSeries", "innerRadii", "initialRadius", "shake", "hideWhenNecessary", "labelBoxes", "refined", "labelsBox", "circleLeft", "circleTop", "circleRight", "circleBottom", "padTop", "padBottom", "availCircleWidth", "availCircleHeight", "newRadius", "minHorizontalRadius", "minVerticalRadius", "minRadius", "padHeight", "newWidth", "newHeight", "PolarChart", "radsInDeg", "lonX", "lon", "latY", "lat", "xLon", "yLat", "MercatorScale", "_MercatorScale", "lon0", "lat0", "lon1", "lat1", "isTopologySeries", "_TopologyChart", "_TopologyChart2", "topology", "mapSeries", "combinedBbox", "combined", "viewBoxScale", "viewBoxWidth", "viewBoxHeight", "viewBoxOriginX", "viewBoxOriginY", "xZoom", "yZoom", "xSpan", "ySpan", "seriesVisible", "TopologyChart", "debug2", "chartType", "_AgCharts", "_AgCharts2", "licenseKey", "gridContext", "AgChartsInternal", "_AgChartsInternal", "_AgChartsInternal2", "proxy", "userWindow", "chartRef", "lastUpdateOptions", "cloneProxy", "oldChart", "transferableResource", "ChartConstructor", "integrated_charts_scene_exports", "Arc2", "Image", "LinearGradientFill", "RadialColumnShape", "getRadialColumnWidth", "motion", "newMask", "pixelLength", "maskBbox", "i0", "i1", "rotatePoint", "isBeveled", "axisInnerRadius", "axisOuterRadius", "isRadiusAxisReversed", "isStackBottom", "sideRotation", "pointRotation", "rotate", "getTriangleHypotenuse", "leg", "otherLeg", "getTriangleLeg", "hypotenuse", "compare", "otherValue", "lessThan", "shouldConnectBottomCircle", "hasBottomIntersection", "bottomIntersectionX", "bottomLeftPt", "isEmpty", "hasSideIntersection", "sideIntersectionY", "topIntersectionX", "topLeftPt", "topRightBevelPt", "topRightPt", "bottomRightPt", "rotatedBottomLeftPt", "columnWidthRatio", "maxColumnWidthRatio", "colWidth", "sourceImage", "image", "integrated_charts_theme_exports", "themes2", "themeFactory", "sparklines_scale_exports", "sparklines_util_exports", "zipObject", "zipped", "module_support_exports", "HierarchyNode", "HierarchySeries", "HierarchySeriesProperties", "LonLatBBox", "__FORCE_MODULE_DETECTION2", "convertValuesToScaleByDefs", "_HierarchyNode", "_HierarchyNode2", "colorValue", "sumSize", "childrenKey", "getIndex", "maxDepth", "minColor", "maxColor", "createNode", "appendChildren", "rootNode", "childIndex", "colorName", "defaultTooltipCss2", "extent2", "isNumber2", "isString2", "isStringObject2", "isDate2", "createId2", "Padding2", "LinearScale2", "BandScale2", "TimeScale2", "SparklineAxis", "_Sparkline", "xData", "xMinMax", "oldHighlightedDatum", "yData", "dataType", "xValueType", "xType", "setSmallestXInterval", "curr", "shrunkWidth", "shrunkHeight", "p2", "tooltipOptions", "tooltipRenderer", "tooltipRendererResult", "chartElement", "Sparkline", "toTooltipHtml2", "SparklineTooltip", "_SparklineTooltip", "classes", "tooltipRect", "maxLeft", "containerRect", "getMarker2", "getLineDash", "buttOrNull", "roundOrSquare", "extent3", "BandScale3", "SparklineMarker", "SparklineLine", "SparklineCrosshairs", "AreaSparkline", "yMinMax", "yMin", "yMax", "firstValidX", "lastValidX", "yZero", "xAxisLine", "selectionData", "highlightSize", "highlightFill", "highlightStroke", "highlightStrokeWidth", "markerFormatter", "markerStroke", "markerStrokeWidth", "markerFormat", "first", "last", "areaData", "xCrosshairLine", "xLine", "yCrosshairLine", "yLine", "extent4", "BandScale4", "SparklineMarker2", "SparklineLine2", "SparklineCrosshairs2", "LineSparkline", "Label2", "extent5", "BarColumnLabel", "BarColumnSparkline", "gaps", "valueAxisDomain", "nodeFormatter", "nodeFill", "nodeStroke", "nodeStrokeWidth", "nodeFormat", "isNumber3", "BandScale5", "BarSparkline", "axisLine", "labelPlacement", "invalidDatum", "labelTextBaseline", "labelTextAlign", "isPositiveY", "textWidth", "positiveBoundary", "negativeBoundary", "isNumber4", "BandScale6", "ColumnSparkline", "textHeight", "isNumber5", "AgSparkline", "sparkline", "getSparklineInstance", "initSparkline", "initSparklineByType", "initBarColumnSparkline", "initAreaSparkline", "initLineSparkline", "setValueIfPropertyExists", "initPaddingOptions", "initAxisOptions", "initHighlightStyleOptions", "initMarkerOptions", "initLineOptions", "initCrosshairsOptions", "initLabelOptions", "initCrosshairLineOptions", "doOnceFlags", "doOnce2", "offsetValidator", "defaultOffset", "validators", "validator", "_SparklineCellRenderer", "firstTimeIn", "updateSparkline", "clientWidth", "clientHeight", "unsubscribeFromResize", "SparklineCellRenderer", "Bean", "BeanStub", "PostConstruct", "PreDestroy", "SparklineTooltipSingleton", "VERSION", "SparklinesModule"]
}
